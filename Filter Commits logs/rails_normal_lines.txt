Add MDN links for security headers [ci-skip]
Use yaml code fence [ci-skip]
Add *_check_constraint actions to Migrations guide [ci-skip]
Elaborate doc for attribute read and write methods [ci-skip]
Clarify numeric casting behavior for blank strings [ci-skip]
Update ActionController::UrlFor request contract [ci-skip]
Tweak AD::Http::FilterParameters code example [ci-skip]
Replace ActionController::UrlFor references [ci-skip]
Document ActiveModel::Type::Time as time of day [ci-skip]
Remove unnecessary link markup [ci-skip]
Auto-link code references [ci-skip]
Format inline code [ci-skip]
refactor ParameterEncodingTest and add test for param_encoding
Enable `Lint/DuplicateMagicComment` cop
Bump error_highlight 0.5.1 or higher
Initialize encrypted attributes when using `ActiveRecord::Relation#first_or_initialize`/`first_or_create`
Update association preload doc [skip ci]
Add filtering of encrypted attributes in #inspect
Replace hardcoded edge links in guides
Update active_record_basics.md
Allow unscoping of preload and eager_load associations
Update ActiveRecord::QueryMethods#in_order_of example [ci-skip] Replace ORDER BY FIELD example with ORDER BY CASE ORDER BY FIELD was MYSQL specific, which was replaced with default ORDER BY CASE in https://github.com/rails/rails/pull/45670
Add Bundler helper for AppGeneratorTest
Use dedicated deprecator in deprecation example [ci-skip]
Previews paths should not be eager loaded
Improve layout of Sprockets 3 & 4 manifest documentation [ci-skip]
Update deprecation-related config descriptions [ci-skip]
Improve the MissingExactTemplate errorpage
Update ActiveRecord::Associations::CollectionProxy#== documentation
Check for transaction  before invalidating the state
Add missing require to `railties/lib/rails/generators/testing/behavior.rb`
Use filename when printing pending migrations
Add missing assert_not_deprecated deprecator args
Rails Guides - set "cursor: pointer" and on hover "color: #005cc5" css to copy code button [ci-skip]
Reintegrate AS::ParameterFilter::CompiledFilter
Track parent key as string in ParameterFilter
Lock error_highlight version to 0.4.0
Correct missing template error page - Correct controller path "app/controller/books_controller.rb" to "app/controllers/books_controller.rb" - Add space after "NOTE:"
Add :touch to has_one options in documentation
Make error highlight readable on dark mode
Improve Parametric Scopes documentation
Ensure pipe is closed after test run
Add Rails.deprecator
Call pending_migrations once
Change from escapeHTML() to html_escape()
Add link to Rollback in transactions doc.
Update docs for ActiveRecord::AttributeMethods#[]=
Clear locking column on #dup
Invalidate transaction as early as possible
`ActiveRecord::Persistence#reload` respects `query_constraints` config
Add ActiveModel.deprecator
Add ActionText.deprecator
Add ActionMailbox.deprecator
Add ActionCable.deprecator
Add frozen? to the dangerous method list
Allow specifying columns to use in `ActiveRecord::Base` object queries
Add API documentation for Routing#draw
Add ActiveStorage.deprecator
Add ActiveJob.deprecator
Add assertion helpers to PendingMigrationsTest
Add ActionView.deprecator
Improve singular association creation
Add ActionMailer.deprecator
Map through subtype in PostgreSQL::OID::Array
Add ActionDispatch.deprecator
Add {Abstract,Action}Controller.deprecator
Only ask people to run migration in a environment in non-development environments
Add missing defaults to new_framework_defaults
Add load_defaults doc for query_log_tags_format
Don't remove duplicates from args array
adjusted redis version in Gemfile Entry
Clarify missing template error page
Adds validate to foreign keys and check constraints in schema.rb
Add ActiveSupport.deprecator
Add ActiveRecord.deprecator
Add multi-db support for db:version tasks
fix typo in pull request template [ci-skip]
Point 'Canberra' time zone mapping to Australia/Canberra'
Improve `test_destroy_linked_models` by adding two assertions
Allow adapter #execute methods to take allow_retry option
Add deprecator-only overload for assert_deprecated
Apply config to Rails.application.deprecators
:golf:
Clarify ActiveRecord changelog for SQLCommenter
PR template: note about auto-closing issue
MemoryStore: preserve entry ttl when incrementing
Do not trigger `after_commit :destroy` callback again on destroy if record previously was destroyed
Support `checked` as a keyword argument in `check_box_tag` and `radio_button_tag`
Allow ErrorReporter to handle several error classes
Add preview to `ActiveStorage::LogSubscriber`
Avoid value_for_database if attribute not updated
Skip validation options for `change_*` in old migrations
Add read_attribute_for_database
Avoid encrypt + decrypt on attribute assignment
Expose the request.parameter_filter
Make PR template less onerous
Deprecate delegation to connection handler from Base
Cleanup check pending
Remove extra establish connection in pending migrations
Capitalize headings to match style guidelines
Update documentation of length validation
Allow ActiveRecord::QueryMethods#reselect to accept a hash
Migrate Rails Guides from `Turbolinks` to `Turbo`
fix: Ensure `ActiveJob::TestHelper` sets `scheduled_at` to a `Float`
Avoid double cast in types that only override cast
Avoid unnecessary serialize calls after save
Bump Puma to v6.0.0
ActiveJob: Add parent option to Active Job guides [ci-skip]
adds documentation for flag --primary-key-type=uuid passed to Rails model generator
Minor cleanup from #46097
Correct errors in docs
Add support for bulk change_table revert
Scaffold destroy action returns status code 303
loading_test should not override database to :memory:
Remove Calculations#count doc example with 0
Update i18n.md with some wording fixes Co-authored-by: Jonathan Hefner <jonathan@hefner.pro>
use oxford comma [skip ci]
Update document of Range#to_s
Remove extra advisory lock connection
set `keep_script_lines` in development
Remove all non word characters from screenshot filenames
Better fix for the redefinition warning in Active Record Rakefile
Validate options when managing columns and tables in migration
Enable verbose mode in test and report warnings as errors
Update CHANGELOG with PR #45427 changes (#46215)
Add pre-defined variant examples
Remove unused constant
rubocop ðŸ˜©
move ERB monkey patches to their own file
rubocop
Stop using a global for storing template info
Use file path as the error lookup key
Add tests that column information can be translated
Move ERB parsing to core_ext
Don't use pattern matching because it's causing warnings
rubocop
remove sentinel object
Map column information in to ERB templates
Ask backtrace locations for their spot information
Only deal with backtrace locations in ExceptionWrapper
Use a SyntaxError proxy object when displaying syntax error info
only wrap exception once
Wrapping the cause should do the "SyntaxError" magic
stop exposing the exception class
make the exceptiom method private so we can catch callers
Start hiding the exception object from the views
Improve ActiveRecord::QueryMethods.readonly doc [skip ci]
remove redis reconnect attempts
Add Rails.application.deprecators
Align `case` / `when` indentation for Rubocop
Remove complexity from the custom query logs
Remove uncessary Factory object
No need to call `present?` for this config
Deprecate obsolete permissions policy directives
Add missing middleware methods to guide
Add style-src to nonce_directives in sample csp.rb to be compatible with turbo or default rails new
Allow direct uploads to work within engines
Set active_record.query_log_tags_format defaults
Always run `rails app:update` in app update tests
Address `warning: mismatched indentations` at test_factory_invalid_formatter
Namespace keys in EncodedKeyCacheBehavior test
Remove private `transaction(joinable:)` parameter from RDoc
DescendantsTracker: fix a method redefinition warning
Avoid uninitialized variable warnings on Ruby 2.7
Remove duplicate frozen_string_literal comment
Use `adapter_class` instead of `connection_class` for adapters
Add precision assignment back to timestamps method
Use ActiveSupport::ConfigurationFile in load_database_yaml
Move dbconsole logic to Active Record connection adapter.
Move CHANGELOG entry for #44179 to railties [ci-skip]
Avoid double type cast when serializing attributes
Use actual object instead of Minitest::Mock
Filter reloaded classes in Class#subclasses and Class#descendants core exts
Add sqlcommenter formatting support on query logs
Facilitate use of any regular ERB in database.yml
`Rails.error.report` now marks errors as reported to avoid reporting them twice
Keep assert_redirected_to backwards compatible
Add assert_redirected_to test with custom message
Do not preserve original column collation in `change_column` for older migrations
Keep rescue template paths in an array
Always provide a fallback renderer for Action Text
Improve error-reporting guide
Add table to error for duplicate column definitions
Remove duplicate datetime precision default
Make app_name consistent between new and update
Add test for existing virtual datetime precision
Add Rails.application.message_verifiers
Use connection from `#with_raw_connection` in `#quote_string`.
Add `expires_at` option to `signed_id`
Take into account timeout limit when retrying queries
Updates for Puma 6
Use explicit deprecator in wrappers tests
ActiveSupport::Reloader should not report exception
Do not write unchanged value to ActiveRecord::Store
Enable Minitest/SkipEnsure
Ignore qunit for spelling check
Communicate minimum Sidekiq version in its adapter
Typo in error_reporting guide [ci-skip]
Allow passing a class to `dom_id`
Use `system(.., exception: true)` for dummy apps
Do not run tests that have `ensure` instead of `skip`
Use a higher-level Sidekiq API for ActiveJob
upgrade to QUnit 2 for ujs tests
Register autoload for `ActiveRecord::LogSubscriber`
Don't delegate tasks to ActiveRecord::Base
Allow specifying the HTTP status code in assert_redirected_to
Updating the `ActiveRecord::Store` and changing it back should not mark accessor as changed
Dup and freeze complex types when making query attributes
Adds test case for query cache false positive bug
Improve error messages on bin/setup
Use `sslmode` option instead of `ssl_mode` for MySQL command connections
Add CHANGELOG entry for #45738 [ci-skip] (#46056)
Tiny copy fix in CHANGELOGs [ci-skip]
Improve warning when db is missing
Added status in API documentation for ActionController::Renderer#render
Add `assert_error_reported` and `assert_no_error_reported`
Pass deprecator to AS::Deprecation callbacks
Add puma app server to Gemfile in order to start test/dummy (#45950)
Add ssl-mode option to dbconsole command and MySQLDatabaseTasks
Drop Rubinius code
Add link to 7.1 release notes in upgrade guide
Add link to 7.0 release notes in upgrade guide
Switch back to capture in AS::Deprecation tests
Prefer capture_io in AS::Deprecation tests
Derive arity of AS::Deprecation behavior callbacks
Test more AS::Deprecation behavior callbacks
Remove redundant `ELSE` branch from the `ActiveRecord::Base.in_order_of` SQL query
Add ability to handle reconnects with the `connected()` callback
ErrorReporter: allow to unsubscribe
Update guides on secuity page for sql injection sample code [ci-skip]
Changed ActionController to AbstractController
Use explicit deprecator in AS::Deprecation tests
Clarify --edge points to latest stable branch of rails
Simpler Railtie subscribe in `error_reporting.md`
Bundler should use platform :windows instead of :mingw, :mswin, :x64_mingw, :mswin64. This is a recently added feature to bundler/rubygems in v3.3.22.
Use explicit deprecator in AS::Deprecation tests
Test AS::Deprecation :log behavior
Use declarative syntax for AS::Deprecation tests
Remove redundant AS::Deprecation tests
Clarifications for the Plugins Rails Guide
Minor refactoring to schema migration and internal metadata
Remove QueAdapter from Active Job
Move InternalMetadata to an independent object
Apply suggestions from code review
Clean up deprecation tests
Allow empty callstack in AS::Deprecation#warn
Use explicit deprecator in AS::Deprecation tests
Add a new guide page for error reporting
Rescue Rack::QueryParser::ParamsTooDeepError in HTTP request. - render HTTP 400 - needs Rack 2.2.4+
Ruby 3.2 `FileUtils.rm_f` raises `Errno::EISDIR` to remove directories
Add italic and underline support to `ActiveSupport::LogSubscriber#color`
fix remaining asserts that should be assert_equal
Remove CHANGELOG entry for change only existing in main
Use devcontainer features to install github CLI (#45990)
Improve plugin generator docs
Remove unnecessary gitignore entry
Corrected hyperlink address in help manual -h, -c option by removing the unnecessary bracket. (#45989)
Require used model to fix isolated tests
Added ability to download `.eml` file for the email preview.
Copy-edit 8e65c22
Add more instructions to RELEASING_RAILS
Recommend mandatory STARTTLS for Google (#43594)
Extract annotations using a parser for Ruby files
improve "in_order_of" to allow string column name
Improve app generator docs
Default prepared_statements to false for mysql2 adapter
Mysql2Adapter remove reference to closed connection
Support prerelease rubies in Gemfile template
replace hardcoded ImageMagick with generic 'variant processor'
Round server timing to two decimal places
Don't measure server timing for "!" topics
Add :locals to ActionView rendering instrumentation
Delegate application record generator description to orm hooked generator.
Add regression test for broken filter
Revert "Replace `method_source` gem with stdlib equivalent"
Add String#downcase_first method
Move SchemaMigration to an independent object
Add ability to run only before/around/after callbacks in run_callbacks
Reduce allocations of pool_configs
Enable `Minitest/AssertRaisesWithRegexpArgument` cop
Enable `Minitest/AssertRaisesWithRegexpArgument` cop
Show BCC recipients in mailer preview
Make contributing guide consistent about bug fixes
ActionDispatch::Cookies json deserializer discards marshal dumps
Make connection_pool_list take an explicit argument
Make ActionView::PathSet immutable
Update redis and resque
View path strict type casting
Improve word_wrap performance
Clarify description of --api option
Clarify description of --force-plural option
Expand word_wrap test coverage
Chomp the break_sequence in word_wrap
Remove obsolete word_wrap test
Documented the options available for image processing
Speed up arel visitor dispatch
Do not mutate relation when implicitly selecting a primary key in `ActiveRecord.find`
Allow AR::QueryMethods#select to accept a hash
Add missing documentation for Rails.error
Avoid using `render(...) and return` in example code
Freeze thread_mattr_accessor default values
Formatting typo
Support thread_mattr_accessor in anonymous classes
Avoid using Module#<= in value_for
Update stackprof
update migration version from 5.2 to 7.0
Add :request to redirect.action_dispatch payload
Address `NameError: uninitialized constant ActiveSupport::ErrorReporter::TestHelper`
Lock redis version to v4 until #45913 is resolved
Clarify use of #update_all
Update changelog linter
[ActiveStorage] Return "Range Not Satisfiable" return code for partial downloads with incorrect range
Add raise_on_invalid_cache_expiration_time config to ActiveSupport::Cache::Store
Docs: Example should append to ignored_columns
Replace `method_source` gem with stdlib equivalent
Pass options accessor to Cache#fetch block
Lock que version to v1 until #45899 is resolved
Revert "Remove `Rails::Application` `assets` accessor"
Add redirect.action_dispatch to Action Dispatch
Update `rubocop-performance` and enable more performance-related cops
Add exclude? method to ActionController::Parameters
prevent leaking sensitive payload
Extend `routes --grep` to also filter routes by matching against path
Extend dangerous attribute methods with dangerous methods from Object
Normalize virtual attributes on `ActiveRecord::Persistence#becomes`
Use #to_hash to serialize AS::HWIA & Hash for stored attributes
Update activesupport/lib/active_support/test_case.rb
Stop gap solution for long output on test cases
Remove Rails::Application#assets accessor
Clarify `composed_of` allows a Hash for `mapping`
Use error_highlight gem to locate the columns where an error was raised
Better rails runner output for missing files
Correct the web socket url when creating consumer
Clean up schema load tasks
Remove unnecessary class_eval from log_subscriber.rb
RedisCacheStore: don't pass url if it's nil
RedisCacheStore: update test suite for redis-rb 5.0
Action Cable redis-rb 5+ compatibility
Refactor Action Cable's Redis adapter to isolate the layer breach
Require redis 4+ in Action Cable
Stop testing hiredis
Move InternalMetadata to migration context
Add binary column default value support to sqlite
Do not return CSP headers for 304 Not Modified responses
Replace MutexHook by MonitorHook to allow reentrancy
Avoid calling present? on @strict_locals
Reuse strict locals templates for any locals
Log a warning if ActiveSupport::Cache is given an expiration in the past
`xml_name_escape`: Optimize the common case
Install specific version of codespell
Use Time instead of Date for comparison
Reference consistency check correction (#45840)
Update activerecord/lib/active_record/nested_attributes.rb
Add description of breaking changes and the deprecation cycle to guides.
Add CHANGELOG entry for #45670 [ci-skip]
Define and raise error if `legacy_connection_handling=` is called from an app
Reduce Striing allocations in `xml_name_escape`
Rescue EOFError error from rack on a multipart request
Nested attribute docs improvements
Mention associations in Form Helpers guide [ci-skip]
Optimize AS::LogSubscriber
Run DROP DEFAULT for NULL value; Add text type checks
Optimize add_timestamps to use a single SQL statement
Make `check_constraint_exists?` public
Enable `Style/RedundantCondition` cop
Improve ActiveSupport::ErrorReporter API doc [ci-skip]
Update ErrorSubscriber signature
Expose #schema_creation methods
Improve use_big_decimal_serializer documentation
Log redirects from router similarly to controller redirects
Docs: Update belongs_to [:default] option section
Ensure collation is set to database default when changing column
Allow Engine url_helpers to respect config.relative_url_root
Improvements to `assert_enqueued_email_with` (#45752)
Don't store ddl on schema definitions
Add ActionView::OutputBuffer#concat back
Correct the description for reject_unauthorized_connection
Add missing and fix incorrect version defaults
Remove incorrect 7.0 framework default
Order versioned defaults doc alphabetically
Support schemas in Postgresql `enum_types`
Reorganize "Cache Stores" sections [ci-skip]
Rely on API docs for AS::Cache::Store options docs [ci-skip]
Document AS::Cache::MemCacheStore#write options [ci-skip]
Document AS::Cache::Store#initialize options [ci-skip]
Document AS::Cache::Store#read options [ci-skip]
Rewrite AS::Cache::Store#fetch options doc as list [ci-skip]
Consolidate AS::Cache::Store#write documentation [ci-skip]
Improve rescue_from example [ci-skip]
Standardize format of "Options" subsections [ci-skip]
Format inline code [ci-skip]
Linkify code references [ci-skip]
Link to API docs [ci-skip]
Remove unnecessary "NOTE:" callouts [ci-skip]
Add backticks [ci-skip]
Use relative URLs for intra-guide links [ci-skip]
Use versioned URLs for specific guide versions [ci-skip]
Ensure drop_enum is always reversible
Only setup shared pools if we have a connection
Update docs for `.unscoped` to be explicit about associations
[ci skip] adding basic create_enum and drop_enum in CommandRecorder documentations
Replaces mobi guide with epub for docs because of discontinued support
Refactor changes in #44931 and add a test
Improve #configured_migrate_path logic (#44931)
Use tap in conditionally-required password example [ci-skip]
Deprecate quoting ActiveSupport::Duration as an integer
make sure rendering the content attachment actually works
Improve failure safety for `RedisCacheStore#delete_multi`
Add `drop_enum` command for Postgres
Avoid calling to_s at end of ERB
Add example of conditionally requiring a password [ci-skip]
Define #build_change_column_definition for MySQL and PG
Add support for `if_exists` option when removing a check constraint
Revert "Allow passing hash on secure password validations"
Use SET DEFAULT when changing a column default in MySQL
linter appeasement
Refactor Action View tests to stop re-assigning @output_buffer
Add missing Versioning header in maintenance policy guide
Add OutputBuffer#raw and #capture to reduce the need to swap the buffer
Refactor form_for tests to stop re-assigning @output_buffer
Preserve collaction when changing column in MySQL
Avoid explictly freezing literals strings when possible
Raise when defining an enum not backed by a database column
Add `routes --unused` option to detect extraneous routes.
ContentAttachment is an internal API; let's indicate that with :nodoc:
update CHANGELOG
update ContentAttachment so that it works with "content" attributes
Remove remnants from Editor command helper module
Accept empty list of attributes for `insert_all`, `insert_all!` and `upsert_all`
find_or_create_by: handle race condition by finding again
Rename 'Explicit Locals` to `Strict Locals`
Allow templates to define which locals they accept.
Optimize increment and decrement for `RedisCacheStore`
Refactor ExtendedDeterministicQueries to not mutate the arguments
RedisCacheStore: get rid of the Redis::Distributed check
RedisCacheStore: avoid monkey patching redis
RedisCacheStore: remove unused mget_capable? flag
TaggedLogging preserves formatter methods
Consistently format commands in help messages
Set collation for postgresql test DBs.
Store previous verbose setting before it can fail in tests.
Support explicit schemas in PostgreSQL's `create_enum`
Remove resolved debugger caveat (#45704)
Support spaces in file path when invoking editor
Teach ActiveJob to set configs on itself
Document where custom autoloading inflections should go
Prevent "saved" message when edit command aborted
Add changelog entries for #44576 and #44591
Avoid dynamic constant get on SET.symbols
Don't expect rollback to cause a reconnect
Be a bit clearer in the new-adapter-API argument error
Drop default retry count to 1
We're still inside the transaction until the ROLLBACK has run
Non-retryable exceptions also break connection verification
Configure legacy-API-supplied connection before first use
Ensure a lost connection upon COMMIT fails "cleanly"
Simplify adapter construction; defer connect until first use
fixed the delete comment guide and added missing unless statement
Save encrypted config even if YAML is invalid
Define #build_change_column_definition on connection adapters
Extract build_create_join_table_definition
Extract #build_add_column_definition
Extract #build_create_index_definition
Always use an actual Action View buffer to render templates
Get rid of Erubi#evaluate
Add linter for CHANGELOG formatting
Generate master.key even when require_master_key
Add missing test ensuring no subqueries for whole table batching
Allow base for Table schema definition to be injected into #change_table
Show default parent classes for generators in help texts
Add new tests for deferred connection verification and auto-reconnect
Refactor EncryptedCommand a la CredentialsCommand
Touch model records after ActiveStorage::Blob is analyzed
Allow passing hash on secure password validations
Deadlocks inside transactions are functionally not retryable
Check #reconnect_can_restore_state? once, before running block
Add retry handling to connection establishment too
Separate two groups of retryable DB exceptions
Restore transactions in materialized state where appropriate
Default most internal/schema queries to retryable
Switch Postgres statement pool to use the AR connection
Automatically reconnect to database mid-request
Remove unneeded subdirectories in generator tests
Mention `Arel.sql` in `update_all` docs [docs]
Clean up hook generator method when hook is removed
Add CHANGELOG entry for #43688 [ci-skip]
Make EncryptedFile more memoization-friendly
Bump strscan to 3.0.4
Document ActiveSupport::EncryptedFile#key [ci-skip]
Test skip_system_test being preserved after update
Remove duplicate 'updating' option from generator
Avoid removing a PostgreSQL extension when there are dependent objects
better docs for ActiveSupport::Notifications.monotonic_subscribe
Add --parent option to controller generator to specify parent class of controller. Example:
Add `skip_nil:` support to `ActiveSupport::Cache::Store#fetch_multi`
Document ActiveRecord::Locking::Pessimistic#with_lock reloads the record
Avoid checking defined?(@html_safe) (#45620)
Add more detailed description to controller generator
Add ActiveJob::Serializers::BigDecimalSerializer
Consolidate active_record 7.1 default loading
Define #build_create_table_definition on connection adapter
Remove duplicate code in dump task
prefix table_schema to `ALTER TABLE ... VALIDATE CONSTRAINT` for postgres
Allow to use pre-defined variants for previews
Speedup ActionView::OutputBuffer
Clear JobBuffer on teardown
Prevent ActionDispatch::ServerTiming from overwriting existing header
Add endless range example to the Active Record Querying guide
Added default values to raise_delivery_errors guide (#45616)
better docs for ActiveSupport::EncryptedFile#read
Add `quarter` method to date/time (#45009)
Update Pull Request Template
Accept nested functions in Dangerous Query Methods
Remove unnecessary or incorrect calls to connection_handler
Defer constant loading of `ActiveRecord::DestroyAssociationAsyncJob` via a String instead of a class constant
ActiveRecord::Store encode store as a regular Hash
Appease rubocop
Allow Symbols by default in YAML serialized columns
Remove unnecessary initializers
Update autoloading guide for inflection in the once autoloader
Preserve `job.enqueued_at` timestamp precision
Improve performance by removing respond_to? from runtime code
Move configuration to the right section
Change ActiveRecord::Coders::YAMLColumn default to safe_load
Omit secret_key_base for dev and test credentials
Support custom credentials templates
Generate secret_key_base for all new credentials
Ensure connection_name is used everywhere
Add missing CHANGELOG authors
Missing author on changelog entry for #44189
Make `timestamptz` a time zone aware type for Postgres
Remove reverted CHANGELOG entry [ci-skip]
Make Custom Validators example more clear
Revert "Provide pattern matching for ActiveModel"
Rename :urlsafe option to :url_safe
Add CHANGELOG entry for #44189 [ci-skip]
Convert rails-ujs to ES2015 modules
Address decaffeinate warnings
Run decaffeinate on rails-ujs/*.js
Move and rename rails-ujs files
Add documentation to customize full_messages on ActiveModel and ActiveRecord
Clear cache in MemCacheStore tests
Add include_seconds option to datetime_local_field.
Fewer object allocations in Encryption::Properties
Allow rack-test >= 2
Ensure Rails is green with Rack-Test main branch
Add `--parent` option to job generator to specify parent class of job.
Optimize Active Record batching for whole table iterations
Update index in migration at bottom of Active Record Basic guide
Improve generator implied option handling
Remove owner_name from db_config
Improve working with PostgreSQL schemas
Remove docs for legacy_connection_handling
Remove return_false_on_aborted_enqueue again
Allow opting out of the `SameSite` cookie attribute when setting a cookie.
Reading form's method by getAttribute
`.with` query method added.
Optimize data sources sql for MySQL
Add MIT-LICENSE file to Rails gem
Refactor connection handler's establish_connection
Support multiple preview paths for mailers
Copy edit the CHANGELOG
Support :urlsafe option for MessageEncryptor
Anchor the Action Cable server's route
Only remove connection for an existing pool if the config is different
Update the npm package release task to not add the latest package for every version.
Refactor message parts logic in MessageEncryptor
Replace MessageVerifier :urlsafe option tests
Allow db:prepare to load schema if database already exists but is empty; also dumps schema after migrations
Document Action Cable Connection Callbacks
Lock rack-test version to v1 until #45467 is resolved
Changes the API documentation link to be relative instead of being absolute. This has been mentioned in #45001
Document Action Cable Channel Callbacks
Upgrade sqlite3 to fix broken ext compilation
Remove trailing whitespaces of Active Record CHANGELOG
Document concerns about storage and column size when using encryption
Pass options to the test runner for test:{all,system,generators}
turbolinks:load to turbo:load in ActionCable guide
Removed docs for removed urlsafe_csrf_token config
Document that load hooks run if already triggered
Clarify allow_deprecated_singular_associations_name deprecation warning
Improve allow_deprecated_singular_associations_name config doc [ci-skip]
Require ruby-vips before downloading blob
Pass deseriallized defaults when copying tables in sqlite3
Delegate migration methods to strategy object
Bump ruby version for Rubocop
Use in_memory_db? test helper
Unify LTR / RTL CSS for guides
Tweak MessageVerifier :urlsafe option doc [ci-skip]
Update permissions policy list
Document urlsafe option of MessageVerifier
require mini_magick at the level it is being used
Add urlsafe option to MessageVerifier initializer
Improve mailbox generator usage docs
Improve channel generator usage docs
Improve mailer generator usage docs
Make ActiveStorage attach method be consistent between one and many
Revert "Optimize Active Record batching"
Skip another test when ARCONN=sqlite3_mem
Improve test_do_not_dump_foreign_keys_when_bypassed_by_config
Skip the `foreign_keys: false` test when ARCONN=sqlite3_mem
Add adapter option disallowing foreign keys
Make the inheritance_column documentation visible
Remove special handling for ActiveRecordStore
Remove load path modification from Rails 3 days
Set `skip_dev_gems` to be a `class_option`
Add ActiveRecord::Base::generates_token_for (#44189)
Specify that rails-dev-box will not work with any Apple silicon Mac
add repo link for scaffold templates to docs and slightly rephrase docs
Add docs for all Application::Configuration attr
Order rails general configuration alphabetically
Add more detailed description to migration generator
Add configurable deprecation warning for singular associations
Remove the multi-call form of assert_called_with
Connections Map changed to Each in ping task
Use suggested version of note [ci-skip]
Let sqlite `strict` config read from `database.yml` or config
Make `sqlite3_adapter_strict_strings_by_default` work from an initializer
Support calls to `#field_name` with nil `object_name`
Behaviour constant deprecation fix (#45367)
Move db and shard selector initalizer to Railties
Lock minitest for now
Enable strict strings mode for `SQLite3Adapter`
Update Command Line guide --database usage [ci-skip]
Improve `where` chaining docs
Run transactional callbacks on instances most likely to match DB state
Skip Active Storage and Action Mailer if Active Job is skipped
Reset cache_versions on relation
Correctly check if frameworks are disabled when running app:update
adds support for exclusion constraints (PostgreSQL-only)
Add notes on how to exit the debugger [ci-skip]
Improve API Documentation Guidelines [ci-skip]
Require Zeitwerk 2.6
Make secret_key_base doc more explicit
Add more detailed description to job generator
Add info and fix command description [ci-skip]
`change_column_null` should raise if a non-boolean 3rd argument is provided
Enforce limit on table names length
Adjust minimum MariaDB version for CHECK_CONSTRAINTS
Remove outdated comment of ActiveRecord's spawn method.
Delegate model generator description to orm hooked generator
Wrap rails runner in executor
remove call to conditionally configure legacy_connection_handling
Work around Sidekiq 6.4 and 6.5 API difference
Prepare for upcoming Sidekiq Configuration design
MemCacheStore shorten keys properly
Correctly read the `cache_format_version` setting on boot
Add a note about connection pooling by default to the Upgrade Guide
Remove N+1 validation for encrypted attributes
Reflect PostgreSQL UUID functionality part of core since v13.0
Handle `Date` objects for PostgreSQL `timestamptz` columns
Enable connection pooling by default for MemCacheStore and `RedisCacheStore`
Support descending order for `in_batches` without block.
Use AS::N build_handle API in Rails::Rack::Logger
Show Guides Index as selected for `/` on small screens [ci-skip]
Add installation instructions for importmap-rails
Docs: clarify where counter variables start
docs: incorrect output from the parameterized method usage example
Clear out target when no new records
Guides > Upgrading: Mention `ActiveModel::Errors` on Rails 6.1
Move rails new doc into a new header
replace 303 status code with see_other
Remove unused methods in connection handling
Omit workers and preload_app! from Puma config
Refactor clearing cache on handler
Revert "Only invalidate query caches for peer connections"
Add tests for `present?` and `blank?` on `ActiveRecord::Base` classes
Revert "Delegate `empty?` query method to relation"
swap misnamed variables of arel with terms
Make Notifier::Fanout faster and safer
Add poppler to Dev Dependency guide [ci skip]
Extract AC::Parameters equality tests to own file
Simplify regex detecting comments in sql query
Use const_get to get validator classes
Deprecate plural association names on singular associations
Remove 4 unroutable routes from ActionMailbox
Added validation for global active storage service configuration
Strings returned from `strip_tags` are correctly tagged `html_safe?`
Hide rails:all from rails help
Define Thor tasks for test subcommands
Add validity for PostgreSQL indexes
Guides > Upgrading: Mention `config.hosts` on Rails 6.0
Delegate `empty?` query method to relation
dropdb if activerecord_unittest / activerecord_unittest2 exists
Allow all available locales for template lookups.
Event.delete_all after `UniquenessValidationWithIndexTest#test_uniqueness_on_relation`
Pass additional connection options to `psql` when running `rails dbconsole`
removed redundant backtick symbol from sql examples of rails guides
small error in first example of pluck section
Document ActionDispatch::TestResponse#parsed_body [skip ci]
Make `find_nth_from_last` more performant when using custom order
Improve performance for contextual validations
Update form_helpers.md section 1
Rename behaviour to behavior in documentation
Rename behaviour to behavior in test case names
Rename Deprecate Rails::Generators::Testing::Behaviour to Behavior
Dup options in validates_with
Allow setting db with use_postgresql tests
Ensure current environment is recorded before running migrations
Add description for multiple database up and down migration rake
remove rendered_format from LookupContext
Bump `timeout` gem to 0.3.0
Avoid validating a unique field if it has not changed and is backed by a unique index
Move `convert_to_model` call from `form_for` to `form_with`
Add `force:` support to `ActiveSupport::Cache::Store#fetch_multi`
Change `DeveloperWithDefaultNilableMentorScopeAllQueries` name
Explicitly states that the return value is seconds
Forward `drop_join_table` options to `drop_table`
Add additional content exfiltration prevention to form tags
Revert "Do not return invalid indexes in PostgreSQL"
[docs] Change wording around mailing list in contribution guide
Skip resetting correct counter caches
Do not return invalid indexes in PostgreSQL
ci: add GitHub token permissions
Add examples of empty passwords for authenticate by
Add header fixes[ci skip]
add section for host header attack prevention in rails security guide (#43330)
Adds Deferrable Foreign Keys section to Active Record and PostgreSQL guide (#43812)
add header for devcontainers, this serves two purposes: [ci-skip] (#45129)
Support infinite ranges for `LengthValidator`s `:in`/`:within` options
Avoid ActionController when render mail, AT loaded
Avoid ActionController on ActionMailer::Base load
Don't call controller's headers method internally
Rotate default logs on each 100MB
Improve mysql2 mismatched foreign keys reporting
Add beginless range support to clusivity
Enroll new apps in decrypted diffs of credentials
Add db_runtime to Active Job instrumentation
no longer set sql_auto_is_null
Let purge succeed when MySQL database is missing
Only invalidate query caches for peer connections
Support declarative-style test name filters
Upgrade Release guide to match current practices
Upgrade bundler version
Improve prefixing routes example in guides [ci-skip]
Allow easier debugging of Action Dispatch requests
Update primary key for dl_keyed_join
Make validators accept lambdas without record argument
Use queue_classic 4.0.0
Deprecate `:pool_size` and `:pool_timeout` options for configuring connection pooling in cache stores
Expand HTTP Security Headers in guides [ci-skip]
Add initial value support to MemCacheStore #increment and #decrement
feat: action cable connection callbacks
fix: action cable stream_test errors
Adds test coverage for #attach method behaviour in activestorage
Address QueryCacheTest#test_query_cache_does_not_allow_sql_key_mutation failure
Squash commits
Include the unexpected class in InvalidParameterKey message
Support unbounded time ranges for PostgreSQL
Add missing tests for reference column types when migration version is 6.0
Add ability to ignore tables by regexp for SQL schema dumps
Improve `rails s` error message when no server could be found.
Add `--js` and --skip-javascript` options to `rails new`
Document that url_for can take classes
Don't change the encoding of frozen parameters
Update working_with_javascript_in_rails.md
Avoid query from calculations on contradictory relation
Send disconnect message during remote disconnect
Provide pattern matching for ActiveModel
Stop autoclosing of PRs
Update guides/source/form_helpers.md
Allow using aliased attributes with `insert_all`/`upsert_all`
Rename Guides "Contributions" section to "Contributing" [ci-skip]
Bubble assertion failures back to the main thread
Use the CSS badge for the API docs as well
Set ttl for redis and memcache cache stores when using `expires_at`
Bump strscan to 3.0.2 to address bug_report_templates/action_controller_gem.rb
Add anchor to a link in `load_defaults`'s api guide [ci-skip]
Support encrypted attributes on columns with default values
Always preload if using proc with multifetch cache
Make behaviour of has_value?/value? more consistent
Reformat code in Placeholder Conditions
Escape literal dot in regular expression
Raise StrictLoadingViolationError with polymorphic relation violations
Error reporting API: Add a source attribute
Use mysql2 0.5.4
fix: name of attribute of name to first_name in dynamic finders doc
Simplify regex detecting comments in sql query
Remove unused Hash.ruby2_keywords_hash? backport
Document action mailer rescue_from
Emphasize cacheable objects in guide and API docs
update inspect method used to print name of middleware to check for module instead of class
Document `uses_transaction` [ci-skip]
Update RDoc comments for #redirect
Put Active Record changes into place in 7.0 release notes [ci-skip]
Add libvips to Development Dependency guide
Allow setting some active support settings via initializers
Remove github/codespaces-precache action
Use immutable URL for arbitrary code
Remove dead URL
add test case raw values from dalli store use read_multi_entries
activerecord: log unnamed bind params
activerecord: add log sql with unnamed bind test
Improve upgrade guide section on cookies rotator (#44967)
AzureStorage needs version >= 2 of azure-storage-blob
chore: remove git.io
Only materialize the new transaction if it needs it
Complete check for custom CSRF storage strategies
Remove to_ary from RackBody
Add API doc for the `same_site` option of the `cookie` [skip ci]
Optimize Active Record batching
Multi database: define `reading_request?` in resolver
Respect the formatter keyword arg on init
Add --name option to the app generator
Add missing require of `action_controller/metal/exceptions` to `action_controller`
Expose request method to reset the CSRF token
Updates --skip-git option description to be more accurate
Update sdoc to 2.3.2 to support latest rdoc
Add info for `change` column and table comment
Syntax highlight ruby code in multi db guide (#44929)
Access JDOM fields as constants in order to be compatibile with JRuby 9.3.x.x
Treat `image/bmp` as a valid content type
[guide] Enable syntax highlight for a code in AR validation guide
Remove unnecessary note for primary_key in the guide
Scoped Postgresql create_enum to current schema if present.
Avoid escaping paths when editing credentials
Register the interlock hook only if reloading
Scope PostgreSQL check constraints to current schemas
Deprecate config.enable_dependency_loading
Define config.enable_reloading to be !config.cache_classes
Add API docs for run_load_hooks
Clarified requirements for keys in nested structures
Replace `async: true` parameter by `async_*` methods
PoC: Active Record API for general async queries
Move misplaced conditional
Rotate the debug.log on each 100MB
fix warnings when eager loading on ruby 2.7
Use blade 0.7.3 to support Ruby 3.2
Eager load after reload, if enabled
Remove `activerecord` namespace from example, since it no longer returns the value shown below
Update URL for Redis Pub/Sub documentation. Change text of link to Redis Pub/Sub documenation to include a slash, to reflect the title on that page.
Document that `data-remote` and `data-method` are deprecated
Update ActiveSupport time zone tests for UTC-12 (International Date Line West)
fix: correct config.host_authorization reference
Update source of `secret_key_base` in cookie rotator example
Use connection_class to check in connected_to
Only allow String and Symbol keys in ActionController::Parameters
Handle renaming of `global_constant_state` in Ruby 3.2
Remove deprecated comparing AC::Parameters with a hash assertion
All intermediate delegation methods should preserve kwargs flag
Remove autoload to unused constant
Add docs about how to use remote browser in test (#44311)
Use the through_reflection class to open transactions
Document ETag compatible CSP nonce generator
Allow CSRF tokens to be stored outside of session
Remove legacy_connection_handling
Add a flag to disable deprecated AC::Parameters comparison
`rails db:schema:{dump,load}` now checks `ENV["SCHEMA_FORMAT"]` before config
Extended test cases in AR for methods accepting blocks
Address bug_report_templates/action_controller_gem.rb
Document a use case for autoloading in after_initialize
Change `rss` to `RSS` in `ImageLinkToTag`
Don't delegate ActionController::Parameters#values to hash
Really deprecate comparing AC::Parameters with a hash
Improve default message for assert_changes
Use actions/checkout@v3
Highlight booleans which are set to config in docs
Change `github` to `GitHub`
Remove confusing validations comments [ci-skip]
Update codespell Action to Python `3.10`
Change `yaml` to `YAML`
Make AR Presence and Absence validation docs more consistent [ci-skip]
Add yarn install into bin/setup when not using importmap
Group `validates_associated` documentation with `validates_*` [ci-skip]
Added missing config.session_store option to docs
Remove duplicates
Remove override of ActiveModel#attribute_names
Make sure respond_to? and method_missing works in abstract Railties
[postgresql tests only] Flunk if test is not using SavepointTransaction
Improve sanitize_sql_like performance
Remove methods from public API that users can't call
Update local development guide
Highlight ShardSelector class mentioned in the docs
Add the Active Job TestAdapter to QueueAdapter documentation [ci-skip]
Add a description about LIKE conditions
Receive a block to ActionController::Parameters.to_h
Extends Ruby reserved keywords list in Module ext in Active Support
fix serializing Parameters as yaml
remove testing HWIA serialization for old psych
Removed code which sets host! in console mode as it is not needed
Correct spelling nullbale -> nullable
Update CHANGELOG
Upgrade que to 1.3.1
Update ActiveJob que adapter for compatibility
Refactor offsets method to avoid race condition
Assume less in the on_unload callback for AR scopes
Revert "Add a couple of missing requires in AR"
Adds a section about the undocumented before_remove_const in the Classic to Zeitwerk HOWTO
Add a couple of missing requires in AR
Reset current scopes in AR using an on_unload callback
Restores some colons for correct grammar
Restore application/problem+json after tests
Deprecate preserving the pre-Ruby 2.4 behavior of `to_time`
Allow overriding of redis url when running tests
Allow overriding of Que and QC urls in integration tests
Use duck_string instead of string
Update all counters in `reset_counters` using a single query
Introduce `html:` and `screenshot:` kwargs for system test screenshot helper
Extends test cases for Object in activesupport
Auto-create user and grant privs when creating dbs
Get rid of `MySQL::SchemaStatements#create_table_sql`
Modernize contributing docs
Clarify where `t` works for `_html` suffixes
multibyte_chars_test should test with ActiveSupport::Multibyte::Chars class as proxy
[DOC] Clarify concerns section of Getting Started
Only configure smtp_settings if provided on configuration
remove extra core_ext/object/blank requires
[mysql2 tests only] Flunk if test is not using SavepointTransaction
[skip ci] Document Action Mailbox instrumentation
use DidYouMean for broken link fixes in guides
Extract float numbers when using size option for image_tag and video_tag
Extend audio_tag and video_tag to accept Active Storage attachments.
More rdoc improvements to activesupport
Improve autoloading_and_reloading_constants.md
Reword comment in engines guide
Use `controller_class_path` in `NamedBase#route_url`
Factor out ActiveModel::AttributeRegistration
Make sure allowed image processing arguments are correctly loaded
Remove unmaintained francesc/rails-translate-routes gem
Add test for inspecting a Relation with a virtual field
Change the AS::Notification payload to include the mailbox instance
Allow relative redirects when `raise_on_open_redirects` is enabled
Add examples of default values using blocks for mattr_reader, mattr_writer and mattr_accessor
Removed unwanted requires of  and fixed rubocop errors
Add `active_record.destroy_association_async_batch_size` configuration
ActiveSupport::OrderedOptions handle custom #dig
Instrument Action Mailbox processing
fix rubocop errors
Modernizes wording in the autoloading guide
Added image trasnformation validation via configurable allow-list
Add missing require to activerecord base_test.rb
Improve the documentation and guide about where.not
fix namespaced schema load ignoring protected env
Update actionpack/CHANGELOG.md
Generate content security policy for non-HTML responses
Remove `--no-comments` from Postgres structure dumps
Implement ErrorReporter#disable
Add HTTP_REFERER when following redirects on integration tests
Refactor Zeitwerk setup in Action Cable
Add missing magic comment (linting)
Setup Zeitwerk in a dedicated file
Remove require "thread" from Action Cable
Load with Zeitwerk
[docs] RemoteIp improvements
Do not remove assets initializer when using propshaft
Add :renderable to the list of rendering keys supported by ActionView::Renderer#render
Eager load ActionDispatch::Routing::RoutesProxy
Better handle basic authentication without a password
Avoid adding constants to Enumerable
Update verbose_query_logs method
Revert failing test
Add Mime support for problem detail
Re-deprecate return/throw exits from transactions
remove typo - repeating word like
Use #attribute_names in ActiveRecord::Core#inspect
Eager load controllers `view_context_class`
[docs] FileStore does not implement local store
Switch ActiveSupport::MessageVerifier's default serialization to JSON
Remove circle from HTML_VOID_ELEMENTS set.
Apply content security policy mapping when generated dynamically:
Eager load ActiveJob::ConfiguredJob and Serializers
Modernize ActiveSupport::Autoload
Revert "Skip apparently-troublesome test on CI for now"
Bump jsbindling-rails and cssbundling-rails
Ensure SVG elements are closed.
Don't output the whole Rails::Railtie object
Bump Nokogiri to 1.13.3, previous version don't support Ruby 3.1:
Support password challenge via has_secure_password
Allow open transactions to be restored upon DB reconnect
Define AbstractAdapter#configure_connection
Removed options method argument from application tests in railties
Don't setup i18n reloader if `config.cache_classes = true`
Allow skip_forgery_protection if no protection set
Transactions can be restarted
Save a query when starting an isolated txn in Postgres
Reformat Postgres version checks to reflect their structure
Switch from fork to queue_classic beta release
Return blob/blobs when #attach is able to save the record and return if it is not able to
Enable `Style/MapToHash` cop
Remove body content from redirect responses
Be clearer about when transactions are reset by reconnection
Ensure Contract#metadata is reliably orderable
Rename the raw connection ivar to @raw_connection
Use PG Connection#escape over Connection.escape
Add ActiveModel::Access
Use File::NULL instead of /dev/null
Require base64 in the places we're using it
Add missing ruby2_keywords in RoutingAssertions
Don't require encryption credentials when using a custom key provider
Update rails_application_templates.md
Reduce the memory footprint of fixtures accessors
Edit ActionController Base API docs [ci-skip]
Bumps rubocop version to 1.25.1
Remove mark_transaction_written_if_write
The server discards prepared statements when disconnected
Remove assets.enabled from Configuring guide
Return blob/blobs when #attach is able to save the record and return false if it is not able to
Move PermissionsPolicy docs to ActionDispatch::HTTP::PermissionsPolicy [ci-skip]
Makes some of the activerecord tests more syntactically consistent
Stop capturing subdomain in HostAuthorization
use `git init -b` in generator when supported
Warm-up to avoid autoloads interfering with class serial
Skip apparently-troublesome test on CI for now
Improve CSP initializer copy
Remove fixed TODO ActionController::Metal::ContentSecurityPolicy [ci-skip]
Add Permissions-Policy header guide [ci-skip]
Removed list of gems specified in the initialization guide
remove unused requires in ActiveSupport::Cache
Cross-link API docs [ci-skip]
Improve serialize API doc [ci-skip]
Improve HTTP authentication API docs [ci-skip]
Improve Flash API docs [ci-skip]
Remove duplicate :key_provider option doc [ci-skip]
Remove EventedFileUpdateChecker#updated? caveat [ci-skip]
Mark up inline code [ci-skip]
Add Oxford commas [ci-skip]
Replace backticks with RDoc markup [ci-skip]
Replace "overwrite" with "override" [ci-skip]
Be explicit every time we invoke 'rails'
Include the model name when filtering encrypted attributes.
Copy over the IsolatedExecutionState in AC::Live
Removed freenode link from support resources
Improve Asset Pipeline documentation [ci-skip]
Added missing .gitattributes file in documentation
`Pathname.blank?` only returns true for `Pathname.new("")`
Implicitly assert no exception is raised in `assert_queries` & al
Document horo variables in RDoc configuration
Avoid renders in equality check of rich_text content
Add :nodoc: to ActiveRecord::Relation#where_values_hash
Improve Content Security Policy documentation [ci-skip]
Improve Hash vs Array asserts in assert_valid_enum_definition_values (issue #44457).
Enable Performance/OpenStruct
Explicitly check if the enum's values is an Array as well as a Hash (issue #44457).
No need to use blank? here
Update getting_started.md
`form_for`: Attempt to call `to_model` on record
Add documentation for controller CSP methods [skip-ci]
Split actionview log subscriber Start events
Deprecate Event#{children,parent_of}
Remove child event tracking from AS::Subscriber
Set a default value for .report handled kwarg
Document some methods in ActionDispatch::ContentSecurityPolicy [skip-ci]
Implement inspect for Notifications::Fanout
Add missing requires
Defer loading XmlMini until it's needed
Use finish_with_state inside Rack::Logger
Document some methods in Application::Configuration [ci-skip]
Support dalli 3.2.1
[Active Support] Add explicit assertions to tests with no assertions
Split AR Encryption config settings into sections [ci-skip]
Add spacing to curly braces
Remove wip flag from working with javascript guide
[docs] Remove incorrect sprockets reference
Explain HTTP basic authentication stipulation [ci-skip]
Improve fields_for helper sections [ci-skip]
Upgrade to sdoc 2.3.1
Convert lib and frameworks to bulleted list-README
Update session_store configuration instructions [ci-skip]
Link config settings to the configuration guide [ci-skip]
Update instructions for rich text custom rendering [ci-skip]
Clarify scaffold generator explanation [ci-skip]
Link method names to API docs [ci-skip]
Expand anchor text [ci-skip]
Remove empty sections from Core Extensions guide [ci-skip]
Add Oxford commas [ci-skip]
Add backticks [ci-skip]
Improve CSP guide [ci-skip]
Add require "models/post" to address NameError: uninitialized constant
Update description of working with JavaScript guide
Handle quoting of Rational numbers for MySQL
Quote ActiveSupport::Duration in mysql2 adapter. Add test coverage for bind parameter where queries.
Added more skip options for rails command line documentation
Allow column name with COLLATE (e.g., title COLLATE "C") as safe SQL string
Accept `_` integer notation in VERSION arg to database tasks
Add missing `bigdecimal` require in `ActiveJob::Arguments`
Improve Rails 7 documentation for the command line and asset pipeline
Update working with javascript guide to cover asset options and Turbo instead of UJS and remove node/yarn from getting started guide
ActionDispatch::Executor don't fully trust `body#close`
Update ActiveModel::Attributes examples in docs
Add module/class nesting consistency on newly generated application:
Insert space before opening parenthesis [ci-skip]
Silence uninitialized instance var warning in tests
Trigger CI
Update parameter filter logging guides [ci-skip]
fix activestorage update
Documentation for Active Model Attributes
fix LocalCache#read_multi_entries
Provide change summary before details for all gems
Rename target -> proxy_target
Rename AttributeMethodMatcher to AttributeMethodPattern
Increment assertions count on assert_nothing_raised
Reverse the order of `INSERT` statements in `structure.sql` dumps
add hint to ActionView's fields_for
Keep to_formatted_s working as before and add tests for it
Add job_id and exception message to ActiveJob retry/discard logging
Dump the precision for datetime columns following the new defaults
fix MessageEncryptor isolation tests
Remove TODO
Setup on_encrypted_attribute_declared hook only once
Dump the database schema containing the current Rails version
Change MessageEncryptor default serializer to JSON for Rails 7.1
Note the alias the other way
Missed two spots
Make #to_fs the default replacement for #to_s(:format)
Released version of rbtree 0.4.5 supports Ruby 3.2.0dev
Delete concerns_executes_block_in_context_of_current_mapper test
Enable Lint/EnsureReturn cop
Stringify keys in session.merge!
[ci skip] Improve ActiveSupport::MessageVerifier docs (#44332)
Document how to update engine overrides loading in the classic to zeitwerk HOWTO
Use different namespace for proxy calls
Add turbolinks=false on links to older guides
Improve human_attribute_name performance
Improve ActiveModel::Name#human performance
Only close websockets when connection is open (#44304)
Delete reference to classic mode in the engines guide
Don't render layout in ActionText::Content#inspect
Appease rubocop
Update upgrade guide for active storage streaming [ci-skip]
Add TestCase#stub_const (#44294)
Remove the deprecated urlsafe_csrf_tokens configuration
Fiber-safe ConnectionPool
Revert #38957 (#44287)
ActiveRecord: column_references should not map arel hash keys
fix Que integration tests for Active Job
abandon_results! after every multi statement batch
Address ActionView::Template::Error
Display invalid value in error (#44255)
add assertion helpers for Active Job integration
Cover the entire datetime call in the schema dump test
Prefer I18n over i18n when referencing internationalization
Properly eager load the JoinDependency autoloads
Don't stream redirect controller responses
Use YAML.unsafe_load for encrypted configuration
Optimize `Object#instance_values`
Optimize `Object#instance_variable_names`
Use released version of pg 1.3
fix que integration in Active Job tests part 2
Remove AS::LoggerThreadSafeLevel#add patch
fix que integration in Active Job tests
Link to association guide from docs [ci skip]
Remove double underscore on test method
Add a note in guide for a counter cache caveat
update default active storage processor [ci skip]
Expand bi-directional associations guide [ci skip]
Improve associated no reflection error
[ci skip] Added a note about Github Codespaces' warning (#44148)
Improve upgrade instructions for Bootsnap
List changed attrs in pessimistic lock error
Use safer 'destroy!' in controller scaffolds
Adds webpacker retired note to the webpacker guide [ci skip]
Document that @rails/ujs is deprecated for `button_to` (#44100)
Remove duplicated response check
Adjust association inverse_of docs [ci skip]
Ensure preload_link_tag preloads modules correctly
Allow app to opt out of precompiling activestorage js assets (#43967)
Update CODE_OF_CONDUCT.md
Update rails-on-rack guide on internal middlewares stack
fix wording in eager loading docs
atomic write race condition
Add support to locales with lowdash in Resolver::PathParser
Dump datetime precision always in MySQL
Sort the results as order not guaranteed
Add Action Mailbox deprecations to 6.1 release notes (#44159)
Point blade to the official repository
Fork rbtree and blade to fix ruby-head CI
Prefix config setting name with `config.` [ci-skip]
Add ActiveRecord::Persistence#update_attribute!
Document new default of add_autoload_paths_to_load_path
Assert sql_type disregarding case sensitiveness
Clean up initializer templates [ci-skip]
Disable config.add_autoload_paths_to_load_path by default in Rails 7.1
Expand filter_parameter_logging initializer template doc
fix missing require for pp in 546de0f
Tiny CHANGELOG fix [ci-skip]
Explicitly list negative currency format
Remove assert_not_called Object#=~ here for Ruby 3.2 compat
fix ApplicationController path on Action View guides
Re-add central list of versioned default values [ci-skip]
add cursor pointer when hovering rails logo in welcome page
Add Ruby on Rails version on title
Clean up database configs for railties
Improve ActiveStorage analyzer error message for missing ffprobe. Add mention to guides.
Reorganize versioned default values [ci-skip]
Correct doc typo [ci skip]
Avoid eager loading in Relation#pretty_print
Ensure codeblocks are rendered as such for (min|max)imum
Run the gem template guides for 3.1 now that 7.0.1 is out
Export assets.
No need to check for Ruby version on the bug reports template anymore
Reuse view_context_class when possible
`QueryMethods#in_order_of` drop records not listed
Export other ActiveStorage JavaScript modules.
document usage of :enable_starttls
Document what the new default_headers will be [ci skip]
Add test case for AbstractMysqlAdapter#execute
Remove X-Download-Options default header
Use `pg` gem 1.3.0.rc1 to support Ruby 3.2
Only run test for gem templates in Ruby < 3.1
Require shellwords where it is used
Allow subsecond resolution in `travel_to` helper
Prevent duplicate entries in plugin Gemfile
Update sdoc to 2.3.0
Clarify that only the latest release series is supported for bug fixes
Update module definition style
Add `config.load_defaults 7.0` annotation in `config.active_storage.video_preview_arguments` document [skip ci]
Temporarily add net-gems as dependencies of frameworks that use mail
Make multi db docs public
Delay loading Zeitwerk
Update development dependencies
Update README Getting Started section
Actually run a `pg_dump` in the Postgres test suite
Update action cable overview docs
Add missing `cookies_serializer` config default
doc: clarify usage of Object.acts_like?
Move ExtendedDeterministicQueries rdoc to correct namespace [ci-skip]
Keep configuration of smtp_settings consistent between 6.1 and 7.0
Update association callback docs
solve: undefined local variable or method 'connection'
Show 7.0 Release Notes in the guides index
Revise Turbo-related info in Getting Started guide [ci-skip]
Update Postgres guide for ActiveRecord::Enum support
Use  to support matching SQL of any adapter
Use column limit to build invalid records
Remove requirement that query ends with comments
Skip unless adapter supports insert on duplicate update
Update classic_to_zeitwerk_howto.md
Allow named expression indexes to be revertible.
changed example cookie rotator to be in after_initialize block
SQLite3Adapter supports default function since #43993
Updating the --no-comment argument to the correct --no-comments argument
Update stale issue comment to mention 7-0-stable
Extract `on update CURRENT_TIMESTAMP` for mysql2 adapter
Bump license years to 2022 [ci-skip]
use new vips syntax for named variant examples
Update documentation for includes methods when used with conditional.
[ci skip] Pluck doesnt load ActiveRecord objects
Getting Started Guide: Remove code sample
Update guides/source/caching_with_rails.md
Docs: advise against caching AR objects
Update layouts_and_rendering.md using turbo [ci-skip]
Update bug report templates to use Rails 7.0
typo in name of migration
fix ordered migrations in multi db environment
Add breakpoint section
Update Release Notes [ci-skip]
Better error messages when association name is invalid in the argument of `ActiveRecord::QueryMethods::WhereChain#missing`
Ruby 3.1.0 installs `digest` 3.1.0 as standard library
Refine authenticate_by security guarantee [ci-skip]
Clarify how stable branches work for bug fix releases
Update rake tests to remove reference to removed tasks
ActiveRecord::Core: improve find by cache hit rate
Revert "Update the deprecation message for `Enumerable#sum` and `Array#sum`"
Update the deprecation message for `Enumerable#sum` and `Array#sum`
dump the dynamic route segments deprication horizon as it was not removed for rails 7.0
update getting started guide using turbo
Use built-in bundler-cache from setup-ruby action
Remove feature checking for Class#descendants
Correctly parse complex check constraint expressions for PostgreSQL
Active Record / PostgreSQL / timestamptz: handle blank inputs
Short circuit authenticate_by on empty password
Improve the performance of ActiveSupport::MessageVerifier
Ruby 3.1: Handle `Class#subclasses` existing without `Class#descendants`
add warning to mysql2 default prepared_statements
Keep the comments in the generate application consistent
Make sure plugin generator works with dummy app
Remove unneeded test
update delete example using turbo
add render_layout.action_view asn to documentation
Remove unused code
Add ReferenceDefinition#add doesn't need a Table argument
Improve security guide by avoiding single character block argument names
Use comma after etc.
Properly quote autogenerated column aliases
Update URLs for the blog [ci-skip]
Improve documentation of `load_async`
Apply migration if_exists exception only migrations for v7.1
Add only_numeric option to numericality validator
Docs: Match example with the sentance. [ci-skip]
Raise an exception when using unrecognized options in change_table block
Broken reference
Initialize `ActionController::Parameters` with `@logging_context`
Update request.path_parameters docs: returned hash keys are symbols
Update Rails startup screenshot at Rails Guide
Typo in the Security Policy URL
Generate `[id]` for `FormBuilder#button` called with method name
Dup arrays that get "converted"
Allow IPs with port in the HostAuthorization middleware
Make sure test pass with minitest 5.15
Don't use schema cache when checking schema migrations
Add missing :author_addresses in `PreloaderTest`
Add back CHANGELOG entry for `authenticate_by`
Allow any allowed host with port
Remove CHANGELOG entry that is already in 7-0-stable
fix incorrect Configuration Guide changes
Generated Gemfile will automatically pickup the latest version on first bundle (#43866)
ActiveStorage: support empty attachments submits
FormBuilder#field_id: prepend `namespace:` option
Edits link to edge guide for 7.0 final
Allow localhost with a port by default in development
Add support for YubiKey OTP codes during release
Raise error when callback's only/unless symbols aren't methods
Add missing word
Eager autoload JoinDependency
Clarify `button_to` helper changes in Rails 7.0
Remove "shortcut" link type from favicon_link_tag method
Don't match "time" inside SET()/ENUM()
Respect connection's configured timezone in its typemap
Allow default_timezone to vary between databases
rm tmpfile added in 340b39e
fix test name
Move "show" link from partial to index template.
Remove no longer needed workaround
Remove unused require
Don't start the server for the failure screenshot
Remove CHANGELOG that is included in 7.0
fix: equivalent negative durations add to the same time (#43795)
Remove CHANGELOG entry that was already applied to 7.0
Use Ruby regex for email validation in guide example
Do not use a binary encoded regexp to avoid warnings
Update Asset Pipeline Guide to describe how Sprockets 4 works
`ActionController::TestCase`: reset instance variables after each request
Handle broken encoding in `#write_query?`
Remove changelog entry
Use correct target
DescendantsTracker: fix the TruffleRuby implementation
Improves Active Record Migrations guide on `add_foreign_key`
Remove memoization for limited_count
Use `if_not_exists` instead of `table_exists?`
Upgrade capybara to work with Ruby 3.1 and earlier
Active Storage eager loading: support more methods
Use optimistic Rails version constraint in plugins
Omit Rake test task from generated plugin
Move multi-db config options to middleware
Use dynamic Rails version in framework dummy apps
Open Rails website in new tab (#43802)
Use current version in new_framework_defaults_*.rb
Update the boot screen
replace duplicate entries of to_formatted_s with to_fs
Move "Sprockets is now an optional dependency" to rails 7 upgrade notes
Document sprockets is now optional
Point 7.0 release notes to the right branch
Start Rails 7.1 development
fix typo [ci-skip]
Remove obsolete option from new Rails 7.0 defaults
Removing caveat for automatic shard swapping
Extract components from signed messages by calculating their indexes
Better proc/lambda route representation in inspector
Remove trailing slash from comment linking to propshaft repository
Remove unused variables
:scissors:
Add releases note about the `#to_s` deprecation.
Add config to disable the `to_s` override in Ruby core classes
Alias to_formatted_s as to_fs
Deprecate `to_s(format)` in favor of `to_formatted_s(format)`
Use `to_formatted_s(:db)` instead of `to_s(:db)` internally
Revise docs/comments for the debug gem
Convert attributes to Hash in authenticate_by
Document suggestions for debugging
Revert "Clarify passwords/findesr difference by preemptive extraction"
Do not generate the application.css in API mode
We now do have a default css
Need a default application.css for propshaft
Update 20191206030411_create_active_storage_variant_records.rb
Clarify passwords/findesr difference by preemptive extraction
Pass an array through our stack, don't bother converting back & forth
[ci skip] compose no longer returns the checksum, remove comment
compose is primarily meant to take blobs so make them a positional argument
Flip blob question to allow us to exit early
Cleanup spaces in the CHANGELOG
Document ActiveSupport::Testing::Deprecation
Add authenticate_by when using has_secure_password
Use latest versions for dependencies
Add -c as alias for --css
Distribute both ESM and CJS version
Squashed commit of the following:
docs: bitstring attributes are strings [ci-skip]
In #4342, part of the functionalities of form_for was delegated to form_with, this could potentially cause some regress, as the condition to send polymorphic_path(record, {}) instead of polymorphic_path(record, format: options.delete(:format)) is removed and when format is not passed, this causes issues if the caller is not expecting an extra arg format:nil. This PR adds back the condition inside for with and add a test to make sure it doesn't break for_with
Docs: clarify cache_classes
More docs on having app in the autoload paths
More docs about Zeitwerk compliance
Typo in Active Storage: custom_metadatata -> custom_metadata
Mention yarn linking in contributing guide to run local npm packages
Use assert_equal
:scissors:
Rename connection_klass to connection_class
Update remove_column docs for how indexes are changed
Update documentation #any? #many?
don't import errors if attempting to merge with self
Enhance many? one?
Action View: allow to compile ERB templates with `# frozen_string_literal: true`
Wrap ActionController::TestCase with Rails executor
Move the least common check to the end of the conditional
Consider onion services secure for cookies
Revert "Add missing `require "active_support` in XmlMini"
[skip ci] fix tiny typo
Add missing `require "active_support` in XmlMini
ActiveSupport::Cache, Part V - change clear override for MemCached
Quieten PostgreSQL structure load
Add ActiveStorage::Blob.compose
Use reflection_class in TableRow for fixtures
rails guide for Pathname#existence
Add CHANGELOG entry for #43284
Require the ErrorReporter#handle fallback to be a callable
Make sure `errors.messages` works in the same way as Rails 6.1
DescendantsTracker: fix the TruffleRuby branch
add Pathname#existence
Clarify Active Record Encryption docs
AS::Callbacks specialize call templates for better performance
Explicitly order Railties by load order
ActiveSupport::Cache, fix race conditions on test/cache - part V
Add missing space to error message
Add support for passing the list of columns to update in upsert_all
Allow a fallback value to be returned from Rails.error.handle
Add missing comment char to RDoc comment
Report Memcached and Redis cache errors to Rails.error
Use IsolatedExecutionState in `thread_mattr_accessor`
ActiveSupport::Cache, fix race conditions on test/cache - part IV
Introduce custom metadata
Update inspect output of ActionController::Parameters in docs [skip-ci]
Expose role/shard on pool/connection
Cut down on needlessly verbose comments
Use same comment format as other gems, including links to learn more
Use native Class#subclasses if available
ActiveSupport, fix more race conditions on test/cache - part III
activerecord: add missing require statements
Better `column_exists?` docs
Add warning about `type` arg in `column_exists?`
Improve check for GC.stat(:total_allocated_objects)
Eliminate internal uses of `PerThreadRegistry` and deprecate it
[ci skip]Add a missing double quote on code comments
Remove deprecated `ActiveRecord::Result#map!` and `ActiveRecord::Result#collect!`
Remove deprecated `ActiveRecord::Base.configurations.to_h`
Remove deprecated `ActiveRecord::Base.configurations.default_hash`.
Remove deprecated `ActiveRecord::Base.arel_attribute`
Remove deprecated `ActiveRecord::Base.connection_config`
Remove duplicated tests
Remove deprecated `:return_false_on_aborted_enqueue` option
Remove deprecate `ActiveSupport::Multibyte::Unicode.default_normalization_form`
ActiveSupport, fix more race conditions on test/cache - part II
Remove deprecated support to use `Range#include?` to check the inclusion of a value in a date time range is deprecated
Remove deprecated `URI.parser`
Remove deprecated `config.active_support.use_sha1_digests`
Remove deprecated methods in ``Tasks::DatabaseTasks`
Remove deprecated `environment` and `name` arguments from `Tasks::DatabaseTasks.schema_up_to_date?`
Change how Merging conditions on the same column works
Remove deprecation for duplicated query annotations
Remove code duplication by moving logic to `check_if_method_has_arguments!`
Remove deprecated support to `Model.reorder(nil).first` to search using non-deterministic order.
Remove deprecation for aggregations that are grouping in duplicated fields
Remove deprecated rake tasks:
Implement `form_for` by delegating to `form_with`
Remove deprecated `DatabaseConfig#config` method
Rollback transactions when the block returns earlier than expected
Call `#html_options_for_form` within `form_with`
Use `IsolatedExecutionState` across Active Record
Use `IsolatedExecutionState` across Active Support
Sort autoloads
Remove unnecessary paths
Remove unnecessary require
Introduce ActiveSupport::IsolatedExecutionState for internal use
Add automatic shard swapping middleware
Improve language in upgrading guide
Inline `_type_cast`
Inline _quote method
Remove deprecated support to pass a column to `type_cast`
Remove deprecated support to type cast to database values `ActiveRecord::Base` objects
Remove deprecated support to quote `ActiveRecord::Base` objects
Remove deprecacated support to resolve connection using `"primary"` as connection specification name
Remove deprecated private API in ActiveRecord::Associations::Preloader
Remove deprecation warning when using `:interval` column is used in PostgreSQL database
Remove deprecated support to YAML load `ActiveRecord::Base` instance in the Rails 4.2 and 4.1 formats
Remove deprecated option `:spec_name` in the `configs_for` method
Remove deprecated  `ActiveRecord::Base.allow_unsafe_raw_sql`
Remove support to Marshal load Rails 5.x `ActiveModel::AttributeSet` format
Remove support to Marshal and YAML load Rails 5.x error format
Remove deprecated support to use `[]=` in `ActiveModel::Errors#messages`
Remove deprecated support `delete` errors from `ActiveModel::Errors#messages`
Implement each using a delegator and make sure all enumerable methods are available
Remove unnecessary class
Remove deprecated support `clear` errors from `ActiveModel::Errors#messages`
Remove deprecated support concat errors to `ActiveModel::Errors#messages`
Remove unused method
Remove deprecated `ActiveModel::Errors#to_xml`
Remove deprecated `ActiveModel::Errors#keys`
Remove deprecated `ActiveModel::Errors#values`
Remove deprecated `ActiveModel::Errors#slice!`
Remove deprecated `ActiveModel::Errors#to_h`
Remove deprecated enumeration of `ActiveModel::Errors` instances as a Hash
Removed deprecated behavior that was not halting `after_enqueue`/`after_perform` callbacks when a previous callback was halted with `throw :abort`.
Remove deprecated `Rails.config.action_view.raise_on_missing_translations`
Remove deprecated support to passing a path to `fixture_file_upload` relative to `fixture_path`
Remove deprecated `ActionDispatch::SystemTestCase#host!`
Remove deprecated `Rails.config.action_dispatch.hosts_response_app`
Remove deprecated `ActionDispatch::Response.return_only_media_type_on_content_type`.
Remove deprecated ActionMailer::DeliveryJob and `ActionMailer::Parameterized::DeliveryJob`
Remove deprecated MAILGUN_INGRESS_API_KEY and mailgun_api_key configurations
Not needed
Upgrade `jsbundling-rails` version to support the source maps. (#43656)
[ci skip] Rephrase SQL Injection countermeasure - positional & named handlers
Rails standardized error reporting interface
Link to listing existing routes
Remove code duplication by extracting the _object_for_form_builder private method
Remove warnings on AS/test/cache/stores
Invert conditional
Support `Object#with_options` without a block
Support name Symbol to `FormBuilder#button`
Install github cli in dev container
Require MFA to release rails
Stub cortrect direct upload service names
Multi-service direct uploads in Action Text attachment uploads
Enable Lint/DuplicateMethods rubocop rule
docs: true/false typo
Enrich the introduction for debug gem (#43621)
Set the execution context from AC::Metal rather than AbstractController
Improve compatibility with `date` versions `3.2.1`, `3.1.2`, `3.0.2` and `2.0.1`
Call yarn directly (#43641)
Add missing # [ci skip]
Support direct uploads to multiple services
Update ActiveStorage Blobs Proxycontroller
Update ActiveStorage Representation Proxycontroller
Remove non-existing encoding task dependency
fix tiny grammatical mistakes[skip ci]
Add actioncable assets to gemspec.
Add a note that index length is supported only by MySQL [skip ci]
Update activerecord/lib/active_record/persistence.rb
Extract ActiveSupport::ExecutionContext out of ActiveRecord::QueryLogs
Update the assets guide to remove uglifier
Clarify what 'running a migration' means
Document `tag.attributes` helper
Add record class to error message
CSS processors other than Tailwind require a node-based JavaScript environment (#43600)
fix typo of using where instead of were
Edit pass in the C2Z HOWTO guide
ActiveRecord::Migration next_migration_number should use integer comparison
Tiny Active Record changelog fix
[ci skip] nope the called method is on the routes module
[ci skip] Ah, we also need to annotate the link as a ref
[ci skip] rdoc please I have a life
[ci skip] Link the view side url_for instead, try to shorten the shown text
[ci skip] Update documenation formatting to link to methods/constants and fix code fences
Simplify allow_other_host extraction so it's easier to read
Replace CSS references with inline basics (#43597)
Raise `ActionController::Redirecting::UnsafeRedirectError` for unsafe `redirect_to` redirects.
[ci skip] Explain redirect_to's open redirect protection, how to enable etc.
Replace complex conditional logic with an explaining comment
Add `url_from` to verify a URL is internal and safe to redirect to
Add hints on how to deal with values of new fields
Split out squished, referer or fallback, logic into distinct branches
Extract open redirect protection to separate method
fix actioncable module field in package.json
Do not consolidate persisted in-memory records
Add accepts_nested_attributes_for support when using delegated_type (#41717)
Only wrap subscriber exceptions if there is more than one
Optimize CurrentAttributes method generation
Use nested queries when doing DELETE and GROUP_BY and HAVINAG clauses present.           MySQL does not support GROUP_BY and HAVING on UPDATE, we need to use a Subquery.
Avoid adding new method to `ActiveSupport`.
Document new executor_around_test_case in the guides
Use nested queries when doing UPDATE in myslq and GROUP_BY and HAVING clauses are present. MySQL does not support GROUP_BY and HAVING on UPDATE, we need to use a Subquery.
Extract AbstractAdapter#schema_version
Document testing in the autoloading guide
Suggest eager load in CI in the testing guide
Suggest eager load in CI in the C2Z HOWTO guide
Include name in from address
remove removed seamless attribute
Support `<form>` elements without `[action]`
Execute `field_error_proc` within view
button_to: Support `authenticity_token:` option
Action View: Support `fields model: [...]`
Make `button_to` more model-aware
Introduce `field_name` view helper
Address intermittent CI failure
Document delivery_job and deliver_later_queue_name
Call Executor#wrap around each test
Rebalance Railties tests
Stop using the deprecated direct_descendants in Active Record
Refactor DescendantsTracker to leverage native Class#descendants on Ruby 3.1
Setup bootsnap to speedup TestRunnerTest
Add :day_format option to date_select
Action Cable: use non-deprecated entrypoint for JS package
Improve active_job test_helper error messages
Revert "Call Executor#wrap around each test"
Don't `SELECT * FROM information_schema.tables`
Remove glob pattern from app/channels load path
Use the native `Class#descendants` if available
Call Executor#wrap around each test
Properly clear the ActiveRecord::QueryLogs context
Skip RedisCacheStore test if no Redis server is running
Link to Host Authorization guides on `blocked_host` page
remove with_tags from query_logs
Check for default function before attribute changes for partial inserts
Add support for setting the schema/structure dump filepath in the config
Add missing punctuations in activerecord CHANGELOG [ci-skip]
Refactor ActiveRecord::QueryLogs context API
Properly handle impossible cases in (not_)between
[ci skip] Corrected small changes to guide for upgrading ruby on rails
Add tests for enum with strings
Ruby 3.1: decorate Process._fork if available
Add a section about autoloading in the Getting Started Guide
Typo: subject-verb agreement in guide
Addresses `Digest::UUID` RFC 4122 compatibility.
Better spacing in environments/production.rb file
Update railties/lib/rails/generators/rails/app/templates/config/environments/test.rb.tt
Enable eager loading by default on CI systems
Update multi-db docs
Clean up load_schema options
Relax dependency on Zeitwerk 2.5
Feature test GC.stat(:total_allocated_objects) rather than check for JRuby
Use Process.clock_gettime unit argument to save some floating point multiplications
Stop using `Concurrent.monotonic_time`
Rails 7.0 requires selenium-webdriver >= 4.0.0
selenium-webdriver 4.0 is out now
Depend on Zeitwerk 2.5
Address `Selenium [DEPRECATION] [:browser_options] :options as a parameter for driver initialization is deprecated.`
Validate encrypted message formats
add a test on application layouts viewport meta tag
re-add viewport meta tag to application layout
Reorder layers to be MVC in README.md
Simplify minitest sample in autoloading guide
Add `ActiveRecord::Base.prohibit_shard_swapping`
Filter unchanged attribute value when default function is available for insert
Create directory when dumping schema cache
Document alternate options for smtp_settings
Allow Capybara driver names to be specified explicitly
When generating form partials, use correct fields for date, time and datetime, timestamp.
No need to specify webdrivers version to support selenium-webdriver 4.0.0
Update missing actionpack CHANGELOG entry for wildcard route fix
Require Dalli 3 in our test suite
Disable Dalli compression on the protocal level
Use `Dalli::Protocol::Binary` instead of deprecated `Dalli::Server`
Use `Dalli::Protocol::Binary` to address deprecataion warning
Bump dalli from 2.7.11 to 3.0.1 in Gemfile.lock
:scissors:
Use a when clause for the Class check
Add validation for ActiveRecord.default_timezone
Depend on Zeitwerk 2.5.0.beta6
Use webdriver 4.6.1 or higher to support selenium-webdriver 4.0.0
Add document `config.active_record.verbose_query_logs` into `Configuring Rails Applications` [skip ci]
[Temporal] Test railties using multiline Regex
Allow multiline to be passed in routes when using wildcards.
Mark ActionFilter as nodoc
Make ActionDispatchRouting::RouteWrapper nodoc
Import actiontext.css when actiontext is installed
Make inversed association stale after updating id
Update rubocop example command to include 'bundle exec'
Add support for custom CSRF strategies.
Document new record_timestamps option on insert_all
fix: duplicate active record objects on inverse_of
Raise error when serializing an anonymous class.
Add timestamp column alias test for upserts
Add high precision creation upsert regression test
Allow record_timestamps override on {in,up}sert_all
Respect model.record_timestamps? in upsert_all
Add tests for existing timestamp behaviour
Optimize loop in insert_all
Allow `ActiveJob::Base.set` to configure job when using `.perform_now`
Updated disable_joins examples for has_one through association.
Extract common behavior of html safe translation to a module
Run `rails new` using specified prerelease version
Factor out AppBase::GemfileEntry#to_s
Better ActionText plain text output for nested lists (#37976)
Factor out AppBase#rails_prerelease?
Be more explicit about lack of inheritance on `thread_mattr_accessor`
Bump required digest version to 3.1.0.pre for Ruby 3.1
Bump Rake pin
Replace spurious whitespace
Stop failing GSRF token generation when session is disabled
Add missing space before a curly
Revise capitalization in title
Wrap guide examples by hand
Even more edits to the classic migration guide
Update the upgrading guide
More edits to the classic migration guide
Edits to the classic migration guide
Typo
Minor edits
New guide to help migrate from classic to zeitwerk mode
Address action_mailbox bug report templates failures with Ruby3.1.0dev
Address test_does_not_raise_if_no_fk_violations failure
clear secure password cache if password is set to `nil`
Make Sprockets more optional, offer Propshaft as alternative (#43261)
Revert STI samples in autoloading guide
Treat html suffix in controller translation
Remove refenrence to destroy_all_in_batches config
Replace more ableist language
Don't require role when passing shard to connected_to
Replace ableist language
Move AllMessages behaviour into Matcher
Remove "matches?" from AS::N subscriber classes
Add ability to lazily load the schema cache on connection
Remove message from ActiveRecord::Rollback example
Ensure we guard against all exceptions, not just StandardError
Use queue_classic branch which works on psql 14
Restore set_autoload_path triggering before bootstrap
Specify ORDER BY enumsortorder for postgres enums
Automatically infer inverse_of with scopes
Replaces the "hash rocket" operator in favor of the newer Ruby syntax when rendering on render
Remove unnecessary if in ExtendedDeterministicUniquenessValidator
Replace "ActionText" with "Action Text" [ci skip]
Remove unused instrumentation hooks from action_controller
Update the documentation for find_by method
Change "bash" to "shell" in getting started guide
Clarify try calls public methods only
Update docs for nested_attributes to reflect default belongs_to behavior and validating parent model.
Avoid instance_exec for controller callbacks
Update MessageEncryptor guide to show that an exception is raised
Depend on Zeitwerk 2.5.0.beta5
Add `partial_inserts` default configuration for Rails 7.0 in guides/source/configuring.md
Improves ActionView FormHelper check_box documentation
Update .github/pull_request_template.md
Warning about draft PRs
Add changelog entry for https://github.com/rails/rails/pull/42501
Replace the word dumb with naive for clarity and inclusivity
More example in the docs about STI and autoloading
Client ensures subscribe command is confirmed. (#41581)
Document easier way to preload STIs
Don't override Object#fork in Ruby 3.0
Prevent error when authenticating user with a blank password digest
Use regular memoization
Avoid class_attrs for unused collection callbacks
Accept optional transaction args to #with_lock
Append trailing slash when the path is generated
Active Storage: incorrect defaults
PostgreSQL: support custom enum types
Setup codespaces prebuild tasks
docs: passwords are *hashed*, not "encrypted"
Depend on Zeitwerk 2.5.0.beta4
Update tests to support guarded InstrumentationSubscriberError
Guard against subscriber exceptions in ActiveSupport::Notifications
specify how to configure zeitwerk by itself
Start the mariadb service in the dev container
Add autocomplete="off" to all generated hidden fields (fixes #42610)
Add fallback host for SystemTestCase driven by RackTest
Add missing migrate command to Getting Started section 8.3
Rename `adapter_short` to `adapter_name`
Allow Marcel to be released following semver
Requires selenium-webdriver 4.0.0
Address LegacyDeliveryJobTest#test_should_send_mail_correctly failure
Use debug 1.1+ for the debugger + log quieting
[ci skip] Add Bootstrap and Bulma to the CSS processors' list (#43254)
Added a test for creating a model with virtual columns and full inserts
Add `bigint` to `NATIVE_DATABASE_TYPES` in mysql & postgres adapter
Add missing configuration to middleware test
Add ActionDispatch::ServerTiming to the list of middlewares in test
Add CHANGELOG entry for ServerTiming middleware [ci skip]
Add Server Timing middleware (#36289)
Add 'resource' to the list of generators which create a new model migration
Added a virtual? method for the column base class which always returns false
Filter virtual columns from the attribute names
Don't overwrite default opts in rich_text_area_tag (#43156)
Only call `wrap_parameters` if it's defined (#43259)
Suggest a CSP that's compatible with Turbo + import map (#43227)
Minor grammatical improvements
Add `beginning_of_week` option to `weekday_options_for_select`
Tidy ups to upgrade guide
Pluralize the heading on the index page generated with scaffold
Move the parameter wrapper code to the ActionController::Railtie class
Add explicit rendering to DiskController#update
Suggest Kredis + bcrypt as long as we're not minimal
Generate less initializers in new/upgraded Rails apps (part 2) (#43237)
Reorder getting_started 8.3 to reduce confusion
Support svg unpaired tags in tag helper
Add mandatory 'stored' option to generated column example
Adds support for deferrable foreign key constraints in PostgreSQL
Return just the address if name is blank
Restore behavior added in ff66477182c7da49af2735e93886bebeac1eb162
Add back Rack::Runtime to the default middleware stack.
Preparing for 7.0.0.alpha2 release
Don't use exact version in the actiontext npm dependencies
Preparing for 7.0.0.alpha1 release
Check basic auth credentials contains a colon
Use `:hybrid` by default in the Rails 7 new defaults
Introduce ActiveModel::API
Update guide and actioncable tests to use appropriate concurrent-ruby class
Don't skip some columns in `column_types` on Postgres
Change default X-XSS-Protection header to '0'
Avoid comment calls in pg:dump
Require a version compatible with Turbo
Clearer default gemfile (#43212)
Add section "Why Encrypt Data at the Application Level" to the guide (#43202)
Remove warning when overwriting existing scopes
Use an if statement instead of a case statement
Add a template per case on asset debugging tests
Avoid scoping update transaction when calling update! on a relation
Use the same description
Require by default for plugins too
Style
Turn on ruby/debug by default in dev + test
Mention Good Job as Active Job backend.
Document upgrading instructions for Spring (again)
Document upgrading instructions for Spring
Upgrade debug to 1.0.0
Revise style
Depend on ruby/debug, replacing Byebug
Don't show deprecation warning for equal paths
Let jsbundling-rails expand without requiring a change in Rails
Add --css app generator option (#43177)
Remove `if current_adapter?(:PostgreSQLAdapter)`
Active Record bin/test command runs only its own adapter tests
Extract `list_tests` from `Rails::TestUnit::Runner.load_tests`
Use `polymorphic_class_for` over `constantize`
Use the combined jsbundling-rails gem instead of individual js bundler gems (#43172)
Add back Lint/UselessAssignment
Replace :location with :request in process_action.action_controller
Enable `Style/ExplicitBlockArgument` cop
Get rid of `mattr_accessor` in `ActiveSupport::Dependencies`
Move Zeitwerk to railties
Move the default autoloaders inflector to railties
Add rollup as JavaScript option (#43164)
Javascript generator option with choices (#43160)
More examples in the autoloading guide
Autoloading notes in the upgrading guide
Formatting
Update the AS CHANGELOG
Small improvements to the Configuring guide [ci-skip]
Show Active Storage configs defaults as multiline code blocks [ci-skip]
Use headings for configs in Configuration guide [ci-skip]
Revise private docs of AS::Dependencies
Update the webpacker installation documentation as Rails 7 won't default install webpacker
Depends on Zeitwerk 2.5.0.beta3
No need to have special accomodations for a github version in dev/edge/main (#43139)
[#42813] Render host_authorization debug view only for local requests
Replace link to the line on Github with Rdoc link
Replace weak links with config names
Clarify STI acronym
Use loaded records where possible when preloading
Update missing Rails mailing list URLs
Move most recent CHANGELOG entry to the top of file
Copy edits the railties CHANGELOG
Update link in README
Improve gem comment condition
Don't add attribute_names to ActiveModel::Serialization public API
Use static message when raising HTTP request parameter parse errors
Improve casing in encryption guide headings
Remove duplicated statement that was already happening in raw_execute
Remove need for using alias_method trick using the inheritance
Document config.active_record.schema_cache_ignored_tables in the guide
Add HEIF image types to variable content types
Add ssl support for postgresql database tasks
Add SSL support for postgresql in bin/rails dbconsole
More railties CHANGELOG updates
Updates railties CHANGELOG
Updates guides CHANGELOG
Use full precision for `updated_at` in `insert_all`/`upsert_all`
Add precision: 6 to books.{created,updated}_at test table
Add high_precision_current_timestamp to adapters
Add ability to ignore tables in the schema cache
Eliminate some `Integer() rescue nil` patterns in Action Text
Make schema cache methods behave consistently
Close guides dropdown with Escape keypress
Missed a generator assets spot
Document that @rails/ujs is deprecated (#43112)
Remove default reliance on Sass and CSS generators (#43110)
Change links from github.com to api.rubyonrails.org
Keep RedirectController links consistent.
Replace webpack with importmapped Hotwire as default js (#42999)
Iterates docs about autoloading during boot
Avoid use of exceptions to detect invalid floats
Avoid returning a constant in ActionDispatch::ShowExceptions
[ci skip] Fully qualify attributes (we're in docs) and move them above the class so it's not confused with the belongs_to's
[ci skip] Use more consistent spacing; trim some ending newlines
[ci skip] Use more modern tag.x call structure
[ci skip] Modernize  example; make it consistent with the example at the top documentation
[ci skip] Use symbols and double quoted strings more consistently in these docs
Refactor ActiveRecord::QueryLogs hook point
Temporarily disable Azure service tests (#43091)
Stop ignoring tmp/storage/.keep
Clear up `resolve_link_as`
Support gem comments in Rails templates
Make preload_link_tag work with images
Copy-edit documentation [ci skip]
Move `assert_raise` into behavior classes
fix rubymine copy/paste spaces
Reset `caching_with_rails.md` file
Address PR comments.
Add test case
Revert the `raise_errors` param and Removed rescue block from `ActiveSupport::Cache::RedisCacheStore#handle_exception`
Look yarnpkg in $PATH other than yarn (#42253)
Handle NullObject instances in Active Job query tag
Update CHANGELOG.md
Update documentation
init commit
Upgrade azure-storage-blob to use at least 2.0.0
Add a test to catch regressions for render_to_string to not override subsequent render
Allow testing `discard_on/retry_on ActiveJob::DeserializationError`
Pass `ActiveRecord::QueryLogs` as argument rather than `instance_exec`
Add require to failing multi_db test
Move AS::Dependencies.clear to the main file
Make `QueryLogs.set_context` restore previous values
Make ActiveRecord::QueryLogs default behavior to return the context content
Install ImageMagick from source for latest version with SVG support
Add bundle install and yarn install to Dockerfile
Delete AS::Dependencies.verbose=
Delete AS::Dependencies.autoloaded_constants
Delete private constant AS::Dependencies::UNBOUND_METHOD_MODULE_NAME
AS::Dependencies no longer extends self
Delete the classic version of AS::Dependencies.clear
Delete the classic version of AS::Dependencies.autoloaded_constants
Delete AS::Dependencies.autoloaded?
Enable passing env var paths to cli -m option
Deletes spurious spaces
Remove autoloading logic from AS::DescendantsTracker
Namespace fixture classes in this test
Don't use redundant curly braces in `where` examples [ci-skip]
Delete extra empty line
Restore AJ autoloading test
Restore autoloading test for STI
Let the Action Pack autoload with Zeitwerk
Update Gemfile.lock
Depends on Zeitwerk 2.5.0.beta2
Mention Codespace in contribution guide
Github Codespaces configuration
Delete AS::Dependencies.safe_constantize
Delete AS::Dependencies.constantize
Reestablish connection to previous database after after running `db:schema:load:name`
Filter attributes in SQL logs
Improve Documentation around the options that can be passed to order.
Improve description of ActiveRecord.joins [ci-skip]
Delete orphan requires in AS::Dependencies
Delete AS::Dependencies.explicitly_unloadable_constants
Delete AS::Dependencies.mechanism
Delete AS::Dependencies.load?
Delete AS::Dependencies.autoloadable_module?
Delete AS::Dependencies.load_once_path?
Delete AS::Dependencies.uninitialized_constant
Delete AS::Dependencies::WatchStack
Delete AS::Dependencies.constant_watch_stack
Delete AS::Dependencies.will_autoload?
Delete AS::Dependencies.mark_for_unload
Delete AS::Dependencies.loading
Delete AS::Dependencies.loaded
Delete AS::Dependencies.history
Delete AS::Dependencies.remove_constant
Delete AS::Dependencies.new_constants_in
Delete AS::Dependencies.qualified_name_for
Delete AS::Dependencies.autoload_module!
Delete AS::Dependencies.remove_unloadable_constants!
Delete AS::Dependencies.load_file
Delete AS::Dependencies.loadable_constants_for_path
Delete AS::Dependencies.require_or_load
Delete AS::Dependencies.load_missing_constant
Delete AS::Dependencies::Loadable
Delete AS::Dependencies::ModuleConstMissing
Delete AS::Dependencies.depend_on
Revises the autoloading guide [skip ci]
Make `DatabaseConnectionError` a subclass of `ConnectionNotEstablished`
Makes the array syntax consistant with other use cases
Tweaks wording in guide [skip ci]
avoid calling attributes.keys in ActiveModel#serializable_hash
Delay the exclusion of the configs to the last minute
No need to check if the logs are enable to run those tests
Only try to configure the query log tags if Active Record is present
Stop relying on mutating the configuration object
Improve taggings API by introducing a null object
Allow tag values to be static
No need for memoization
Move default tagging configuration to the railtie
Remove more unneeded methods that should be configs
Some stylistics changes
Avoid using class_eval and just include a module
Document query tags configs
Do not change the framework if all we want are configs
Allow url_for to infer the name of the link from Model#to_s
Avoid `orders_count` in Active Record `order` guide examples
Replace kwarg for displaying all configurations
Tweak unreachable assertion tests in the block of `assert_raises`
Update activestorage/CHANGELOG.md
Instrument ActiveStorage analyzers
Documents config.autoload_once_paths
Setup the once autoloader on bootstrap
Deletes the initializer `ensure_autoload_once_paths_as_subset`
Deletes the initializer `warn_if_autoloaded`
Delete AS::Dependencies.unhook!
Delete AS::Dependencies.hook!
Implement db config option `database_tasks: false`
Add `weekday_options_for_select` method
[ci skip] Undocument send_blob_byte_range_data, don't commit to a public API just yet
Encryption scheme is commong (no need to instantiate 1 per attribute)
Remove `table_exists?` check that became unnecessary after #43009
Make active record encryption work with store attributes
Action Text installer should assume importmap for asset pipeline (#43011)
Ensure image processing gem is enabled when turning on action text so image uploads work out-of-the-box (#43010)
Switch to ESM compatible build of trix
Move length-validation for encrypted columns after schema is loaded
Reduce file size of tiff image in Active Storage
Restore the behavior of journey root node methods
Enforce standardizing nodoc comments by rubocop
Remove spring as a default installation option (#42997)
Remove docs of now gone --skip-gemfile [skip ci]
Remove test and docs of now gone --skip-puma
Puma is the only option used for the web server (#42998)
Legacy option from the days of Bundler opposition (#42996)
Stop trying to configure listen by default on compatible platforms (#42985)
Set record_timestamps = true in AR::InternalMetadata
Remove warning logged for vips variant test cases
Allow pg query param syntax
Move require_dependencies suite to the one for dependencies
Change diff highlighting background for dark mode
Slient the deprecation warning for ActiveStorage.replace_on_assign_to_many logged in test cases
Slient the warning for ActiveStorage::Current.host logged in test cases
Simplify `pluck(:value).first` to `pick(:value)`
Deletes the guide for classic mode [skip ci]
rack-mini-profiler interferes with etag cache testing (#42986)
Sprockets shouldn't be in debug mode by default in development (#42984)
Delete the initializer `initialize_dependency_mechanism`
Add tests for interrupting transactions
Cancel current postgres query on rollback
Avoid building full path objects when cached
Remove cache from Template::Resolver
Normalize locals in unbound templates
Use TemplateDetails::Requested as details_key
Deletes the classic implementation of require_dependency
Add QueryLogTags to Rails
improve PG index schema queries
Deletes classic test related to STI
Deletes an AJ test that used classic
Implement support for before_remove_const in zeitwek mode
Add database specific setup and reset tasks
Move dependency tracker tests shared examples
Add missing dots to changelogs
nodoc `field_ordered_value` [ci skip]
Relax version constraint in bug report templates
docs: use Arel.sql examples that require Arel.sql
Remove docs on multiple applications
Output Action Cable JS without transpiling and as ESM (#42856)
Avoid `class_eval`
Standardize :doc: comments [ci skip]
Update yarn.lock
Squashed commit of the following:
Allow using a different socket to test mysql
Remove duplicated test
Address "NameError: Rails couldn't find a valid model for Club association"
Default to ERB Tracker
Allow testing action cable with a different redis port
Document autoloading and engines [skip ci]
Document Active Storage implicit transformations
Upgrades Zeitwerk to 2.5.0.beta
Move comment after newline in installed migrations
Add caching? helper method
Reduce allocations and retentions in Journey TransitionTable
Better description for ensuring_owner_was prop
Add `ActiveRecord::QueryMethods#in_order_of`.
Add `ActiveRecord::Relation#structurally_compatible?`.
ensuring_owner_was enabled only with dependent
Avoid logging delayed job arguments if log_arguments set to false
Standardize nodoc comments
Allow entirely opting out of deprecation warnings
Introduce Journey::Ast to avoid extra ast walks
Remove regex alteration for custom routes
s/octopus/cactus
Address `bundle exec blade build` failure with ruby 3.1.0dev
`retry_on` parameter `attempts` now accepts `:unlimited` (#41761)
Add plugin to common command USAGE (#41457)
Update resolve_link_as to include SVG (#42892)
No underscore style (#42898)
Remove offensive wording from active record
Move Active Storage JS to ESM and drop Babel transpiling (#42895)
Add more detail about what hosts are allowed
Apply :nodoc: to all DatabaseStatements overrides [ci-skip]
Remove "stupid" from active record
Update globalid to 0.5.1 for ruby-head compatibility
Remove mechanism to disable test parallelization when runnin gonly 1 test
Improve sections on instrumentation guides [ci skip]
Remove leak when using CurrentAttributes in thread variables
Make Action Text + Trix JS/CSS available via the asset pipeline (#42857)
Active job basic doc grammer mistakes fixed
Use definite article in comment to specify returned value
Use definite article in comment to specify returned value
Remove redundant whitespace from actionpack/CHANGELOG.md
Provide `delete` and `delete!` with some rdoc description
assert_changes works on including Assertions class
"Middleware#remove" is renamed "Middleware#delete!"
Remove outdated comment in ActiveRecord::Associations::AssociationScope#add_constraints [ci skip]
Add favicon to header dom element for welcome controller.
FIX: Setting remove_deprecated_time_with_zone_name in new framework defaults
Representable docs: Refer to the 'variant processor' not ImageMagick
Render copy-to-clipboard text in element attribute [ci-skip]
Slimmer ActiveModel::Errors#inspect
Add host authorization middleware options to the config guide
Isolate descendants garbage collection test
Raise error on unpermitted open redirects.
Avoid double wait in EventedFileUpdateCheckerTest
Remove nodoc from EachValidator [ci-skip]
Improve help for Rake tasks
MemCacheStore: Properly duplicate local cache values in 6.1 mode
Allow using thread variables for CurrentAttributes instances
Correct Inflector.humanize keep_id_suffix argument docs
Deprecate :poltergeist, :webkit instead of removing.
Remove `poltergeist` and `webkit` driver registration logics in system testing. Add `cuprite` instead.
chore: Use `e.g.` which is the more used spelling
:scissors: [ci skip]
Add `Middleware#remove` to delete middleware or raise if not found.
ActiveSupport::Configurable default value option
Arel: Add support for FILTER clause (SQL:2003)
Refactor local cache to avoid serializing entries repeatedly
Document ActiveStorage::Preview#download
Add change tracking methods for belongs_to associations
Add option to disable schema dumb per-database
Don't require ActionDispatch::{Request,Response}
Don't eager load ActionController::Live
Pass log_rescued_responses as environment config
Add an option threshold: to .parallel() setup method (#42789)
Sort migration ID as int in db:migrate:status for consistency.
Remove "transversal" from the Active Support definition
Added possibility to check on `:priority` in test helper methods
Make vips the default variant processor for new apps
Used already defined method parallelized? and fixed semantics of the test name.
Update service.rb (#42766)
Raise error on invalid fixture primary key
Add `available_records` argument to Associations::Preloader
Remove unnecessary dup from FormTagHelper#field_id
Parallelize tests only when overhead is justified
Show keyboard focus indicator in guides [ci-skip]
Exclude added flash types from action_methods
Avoid splats in LookupContext and PathSet
Resolve bug in nested FormBuilder#field_id
Use Array() instead of Array ===
Add error handling for metadata server
Document ActiveStorage::Attachment#variant
Optionally use IAM for URL signing instead of :credentials
Store requested detail indexes in hashes
Move forced encoding on deterministic encryption to the default encryptor
Refactor ActiveRecord::Type::TypeMap
Add an entry for active_record.partial_inserts in new_framework_defaults
Define adapter type maps statically when possible
[ci-skip] typo fix in activerecord changelog
Disable Active Record partial_inserts by default in Rails 7.0
Add 'requirements' subsection to active storage guide
Add docs for `attr_readonly`
Replace dependency tracker with ripper based tracker
Remove undefined `ensure_zeitwerk_mode`
Avoid using class var in LoggerThreadSafeLevel
Update actionview/CHANGELOG.md
Log a warning when assertions are incorrectly nested and errors are raised
Add CHANGELOG for #42674
Add CHANGELOG message for PR #41283
Removes unnecessary calls to zeitwerk_enabled?
[CI skip] Add `(see below)` notations to threading documentation
Update active storage guide to match recent PRs
:nail_care: remove space before colon on config list
Ask contributors to update the documentation
Handle paths with spaces when editing credentials
Add `:nodoc` to `ActiveModel::Errors`
Add missing require to `active_model/naming`
Improve logging of schema cache at startup.
Verify foreign keys after loading fixtures
Micro-optimize ActiveRecord::Core#hash
Truncate more ActionCable broadcast messages to 300 chars
Add missing new defaults to new_framework_defaults_7_0.rb.tt
Clarify new_framework_defaults instructions
Help identifying why we have an InvalidAuthenticityToken exception
:nail_care: complete sentence in railties/CHANGELOG
destroy_all_in_batches is off by default for newly generated Rails apps.
config_for accepts root shared as an array
:nodoc: `FakeRuntime` [ci skip]
:nodoc: for corrections
Spell checking if `record` and `association_name` are provided for `AssociationNotFoundError`
Migrate `DidYouMean.correct_error` to `DidYouMean::Correctable` for `MissingTemplate`
Generators should raise an error if an attribute has an invalid index type
Remove linebreak from hash_digest framework defaults for consistency
Clean up checks to see if DidYouMean is defined
unsafe_load secrets.yml with psych 4
Permit attachments in mailbox conductor params
Address `NameError: uninitialized constant Digest::UUID::OpenSSL`
Configure browser only when using Selenium
Clear cached has_one association after setting belongs_to association to nil
Deleting an item from the Middleware stack should raise if the item is not found
Ensure Action Text migration use config set primary_key_type
Allow removing LocalCache middleware in application.rb
Problem: ActionMailbox uses default ActiveStorage service
Always use OpenSSL constants for Digest operations
:scissors:
Remove cvar for registered details
Expand guides descriptions for the index
Make ActiveStorage update migration compatible with install migration
Adjust docs of create_or_find_by
Remove note for documentation changes to not run CI
Adding docs link to ujs readme
ActiveRecord::Relation#destroy_all perform its work in batches
Add support for ordinal date values in AS::TimeZone.iso8601
Deprecate replace_on_assign_to_many
Remove LocalCache in FileStore
Add CHANGELOG for #42572
Replace uglifier with terser in dummy applications
Remove already deprecated methods in ActiveStorage
Use guides links instead of the edge guides [ci skip]
[ci skip] replace Uglifier example with Terser
Add terser as option to JavaScript compressors list
Add support for `if_exists/if_not_exists` on `remove_foreign_key/add_foreign_key`
Remove docs for `render layout:` with a block and args
ActiveStorage::Representations controllers: add support of strict_loading_by_default
:nail_care: Adjust the wording for AC::DataStreaming Cache-Control hack [ci skip]
typo fix in error raised
Prevent polluting ENV with postgres vars
Remove IE6-7-8 file download related hack/fix
`Time#change` should pass the `zone` property through if it's set
Add test case for add_column on rails 5.0 migrations
Test default precision against 6.1
Consider AC::Parameters as Hash in url_for
Revert "Disable automatic write protection on replicas"
Report async queries lock wait duration
Improve ActiveStorage security documentation [ci skip]
Set precision 6 by default for datetime
Split out TestRun from ci/qunit-selenium-runner to separate file
Skip logging backtrace when exception is in `rescue_responses`
Adjust guides to explain the need to disable the ActiveStorage default routes when implementing authenticated routes [ci skip]
Implement ActionMailbox incinerate in conductor
Convert strict_loading_mode from class attr to ivar
Move `find_target` to more correct place for disable joins
Orphaned attachment relationship safe navigation
Add note about action names versus ActionController reserved methods
add connection_identifier assertion to ConnectionStub test
ConnectionStub identifiers are methods, not ivars
[ci skip] Add link to AWS S3 yard documentation
Formatting markup in comment
Ignore file fixtures on `db:fixtures:load`
add full license
Make AssetTagHelper#preload_link_tag to use path_to_asset method instead of asset_path.
Move test to more correct file
add connection_identifier to ConnectionStub
[ci skip] Enhance delegated types example & schema
Update link to "Serving Files" header changed previously [ci skip]
Use relative anchor link since this is the same file [ci skip]
Optimized Cache::Entry should support old dalli_store values
removed unused function param
Test cleanup for cache store tests
Update CHANGELOG.md
Allow preloads on instance dependent associations
Documentation for ActionController::API use neutral language [ci skip]
Migrate asset pipeline to modern javascript
Add Authenticated Controllers example to Active Storage guide [skip ci]
Document caveat when deleting old migrations
Allow to detach an attachment when record is not persisted
ActiveStorage: fix default video_preview_arguments
Update test dummy application defaults
Add support to libvips in the image analyzer
Update docs active record encryption
Add metadata value for presence of video channel in video blobs
Generate less initializers in new/upgraded Rails apps
Trigger Build
Raise an error if `pool_config` is `nil` in `set_pool_config`
Add CHANGELOG for #42532
Added audio analysis info to activestorage guides.
Allow any module or class to be converted to JSON in a simple way
Use images instead of avatars for example [ci skip]
[ci skip] Expand on disable-prevent-writes changelog entry
Output UJs test failures in CI
Upgrade development gems
Revert "Extract methods `assert_queries` and `assert_no_queries`"
Performance regression in CollectionAssocation#build
Don't reuse the same connection to drop the tables
Simplify the implementation by only calling the checks in the right places
Clear connections in this test too
Re-allow committing transactions already rolled back
When state is invalidated, skip rollbacks and raise on commits
Add an "invalidated" TransactionState
Rubocop: remove empty line
Add Mysql2NestedDeadlockTest, PostgresqlTransactionNestedTest
Deprecate usage of `purge` and `purge_later` from the association extension.
Passing extra parameters in `ActiveStorage::Blob#url` to S3 Client
Forced encoding for deterministic encryption and other improvements (#42491)
Updated the has_many_attached references in the examples.
Support default `cache_control` in GCS Active Storage
Active Storage: docs on lazy vs immediate loading
Add space between "ActiveStorage" in documentation [ci skip]
[ci skip] Improved Active Model Basics
Improve "Serving Files" headings [ci skip]
Disable automatic write protection on replicas
Set Active Record configurations on after_initialize
Strict loading cascade down to middle records
Improve ActiveStorage 'Linking to Files' section in guides [ci skip]
Mysql adapters: improve security of untyped bound values
ActiveStorage: The parameters sent to `ffmpeg` for are now configurable
Allow permitting numeric params
Move maintain_test_schema temporarily back to Core
Quick fix for the `maintain_test_schema` load order issue
Downcase id attribute values
Don't attach UJS form submission handlers to Turbo forms (#42476)
Revert "Run ActiveRecord -> ActiveJob integration tests in CI"
Run ActiveRecord -> ActiveJob integration tests in CI
Validate keys in the `_fixture` field
Support clearing acronyms in ActiveSupport::Inflector::Inflections
Define deprecated delegators for the cattr that were moved out of AR::Base
add space
Correct documentation around ActiveRecord::Associations::Preloader#initialize [skip ci]
Explain differences between variant processors.
Add `relation.and` documentation to the guides [skip ci]
Update activestorage/app/models/active_storage/variant_with_record.rb
Document Active Storage & Action Text eager loading
Extract methods `assert_queries` and `assert_no_queries`
Add support for ActiveStorage expiring URLs
Add missing DOM ids to rails/mailers/email.html template
Update http_authentication.rb
[ci skip] Improved Action View Overview
[ci skip] Corrected Grammatical Error
Implement 'no_store' HTTP cache directive method
Multi DB docs improvements
make Model.find_by! error consistent
Respect Active Record's primary_key_type in Active Storage migrations
Make `signed_id_verifier_secret` a class attribute
Make `primary_key_prefix_type` a class attribute
Make `time_zone_aware_attributes` a class attribute
Make `index_nested_attribute_errors` a module instance variable
:scissors: [ci skip]
Copy `config.active_record.*` again when `ActiveRecord::Base` is loaded
Move async_query confurations on the ActiveRecord module
Make `maintain_test_schema` a module instance variable
Make `queues` a module instance variable
Make `verbose_query_logs` a module instance variable
Convert many ActiveRecord::Base class variable into instance variables
Make `action_on_strict_loading_violation` a module instance variable
Get rid of the unused ActiveRecord::Base.sqlite3_production_warning
Make `application_record_class` a module instance variable
Make `warn_on_records_fetched_greater_than` a module instance variable
Make `reading_role` and `writing_role` module instance variables
Make `default_timezone` a module instance variable
Add x86_64-darwin-20 platform to the Gemfile
Make `legacy_connection_handling` a module instance variable
Add example for update_all vs. update
Correct changelog for #42423 to be class method instead of instance
Expand on AR::Base for method definition from #42423 [ci skip]
Add CHANGELOG for #42423
Use consistent and more clear wording
Use the lookup_context to find the correct template path
[ci skip] clarify rails 6 for AS :attachment
Use the current Rails->npm_version for package.json
Add metadata value for presence of audio channel in video blobs
Update development gems
Add audio analyzer to active storage
Travel back after block
Update activerecord/lib/active_record/persistence.rb
add Model.update! that is similar to Model.update but raises exceptions
Default values are not evaluated when overridden
Improve `AS::TimeWithZone` error message on `NoMethodError`
Add ActiveModel::AttributeSet#values_for_database
Return "test" as the controller_name in ActionView tests
[ci skip] Kindle info icon fix
Update wording on how to issue a pull request [ci skip]
Use an empty query instead of SELECT 1
Add `net/smtp` gem for bug report templates to support Ruby 3.1
Update Active Storage guide about num migration added in setup
Allow travel blocks after standalone travelt
Add 'self' to ApplicationController CSP
[ci skip] Improved and corrected grammatical errors in Action Controller Overview
Allow expires_in for ActiveStorage signed ids
Document Action Text rich_text field attribute [ci skip]
Document Active Storage attachment and attachments field generators [ci skip]
Add `ActiveRecord::Base#previously_persisted?`
Add option to strip trailing newlines from ERB templates
Remove Command::Spellchecker and use DidYouMean for suggestions
Update railties/lib/rails/generators/rails/app/templates/config/routes.rb.tt
Add a commented root path declaration to routes.rb
actionpack: Use an infinite sized queue in testing ActionController::Live
Add docs for CDN in front of ActiveStorage [ci skip]
Make `ActiveRecord::Base.has_many_inversing` a `class_attribute`
Add `with_all_variant_records` method to eager load all variant records on an attachment at once
Raise missing key error when master key env var is blank
Further clarify internationalization example copy
Update links and copy on i18n guide [ci skip]
Remove DidYouMean fallback for Rails::Command::Spellchecker
Revises examples in the callbacks guide [skip ci]
Document ActiveStorage::Attached::One#blank? [ci skip]
Update compatibility.rb
Drop support for the `SERVER_ADDR` header
Add developer docs on how `ActiveRecord::Migration::Compatibility` works
Change puma.rb.tt and storage.yml.tt docs to use binstubs
Credentials: support hash style access in more cases
Use `Bundler.unbundled_system` for bug_report_templates tests
Always use %f formatter for ISO8601 durations since they can't be in scientific notation
Deprecate `partial_writes` in favor of `partial_inserts` and `partial_updates`
Faster check for any default scope with all_queries
[ci skip] Mention executable test cases in issue template
Bump rack to remove ssl? override
Add test for API only apps using database selector middleware
Set session options when initializing a basic session
Verify raised error message in test case
NumberToRoundedConverter should handle -Float::INFINITY
Add failing test for link_tags when streaming
Dont send preload links headers if streaming
Correct example config method
Update guides/source/configuring.md
[ci skip] Corrected Change logs to Changelogs
[ci skip] Corrected Typos and Replacement to make doc concise
[ci skip] Improved Sentence + Removed and added commas at correct places
Add note regarding "trix-content" class
Use BigDecimal compatible operation in NumberToRoundedConverter
Add tests for and method
Provide some advice for _when_ and _how_ to use configuration without breaking initialization
Added test for or query error message
Generators should raise an error if a field has an invalid type
Wording tweak in CHANGELOG [skip ci]
`rails tmp:clear`: clear tmp/storage
Expose BatchEnumerator attributes
Allow to overwrite Cache-Control header in `fresh_when` and `stale?`
Add net-smtp, net-pop, net-imap and matrix to the Gemfile to fix the ruby-head build
cause rails to correctly place optional path parameters
Add load hook for ActiveStorage::VariantRecord
Minor test fix
Minor docs style fix [ci skip]
Invoke namespaced task when necessary
Active Storage: Encourage `Rails.env` in bucket names Part 2
Add tests for argument error messages in ActiveRecord methods
Prefer (...) over ruby2_keywords for ActiveModel::Type.lookup
Add tests for ArgumentError errors in finder methods
Remove redundant tests for Relation#select
Revert "Lock benchmark-ips version "< 2.9.0""
Support using replicas when using `rails dbconsole`
typo: subject-verb disagreement
Minor: Typo in ActiveSupport::SecureCompareRotator doc
Test no arguments error message for both `left_joins` and `left_outer_joins`
Add from: option to ActiveSupport::TestCase#assert_no_changes
Add precision to Active Storage timestamps where supported
Enhancement: refactor and add tests to the query methods argument errors
Lock benchmark-ips version "< 2.9.0"
[ci skip] Improve sentence around setting xhr:true for process method in testing/integration.rb
Improve guides note about using a proc/lambda as a route endpoint
Upgrade sdoc to 2.2.0
Make ActiveRecord::Base.logger a class_attribute
Remove `ActionDispatch::Flash::NullFlash`
Support NullsFirst for all databases.
Added more regression for activejob Range serializer.
Make sure it's clear to avoid VERIFY_NONE generally
Avoid running async queries on null relations
Apply suggestions from code review
Add a more detailed error messages for connection issues to pg and mysql. Allow database to be create via a button on the UI for some connection issues.
Explicitly fail on attempts to write into disabled sessions
Added actioncable redis adapter SSL/TLS connection information to docs.
Add Range to list of supported arguments for jobs
Add Range serializer for ActiveJob
Active Storage: don't crash if mini_mime doesn't recognize content_type
Display a help message if `rails new` is called without a path
Keep process_action private when redefined
Improve performance of #one? and #many?
Update guides/source/api_documentation_guidelines.md
Add changelog entry for #42212
Add explanation for GH links vs RDoc generated links cc #28608
Don't check `type` on `add_column` via column_exists?`
Derive foreign key from model name in `has_many` associations
ensure normalize_name is operating on a string
Compute table name based on model name
Add example for proc-based route to Routing guide
Handle duplicate migration names in multi db
Encapsulate "details" into TemplateDetails
`select!` and `reject!` doesn't return `self` unless any elements are matched
Add missing slash to `test_parse_root_partial_with_slash`
Remove duplicated `test_parse_partial`
update tests for SecureRandom.base58 method
Appease rubocop
Revert "un-extract the Arel visitor for SelectOptions"
Log a warning when running SQLite in production
Avoid sending preload links for `data:` URLs
Improve docs for TemplatePath
Use TemplatePath in Digestor
Return TemplatePaths from all_template_paths
Implement TemplatePath.parse
Extract ActionView::TemplatePath
Optimize normalize_name
Routing guide grammar fixes
allow ActiveRecord::ConnectionAdapters::PostgreSQL::Quoting to match schema namespaced table columns
Raise a meaningful error if ActiveStorage::Current.host is blank
Allow Relation#sum to take an `init` parameters
Active Storage: encourage `Rails.env` in bucket names
Clarify require necessity for --minimal app
Update docs for ActiveRecord::Middleware::DatabaseSelector [ci skip]
Remove redundant escapes
Remove redundant \s* in mime type regexp
Reduce duplication for mime type regexps
Use a NullFlash object when the session store is disabled
[ci-skip] Improve doc for ActiveSupport::Callbacks.skip_callback
[ci-skip] fix docs for ActiveRecord select_all
Update how to configure Action Mailer interceptors/observers
Add missing require to active_support/callbacks.rb
Change core_ext cherry picking example.
Restore implicit to_s for content_for and provide
Add has_one through disable_joins
Active Record + PostgreSQL: native support for `timestamp with time zone`
Add docs on how to write tests for using Active Storage [ci skip]
Add a public writer for `ActiveStorage::Service::DiskService#root`
Deduplicate the environment glob in engine paths
Clarify that ActionDispatch::DebugLocks is accessible via HTTP (#42160)
Remove unnecessary array conversion in log_array
Special case SafeBuffer#concat(nil) to avoid the bulk of deprecations
Return an empty array if annotated_source_code is nil.
Make Rubocop happy adding extra spaces
Allow setting a custom path to store the System Test screenshots
Change HTML `img` tag to lowercase [ci skip]
Prevent slow regex when parsing host authorization header
Escape allow list hosts correctly
Prevent string polymorphic route arguments
Prevent catastrophic backtracking during mime parsing
Add support for require-trusted-types-for and trusted-types csp headers
Update Gemfile.lock
Updated #quote comments and removed if-else block.
Add spell checking with codespell as a GitHub Action
Remove aliases with two letter:
Add documentation on spell checking with `misspell` [ci skip]
Deprecates `Enumerable#sum` and `Array#sum`
Arel::Visitors::Dot renders all attributes of some AST node types
add support to Arel::Visitors::Dot for some missing AST node types
Deprecate implicitly coercing objects to string in ActiveSupport::SafeBuffer
Cache and reuse generated attribute methods
Modify `assert_storage_performance` to be quiet by default
Remove unused `clear_association_cache`
Refactor schema creation to extract `new_check_constraint_definition`
Refactor schema creation to extract `new_foreign_key_definition`
Ensure association target classes exist
use Arel::Visitors::Dot#visit_edge where it would simplify
Remove unnecessary method aliases from Arel::Visitors::Dot
simplify Arel::Visitors::Dot
un-extract the Arel visitor for SelectOptions
Add `include_seconds` option for `time_field`
Update all Migration version references
Improve guide of Command Line Injection [ci skip]
Describe unsafe usage of `invert_where` method [ci skip]
Simplify `Session.sweep` method example in security doc [ci skip]
Matched guide example with rails api docs [ci skip]
Minor tweaks for Getting Started Guide [ci skip]
Optimize remove_columns to use a single SQL statement when supported
Correction to docs for #to_sentence, :words_connector
Restore dynamic URL example in Action Cable guide [ci skip]
Pass default values for `translate` through I18n
New-line before the codeblock
Used double quotes in template file for consistency.
Rename "master key" -> "primary key" in Active Record encryption
Allow access to nested secrets by method calls
Test callback behavior when update_attribute in callback
Test to prevent endless loop caused by changes to dirty attributes
Revert "Only update dirty attributes once for cyclic autosave callbacks"
Incorporate feedback
Add support for generated columns in PostgreSQL
Adds option `extname` to stylesheet_link_tag to exclude automatically appended `.css` extension.
Include code to hide archived comments
Use filter_map for template_glob
Extract and optimize virtual path building
Specify rails --version check should be in a new terminal
Configure a default timeout for the smtp delivery method
Document the defaults of cache_format_version
Register autload for Deduplicable
Add test coverage for bulk altering timestamps
Updated actiontext package file to use latest version
Extend example code for autoloading serializers
Use beaneater 1.0.0 to workardound `ArgumentError: wrong number of arguments` error
Make sure not to generate Link headers longer than 8kiB
Silence assert_slower_by_at_most by default
use ruby 2.7's filter_map instead of select + map
Ensure `reload` re-applies preload values for strict loading
Tidy up wording in "Action Mailer Configuration for Gmail" [skip ci] [docs]
Document the new Active Support cache format
Action Text: forward form: option to hidden input
Change `send` back to `public_send`
Make changes_applied public again
Implement an optimized Cache::Entry coder
Enable `Layout/EndOfLine` to prevent \r\n is included in the future
Added more test coverage for comparison validator.
Convert \r\n to \n
Enable `Performance/MapCompact` cop
Enable `Performance/StringReplacement` cop
Update ActionPack documentation to remove views mention
Replace `gsub` with `tr`
Replace map + compact with filter_map
Ensure variables are not nil in case enlist_fixture_connections is called
Eagerly close Dalli connections in MemCachedStoreTest
Get rid of another SecureRandom.hex in MemCachedStoreTest
Add test to validate that ciphertext is returned when all previous schemes fail
Extract helper method for common logic across tests
Add missing text for encryption exception raising
We want to check previous_types ignoring clean text type here
Rename previous_types_including_clean_text => previous_types
Refactor Cache::Entry compression handling
Don't remove pool managers for test classes
Allow loading nested locales in engines
Split method with boolean argument into two to improve clarity
Stop internationalizing Duration#inspect
Setup autoload on SchemaCache
Remove unused constant `FileSystemResolver::EXTENSIONS`
Ensure `Rails.application.config_for` always cast hashes to `ActiveSupport::OrderedOptions`.
Replace SecureRandom.random_bytes by Random.bytes in cache store tests
Remove requirement that SQL starts with SELECT
Perform details matching on UnboundTemplates
Determine virtual path from file path
Store details on unbound template
Add TemplateDetails
do not override special param  in url_for options
Only merge params option if params is a Hash in url_for helper
Remove unused constant from disable_joins_association_relation
Address non-deteristic CI failure of HasManyThroughDisableJoinsAssociationsTest
Perform template glob and checks at same time
Improve did_you_mean partial name correction
Update guides/source/webpacker.md
Don't clear view cache during concurrent requests
[ci skip] Adds Dark Mode Iconography
Add option to skip joins for associations.
Add `Enumerable#sole` (#40914)
Make ModelSchema.inheritance_column a class_attribute
Refactor LocalCache to avoid calling Marshal.dump as much (take 2)
Add tests for rails runner
Expand path of user provided file in runner
Allow test parallelization with processes to fail fast
Updated abbreviation for single table inheritance.
Convert Template::Types.type_klass to instance ivar
Make sure the config values is set back to the original value
Copy edit #41718
Eager load ActiveRecord::StatementCache
Ensure has_one autosave association callbacks get called once
[ci skip] Adds Dark Mode to Rails Guides
chore: fix case of CSS and JavaScript
chore: fix grammar and spelling in Markdown and Ruby files
docs: fix grammar and spelling [ci skip]
chore: fix grammar and spelling
chore: fix spelling
Adds documentation for strict_loading_n_plus_one_only? [ci skip]
ActiveRecord#strict_loading! should return boolean instead of mode set.
Document input format for multiple arguments
chore: fix spelling
chore: fix spelling
Add setting for enumerating column names in SELECT statements
Remove autoloads for removed classes
Remove FileSystemResolver's PATTERN
Remove overridden methods from PathResolver
Reimplement NullResolver on base resolver
Remove support for templates with "."
Add name to ActionCable threads
Document that S3 requires s3:PutObjectAcl for public access [ci skip]
upsert_all fails cleanly for MySQL
Update the "getting started" guide to Rails 6.1
Resolve wildcards depends using all_template_paths
Refactor suggestions into all_template_paths
Only update dirty attributes once for cyclic autosave callbacks
Add regression test for #41714
Autocorrect Rubocop roles
Upgrade the development Gemfile.lock
Add a test case for race_condition_ttl with local_cache enabled
Revert "Refactor LocalCache to avoid calling Marshal.dump as much"
ActiveStorage: Pass `useCapture` to UJS listener
Remove unused `HstorePair` constant
Simplify Time.find_timezone! logic
Lint Markdown blank lines around headings [ci-skip]
docs: lint Markdown for four rules
Exit before assets:precompile task if yarn:install fails
chore: fix spelling in `controller/filters_test.rb`
Use StringScanner to parse Hstore payloads
Remove fixed "id" in encrypted book fixtures
chore: fix grammar, spelling and minor whitespace fix
Freeze ActiveSupport::Duration#parts hash
docs: change `user name` to the more used `username`
Correct misspelling in as-twz-deprecation message
Make sure `establish_connection` with symbol work properly
Restore the Entry#bytesize comments removed in #41882
Allow to opt-in to the new TimeWithZone.name and fix XmlMini serialization
Don't define methods using the method modifier in the same line as the method
Remove Rack::Runtime and deprecate referencing it
Force Arel.sql for returning and on_duplicate
Expand gemspec files within gem directory
Add update_sql option to #upsert_all
Support string returning clause for AR#insert_all
Deep duplicate in `deep_merge` so no references remain to the original hash in the result
Remove unused `Category.has_and_belongs_to_many :popular_grouped_posts` definition
chore: fix spelling change `favourite` to the more used `favorite`
docs: fix grammar in security.md [ci-skip]
docs: fix missing HTTPS on links [ci-skip]
chore: fix spelling in railties/test/generators
fix whitespace Markdown headings active_record_encryption.md [ci-skip]
docs: fix XML example in active_storage_overview.md [ci-skip]
chore: remove redundant MIME type from HTML script tag
chore: fix grammar and spelling
Optimize the HStore parser
chore: fix i.e. typos in Markdown and Ruby
docs: fix e.g. typo in debugging_rails_applications.md
chore: remove unneeded trailing whitespace
Allow to pass the method signature when defining attribute methods
feat(CI): correct commonly misspelled English words with GitHub Actions
chore: fix spelling in actionpack/CHANGELOG.md
Use alias_method rather than define_method to handle non compilable names
Stop checking if ruby2_keywords is defined
Reset base_class when the model class is duped or cloned
Precompute Inheritance.base_class
Add QueryMethods#for docs [ci skip]
Clear `@cache_keys` cache even when eager loading
Improve the payload name for `delete_all` to more appropriate
Encryption guide copy fixes [ci skip]
Add example of params to button_to docs [ci skip]
Add more methods to NullPool
Refactor LocalCache to avoid calling Marshal.dump as much
Make sure Inflector.underscore returns a String
`SecureRandom.urlsafe_base64` doesn't have `padding: false` keyword argument
Directly delegate `constantize` to `Object.const_get`
Address basic accessibility issues
Add hover animation for diagnostics summary
Remove unnecessary inline styles
Condense duplicate selectors
Use YAML.load_tags/dump_tags to prevent deprecation warnings
Add DidYouMean suggestions for missing templates
Simplify ActiveModel & ActiveRecord Type::Registry
Deprecate legacy_connection_handling
Remove FallbackFileSystemResolver
Delete orphan autoloading fixtures
Allow to set cache expiry as an absolute timestamp
Allow 'private, no-store' Cache-Control header
Active Storage: upgrade to mini_mime 1.1.0
Deprecate ActiveSupport::TimeWithZone.name
Exclude encryption performance tests from isolated runs
Remove DependenciesTestHelpers
Remove with_autoloading_fixtures from the AS::Testing::ConstantLookup test suite
Add :country_code option to sms_to
Populate ARGV with Rails::Command.invoke args
Add new "encrypted_books" table to the schema
Reduce the number of times we look up the ScopeRegistry
Use methods to get ScopeRegistry values rather than symbols
secure_compare: Check byte size instead of length
RemoteConnection#disconnect: fix ArgumentError on ruby 3.0
Tweak AR Encryption guide for better highlighting [ci skip]
Add Active Record encryption to CHANGELOG
Remove print statement / uncomment relevant assertion
Minor encryption guide tweaks and corrections
Intelligent batch preloading
Validate that proper keys are configured when declaring attributes
Add note about action text
Use proper hook for loading fixtures extension
Add support for uniqueness validations
Encourage deterministic encryption to remain unchanged
Add support to declare previous encryption schemes globally
Add Scheme, a container for encrypted attribute configs
Rename master_key => primary_key
Update guides/source/active_record_encryption.md
Show performance tests results now that they are excluded from the build
Remove before_initialize, I think it's not needed
Move to on_load hook to see if it helps with railty test failing
Inline prepend
Wait for active record to be loaded to extend it
Removes the Action Text dependency from Active Record
Remove mass encryption
Override accessors with module
Tweak class description
Remove preset env vars for encryption keys
Update activerecord/RUNNING_UNIT_TESTS.rdoc
Review class comments
Split concern inclusion in two lines for clarity
Make ActiveRecord::Encryption load eagerly along with ActiveRecord
Temporary change just to confirm this is the problem with some intermittent failures in buildkite
Make silent by default to prevent output during tests
Only run limit-validation tests when the limit exists
Replace class var with class_attribute to prevent child class conflicts with it
No need to register a type after https://github.com/basecamp/rails/commit/75929dfb1c0464eabb6e79bd326a6edde4ed1def
Rename previous_types => previous_encrypted_types
Use existing support for previous types
Move encryption performance tests out of the main tests pipeline
Memoize attributes with a class variable so that child class keep their own list
Test fixes
Extract encrypted models to their own files
Don't try to encrypt when the table doesn't exists
Update activerecord/lib/active_record/encryption/config.rb
Update guide
Make performance helper silent by default
Prevent being able to encrypt when in protected mode
Update guide
Remove new lines
Add config options
Rename to something shorter
Allow list explicit list of allowed properties
Rename property
Tweak performance thresholds
Move encryption helper code to the general helper
Remove warning due to duplicated declaration
Get rid of the nested context: option
Rely on encrypted attribute type to use previous encryption schemes
Add missing documentation bits
We want to exclude sqlite not target mysql
Don't extend queries by default
Move tests to namespace
Add option to support previous encryption schemes
Encryption guide (WIP)
Rename task
Adjust performance thresholds
Initial extraction from active_record_encryption gem
Provide context when logging unpermitted parameters
Don't override ActiveSupport::TestCase.test_order
Remove overwriting test_order
fix on guides mailer_basics avoid ActiveModel::ForbiddenAttributesError
Upgrade sdoc to 2.1.0
Add: link to documentation
Optimize ActiveSupport::NumericWithFormat#to_s
Add support for check_constraints with the same name on different tables
Clear `@cache_keys` cache after `update_all`, `delete_all`, `destroy_all`
Address intermittent CI failure due to non-determined sort order
Document `config.require_master_key` [docs] [ci-skip]
Simplify singular resource example
Add CHANGELOG entry for #41640
Call `self.class` only once in `init_internals`
Follow up to #41765 [ci skip]
Add test case for class level `strict_loading_mode`
Add frozen_string_literal pragma
Active Storage representations: respond with 404 given invalid variation key
Upgrade to Marcel 1.0.0
Replace mimemagic with mini_mime
Raise ArgumentError from TimeZone.iso8601 when invalid value can be parsed by Date._iso8601
Specifiy association :validate option only applies to new associated objects
Give precedence to the DatabaseTasks registered last
Revert "Prevent double save of cyclic associations"
Probe with :array? instead of :oid
ActiveRecord: Optimize cache_key computation (#41741)
Add n_plus_one_only mode to Core#strict_loading!
Simplify and memoize polymorphic?
Rename internal `@saving` state to `@_saving`
Document Destroy Async (#41680)
Add an assertion to the regression test
Add `_` prefix for the internal methods
protected :can_save?
Exclude #saving? from API docs
Move @inspection_filter to the class to avoid marshal dumping it
Prevent double save of cyclic associations
Use triple-dot delegation in ForkTracker
`to_yaml` requires `require "yaml"`
Parsing `type="yaml"` node requires `require "yaml"`
Really make OrderedHash private to the framework
More consistent quotes in template files
Remove non-project specific entry from gitignore
Batch queries that are the same but are using different extension
Add table for shallow routing to routing doc
Remove some references to OrderedHash
Make infinity handling symmetrical in cast and deserialize
Revert "Passing in a Hash instance as non-kwargs parameters has to be curly braced now"
Allow both `current_page?(url_hash)` and `current_page?(**url_hash)` on Ruby 2.7
:scissors: [ci skip]
'lookup' -> 'look up' in dummy webpacker.ymls
Remove useless `include_private` parameter in `define_proxy_call`
Add documentation to HashWithIndifferentAccess#except
Add missing require to hash_with_indifferent_access
Always render attachment partials as HTML with :html format inside trix editor
Ensure modules are preloaded correctly using rel=modulepreload.
Use ... argument forwarding instead of ruby2_keywords when possible
Removes the monkey-patch for Marshal.load
Disable parallel testing when running individual files
fix typo
Handle false in relation strict loading checks
Update template files to follow the standard gem code formatter recommendations
Add Preloader::Association::LoaderQuery
Implement hash equality for WhereClause
Make sure the version of rake used in Rails apps work
Reproduce the preloader regression in #41596
Allow preload grouping of through associations
Implement Preloader::Branch
Add ensure_loaded to Preloader::Association
Move `where` from `TreeManager` to `SelectManager`
Improve `compile_update` and `compile_delete`
Don't use `type.cast(value)` to emulate unchecked serialized value in `unboundable?`
[Docs] Lowercase a word that shouldn't be capitalized [ci skip]
Clarify maintenance policy for bug fixes to security patches
Active Storage: `Blob` creation shouldn't crash if no service selected
Remove unused Arel::Attributes classes
Use `_primary_key_constraints_hash` even in `Locking::Optimistic`
Nudge engines to be compatible with include_all_helpers
Clarify when `enctype="multipart/form-data"` gets added to forms [docs]
Use `serializable?` instead of `rescue ::RangeError`
Replaces references to internal AS::Dependencies attributes in the AS guide
Deletes AS::Dependencies.warnings_on_first_load
corrected the output of maximum in ActiveSupport changelog
Deletes logging from AS::Dependencies
Delegate `serializable?` to `subtype` on Enum
Add app concern and test keepfiles to generated engine plugins
Use `type.serializable?` in `unboundable?`
Quote the arguments passed to the new Contains/Overlaps node types to align with the behaviour of existing predicates
Add docs for `insert_all` with scopes
Deletes AS::Dependencies::Blamable
Deletes AS::Dependencies::ClassCache
Deletes AS::Dependencies::Reference
Drops support for classic mode
Use stable branch for --edge option when possible
Add app/{helpers,models} to autoload_once_paths
Use `records.compact!` over `records.compact` in `excluding`
Remove unused accessors `left` and `right` on `DeleteStatement`
Allow select statement node's initializer takes a table
Autoloading docs: Grammar/style tweaks
[ci skip] Not `masked_authenticity_token` but `form_authenticity_token` should be a public API
Add pointer cursor to Exception layout
chore: fix spelling
@rails/actiontext: depend on released @rails/activestorage
Add config.action_text.attachment_tag_name
Reiterate the SQL injection warning in find_by_sql API doc
Add RAILS_DEVELOPMENT_HOSTS to allow adding authorized hosts for development
Use image/jpeg instead of non-standard image/jpg
CollectionProxy#any? docs: Mention "load.any?"
Update external links in security guide
Allow statement nodes' initializer takes a table
Add CHANGELOG entry for type casting enum values by the subtype
Add missing require
Removed test for deprecated ASt combine_options transformation
We don't really need all these to_a calls; fine to do a single check but rely on query otherwise
Can just test this inline
Clearer when this post is extracted
Style
Let's simplify the internal assertion here, doesn't need to a yield argument
Make .excluding work when a nil argument is passed
Make .excluding work when no arguments are passed
Forward sql.active_record notifications back into the calling thread
Remove special case filtering for Procs.
Don't execute queries in background when max_threads is 0
Avoid extra `BindParam` allocation to generate placeholder in queries
Remove `Arel::Crud` from `Arel::Table`
Update adapter name for mysql to be mysql2 in active record multi db doc
Inject route with namespace into existing blocks
Stop generating a license for in-app plugins
Remove require_dependency from controller templates
Clarify button_to html_options documentation
Replace `ImmediateExecutor` with nothing
Allow all tree managers' initializer takes a table
Remove tests that tree manager takes an engine
Avoid extra query attribute allocation in `_insert_record`/`_update_record`
Action Text: call #to_trix_html on rich_text_area_tag value
plugin_generator_test.rb: Extract with_simulated_app
action_cable_overview.md: Mention PG, not just Redis [ci skip]
"empty?" docs: Suggest "load.empty?" over "length.zero?" [ci skip]
action_cable_overview.md: "setup" -> "set up" [ci skip]
Add section on how to purge unattached uploads.
Active Storage: raise PreviewError when a preview cannot be generated
Remove extraneous comment from Action Cable overview guide [ci skip]
Update SDOC to 2.0.4
Preserve index sort order when altering sqlite3 table
Refactor to use `model` instead of `record` as argument in Action Cable
Inlining `write_attribute_without_type_cast` internal API
Use `current_adapter?` over `ActiveRecord::Base.connection.adapter_name` in tests
Don't extend the `_read_attribute` internal API in the test
Don't like to add extra models/tables/fixtures, use existing those
execute yarn executable using current ruby interpreter
Load timesetamps on join tables for `has_many :through` fixtures
[ci skip] Note dangerous use of redirect_to
`Arel::Nodes::BindParam` and `Arel::Nodes::Quoted` are a subclass of the `Arel::Nodes::Node`
Just adding an allow all robots.txt file
Require a for `config.cache_store = :file_store`
Address CI failure due to non-determined sort order
Allow passing anything with `#to_str` into `redirect_to`
Encodes the uploaded file's headers - Closes #38080
Serialized value on the enum attribute should be type casted by the subtype
Simplify `formmethod` checks on `button_to` for non-GET/POST handling
Exercise tests for `EnumType#assert_valid_value`
Use released redis-namespace instead of master branch
Include record in ActiveRecord::RecordNotSaved
Address intermittent CI failure due to non-determined sort order
use proper styling name (snake_form) for table naming convention
Adjust application pack in webpacker guide
Add ActionController::Live::Buffer#writeln the write a line to the stream with a newline included (#41501)
Allow preloader to batch at deeper levels
Adding a robots.txt to the guide
Remove mention to use ActionMailer to receive emails [ci skip]
Allow async executor to be configurable
Extract ActiveStorage::Streaming so your own controllers can use it (#41440)
Call `run` after preloading records
Allow new syntax for `enum` to avoid leading `_` from reserved options
Add redirect_back directive to Rails 5.0 -> 5.1 upgrade guide
Add send_stream to do for dynamic streams what send_data does for static files (#41488)
Remove `finalize` from NullSession
Add `finalize` to NullSession so it quacks like a Session
Remove no-op `Relation::WhereClauseFactory` constant
Remove no-op `PredicateBuilder::BaseHandler` constant
Update the marshalized object fixtures' version from 6.0 to 6.1
Add `uncountable?` method to ActiveModel::Name
Avoid having to store complex object in the default translation file
Should not change serializable value for the enum attribute
Revert "Add ActiveRecord::Base.connection.with_advisory_lock"
Add guard for calling `finalize` on NullSession
Update Rails version in depraction and add non-deprecated code
alias :without :excluding
Remove useless branch for the array predicate handler
Add rack_test driver to System Tests
test case to illustrate isolated engine inheritance issue
Force _routes to be redefined on re-inclusion
Added #without as alias for #excluding.
Deprecate render locals to be assigned to instance variables
Implement Relation#load_async to schedule the query on the background thread pool
Implemented `ActiveRecord::Relation#excluding` method.
Guard against using VERSION with db:rollback (#41430)
Improve sms_to API documentation [ci-skip]
Improve phone_to API documentation [ci-skip]
Support mail_to options when name not specified
Support sms_to options when name not specified
Add test case for `average` on the interval column
Support phone_to options when name not specified
instruct to change active_storage_variant_records.id column type to UUID if using UUID for active storage
Use `connection` variable instead
Add test case that character set and collation on the connection is configured
Added guides for Active Record `preload` and `eager_load`.[skip ci]
Refactor CVE-2021-22881 fix
Trim new lines in USAGE ERB tags
Improve documentation of Rails::Command.find_by_namespace [skip ci]
Test #maximum and #minimum with empty enumerable
Extract primary key constraints hash to a method.
Calculate the minimum/maximum from an enumerable's extracted elements
Refactor `type_cast_calculated_value` to look up cast_type before
Harmonize average aggregation with minimum and maximum
Use +/<tt> instead of ` in the rdoc [ci skip]
Add missing ActionView helper number_to_human in guides
Handle Relations with having clauses in #include?
Make we always type cast TimeWithZone objects before passing to mysql2
Enable scoping to apply to all queries
Avoid stack level too deep in predicate builder
Add ActiveRecord::Result.empty
Improve AJAX example [ci skip]
Increment @counter of prepared postgres statements prior to running the query. If the next query or the prepared statement itself get interrupted, this prevents the database session getting stuck perpetually retrying to recreate the same prepared statement.
A value acts like time object should respond to `getutc` and `getlocal`
Remove broken test
Remove unnessary escape char in Regexp
Overwrite bin/yarn when running app:binstub:yarn
Add missing CHANGELOG entry for #40351
Prevent open redirect when allowed host starts with a dot
PostgreSQL: handle `timestamp with time zone` columns correctly in `schema.rb`
Pass spring if there is no Gemfile.lock
Don't install webpacker if --skip-bundle or --skip-gemfile was given
Avoid footguns in `rails app:update`
Batch Preloader::Association queries having the same scope
Return raw value for numeric AVG calculation results
Allow addresses to support `nil` values
Remove `require "active_support/core_ext/symbol/starts_ends_with"`
Handle nil key for MemCacheStore#normalize_key
Allow Adapter#select_all to be performed asynchronously from a background thread pool
Add ActiveRecord::Base.connection.with_advisory_lock
significant method is not significant anymore
Remove extraneous whitespace
Allow `build` multiple records even on non association relation
Allow `serialize` attribute on `alias_attribute`
Use `bind_call(obj, ...)` instead of `bind(obj).call(...)`
Remove check for UnboundMethod#method_defined? bind_call
Use native Range#cover? which accepts Range arguments since Ruby 2.6
Removes Symbol#start_with? and Symbol#end_with? since they are defined in Ruby 2.7
Remove checks for Module#method_defined? arity
Removing monkeypatched `URI#unescape` since main branch follows ruby 2.7
Use Enumerator#all? and Enumerator#any? with classes instead of iterations
Remove the code for older Rubies `RUBY_VERSION < "2.7"` in the codebase
Use arguments forwarding in the delegate code generation
Some grammar passes around guides [ci skip] (#41358)
Remove redundant check for frozen keys on deep dup
Remove unused requires on lib/active_record/associations.rb
Set `ApplicationRecord` to `primary_abstract_class`
Communicate enqueue failures to callers of perform_later
Use String#grapheme_clusters and String#each_grapheme_cluster
Move ActiveRecord::ConnectionAdapters::ConnectionPool::Repaer to separate file
Enumerable#in_order_of (#41333)
Remove confirmations part of JavaScript guide since it causes confusion
Remove all version checking for older Rubies in tests
Update `TargetRubyVersion` to 2.7 in `.rubocop.yml`
Remove `Lint/ShadowingOuterLocalVariable` cop
Move ActiveRecord::ConnectionAdapters::ConnectionPool::Queue to separate file
Move ActiveRecord::ConnectionAdapters::ConnectionHandler to separate file
Strip whitespace in disallow_raw_sql!
Refactor preventing writes and write query check
Ensure migration version is 7.0
Update actionpack/lib/action_dispatch/journey/router/utils.rb
Rails 6.2 is now Rails 7.0
Reduce memory allocations
Rails 7 requires Ruby 2.7 and prefer Ruby 3+
Match the show action case in the new(updated) scaffold generator (#41331)
Errantly removed during a merge
Modernize scaffold generator (#41210)
Refactor `enum` to extract the defining part for each `definitions`
Document open_timeout and read_timeout for SMTP Settings on ActionMailer
Adding options example in ActiveModel::Errors doc
Remove unused code in FakeRecord
Improve performance of time type cast for ISO dates
Handle Symbol arguments in `ActiveSupport::Inflector.camelize` (v2)
Remove skipped TestRunner tests
Accept a Symbol argument in `ActiveSupport::Inflector.camelize`
Prevent thundering herd of Action Cable clients
Address `warning: Passing only keyword arguments`
Add missing require to ActiveJob::TestHelper
Address `Rails 7.0 will return Content-Type header without modification`
Optimize humanize inflector
Optimize underscore inflector
`attribute` should not require a connection is established
Refactor the code to keep instrumentation and log inside the modules
Pass binds through on PostgreSQL exec_query even when prepared statements are off globally
Refactoring the code to not add methods to all models
Stop setting RAILS_ENV when test_unit railtie is loaded
Reduce allocations in camelize inflector
Handle error when file does not exist at filepath with more accurate error message
Deserialize enum value to original hash key
Reword #form_with `local` option documentation
Respect default serving strategy in rails_{blob,representation}_{url,path}
Use string for example
Regexp example for filter parameters.
Provide a working example for a filter_parameters lambda
Clarify claim
[ci-skip] bundle exec rails -> bin/rails in Webpacker guide
[ci-skip] javascript_link_tag -> javascript_include_tag in Webpacker guide
add new module to handle queueing of jobs to enqueue after commit is successful
Expose `primary_abstract_class` public API
Clarify #form_with `local` option documentation
Add CHANGELOG entry for #41215
Rename the config to make clear it is a boolean
Add config.action_view.stylesheet_media_default to baseline config
Disable rubocop suggestions
`ActionDispatch::Request#content_type` now returned Content-Type header as it is
Change Request#media_type to return nil
Do not eagerly load Request before initializers
Show a warning when running no migration using SCOPE
Remove SET NAMES, set collation using variable
Guides: Remove unneeded statement about stylesheet_pack_tag [ci skip]
Update test names to match their behaviour
Update test helper to call parallelize according to fork support
Add small improvements to the Webpacker guide
Move ActiveStorage fixture hooks to on_load
Improve ActiveRecord strict_loading documentation
Remove reference to globalize gem
Guides: Missing erb tags for stylesheet_pack_tag [ci skip]
Handle throwing in controller action in log subscriber
Restore ActiveStorage::Blob#find_signed
Replace all references to invalid/valid with assert_invalid_values/assert_valid_values.
Add ComparisonValidator to Rails to support validations between two comparable values.
Remove wrong usage for `arel_table` [ci skip]
Allow jobs to rescue all exceptions
`start_with?` allows multiple prefix values
Remove media=all from stylesheet_link_tag on generators
Remove legacy media=screen default from stylesheet_link_tag.
Update test docs in "contributing to Rails" guide
Support hash config for `structure_dump_flags` and `structure_load_flags` flags
Connection specification now passes the "url" key to the adapter
Update documents.yaml
`connected_to` shouldn't be called on the abstract class that not established connection
Added a new line after the include statement
Update name of input to fix typo
Upgrade all the gems to make sure we are testing with the latest versions locally
Resolve default annotation tags after config loads
Avoid testing Thor internals
Search for yarn.cmd and yarn.ps1 in bin/yarn
Run bin/yarn via Ruby
Remove trailing commas in advanced route constraints example
Don't return query cache enabled pools in the query cache executor
Use major + minor AR versions in 'Directly inheriting' error message
Allow to opt-out of `strict_loading` mode on a per-record base.
Removed line for continuity
Added :status for continuity
Added the unless-block for continuity
Raise error when passing passing a class to :source_type
Refactor `attribute` not to reference `&block`
Adding badges and logo to README and CONTRIBUTING page
Removing .count to figure out why its failing
I think passing in the --master argument to run_generator is the way to go
Changing 'rails new' --master to be --main
Add regression tests for preloader query count
Rename master to main in all code references
Use length == 0 instead of empty in Preloader
ActionCable guides suggest test adapter for test env [ci skip]
Raise unknown type error on the definition time
Update webpacker.md
fix broken link
Webpacker guide: remove Basecamp reference [docs]
Add Webpacker to Guides list
Explicit check for html and text parts
Add a Webpacker guide [ci skip] (#40817)
Make ActiveModel's attribute behavior follow ActiveRecord's
Allow multiple decorations which can be used by such like `EncryptedType`
resolve merge conflict
Ensure test rake commands run immediately
Updating references to /rails/blob/master & raiks/tree/master to point to main
switch references to main branch in docs
Add a regression test for decorated type with `type_for_attribute`
Just use regexp literal for `assert_match`
Change default branch for new Rails projects and plugins to main
Correct logic warning about initializers
Exercise tests on decimal attribute values
Change Numericaly validator to use round
Update platforms in Gemfile.lock
Improve `strict_loading` violation error message
Define Singleton#duplicable? and return false
Make destroy async transactional Motivation:   - A active record rollback could occur while enqueuing a job in this     case the job would enqueue even though the database deletion     rolledback putting things in a funky state. So this adds some     functionality to ensure that deletions are not queued until after     the db transaction has been commited.
Inlining `locked?`
Restore the ability that update/destroy optimistic locking object without default
Use `_read_attribute` instead of []
Add round up assertions for decimal tests
Extract `distinct_relation_for_primary_key` on connection
Enable `Lint/DuplicateRequire` cop
Inlining `force_clear_transaction_record_state`
Translate FormBuilder#button calls with formmethod:
Adds 'References' section to migrations guide, sorts column modifiers lists and adds 'collation' option documentation
Make `config.action_view.button_to_generates_button_tag` work
Unite Active Storage configs in `load_defaults '6.1'` into one if-section
Make sure that `ActionView::Helpers::AssetTagHelper.preload_links_header` `nil` without Rails 6.1 defaults
Change the default digest for new apps to SHA256
Update ActionCable docs [ci skip]
Add key_generator_hash_digest_class to the new frameworks default file
Don't check if QC is enabled
Allow configuration of the digest class used in the key generator
Move away from using the Digest::SHA2 class
Remove update_table_definition entry from migration log
Update minitest to comply with Ruby trunk
Remove leading whitespace from the XML under test
Use 4XX instead of 2XX for validation errors responses
Handle STI models for has_many dependent: :destroy_async
Add underscore in front of internal method
actionpack: Improve performance by allowing routes with custom regexes in the FSM.
Revert "actionpack: Improve performance by allowing routes with custom regexes in the FSM."
Add validate numericality in range
[ci skip]Inherit from correct base class in docs
Keep Preloader#preload API the same as before
Avoid nokogiri v1.11.0 to make our CI green
Clarify default queues per Rails version [ci-skip]
actionpack: Improve performance by allowing routes with custom regexes in the FSM.
Upload raw email before creating pending ActionMailbox::InboundEmail
Tweak dark mode CSS
Set payload name for calculation queries
`timestamp_attributes_for_update_in_model` is a public method
Add note for ActionText models that use UUID's
Update stale issue comment to mention 6-1-stable
Populate ARGV for app template
Should not fail if mangling enum names collision
Bump license years to 2021 [ci skip]
change the `perform` instrumentation to wrap `perform_now` instead of the `perform` method.
Skip logging rescuable exceptions which are defined in rescue_from/retry_on/discard_on.
fix CHANGELOG entry for #40768
Clarify use of rescue_from [ci skip]
Revert "Remove redundant @virtual_path variable"
Failing test for lazy translation in partial with block
Don't mangle callable enum names
Add the author name for #40782 in the CHANGELOG [ci skip]
Improve ActionText extensiblibility
Use if/else instead of case without argument
[docs] Mention `previewable?` and `variable?` in Activestorage guide
Add `credentials:diff --disenroll`
Call method locally inside the class
Rename Diffing methods to increase specificity
Extract method to get all configs for AtiveRecord::Base
Extract method to the DatabaseTasks class
Make sure db:prepare works even the schema file doesn't exist
Add test coverage for dump_filename
Deprecate unused method
Add changelog entry for #40961
Add `ActiveRecord::FinderMethods#sole`, `#find_sole_by`
Update `form_with` and `form_for` documentation to reflect new non-remote defaults in 6.1
Tweak CHANGELOGs [ci skip]
add locale argument to ActiveModel::Name initialize
add stats method on RedisCacheStore similar to MemCacheStore
Move `set_options_for_callback` into `Callbacks::ClassMethods`
Make sure the :if options of callbacks is not mutated
Support selenium-webdriver 4
Support aliases to expires_in for cache stores
Consistently render `button_to` as `<button>`
Add CHANGELOG entry for #39626
No need to freeze constants
Make ActiveRecord::AttributeMethods::Query respect getter overwrites in the model
Handle when Spring is not installed
quietly handle unknown HTTP methods in Action Dispatch SSL middleware
Change `IPAddr#to_json` to match the behavior of the json gem
Make sure job instrumentation keep return value
Skip Spring in plugin dummy apps
Search for yarn.exe in bin/yarn
Revert "Avoid chdir error in bin/setup test on Ruby master"
Revert "Avoid chdir error in Railties tests on Ruby master"
Normalize code indentation [ci-skip]
Split code snippets by context [ci-skip]
Mention `rails dev:cache` in Caching with Rails guide
Include file path in invisible space warning
Reuse the same ActiveModel::Type::Value
Improve perf of `ActionView::Helpers::TextHelper#excerpt` for large strings.
Lock rails/webpacker npm package version to 5
Add `config.action_view.preload_links_header` option
Make sure that mailers will use default job queue
Expose an `invert_where` method that will invert all scope conditions.
Load most recent version of Bundler in bin/spring
Don't skip money's type cast for pluck and calculations
consume dalli's cache_nils configuration as ActiveSupport::Cache's skip_nil when using MemCacheStore.
Allow delegated_type to be specified primary_key and foreign_key
allow passing false to :polymorphic option of belongs_to
Add a note about existing apps for ActiveStorage public access.
Adds warning on usage of destroy_async.
postgres: Make the initial type map query less expensive
Format guide
Start Rails 6.2 upgrade and release notes
Update changelog and release notes
Update guides/source/6_1_release_notes.md
change request method to a `GET` when passing failed requests to `config.exceptions_app`
Document `config.active_record.cache_versioning`
require "time" where we depend on Time#xmlschema
Make migration context public
Update getting_started.md
Docs: fix code formatting [ci skip]
Add GlobalID link to active_job_basics.md
Link preloading should keep integrity hashes in the header
Add config.action_view.image_decoding
Refactor Preloader to remove AlreadyLoaded class
compute_class raise when klass is not ActiveRecord::Base subclass
Update api_functional_test.rb.tt
Update bug report templates to use Rails 6.1.0
Ruby 3 does not have webrick by default
adjust notable changes on 6_1 ActiveStorage release notes
Allow `reload` to be `default_scoped`
Allow adding nonnamed expression indexes to be revertible
Only run `yarn:install` before `assets:precompile` if `bin/yarn` present
Refactor ActiveRecord::Associations::Preloader class
Update sdoc to latest version
Add an error message in case `bin/yarn` is missing
Ignore strict loading violations on instances loaded through fixtures
Deprecate assigning single `trusted_proxies` value
ActiveStorage upgrade command
Handle nil translation key
put yarn binary in quotes to allow spaces in path to it
Whitespace
Include ActiveSupport::Testing::Assertions in ActiveJob::TestHelpers
Refactoring the code to avoid some conditionals
Inflection support default_locale and fallbacks
Convert translation key to string as necessary
Rename the method to match what it is doing
Better handling of negative words in enum
Open transaction for multi-db apps
Split the options checks from `read_attribute_for_validation`
Add CHANGELOG entry for #38452
check yarn version and run correct install command
Call class method since sanitizer's instance method is private and add tests
feat(rubocop): Add Style/RedundantRegexpEscape
`allow_nil` should work for casted value in `NumericalityValidator`
Gitignore Brewfile.lock.json
Clone to keep extended Logger methods for tagged logger
Revert "Work around getaddrinfo deadlock in forked process"
Add config.action_view.image_loading
Add benchmark method that can be called from anywhere
Don't use explicit references for join aliases
Impove the RoutesReloader to not expose internal API
Align all the assigments
Only execute route reloads once on boot for development environment
Allow custom purpose for ActiveStorage signed IDs
Adds the missing spec for Action Text installer warning for incomplete webpacker configuration
Start Rails 6.2 development :tada:
Make sure that attribute_for_inspect respect filter_attributes
Link to API docs in Action Cable Overview guide [ci-skip]
removed sprocket related files manifest.js and application.css from generated rails app when --skip-sprockets flag passed into rails new and app:update
Incorrect default for `config.autoload_paths` [ci skip]
ActiveStorage Direct Upload docs improvements [ci skip]
Change form_with to generate non remote forms by default
Optimize HashWithIndifferentAccess.new when no args are provided
Add option for `default_scope` to run on all queries
Mark scrub as an unsafe method on SafeBuffer
Declare ActionView::Helpers::FormBuilder#id
Always recommend config.asset_host in examples
Unify `decorate_attribute_type` and `attribute`
Added test cases for Action Mailbox generator
Update Action Mailer guide on delivery methods in callbacks
Link to API docs in Active Storage Overview guide [ci-skip]
Escape HTML attributes for ERB interpolation (#40657)
serialization docs: clarify YAML, JSON, custom use cases (#40661)
Permit hash on direct upload in active storage (#40662)
Do not use webpacker master on edge Rails
Remove low-level trick for copying images to be available in JS
Always render Action Text HTML with :html format
Update bin/yarn template
Move unused build gems from ActionCable group
ActionView: Serialize Regexp into HTML attribute
Use thin 1.8.0
Added definite article in guide Actice Record Basics section 3 paragraph 3 [ci skip]
TagHelper uses Enumerable#index_with
Simply require rather than autoload + immediately load below
Missing requires
FormOptionsHelper does not depend on FormHelper
UrlHelper does not depend on anything from javascript_helper.rb
These helpers do not use anything in tag_helper.rb
Add where.associated to check association presence
Style: rename to clarifying arguments
Simply require rather than autoload + immediately load
ActionDispatch::Assertions uses no AS::Concern feature since ddc584e89eaf6845f8cd72bcafce5035c9893dbb
ActionView::Helpers::AssetTagHelper uses no AS::Concern feature
Use application time zone when  gets time as String.
Only use ActionDispatch::ActionableExceptions middleware if local env
doc fix: Just referencing an association does not indeed load the records
AR::QueryMethods uses no AS::Concern feature since 8d9545389f6a53dcd1ebae28c8b966c296da95f2
AV::Helpers::TagHelper uses no AS::Concern feature
AC::Streaming uses no AS::Concern feature since 7da88c5b297486cd90696133d287be7d60d65218
AC::Testing uses no AS::Concern feature since 879d540adc34603f0fd1ac1a44763598e9ccc551
Improve docs about autoloading and boot time [skip ci]
Add `:call-seq:` to hide the internal block argument [ci skip]
Remove useless `VALID_AUTOMATIC_INVERSE_MACROS` checking
Add note on ActiveStorage link security to Guides [ci-skip]
Add explicit require for `Symbol#start_with?`
Address "ArgumentError: missing keywords: :sql, :name" when unit tests run by ruby 3.0.0dev
Do not allow subscribing to Base channel
Add db:structure:load_if_sql and db:schema:load_if_ruby back
Link to API docs in Active Job Basics guide [ci-skip]
Add support for eager loading all rich text associations at once (#39397)
Revert "Revert "Remove the magic `:chain` parameter from `Relation#where`" (#40678)"
Revert "Remove the magic `:chain` parameter from `Relation#where`" (#40678)
Get rid of the cumbersome fallback_location keyword argument for redirect_back (#40671)
Test Action Text install generator
Add GeneratorsTestHelper#run_generator_instance
Grammer correction on ActiveSupport en.yml
Inline constructable checking for singular associations
Let AS::SafeBuffer#[] and * return value be an instance of SafeBuffer in Ruby 3
Link to API docs in Action Mailer Basics guide [ci-skip]
Use Feature-Policy header name for now
Remove useless `calculate_constructable`
fix issue with schema:load when table definition contains partitions
Rename s/feature_policy/permissions_policy/ in the CHANGELOG [ci skip]
Wrap evaluation of db/seeds.rb with the executor
Use FFmpeg scene detection for video previews
Raise if connection_handlers is called in legacy_connection_handling
Add strict loading for active storage
Restore connection pools after transactional tests
Don't leak uniqueness validation into other tests
Reset Time.zone to avoid leaking into other tests
Rename HTTP Feature Policy to Permissions Policy
CI against erubi 1.10.0
Support delegators for `find_by`
Sync error message with `connected_to(role: :nonexistent)` [ci skip]
Add test that primary_key and reference columns should be identical type for `add_reference`
Add support for sqlcmd instead of sqsh on sql server
Link to API docs in AS Core Extensions guide [ci-skip]
Document Regexp#multiline? [ci-skip]
Improve test description
Add support for stylesheets and ERB views to `rails stats`.
Update listen gem to v3.3
Allow subscribing with a single argument callable
Link to API docs in Action Controller guide [ci-skip]
Append development routes after reload hook
Document ActionController::Cookies#cookies [ci-skip]
Link to API docs in Routing guide [ci-skip]
Display exception messages using simple_format for a better and clearer exception message.
Add missing TLD to api links in AR queries guide [skip ci]
Update active storage s3 direct uploads docs
Upgrade sdoc to 2.0.2
Allow access to CurrentAttributes in test teardown
Don't require event to be passed to read_entry
Support delegators in query Predicate building
Always show version badge, not just for edge [ci skip]
Allow constructors for has_one :through
Clean up preventing writes tests
Link to API docs in Layouts and Rendering guide [ci-skip]
Restore deprecation require in dbconsole command
Remove jquery metadata
Link to API docs in AR Query Interface guide [ci-skip]
Link to API docs in AR Associations guide [ci-skip]
Link to API docs in AR Callbacks guide [ci-skip]
Document metaprogrammed Active Record callbacks [ci-skip]
Eagerly define attribute methods for internal models
Allow missing Action Cable config
Increasing Puma's worker timeout in development
Incorrect comment on cache thread mapping
`{SchemaMigration,InternalMetadata}.create_table` ensure the table is to be created
Link to API docs in AR Validations guide [ci-skip]
Link to API docs in AR Migrations guide [ci-skip]
Handle frozen conditions in validate
Set the inverse record on find with multiple ids from has_many association
ActiveModel::Model can be frozen again
Allow default to be configured for serialization
Update database_configurations.rb output message
Instrument cache entries from local cache
Ensure the connection used in a failed rollback is discarded
Don't over protect the MySQL users on insert_all
Add `legacy_connection_handling` to "Configuring Rails Applications" guide [ci skip]
disable compression for MemoryStore's by default
Upgrade all the gems
Move Spring machinery back to bin files
Remove `database` kwarg from `connected_to`
Add example usage pattern of ActiveRecord::ModelSchema.ignored_columns= to rdoc
Create unit test to use to_time for timestamp in string
Remove extra class [ci skip]
remove extra class [ci skip]
[ci skip] Update CHANGELOG for inspect time attributes
Preparing for 6.1.0.rc1 release
Use LoadError#original_message if available in depend_on
Although libraries support both formats of sign before and after DIGITS(ex: https://github.com/moment/luxon/pull/683, https://github.com/moment/moment/issues/2408), many do not.
Add request exclusion to Host Authorization
Use official sdoc gem instead of fork [skip ci]
Tidy up comments in environment configuration files [ci skip]
Update comment about reloading in development.rb [ci skip]
Mark Reaper thread as fork-safe w/thread-local variable (#40399)
Add `connected_to_many` API
Allow a new `server` Railtie block:
Allow applications to change the behavior for a strict loading violation
Prepare the maintenance policy to match the 6.1 release
Tweak generated default filter_parameters
Add tests for `current_preventing_writes`
Reorder code and add docs to `current_*` methods
Remove an unused Action View test fixture
Use irb code fences where applicable [ci-skip]
Upgrade Puma to 5.x
Update GS guide code for Adding a Second Model [ci-skip]
Edit GS guide Â§ Deleting an Article [ci-skip]
Add GS guide Â§ Finishing Up (Updating) [ci-skip]
Edit GS guide Â§ Using Partials to Share View Code [ci-skip]
Edit GS guide Â§ Updating an Article [ci-skip]
Add GS guide Â§ Finishing Up (Creating) [ci-skip]
Edit GS guide Â§ Validations and Error Messages [ci-skip]
Avoid chdir error in bin/setup test on Ruby master
Reduce object allocations in param wrapping
Raise database error when table doesn't exist
Edit GS guide Â§ Using Strong Parameters [ci-skip]
Edit GS guide Â§ Using a Form Builder [ci-skip]
Edit GS guide Â§ Creating a New Article [ci-skip]
Edit GS guide Â§ Resourceful Routing [ci-skip]
Edit GS guide Â§ Showing a Single Article [ci-skip]
Add GS guide Â§ CRUDit Where CRUDit Is Due [ci-skip]
Edit GS guide Â§ Showing a List of Articles [ci-skip]
Add GS guide Â§ Using a Model with the Database [ci-skip]
Edit GS guide Â§ Database Migrations [ci-skip]
Edit GS guide Â§ Generating a Model [ci-skip]
ARIA attributes: treat empty Hash and Array as nil
Update description of `to_prepare` event
Ruby 2.7.2 still have the same bug
Yield translation to `FormBuilder#button` block
Remove deprecated config from the documentation
Yield `Tags::Label::LabelBuilder#translations`
Recover precision when serializing `Time`, `TimeWithZone` and `DateTime`.
Alias TagHelper#class_names to #token_list
Sort results to fix nondeterministic test failures
Set inverse during has one autosave if necessary
Add docs and guards to `while_preventing_writes`
Add more tests for `find_signed/!` methods
Serialize aria- namespaced list attributes
Revert "Add test to make sure this method will not be removed again"
Correct some entries section from Removals to Notable changes [ci skip]
Add major features to the 6.1 release notes
Add author credit for #39599 [ci skip]
Disentangle Action Text from ApplicationController
Remove frozen_string_literal from generated file
Always ask for a header argument in ResquestId middleware
Optimise length of default index name for polymorphic references
Customise the header name for `ActionDispatch::RequestId` by setting `config.action_dispatch.request_id_header` to the desired value
Remove unneeded requires
Remove deprecated required option on the model generators
Remove deprecated `rake initializers` tasks
Remove deprecated `rake routes` tasks
Remove deprecated `rake dev:cache` tasks
Remove deprecated support for using the `HOST` environment variable to specify the server IP
Remove deprecated `server` argument from the rails server command
Remove deprecated `SOURCE_ANNOTATION_DIRECTORIES` ENV
Remove deprecated `connection` option in the `rails dbconsole` command
Remove depreated `rake notes` tasks
Remove deprecated `ActiveSupport::Notifications::Instrumenter#end=`
Deprecate `ActiveSupport::Multibyte::Unicode.default_normalization_form`
Remove deprecated methods in ActiveSupport::Multibyte::Unicode
Remove deprecated `ActiveSupport::Multibyte::Chars#consumes?` and `ActiveSupport::Multibyte::Chars#normalize`
Remove deprecated file `active_support/core_ext/range/include_range`
Remove deprecated file `active_support/core_ext/hash/transform_values`
Remove deprecated file `active_support/core_ext/hash/compact`
Remove deprecated file `active_support/core_ext/array/prepend_and_append`
Remove deprecated file `active_support/core_ext/numeric/inquiry`
Remove deprecated file `active_support/core_ext/module/reachable`
Remove deprecated `Module#parent_name`, `Module#parent` and `Module#parents
Remove deprecated `ActiveSupport::LoggerThreadSafeLevel#after_initialize`
Remove deprecated `LoggerSilence` constant
Remove deprecated fallback to `I18n.default_local` when `config.i18n.fallbacks` is empty
Change `ActionDispatch::Response#content_type` to return the full Content-Type header
Remove deprecated support to pass `:combine_options` operations to `ActiveStorage::Transformers::ImageProcessing`
Remove warning of undefined instance variable
Remove deprecated ActiveStorage::Transformers::MiniMagickTransformer
MySQL: Uniqueness validator now respects default database collation
Remove deprecated `config.active_storage.queue`
Remove deprecated `ActiveStorage::Downloading`
Remove deprecated methods from `ActiveRecord::ConnectionAdapters::DatabaseLimits`
Remove deprecated `ActiveRecord::ConnectionAdapters::AbstractAdapter#supports_multi_insert?`
Remove deprecated `ActiveRecord::ConnectionAdapters::AbstractAdapter#supports_foreign_keys_in_create?`
Remove deprecated `ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#supports_ranges?`
Remove deprecated `ActiveRecord::Base#update_attributes` and `ActiveRecord::Base#update_attributes!`
Remove deprecated `migrations_path` argument in `ActiveRecord::ConnectionAdapter::SchemaStatements#assume_migrated_upto_version`
Remove deprecated `config.active_record.sqlite3.represent_boolean_as_integer`
Implicit scoping does no longer leak scope to class level querying methods
Remove deprecated methods from `ActiveRecord::DatabaseConfigurations`
`where.not` now generates NAND predicates instead of NOR
Remove deprecated `ActiveRecord::Result#to_hash` method
Remove deprecated support for using unsafe raw SQL in `ActiveRecord::Relation` methods
Return `false` when enqueuing a job is aborted
Remove deprecated `escape_whitelist` from `ActionView::Template::Handlers::ERB`
Remove deprecated `find_all_anywhere` from `ActionView::Resolver`
Remove deprecated `formats` from `ActionView::Template::HTML`
Remove deprecated `formats` from `ActionView::Template::RawFile`
Remove deprecated `formats` from `ActionView::Template::Text`
Remove deprecated `find_file` from `ActionView::PathSet`
Remove deprecated `rendered_format` from `ActionView::LookupContext`
Remove deprecated `find_file` from `ActionView::ViewPaths`
Require that `ActionView::Base` subclasses implement `#compiled_method_container`
Make the arguments of ActionView::Base#initialize required
Remove deprecated support to pass an object that is not a `ActionView::LookupContext` as the first argument in `ActionView::Base#initialize`
Remove deprecated `format` argument `ActionView::Base#initialize`
Remove deprecated `ActionView::Template#refresh`
Remove deprecated `ActionView::Template#original_encoding`
Remove deprecated `ActionView::Template#variants`
Remove deprecated `ActionView::Template#formats`
Remove deprecated `ActionView::Template#virtual_path=`
Remove deprecated `ActionView::Template#updated_at`
Make `locals` argument required on `ActionView::Template#initialize`
Remove deprecated finalize_compiled_template_methods
Remove deprecated support to calling `ActionView::ViewPaths#with_fallback` with a block
Remove deprecated support to passing absolute paths to `render template:`
Remove deprecated support to passing relative paths to `render file:`
Remove support to template handlers that don't accept two arguments
Remove deprecated pattern argument in `ActionView::Template::PathResolver`
Make type a required argument in ActionView::Template::HTML#initialize
Remove deprecated support to call private methods from object in some view helpers
Remove deprecated `ActionDispatch::Http::ParameterFilter`
Share connection pools for non-default shards
Only replace existing pools in transactional tests
Implement `connecting_to` method
Add option to mute multiple database yaml warning
Revert "Raise when calling render with invalid options"
Add documentation for granular connection switching
Improve use_sha1_digests deprecation message
Add GS guide Â§ MVC and You [ci-skip]
Edit GS guide Â§ Setting the Application Home Page [ci-skip]
Edit GS guide Â§ Say "Hello", Rails [ci-skip]
Edit Getting Started guide introductory sections [ci-skip]
Don't allow granular swapping for shards in legacy
Validate arguments to render calls
Add test to make sure this method will not be removed again
Revert "Remove unused internal methods in ActiveModel::Attributes"
Implement granular role and shard swapping
Dash comments should match read query regexp
Update links to new MySQL server errors reference page [ci skip]
Update security guide section on session expirity [ci skip]
Test find_signed/! on Relation
Copy-edit the documentation [ci skip]
avoid calling custom_encoding_for when unused
Remove keys from local_cache in RedisCacheStore#delete_matched
improve param_encoding docs
Clarify that some configuration still needs to happen in config/application.rb [ci skip]
Use `attribute_before_type_cast` in the internal
Remove unused internal methods in ActiveModel::Attributes
Methods defined per Action View templates are public methods
class_attributes are defined as public methods
Module#attr_reader/writer are public methods since Ruby 2.5
Mapper#resource and resources are both public methods
These test model accessors are public methods
*_digest is defined as a public method
before_save and after_save in this test class are defined as public methods
AS::Multibyte::Chars#reverse and tidy_bytes are public methods
String#unicode_normalize is a public method
Show outstanding migrations when the PendingMigration error is raised. This will give users feedback on which migration is outstanding.
Add ability to set per param encoding
Only set the association target if there is no foreign key mismatch
Add `attribute_for_database` attribute method
Workaround Active Job integration test with resque against ruby 3.0.0dev
Revert "Don't enable Zeitwerk on MRI in 6.1 load_defaults"
Address Active Job integration test with sneakers against ruby 3.0.0dev
Remove impossible new_record? autosave check
Use index_with in ActiveRecord::Core#slice
Don't enable Zeitwerk on MRI in 6.1 load_defaults
Don't dup schema cache before assigning it
fix broken handling of unknown http methods
Update outdated has_secure_password documentation
Re-enable `Layout/SpaceAroundOperators` cop
Update CHANGELOG
Pass in base to Error.human_attribute_names
Check environment before loading Spring in boot.rb
Rewrite test_spring_no_fork
Rewrite test_after_bundle_callback
Annotation for `Relation#inspect` query
Document for cache store name instrumentation [ci skip]
Remove redundant begin blocks
Speed up `ActiveSupport::SecurityUtils.fixed_length_secure_compare`
set approriate crossorigin for js and css preload links
Instrument cache store name
Document Testing::SimpleStubs
fix boolean negation in documentation
Refactor railsrc file location to be xdg compliant (#39411)
Remove redundant arguments in store test helper
Fallback to $MEMCACHE_SERVERS if no servers given
Add tests for :mem_cache_store initialization
Refactor MemCacheStoreTest
Handle port-less $MEMCACHE_SERVERS in MemCacheStore tests
Handle frozen payloads in AR::Type::Serialized
Add values_at attribute method for active_record
Replace frames-based api docs with css implementation and Turbolinks
Remove .DS_Store
Work around getaddrinfo deadlock in forked process
Update active_record_querying.md
Don't bother checking if strings respond to string methods
Avoid query from exists? on contradictory relation
Include layout when rendering objects from controllers
Make AS::Cache coder configurable
Handle binary strings in Active Record serialized columns
Document transform.active_storage event [ci skip]
Skip PostgreSQL interval tests on other adapters
Add missing ActiveSupport require in ActiveModel::Serialization
Prevent adding the same record twice on build when using source record in attribute when using has_many_inversing #40378
Mention _tag helpers in Form Helpers guide [ci-skip]
Update database_configurations.rb
Eagerly establish test transactions for shards
Revert "*Store implements delete_session as a public method"
Follow npm/JS standard for package name
edits in the constants guide [skip ci]
documents differences zeitwerk vs classic mode [skip ci]
Update action_text_overview.md
Rework Date and Time Form Helpers section [ci-skip]
Prefix keys in Active Storage service test
Add missing space before closing hash brace
Don't log backtrace for ActionDispatch::Http::MimeNegotiation::InvalidType
Prevent XSS in the Actionable Exceptions middleware
Raise more specific exception for invalid mime type from user-agent
URL helper methods are public methods
Given method here (e.g. perform) should be public_sendable
allow for only no-store in cache-control header
If it respond_to a method, the method should be public_sendable
Both update_config_files and update_bin_files are public methods
This kind of wrapper should better not be able to call private methods
Get rid of unnecessary meta programming
attr_reader methods are public methods
Document new Record Active Support hooks
Decorate Rails' backtrace cleaner before passing to minitest
Handle Relations with limit in include?
Add back missing `LIMIT 1` in `find_by` SQL example [ci skip]
Don't evaluate ERB in the ujs test server
Do not add newlines when annotating rendered views
Link API documentation more in Form Helpers guide [ci-skip]
Module#include is a public method since Ruby 2.1
Routes methods are public methods
Accessors here are public
Wording in guides: Prefer environment over mode
Ensure `tag.with_options({}).p` builds a `<p>`
Add Option Groups section to Form Helpers guide [ci-skip]
Remove duplicate FormHelpers from ActionView Helpers guide [ci skip]
Support passing record to uniqueness conditions
Add gitattributes for vendored and generated files [ci-skip]
Avoid chdir error in Railties tests on Ruby master
Update sprockets-rails to fix tests on Ruby master
Update sidekiq to fix warnings in Active Job tests
Return rows affected from batched update_all and delete_all
Additional explanation to overriding resource routes
Optimize ActiveRecord::Relation#include? on an unloaded relation
Locate `fill_in_rich_text_area` by `<label>` text
Remove duplicated code in `type_to_sql`
Attribute reader / writer methods are defined as public methods
to_json and from_json are public methods
value_methods on Relation are public methods
Association#class_name and table_name are public methods
Methods for locking_column are supposed to be public methods
Timestamp column methods are public methods
ConnectionPool#disconnect and clear_reloadable_connections are public methods
Association setter methods are defined as public methods
Methods with association name are defined as public methods
includes, preload, joins, and eager_load are public methods
All these tested schema methods are public
Every foreign_key column is supposed to be a public method
Every primary_key column is supposed to be a public method
count, avarage, maximum, minimum, and sum are defined as public methods in Arel::Expressions
Methods given via :dependent are supposed to be public
Relation methods are public
Arel::Node#asc and :desc are public methods
Association#klass is a public method
Association#destroy_all, reset, and delete_all are public methods
Relation#delete_all, update_all, and destroy_all are public methods
AR adapter_method is supposed to be defined as a public method
touch and touch_later are both defined as public methods
String#rjust and ljust are public methods
up and down are supposed to be public methods
Time.utc and Time.local are public methods
Module#define_method is a public method
to_ary should be defined as a public method
ShareLock#exclusive and sharing are both public methods
ShareLock#sharing and Object#tap are both public methods
Class attribute writer is a public method
attr_writers on I18n should be publicly callable
Inflections#plurals, singulars, uncountables, humans, acronyms are public attr_readers
All these tested String methods are public
String#capitalize downcase, lstrip, reverse, rstrip, swapcase, upcase are public methods
TimeWithZone#sunday?, monday?, tuesday?, ... are public methods
Integer#second, minute, hour, day, week, month, year are public methods
If it respond_to? a method, the method should be public_sendable
String#downcase, upcase, and swapcase are public methods
All these comparison operators (>=, >, <, <=) are publicly callable methods
Time#local and utc are public methods
Logger#info, debug, etc. are public methods
Array#map and reject are public methods
select_* helpers are public methods
Form helper methods are public methods
URL helper methods are public
AR association methods are public methods
Time#[:year, :month, :day, :hour, :min, :sec] are public methods
:cop:
Naming methods are defined as public methods
Model attribute methods are publicly callable
Model#attribute_method_matchers is a public method
Comparison operator methods on Integer are public methods
Integer#odd? and even? are public methods
Add missing test for LengthValidation giving the value via Symbol
==, >=, and <= are public methods
*_confirmation is defined as a public method
Enumerable#include? and cover? are both public methods
Time.utc and Time.local are both public methods
*_ditest and *_digest= are defined as public methods
Named routes are public methods
Response predicates are public methods
URL helper methods are always public
Object#instance_variable_set is a public method
These methods (:get, :post, etc.) are controller public methods
Add copy button for copying guide code examples [skip ci]
Add support for PostgreSQL `interval` datatype.
Adapt docs to recent config.log_level changes [ci skip] (#40309)
Improve query used in `test_with_advisory_lock_closes_connection`.
Remove add_gem_entry_filter from GeneratorAppBase:
Remove gemfile_entry from GeneratorAppBase:
Extract ActionMailbox::Record
Extract ActionText::Record
Extract ActiveStorage::Record
Support per-environment ASt service config
Add resource to Naming Routes override example
Listen on fork in EventedFileUpdateChecker
Eliminate EventedFileUpdateChecker::PathHelper
Make EventedFileUpdateChecker garbage collectable
`Hash#extract!`: Clarify its docs and assert remaining value in `test_extract_nils`
Revert "Refactor uncastable through reflection test to detect join key overrides"
Add requires for mimemagic
Stop EventedFileUpdateChecker's listener only
Satisfy Rubocop
Improve error when EncryptedFile key length wrong
Don't make rexml an dependency of activesupport
Destroy associations in a background job.
DB Dir
rexml is no longer default gem in Ruby 3.0
Use master branch for `listen` and `redis-namespace`
Try calling clock_gettime rather than testing the platform
Move require `active_support/core_ext/string/filters` to `active_job/log_subscriber` from `active_job/logging`
Remove unused require
Add an ActiveSupport option to allow setting a digest class
Create a gitattributes file for templated apps
Allow ActiveModel::Name fields to be overriden
Add a note about PR approvals [ci skip]
Use mysql2 from git to fix warnings with Ruby 2.7
Uncomment bin/yarn in bin/setup for webpacker by default
Move ConnectionTimeoutError and ExclusiveConnectionTimeoutError to errors.rb
Restores environments before testing their settings
Set default variant format from blob content type
Make sure log level in development is debug
Change the default log level from :debug to :info
Subscriber.attach_to with inherit_all option
Use method_defined? if possible in define_non_cyclic_method
Improve while_preventing_writes documentation
Catch invalid UTF-8 encodings on ActionDispatch::Http::Request#POST (#40124)
Eliminate `fixture_file_upload` related deprecation warnings in actionmailbox/test
Model#find with hash argument should raise RecordNotFoundError instead of NoMethodError
Update w3c_validtors for Ruby 3 compatibility (#40227)
Using write with unless_exist + expires_in should unlock after the given expires_in and not 5 minutes later (#40260)
move ActiveRecord::Persistance#becomes logic into initialize block
Remove editorializing in ActionCable guide
Adjust link to only include 'the team' rather than 'join the team' as the former suggests it's a link to get on a list
Save some allocations in ActionView digest
Remove obsolete comment [skip ci]
Stop generating unnecessary methods for association callbacks
Generate a preview without print margins
Make `role` required when using `shard` in `connected_to`
Improve Action View `translate` helper
URL helper methods on controllers are public methods
AC::Base#url_for is a public method
*Store implements delete_session as a public method
AR::Base#read_attribute_for_validation is a public_method
AR::Base#write_attribute is a public method
AC::Base#flash is a public method
:scissors: [ci skip]
Use indentity hashes in Journey::GTG::Builder
Database tasks can SKIP_TEST_DATABASE with environment variable
Use `IPAddr#prefix` for postgres cidr type
Module#const_set is a public method
Ensure `connects_to` can only be called on base or abstract classes
Remove MemCacheStore#write_entry options nil check
Remove unused @cache_hit Hash assignment
Clarify ActiveStorage::Service#url docs [ci skip]
Refactor Action View `translate` helper
Rename Error#detail method as details
Uniform paths joining in the code generated by `rails new`
Add a changelog entry for the exception changes in adapters
Revert "Revert "Raise ConnectionNotEstablished rather than StatementInvalid in Mysql2Adapter#quote_string""
Update Minitest to allow installation with Ruby 3.
Test calculation with `from` for all adapters
Add regression test for https://github.com/rails/rails/pull/40178#issuecomment-688222844
Avoid creating helper modules until modified
Update translation efforts Spanish link.
Properly support `reverse_order` on relations with `nulls_first` or `nulls_last` calls
Use Symbol#name if available in HashWithIndifferentAccess
Update guides/source/active_record_querying.md
Update guides/source/active_record_querying.md
Use transform_values in a few more places
Remove checks for validate constraints support
add support for `NOT VALID` check constraints in PostgreSQL
Anchor BacktraceCleaner gem filter regexp
Clarify ActiveSupport::Cache::NullStore behavior [ci skip]
Update Gemfile.lock with rubocop-packaging
Load Rails tasks for each new Rake::Application
Update RuboCop to v0.90
Shorten inspect on AbstractController::Base
Shorten inspect on ActionDispatch::Request
Raise error when `from` is used with `delete_all`.
Support reversing of Arel expressions in reverse_order
Avoid setting `ActiveRecord::Base.configurations` twice in db rake tasks.
Prevent returning nil when compacting array
Default db_config should be primary or first
Reduce allocations in expanded_version and expanded_key
Do not use disable_with when it set to false
Clarify exists? and find query only in the table
Avoid module_eval on helpers from AV::TestCase
Use unique controller per ActionView::TestCase
Don't override module name on AV::Base subclass
Use real_mod_name on check for removed module
Prefer bin/rails for the credentials command
Override ActiveStorage.signed_id_verifier instead of assigning
Revert "Raise ConnectionNotEstablished rather than StatementInvalid in Mysql2Adapter#quote_string"
Add value option to ActionView::Helpers::FormBuilder#rich_text_area
Use default argument in test
Add CHANGELOG entry for #40106 [ci skip]
Raise ConnectionNotEstablished rather than StatementInvalid in Mysql2Adapter#quote_string
Translate Mysql2 errors in Mysql2Adapter#quote_string
Use `self[]` instead of `build` directly in predicate builder
Should not accidentally return decorated time object after `changes_applied`
Move TruffleRuby check to select the autoloading mode to 6.1 defaults
Change belongs_to example to has_one [ci skip]
Proxying: sanitize Content-Type and Content-Disposition
Escape # in RFC 5987 pattern
Fall back to video container for duration
Load Rails Rake tasks only once
Enable Zeitwerk by default on TruffleRuby
Add example showing how to use named scopes in join queries.
Rescue Database errors during active_record.define_attribute_methods
Remove unecessary method call
Extend `ActionView::Helpers#translate` to yield
Remove references to secrets.yml from documentation
Use super instead of `self`
Add attr_writer for credentials to Rails::Application
Implement #inspect for ActiveSupport::OrderedOptions
Deprecate custom Action Mailer delivery job:
Rename prefix to in_* and update CHANGELOG
Add ActiveSupport::Duration conversion methods
Resurrect doc explaining HTTP Basic behavior
Add config.active_record.check_schema_cache_dump_version to disable schema dump version check
Wrap native adapters connection errors in ActiveRecord::ConnectionNotEstablished
Lazy allocate error message string in `check_if_method_has_arguments!`
Allow `where` references association names as joined table alias names
Add note to avoid requiring config/initializers
Whitespaces :scissors:
Copy-edit the querying guide
Allow a proc to be used in addition to a static value for cookies_same_site_protection
Only try to check constraints on databases that supports it
Rename horrible and dirty to puzzled and confused in test models
Disconnect connections used for acquiring advisory lock in migration.
Add DidYouMean for InverseOfAssociationNotFoundError
Documents other_than option also accepts the proc or a symbol for numericality validation [skip ci]
Build only `join_sources` in `references_eager_loaded_tables?`
Call uniq! on the `reorder` arguments.
Refactor `references_eager_loaded_tables?` to fewer allocation
Avoid redundant table alias if `arel_table.name == table_name`
Deduplicate multiple values when assigning
fix(guides): Link maintenance policy to contributing guides [ci skip]
Add `#delete_by` into skipping callback methods [skip ci]
Allow callers to remove nopush
Add `#destroy_by` into trigger callbacks methods [skip ci]
Add missing require for Enumerable#index_with
Support storing demodulized class name for polymorphic type
don't preload for defered scripts and disable push
Corrects the config object class [ci skip]
consistent syntax for items in list
Formats code blocks for better syntax highlighting
Bump minimum web-console version to 4.0.3
fix documented default values for datetime_select view helper
update generation instructions for consistency
Update Gemfile.lock
deep dup
Use headings to make Action Cable terminology more clear [skip ci]
Update outdated bundler in gemspec
Use superclass name in inspect of ActionView::Base.with_empty_template_cache
Use deep_symbolize_keys instead of symbolize_names
epsilon invert
refer to channel instead of cable
fix markdown syntax error
Remove unnecessary `compact`
Rename single letter variables
Replace test `Man` with `Human`
Adds a fix to whitelist hostnames with case-insensitive matching
Update service metadata for updated Blobs only
fix: Update Agile Web Development with Rails book link [ci skip]
Added docs for habtm association about the declaring model referring to zero or more associations parent f4471fc728d372861095d8f0a5b19831e316ead7 author Sandip Mane <sandip.mane@bigbinary.com> 1593247595 +0530 committer Sandip Mane <sandip2490@gmail.com> 1597253412 +0530
Address `ArgumentError: Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true`
Updated security.md to include default_protect_from_forgery
Identify directly-uploaded blobs before saving the associated record
Document the --database/--db option for multiple database Rails application [skip ci]
fix: warning: instance variable @controller not initialized
Add helper method for resetting connection handlers in tests
Update guides/source/upgrading_ruby_on_rails.md
Add image_processing section to upgrading guide [ci skip]
Remove the unnessecary default: 'gen_random_uuid()' (#40012)
Update connection methods to use kwargs
Rename `pool_key` to `shard`
Remove unnecessary with_temporary_connection_pool calls
Don't use arel factory methods for creating join nodes
Make `Enumerable.pluck` faster for single key
Update GitHub gist api link and fix documentation in api_app page [ci skip]
Get rid of the unused RuntimeRegistry.connection_handler
Add `Time#ceil` and `Time#floor` core extensions.
--skip-action-mailer and --skip-active_job option doesn't work for `rails plugin new project_name --full` or `rails plugin new project_name --mountable`
Move advisory locks to own connection handler.
Add tiff and bmp to content_types_allowed_inline [ci skip]
Combine and deprecate `rails db:structure:{dump,load}` tasks into `rails db:schema:{dump,load}`
improve active record validation docs
The abstract parent class file generated via generator should not be pluralized
Add baseline defaults section [ci skip]
Avoid implicit `create_with` for `StiClass.all`
Load plugin VERSION constant by default
Follow naming conventions in generated plugin test
Adds db:migrate:redo:NAME support for multidbs
Add docs for abstract class generators
Reduce allocations in transition_table (#39943)
Clear Resolvers' cache after AVLogSubscriberTest tests
fix misleading variant test This commit fixes the "resized variation of BMP blob" test.
Generate abstract class when generating scaffold in another database
 [ci skip] Append some description about advance constraints in block form.
Extract `read_attribute_for_validation` for per-validator customization
Use standard config/application.rb in plugin dummy
a -> an [ci skip]
Move `column_for_attribute` into `ModelSchema`
Automatically set Link header for each stylesheet and script
Move Path::Pattern factories into test helper
[ci skip] Correct engine generator docs
Don't allow to mutate cached `@attribute_names`
Add back `decorate_attribute_type`
touch parent model when an attachment is purged Currently `delete` is used on the `purge` and `purge_later` methods, that prevent any callbacks to be triggered which causes the parent model to not be updated when an attachment is purged. This behaviour cause issues on some caching strategies as reported here: https://github.com/rails/rails/issues/39858
Add back support for other syntax highlighting
prevents redundant memcached compression
Path parameter keys should always be symbols.
Always use faster `HomogeneousIn` in array handler
Remove redundant `column_name.to_s`
Build symbols descending from stars with regexp
Simplify `apply_{start,finish}_limit`
Add label attribute to <option> from include_blank
prevents raw redis and memcached compression
Refactor `process` method
Alter regexp on initialize to avoid extra ast pass
Use `arel_table` directly instead of newly created table
Deprecate `arel_attribute` internal API which is no longer used
Consolidate passes through path ast
fix minor typos
Sendgrid: prepend X-Original-To header with envelope recipients
Added documentation for _default option added to ActiveRecord::Enum [ci skip]
Assert that DebugExceptions renders HTML by default
Avoid double time zone converter decoration when user-defined timestamp attribute with implicit type
Remove internal attribute decoration code
Update wording for cookies, adding information about the http request/response header. Also added the bytes to the cookie size limit
Simplify attribute type decoration
Move Arel attribute normalization into `arel_table`
Document how exceptions are handled in instrumentation
fix typo in Active Job exceptions docs
fix typos in active support docs
Switch regex for delete_suffix in normalize_path
Revision of Concerns intro and grammar fixes
Link to Action Mailbox's new bug report template [ci skip]
Add Action Mailbox bug report templates
Allow passing URL params to conductor form for inbound emails
Stop using a singleton for routes
Decorated the `--skip-sprockets` like any other.
Improve introduction to concerns section
Allow attribute's default to be configured but keeping its own type
Raise if camelcase inflection impossible in generator
Remove `protect_from_forgery` in rails plugin template.
Highlight CSS code snippets in guides
Add ssl_default_redirect_status to 6.1 load_defaults documentation [ci skip]
use singular form for application
Allow default to be configured for Enum
fix grammar in active support docs
Save an allocation in visit CAT
More consistent usage of version option for commands in guides [skip ci]
Use appropriate code fences [ci skip]
Include warning about S3 timeout behavior
Note that insert_all and friends skip callbacks and validations [ci skip]
Use Rouge for guides code highlighting [ci skip]
Docs: config.hosts: details re: regexp anchors
Edit routing docs [ci skip]
Prioritize db_config for current env when resolving config.
Type cast extra select for eager loading
fix misleading section on associations guide
Address first round of feedback
Add link to forum
Added an example of logging
Created a section for ActionCable client side logger
Change default HTTP status to 308 for ActionDispatch::SSL.
Resolve attribute alias for counter cache column
Consolidate stringify keys in `PredicateBuilder`
Support `where` with comparison operators (`>`, `>=`, `<`, and `<=`)
Remove references to WARNINGS environment variable [ci skip]
Disable template digesting for Active Storage controllers
Use Active Record signed IDs in Active Storage
Remove broken responsive-tables JS
Remove the magic parameter from `#where` (An alternative would be to use a constant like `Enumerable#index_with`)
Remove leftover implicit_readonly documentation [ci skip]
Use `join_foreign_key` rather than self constructed key name
Add a regression test for per-fiber tagged logging
Revert "Cache tags_text to avoid computing tags each time when logging"
clarify that you can also set it to nil
rephrase statement
use segment instead of fragment
Add Active Record Marshal forward compatibility tests
Autosave collection associations exactly once
Refactor MemoryStore to use Hash ordering rather than key access times
Add Concerns section in Refactoring portion of Getting Started guide
Improve the docs for ordered options
Deduplicate some routing data
Backward compatibility to work `Marshal.load(legacy_record.dump)` for MySQL
Add tests for loaded pluck and pick with alias
Remove redundant Exclude in .rubocop.yml
Use URI::DEFAULT_PARSER rather than instantiate a new one
Modified the note to include [ci skip] in pull request title instead of commit message. Adding [ci skip] in commit message, does not prevent build from running.
Remove unnecessary rescue from safe_constantize
Document model error methods
Use LoadError#original_message if available in safe_constantize
improve sentence structure
clarify what is not supposed to be in session
Save a string allocation in visit_STAR
Restore legacy YAML compatibility for MySQL with `active_record_yaml_version: 1`
fix active storage cors configuration [ci skip]
simplify conversion to BINARY
Use a subquery when filtering `information_schema.tables` by `table_name`.
Catch the RangeError closer to the cause
Ensure principle tasks go before finish_template
Add missing info to routing.md about anchors.
Document the priority option for #deliver_later [ci skip]
Speed up test_skip_webpack_install from ~10s to < 5s by avoiding the call to bundler, I also added an assertion for webpacker which was needed for this test
Add spec to verify that MessageDelivery Job accepts priority
Replace space/hyphen in enum scope names
Use Array(ActiveSupport::ToJsonWithActiveSupportEncoder)#to_json and Hash(ActiveSupport::ToJsonWithActiveSupportEncoder)#to_json for Ruby 2.8.0
More exercise tests for first nth and last on dirty collection
[ci skip] Increase info on validate presence for association
Move belongs_to's `association_primary_key` into `BelongsToReflection`
Move `set_owner_attributes` into `ForeignAssociation`
Implement `equality?` rather than inheriting `Equality` for `In` node
Restore referencing BaseHandler in `legacy_relation.dump`
Remove less interested where_clause_factory
move code example right after colon
AV Helper guide fixes- (#39679)
Remove reference to rendering absolute files
Add regression tests for 859fba7c4bf7d33b4f9655914ed4bdc85380552e
Documentation: Add touch_all to callbacks and validations guides [ci skip]
Add a regression test for #39673
Allow ISO 8601 formatted string for `fast_string_to_time`
Do not use slower `public_send` in type casting
Make usec parsing faster
Rename `structurally_incompatible_values_for_or`
Generate nicer scope names from enums
Use `method_defined?` instead of `respond_to?`
Remove unknown_asset_fallback check from test_new_application_load_defaults as it adds no value to the generator tests, this speeds up the test from ~5s to ~0.1s. The unknown_asset_fallback test has been moved into the configuration_test.rb
`IsDistinctFrom` is not equality node
Use native `Hash#except` if it is defined
Add comma after however
change typo 6.0 to 6.1 in the documents.yml (#39664) [ci skip]
Move Actionview Helpers guides to seperate guide [skip ci]
Update `follow_redirect!` to reuse same HTTP verb for 308 redirections.
Only allow ActionableErrors if show_detailed_exceptions is enabled
Avoid to use slower `define_method` for `AcceptsMultiparameterTime`
Currently subscription api on notifications is only supported for String, Regex or nil. If we pass anything different, this causes issues because, it gets added to "other subscribers" silently.
Make `where_sql` more few code
Remove unused `Equality#operator`
Use ES module syntax for application.js.tt and docs
setup.tt comment: "at anytime" -> "at any time"
Move Spring machinery to boot.rb
Allow difference for `and`/`or` unless other values are set explicitly
Document config.javascript_path
Ensure times-called assertions are evaluated
Deprecate YAML loading from legacy format older than Rails 5.0
PERF: Avoid extra delegation to `LazyAttributeHash`
Make Arel nodes more invertable
Few improvements to the engines guide
Lazy allocate `@forced_changes`
Lazy allocate `@offsets` cache
Address to false negative for Performance/DeletePrefix,DeleteSuffix
Remove unused `JoinKeys`
Unify to use `join_` prefix association keys on `TableMetadata`
Restore attribute alias resolution for `attribute_{for_inspect,present?}`
Use bash code fences and prompts for shell code [ci skip]
Introduce Rails::TestUnitReporter.app_root to inject app_root when needed.
Restore the edge badge, since the API still uses it [skip ci]
Use COMPONENT_ROOT as app_root when present in test unit reporting.
user-select css property is not needed
PERF: 35% faster attributes for readonly usage
Remove useless rescue in `setup` for PostgreSQL adapter tests
Backward compatibility to work `Marshal.load(legacy_relation.dump)`
Make shell command easily selectable by making shell prompt unselectable
make edge-badge look more like the original
Add application config for URL-safe Base64 CSRF tokens
Add a setting to specify that all string columns should be immutable
Handle quoted values in PostgreSQL range output
[ci skip] Update link to autoloading guide to classic mode guide instead of Zeitwerk guide
Use indifferent access for config hash in actioncable postgresql test
Update web_console settings to use allowed_ips
Deprecate `map!` and `collect!` on `ActiveRecord::Result`
Strict match when choosing cookie domain for host
Use statement cache for STI classes
Remove more references to white list
Remove white list word
Make AR::Middleware::DatabaseSelector loadable without full core ext
Remove invalid autoloads in top-level Rails modules
More Enumerable `first` and `last` for `ActiveRecord::Result`
Use `result.rows` as fastest alternative
Revise encrypted credentials section [ci skip]
Case insensitive mutation tracking
Support `relation.and` for intersection as Set theory
Make predicate builder about 2x faster
Deprecate inconsistent behavior that merging conditions on the same column
Use html-based edge badge instead of image
Convert route params array into object
Silence Rake task backtraces
Auto-correct for `delete_prefix`/`delete_suffix`
Don't give up statement cache just because of there is one `composed_of`
Use statement cache for `find_by(author: david)`
Revert "Lock benchmark-ips version "< 2.8""
PERF: 15% faster attribute access
Expand on specs of self join and add make doc changes to suggest users to also do  foreign_key when doing self join
Remove assumption that a primary config exists
Revert "Ivar += in MRI is thread safe"
Wording
Revert "No need to synchronize for just reading an ivar, at least in MRI"
Revert "No need to synchronize for just reading an ivar, at least in MRI"
Unify coverage of collection helpers [ci skip]
Link to current version of API docs [ci skip]
Mention text_area helper [ci skip]
Set timezone on a Job initialization to make it conform more with perform_later when doing JobClass.perform_now.
remove redundant require: follow #39142
Ensure alias resolved before `clear_attribute_changes`
Avoid redundant `to_s` in internal attribute API
Do not mark Postgresql MAC address and UUID attributes as changed when the assigned value only varies by case.
Promote `clear_attribute_change` as attribute methods
Don't call `ruby2_keywords` for user supplied block
Replace 'Stubs out' with 'Generates' in generator USAGE's [ci skip]
Add basic support for check constraints to database migrations
Alias direct_descendants as subclasses
Use `Arel::Table#type_for_attribute`
rails new --minimal gives you a minimal rails stack. (#39282)
Remove `join_keys` and `get_join_keys`
`BindParam` should not be passed to `type_cast_for_database`
Support attribute aliases for `type_for_attribute`
Ensure column names on reflection as a string
`has_attribute?` should be aware of attribute aliases
Catch Time.zone before TestHelper resets it to UTC
Don't recommend disabling CSRF protection [ci skip]
Precompressed static file refactor
Allow rails to serve brotli encoded assets
Added link to infosec.mozilla.org under the security guide.
Allow attribute aliases for `validates_uniqueness_of`
Allow attribute aliases for timestamp magic columns
Add missing new framework defaults for 6.1 [ci skip]
Add `ActiveRecord::Base.strict_loading_by_default` and `ActiveRecord::Base.strict_loading_by_default=`.
Use statement cache for `find_by` with aliased attribute
Reflect the permissive float in the lock file
Needlessly tight dependency spec
Improve clarity of callback update warning [ci skip]
Lazily build path regex in PathParser
Reset ActiveSupport::CurrentAttributes even where executor doesn't wrap
Clarify docs about strict loading and add a test case for `strict_loading!`
Deprecate passing an Active Record object to `quote`/`type_cast` directly
Extract `id_for_database` in the AR object
Don't inline run webpacker:install on rails new
Add test for HTML format fallback from JS template
Make inspect look more like regular Object#inspect
Add missing `#` in `wrap_parameters` RDoc
Do not swallow unknown configuration options for ActiveJob
Don't mark issues on a milestone as stale
Reset statement cache for association if table_name is changed
Allow `where` with through association to be expanded condition
Prefer no allocation `start/end_with?` over `String#[] ==`
Allow composed_of conditions to be unscoped
Support type casting for grandchild's attributes
`association` in `TableMetadata` is not association but reflection
Refactor `build_where_clause` to avoid extra allocation and code duplication
Make signed_id_verifier_secret lazily evaluated
Freeze many read only ModelSchema properties
ActiveStorage::Attachment#signed_id must return a signed *blob* ID
Update assert_redirected_to docs [ci skip]
`merge` doesn't allow to overwrite partially matching nodes
Make remaining migration options to kwargs
Make index options to kwargs
Set retry_jitter to 0.0 for upgraded applications
activerecord: No warning for return out of transaction block without writes
activerecord: Remove mention of raising on a return out of a transaction
Override clear_cache in custom path resolver
Changes over AR Querying guide [ci skip] - User bookstore models for all examples - Add diagram changes - Add Output changes - Expansion of Enum documentation - Lots of Grammar fixes
Add railties test of custom handlers and formats
`rewhere` allow to overwrite non-attribute nodes
Remove redundant @virtual_path variable
Ensure cache fragment digests include all templates
A few action_controller docs corrections
No need to extend ActionController::Caching by ActiveSupport::Autoload
Prefer string interpolation over direct mutation
Remove dup from post body for forcing encoding (#39438)
Refactor `remove_columns` inverting to return a flat invert command
Remove dup from Request#set_cotent_type
Add verba-sequentur configuration [ci-skip]
Refactor to lazy construct join table aliases
Prefer form builder methods in Form Helpers guide [ci skip]
`merge(..., rewhere: true)` should have the ability to overwrite non-attribute nodes
Test that Array#extract_options! extracts ActiveSupport::OrderedOptions
require "active_support/core_ext/symbol/starts_ends_with" for Ruby 2.6
Utilize Symbol#start_with? and #end_with?
Allow relations with different SQL comments in `or`
"Neither relation may have a #limit, #offset, or #distinct set." is not true
Update rubocop-performance gem and enable Performance/DeletePrefix and Performance/DeleteSuffix cops
Do not use `object_id` on Active Record object directly
Remove unused `limit` on `enum` and `set` columns in MySQL
Separate primary key column options from table options
Default engine `ENGINE=InnoDB` is no longer dumped to make schema more agnostic
Add delegated type to Active Record (#39341)
Copy options before delegating in with_options
Take primay_key in count in ActiveRecord::SignedId (#39404)
Remove redundant `blank?` check and `compact_blank!` for `joins_values`
Deprecate aggregations with group by duplicated fields
Pass over the "Calling the Mailer" AM guide [ci skip] (#39402)
Deduplicate same clauses in `merge`
Test Attached::Many in Attached::Many test
Reduce allocations in action_view cache expiry
Use html for DidYouMean suggestions on error pages
Clear cache after setting Template::Types delegate
Optimise serializable_hash when options are empty
Allow Erubi bufvar to be configured
Update Railties tests for 7e52d0a
Preserve old redirect URLs
Decoding JSON dates should respect newlines
Add status the 103 Early Hints as Not content for action_dispatch
Updates to nokogiri 1.10.9
[ci skip] Add `ActionDispatch::ActionableExceptions` to default middleware docs
Whitespaces
This is causing problems in master wrt backtraces
`loaded` should be aliased to `loaded?` in collection proxy
Mark PathParser as :nodoc:
Introduce Resolver::PathParser
Add tests of resolver variant handling
Only use valid handlers in resolver_shared_tests
Satisfy Rubocop
Resolve conflict between counter cache and optimistic locking
Move tests higher up the stack
Unify raise_on_missing_translations for views and controllers
Clarify subheadline of maintenance policy
Reduce allocations in to_json's include option
More refactor `build_joins`
Consolidate `build_left_outer_joins` into `build_joins`
Update active_record_callbacks.md
Stop calling methods directly on Journey
Update aws-sdk-s3 dependency
Add DidYouMean for ParameterMissing
Add DidYouMean for HasManyThroughAssociationNotFoundError
Rename `annotate_template_file_names` to `annotate_rendered_view_with_filenames`
Update `fixture_file_upload` documentation to reflect recent changes. (#39340)
Test multiple values with blank value
Unify the query values normalization for multiple values
Use DidYouMean for ActionNotFound
Support merging option `:rewhere` to allow mergee side condition to be replaced exactly
Do not need explicit handler for InfixOperation's subclasses
Use symbol consistently for operator in InfixOperation
:scissors: trailing spaces [ci skip]
Skip interpolated strings in AV::Digestor
Avoid allocating extra hash and arrays when as_json is called without options
Use DidYouMean for AssociationNotFoundError
Remove redundant looking type up from explicit `klass.attribute_types`
Add signed ids to Active Record (#39313)
Clear `@_defer_touch_attrs` when it has used
Create update yarn task (#39314)
Add default ENV variable option with BACKTRACE to turn off backtrace cleaning (#39220)
Remove `sync_with_transaction_state` to simplify code base
Refactor `build_joins` to use `select_association_list`
Add compact and compact! to ActionController::Parameters
The warning for autoloaded constants on boot includes a solution
Document how to reload at boot time [ci skip]
Use explicit spring boot loader (#39225)
Replace Hash#delete_if with Hash#compact!
Replace incorrect Symbols [ci skip]
Check that request is same-origin prior to including CSRF token in XHRs
HMAC raw CSRF token before masking it, so it cannot be used to reconstruct a per-form token
activesupport: Avoid Marshal.load on raw cache value in RedisCacheStore
activesupport: Avoid Marshal.load on raw cache value in MemCacheStore
Return self when calling #each, #each_pair, and #each_value instead of the raw @parameters hash
Include Content-Length in signature for ActiveStorage direct upload
Stop creating too many test databases
Type cast aggregations values for table name unqalified column in joins tables
Check `loaded?` in the superclass
Type cast `pluck` values for table name unqalified column in joins tables
Allow the construction of a CTE from an Arel::Table
Allow define scope for Ruby reserved keywords
Support native RENAME COLUMN syntax for MySQL
Update `supports_rename_index?` version for MariaDB
Exercise test kwargs for scope name containing space
fix wording in rail/engine class
Casting aggregated value takes attribute type precedence over database type
Remove Indexer class from Rails Guide generator
Only run on SQlite3
Improve performance for loaded association's `first`
Move and update enlist_fixture_connections test
Test to reference through association in `where`
Use binread instead of setting file mode manually
Add an integration test for DYM
Use assert_match for exception messages
Conditionally register an error handler
Revert "Remove deprecated `ActionMailer::DeliveryJob` and `ActionMailer::Parameterized::DeliveryJob`"
Avoid confliting Kernel-named scopes on Relation
Remove implementation of unchecked_serialize
Refactor uncastable through reflection test to detect join key overrides
Don't load app environment when running encrypted commands
Return enumerator from each_pair and each_value
Revert "Donâ€™t ignore X-Forwarded-For IPs with ports attached"
adds credit to CHANGELOG item [ci skip]
deprecates the classic autoloader
Add support for PostgreSQL contains and overlaps operators
get the method name all the way to the exception
Add did you mean ssupport to UrlGeneration errors
Clean up the generate method signature
Active Storage: allow serving files by proxying
Add release notes for Action Text [ci skip] (#39231)
Optimize dangerous_attribute_method?
Adds a rails test:all rake task (#39221)
Address `InnerJoinAssociationTest#test_eager_load_with_string_joins` failure with mysql2
Add `add_binds` to bulk binds processing for performance
Use `index_algorith(...)` instead of `index_algorithms.fetch(...)`
Should not substitute binds when `prepared_statements: true`
Clarify existing app behavior when being upgraded [ci skip]
Donâ€™t ignore X-Forwarded-For IPs with ports attached
Support `ALGORITHM = INSTANT` DDL option for index operations on MySQL
Eager generate relation methods if a method is on `Kernel`
Remove unused `require "active_support/core_ext/array/extract_options"`
Callbacks tests also uses singleton class eval
"core_ext/array" is not used in here, but used in others
Active Record uses singleton class eval in tests
Remove unused `require "active_support/core_ext/kernel/singleton_class"`
Refactor index creation to use index definition visitor
Add tests for to_s(:inspect)
Association callbacks work with abort instead of exceptions [ci skip]
Support kwargs for named scopes
Remove duplicated attribute alias resolution
Add test case for `generate_relation_method`
reminder for helper Module in CHANGELOG for helper [ci skip]
Make NameError#missing_name work even for real Ruby NameError
undef_method can take varargs
Add `config.generators.after_generate` for processing to generated files
`remove_foreign_key` doesn't care `:validate` option if database has no feature
Make Active Storage update migrations reversible
Support procs for assert_{enqueued,performed}_with
Link between configuration.md and cache_store documentation [ci skip]
Load selenium/webdriver only if needed
Update rails gem version in bug report templates to pass CI on Ruby master
Allow `unscope` to be aware of table name qualified values
Do the attribute keys conversion at one place
Make test file patterns configurable via Environment variables
register the obsolescence of require_dependency in the CHANGELOG [ci skip]
Add DATE_FORMATS[:inspect]
Don't attempt to add a string to a lambda
Reduce allocations in set_callbacks
update the documentation of require_dependency [ci skip]
Removes require_dependency from the AR test suite
Deprecate rendering templates with . in the name
Remove redundant `squish` for single line message
Remove deprecated `attr.in(range_object)` optimization
Dogfooding "active_support/core_ext/symbol/starts_ends_with"
Ensure type cast is not evaluated at relation build time
Preserve multiple arguments in Symbol#start_with? and Symbol#end_with?
Ensure sqlite3_mem transaction tests run in memory
Ensure array passed to preloader has no duplicate records by object_id
Add 3rd person aliases of `Symbol#start_with?` and `Symbol#end_with?`
Demonstrate connecting Active Storage to S3-compatible APIs [ci skip]
Attributes can be dup-ed
Use the `file_fixture_path` for fixture_file_upload:
Avoid `synchronize {  }` call only for MRI
`Type::Value#initialize` doesn't take positional arguments
Follow up to 3f27aa8cdf8c3c7f36d630f0241854f712e4c937
Follow up to #38953 [ci skip]
Relax required rack-mini-profiler version 2.0.x to 2.x
`save` and `save!` doesn't take positional arguments
Deprecate `starts_with?` and `ends_with?` for String core extensions
Remove unneeded test after force_ssl removal
Remove deprecated `force_ssl` at the controller level.
Remove deprecated `ActionMailer::DeliveryJob` and `ActionMailer::Parameterized::DeliveryJob`
Remove deprecated `ActionMailer::Base.receive` in favor of Action Mailbox
Add `change_null` for `change_table`
Include parallelize :threads option when fork is not available
Remove obsolete explain logging test
Inspect time attributes with subsec
Style fix for CachingKeyGenerator
Add a separator to the cache key for ActiveSupport::CachingKeyGenerator
Remove hashing from secure_compare and clarify documentation
Test actual query and result
Named variants should be defined using block syntax
[ActiveStorage] Add ability to use pre-defined variants
Adds :inline option to Action Mailbox generator rails_command
Support reentrant calls to RakeCommand.perform
[ActiveStorage] Rewrite Blob.unattached scope code using where.missing
Refactor `preparable` to be had the state in Arel collectors
Don't use deprecated `column` in the error message
Extract `build_cast_value` for `limit_value` and `offset_value`
Allow associations to be autosaved multiple times
Added docs for client-side logger
Remove `require_dependency` usage in `helper` [Closes #37632]
Depend on Zeitwerk 2.3
Deprecate marshalling load from legacy attributes format
add additional instrumentation block for ActionView layout rendering
Deprecate passing a column to `type_cast`
Support `limit(n)` and `offset(n)` nodes in dot output
Lock benchmark-ips version < 2.8
Lock benchmark-ips version "< 2.8"
Use `range.member?` over `range.cover?`
Perf: Improve performance of where when using an array of values
Support query attrs and bind params in dot output
Add test for slug to ID with ID is out of range
Add back the support to pass `at` as a proc in the job assertions
Remove internal `without_transaction_enrollment` callbacks
Add mention to shared section in `config_for` docs [ci skip]
Also batch attribute readers and writers
Avoid quite useless loop in `find_by_sql`
Replace `result_as_array` by type mapping
Should not rely on the global `Arel::Table.engine` in the framework
Batch attribute methods definition in a single module_eval
Add override of unary plus for `ActiveSupport::Duration`
removes require_dependency calls in ActiveStorage::Blob
Deprecate `allowed_index_name_length` in `DatabaseLimits`
files -> directories in zeitwerk:check warning [skip ci]
Remove useless type cast on aggregated value
Do not need `- 2` margin for `allowed_index_name_length` in SQLite3
PERF: Improve performance of where when using an array of values
Revert "Set a public ACL for files uploaded to a public GCS service"
Set a public ACL for files uploaded to a public GCS service
Ensure direct uploads to a public S3 service have a public ACL
Remove confusing json by default support and add json post example
Replace all single quotes in code snippets by double quotes for consistency
Improve performance for `scope_for_create`
Refactor Arel node `Casted`, `Quoted`, and `BindParam`
Ignore interpolated strings in DependencyTracker
Verify FFmpeg presence before attempting to preview videos
Update pg gem required version to 1.1
Remove redundant begin block from yarn template
Revert "Update actionview CHANGELOG"
Require time core extensions in all environments
Deprecate `in_clause_length` in `DatabaseLimits`
More concise Arel `Or` ast and make `Or` visitor non recursive
Use size == 1 instead of one? to check hashes count
Skip test cases for upsert_all on relation if database adapter doesn't support update on duplicate records
Improve `WhereClause#ast` to make concise Arel ast
Remove unmaintained gem from README [ci skip]
Use `supports_datetime_with_precision?` rather than `subsecond_precision_supported?`
Build GTG::Simulator memos in a single loop
Support bulk insert/upsert on relation to preserve scope values
Remove unused journey code
Remove a comment that is not fact in tests
Get rid of redundant direction argument in Migration#execute_migration_in_transaction
Remove unused `operand1`/`operand2` aliases
Reload schema after ignored_columns reassignment
Reference updated errors attribute names method in deprecation warning
Reject signed hexadecimal numbers while validating numericality
Realign cache key diagram in method doc [ci skip]
Revert "Deprecate rendering templates with . in the name" (#39012)
Add web_image_content_types config option for ActiveStorage
Update Gemfile.lock minimum Rack version to 2.0.9
Recognize Windows-style paths in test runner
Update ActiveRecord::OrTest#test_or_when_grouping (#38978)
Preserve column comment on renaming column
Upgrade kind-of
Add retry_jitter to 6.1 new framework defaults
Enable Rails/IndexBy and Rails/IndexWith cops
Update minimum Rack version to 2.0.9
Use __id__ to dedup records for transactional callbacks
Add missing backticks [ci skip]
Don't need to caution against always passing callable
Bump rubocop to 0.82 (#38980)
Convert CoffeeScript to ES6 syntax
touch_attributes_with_time takes keyword arguments
Don't gitignore tmp/pids/.keep
Apply suggestions from review
Add `if_exists` option to `remove_index`
active_record_validations.md grammer fix [ci skip]
Remove unused Arel visitors in the code base
use number instead of string in application.rb
Raise errors on correct line with annotations enabled
Pass preamble/postamble to Erubi, reducing coupling
Correct ruby-pg repo link in rdocs
Update SchemaCacheTest#schema_dump_path
Prevent has_one from touching parent record unless persisted
No need to deprecate Errors#first
Add option to set X-Original-To for systems that route on envelope addressing
Refactor test worker process titling
Load XML Builder if it is not available
Add inflight checks and server shutdown
Refactor parallelization
Test queries with leading comments on all adapters
Remove more code for unsupported frontbase and ibm_db adapters
Remove dead test code for unsupported adapters
Remove dead code in tests
update global rails commands to bundled rails i.e. bin/rails
Add subsec to `ActiveSupport::TimeWithZone#inspect`
Show subsec of Time.zone.now [ci skip]
Allow extra scoping in callbacks when create on association relation
Remove ActiveRecord::DefineCallbacks module
Reduce calls to get path info when finding routes
Do not expose association relation in the API doc [ci skip]
Reduce loops in head route matching
Minor fix to correctly identify the entire scope of the loopback address, per RFC-3330.
Add attribute_names method on errors
Update the Active Model deprecation warning
Move CHANGELOG entry to the top
`ActionView::Base.annotate_template_file_names` only annotates HTML output.
Build Journey::Path::Pattern ast in a single loop
Update tzinfo to avoid taint warnings
Update actionview CHANGELOG
Add regression test for enum getter/setter behavior
Make _protected_ivars private
Add a route to handle Mandrill's webhook URL check
Only compute :only and :except callback conditions once
Updated Active Storage configuration guide for previewers default values [ci skip]
Heed config.force_ssl when building URL
Add description to db:rollback command for multiple databases [ci skip]
Clarify database.yml DATABASE_URL instructions
Remove `rake rdoc` task in generated plugin
Add subsec to `ActiveSupport::TimeWithZone#inspect`
Restore tests for 6.0 new framework defaults
Trigger load hooks with require in configuration tests
add option in database config for metadata table     - adds the option `metadata_table` to a database connection
Allow utc_to_local_returns_utc_offset_times to be set in new_framework_defaults_6_1.rb
Update the Rails mailing list URLs to new discuss discourse URL [ci skip]
Deprecate rendering templates with . in the name
Remove AbstractRenderer#instrument
Call AS::Notifications.instrument directly in AV
Add a way to deliver inbound emails by source (#38849)
Redis cache store: fix expanding empty keys with no namespace
Allow logs to be tagged without a block
Document working with association and checkboxes in a form Motivation:   - I frequently look for this in the docs then struggle to rememeber   the name of the function I need to find in the api docs. Also I think   other people may benefit from it being easier to find.
[ci skip] Remove example of `ActionController::UrlRewriter`. UrlRewriter is no longer exists.
Add an example how to change column in "change_table" block.
Align `Range#cover?` extension behavior with Ruby behavior for backwards ranges.
.annotate_template_file_names annotates HTML output with template file names
Updates pg gem version
require, require_relative, load by double quotes (#38841)
Remove obsolete app:update generator test
Remove deprecation silencing in debug exceptions
Add support for `if_not_exists` to indexes
Sort results to fix nondeterministic test failures
Accept and default to base64_urlsafe CSRF tokens (#18496)
fix grammar - ci skip
Update to TZInfo v2.0.0
Add rubocop group to Gemfile for use in CI
Simplify GitHub Action RuboCop
Handle paths with trailing slashes in rails test
Clarify that belongs_to is not always a one-to-one relation [skip ci]
Adds default message for :only_integer validation
Restore the `lookup_store` compatibility to accept config as a single object
Support order DESC for find_each, find_in_batches and in_batches
Add X-Original-To to mail using Mailgun recipient (#38738)
Remove out-of-date comments
Add tests for aliased types
Add `blob` short-hand method for schema creation
Add S3 example using server-side encryption
Remove unused fixes.css
[Guides] line-height should be unitless
Test with and generate new apps with webpacker 5.0
Sanitize and add missing docs on `ActiveJob::QueueAdapters` class. [ci skip]
Move the `rescue_from` API docs link to the first mention of it
Change `rescue_with` -> `rescue_from` in Action Cable Overview guide
add rescue_with support to ActionCable::Connection::Base
Simplify renderer normalize keys
Update doc for #pluck to use non-deprecated syntax
Add Date and Time `#yesterday?` and `#tomorrow?` (#37625)
fix StiAutoloading example code
Handle db:rollback and db:rollback:[NAME] for multi-db apps
Use array subtraction to compute variables of interest in view_assigns
Remove extra loop in view_assigns (#38766)
Allow Relation#pick to use already loaded results
Add Enumerable#pick to complement Relation#pick
Deprecate committing a transaction exited with return or throw (#29333)
Support rolling deploys for cookie serialization/encryption changes (#37628)
Improve Active Record changelog [ci skip]
Use non-exist enum string to get unrelated record in My SQL This behaviour is in rails/activerecord/lib/active_record/enum.rb #serialize(value) line no 143 if value is not present in mapping we are sending the value back , which in mysql returns unrelated record.
Tiny doc fix in .validates
In `head`, set response body after headers.
Update autosave_association.rb
Unlock `azure-storage-blob` version to use version 2.0
Move responsibility of the `filtered?` back to enqueue methods
Remove jobs from queue when performing in tests
Document the internal hook to build a result
Add assertions to show test was mistaken
Add options examples to find_in_batches method [ci skip]
[ImgBot] Optimize images
Use latest version of SDoc
`expires_in` `extras` documentation (#38625)
Document view components support (#38656)
Remove convenience class alias
Refactor fetch_attribute
Quotation mark for gems with options in Gemfile template:
Extract building ActiveRecord::Result into a method
Rails::Command.invoke wants kwargs, so give it kwargs
remove unnecessary require 'core_ext/numeric/time'.
Updates to ActiveJob::Exceptions.retry_on with jitter documentation [skip ci] - Changelog updated - Method documentation updated
Include rack-mini-profiler gem by default
Disable colorize logging of SQL and reduce unnecessary invokation of sql_color matching
Support creating variants of `webp` images out of the box
[skip ci] How to run Action View and Action Pack unit test in serial
refactor: arel fetch_attribute to get the atrribute node from binary module.
Avoid extra string allocation in the methods generated by eval
Always respond to `set_server_option` since mysql2 0.5.0
AJ `perform_enqueued_jobs` shouldn't perform job retries:
Clarify index_by and index_with docs [ci skip]
Refactor schema migration on connection
Correct the parameter name for deserialize
Add method ActionCable::Channel#stream_or_reject_for to stream if record is present, otherwise reject the connection (#38375)
Remove owner_name
Remove unnecessary creation of new hash config
Move nil config_or_env handling
Add erb tests for multi-db
Stop recommending RailsInstaller in favor of RubyInstaller
Add attribution to the author
Add tests for --master app_generator
Use optimized subclass of StringInquirer for Rails.env
Refactor for_each(databases) code
parent 6d0895a4894724e1a923a514daad8fb3c9ac2c28 author Aditya Narsapurkar <adityanarsapurkar@yahoo.com> 1582316102 +0530 committer Aditya Narsapurkar <adityanarsapurkar@yahoo.com> 1583159505 +0530
Use index_by and index_with wherever possible
Remove unused space from disk controller of activestorage
refactor: Refactored code in functions of query_methods.
Update railties/lib/rails/generators/app_base.rb
\Z -> \z
Deduplicate Module#module_parent_name cache
Properly close a tag to avoid errors with some ruby versions
Refactor invert predicate
Add support for que name to Que adapter.
Allow `rails new â€”master` to point to master branch
updated active storage overview guide by sanitizing direct upload file name
updated active storage overview guide by sanitizing direct upload file name
chore: updated package.json to include fsevents compatible version for node 12
`ActiveSupport::Calbacks#halted_callback_hook` receive callback name:
Simplify route score
Rename 'db' to 'test/db' in Active Record's tests
[guides] Update missing translation example
Add activerecord/db/ to gitignore
Change raw HTML elements and signs to backquoted ones
remove usless attr_reader
pull preloading behavior in to the collection renderer
Added parallell testing of transactions section
While using perform_enqueued_jobs enqueued jobs must be stored as well #38584
Remove ForbiddenAttributesError from examples
Add a regression test that ActionText caught
make the cops happy
Move around local variable derivation
fix require
[ci skip] Use yml extension for locale files
always lookup template from path cache
Reduce iterations for non-homogeneous collections
Remove conditional
remove collection ivar
Move renderers in to their own files
We don't need this private method
move object specific stuff in to the object processing code
Dump the schema or structure of a database when calling db:migrate:name
Reset the `ActiveRecord::Base` connection after `rails db:migrate:name`
Make extracting details cheaper
Merging path prefixes is only done in object / collection rendering
Remove unused argument
path ivar is not required
Move `partial_path` to ObjectRendering
move locals and details ivar set in to initialize
Move options ivar assignment in to the superclass
remove extra ivar set
remove the as_variable method
as: doesn't make sense without an object parameter
partial renderer is specialized for rendering partials now
remove has_object ivar
introduce an object renderer
remove at ivar again
remove more collection references from the superclass
remove collection references from the superclass
collection rendering has its own class
Disallow calling `connected_to` on subclasses of `ActiveRecord::Base`
a collection is never rendered with an object
pull iterator allocation in to a factory method
Only iterate over collections once when a path is provided
rely less on the collection ivar
Don't to_a things when we don't need to.
Find the layout earlier
remove useless conditional
variable ivar is not needed anymore
Don't rely on the collection ivar
block does not need to be an ivar
collection with/without template are the same
collection with/without template are more similar
More less and lazy allocation for `assign_attributes` and `_assign_attributes`
Tweak contributing_to_ruby_on_rails.md [ci skip]
Clarify the difference between (old) `spec_name` and `connection_specification_name`
Remove duplicate part from deprecation warning
`reset_column_information` does not reset @predicate_builder
extract template keys to a method
pull template keys up
Remove hash deconstruction
Eliminate a hash allocation when rendering templates
Mostly remove bad test
Use type attribute in ActionView::Helpers::JavaScriptHelper#javascript_tag example
Add TODO for removal of SERVER_ADDR
Support gzip for schema cache
Tweak check for schema cache serialization strategy
Use tempfile when writing schema cache
Normalize resetting schema cache version for YAML and Marshal
Add support for horizontal sharding
Deprecate `spec_name` and use `name` for configurations
Adds additional database-specific rake tasks for multi-database users
Clarify documentation on ActiveRecord Callbacks
Update boolean attributes for actionview tag helper
Update some references to finder options [ci skip]
[ci skip] Update Documentation: Add a code example and clarify docs
Support strict_loading on association declarations
Avoid implying that `#results` selector will only match a `div` element
Replace Mailgun API key with signing key
Rewrite JavaScript guide to use ES6
Enable HashTransformKeys and HashTransformValues cops
Remove validations from example components
bumping rubocop to 0.80
Add `strict_loading` mode to prevent lazy loading
Add Webpacker dependencies to the getting started guide
Calculate mailbox and channel test files as Test LOC stats
Count TypeScript files as javascript in `rails stats`
Isolate ARGV in Rails::Command.invoke
Change commands to not depend on ARGV
Update assert_changes and assert_no_changes to use assert_equal
Update Documentation - add method which eliminates N + 1 queries
Copy argument in AttributeAssignment#attributes=
[ci skip] Improve docs for :foreign_key in migrations
Delete .ruby-version in generated plugin dummy app
Update examples Migration versions to 6.0 [ci skip]
Reduce allocation in expand cache key
Prepend class methods of prepended concerns
Remove unused event_object_subscriber method
Support marshal as a schema cache serialization strategy
Push schema cache loading into schema cache class
scaffold_controller: Include the routes when create a generator Controller
Add schema cache tests
Correct grammar in setup comment
implemented review feedback and the original change from parent PR in app_base.rb
removing edits where setup is referred to as a method and not a verb
update from PR #36222
Registered predicate handler should be used for association queries
`OID` type should accept a value range of unsigned integers
Improve i18n reloader to only reload once
Push db schema cache dump into schema cache class
Add tmp/ to generated plugin .gitignore
Use correct fallback in schema cache initializer
 [ci skip] ActiveRecord::Querying-find_by_sql-documentation-fix
Use rails_command :inline option
Cast `ConfigurationFile#content_path` to a string:
Fine, Rubocop, don't shadow outer variable
Add the `filename` when building ERB:
Extract internal ActiveSupport::ConfigurationFile object
Give us some space please
More tests for concerning
Concerns learn to be prepended
Make tests safer
concerning learns how to prepend the concern
Skip cookie comma separation test
Touch updated_at when upsert_all modifies a record
Update git init when generating plugins
Anchor generated plugin .gitgnore entries
Remove SameSite=None restrictions for Rack 2.1.0
Group requires together
Make message encryptor/verifier initializer takes keyword arguments
Remove redundant `&.` since `**options` cannot be nil
`each` block cannot take keyword arguments
allow parameter delimiter without space
Add ar assign_attributes to avoid unnecessary attributes dup
Deobfuscate Rake version error in generated plugin
Remove redundant .gitignore entries
add missing grave accent
Change safe guard to check for each_pair instead of stringify_keys
Update maintenance policy on security releases
Use `ruby/setup-ruby` action to use Ruby 2.7
Clarify passing an array as a cookie's domain
Only dup attributes in activerecord attribute_assignment
Do not stringify attributes in assign_attributes
Initialize Git when generating plugins
This PR adds support to retrieve partitioned indexes when asking for indexes in a table.
Don't try to autoload cache if no primary spec is found
Prefer faster `str.start_with?` over `str.first ==`
Make `localize` helper takes keyword arguments the same with `I18n.localize`
Make `translate` helper takes keyword arguments the same with `I18n.translate`
Follow up fa986ae0cac423bf1ebcb5caeccbecf00c990094
Simplify `lookup_store`
Use string eval instead of `define_method` for integration session method delegation
`delegate` allows multiple method names are passed
Change all "can not"s to the correct "cannot"
Add a fallback database config when loading schema cache
Update "Eagerly Requiring Helpers" section in testing docs [ci skip]
Improve zeitwerk:check warning message.
Save few seconds on every build
updates docs about engine overrides [skip ci]
Make test guides for test helpers consistent [ci skip]
Save a string allocation for each attribute method call
Add support for `if_exists/if_not_exists` on `remove_column/add_column`
Cleanup cache expanded_key
Use correct filename for schema cache on load
Default HSTS max-age directive to 2 years
Remove unnecessary `include ActiveModel::Model` in the doc [ci skip]
Generalize FrozenError on write attribute
Using `define_attribute_method` on ivar attrs is not officially supported
Simplify RUBY_VERSION checking in tests
Force connected_to to load the records if it's a Relation
Regexp escape table name for MS SQL
Allow checking whether an attribute previously changed from/to a particular value
Revise Getting Started Guide -- up to first route
Simplify CallbackTemplate#expand
Avoid instantiating Proc if no around callbacks are defined
Deduplicate empty `@if` and `@unless` arrays in Active Support callbacks
Avoid making query when using `where(attr: out-of-range-value)`
Avoid making query when using `where(attr: [])` for `pluck`
Partly revert `calculate_statistics` change
Use `transform_values` to avoid extra Array allocation
`current_scope{,=}` are public methods
Expose `klass.default_scoped` as public API
Pass over the multi-db guide [ci skip] (#38314)
Deletes the private method add_template_helper
Add CacheStore connection pool docs to guide [ci skip]
Update result from var instance output [ci skip]
Update Migration number to ensure consistency on the documentation [ci skip]
Parallelize activesupport test suite
Allow cache tests to be run in parallel
Force encoding of cache keys
Add tests for empty fetch
Allow encrypted_file_test to work in parallel
Allow automic file test to be parallelized
Unique temp paths for encrypted_config_test
Use random tmp dir for FileStoreTest
Add benchmark generator
Document the return value of update_all [ci skip]
Update Migration number from 5.0 to current 6.0 [ci skip]
Move advisory lock to it's own connection
Use path instead of fullpath on validating authenticity token
Allow schema cache path to be defined in the config file
Update list of middleware for API-only in Guides
guides -> active_job -> add que backend [ci skip]
Deprecate `#remove_connection` in favor of `#remove_connection_pool`
Cache compiled view templates when running tests by default
Add falcon to the available rack servers
Defined attribute should not expand positional hash argument
`*_for_alter` methods should also takes keyword arguments
Invertable methods should have compatible method signature
Adds support to wrap aliased attributed in object hash in params wrapper.
`add_foreign_key`'s arguments are compatible (invertable) for `remove_foreign_key` without customize
Extract `message = options[method_name]` out of method definition
Use --assume-yes to install the dependencies for Github's workflows:
Add test for figcaption in actiontext
Introduce ActionCable::Channel#stop_stream_from/for to unsubscribe specific streams (#37171)
Deprecate and replace `#default_hash` and `#[]`
Reduce FILENAME_MAX_SIZE to accomodate large PIDs
generate empty directory for image only
Use the model's adapter for the attribute type lookup
Allow creating empty directories
Add failing test cases
Mark working_with_javascript_in_rails as WIP
Only enqueue analysis jobs when blob is analyzable
Allow updating the database selector context with the response
Avoid extra Array allocation for `build_tag_values`
Remove SQLite version support caveats [ci skip]
If `dependent: nil` is valid for has_many, it also be valid for has_one
Avoid extra Array allocation
Prefer `match?` over `match`
Allow ActiveSupport deprecation warnings to be configured as disallowed
Don't encourage using octals for dates and times
fix typos
prevent helper_method from calling to_hash
Add list of deprecated methods
Document on ActiveModel::Errors changes
Remove an empty line from generated migration
rexml has been bundled gems in Ruby 2.8 (3.0)
Pass Benchmark.ms block through to realtime
Add scale support to ActiveRecord::Validations::NumericalityValidator
rack 2.1.1 has released
Update image_processing to avoid Ruby 2.7 warnings
Introducing the `where.missing` query method.
Reduce number of created objects in Hash#to_json
rack 2.1.0 changed expires date format from rfc2822 to httpdate
[ci skip] Brazilian portuguese translation effort (#38200)
Do not re-parse PATH_INFO when validating authenticity token
Typo fix of visbility.
Ensure the reading connection always raises if we try to write
WIP inline option
Avoid shelling out for generator `generate` action
Put dev dependencies in generated plugin Gemfile
Use default order of PathResolver::EXTENSIONS for sort templates
Address Ruby 2.7 kwargs warning in ActionDispatch::SystemTesting::Driver
Reduce number of created objects in Hash#as_json
Do not define instance predicate if the instance reader isn't as well
Deprecate "primary" as a connection_specification_name for ActiveRecord::Base
Deprecate using `Range#include?` to check the inclusion of a value in a date time range
Remove method encode from url_test in Actionmailer:
Delayed middleware delete does not allow move operations
Memoize regex when checking missing route keys
Add AC::TestSession#dig method like AD::Request::Session
Restore previous behavior of parallel test databases
addresses RuboCop feedback
Bump image_processing gem version since it fixes ruby 2.7 warnings
restores the ability to manually eager load applications
Fuse traversals of the record set when preloading
Avoid extraneous preloading when loading across `has_one` associations
Defaults content_type to application/octet-stream
Move nil? check to open_ended? method
Add ActiveRecord::Validations::NumericalityValidator
Remove comment
Only assign @new_record_before_save once in autosave_association
Update tests
Use full option names in psql / pg_dump for clarity
Add `:round_mode` parameter support to number helpers
Error if mattr_accessor is called on singleton
Define module attr methods at caller location
Define fake_zones on AS::TimeZone, not singleton
Add match 302 http code for log in redirect_to
`ActiveSupport::EncryptedFile#initialize` takes keyword arguments
Allow `or` in case of `from` clause with same value
Avoid assigning duplicate values in QueryMethods
Update "The Hard Way" setup for Arch Linux
Pass env_name as a string in test databases
trusted IP changelog
When all IPs are trusted, use the furthest away
Enforce fresh ETag header after collection changes
Add to the log format "*/*" if using a not found format:
Mime::Mimes#symbols should return a always up to date reference:
Add `ActionDispatch::HostAuthorization` to "Configuring Middleware" guide [ci skip]
Separate with space between table name and columns list in SQL of insert_all
Use travel_to to in date_helper_test.rb.
Remove .travis.yml and ci/travis.rb
Remove `ENV['TRAVIS']`
Bump license years from 2019 to 2020 [ci skip]
Allow #nulls_first and #nulls_last in PostgreSQL
Add ActionCable subscription connection identificator to PostgreSQL adapter
Address StarStarMimeControllerTest#test_javascript_with_no_format_only_star_star failure
Do not abort `rails new` when git binary doesn't exist
Missing require AS/core_ext/string/access
Return unfrozen strings from to_sentence
`Google::Cloud::Storage.new` takes keyword arguments
Set AJ `return_false_on_aborted_enqueue` true in the test suite:
`ActionDispatch::SSL#initialize` takes keyword arguments
Remove passing a block which is unneeded
Address `DEPRECATED: use MT_CPU instead of N for parallel test runs`
Deal with Ruby 2.5 and Ruby 2.6 in a different way
Split keyword argument in the geenrators action tests
No need to split the keyword arguments here
Remove warning from the deprecation method wrappers
remove reference to global rails command and replace with bin/rails
Downgrade parser to work correctly with Ruby 2.5
Call method outside the loop
Switch to standardized argument name
Install bundler instead of trying to upgrade Ruby
Upgrade Ruby in the github actions
Use bundler version that is default on Ruby 2.7
Clarify how broadcastings are named [ci skip]
Add test case about assigning nil in enum
Clear callback triggers when transaction completes
Polish the Action Text guide [ci skip]
Avoid unnecessary SQL query when calling cache_key
Clarify session management middleware sections
Cannot parse `def self.use(...)` in Ruby 2.6
Extract duplicated `&build_block` part into `build_middleware`
Remove accidental git merge marker [ci skip]
`ruby2_keywords` for `method_missing`
removes redundant constantize call [skip ci]
Use pg 1.2.0 to support Ruby 2.7
Update tzinfo to avoid Ruby 2.7 warnings
Allow AR::Enum definitions with boolean values
Use the single line editor in console test
Add ActionMailbox install generator
tweaks tests
Regex did not match CREATE TABLE in all cases
Add preposition and conjunction example to title guideline [ci skip]
Improve escape_javascript performance.
Optimize class_attribute instance accessors
Make `LoadInterlockAwareMonitor` work in Ruby 2.7
Tiny code example fix [ci skip]
github actions checkout v2
Use multiline example blocks for improved readability [ci skip]
Use ActionDispatch mimes in asset_tag_helper_test
Encode template source before extracting lines
Ignore test env in DatabaseTasks when DATABASE_URL is present
Remove info for deprecated database switching
Store previews in the same service as the original blob
`ruby2_keywords` for `adapters/mysql2/active_schema_test.rb`
Add `ruby2_keywords` for delegating to `fields` helper
`Logger#initialize` takes keyword arguments
Remove extra `the` in preloader docs
Remove week from iso8601 parts
Use the 'What is FRAMEWORK?' title for all framework guides [ci skip]
Don't use rails command shortcuts in guides [ci skip]
Improve `ActiveSupport::Duration` performance about 25% ~ 50%
Make Rails::Configuration::Generators accessor consistent
Support cursors on readonly queries
Consolidate code for READ_QUERY
Added: USE sql statement to the READ_QUERY list for mysql
Add CHANGELOG for #38029
Don't require "action_view/base" in action pack:
Don't allow mutations on configuration_hash
Update sqlite3 to avoid Ruby 2.7 warnings
Add missing $ prompt for bash command examples [ci skip]
Documents another gotcha of classic autoloading [skip ci]
Update tests to assert something
Reword docs on ActionText [ci skip]
Use new ... syntax in Module#delegate if it's available
allow running each test with pure ruby path/to/test.rb
Update ActionText docs [ci skip]
Api-docs validation defaults missing absence [ci skip]
Address `Error: caskroom/cask was moved. Tap homebrew/cask-cask instead.  `
Load an application before use
Remove reading spaces in the code block [ci skip]
Do not use hard tab in markdown [ci skip]
Remove `:connection_id` in an internal instrument
Add missing languages for guides code blocks [ci skip]
Highlight code with Prism on 'turbolinks:load' [ci skip]
Style actionable errors button
Remove connection_id key from the sql.active_record notification
Move `name` key on configuration hash into `DatabaseConfig`
Disable ActiveJob retry jitter when given zero/falsey value (#38003)
Make `belongs_to_required_by_default` a class attribute:
Rename a test method to not conflict with a deprecated method
Deprecate `connection_config`
Add a host method to HashConfig
Also close PRs with no activity over 3 months
Ensure migration generator respects primary key config in references
Don't run concurrent transaction test on sqlite3:
Removes the un-used function call for syntaxhighlighterConfig [ci skip]
Do not allow mutation for empty clauses
Refactor query methods not to depend on internal `DEFAULT_VALUES` constant
Add helper method to slim down config_for test set up
Allow non-hash values in config files
Remove stacktrace from ActiveJob logging callback halts
quick regression fix for zeitwerk:check
Use prism.js for code highlighting in guides [ci skip]
Add ActionText installer rake task back after changes in #35085. Forwards the installer to run new ActionText generator
Load framework test files in deterministic order
Tune ActionText::Generators::InstallGenerator
Leverage new :env option for Thor::Actions#run
make that a private instance method instead
Consolidate and give context to `after` callback deprecation
Add SameSite protection to every written cookie
Add explain to abstract database statements.
Deprecate config in dbconsole
Add missing first title to AR Query Interface guide [ci skip]
Update mysql2, json, to fix ruby 2.7 warnings (#37967)
Add regression test for url_helpers duplication
Cache routes.url_helpers built modules
Revert "Workaroud to address apt-get update at GitHub Actions"
Review changes
Prefer double-quoted strings.
Prevent NoMethodError on named route in integration test.
Workaroud to address apt-get update at GitHub Actions
Generate 45% faster query methods
Add method to confirm rich text content existence by adding ? after content name
Set default directly with default:
Strip default_ prefix from retry_jitter config to match conventions
Reorder active support instrumentation guide (#37639)
Clarify documentation by removing charged words
Removed unnecessary words from Getting Started docs
Add changelog entry for https://github.com/rails/rails/pull/37918
Remove unused requires
Move records and loaded ivar up to load
Add explaination of default_retry_jitter to configuring guide
Add config option for ActiveJob::Base.default_retry_jitter
Improve contributing guide for RDoc [ci skip]
Render objects that respond_to render_in in controllers
Introduce class_names helper
Add test case
Database URL supports query value with equal sign
Don't run AJ after_enqueue / after_perform when chain is halted:
Add myself of codeowner of the rubocop config
Don't assume all database in SQLite are files:
Added posibility to open a `read_uncommitted` transaction on SQLite:
Add CHANGELOG entry for 4d858b3f2a
Update documentation for setting up database tests (#37475)
update getting_started guide to reduce confusion [ci skip] (#37750)
Update docs of String methods using ActiveSupport::Inflector [ci skip] (#37890)
Make sure variant is created on the same service
Remove query params in DiskService
Use DiskController for both public and private files
Go through ActiveStorage::Blob::Representable#variant to pick up tracking
Add resolved route for ActiveStorage::VariantWithRecord
Correct migration name
Track Active Storage variants in the database
Remove extraneous `begin..end` around single `case` statement
Bring back feature that allows loading external route iles:
unlinks Ruby on Rails Tutorial [skip ci]
Revert "Use `app.config.file_watcher` for watcher in `RoutesReloader`"
Use ActiveStorage::Preview#url instead of deprecated #service_url
Upgrade listen to 3.2.1 for darwin fixes
perform_caching config affects collection caching
Switch to the writer DB to generate ASt previews
Style
Add bug report templates for Active Storage
Small doc fixes for ActiveJob::Exceptions::ClassMethods#retry_on
Distinguish missing controller exceptions from unrelated NameError
forward system test driver options configured in initializer block to the selenium driver for non-headless browsers
Remove deprecated non-symbol access to nested config_for hashes
Update active_storage_overview.md
Should keep the original parts for zero duration
Hide internal utility methods in the public API doc [ci skip]
Retain selections with `includes` and `joins`
Deprecate `database` kwarg from `connected_to` without replacement
appease rubocop
Add support for conditional values to TagBuilder
Avoid allocating Binding instance in HWIA#convert_value
Correct default value of `unknown_asset_fallback` [ci skip]
number_to_currency negative zero fix
Add file analysis to the Active Storage guide
Use `app.config.file_watcher` for watcher in `RoutesReloader`
Test extensions to Mail gem
Deprecate `service_url` in favour of `url`
[skip ci] Update initialization guide start method to include change
registers 43863bf in the CHANGELOG [skip ci]
Add request to the payload for notifications to redirect_to.action_controller.
The return value of `ActiveSupport::Duration#inspect` is wrong when its parts are empty
Call `MonitorMixin` initializer before use methods provided by `MonitorMixin`
Add jitter to :exponentially_longer
Bump RuboCop version to 0.77
Add Rails changelog URI
Easy to show `bundle exec rubocop` output at Action
Use optimized subclass of StringInquirer for Rails.env
fix(test): only test reaper with fork when fork is available
Update to listen 3.2
Add missing period
Titleize header [ci skip]
Auto-correct rubocop offences
Enable `Layout/ClosingHeredocIndentation` cop
Follow up 997770f5955a36f0c800388c4592c961e184aec4
PostgreSQL: Make detection of invalid plan locale-independent
Add :namespace option to generator `route` action (#37746)
Prevent generating tests with non-existent routes
show consitency in cache key and avoid getting into implementation details
Add I18n to eager_load_namespaces
activerecord: Add missing require for compact_blank
Modify respond_to behaviour always setting the request's content type:
Remove an unused connection handler in a test
Update guide missing "HTTP" of "HTTP Token authentication" [skip ci]
Update packages before install
Allow system tests using Rack::Test to run without Chrome (#37476)
Allow using mountable engine route helpers in System Tests
Add guide for inline around_action
Add document for `Enumerable#including` and `Enumerable#excluding`, and `Array#including` and `Array#excluding`
Check that entire collection has been loaded before short circuiting
Remove slashes and backslashes from image paths
Add params.member? to mimic Hash behavior
Add comment to BROWSER_LIKE_ACCEPTS [ci skip]
Change execute_batch to take array of statements
[ci skip] Simplify Action Mailbox Forwards example
Only test if we can use processes and it's not an in memory db
Provide the whole response
Check the actual constant used
Don't test connecting to new database if `in_memory_db?`
Also avoid deprecation warnings if command fails
Prepare to thor 1.0
Use per-thread CPU time clock
Bump GitHub Action cache version from preview to v1
Writes should always clear the query cache
Test that query cache works correctly on multiple handlers when forking processes
Respect config.log_level in console
Run app:update:bin from actiontext generator
Create GEM_ROOT and make js_dependencies private
Create ActionText install generator
Improve deprecation message for leaking scope
Update a tag for missing <dl> in guides
Run yarn install in template dir
Use rails() instead of system()
Fail with output if shell commands fail
Remove unused require
Remove Resolver autoload
Address all possible `Performance/StartWith` / `Performance/EndWith` violations
Remove redundant `env.delete` in `scrub_env!`
Relocate require in AS::Deprecation
Add `HTTP Token authentication` section to guide [skip ci]
Remove ConnectionAdapters::Resolver in favor of DatabaseConfigurations
Add missing require for Concurrent::ThreadLocalVar
Don't parse DB specific locking docs as code
More steps on contributing to Rails [ci skip]
Improve docs of the `load_defaults` method [ci skip]
Accept block in travel_back time helper
`:polymorphic`, `:as`, and `:foreign_type` are valid for polymorphic association
Extract common valid options for association builder
Both singular associations (has_one, belongs_to) supports `:touch` option in Rails 6.0
`:through`, `:source`, and `:source_type` are valid for through association
Remove unused `:table_name` in `valid_options` for association builder
Update fragment caching doc [ci skip]
Controller can be symbols as well
Defer Active Storage service configuration until use
Add an option to disable logging for jobs with sensitive arguments
Suppress deprecation warning in generating the guide `index.html`
Mention public storage in the guides [skip ci]
Append missing 's' to #silence_warning call
Rename the classes
Document the load hook for ActionDispatch::Response [ci skip]
Add load hook for ActionDispatch::Request
let environments configure load-related paths
Remove needless `require "pp"`
Address `no implicit conversion of Arel::Attributes::Attribute into String`
Add an intermediary called RoleManager to manage connections
Provide the whole request
Use singular, `instance`, in deprecation warning.
No need to break the line
i18n.md: Remove Rails versions from Traco link
Add :uuid to process_action.action_controller payloads
Add :location to process_action.action_controller payloads
document the default for dependent activerecord option
Additionally order by primary key if implicit_order_column is not uniq
TypeError Regexp#match?(nil) in Ruby Head
Run inline jobs in separate threads
Update form examples [ci skip]
Appease rubocop
Cache gems for GitHub Actions
Only use a template when no duplicate columns
Use transform_values to build hash_rows
Enabled GitHub Actions to run the latest RuboCop 0.76.0
Improve deprecation message for nested `where.not` condition
The `AJ_ADAPTER` env needs to be set:
Reestablish connection to previous database after migrating:
Correctly deprecate where.not working as NOR for relations:
Avoid using require_dependency is Zeitwerk is enabled
Remove unused requires
Duplicate the cached value before writing it in the local cache
Edit AS core extension docs [ci skip]
Clarify that CORS configuration isn't needed for the Disk service [ci skip]
Make AS::Deprecation.silence block thread-local
Add changelog for IN empty array
[ci skip] Small fixes in ActionView documentation.
`bin/yarn` exec `"yarn"` rather than `"yarnpkg"`
Correct "Unknown action" screenshot in Getting Started guide
fix some grammar errors on guide doc.
[ci skip] Small fix to ActiveSupport docs
Add `supports_common_table_expressions?` for CTE testing
Tidy up the build output for Active Job adapters
Allow CTEs in read-only queries.
Refactor `association.scoping` not to rely on `klass.all`
Don't instantiate new role
Return db_config from resolve_config_for_connection
Simplify `LazilyDefineAttributes`
Rewrite LazilyDefineAttributes so that it removes itself
Simplify class_method_defined_within
Test clear_changes_information rather than reload
Remove unused require
Make the method signature of `association.build` the same as `klass.build` and `relation.build`
Do not refer guides in edgeguides [ci skip]
Update rails server terminal output in Guides [ci skip]
Update Welcome Aboard text in Guides [ci skip]
Enforce that activestorage compiled JS is in sync with source code
Enforce that actioncable compiled JS bundle is in sync with source code
Follow-up 6e0aa1887d: So we do need the wrapper, doh
Add methods to the public API of ActiveRecord::Inheritance
Remove tests that limit/offset without order which is non-deterministic result
Enumerator should be supported by ActiveSupport::SafeBuffer
Ensure public-read ACL for S3 service with public mode.
Keep symbolic link after editing credentials.yml.enc
Refactor to reduce complexity from O(n*2) to O(n)
Simplify subclasses method using reject
Nodoc Role
Take advantage of ObjectSpace.each_object returning an Enumerator
Perform both tests within a single line
Remove patch for old JRuby versions
Don't add new lookup; replace existing one instead
Add two cross links to methods in docs [skip ci]
Update multi_json to the latest version
[ci skip] Remove reference to legacy Rails 2.x command
Adds a link to the Basic Authentication section [ci skip]
[ci skip]fix typo
Add .byebug_history to generated plugin .gitignore
Modernize generated plugin gemspec
Manage connection pools in a new Role class rather than in DatabaseConfig
Do not refer internal constant in the doc [ci skip]
Match convention to use Ruby semantics for predicates
Add bug tracker/documentation/mailing list URIs to the gemspecs
Move downloader require to service
Use transactional tests to avoid deleting blobs from other tests
Use DatabaseConfig objects in dbconsole
Support ActiveModel::Error translation lookup on indexed attributes.
Convert two hash lookups into one
Avoid extra allocations when don't need escaping
Make has_many inversing opt-in
Permanent URLs for public storage blobs
Tidy and speed up ActiveSupport::Cache::Store#read_multi_entries
Correctly find nested association reflections for #37356
Sprockets uses debug. not self. now
Link .js from manifest.js in assets_test
Remove a javascript from test
Use a stylesheet instead of a javascript in test
Maybe we understand index.js better now?
Add a few more assertions
Don't run callbacks on has_many inverse add
Bundle update
support for overrides in :zeitwerk mode inflectors
bump Zeitwerk to 2.2
Document CORS configuration for direct uploads
Generators skip collision check if force option is passed.
Use FileUpdateChecker for Migration::CheckPending
Update sassc to the latest version
Update json to the latest version
Update i18n to the latest version
Rename load_paths.
Add missing backticks for class methods
Add missing backtick for `assert_not` in contribution guide
Update comment in controller generators
Add SECURITY.md file, linking to security policy
Implicitly assert no exception is raised in block assertions
Remove unused `require`s
[ci skip] switch eg. to proper e.g.
Less Pure Copping: cop-out tmp folders for generated Rails apps
Document ActionView::UrlHelper in overview guide
fix(fork-tracker): Only patch fork if it's supported
Updated `ActionDispatch::Request.remote_ip=`
Improve engine hooks documentation [skip ci]
Document caveats in autosave association behaviour
Allow OPTIONS verb in mapper (#37370)
Support the OPTIONS Http Verb in Integration tests (#37369)
increase guides chapters wrapper width
Correctly establish connection in truncate and simplify method
Use db_config to retrieve adapter in Resolver
Ensure Contextual validations fire on associations
Address to the warning "DEPRECATED: global use of assertion methods"
Remove unused block local var `cli`
Deprecate leaking scope in callback block for association relation
correct information about record identification
Maintain extra joins for string or complex arel conditions
Update MySQL links to the current version of the manual [ci skip]
Don't modify relative ./ paths in BacktraceCleaner
Avoid string allocations in BacktraceCleaner
Make Active Storage services aware of configuration names
include primary key in insert_all conflict target if specified in unique_by
update https urls [ci skip]
Remove unused require
Add support for belongs_to to has_many inversing.
Refactor ConnectionPool management
Add docs about _scopes option on enum. [ci skip]
update package.json files to use https homepage value
Removed repeated word 'done' from Active Storage guide [ci skip]
Remove unused require
Update Gemfile.lock with newly added `activesupport` dependencies
Reverse assertion arguments: expected, actual
Require `minitest/mock` since we rely on `stub` in this test file
Set Content-Type on variant uploads
Allow configure services for individual attachments
List activesupport as a direct dependency
Redis cache store: fail gracefully when max clients reached
Delay ActionDispatch::Response configuration to load-time
Remove any precision problem by comparing the float values
Use `assert_queries` since we are only checking for the count
Avoid making query when using `where(attr: [])`
Include connection in cached query notifications
Always use 28 characters for Active Storage keys
Decrease the precision of the sec_fraction in the tests
Also override Kernel#fork
Keep Object#fork private
Docs: active job: Clarify default re: failure
Introduce a callback for forked children
Allow providing a custom key per blob
Use Module#deprecate
Avoid Element.closest() for IE 9 compatibility
Explicitly require `active_record/migration`
Correct test class name
Discard ActiveStorage::AnalyzeJobs on ActiveRecord::RecordNotFound
Avoid flunking tests on warning in output
Using a class method is not the preferred way to accept arguments for scopes
Use String#+@ before mutating the result of Symbol#to_s
Revert register proc takes keyword arguments
touch_attributes_with_time takes keyword arguments
create_table_definition takes keyword arguments
foreign_key takes keyword arguments
add_reference/remove_reference takes keyword arguments
Document Arel.sql
Skip test is all Ruby implementations that don't support fork
Use String#+@ before mutating the result of Symbol#to_s
Make DatabaseTasks adapters use DatabaseConfig objects
Update test to avoid Puma output format change
remove spurious trailing commas from zeitwerk:check error messages
actual fix for #37285
Remove errant default option
Add ActionController::Base.log_at
Better double checked locking in load_schema
Instantiate ConnectionPool with a DatabaseConfig rather than a ConnectionSpecification
Shush deprecation warnings in ASt tests
Always create ActiveStorage::Blob before uploading to service
let zeitwerk:check report files outside the root directory with absolute paths
form_with takes keyword arguments
t.string takes keyword arguments
Unify foreign_key method signatures to take keyword arguments
add_foreign_key takes keyword arguments
template_exists? takes keyword arguments
Unify rotate method definitions to take keyword arguments
Delegate ActiveJob::Base#queue_adapter to class
Make all reads on configuration_hash use methods
Move ActiveJob::Exceptions#instrument to ActiveJob::Instrumentation
Make UrlConfig a subclass of HashConfig
Remove UrlConfig#url_config?
Resolve Hash with `url` key as a `UrlConfig`
Extract ActiveJob::Instrumentation
Renamed method in documentation string `assert_broadcasts_on` to the correct `assert_broadcast_on` to close #37272
Add missing OS dependency (#37263)
Use dynamic Rails version in plugin dummy apps
Reduce stat(2) calls
Update for `Time#inspect`
Note ActiveStorage::Blob methods in Attachment docs [ci skip]
Prefer one liners OS requirement install commands
Don't load environment in rake command
Rollback in `after_commit` should not rollback state that already been succeeded
Update test comments: `set_model_class` is not a thing [ci skip]
Add a CHANGELOG entry for to_h deprecation
Make DatabaseTasks use DatabaseConfig objects
Allow DESCRIBE queries on read-only connections
Maintain eager loading joining order as before
Reduce Array allocations
Reduce Hash allocations
String#force_encoding destructively updates the hash values
Reduce object allocations in Journey
Deprecate `to_h` and `to_legacy_hash`
Deprecate `current_config` and `current_config=`
Allow ActionDispatch::Response to be autoloaded
Silence method redefined warnings
Partially revert 4a9ef5e1202cdab1882989eb561b0dc854c9891b
Prefer String#== over String#=== for clarity
Use Regext#match? where MatchData is not needed
No need to dup temporary strings
return early
:golf:
Avoid extra hash creation
Use Path::Pattern#match? that uses Regexp#match? where MatchData is not in need
Reduce Array and Hash creations in Journey find_routes
Raise FrozenError for frozen objects when trying to write to a non-database-backed attribute.
Avoid setting up file watcher on cache_classes
Docs: note removal of `render :text` option from 5.1 guide [ci skip]
Allow Sidekiq access to the underlying Job class
Remove Capistrano from asset pipeline guide
renames variable in example [skip ci]
document how to customize inflections in autoloading [skip ci]
Expand on helpers available in Action Mailer
Auto-correct rubocop offences
Avoid expensive tracking objects for prepared statements
Revert "There are some Rack middleware take keyword arguments for initializing"
There are some Rack middleware take keyword arguments for initializing
define_attribute takes keyword arguments
Passing in a Hash instance as non-kwargs parameters has to be curly braced
Unify create_table method signature to take keyword arguments
form_authenticity_token takes keyword arguments
type_to_sql takes keyword arguments
AMo::Error#initialize takes keyword arguments
Unify AR save method signature to take keyword arguments
tweaks in config.cache_classes docs [skip ci]
Reduce surface area of ConnectionSpecification
Passing in a Hash instance as kwargs parameters requires the "double splat" prefix
Reduce proc call
`get` gets keyworded options
Other `get` signatures take keyword arguments
IntegrationTest#head also does not accept non-keyword arguments
Stop queue_name_prefix from being global
Pass db_config object around instead of hashes
Move ActiveJob::LogSubscriber into its own file
Prefer assert_not_includes
Use symbols everywhere for database configurations
No need to dup before double-splatting a Hash
Use keyword arguments instead of last parameter Hash
get gets keyworded options
require open-uri where opening URI
Separate keyword arguments from parameters
Required mysql2 gem 0.5.0
Stop autoloading AbstractAdapter prematurely
activerecord: Allow comment prefix in queries when preventing writes
Skip insert all tests when features are unavailable
Workaround for kwargs 2.7 and 2.6 incompatibility
Unify `add_column` method definition with other ones that take keyword arguments
Unify `transaction` method signature for eliminating kwargs warning
Accept columns passed with options in remove_index
Allow bulk alter to drop and recreate named index
Serialize classes and modules with ActiveJob
nil.try accepts keyword arguments (and does nothing with them)
Improve autosave documentation [ci skip]
Clear query cache when insert all is used
Support calling include? on beginless and endless ranges.
Errors#add takes keyword arguments
Keyword arguments for schema manipulation methods
select_all takes keyword arguments
Keyword arguments for Type initializers
Keyword arguments for TableDefinition and create_table_definition
I18n.translate takes keyword arguments
Column takes keyword arguments
rubocop
Revert "Class#new also separates keyword arguments and optional hash"
Handle kwargs only in Ruby >= '2.7'
Class#new also separates keyword arguments and optional hash
Allow inspected records to be marshaled
Registration#matches? takes keyword arguments
Registration#matches? takes keywords, and Registry#lookup is already called with keywords
else + ternary  =>  elsif + else for clarity
Passing in a Hash instance as non-kwargs parameters has to be curly braced
Keyword arguments is not a Hash
Passing in a Hash instance as kwargs parameters requires the "double splat" prefix
Passing in a Hash instance as kwargs parameters requires the "double splat" prefix
Revert "Include kwargs definition in the generated method signatures and method calls"
Refactor `define_url_helper` to share the same instance between _path and _url
Revert "Revert "send with **options only when options is not empty""
Keyword arguments is not a Hash
Include kwargs definition in the generated method signatures and method calls
Passing in a Hash instance as kwargs parameters requires the "double splat" prefix
AR save takes keyword arguments
Revert "send with **options only when options is not empty"
Unify AR touch method signatures
Bump Capybara require version
Implement content disposition in direct upload
`ActionView::Helpers::FormOptionsHelper#select` should mark option for `nil` as selected
Optimize Module#delegate to no longer be linear
Optimize UrlHelper.optimize_helper?
Autoload the `AS::SecureCompareRotator` class:
These `options` are not defined as keyword arguments
Unify delete_multi_entries method signatute
Auto-correct rubocop offences
Passing in a Hash instance as non-kwargs parameters has to be curly braced now
Passing in a Hash instance as kwargs parameters requires the "double splat" prefix
Document the new npm package names in the upgrade guide
Safer example in Rails::Railtie documentation
Don't use `Process#clock_gettime(CLOCK_PROCESS_CPUTIME_ID)` on Solaris
Unify `save` method signatures to take keyword arguments
These methods take keyword arguments
Revert "Include kwargs definition in the generated method signatures and method calls"
Include kwargs definition in the generated method signatures and method calls
The super_method at Type::Value takes kwargs
Passing in a Hash instance as kwargs parameters requires the "double splat" prefix
No need to synchronize for just reading an ivar, at least in MRI
Merging options donesn't have to be synchronized
Ivar += in MRI is thread safe
No need to synchronize for just reading an ivar, at least in MRI
Add a test for select argument error with block
Do not enforce no braces for hash argument
Do not set response "Vary" header if it has already been set
Intern ActiveJob queue_name
send with **options only when options is not empty
These RequestHelpers' methods take keyword arguments
RequestEncoder.register_encoder takes keyworded arguments
Passing in a Hash instance as non-kwargs parameters has to be braced in Ruby 3.0 syntax
Passing in a Hash instance as kwargs parameters requires the "double splat" prefix
Introduce keyword arguments for some AS::Cache methods
Unify the API with Messages::Rotator::Verifier#verify that takes kwargs
subscribe block doesn't take keyword arguments
:number is not a keyword argument
I18n.translate takes kwargs options
Passing in a Hash instance as kwargs parameters requires the "double splat" prefix
Passing in a Hash instance as non-kwargs parameters has to be braced in Ruby 3.0 syntax
Add modern way to enable asset precompile to guide
Prefer normal method call over method_missing
Add title tag to mailer previews
Correctly classify the files and directories that pass to watcher
Add tests for no or blank like arguments to query methods
[ci skip] Markdown `highlight` doesn't work in <ul>. Add CSS to fix.
Extend `test_can_write_while_reading_from_replicas_if_explicit`
No need to stringify event names (= method names) that always are Symbols
Remove mysql2 specific rescue in abstract adapter
US_ASCII strings are always UTF_8 compatible
Constantize a constant array in a method
This is no longer a fact in Rails 3+
Call `while_preventing_writes` from `connected_to`
Update stale issue comment to mention 6-0-stable
Clarify severe security issues maintenance policy [ci skip]
Remove locale key for to_sentence
Add doc about I18n support for :placeholder option [ci skip]
Changed controller name (Typo fix) in rails engines documentation [ci skip]
Ignore SQLite3 database files generated by parallel testing
Logging at info level should be reserved for top-level concerns
Giving a Symbol here might be a very little bit efficient than giving a String
No need to dup && freeze an already frozen sql string
Skip tidying bytes for ascii_only strings
No need to count an Array because Array knows its length
Reduce Hash creation in FormHelper
Add `delete_multi` method
Escape email addresses with name
Always load validator class to verify it exists
update initialization.md
Remove whitespace in environments/test.rb
Cleanup unneeded blank string params in ActionText
Small docs fix inside `ActiveStorage` [ci skip]
Optimize Action Text's plain text conversion
Revert "Partly revert unnecessary change in #36996"
Encode ActionDispatch::TestRequest::DEFAULT_ENV headers as ASCII-8BIT
Partly revert unnecessary change in #36996
Update rails js packages to official version
Removed unused NullContentTypeHeader after changes in #36996
Generate new apps with latest puma version
Change the Rails gem version from 6.0.0.rc1 to 6.0.0 in bug report templates
Move tests that does not rely on forking out of `fork` conditional.
Ensure reaper threads respawn in forks
Support extra stuff in the Content-Type header via Mime registration
Updating .yardopts to document .rb files in [GEM]/app
Allow reaper thread exit if all connections closed
Generate keep file in tmp/pids
Clear ActiveRecord object memoized by take
Keep the name of the releases note consistent
activesupport: Memoize name object allocation in CurrentAttributes.instance
Prevent TagBuilder modify options
Stop reopening ClassMethods and merge definitions
:action is just a string
Reduce Array allocations while finding templates
No need to dup options hash where it's not modified
Reduce object allocations in TaggedLogging
Reduce String allocations while handling HTTP headers
Reduce object allocations during activerecord.sql logging
`additions` here never will be empty
Reduce String creations in HelperMethodBuilder.get()
respond_to? usually receives the method with a Symbol
Mark Rails 6.0 released notes as done [ci skip] (#36968)
Refactor max-age seconds
Update puma to the latest version
constant Gem::RubyGemsVersion is deprecated
Upgrade the maintainance policy
Support Rails with sass-rails 6
:warning: calling URI.open via Kernel#open is deprecated, call URI.open directly
Highlight `database.yml` as code block in multiple databases guide [ci skip]
Make prepared statement status thread and instance-specific
Update mini_magick to the latest version
Remove lonely alignment whitespace from Puma config
Add entry about the classic autoload to the upgrading guide
Improve detection of ActiveRecord::StatementTimeout with mysql2 adapter
Bump RuboCop to 0.74.0
Ensure @rails/actioncable package contains complete source
Ignore Errno::ENOTEMPTY when calling AS::Cache::FileStore#clear with race conditions
Allow tests to run without a TTY
add test to check we read new path correctly
rename to javascript_path, make attr_accessor
create an attribute so that webpacker can set its default path instead of hardcoding
documents how to troubleshoot autoloading in zeitwerk mode
defines Rails.autoloaders.log!
6.x -> 6.0 [skip ci]
Log active_job potential matches when asserting
6.x -> 6.0 [skip ci]
Nodoc class that should not be part of public API
Remove `AddForeignKeyConstraintToActiveStorageAttachmentsForBlobId` migration
Serialize symbols to strings in ImmutableString serialize method
Remove misleading documentation
Add test for content type in direct upload to Azure
Stop trying to read yaml file fixtures when loading Active Record fixtures
Rails HTML sanitizer gemfile lock changes on bundle install.
Sync parallel test DBs to schema using SHA
Require and support rails-html-sanitzer 1.2.0
Standardize doc style for 'update_counters()' [ci skip]
Remove invalid autoload of ActionDispatch::Http::Upload
Deprecate `.reorder(nil)` with `.first` / `.first!` taking non-deterministic result
Restore an ability that `reorder` with `first` taking non-deterministic result
Remove feature policy initializer in API only apps
Updated to add Derailed link
Ensure custom PK types are casted in through reflection queries
Support multiple arguments in `HashWithIndifferentAccess` for `merge` and `update` methods
Pass optional record in blob finder methods
Correct the assertion argument order
Add CHANGELOG entry for ActiveJob change
Correct assertion argument order
Allow testing multipart emails in Action Mailbox
Update azure-storage gem to latest version
Sync test DB from schema using its SHA1
Add at option to perform_enqueued_jobs test helper
[ci skip] Mention `context` option of save in documentation
Update rails-html-sanitizer to 1.1.0 in actionview.gemspec
Corrected deperecation config option path for active_record.sqlite3.represent_boolean_as_integer option in release notes. [ci skip]
Remove unused require
Use newly released rails-html-sanitizer
Update sanitizer in ActionView::Helpers::SanitizeHelper
handle passing in primary key to unique_by, and handle primary keys missing indexes
Use Thread.pass instead of Kernel.sleep to trigger race condition
Able to initalize default value for thread_mattr_*
Mention how to use webpacker in updated Rails apps [ci skip]
Revise flow to what was described in 03e44f9
Use media_type instead of content_type internally
Revise credentials diffing flow to use a separate diff command
Extract diffing to separate credentials:diff command
Commands already make fileutils available.
Rename to Diffing and move module into credentials command
Address `DEPRECATED: Use assert_nil if expecting nil`
Raise TypeError instead of infinite looping
typo in word compatibily - autoloading and reloading constants guide
1.hour needs core_ext to work
Add ability to unset preventing writes
This test needs integer core ext for time
ConditionalGet needs time core_ext
Require time extensions in the job that depends on time
Require integer conversion for this test
Revert "No such class since 8d2866bb80fbe81acb04f5b0c44f152f571fb29f"
Revert "MethodCallAssertions is a regular player of the team ActiveSupport::TestCase now"
Revert "You give jruby_skip & rubinius_skip a good name"
Missing require AS/core_ext/date/conversions
hash_conversion itself does not at all depend on time extensions
Add *_previously_was attribute methods when dirty tracking (#36836)
Remove duplicate method definition
Lazily evaluate FileUpdateCheckerSharedTests when being included
No such class since 8d2866bb80fbe81acb04f5b0c44f152f571fb29f
Missing require AS/core_ext/string/inflections
Let's try not to depend too much on other core extensions in a core extension test
Missing require AS/core_ext/object/blank
require only what each test concerns
You give jruby_skip & rubinius_skip a good name
MethodCallAssertions is a regular player of the team ActiveSupport::TestCase now
Introduce InvalidConfigurationError
Deduplicate joins values
Add tests for selecting aggregates
No private def
Added multiple database Active Record guide entry to the release notes [ci skip]
Added missing comment notation for the example of form_with in form_helpers.md documentation. [ci skip]
Missing require "AS/core_ext/date_time/conversions"
Another missing require "AS/core_ext/object/try"
It may be better to explicitly require 'object/try' where we call `try`
Don't require 'active_support/all' in an individual test case!!!
These methods doesn't have to be `protected`
Use `try` only when we're unsure if the receiver would respond_to the method
Respect Content-Type header passed in head method
Do not use the same test class in different tests
Upload file with filename and disposition for Azure
Prevent error on transliterate with frozen strings.
Upload file with filename and disposition for S3
Address to rubocop offences
Reduce method invocations and object allocations in head()
Reduce Array allocations
Reduce block execution
Reduce method calls
Reduce Array assignment by not giving a name for unused `*args`
Reduce Array allocations
Reduce some more Hash#fetch + default object allocations
fix a  typo
Polymorphic has_one touch: Reset association cache result after create transaction
Accessing ivar with Symbols might be just a very little bit better than with fstrings
Avoid creating new Array when looking up already registered detail
Reduce Hash object creation when normalizing request env
Cache tags_text to avoid computing tags each time when logging
Reduce object allocations in Middleware::Static
Reduce unnecessary String creation by not `to_s`ing until nothing matches
Reduce String allocation when finding controller class
No need to dup the payload for an instrumentation
Speedup and reduce Array creation when constantizing a non-namespaced string
Bump Trix to ^1.2.0
fix a typo [ci skip]
Update README.md
Add `silence_warnings` for defining 'not_' prefix enum elements
Preserve user supplied joins order as much as possible
Expand CHANGELOG for #36800 [ci skip]
Move DatabaseAlreadyExists detection to DB adapter
Call raise with parentheses like a normal method call with arguments
Update a typo in the guide's requested updated
Enabled matches_regex for MySql
Improve documentation of `:ssl/:tls` option [ci skip]
Tiny documentation fix [ci skip]
Remove redundant empty line when we don't use system test
Use match? where we don't need MatchData
Let the generated initializers/backtrace_silencers.rb code use Regexp#match?
Revert "Use assert_match / assert_no_match for asserting match"
Add AS::TimeZone#match?
Add AS::Multibyte::Chars#match?
Add Mime::Type#match? that doesn't create MatchData
Suppress Ruby warning: :warning: non-nil $, will be deprecated
Add viewport meta tag to default application template
Improves compatibility of require_dependency in zeitwerk mode [Closes #36774]
Performance improvement for `String#to`
Use capture_sql helper method in tests
Assert query counts in cache relation test
fix typo in actionpack CHANGELOG.md
Update links to new MySQL server errors reference page [ci skip]
Use a smaller TIFF file as fixture
Allow specify fixtures to be ignored
Avoid to use a method that acts on the hash
Use match? where we don't need MatchData
Use assert_match / assert_no_match for asserting match
Do not use the same temp file in different tests
Allow separate database env variables per-connection
Change test description with the correct URL name
Remove tough to grasp -1 + 1 = 0 from String#to
Change the test description to say the URL helper name in test.
Added a phone_to helper method, on the style of mail_to and sms_to. (#36775)
Use a single term instead of all terms used to describe path and URL helpers together
Optimize Journey::Route#glob?
Remove comments in test file
Handle GB18030 strings with invalid characters in transliterate
Handle US-ASCII strings with invalid characters in transliterate
Add encoding tests for ActiveSupport::Inflector.transliterate
Raise errors for ASCII-8BIT encoding in ActiveSupport::Inflector::transliterate
Add test for submitted fields within disabled fieldsets
Removed webpacker:compile step from scaffold test as it is not required and assets are already precompiled in build_app step
Prettify diff generated by git for encripted file:
Add a default value for arg `format` in `ActionView::Digestor.digest()`
[ci skip] add CSRF token explanation for javascript documentation
Add `Vary: Accept` header when rendering
Use correct variable in `secure_compare!`
Correct assertion argument order
Only merge DATABASE_URL settings into the current env
Ability to test activejobs with relative delay
Use binding.local_variable_get for `:for`
Use connection.error_number in MySQLDatabaseTasks
let autoloaded? support modules with overridden names [closes #36757]
read configuration to determine excluded eager loaded directory (#36354)
Issue #36728 - Inputs inside disabled fieldset are not submited on remote: true forms
fix `follow_redirect!` not using the same HTTP verb on 307 redirection:
Optimize DescendantsArray insertions
Make sure AR can load without Rails
Update action_view_overview.md
Stop setting a default Capybara app host
collection_radio_buttons options example
Avoid hash allocation for HashWithIndifferentAccess#convert_value default options
Make ActiveSupport::Logger Fiber-safe
Add content_type to upload in Azure
fix a typo in 5_2_release_notes.md
Add mention about `active_record.collection_cache_versioning` to the `new_framework_defaults.rb`
Define the `url_options` needed for SytemTest inside the route proxy:
Modify behaviour of `AM::Errors#to_h`:
Update activesupport/test/parameter_filter_test.rb
Deprecated `AM::Errors#to_h`:
Improve changelog entry, remove extraneous word [ci skip]
Use Dir.glob(base: ...) to avoid chdir
Make Active Storage routes optional
Remove changelog entry for backported change
Move the deprecation call after the new class has been defined:
create a newline between blocks when gem_group, github and add_source was called.
Preserve existing attachment assignment behavior for upgraded apps
Append a newline to the Gemfile if it doesn't end with a newline
Include common commands in rails help output
[ActiveRecord] Deduplicate optimizer hints
Omit marshal_dump & _dump from delegate_missing_to
Add support for script-src-attr / elem and style-src-attr / elem directives
Revert "Make UTF-8 string requirement explicit for `ActiveSupport::Inflector.transliterate`"
Support beginless ranges in hash conditions.
[ActiveRecord] Superclass for aborted queries
Don't include routes helpers inside System test class:
Add missing period [ci skip]
Raise specific exception on Mysql2::Error::TimeoutError
Make UTF-8 string requirement explicit for `transliterate`
Reuse the exception class name in all places in the wrapper
Make the selent exceptions configurable on the exception wrapper
Switch to use `class_attribute`:
Move the `ActiveModel:Errors#full_message` method to the `Error` class:
active_support/core_ext/object/duplicable is not in use here
Remove caveat for older Ruby's `dup` behavior [ci skip]
Don't validate non dirty association targets
Specify log subscribers need a logger set before they can receive events
Inline anemic log guard
Delete mention of Ruby 1.9 [skip ci]
Use reserved domain for example configuration
Empty array instead of nil for source_extract
Different versions of ffprobe can return subtly different video lengths
Update guide for render file:
Remove obsolete or discouraged render examples
Add hash method to ActionController::Parameters
let the upgrading guide point to the autoloading guide for STIs [skip ci]
simplifies Zeitwerk compat instructions in upgrading guide [skip ci]
improves zeitwerk:check
Make currency symbols optional for money column type in PostgreSQL
ports edits to the upgrading guide [skip ci]
Prevent exception of loading database yaml with blank config file [closes: #36661]
make sure zeitwerk:check only deals with directories [closes #36461]
active_support/deprecation has to be already required via active_support/rails.rb
active_support/deprecation is not in use here
active_support/rails has to be required via abstract_controller.rb
A type class or nil has to respond_to :to_s
No Woman, No try
try (Just a Little Bit Harder)
active_support/dependencies/autoload is already required via active_support.rb
Make sure to require active_support.rb before requiring active_support/rails.rb
These are already required via rails/command.rb
Implement UnboundMethod#duplicable?
minor edit [skip ci]
completes first version of the new autoloading guide [skip ci]
Improve changelog entry, remove extraneous word [ci skip]
Remove dead code in duplicable.rb
Return a copy of the cache entry when local_cache exists:
Do not use hard tabs in CHANGELOGs [ci skip]
Returns `nil` when `AM::Errors#delete` doesn't delete anything:
Adds support for configuring HTTP Feature Policy (#33439)
MySQL: Check error number instead of a message
Update message verifier documentation [ci skip]
Share the Arel dispatch cache between connections
fixes link [skip ci]
fixes link [skip ci]
updates the guides table of contents [skip ci]
renames and revises the autoloading guide for classic mode [skip ci]
autoloading guide revamped for Zeitwerk mode [skip ci]
Share the column and table name quote cache between connections
update example url for add_source
When DATABASE_URL is specified don't trample envs that use a url: key
Implement ActiveStorage::Blob#attachable_plain_text_representation
Should `Regexp.escape` quoted table name in regex
Do not use aliases in GROUP BY clause
Make "bin/setup" works when using PostgreSQL with locales other than en locale
Update docs on dirty.rb
Add `skip-collision-check` option to generator
Bump minimum selenium-webdriver version
Update docs regarding skipping CI tests [ci skip]
Preload browser driver_path for system testing
make AR::ConnectionAdapers::Table#remove reversible
inverse of a operation may map to many operations
Replace replica with primary in automatic connection switching after write in multi-db docs [ci skip]
use 'template' instead of 'create_file' for erb templates in generators guide [skip ci]
Also deduplicate schema cache structure when they are read from the database
bumps Zeitwerk
adds two sections to the upgrading notes for autoloading [skip ci]
Add a warning for enum elements with 'not_' prefix.
Make `bin/setup` test pass even if the database does not exist
Link to top of PR as well as other links [ci skip]
Add "SCHEMA" to the query in `configure_connection` like as other adapters
warning: instance variable @serial not initialized (#36556)
Update docs with warning on AS Content-Disposition override [ci skip]
Updated ActiveStorage docs by adding missing config [ci skip]
Address to "DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1"
Add warning about using UUIDs with activestorage
Load initial database.yml once, and warn if we can't create tasks
[ci skip] Update free-programming-books link in getting started guide
Add code to save the HTML of the page being screenshotted during the `take_screenshot` method that is enabled by a new environment variable - RAILS_SYSTEM_TESTING_SCREENSHOT_HTML=1
`length(title)` is a safe SQL string since #36448
[ci skip] Refer actionmailbox and actiontext in the guide
Replace the www.robotstxt.org URL with https one [ci skip]
[ci skip] Remove mentioning of the devise gem
Update link to OWASP XSS cheat sheet [ci skip]
Add pidfile option to puma config template
Test against all sent attributes
Prevent serialized hash from being used as options
Add test for cookie being modified by rotation
Rely on Kernel require instead of self require
Add the ability to set the CSP nonce only to the specified directives
Indentation >>
Schema Cache: extract deduplication commonality
Also deduplicate schema cache data when using the init_with interface
Make `ActionDispatch::Response#content_type` behavior configurable
Address test_statement_cache_with_in_clause failure due to nondeterministic sort order
Revert schema dumper to use strings rather than integers
Add some commands to misc section in CLI guide
Include BCC in the mail that sent from the development page
Autoload SyntaxErrorInTemplate
Better error message for calling columns_hash
Stop serializing and parsing columns_hash in Active Record schema caches
Add test cases to ensure deterministic order for ordinal methods
Allow using env var to specify pidfile
Doc changes.
Helper method to create an sms link - when clicked it opens the phone/desktop's messaging client with the phone number and optional body value prepopulated.
Add database_exists? method to connection adapters
Avoid redundant `time.getutc` call if it is already utc time object
Delete `DateAndTime` method definition in rails that is compatible with ruby definition
Update default value of `variable_content_types` and `content_types_to_serve_as_binary` [ci skip]
Delete 'ruby' in the description of the method defined in rails [skip ci]
Remove unused `Arel::Attributes.for`
Remove unused `DepthFirst` visitor
No allocation `Arel::Visitors::ToSql#visit`
:golf:
Should find last created record
Ensure to reset actually used `@connection.schema_migration`'s table name
Move while_preventing_writes from conn to handler
Update multi-db docs
Move SchemaMigration to migration_context
[ci skip] Update docs as `remove_column` can be reversed
Allocation on demand in transactions
[ci skip] Use default path in button_to documentation
Make ActiveRecord `ConnectionPool.connections` thread-safe. (#36473)
Ensure non-mouse/programmatic clicks work with data-remote
Ensure to reset migration version after testing migration
Reset migration version before testing migration
Avoid implicit rollback when testing migration
Remove duplicated `table_exists?`
Don't `drop_table` before schema cache tests
Clear schema cache when a table is created/dropped/renamed
Enable `Layout/EmptyLinesAroundAccessModifier` cop
`RenderingHelper` supports rendering objects that `respond_to?` `:render_in`
Add missing file to require digest/uuid on active_support core extensions
Add documentation on actionview asset_path with host and protocol
[ci skip] images/getting_started: Update screenshot for missing action
Convert the db:abort_if_pending_migrations task to be multi-DB aware
Remove call to object_id
All modern adapters returns a numeric value as the result of numeric calculation
Bump `webdrivers`
Allow column name with function (e.g. `length(title)`) as safe SQL string
Allow `column_name AS alias` as safe SQL string
Refactor `disallow_raw_sql!` to avoid `split(/\s*,\s*/)` to order args
ActionCable: optimize logger.debug calling
Set process name of parallelized test workers
Add forgotten nodoc to dump_schema method.
NULLS { FIRST | LAST } is safe SQL string since 6c82b6c99d86f37e61f935fb342cccd725d6c7d4
Remove redundant blank line at the bottom of the generated controller test
Introduce a new ActiveSupport::SecureCompareRotator class:
Include warning in docs about polymorphism in underlying tables
Allow `on_rotation` in MessageEncryptor to be passed in constructor:
Bump rubocop to 0.71
Unlock `selenium-webdriver` version
Run actionview tests in parallel
Remove actionview tests which modify fixtures
Move schema cache from connection to pool
Allow quoted identifier string as safe SQL string
Treat ActiveRecord::Base and ApplicationRecord as "primary"
Add some examples for getting current_user
6.0 release notes: fix typo
Use compact_blank throughout rails
Add compact_blank shortcut for reject(&:blank?)
Specify a config name from `config` as well as other configs [ci skip]
Extract default log file open operation to method
Unify to use 4 spaces indentation in CHANGELOGs [ci skip]
Document multiple databases in Rails
Use file/line from call to helper_module
Give HelperMethods module a name
Don't call listen with empty directory list
Only clear cache when view paths are specified
Deduplicate various Active Record schema cache structures
Refactor `create_table`'s options separation
Remove unnecessary require pathname from actionpack controller specs
Address test_pluck_columns_with_same_name failure due to nondeterministic sort order
Remove `spring-watcher-listen` from default Gemfile
Simplify `ActionDispatch::Response#content_type`
Reword the ActionDispatch::Response#content_type change [ci skip]
Avoid making extra 5 arrays in each `save`
Change `ActionDispatch::Response#content_type` returning Content-Type header as it is
Use style consistent with surrounding code
Recursively process arrays consistently
Add failing test for array values and procs
Fail parallel tests if workers exit early
Remove plain method
Make plain matcher match first, not last
Add a changelog entry for 165785e
Skip image analysis on ImageMagick error
Address intermittent CI failure due to non-determined sort order
Remove wrong default value for `cache_versioning` in documentation of `cache_version`
Bring `after_bundle` back to API document [ci skip]
Remove `frozen_string_literal` magic comment from template file
Reduce log noise handling ActionController::RoutingErrors
Address intermittent CI failure in cascaded_eager_loading_test.rb
Add backend API doc for action text
Address intermittent CI failure due to unfilled schema columns cache
`:datetime` and `:time` columns allows `:precision` option [ci skip]
Don't round off subseconds unless necessary
Allow symbol (i.e. quoted identifier) as safe SQL string
stringify_keys and symbolize_keys have stable results.
remove unused requires from debug_exceptions
changes 'Week day' to 'day of week'
ruby < 2.5 is no longer supported
Use WeakRef to avoid leaking connection pools
Extract `readonly_attribute?`
Skip needless spaces from generated app layout.
Change comments
Address 639d7be. Readd changelog line; remove needless explicit return.
Use existing tmpdir in evented_file_update_test
Delete evented_file_update_checker existing_parent
Add :allow_nil option to delegate_missing_to; use in ActiveStorage attachment
 Bump Gemfile entry jbuilder version
Remove Route#build as it wasn't used
Use keyword arguments for ActionDispatch::Routing::Mapper::Mapping constructor
Use keyword arguments for ActionDispatch::Journey:Route constructor
Keep part when scope option has value
Mirror direct uploads
Remove compatibility module from docs [ci skip]
Implemented deep_transform_keys/! for ActionController::Parameters
Add `action_cable_connection_test_case` hook to the "available hooks" list [ci skip] (#36326)
Wrap actionview cache expiry in a mutex
Use `capture_sql` instead of `assert_sql` with no pattern
Put :nodoc: on method that raises NoMethodError
Prevent reading inline attachments after `mail` was called from raising an inaccurate exception
Give up filling schema cache before `assert_no_queries`
Put all `explain` methods into `DatabaseStatements` module
Fall back to type casting from the connection adapter
Except SCHEMA SQLs in `capture_sql`
Correct test name
Correct human file size examples [ci skip]
Update CHANGELOG to add previously_new_record?
Avoid method call unless transaction state is finalized
Make rescues layout responsive
Implicit through table joins should be appeared before user supplied joins
Allow filling in the only rich-text area without a locator
Prefer Capybara::Node::Element#execute_script
Return parameters enumerator from transform_keys/!
Implement dark color scheme for rescues layout
Make `handle_options` method private
Rename `hash` to `jar` in CookieJar.build
Deduplicate ActionText::RichText embeds
Use a single thread for all ConnectionPool Reapers
typo change
S3: permit uploading files larger than 5 GB
Permit running jobs in system tests
Remove outdated cross-origin redirection tests
Inline anemic methods
List available  skip options in command line guide [ci skip]
edit tweaks to recent patch in configuring guide [ci skip]
shortens a comment [ci skip]
Introduce previously_new_record? on ActiveRecord::Base
Add ActionDispatch::SystemTestCase#fill_in_rich_text_area
Don't track implicit `touch` mutation
[skip ci] The default value of config.active_record.collection_cache_versioning without loading Railtie is false
Improve doc for :root option in as_json() [ci skip]
fixed usage of Parameters when a non-numeric key exists
adds a blank line [ci skip]
warn about non-eager loaded dirs in zeitwerk:check
[skip ci] Add undefined STI acronym to the heading which is referred under its section
upgrading docs: one file => one constant [ci skip]
Remove SQLite version support caveats [ci skip]
[ci skip] Clarity about embed metadata in signed and encrypted cookie
NPM -> npm [ci skip]
[skip ci] Add missing info about 'active_record.collection_cache_versioning' configuration
Update the 6.0 load_defaults list [ci skip] (#36258)
Update the sqlite db yaml template to match others and mention proper supported version
Update Webpacker in Action Text's test dummy app
[ci skip] Clarify that the minimum version of a "gem" is bumped
document update_counters on relation [ci skip]
[ci skip] mysql -> MySQL
[skip ci] arel -> Arel
[ci skip] Expand JS to JavaScript for clarity
[ci skip] Mime -> MIME
[ci skip] ActionView -> Action View
[ci skip] Typo: ActiveSuppport -> ActiveSupport
[ci skip] Typo: Javascript -> JavaScript
Update documentation to explain the behavior of explicitly raising ActiveRecord::Rollback in a nested transaction [skip ci]
Corrected the sentence in upgrade guide
Introduce 'ActiveSupport::Notifications::Fanout::Subscribers::MonotonicTimed' and 'ActiveSupport::Notifications::monotonic_subscribe'
fixes configuration examples [ci skip]
Add CHANGELOG entry
Use a better requirement for sass-rails 6 prereleases
Bubble up IntegrationTest assertions count
minor grammar fix
Only build middleware proxy when instrumentating
documents restriction for explicit namespaces [ci skip]
documents how to use the classic autoloader in Rails 6 [ci skip]
bundle update resque-scheduler to latest version
Update testing guide to reflect changes from #36047
Auto-correct `Style/RedundantBegin` offence
Remove forward ported CHANGELOG [ci skip]
documents autoloading in the upgrading guide [ci skip]
Update directory name in sample commands
Typo in the release note
Remove ignored_sql from SQLCounter by adding "TRANSACTION" to log name
Added guide for `config.autoloader` [skip ci]
Properly give defaults for DatabaseSelector options
Remove useless find_partial method
Should attempt `committed!`/`rolledback!` to all enrolled records in the transaction
Remove useless `GC.start` in `test/template/render_test.rb`
Clear Resolvers' cache after running RenderTestCases' test cases
Delegate to the correct method in `ActionMailbox.mailbox_for`
Improve String#first and #last performance
Rename variable to represent type
Avoid extra allocation in String#from and #to
Make generated test work even when using virtual attributes
Update time_zone_options_for_select docs
Expose `mailbox_for` method
Recover perf for `pluck` by reverting 9c9c950d02af83742a5f76302d0faa99508f242c.
Add a section to introduce `pluck`'s eager loading behavior
Remove redundant `test_too_many_binds`
[ci skip] Correct the stylesheet name used in the guide.
Add Action Cable Release Notes [ci skip]
Namespace association extension modules under the owner model
Update downloading section
Update guides/source/6_0_release_notes.md
Added release notes for Active Support [ci skip]
compilation -> compression [ci skip]
Update asset compression text [ci skip]
Make scope arity check consistent (#36134)
Updates to getting started per Rails 6.0 changes [ci skip]
Active Model release notes [ci skip]
Add Release Notes for Active Storage [ci skip]
Remove database specific sql statements from SQLCounter
`@controller` may not be defined here, and if so, it causes a Ruby warning
any? should be delegated to the errors list
revert changes to monotonic times
Remove dynamic_form gem references in guides
Should take the record's state of first action in the transaction
Action Mailer release notes [ci skip]
[ci skip] Add 6.0 Release Notes for Action View
Extract `_raise_record_not_touched_error`
Improve error message of ActiveSupport delegate
fixes typo in guide [ci skip]
new config to opt-out from adding app directories to $LOAD_PATH
[ci skip] Update the guide's model generator output.
Fallback to spawn instead of fork in jruby (#36111)
Frozen truncate (#36109)
[ci skip] Add 6.0 Release Notes for Action Pack
Halve string allocations in S3 streaming and partial downloads
Bump bootsnap to a version with disables iseq_cache for Ruby 2.5
[ci skip] Get npm just the way they like it
[ci skip] Remove Ã  la just like that.
[ci skip] Documentation pass of upgrading guide.
Update bug report templates
Change the deprecation for Enumerating ActiveModel::Errors to Rails 6.1 instead of 6.0 (#36087)
Adds documentation for has_one touch option after #35869 [ci skip]
Start Rails 6.1 development
Adds touch option to has_one association
Update changelog for a bug-fix to read better [ci skip]
Don't fail ImageAnalyzer on unsupported types
Avoid redundant `attribute_alias?` before `attribute_alias`
Re-organize `init_internals`
Simplify restore state condition
Lazy allocate `@_start_transaction_state`
Rename local variable `n` to `name`
Remove action_controller.perform_caching from api app's configs
Remove redundant test setups in log_subscriber_test
Make association builder methods private
Update document about perform_caching's default value
Make docs on form_with_generates_ids config option match the value
Add PR link for Active Storage updating release note entry [ci skip]
Remove reminiscences from previous documentation [ci skip]
Update comment in attribute_method_matchers_matching
Add ActionController::Caching into api app's document
Implements the task zeitwerk:check
Add attribute_names to ActiveModel::Attributes
upgrades Zeitwerk to 2.1.4
Use ActiveJob 5.2 retry logic for old jobs
Revert "Include Caching module for ActionController::API"
[ci skip] Active Storage: updating associations replaces
Allow sass-rails greater than 5.x in new apps
Make Action Text's rendering helpers more configurable
Avoid new string instance creation in `InsertAll#execute`
ActionCable: don't allowlist keys passed to the Redis initializer
Don't table name qualify aggrigate column for virtual attribute
Remove useless `set_value` / `get_value` helper methods
PERF: 20% faster pk attribute access
Remove never used `database_selector` class accessor
Allow ActiveStorage to generate variants of BMP images
Avoid method call if `@transaction_state` is not finalized
Make system tests take failed screenshots in `before_teardown` hook
Add release notes for changes in the guides for Rails 6 [ci skip] (#36046)
normalize the hash of transformations
Change deprecation message for dangerous query method to be disallowed in Rails 6.1
Remove duplicated test
Change the deprecation message for dynamic routes segment to 6.1
Remove description for namespaced `db:migrate:up`
Handle up/down for multiple databases
Update the changelog to explain the fix
[#35782] Allow loading seeds without ActiveJob (~> 5.2.3)
Revert "Deprecate `collection_cache_key` which is private API"
Add `null: false` constraint by default for `belongs_to` associations
Deprecate `collection_cache_key` which is private API
Make sure api controllers can perform caching as well
Refactor `ActiveSupport::Deprecation.deprecate_methods` not to expose internal methods
Give GeneratedRelationMethods module a name
Revert renamed `GeneratedAttributeMethods`
Help command for visible commands should be hidden
Refactor after the most recent code review
Dispatch actions only if config.consider_all_requests_local is set
Tweak the ActionableError docs a bit
Simplify the ActionableError.{dispatch,action} boundries
Drop the ambiguous `ActiveSupport::ActionableError#===` check
Manage ActionDispatch::ActionableExceptions from the default middleware stack
Make ActiveRecord::PendingMigrationError actionable
Introduce Actionable Errors
Deprecate `where.not` working as NOR and will be changed to NAND in Rails 6.1
Adds a warning message for action text installer if application pack is missing.
Document redis: Object option
Preserve html_safe? status on ActiveSupport::SafeBuffer#*
truncate screenshot filenames to avoid error
If exception occurs during setup, add to each test executed
Ensure active record can load without Railties
Update Rake to the latest version
Mention more ActiveStorage hooks in Active Support Instrumentation guide [ci skip]
Removed unused require for active_support/deprecation
Add documentations to AS::Concern#included and #class_methods
Prefer to indent and no blank line after private/protected [ci skip]
[ci skip] More asset guide touch ups
Only retry tests on CI
Factorize bin/update in bin/setup, and make bin/setup idempotent
Document algorithm: concurrent options for PostgreSQL [ci skip]
Add collection cache versioning
running test with_info_handler method
[Rails::MailersController] Do not leak I18n global setting changes
Squash warning: possibly useless use of a constant in void context
Update the generate command sample codes [skip ci]
Guide updated in line with changes in rails commands [skip ci]
Bump RuboCop to 0.67.2
Update comment for ActionView::Digestor.digest [ci skip]
Format a comment to not show up as code [ci skip]
Add CHANGELOG entry for d1107f4d1e2573948d4941ac44511a0af6241f80
Add `:nodoc` to ActiveSupport::Concern#append_features
Migrate Code Climate config file to new configuration
Add test coverage
Don't refer `@transaction_state` directly
Find query_source_location using lazy Enumerator
Remove @duration instance variable since we're not maintaining instances variables such as @cpu_time, @idle_time and @allocations; this reduces one allocation
Use monotonic time to record `started` and `finished` time values for an event subscribed by a `ActiveSupport::Notifications::Fanout::Subscribers::Timed` subscriber
Remove `required: true` from the model generator template
mounted routes with non-word characters
Remove unused modules from StrongParameters
Correctly set application path in `test_app_update_does_not_change_config_target_version`
Make test application the same state as `app:update`
make change_column_comment and change_table_comment invertible
Refactor `sync_with_transaction_state`
generate config.cache_classes = false if Spring
Remove the Amazon SES ingress
Ensure acceptance validator is not applied more than once to Person
Remove useless `update_attributes_from_transaction_state` and `set_transaction_state`
Don't expose `add_to_transaction`
deprecates autoloading constants during initialization [closes #35745]
Ensure multiple anonymous modules are not included into Topic in tests
use Rails::Generators::AppGenerator#update_config_files instead of `rails app:update` in app_generator_test.rb
Add validation to subclass in tests to avoid polluting parent class
use PostgreSQL's bulk_alter_table implementation
Auto-correct `Style/StringLiterals` cop offences
Improve wording of comments
Rename method_missing_target to target
Do not treat `environment_desc` as commands
Add additional test for sharing templates
Avoid duplication using _find_all
Support disabling cache for Digestor
De-dup Templates, introduce UnboundTemplate
Use individual execution counters when calculating retry delay
Remove unused method_name from AttributeMethodMatch
Make changes per PR feedback
Squash `warning: instance variable @filename not initialized`
Redis fetch without names returns {}
Refactor around sql_type metadata and column
Mark the section on PostgreSQL to be work in progress [ci skip]
Adds `register_tags`
Rename "method" to "matcher" in map block
Don't call after_commit callbacks despite a record isn't saved
Add tests against resolver
Auto-correct `Style/RedundantBegin` cop offences
improves the reloading disabled error message
Address new cop offence in railties
Cache full MySQL version in schema cache
Layout/SpaceBeforeComment Enabled: true
Code is enclosed by code block [skip ci]
Updated the description of `add_development_dependency` [skip ci]
Use modele to generate generated defaults [skip ci]
Address `ORA-01795: maximum number of expressions in a list is 1000`
Remove outdated debugging plugins
PERF: 2x ~ 30x faster dirty tracking
adjust style
Update the result of generate command [skip ci]
Add section on PostgreSQL to the guides index [ci skip]
moves sqlite3 methods that mirror Abstract::DatabaseStatements into Sqlite3::DatabaseStatements and make those that are private in Abstract::DatabaseStatements private for sqlite3
Deduplicate Active Record reflection names
Adding type option example to the documentation [ci skip] (#35917)
Simplify and fasten NamedRouteCollection#define_url_helper
Lazy sync with transaction state on destroy
Revert "Remove unused callbacks in the `Topic` model"
Remove unused callbacks in the `Topic` model
Accidentally lost `comment` in `Column#==` and `Column#hash`
Exclude all `node_modules` from the RuboCop check
Add assertions for lazy sync transaction state
Remove unused `sequence_name` in `sql_for_insert`
There is no need to create `QueryAttribute` to just type cast a value
Set default of 28 characters in ActiveStorage::Blob.generate_unique_secure_token
Allow token length configuration for has_secure_token method
Adds named_captures to MatchData to emulate Regex
Clarify exists check in logs
Add all descriptions in app directory [skip ci]
Remove duplicated attribute alias resolution in `_select!`
Bring back postgresql_version as an alias.
Delete not user method for plugin_generator
Better spread out the railties tests
`get_database_version` is not public API [ci skip]
Improve == and hash methods on various schema cache structs to be allocation free.
cleanup up constant in test suite
depend on Zeitwerk 2.1.0
Only override async adapter when seeding
FIX: ActionMailbox test helper argument list
s/Travis/Buildkite/
Wrap Mysql count of deleted rows in lock block to avoid conflict in test
Ensure a handler is set when using `connected_to`
Update configuration of `app` directory and use oxford comma [skip ci]
Improve log messages for #insert_all` / `#upsert_all` / `#insert` / `#upsert etc. methods
When skipping duplicates in bulk insert on MySQL, avoid assigning id when not specified
[ci skip] Add 6.0 Release Notes for Active Record
Except `table_name` from column objects
depend on Zeitwerk 2
change `t.integer` to `t.bigint` where applicable
Raise `ArgumentError` for invalid `:limit` and `:precision` like as other options
Don't repeat same expression in SELECT and GROUP BY clauses
There is no need to check `null_relation?` in `empty_scope?`
Association loading isn't to be affected by null relation scoping
The default value without loading railtie is false [ci skip] (#35881)
Add Active Job release notes [ci skip] (#35872)
Add missing `touch_all` delegation to relation
Burn unnecessary files ðŸ”¥
Style fixes
Resurrect generator templates
Resurrect js/js engine options and generators
[ci skip] Mark ActiveRecord::TouchLater as private doc
Association loading isn't to be affected by scoping consistently
Do not exclude paths in the global level of Code Climate
`preloaded_records` no longer includes `nil` since #35496
Bump addressable to 2.6.0 to fix warning: assigned but unused variable - startercc
`ast` is no longer to be `nil` since #33118
Remove duplicated `test_find_last`
Remove FileTemplate
Deprecate Template#refresh
Add ActionView::Template::Sources::File
fix typo in the guides (use Rails instead of rails)
Stash `left_joins` into `joins` to deduplicate redundant LEFT JOIN
Don't call Template#refresh
Don't discard source after rendering
Add documentation for 'after_save_commit' [ci skip]
Refactor `has_secure_password` to extract dedicated attribute module
Output junit format test report
Added 'detach_from' to 'ActiveSupport::Subscriber' to detach a subscriber from a namespace.
Refactor `Relation#cache_key` is moved from `CollectionCacheKey#collection_cache_key`
Optimizer hints should be applied on Top level query as much as possible
Remove redundant begin block
Don't drop internal metadata tables
add documentation about variants
Ensure `reset_table_name` when table name prefix/suffix is changed
Deduplicate strings held by the router
Clear query cache when truncate table(s)
Respect table name prefix/suffix for `truncate_all`
Use `execute_batch2` rather than `execute_batch` to fix performance regression for fixture loading
[skip ci] Add examples for has_{one,many} :through :source and :source_type (#35612)
Always reject files external to app
Cache database version in schema cache
Add test that the listen gem is included when RUBY_ENGINE is not 'ruby'
[ci skip] Touch up `db:prepare` changelog entry
Add rake db:prepare entry to the CHANGELOG.md
Don't normalize `original_app_name`
`bytes_margin` is only needed when `previous_packet` exists
[ci skip] Doc for shallow: false options should use <tt> for better readability. PR after #24405
Don't assign to `@changed_attributes` in `becomes`
Use official database name [ci skip]
Remove duplicated CHANGELOG entry [ci skip]
Auto-correct rubocop offences
Add `after_save_commit` callback as shortcut for `after_commit :hook, on: [ :create, :update ]`. (#35804)
Simplify ActionCable.createWebSocketURL and realphabetize exports (#35810)
Speed improvement for HashWithIndifferentAccess#values_at
Speed improvement for HashWithIndifferentAccess#fetch_values
Add migration in case of db:drop assertion
ðŸ’‡
Add test cases for rake db:prepare
[ci skip] Updated the doc after renaming Template::File -> Template::RawFile in #35826
Rename `connection` option to `database` in `dbconsole` command
Add Changelog entry for #35732.
Rename File to RawFile
[ci skip] Follow up c8bf334104
Only clear template caches in dev after changes (#35629)
url -> URL where apt inside actionpack/
url -> URL where apt except inside actionpack/
Include final newline in generated .ruby-version
Speed improvement for HashWithIndifferentAccess#except
url -> URL in Action Cable guide [ci skip]
Revert unused code and re-using query annotation for `update_all` and `delete_all`
Revert "Add ActiveStorage.service_configurations and ActiveStorage.service"
Extract insert test case from #35686
Use accessors internally; remove needless validation
Mark InsertAll as private API. Easier to add later.
Capture some join calls.
feat(js): Dynamic ActionCable URL (#35579)
Spec for display original raw type in details
Set default array to details
Freeze DeprecationHandling array and hash
Assert deprecation
Split messages and to_hash
Raise deprecation for calling `[:f] = 'b'` or `[:f] << 'b'`
Add deprecation to slice!
Nested attribute error's attribute name to use different key:
String override options in #import to convert to symbol
Allow errors to remove duplicates, and ensure cyclic associations w/ autosave duplicate errors can be removed
Add messages_for
Add a transitional method `objects`, for accessing the array directly.
Backward compatibility for errors.collect/select etc.
Use errors#import instead of manipulating errors/details hash
Add convenience method group_by_attribute
Change errors
Add ActiveModel::Error and NestedError
Add ActiveStorage.service_configurations and ActiveStorage.service
Follow up tweaks b89a3e7e638a50c648a17d09c48b49b707e1d90d [ci skip]
Tweaks CHANGELOGs and docs [ci skip]
Add attachment and attachments field generators
Require railties for all Active Storage dependencies
Specify Active Storage's dependency on Active Job
optimizes eager loading in :zeitwerk mode
fixes eager loading edge case in :zeitwerk mode
[ci skip] Add ActiveRecord::Relation#extract_associated method to the active_record_querying.md
[ci skip] Updated docs to reflect index: true option not available as column modifier
Add `ActiveRecord::Relation#extract_associated` for extracting associated record (#35784)
Type cast falsy boolean symbols on boolean attribute as false
Deprecate render layout with an absolute path
Add Active Model release notes for Rails 6 [ci skip] (#35790)
Rename `i18n_full_message` config option to `i18n_customize_full_message`
Speed improvement for Hash#except
Add rich_text field to model generators
Add load hook for ActiveStorage::Attachment
Add ActiveStorage::Service#open
Remove :all symbol from Mime::ALL
Introduce Template::File as new render file:
Move db:migrate call to else block
Improve db:prepare description
Add rake db:prepare rake task.
Don't change `collation_connection` in the current connection
Don't encode in secure_compare for speedup
Schema version documentation (#35762)
Bump RuboCop to 0.66.0
Deprecate custom patterns for PathResolver
includes bootsnap 1.4.2-java in Gemfile.lock
bumps Zeitwerk and Bootsnap
Remove useless = [ci skip]
Aligned the order of the arguments of render_template and render_with_layout
Raise if resource custom params contain colons
Use weak references in descendants tracker
Spelling error
Use `assert_queries(0)` instead of `assert_no_queries` to ignore metadata queries
Add the `Mime::Type::InvalidMimeType` error in the default rescue_response:
Add saved changes helpers for store accessors
Add dirty methods for store accessors
Add default value `ActiveSupport::Deprecation.silenced` [ci skip]
Reword test names in credentials_test.rb
Format 'RETURNING' text in the docs [ci skip]
Add section on asserting time args for jobs
Cleanup guide for configuring config.disable_sandbox and related changelog [ci skip] (#35733)
Use webdrivers instead of chromedriver-helper in new apps
Use webdrivers instead of chromedriver-helper for AV UJS tests
[ci skip] Update doc for unnecessary #references
Add default `config.action_view.raise_on_missing_translations` [ci skip]
Avoid creating ActionText::RichText records unnecessarily
Depend on Zeitwerk 1.4.2
Add config.disable_sandbox option to Rails console
Update comment for how secret key is calculated
Add `secret_key_base` when creating new credential file
Drop microseconds in job argument assertions
Update CHANGELOGs for 6.0.0.beta3 release
Update instrumentation guides w/optional block
Update CHANGELOG and docs with change to ActiveSupport::Notifications::Instrumenter#instrument
Update AS::Notifications::Instrumenter#instrument
Reintroduce support for overriding `has_secure_password` attributes
Add Relation#annotate for SQL commenting
Prefer render template: in tests
Add `unknown` method to list of methods to write current log [ci skip]
Address rubocop offences
Document option forwarding in ActiveRecord::Base.attribute
[ci skip] Documentation pass for insert_all etc.
Bulk Insert: Reuse indexes for unique_by
Make aliases of `database` option in generators work
Add mention about `process_middleware.action_dispatch` in the guide [ci skip]
Revert "Revert "Remove `javascripts` and `javascript_engine` options for generators""
Don't compact formats
Avoid assigning [nil] to formats
Re-add Template#updated_at as deprecated
Remove roflscaling constants
Instrument middleware processing
Update regular expression for checking valid MIME type
update_at/on note for ActiveRecord::Relation.update_all (#35461)
Traducir del: ingleÌs 44/5000 Checking for the existence of only one table
depend on Zeitwerk 1.4.0
Improve "raises on invalid format assignment" test
Revert "Remove `javascripts` and `javascript_engine` options for generators"
Rename invalid_types to invalid_values
Use symbol for mail preview format, not string
Remove roflscaling
Simplify values_list with more composition
Extract column check in values_list
Remove virtual_path from fallback templates
Extract `sanitize_as_sql_comment` from SQL visitor into connection
Raise in LookupContext#formats= on invalid format
Make uniq in LookupContext#formats=
Ignore nil in LookupContext#formats=
Don't expose internal `type_casted_binds` method
Added release notes for changes in Railties [ci skip] (#35622)
Add test case to prevent possible SQL injection
Suggest 'strict-origin' Referrer-Policy header
Get rid of `Arel::Nodes::Values`
Add regression test for HTML content in rails-ujs
Revert "Pass HTML responses as plain-text in rails-ujs"
Ruby 2.4 and later support native Unicode case mappings
Add `:reselect` and `:optimizer_hints` to the list of finder methods
Add test case for unscoping `:optimizer_hints`
Tweak `truncate_tables`
Don't override @set_cookies on CookieJar#update_cookies_from_jar'
SQLite3: Make fixture loading to bulk statements
Ensure `execute_batch` discards remaining results
Make `truncate_tables` to bulk statements
Extract `truncate` and `truncate_tables` into database statements
`ActiveRecord::Result#to_hash` has been renamed to `to_a` [ci skip]
Raise UnknownAttributeError when unknown column is passed to insert_all and friends.
Support Optimizer Hints
Add -e/--environment option to `rails initializers`
Engines are reloaded in Zeitwerk mode [closes #35618]
Update docs for 'parameterize()' [ci skip]
Rename `ActionView::Base#run` to `#_run`
Match evented checker behavior on dir with no exts
Remove updated_at from Templates
Make Template::Resolver always cache
Properly expand the environment's name in all commands
bumps Zeitwerk
Raise exception when building invalid mime type
GCS service: skip unnecessary bucket lookups
Make application work without tmp directory
support slice assignment on SafeBuffer
Add secret token for action mailbox tests
Revert "Remove Marshal support from SchemaCache"
Indentation >>
[skip ci] Rails 5.1+ supports bigint primary key
Give GeneratedAttributeMethods module a name
Add test for runner command with `environment` option
Document int Primary Key with create_or_find_by (#35573)
Schema Cache: cache table indexes
Modernize size calculation in Schema Cache
Remove Marshal support from SchemaCache
Update URL in RELEASING_RAILS.md [ci skip]
Remove unused `Row` class in `SelectManager`
Initialize `@default_timezone` and `@timestamp_decoder` in `add_pg_decoders`
Update small typo in documentation.
Change wording of some instances of 'opt out' [ci skip]
Edit a changelog entry [ci skip]
Add additional ERB DummyCompiler tests
Show friendly message to install action mailbox if the related table does not exist
After https://github.com/rails/rails/pull/35281  and https://github.com/rails/rails/pull/35036 AV warns about not having the compiled container. Use the suggested with_empty_template_cache to overcome warning
Add note about has_many associations callbacks [ci skip]
Add changelog entry for transliterate/parameterize accepting `locale` [ci skip]
bump Zeitwerk to 1.3.3
overriden -> overridden [ci skip]
Do not generate dummy string when the tag used is not the <%=
[ci skip] Improve `encrypted` commands USAGE
Update Changelog with new locale fallback behavior on validation
Prep release
Add locale option to parameterize
[ci skip] Removed extra hyphens
Squish the deprecation messages across the codebase
Mention `environment variable` instead of just `environment`
Use the -u switch for the `rails server` banner
Remove `MigrationTest#test_create_table_with_custom_sequence_name`
Add example of the output of `rails routes --expanded` in the routing guide [ci skip]
Only accept formats from registered mime types
Support other optional parameters and quoted-strings on Content-Type parser
Added missing guide links in README documentation and minor wording fix [ci skip]
PostgreSQL: Add `add_pg_encoders` and `add_pg_decoders` in `connect`
Don't test `disconnect!` if in memory db
address pr feedback
Revert an incorrect change in jquery-2.2.0.js
SQLite3: Set `busy_timeout` in `configure_connection`
Update upsert_all documentation [ci skip]
Updated links from http to https in guides, docs, etc
[ci skip] Minor documentation fixes for consistency
Removed unused layout attribute from RenderedTemplate
Minor documentation fixes related to bulk insert [skip ci]
Don't lock the webpacker gem by its patch version
Upgrade webpack-dev-server version in test apps
Minor text changes to the db:seed:replant tests
Read the CSP nonce on page load
- Remove the word painfully from documentation
Use the latest stable release of webpacker
Improve wording in cache documentation [ci skip]
moves a require to the file that needs it
Allow autoloader inflectors to be swaped out
Update documentation on upsert_all so that it is correct for Postgres
Improve doc of automatic inverse_of detection
Add version awareness to rails db:system:change
added instructions how to release rails plugins (gems)
feat(js): Dynamic Actioncable WebSocket URL
Build assets automatically if necessary
Quote empty ranges like other empty enumerables
Update `multiline?` sample code [ci skip]
Corrected execution result of Enumerable#sum [ci skip]
Learn more about inflections[ci skip]
Update racc to latest version
Delegate `only` query method to relation as with `except`
Refactor AR::Querying to extract `QUERYING_METHODS` list
Correct the limitation about `order` with `distinct` in the guide
Just inherit `ForeignKeyChangeColumnTest` for with prefix/suffix tests
Move all Arel constructions from uniqueness validator into connection adapter
Explicitly require rails-html-sanitizer gem in ActionText helpers
Replace â€œcan notâ€ with â€œcannotâ€.
Update links and code examples in the guides to use HTTPS where the host supports it.
Bump Zeitwerk
Add some whitespace for readability.
Handle blank inserts like update_all; raise upfront.
Allow `remove_foreign_key` with both `to_table` and `options`
Load YAML for rake tasks without parsing ERB
Enable `Lint/AmbiguousOperator` and `Lint/AmbiguousRegexpLiteral` cops
Enable `Performance/ReverseEach` cop to avoid newly adding `reverse.each`
Added Array#including, Array#excluding, Enumerable#including, Enumerable#excluding
Ensure `clear_cache!` clears the prepared statements cache
Add insert_all to ActiveRecord models (#35077)
Adds default trix partial
Reset `connection_handlers` to default when any test dirties that
Decrypt the ASt test config if available
Allow `truncate` for SQLite3 adapter and add `rails db:seed:replant` (#34779)
Fall back to parent locale before it falls back to the :errors namespace
Clean up AR's isolated test runner
Copy the forking isolated test runner from railties
Deprecate mismatched collation comparison for uniquness validator
Move changelog entry about `reselect` method to the section of the next release
Correctly escape ERB tag
 Add an example about how to load images under app/javascript/images
Remove unnecessary `current_adapter?(:OracleAdapter)` for index length
Oracle database can run `delete` statement with `order by` and`fetch first n rows only`
Rails `DateTime` type is mapped to Oracle `TIMESTAMP` since Rails 5.0
activesupport: Simplify class_attribute implementation (#35454)
Oracle 12.2+ supports 128 byte identifier length
Add test and change how format set in ActionMailer
Use the correct model in the test
Relax table name detection in `from` to allow any extension like INDEX hint
Remove unused requires
Enable SQL statement cache for `find` on base class as with `find_by`
Avoid `Topic.dup` to prevent weird test failure
Reset dirty `topics` table for `SerializedAttributeTest`
Removes unnecessary dot in regexp
[ci skip] The `find` method coerces the given arguments to integer if the `primary key` is integer
Use dedicated `Topic` model for `SerializedAttributeTest`
add note about idle connection reaper to 5.2 release notes
Refactor `generated_relation_methods` to remove duplicated code on `ClassSpecificRelation`
Allow returning nil for `default_scope`
Remove query_format argument from resolver
Create templates with format=nil
Allow format to be nil
Run activesupport's memcache store tests on Buildkite
:scissors:
Add negative scopes for all enum values (#35381)
Don't cache `find_by` statements on STI subclasses
Test that no datetime precision isn't truncated on assignment
Remove unused method / fix documentation
Update actionview/lib/action_view/template/resolver.rb
[ActiveStorage] Ensure that the `_blob` association is properly loaded when attaching `::One`
fixes different `count` calculation when using `size` manual `select` with DISTINCT
[ci skip] Renamed formats -> format in test after #35406
`original_encoding` isn't used, so deprecate it and remove the ivar
Expand key word args for ActionView::Template
Don't mutate `virtual_path`, remove `decorate`
Pass locals in to the template object on construction
Preparing for 6.0.0.beta2 release
Improve Template#inspect output (#35407)
Change `variants` to `variant`
Remove potential `variants` mutation in `decorate`
Convert `variant` to a keyword arg
Templates have one format
Update actionview/lib/action_view/template.rb
remove the formats writer on templates
Dereference the format type before template construction
Always pass a format to the ActionView::Template constructor
Depend on bootsnap 1.4.1
Allow custom cache-control header in AC::Live
Refactor `type_to_sql` to handle converting `limit` to `size` in itself
Update READ_QUERY regex
activemodel typo fix.
Ensure `update_all` series cares about optimistic locking
[ci skip] activejob typo fix.
Remove duplicated protected params definitions
Add test case for `unscope` with `merge`
More exercise string attribute predicate tests for falsy strings
Disable available locale checks in Action Test test
How to use `select` is updated [ci skip]
Make this test stronger
Add test case for `unscope` with unknown column
More exercise tests for distinct count with group by
Let Zeitwerk autoloaders inflect with Active Support
Restore UploadedFile compatibility with IO.copy_stream
Test ActionDispatch::Http::UploadedFile with an actual Tempfile
minor grammar fix [ci skip]
Upgrade Zeitwerk to 1.3.1
Make `test_select_with_subquery_in_from_uses_original_table_name` work with old SQLite3
Add a finalizer to inline templates
Skip `test_select_with_subquery_in_from_uses_original_table_name` on CI
Ensure that rendered templates always have a format
update callbacks skipping methods in guide [ci skip]
Pass lookup context to the layout handlers
[ci skip] Updated migration version to 6.0 in the getting started docs
Skip `test_select_with_subquery_in_from_uses_original_table_name` on Buildkite as well
Prefer I18n.with_locale
Allows rich_text_area_tag to add I18n translated placeholder text if placeholder option set to true
simplifies Rails.autoloaders.logger=
simplify AS::Dependencies.verbose=
bump Zeitwerk
Just skip `test_select_with_subquery_in_from_uses_original_table_name` on Travis
Add documentation for the resource(s) :param option
Should not pass extra args to `_update_record`
Define Rails.autoloaders.logger=
Address "warning: in `column': the last argument was passed as a single Hash"
Extract `default_uniqueness_comparison` to ease to handle mismatched collation issues
Revert "Speed up integer casting from DB"
Explains a detail re eager loading [ci skip]
Add missing require to active_storage.rb
[ci skip] actionview typo fixes.
More exercise test cases for order by table name qualified column name
Reduce unused allocations when casting UUIDs for Postgres
Deprecate ActionView::PathSet as argument to ActionView::Base.new
[ci skip] Updated the documentation for bulk delete in activerecord
Don't allow `where` with non numeric string matches to 0 values
PostgreSQL: Support endless range values for range types
Add delegation tests for delete_by and destroy_by methods
Replaced usage of where.delete/destroy_all with delete/destroy_by
Deprecate LookupContext#rendered_format
let Zeitwerk integration unhook AS::Dependencies
Return rendered template information instead of just strings
Move inline rendering content-type test to a controller test
Add a test that writes to the collection cache
rename push / pop function
Introduce delete_by and destroy_by methods to ActiveRecord::Relation
Update active_record_callbacks.md [ci skip]
Delete documentation inconsistency 'finally' for AR callbacks [ci skip]  (#35303)
Add combining callback conditions [skip ci] (#35313)
Reset column info after making Topic tz-aware
appropriate typo fix
Don't allow `where` with invalid value matches to nil values
Extract duplicated `serialize` methods into helpers
Add handling and tests.
Remove duplicated `test_update_all_with_order_and_limit`
remove another call to rendered_format=
upgrades Zeitwerk to 1.2.0
Use placeholder for `type_condition` predicate
Add edge test cases for integer and string types
Auto correct rubocop offenses
Raise ActiveRecord::IrreversibleOrderError if nulls first/last is not a single ordering argument.
pass format to the digestor
Remove `NoForeignKeySupportTest` which is no longer reached
Refactor `remove_foreign_key` to delete the foreign key before `alter_table`
Add changelog entry for #35212
Show deprecated message instead of raise exception in `compiled_method_container` method
Pass the template format to the digestor
Allow to pass options to `csp_meta_tag`
Implement AS::Dependencies.verbose= compatibility for :zeitwerk mode
AbstractController::Translation#t: dup options
Deprecate using class level querying methods if the receiver scope regarded as leaked
Replace autoloader accessors with Rails.autoloaders.{main,once}
Properly handle cached queries with too many bind parameters
Address uninitialized constant PostgresqlAdapterTest::ChannelPrefixTest (NameError)
feat: support channel_prefix in pg subscription adapter
Minor changes to deprecation warning message after 35242
Delegated path_for to primary in the MirrorService
Improve errors and handling of hashes for database configurations
Eliminate a thread local variable as suggested by nobu
Register new autoloading in AS CHANGELOG [ci skip]
Add test for `csp_meta_tag`
Use Dir#children and Dir#each_child instead of excluding "." and ".."
Adding enque time tracking and logging
Reword RDBMS note in ActiveRecord basics
Let Zeitwerk be a dependency of Active Support
Revert "Chaining named scope is no longer leaking to class level querying methods"
Cached collections only work if there is one template
Refactors a loop
Address to useless assignment `formats = nil` after #35254
Clean for fix done in #35229. Removed unused arguments
Donâ€™t log recipients when sending mail
Support running AR isolated tests in parallel
ActionPack Proc.new without a block
Ruby 2.7 warning: creating a Proc without a block
Allow passing custom config to ActionCable::Server::Base
Should respect attribute_types over column_types
style
Zeitwerk integration
Add missing packages (#35227)
Turn lookup context in to a stack, push and pop if formats change
Adding another failing test case
use a proxy matcher for AS::N fanout
Document queue_as block arguments and their use
Avoid implicit delegation in the migration compatibility
Add a failing test for #35222
Allow deprecated non-symbol access to nested `config_for` hashes
Optimized namespaces_to_paths method.
Add `remove_foreign_key` for `change_table`
SQLite3: Implement `add_foreign_key` and `remove_foreign_key`
More exercise table name prefix and suffix tests
Install JavaScript packages before run test
Correct JavaScript example in guide [ci skip]
Avoid ajv@6.9.0 for now
Add class option timestamps to migration generator
Do not allow to add column without column name
Refactor to extract defining column methods as `define_column_methods`
Always call super
reuse details cache key identity object
Teach DetailsKey how to clear the template cache
Split digest cache from details identity cache
Remove redundant returning `object`
Use Ruby 2.4+ native transform_values(!)
Delete uneeded blank file
Add 'Hash#deep_transform_values', and 'Hash#deep_transform_values!'
Clarify collection proxy docs
Refactor to just use `Association#target=` in `associate_records_to_owner`
Bugfix has_many association #size when ids reader is cached and association is changed
Refactor extracting `current_scope_restoring_block` into the scoping class
Address `test_belongs_to_does_not_use_order_by` failure due to checking order by for metadata queries
Update CHANGELOG for database_resolver_context
Rename database_operations config to *_context
Rename database selector operations to context
Refactor around scoping
Add a message to help allocate AV::Base instances
Deprecate finalizer configuration (it doesn't do anything)
Rename method so it is more descriptive
Pull generated methods up in to the anonymous subclass
ðŸš¨ Make the cops happy ðŸš¨
Remove finalizer and configuration
Regenerate AV::Base subclass when DetailsKey gets cleared
Move templates to an anonymous subclass of AV::Base
Allow skipping incineration of processed emails
Rename resolver ivar to operations in Resolver
Rename Session.build to Session.call
Support testing of non-ActionDispatch-routed apps.
Update terminal-to-html inline images url in ScreenshotHelper
Preload all component gems
Restrict frameworks to load in engine test
Speed up partial rendering by caching "variable" calculation
Relation no longer respond to Arel methods
Add missing `require "tmpdir"` in ActiveSupport::EncryptedFile
Set sqlite3 gem version explicitly in generated Gemfile
Chaining named scope is no longer leaking to class level querying methods
Respect ENV variables when finding DBs etc for the test suite
Improve regexp of `html_safe_translation_key?`
Restrict matching with word boundary or end of string
fix NameError
Bugfix association loading behavior when counter cache is zero
Define word boundary for unanchored path regexp
Use ES6 short style
Match rails generator output
Update Gemfile.lock to reflect `sqlite3` update
Specify sqlite gem version explicitly in version-specific bug report templates
Take in to account optional arguments when deprecating
Improve performance of blank? and present? in an ActiveRecord::Base instance
Relax sqlite3 version dependency
Add a link to where "inquiry" is defined in ActiveSupport docs
Update template missing text in Guide
Allow configuring the Azure Storage service with extra client options
Cookie doesn't expire anymore unless a flag is set:
Cleanup the whitelisting references after #33145
Update instructions in generated Postgresql database.yml.
Use consistent hash syntax for routes
Pass source to template handler and deprecate old style handler
Add Worker Pool section to Action Cable configuration docs
Invalidate query cache for all connections in the current thread
Keep cache for strings in notifications/fanout
Make Notifications::Fanout#listeners_for faster
Introduce a file type template, deprecate `Template#refresh`
Add ability to change the names of the default handlers
ActiveSupport typo fixes.
Refactor options for middleware
Railities typo fixes.
Enable `Lint/ErbNewArguments` cop to avoid the deprecated arguments warning
use the source returned from encode!
add tests to make sure deprecated API is still supported
Remove unused attr_writers `visitor` and `indexes`
Add regression test for has_many through record creation
Remove the Kernel#` override that turns ENOENT into nil
ActiveStorage typo fix.
ActiveRecord typo fixe.
Remove redundant begin block
Hint at advanced options for foreign_key
Write update_last_write_timestamp after request
activemodel typo fixes.
Adds basic automatic database switching to Rails
Support before_reset callback in CurrentAttributes
Remove unused code
Relax version locking of the selenium-webdriver
Add `require "selenium/webdriver"` to all using `DrivenBySeleniumWith*` classes
selenium-webdriver is not always required for system testing
Add HashWithIndifferentAccess#assoc
Add ActionCable channel/connection load hooks
Tighten up the AV::Base constructor
Update Sneakers to the latest version
Rename methods and update docs
activejob typo fixes.
Eagerly materialize the fixtures transaction
driver_option -> driver_options
Implement a way to add browser capabilities:
Remove `with_layout_format` delegation
Cache the digest path on the stack.
Pull `@template` in to a local variable
Remove default parameters from method signature
Remove `@view` instance variable from the partial renderer
Remove `find_template` and `find_file` delegate methods
Deprecate `with_fallbacks` using a block
Allow changing text and blob size without giving the `limit` option
Revert "Apply `t.timestamps` changes in Action Text and Action Mailbox"
Make `@view_paths` on the lookup context mostly read-only
Apply `t.timestamps` changes in Action Text and Action Mailbox
Remove method named "hash"
Add CHANGELOG entries for npm package renames [ci skip]
Add line break to Action Text installation outputs
Convert path to string before call `length`
Simplify path prefix extraction
PostgreSQL: Use native timestamp decoders of pg-1.1
Make `t.timestamps` with precision by default
Allow `column_exists?` giving options without type
Typo fixes action pack.
Add missing require for `Float#to_d`
Use Ubuntu Xenial (16.04) at Travis CI
Loosen check of error cause file
Switch queue_classic back to origin repository
document the possibility of app initializers running before gem initilizers
Ensure that `redirect_back` with `fallback_location` to another host is allowed
Describe how to silence the deprecation warning about empty I18n fallbacks
Prefer strings over regex expressions
Add test for Hash-like object being passed to partial `locals`
Revert "Allow usage of strings as locals for partial renderer"
Make `And` and `Case` into expression nodes
include the content type when uploading to S3
Prefer ImageProcessing's resize_to_limit macro over resize_to_fit
Allow `column_exists?` to be passed `type` argument as a string
Tell the user what to use instead of update_attributes/!
Pass the view around instead of using an ivar
Subdomains of localhost are safe against DNS rebinding
Recommend adding the requested domain to hosts whitelist only in development
Corrected spelling of ActionCable::Connection::TestCase
fix fixture syntax in cable docs and guides
Add note about broadcast_to/broadcasting_for to change log
Add Channel#broadcast_to
Move `channel_name` to Channel.broadcasting_for
1. Replaced unused variables by `_`. 2. Typo fixes.
Revert ensure external redirects are explicitly allowed
Changed webserver to web server.
MySQL 8.0.14 adds `ER_FK_INCOMPATIBLE_COLUMNS`
Correctly wrap inline attachments.
Alias case nodes
Add Channel tests to `rails stats`
Add missing entries to guides' changelog file [ci skip]
Report statistics from ActionMailbox
enclosing body tag in conductor layout.
Check all provided attributes of the message
Bump RuboCop to 0.63.0
Single new line is not rendered as new line in the CHANGELOG.md
Don't add `RAILS_ENV` in generate action
Ask the view for its method container
Directly include "CompiledTemplates" module
Only cache the view_context_class in one place
Change release_sumary task to work in first releases of the series
Preparing for 6.0.0.beta1 release
No dup nor delete from options
Ensure `StatementCache#execute` never raises `RangeError`
All of queries should return correct result even if including large number
Use `unboundable?` rather than `boundable?`
Revert "Remove deprecated `server` argument from the rails server command"
Action Text: bundle package.json in built gem.
Remove args from `default_render`
Use released webpacker
Allow using Action Mailbox on MySQL 5.5
Use public_send instead since respond_to? doesn't include private/protected methods by default
Remove deprecated `after_bundle` helper inside plugins templates
Remove deprecated `server` argument from the rails server command
Remove deprecated support to old `config.ru` that use the application class as argument of `run`
Remove deprecated `environment` argument from the rails commands
Remove deprecated `capify!`
Remove secret_token rack env and cookie upgrade code
Remove deprecated `config.secret_token`
Remove deprecated `Module#reachable?` method
Remove deprecated `#acronym_regex` method from `Inflections`
Remove deprecated `#set_state` from the transaction object
Remove deprecated `#supports_statement_cache?` from the database adapters
Remove deprecated `#insert_fixtures` from the database adapters
Remove deprecated `ActiveRecord::ConnectionAdapters::SQLite3Adapter#valid_alter_table_type?`
Do not allow passing the column name to `sum` when a block is passed
Do not allow passing the column name to `count` when a block is passed
Remove delegation of missing methods in a relation to arel
Remove delegation of missing methods in a relation to private methods of the class
Change `SQLite3Adapter` to always represent boolean values as integers
Remove ability to specify a timestamp name for `#cache_key`
Remove deprecated `ActiveRecord::Migrator.migrations_path=`
Remove deprecated `expand_hash_conditions_for_aggregates`
Remove deprecated image_alt helper
Remove deprecated `fragment_cache_key` helper in favor of `combined_fragment_cache_key`
Remove deprecated methods in ActionDispatch::TestResponse
Update the promisse that ActionController::TestCase will be extracted
Use create_and_extract_message_id! to create an inbound email.
Specify a name for [ message_id, message_checksum ] index to ensure the name does not exceed the limit.
Ensure that AR::Relation#exists? allows only permitted params
Avoid using yield_self to make it easier to backport
Improve output of `rails encrypted(:edit/:show) --help`
Templates should be eval'd in the context of an AV::Base object
activerecord: Use a simpler query condition for aggregates with one mapping
Ensure external redirects are explicitly allowed
Ensure Action Mailbox processes an email only once when received multiple times
typo fixes in action cable
Tidy up action_text:install task
Make trix a peer dependency of actiontext since itâ€™s not used directly
Seed database with inline ActiveJob job adapter
Add `config.credentials.content_path` and `config.credentials.key_path` to the guide
Pull up virtual path assignment
Pull buffer assignment up
Always evaluate views against an ActionView::Base
Pull output buffer conditional up
Add a space in framework names. Matches Active Record in generated Gemfile.
Minimize boilerplate setup code for JavaScript libraries
Require hash/keys inside active_model/callbacks
Add `rails test:channels`.
Revert "Don't handle params option in a special way in url_for helper"
Remove `frozen_string_literal` from Action Cable's template files
Remove Decorator pattern in Overriding existing classes examples
Add foreign key to active_storage_attachments for `blob_id` via new migration
Document that `format.any` can match all formats
Add 'null: false' to Action Mailbox table created_at and updated_at columns in Action Mailbox table aren't intended nullable.
Remove explicit `document` receiver from add/removeEventListener calls
Exercise Active Storage and Action Text in verification app.
Install Action Mailbox and Action Text when verifying release.
Refs #28025 nullify *_type  column on polymorphic associations on :nuâ€¦ (#28078)
Remove public `prevent_writes` writer
Deprecate `connection.visitor = ...` which is not released internal usage
Remove unused `Arel::Compatibility::Wheres`
Replace `window` references in ActionCable with `self`
Document the ActionCable JS changes in the upgrade guide & release notes
Refactor calculating beginning_of_quarter and end_of_quarter (#34927)
Simplify `this.isActive() && this.webSocket` into `this.isActive()`
Simplify ActionCable.getConfig, Connection#getProtocol, and Connection#close
Simplify ActionCable.createConsumer by using default argument
Restructure credentials after environment overrides.
Add Action Cable Testing guides
Add connection_test to app generator
Add channel test generator
Update Action Cable connection testing.
Add mention to the main README about new libraries [ci skip]
Add Exim and Qmail support to Action Mailbox
More exercise test cases for `not_between`
Support endless ranges in where
Add info about `config.action_mailer.delivery_job` to the guide [ci skip]
Remove `id_value` argument which is no longer passed to `sql_for_insert`
Refactor `bind_attribute` to expand an association to actual attribute
Refactor `build_relation` in the uniqueness validator to avoid low level predicate construction
Replace `secrets` with `credentials` in comments
 [ci skip] improve doc in `Adding Member Routes` section of routing chapter.
Add reasoning for `I18n.with_locale` and explanation that the problem is about leak into subsequent requests.
Add Postmark to the ingress lists [ci skip]
Move all npm packages to @rails scope
Tweak Postmark ingress docs [ci skip]
Added Postmark ingress support
Bring in all of aws-sdk-sns if using Amazon ingress
Specify the type for the auto-generated primary key
Revise wording on invalid database error messages
Add rails db:system:change command
Move application generator naming and database code to concerns
Enable `Lint/UselessAssignment` cop to avoid unused variable warnings (#34904)
Reset column info on original Topic in serialized attr test
Add OG tags to layout.html.erb
Enable `Lint/DeprecatedClassMethods` cop to avoid using deprecated methods
Duration#coerce should always return a Scalar
Preserve Bundle configuration during app generation (#34755)
Capture parsing errors for ActionController::ParamsWrapper#process_action
The frameworks list is order dependent.
add new frameworks to tasks/release.rb
Ensure 0 is always the default for the individual exception counters in ActiveJob
Rewrite ActiveJob exception tests so it runs with the real adapters
Consolidate the duplicated code that building range predicate
Move MailDeliveryJob default to 6.0 defaults
Add load hook for ActionText::RichText
Add note about view contexts to ActionController::Helpers.helpers
Allow strong params in ActiveRecord::Base#exists?
add attachments to the new inbound mail
Allow using combine the Cache-Control `public` and `no-cache` headers
Revert "Remove node_modules path from assets load paths since we use webpack by default"
Reset ActionText::Content.renderer before and after each request
Test actiontext on Rails 6.0
Add `--skip-action-text` option to `rails new`
Add Action Text to guides [ci skip]
Add `action_text_content` hook to the guide [ci skip]
Remove comment from `actiontext/actiontext.gemspec`
Generate Action Text's API docs
Label Action Text PRs [ci skip]
Import Action Text
Support in-flight jobs stored before individual execution counters for `retry_on` (#34731)
Use ES6 and Webpacker in ActionCable guide.
Update tag helper routes for use in engines (#49)
Clarify `delegate_missing_to` [ci skip]
Test Action Mailbox configurations
Add `ActiveModel::Errors#of_kind?`
Respect Rails.env when running `rails yarn:install`
Send Active Storage jobs to dedicated queues by default
Clarify benefit of `delegate_missing_to`
Make average compatible accross Ruby versions
Update the "Configuring Rails Applications" guide [ci skip]
2x faster `connection.type_cast`
Share the connection pool when there are multiple handlers
Capistrano is no longer a dominant force in the deployment strategy for new apps
Use latest Bundler
feature: add ActionCable::Connection::TestCase
fix activerecord reaper_test
Add missing keys to ActiveSupport#instrumentation guide [skip ci]
Remove mention about `Test::Unit::TestCase` [ci skip]
MariaDB: Remove version checking lower the 5.5.8
Permit sending Active Storage purge and analysis jobs to separate queues
Add assertions for `ActiveRecord::Base.current_role`
Add test case for `preventing_writes?`
Bring ActiveRecord::Core's API document back [ci skip]
Document Action Mailbox configuration options [ci skip]
s/Active Mailbox/Action Mailbox/ [ci skip]
Restore an ability that class level `update` without giving ids
:scissors:
Exclude ActionMailbox::Base#perform_processing and #finished_processing? from API docs
Document ActionMailbox::Base#bounce_with [ci skip]
Add load hook for ActionMailbox::TestCase
Update the load hooks reference table [ci skip]
Bump Nokogiri for sparklemotion/nokogiri@bf41ba0
Add load hook for ActionMailbox::Base
Mention tiff support in ActiveStorage guides
Add CHANGELOG.md to actionmailbox gem specification
Bump Nokogiri for Ruby 2.6 compatibility
Add load hook for ActionMailbox::InboundEmail
Bump license years for 2019
Permit generating variants of TIFF images
Add Rake task for testing mailboxes
Tweak test name
Make Active Storage blob keys lowercase
Switch to released rb-inotify 0.10.0
Use 6.0 default configs in Active Storage test dummy app
Use 6.0 version of ActiveRecord::Migration for Action Mailbox
Add Action Mailbox to Major Features of Rails 6.0 [ci skip]
Move some `actionmailbox/README.md` content to Action Mailbox Basics guide [ci skip]
Don't load Action Mailbox when Active Storage is skipped
Do not show suggestion message when not exist suggestion
Require railties for all Action Mailbox dependencies
Ensure that the app generator skips action mailbox when `--skip-active-record` is given
Remove frozen_string_literal pragma from Action Mailbox templates
Label Action Mailbox PRs
Add `--skip-action-mailbox` option to `rails new`
Remove mention about `receive.action_mailer` from the AS instrumentation guide
Add missing quotes on Mailbox test template
Don't load Action Mailbox when Active Record is skipped
Load Action Mailbox when other components are skipped
Deprecate ActionMailer::Base.receive in favor of Action Mailbox
Use high level API on `migration_context` instead of using low level API directly
Deprecate passing `migrations_paths` to `connection.assume_migrated_upto_version`
Remove redundant assignning to `current_env`
Enable `Lint/ShadowingOuterLocalVariable` cop to avoid newly adding the warning
Donâ€™t include an undefined X-CSRF-Token header
Only run isolated tests on the latest stable ruby: that's now 2.6
Reuse AR::Association#find_target method
Don't expect defined protect_against_forgery? in {token,csrf_meta}_tag
Preserve key order passed to ActiveSupport::CacheStore#fetch_multi
Improve actionmailbox's .gitignore and remove redundant files
Nest ActionMailbox::Base in the API docs (missed in 6c168aa)
Nest Action Mailbox classes in the API docs
Generate Action Mailbox's API docs
Start an Action Mailbox changelog
Test against Ruby 2.6.0
Generate doc of methods provided by form builders [ci skip]
Import Action Mailbox
Don't load app environment when editing credentials
Specify `hosts` in bug report template.
Make Rails Facebook-free
Add missing require for `IPAddr`
No need to handle if FrozenError is available
Remove unused methods
Raise helpful error when role doesn't exist
Rename header of the gzip paragraph to more accurate and add short info aboaut what to do about serving gziped files [ci skip]
Add missing require for `String#to_d`
Move method definition below callbacks
Clarify the :to parameter of delegate
Use BigDecimal provided methods to convert String to BigDecimal
Add test for `travel_to` with time zone
use plain test to determine present/blank/empty as the html version will always contain content
Bump the minimum Ruby version to match Rails master
Fit Railsâ€™ Ruby requirement in here.
Remove Ruby 2.4 from the CI matrix
Enable `Style/RedundantBegin` cop to avoid newly adding redundant begin block
Module#{attr,attr_accessor,attr_reader,attr_writer} become public since Ruby 2.5
Follow up #34754
Module#{define_method,alias_method,undef_method,remove_method} become public since Ruby 2.5
Remove remaining tests for `Hash#transform_keys` and `Hash#transform_keys!`
Use native `Array#append`, `Array#prepend`, `Hash#transform_keys`, and `Hash#transform_keys!`
fix tests for mail 2.8
Unify _read_attribute definition to use &block
Remove Ruby 2.4 from the test matrix
Use class_methods throughout codebase.
Require Ruby 2.5 for Rails 6.
[ci skip] Docs: fix spelling, routing setup call and formatting.
Added logging when Message ID wasn't extracted
Clarify implicit meaning of 'workers: 2' in parallelization tests.
Pass the correct value as JSON
MySQL: `ROW_FORMAT=DYNAMIC` create table option by default
Use `utf8mb4` charset for internal tables if the row format `DYNAMIC` by default
Add streams assert methods to ActionCable channel test case
Single nest config in configuration guides
Resurrect installer.
Refit generator file structure to match Action Cable.
Eliminate "warning: assigned but unused variable - testEof"
Remove actions argument from Mailbox generator.
Test namespacing is supported.
Include proper suffix to assert no file correctly.
[ci skip] Remove needless changelog entry, as bug fix was backported to 5.2.
More exercise `test_running_prepended_before_and_after_action`
Add option to set parallel test worker count to the physical core count of the machine (#34735)
Allow nil params on controller HTTP test methods
Add test case for ce48b5a366482d4b4c4c053e1e39e79d71987197
Do not add parent directory to file system monitoring
 Extend documentation of `ActiveSupport::Notifications.subscribe` (#34721)
Set ruby >= 2.4.1 as min required version
Subtile mention of generator inside README
Allow using parsed_body in ActionController::TestCase
Hook up Travis CI
Introduce a guard against DNS rebinding attacks
Prevent infinit method_missing loop on attribute methods
Ruby can show a little bit more detailed info in shorter code
Add examples describing error handling in ActiveSupport::Notifications and ActiveSupport::LogSubscriber documentation files
renames file names
Uses the new generator to install ApplicationMailbox in action_mailbox:install rake
Add Mailbox and MailboxTest generators
Use the correct route method
remove unimplemented arguement when adding mail message to ActiveStorage
Add frozen_string_literal: true to match Rails codebase
http://localhost:3000/rails/info/properties shows more details for ease of bug reporting
Test ActiveSupport::Deprecation.deprecate_methods
fix minor typo
Do not show post install message on rails new
Don't need to trip it up right away
Add installer
Tidy up and example testing
Simpler
Document the ingress controllers
Document ingress configuration
Enable `Layout/SpaceAfterSemicolon` cop to avoid newly adding odd spacing
Use string for arguments in server test
CI against Ruby 2.4.5 and 2.5.3 (#45)
Update tested versions of Ruby on CI
Need to explain testing too
Explain all test helpers
Stating the obvious
Routing documentation
Consistent naming on all factory methods
Basic docs for most classes
Note about incineration
Base note
Describe the conductor controller
George ended up doing a lot of the actual code
Basic description of the framework
use match?
Remove redundant suffixes on generated helpers.
Remove redundant suffixes on generated integration tests.
kr/beanstalkd permanently moved to beanstalkd/beanstalkd
Ensure that preventing writes is invoked before `materialize_transactions` consistently
Add Missing ActiveSupport::Rescuable to ActionCable::Channel
 Remove redundant suffixes on generated system tests.
Add AR::Base.connected_to?
An empty transaction does not raise the `ReadOnlyError` if preventing writes
Prepend module in ActiveStorage overview
An explain query does not raise the `ReadOnlyError` if preventing writes
Don't treat begin and rollback transactions as write queries
Upgrade Rubocop to 0.61.1 and fix offenses
Prevent write queries with prepared statements for mysql2 adapter
Prevent write queries for `exec_query`
Add test for reads environment credential file with environment variable key
Do not require `webpacker` in Active Job integration tests
 #create_or_find_by/!: add more tests and fix docs (#34653)
Rename error that occurs when writing on a read
Make `deprecate` work for non-exists methods
Expand metaprogramming for Symbol, Slash and Dot.
Abort early if generator command fails (#34420)
Address objects are value objects
Add address wrapping
Add a :all catch-all route
HashWithIndifferentAccess#initialize performance improvement
Do not disable previously disabled elements
Improve deprecation message for enqueue returning false
Stop trying to reconnect on unauthorized cable connections
Prevent unintended mouse keys from firing click events
update bundler to 2.0.0.pre.2
Use safe nav operator when calling RailsGuides::Generator.new
Add advanced test helpers docs to guides
Add note about symbols vs strings
Add release link to the announcement [ci skip]
Improve the task to generate the release summary
Include the gem version in the user agent string
Add MailDeliveryJob for unified mail delivery
Another Ruby 2.6 BigDecimal compatibility issue
option to disable scopes that `ActiveRecord.enum` generates by default
Ensure that `delete_all` on collection proxy returns affected count
Reset scope after collection delete
Test unsuccessfully relaying due to a client-side timeout
Match all valid error codes
colorize the unpermitted params log message
Allow CC, BCC, and In-Reply-To mail attributes to be set on new delivery
Address "warning: shadowing outer local variable - parts"
Improve parallel testing guide [ci skip]
Pass the `connection` to the `@instrumenter.instrument` method call
Add missing authorship to ActionCable changelog entry
Assigned but unused variable - bird
Remove obsolete yarn.lock files and check in root yarn.lock file
Remove unnecessary variable route
Replace reference to WebSocket global with ActionCable.adapters.WebSocket
Remove circular dependency warnings in ActionCable javascript and publish source modules with fine-grained exports (#34370)
add require 'database/setup' in activestorage/test/service/s3_service_test.rb
fix example code syntax [ci skip]
`metadata` is not passed to service
Add yield to with_delivery_job test helper
Clarify no support for non PK id columns
Add a test with extra keys to active_storage Service#upload
Add ability to prevent writes to a database
Use the full link URL instead of bit.ly [ci skip]
Don't expose internal `clock_gettime_supported?` class method
Allow aliased attributes in update
Do nothing when the same block is included again.
[ci skip] Add a Delayed Job project link.
Improve ActiveRecord::Querying documentation [ci skip]
Avoid extra array allocations
Allow spaces in postgres table names
Add autoload hook for AbstractController::ActionNotFound
Patch load error in case GemSpecError
Log exceptions atomically
Use `Testing::Parallelization` in Action Packs's test
Pass the test reporter by reference
text is treated as `attachment`
Remove duplicated test
Prevent content type and disposition bypass in storage service URLs
Do not deserialize GlobalID objects that were not generated by Active Job
More exercise singular association query
Ensure that singular association should execute limited query
Cached columns_hash fields should be excluded from ResultSet#column_types
Reuse code in AR::Association#find_target
Revert "We still need the `Helpers` constant in the `ActiveRecord` namespace"
`Mutable` helper is in `ActiveModel`
Make implicit order column configurable
Convert ActionCable tests from CoffeeScript to ES2015 and replace Blade with Karma and Rollup (#34440)
Kernel#exit accepts a boolean
Clarify scope body requirements
Use env instead of headers on those tests
Do not use deprecated Object#!~ in Ruby 2.6
Use cache_key_with_version instead of cache_key for the example in Low-Level Caching [ci skip]
YAGNI user agent customization
Correct require
Load OpenSSL only when it's used
SQLite 3.7.16+ returns the order of the primary key columns
Updating the Testing Guide to Reflect Emails Enqueued With ActiveJob [ci skip]
Extract ActionMailbox::PostfixRelayer
When running exec_query MySQL always returns ActiveRecord::Result
Bump the minimum version of PostgreSQL to 9.3
ASt direct uploads: account for <button type="submit"> elements
Test the full incineration flow
Remove unnecessary reduce in Duration#inspect
Raises error when attempting to modify enum values
rubyonrails.org has been ready for https
Keep executions for each specific exception (#34352)
Add ? for Whats Rails
Deliver parameterized mail with DeliveryJob
Revert "Nest"
Use direction instead of rtl flag.
Redact SQL in errors
Use squiggly heredoc to strip odd indentation in the executed SQL
Compile packs before run test
Add progressive JPG to default variable content types
Allow all ActiveJob assertion helper to accept Proc in their `only` kw:
Remove odd spaces [ci skip]
Add slice! method to ActiveModel::Errors
Improve documentation for Hash#slice!
Make connection handler per thread instead of per fiber
Raise an error on root route naming conflicts.
Add common sensitive names to generated filter parameters
Add secret to generated filter parameters
Deprecate `event.end = Time.now` in favor of `event.finish!`
Permit ActionController::Parameters for serializable Hash
Homogenize rails help output
Indent guides as rails help command output[ci skip]
allow right to left styling of docs (#3)
[ci skip] Update active_job_basics.md
Change queueing to queuing in docs and comments [skip ci]
Add comments to markdown templates
Remove unused `Journey::Router::RoutingError`
Correctly handle unknown object in parallel tests
Synchronize ActionCable JS source code with compiled bundle
Re-add changes_applied doc
Wrap callbacks in status tracking
Replace cache_key with cache_key_with_version on caching_with_rails guides [ci skip]
Arel: Implemented DB-aware NULL-safe comparison (#34451)
Permit redirecting stderr to /dev/null to shush deprecation warnings
Exercise `connected_to` and `connects_to` methods
Read STDIN to upload it
Add test for normalizing non-unicode string
Allow patching polling interval logarithmic multiplier
fix typo on association_basics.md [ci skip]
Describe how has_many's :dependent option affects #delete
Allow rescue from parameter parse errors
Consider X-Original-To
Emit single pair of parens for UNION and UNION ALL
Adjust bind length of SQLite to default (999)
add a nice alias for the --webpack option
Add support for UNLOGGED Postgresql tables
Ignore warnings such as `Psych.safe_load is deprecated`
Reset sessions on failed system test screenshot
Make `PERMITTED_TYPES` private
Ensure that `ActiveRecord::Base#connected_to` with `:database` establishes connection
Make job queues configurable
Remove ensure from with_transaction_returning_status
Document missing supported types [ci skip]
Ensure casting by decimal attribute when querying
Prefer assert_not instead of refute [ci skip]
Update `action_cable_overview.md`: fix typo.
Make sure we are using a working version of thor locally
bundle update
Upgrade thor to 0.20.1
Remove asset paths from eager_load_paths and autoload_paths
Discard incineration jobs for missing inbound emails
Clarify the validation of present associations
Docs: Update Development Dependencies Install
Restore `private_constant` which is lost accidentally in #30941
Add test for parallel tests with unmarshable exception
Use the same version of Rubocop as Code Climate
Deprecate `t.indexes = [...]` which is not by design
Refactor to initialize `TableDefinition` by kwargs
Windows support for parallelization and instrumenter
Test prepared statement cache only if prepared statements is enabled
PostgreSQL: Properly quote all `Infinity` and `NaN`
Remove trailing space
Add a commented code example of what will be produced
Remove unused argument `expected_database`
Add an :if_not_exists option to create_table
Use RuboCop 0.60.0 and remove exclude files for `Style/RedundantFreeze`
Emit a transient error code for incorrect usage
sub, sub!, gsub, and gsub! should set back references
Use the address lists that have already been supplied to ensure we get the names as well
TIL: The from field can technically have multiple people in it, but it is exceedingly rare.
Compile packs for test
Recipient fields may be nil
Guard Enums against definitions with blank label names
Add multi-db support to schema cache dump and clear
Autoload ActionMailbox::TestCase
Always add records to parent of nested transaction
Provide a default ActionMailbox::TestCase
Split out all the addresses from recipients
Add JSON support to rails properties route (`/rails/info/properties`).
Amend CVE note and security guide section wordings
Add CVE note to security guide and gemspecs
Optimize difference and intersection
Rename union to intersection
Add addresses convenience method and a test for it
Extract Mail-bound methods into mail_ext for future upstream work
Always emit enhanced SMTP status codes
The ingress username is constant
Remove duplicate method
Only load the AWS SDK when the Amazon ingress is configured
Rename authentication callbacks
Read ingress passwords/API keys from encrypted credentials
Allow using queue prefix with a default queue name
Add `connect_src` example to content security policy initializer
Keep new line after the last dependency
Move `resolve_sti_reflections` which is table row related code into `TableRow`
Don't pass useless `table_name` to `ModelMetadata.new`
Checking boundable not only `IN` clause but also `NOT IN` clause
Convert ActionCable javascript to ES2015 modules with modern build environment
Refactor decaffeinate output to more natural/idiomatic javascript
Run decaffeinate on action_cable/*.js
Move actioncable javascript to app/javascript and change .coffee -> .js
Make #to_options an alias for #symbolize_keys
Updating sample code on ActiveRecord#before_destroy callback [ci skip]
Make i18n locale setting docs use around_action
Restore HWIA support to AJ::Arguments.deserialize
Validate address on route definition
Update authorization.rb
`update_columns` raises if the column is unknown
Restore `encoding: utf8mb4` in database.yml
Exercise HABTM fixtures with foreign key constraints
We don't want these internal methods as public methods in our controllers
Missing require "active_support/executor"
Missing require "core_ext/module/attribute_accessors"
Missing require "active_support/concern"
Stage an Action Controller extraction
Raise when required config is missing
Avoid violating key constraints in fixture HABTM associations
Document exception from restrict_with_exception [ci skip]
Make AJ::Base#enqueue return false if the job wasn't enqueued
Registers e302725 in the CHANGELOG [ci skip]
Update bug report templates
Privatize and add # :nodoc: to constants
Improve the logic that detects non-autoloaded constants
Use release dates for versions in Rails Guides index
`exists?` with string argument is not invalid type
`create_table` with `:primary_key` option has no effect if `id: false` is given
Ignore empty condition on #construct_relation_for_exists
Add support for hash and url configs in connected_to
Partly revert #31819
Added maxlength example to text_field documentation
Inherit from ActiveJob::Base
`assert_called_with` should require `args` argument
ActionController::API *does* support cookies, sessions
Support default expression for MySQL
Support expression indexes for MySQL
Document `deep_interpolation` parameter for bulk lookups
Deterministic connection collation in tests
Avoid creating an extra relation instance
update activestorage attachment model documentation reflect recent behavior changes
Lazy checking whether or not values in IN clause are boundable
Do not need to mention the method that is being called in the exception
Fully remove duplicated upgrade information [ci skip]
Hide PG::Connection from API docs [ci skip]
MySQL 8.0.13 raises `ER_NO_REFERENCED_ROW` and `ER_ROW_IS_REFERENCED` when user has no parent table access privileges
Add docs to ActiveSupport::Notifications.subscribe
Remove mentions about `javascripts` option from the guide about generators [ci skip]
Remove node_modules path from assets load paths since we use webpack by default
Add missing dot in comment in .gitignore template
Use request object for context if there's no controller
Apply mapping to symbols returned from dynamic CSP sources
[ci skip] Clarify load_paths behaviour
Remove `--skip-yarn` in favor of `--skip-javascript`
Remove extra call `remove_file` on `rails new` with `--skip_action_cable`
Remove `javascripts` and `javascript_engine` options for generators
Remove `:javascript` from `Rails::PluginBuilder::PASSTHROUGH_OPTIONS`
Add `/yarn-error.log` to `.gitignore`
Remove yarn's files from `.gitignore` template for new rails app
Correct some tests related to changes in #33079 (#34272)
Rename event variable
Reduce string allocations in read/write_attribute
Add new exception message to datetime from hash cast
Use String#truncate_bytes inside Multibyte::Chars#limit
Consistently use kwargs for `instance_{reader,writer,accessor}` options
Missing require "active_support/number_helper/number_converter"
Missing require "concurrent/hash"
Missing require "active_support/callbacks"
ActiveSupport module may not always already defined here
Missing require "active_support/dependencies/autoload"
attribute_accessors no longer uses extract_options since a5b0c60714e1e8d8c182af830a26e1c7c884271d
Avoid running `webpacker:install` on tests that don't need it
Changed wording for no-response documentation
Skip needless array allocation
Go strict
Inline
Remove unused fixture
Style
Update test
Mailgun copes with a 204 response status
Replace outdated Rails Guides logo
Shorten unnecessarily long names for Guides
Use CSS flexbox for Guides index menu
Tighten up the acceptable drift
Add a Rake task for piping to the Postfix ingress
Don't short-circuit
Style
Rely on the 204 No Content default response
Remove "Upgrading Old Versions" from Asset Pipeline Guide [skip ci] * How to upgrade Rails 2.x/3.2 not relevant for this Guide * All configuration changes are already included in Upgrading Ruby on Rails Guide
Add guides section on verbose query logs to Debugging
Remove unnecessary escape character
chore: implement config_for as ActiveSupport::OrderedOptions
Avoid running bundler on tests that don't need it
Implement AR#inspect using ParamterFilter.
Remove an extra `@mutex.synchronize`
Replace port number 5433 to 5432 which tests expect
Return a non zero code when can not connect to backend on CI
Deprecate Unicode's #pack_graphemes and #unpack_graphemes methods
Update guides/source/security.md
Update guides/source/security.md
Inline
Don't require Postfix to send form data
Bring PR #31725 up to date with master
Don't expose internal `get_value`/`set_value` methods
Revert "Remove unnecessary TODO"
Remove needless autoloads
Bump mail to shush mismatched indentation warnings
Shush various interpreter warnings
Use a class attribute
Prefer String#ljust over String#<< for padding
Do not silently fail to generate a cache_version
Use raw time string from DB to generate ActiveRecord#cache_version
Remove unnecessary TODO
Simplify incineration
Nest
Extract module scope
Alphabetize
Remove and flip `index: true` for `references` in the doc [ci skip]
Add Mandrill support
Consolidate duplicated code that initializing an empty model object
Update guide for the counter variable when rendering with the `as:` option
Refactor Chars#reverse and Chars#grapheme_length
Consistently extract checking version for all adapters
[ci skip] Remove explicit to_s for consistency with other example
Refactored abstract MySQL adapter to support lazy version check.
Add regression test against habtm memoized singular_ids
Extends documentation for ActiveSupport::Cache#fetch_multi [ci skip]
Unify changelog entries related to `database` option of Rails generators [ci skip]
Clarify docs of `ActiveJob::TestHelper` [ci skip]
ActiveRecord#respond_to? No longer allocates strings
Deprecate ActiveSupport::Multibyte::Chars.consumes?
Update snippet to rails 5 syntax
Ensure to test that `project.developers` is ordered by `developers.name desc`
Edit Security Guide's Session Guidelines & Custom Credentials [skip ci] * Edit Session Guidelines to achieve tighter prose and accuracy * Remove mentions related to earlier Rails versions * Add links to ActionController guide and Custom Credentials part * Clarify Custom Credentials part
Show object ids in scaffold pages when displaying referenced objects
Bump mail to `2.7.1`
Rename shadowed variable
Remove unused **options
<active-text-attachment> -> <action-text-attachment>
APPLICATION_PATH_PATH -> APPLICATION_PACK_PATH
Improve model attribute accessor method names for backtraces
Include deserialized arguments in jobs returned by AJ test helpers
Deprecate Unicode#normalize and Chars#normalize (#34202)
Runs the generator before assertions
Use native String#capitalize
Deprecate Unicode#downcase/upcase/swapcase.
Test that nested structs to_json works as expected
Accept inbound emails from a variety of ingresses
Style
Move installation tasks to lib/tasks/install.rake
Include test gems in CI
Add test retries for railties
Privatize constants
Remove invalid magic comment [ci skip]
Add test coverage for form with rich-text-area
Remove set_action_text_renderer from dummy app (#26)
Basic API for connection switching
Add allocations to template renderer subscription
Privatize ENUM_CONFLICT_MESSAGE constant
Raise on invalid definition values
Call `load_schema` before `assert_no_queries`
Clear QueryCache when reloading associations
Refactor Arel visitor to use `collect_nodes_for` as much as possible
Prevent rich_text_area from raising when inexistent attribute is passed (#24)
Add multi-db support to rails db:migrate:status
Improve DELETE with JOIN handling to avoid subqueries if possible
enable_fragment_cache_logging
resque errors caused by Marshal dump failures and wrap exceptions in marshallable DRbRemoteError
Generate delegation methods to named scope in the definition time
Test against Rails master
Use `--skip-webpack-install` by default
Avoid `webpacker:install` if unnecessary
Add `skip-webpack-install` option
Add frozen_string_literal: true
Test against Rails master
Match Rails Ruby version requirements
travis.yml â†’ .travis.yml
Upgrade Ruby version (#20)
Call `define_attribute_methods` before `assert_no_queries` to address CI flakiness
Move db:migrate:status to DatabaseTasks method
Point to requiring the ASt engine in the installation instructions [ci skip]
fix broken link in Action Cable guides and readme [ci skip]
Use content_mime_type
Use the ASt representation API
Deprecate ActionDispatch::Http::ParameterFilter in favor of ActiveSupport::ParameterFilter
Add docs to ActiveRecord::Persistence#belongs_to_touch_method
Don't expose internal methods in the associations
getting started page rails version update to 5.2.1
Expand incineration tests to cover all processed statuses
Make incineration horizon configurable
Incinerate after bouncing
Shush interpreter warnings regarding uninitialized instance variable
Terminate processing if inbound email is marked as delivered in callback
add test for cache_version precision
Add travis.yml
Add template for ActionText::Attachables::RemoteImage
Follow up #34064
Array with single item correctly uses cache_key
Remove unnecessary use of `included` in ActiveJob::Core
clarify role of unique_id in ActiveSupport::Notifications
Add documentation to run tests with specific seed [ci skip]
Remove bundler warnings from bin/setup output
update nokogiri
Remove some autolabeling globs
Add instruction for test environment
Parameterized mailers can configure delivery job
Skip node_modules dir in the rubocop check
Exercise stringify of database configurations
Add retry_on/discard suggestions for common cases.
Don't use deprecated `Module#parents`
Avoid `webpacker:install` if unnecessary
Mention reselect new method in the "Active Record Query Interface" guide
Bugfix: ActiveSupport::EncryptedConfiguration reading of comment-only encrypted files (#34014)
Wrap custom id of a header attribute into \" in rails guides
Add observing emails to action mailer guide [ci skip]
Remove `ignore_none: false` to assert no queries more strictly
Use `assert_no_queries` not to ignore BEGIN/COMMIT queries
Simplify the condition in `prepare_update_statement`
Add "sanitized" to the readme
Restore `preloaders_for_one` method
Change contributing guide to use safer force push
failing test for eager loading
Delegate string methods to content
Escape table name so that it can be used in regular expression
Consistency in naming
Recommend use of rails over bin/rails In order to make the recommendations consistent with Rails: https://github.com/rails/rails/commit/40b209db53
Install Active Storage extension lazily
This PR speeds up Nil#try by avoiding an allocation when only one argument is passed:
Compare addresses case-insensitively
Remove unreachable database warning
Declare prior to use
Don't use deprecated `LoggerSilence`
The world is our stage
Customize tag and attribute sanitization
Skip after callbacks on terminate
Delete .DS_Store files
Terminate processing on bounce
Add ActionMailbox::Base#bounce_with
Move test_fixtures and render_context to separate files
Move attachment rendering to a helper
WIP: Image gallery support
Add default missing attachable template
Add support for "presentation" gallery attribute
Fill in Attachable rich text attributes
Bring config_accessor's API document back to its life
:warning: assigned but unused variable - logger
Add a bit more documentation
Flush out the README
Copy over the blobs/_blob partial so it can be specialized
Default sanitization
Uncomment failing tests
Add import statement to default pack file if relevant
Use an app template installer instead for nicer overwriting checks
Add via yarn in the installer
Now we add the npm dependency as part of the installer
No need for the verbose warning
Move UPDATE/DELETE with JOIN handling to the Arel side
Add changelog entry
Turbolinks is enabled by default in new apps [ci skip]
Update the docs now that webpacker is default [ci skip]
Bring some tests over
Insert hidden <input> before <trix-editor>
active â†’ action
Deprecate the `LoggerSilence` constant:
Prefix Module#parent, Module#parents, and Module#parent_name with module
Freshen dependencies
Ensure correct permission when `tmpdir` is the same as `dirname`.
Permit receiving an email fixture
ActiveRecord::Associations::Preloader should not fail to preload through missing records
Remove unnecessary `coffee-rails`
Ruby Active Storage install last as it may halt the dependency list
Use released version of Rails 5.2.0 as the dependency
Support nesting mailboxes in modules
Add a test helper for creating and routing an inbound email
respect path_only option when an array is passed into url_for
Provide a logger
Make it easier to find abort documentation
Remove duplicated before_install entries in .travis.yml
Make Webpacker the default JavaScript compiler for Rails 6 (#33079)
Handle UPDATE/DELETE with OFFSET in Arel
Explain why we have explicit marshaling methods
make actionview templates marshalable so that they can be serialized during the parallel tests (#34030)
Require the except hash extension before trying to alias it
Place `PartialQuery` and `PartialQueryCollector` in the same file
Handle DELETE with LIMIT in Arel
`SQLString#compile` is no longer used since 53521a9e39b9d8af4165d7703c36dc905f1f8f67
`visitor.accept` doesn't handle `&block`
Use private attr_reader in Arel
Make `test_initialize_with_invalid_attribute` work correctly
Add `Style/RedundantFreeze` to remove redudant `.freeze`
Reset `ActiveRecord::Base.configurations` to the value before
Only define attribute methods from schema cache
Reflect name change
ActionMailroom -> ActionMailbox
Add rerouting option
Add deprecation warning when String#first and String#last receive negative integers
Refactor migrations_path command option to database
Flesh out testing
Extract MessageId concern
Updates expires_in docs
Documentation clarity in ActiveJob::TestHelper [ci skip] (#33571)
Update backburner to the latest version
Bugfix ActiveRecord::Relation#merge special case of from clause
LoggerSilence doesn't require concurrent:
[ci skip] Recommend testing information displayed over object stored
Ensure message id is present
Inline anemic method
Convert from Parameters object
Handle more unsafe String methods (#33990)
Flesh out conductor interface
Sharpen terminology
Add configuration to no-response probot plugin
Provide a basic admin interface
active_storage:install may halt chain if its already been run
Make an email that fails to deliver to a mailbox as bounced
Match file and class name
Add TODOs based on review call
Add probot autolabeler config
Extract `Arel.arel_node?` helper method
Revert "record who created the node when $DEBUG is true"
Make `update_counters` preparable
Make `update_all` preparable
Remove Rails 5.0 workaround from ActionCable::Channel::TestCase
Add migrations_paths option to model generator
Avoid extra touch queries when counter cache is updated
Added ActionController::Parameters.each_value method
Refactor counter cache to extract `decrement_counters_before_last_save` on the belongs_to association
Use -X when loading structure.sql via psql
Do not enable disabled elements for XHR redirects
Add ActionCable::Channel::TestCase
Removed invalid -X flag for pg_dump
Add a way to check for subset of arguments when performing jobs:
Routes from Engine Railties should not be an infinite loop
Eager load supports individual files
Remove force parent loading when counter cache child is created/destroyed
Raise an error when loading all fixtures from nil fixture_path
Revert "Remove `counter_cache_target` which is no longer called"
Update counter cache in memory if parent target is existed
If association is a hash-like object preloading fails
Use the same option for create database statements between Raketask and travis.rb
Add missing rdoc +code+ tags
Did that
Handle all recipients of an email as part of the routing
Extract and associate message_id with newly created inbound emails
Allow helpers to be deferred until the routes have been finalized
Remove `counter_cache_target` which is no longer called
Change the empty block style to have space inside of the block
Eagerly build the routing helper module after routes are committed
Abandon TOP support.
This patch removes deprecated catch-all routes from AM
make bot happy
Add hack to deal with warnings
Remove deprecated catch-all route in the AV tests
Improve `enqueue_retry.active_job` message
Stringify database configurations
Improve phrasing of one sentence in the contributing guide
update mini_magick to the latest version
Eagerly define attribute methods in production
Extract `instrument` method.
`Persistence#increment!` requires an attribute argument which is incremented
Remove private def
Added mandatory region and bucket
Enable `Performance/UnfreezeString` cop
Index option added for change_table migrations
Make sure this test check the issue solved in #31135
Add simply bounce handling
Decrease memory allocations in cache.rb
No private def in the codebase
Let escape_javascript handle conversion to string
Replace line items with chapters [ci skip]
Switch to supports_cache_versioning? check to a class method
Add missing test case for `redirect_to` when request includes a port.
Remember to deal with message_id
Stick with match concept
Style
Expand router with real routing object and 4-way address options
Use proper default
[close #33907] Error when using "recyclable" cache keys with a store that does not support it
Correct spelling in "Contributing to Ruby on Rails" guide [ci skip]
Use utf8mb4 in all tests and examples
Make `assert_<enqueued|performed>_with()` compare hashes ignoring order of keys
Update MySQL server version and character set in Rails Guide [skip ci]
Make `ActiveRecord::Result#to_a` as alias to `ActiveRecord::Result#to_ary`
Make a deep copy of the _default_attributes in column_defaults
Test single and multiple string routes
Less fancy
Allow inbound emails to be created on the fly
before_processing should run before the inbound email has been marked as processing
Extract method to encapsulate status tracking on inbound email
Needless local var
You're not paying by the character
Anemic test better covered in mailbox/routing_test.rb
Extract routable concern
Routing is a named concept now
Test routing runs through a job kicked off by the inbound email
Temp routing directly to named controller
Everyone needs job testing
Ensure raw email is created first
Simpler class definition
Add easy way to get logging information inline for test failure diagnosis
[ci skip] document collection_caching.rb
Attach a concrete router to the root mailbox and use it
Included in test helper now
Add incineration by default
Follow db table convention
Tmp files
Make debugger available in testing
Missing suffix
Support environment specific credentials file. (#33521)
Don't return the same object when using find with an empty array
Only deliver pending emails to the mailroom
Inherit from ActiveJob::Base rather than ApplicationJob
Prefix queue name like we do routes
Make a note for tying inbound email to exception
Add callbacks
Extract mailbox test suites into feature-specific slices
More scalable name!
Proper order
Process inbound emails with state and exceptions
Use rails scope by default
Add test for unsupported content type
Remember to add access protection
Use a test helper to create fixtures rather than rely on them being predefined
Deprecate ActiveRecord::Result#to_hash in favor of #to_a
Don't update counter cache unless the record is actually saved
Avoid the same `foreign_key` and `counter_cache` associations on `SillyReply`
CI against PostgreSQL 10
Add basic, unauthenticated inbound emails controller
Assert the intended email was processed
No byebug history plz
Keep the riff raff out
Save this for a little later
First end-to-end rickety test
WIP: Router
Add dummy app for testing
Wait on this for later
Full name for the job
TOC ordering
Plural table name
Base -> Mailbox
Action Mailbox -> Action Mailroom
Add inbound email
Copypasta is delicious!
Skeleton
Update gemspec links and Rails dependency and humbly add myself as a coauthor
Remove "include FileUtils" sentence in setup/update bin files
Ignore psqlrc files when executing psql commands
Remove meaningless `ActiveRecord::MigrationContext.new(old_path)` in ensure block
Improve readability in form helpers guide [ci skip]
Print correct rake command on running AJ integration tests
Raise `ActiveRecord::InvalidForeignKey` in `before_destroy` for a blob if attachments exist
`retry_job` should publish `enqueue_retry.active_job` notification
Payload of `enqueue_retry.active_job` includes `:wait`
ActiveRecord::Associations::Preloader should preload all instances of the same record
Load `chromedriver-helper.rb`
Bump `chromedriver-helper` to 2.0
Use table name qualified column name for update counters
Extract `{update,delete}_all_test.rb` from `persistence_test.rb` and `relations_test.rb`
Standardize git remote names.
Validate inclusion of each element in array values
Unlock pg verson
Bump marcel for significant gem size reduction
Add test for `config.active_storage.routes_prefix`
Update associations.rb API documentation [ci skip] (#33857)
Configure Active Storage route prefix
Add `:redis_cache_store` to `config.cache_store` options [ci skip]
Clarify transactional behavior of after_commit and after_rollback callbacks
SQLite3: Support multiple args function for expression indexes
Remove mysql2 gem version requirement "< 0.6.0"
Make sure the flash method is defined even if helpers are not present
Enable `sudo` only in the required build
Fallback to unprepared statement only when bind params limit is exceeded
Bump MySQL version requirement to 5.5.8 in the template files
SQLite3 adapter supports expression indexes
add `any?` to DatabaseConfigurations
Revert falsey with example reordered
Update arguments.rb [ci skip]
Add changelog entries for #33849 [ci skip]
Encode Content-Disposition filenames on send_data and send_file
Drop MySQL 5.1 support
Raise an exception if :charset is not specified and large prefixes / utf8mb4 are not supported
Validate if `utf8mb4` character set and longer index key prefix is supported
Add a test that exercice better the behavior we expect in the query cache
Use wildcard glob for optimized template resolving
Use correct fixtures destination name
Add default fixtures file on install
Never mind on allowing blank
Include test helpers when ActionDispatch::IntegrationTest is loaded
Ensure blank rich text records aren't saved or required
Add mention about `ActiveRecord::Base::filter_attributes` to the changelog entry
Build string set when `filter_attributes` is assigned
DRY `activerecord/lib/active_record/core.rb` and fix tests
Clarify docs of `config.filter_parameters` and `#filter_attributes`
Update test_helper_test.rb
Faster multiple_of? method
Update action_mailer_basics.md [ci skip]
use "minitest" consistently
Move digest path calculation out of loop
refacto: config_for with ActiveSupport::InheritableOptions and symbolized keys
Use utf8mb4 character set by default for MySQL database (#33608)
Eager loading/preloading should be worked regardless of large number of records
Don't expose `instantiate_instance_of` for internal use
Refactor object creation from relation to avoid pushing scope attributes
Don't expose `current_scope` for internal use
Move `scoping` handling into klass level from relation
Remove redundant `all.scoping`
Remove unused `existing` arg in `SelectManager#collapse`
Use correct variable
Oxford comma [ci skip]
Add #unfreeze_time to ActiveSupport::Testing::TimeHelpers
Remove all references to slave in the codebase
Update CHANGELOG.md
clarifies documentation around the attempts arugment to retry_on
Add `perform_deliveries` to a payload of `deliver.action_mailer` notification.
Add missing `perform_enqueued_jobs` to error logging test
Consistently use `visitor.compile`
Revert a writer for `BindParam#value`
Use `visitor.compile` instead of constructing by connection itself
`supports_xxx?` returns whether a feature is supported by the backend
Skip delivery notification when perform_deliveries is false.
reflect c03bba4 in CHANGELOGs
ActiveJob Backburner adapter: fix priority
Donâ€™t allocate array on no args
trace autoloads, and document hints for troubleshooting
Run yarn install relative to Rails.root
Configuration item `config.filter_parameters` could also filter out sensitive value of database column when call `#inspect`
Formatting CHANGELOGs [ci skip]
Use canonical name for block local
[ci skip] Doc ActionView::OutputBuffer
Update CHANGELOG for SafetyBuffer slice access
[ci skip] Improve remove_column documentation
Generate a gem that can't be pushed to Rubygems.org by default
Use assert_predicate instead
[ci skip] Clarify CaptureHelper#capture function
Faster File Store
Unlock ffi version
Upgrade all the gems
Ensure we always cleanup the databases
Improve API document on Object#blank?
Deprecate most methods which were never used in `DatabaseLimits`
ActionCable: add id option to redis adapter config
Remove unused block
Respect config setting when output deprecation notice in rake tasks
Update link for `Rack socket hijacking API`
Update documentation to ActionController::ConditionalGet
Clarify changelog entry added in #33779 [ci skip]
Update changelog with null_store default
Remove unused splat args in `_create_record`
add mysql and sqlite3 default test
[ci skip] Change some comments to conform to the style used in other comments
Remove needless test order config
Convert configs_for to kwargs, add include_replicas
SafeBuffer should maintain safety upon getting a slice via a range if original buffer was safe.
Faster permitted_scalar_filter
Add replica? check to DatabaseConfig
Add config option for `replica`.
Remove redundant `travel_back`
Emit warning for unknown inflection rule when generating model.
add github to template actions, light DSL refactor
[ci skip] Typo in form helpers guide
Just delegate `update` with ids on a relation to `klass.update`
Move ActiveJob retry and discard logging into log subscriber
[ci skip] Document permitted_scalar_filter
Add migrations_paths option to migration generator
Refactor `attributes_for_{create,update}` to avoid an extra allocation
Do not recompute length
Remove `attributes_with_values_for_{create,update}` for internal use
Refactors Active Record connection management
Remove extra `& self.class.column_names` in `keys_for_partial_write`
Add info about purpose in cookies to "Upgrading Ruby on Rails" guide [ci skip]
Add info about `config.action_dispatch.use_cookies_with_metadata` to "Configuring Rails Applications" guide [ci skip]
Add missing require
20% faster `try`
Add hooks to ActiveJob around retries and discards
Faster time_value.rb
Remove this conditional
Remove unused argument
32% Faster Object#try
Fewer allocations in caching/fragments.rb
Drop load_database_yaml and fix test
Prevent leaking of user's DB credentials on `rails db:create` failure
Add "Ruby on Rails 6.0 Release Notes" guide [ci skip]
Generate the same value as a label of view in system test template
Add test to make sure the custom object key can't be serialized
Focus search input after page load on /rails/info/routes (#33683)
Use the HTTPS protocol for links to Edges Guides [ci skip]
Update the comments for TimeWithZone subtraction (#33721)
Mutation tracker should be cleared before continuing around callbacks
Call block to #redirect_to in controller context (#33735)
Add documentation for `:collation` column option (#33733)
Find inverse associations with plural names
Update "Action View Form Helpers" guide [ci skip]
Permit list usage cleanup and clearer documentation
Add `:namespace` option to the api docs of `form_with` [ci skip]
Follow up #33523 [ci skip]
Remove unused requires
Clarify example of the test [ci skip]
Add test case to test enum in has_many
Format respond_to method as code in doc [ci skip]
Avoid `pg` 1.1.0 for now
Convert remaining usage of whitelist and blacklist
Deprecate usage of ActionView::Template::Handlers::ERB::escape_whitelist
Convert over the rest of the blacklist references
Convert over the rest of the whitelist references
Handle only specifically relevant Azure HTTPErrors
Handle only specifically relevant Azure HTTPErrors
Use string lengths instead of regexp to extract path
DRY in `assert_broadcasts`
Simplify configuring of `ActionCable.server.config.logger` for actioncable tests
Set the test adapter for the test environment by default in `config/cable.yml`
Clarify api docs of ActionCable::SubscriptionAdapter::Test
[ci skip] corrects more grammar awkwardness, replacing denylist with restricted list and consistently use permitted
Include form_with in form_helpers rails guide (#33523)
update I18n fallbacks configuration to be compatible with i18n 1.1.0
Remove extra execution of `uniq!` on action_methods
Update ParameterFilter to yield original parameters
Use `say`/`error` instead of `puts`/`$stderr.puts`
Remove `rake initializers` from rake tasks list
Two fewer array allocations on action_methods
Partly revert unused accessor
[ci skip] revert terminology related to syntax
Add database configuration to disable advisory locks.
[ci skip] fixes a few more grammar issues, changing a to an before the word allowlist
[ci skip] fixes awkward grammar
Remove duplicate test
Added explanation about new_framework_defaults.rb file [ci skip]
[ci skip] Add ImageMagick to Brewfile
Show the `ENV` value correctly in the doc of `combined_fragment_cache_key` [ci skip]
[ci skip] change all instances of blacklist and whitelist to denylist and allowlist
Add missing newline [ci skip]
[ci skip] Add ImageMagick to ActiveStorage dependencies
Respond with 404 in ActiveStorage::DiskController#show when file missing
Translate service-specific missing object exceptions into a generic one
Don't handle params option in a special way in url_for helper
DRY in `assert_enqueued_jobs`
Allow `assert_performed_with` to be called without a block.
Add changelog entry about adding `:queue` option to job assertions and helpers
Allow `:queue` option to `assert_no_performed_jobs`.
Allow `:queue` option to `assert_performed_jobs`.
Speed up slow ConnectionPool test case.
Improve documentation of Procs as :if / :unless options for callbacks
Make `rake routes` deprecate before deleting
Add Action Cable test case and test helper
Add Action Cable test adapter
Allow `:queue` option to `perform_enqueued_jobs`.
Don't put up with not saying it.
Improve test case to test enum correctly
activestorage: yarn build
DRY in Active Record Query Interface [ci skip]
Improve tests for ActiveRecord::ConnectionAdapters::ConnectionPool configurations.
Update `google-cloud-storage` gem version [ci skip]
Retry ActiveStorage::AnalyzeJobs on download integrity check failures
Remove superfluous test
Address intermittent CI failure due to non-determined sort order
Explained difference between scope & class method
Ensure `foreign_keys` assertions after alter table
Enable Style/ParenthesesAroundCondition cop
Enable multiple submit buttons for Active Storage forms
Increment execution count before deserialize arguments
Remove unused requires
 Add note for custom mailer view paths in action mailer guide. [ci skip]
Update image_processing to the latest version
Call human_attribute_name with a string instead of a symbole
Update 'rake initializers' to use Rails::Command under the hood * Invoke Rails::Command within the rake task * Adds test for calling initializers with 'bin/rake' * Adds deprecation warning to the rake task
Move 'rails initializers' command to Rails::Command
[ci skip] Add deprecration of  to CHANGELOG
Harmonize shell commands in dev guide [ci skip]
Add example `perform_enqueued_jobs` without block to api docs [ci skip]
Extract ActiveStorage::SetCurrent
Enable Lint/UriEscapeUnescape cop not to allow using obsolete methods in the future
Do not show deprecate task in the task list
Allow `perform_enqueued_jobs` to be called without a block.
Update guide to mention code linters available
Follow up #33530
Refactor `Array#extract!`
Use `Array#extract!` where possible
Add `Array#extract!`
`ActiveModel.full_message` interaction with `index_errors`
Allow `to_table` in `invert_remove_foreign_key`
Test `assert_called` and `assert_called_with`
Add reselect method
Use backtrace cleaner to clean up backtrace for verbose query logs
Changelog for the new purpose metadata and improved tests
Omit BEGIN/COMMIT statements for empty transactions
Have `bin:rake dev:cache` use the Dev Rails Command under the hood * Call the Rails::Command::DevCommand in the rake task for dev:cache * Add deprecation for using `bin/rake` in favor of `bin/rails`
Adds Rails:Command for `dev:cache` that has the same behaviour as the rake task
Update Changelog to add deprecation to `rake dev:cache`
Remove Mocha from Gemfile
Add method_call_assertions and use them instead of Mocha
Stub with Minitest and test with MethodCallAssertions
Update coffeelint to 2.1.0
Clarify "Old Migrations" in "Active Record Migrations" guide [ci skip]
Clarify note that SQLite3 adapter doesn't support `add_foreign_key` [ci skip]
Purpose Metadata For Signed And Encrypted Cookies
Add changelog entry for #31503 [ci skip]
`bundle binstubs bundler` should be executed after `bundle install`
Make active job name prefix static since Rails.env will always be the same
SQLite3 adapter `alter_table` method restores foreign keys Related to #33520
Document all Active Storage error classes [ci skip]
Add a generic base class for Active Storage exceptions
Use strings instead of symbols on calls to decorate_matching_attribute_types
Extract transformers
DRY up web image checks in ActiveStorage::Variant
Documentation for queue_adapter_name method in ActiveJob::QueueAdapter [ci skip]
Add missing instructions for FreeBSD [ci skip]
Conditionally use `helper_method` in Flash concern
perform_or_enqueue instead of enqueue_or_perform
Avoid i18n 1.1.0 for now
ActiveRecord Guide - sqlite3 foreign keys note
Add tests for privates methods in view's helpers
ActiveRecord Basics guide: correct explanation of the `updated_at` logic [ci skip]
Ensure that running tests in parallel doesn't display schema load output
Deprecate use of private methods in view's helpers
Add one more method affected in CHANGELOG
Use public_send in extract_values_from_collection
Use public_send in value_for_collection
Add lambdas in conditional validations
update BacktraceCleaner::RENDER_TEMPLATE_PATTERN to match the ActionView::Template method names
Camelize instead of classifying
Improve ActiveStorage service adapter error handling
Filter backtrace in test to ensure irb counts as user code
Move changelog entry of 47018a82 up [ci skip]
Support skip nil for cache fetch (#25437)
Update Rails 3.2 to 4.0 upgrade guide to include a mention and tip for handling the addition of configurable default HTTP headers. [ci skip]
[ci skip] Update adding member routes guide to fix inconsistency with the implementation. Closes #33518
Document best practices with old migrations
Set cache store as null_store for test environment
`retrieve_connection_pool` return a pool, not a connection
Remove another unused require
Call build when extend with nested attributes defined
don't establish connection test_database since it gets established in load_schema
[ci skip] Change references from Rake task to Rails command
Remove unused require
use load_schema instead of migrate for parallel testing
Prefer the ASt API
Retry ActiveStorage::PurgeJobs on DB deadlock
Update instructions to get the local version of actiontext
Add test case for the #5153's default order contract
Revert "Remove label 'work in progress' for AM and AV guides"
Log the remote IP addr of clients behind a proxy
Throw if ujs loaded twice
:scissors: .
Disable content security policy for mailer previews
All links from README.md now served over https
Guard against missing blobs caused by concurrent purges
Remove unused require
You cant run Action Text without Active Storage setup, so lets just set it up for you, rather than ask you to.
Avoid extra scoping when using `Relation#update`
Raises exception when respond_to called multiple times in incompatible way
A regression in deprecate_methods was introduced in a982a42:
Ignore concurrently-deleted files when deleting by prefix from GCS
cpu_time and allocations are 0 when JRuby is used
MySQL: Raise ActiveRecord::InvalidForeignKey for foreign-key constraint violations on delete
Only use CLOCK_PROCESS_CPUTIME_ID if it's defined
Chomp will work without checking for end of the string
ActiveModel::Naming delegate match? in the same manner as =~ and != (#33466)
Extract `Relation#bind_attribute` for internal use
Update ActiveStorage::Previewer docs
Extract `Relation#update_counters` for internal use
Remove unused `require "active_support/core_ext/regexp"`
Work around Performance/EndWith false positive
Enable Start/EndWith and RegexpMatch cops
Don't expose configuration for a test.
Avoid logging ActiveRecord::LogSubscriber as the query source when the source is ignored (#33455)
Clarify condition
PostgreSQL 10 new relkind for partitioned tables (#31336)
Log streaming downloads
I cannot spell
Add changelog entry
Allow subclasses to redefine autosave callbacks for associated records
fix arity check to use "parameters" for backwards compat
Remove Rubocop's comments from Rails code base
Always subscribe to event objects via `AS::Notifications.subscribe`
Subscribe to event objects via `subscribe`
Subscribe to event objects via `subscribe_event`
Match the units in `duration` (milliseconds)
Add cpu_time, idle_time, and allocations to Event
Ignore ActiveRecord::InvalidForeignKey in ActiveStorage::Blob#purge
AST Guide: install and migrate tasks in new app
Bump RuboCop to 0.58.2
Reference Active Storage instead of third-party libraries in guide
Remove thirdparty FIXME
Testing Guide: unnecessary comment
Update with_options.rb
Normalize time value not to be affected by summer time
Rails guides are now served over https
Turn on performance based cops
add strict argument checking to ActiveRecord callbacks
[ci skip] fix typo in Associations guide
Add render options in action_controller/renderer for api documentation [ci skip]
[ci skip] Tidy up formatting of examples
[ci skip] Use consistent hash syntax in AR docs
Add implicit to path conversion to uploaded file (#28676)
Replace permissive Mocha expectations
Replace Mocha#stubs with assert_called_with
Remove unused attribute
Clarify example of the test `ActionController::HttpAuthentication::Token` [ci skip]
Clarify `railties/test/application/rake/notes_test.rb`
Modified the changes to make it backward compatible
[ci skip] Strike changelog entry, since it's 5.2 backported.
[ci skip] Move changelog entry up top. Clarify.
Discard ActiveStorage::PurgeJobs on ActiveRecord::InvalidForeignKey
Test that ActiveStorage::Blob#purge fails when attachments exist
Prevent `RequestEncoder#encode_params` to parse falsey params
CHANGELOG entry
don't impose primary key order if limit() is defined
tests for use of primary_key with limit
Add a foreign-key constraint to the attachments table for blobs
Delete attachment before purging blob
Destroy blob record before deleting stored data
Avoid extra scoping in delegating to klass methods in the `scope` block
Link between ActiveStorage::Blob#purge, #purge_later, and #delete [ci skip]
Clarify the ActiveStorage::Attachment#purge and #purge_later docs
  Change the background color which wrapped by code tag. [ci skip]
Use MethodCallAssertions instead of Mocha#expects
Revert "Short circuit the scoping delegation for `relation.all`"
 Add example for `has-and-belongs-to-many` association.  [ci skip]
 Add situation for belongs to association. [ci skip]
Wrap ActiveJob::Enqueue in evented ActiveSupport::Notification
Remove unnecessary tap
Test DST both in local and utc timezone
Implement change() to convert to "2001-01-01" first
Replace some more Mocha#stub calls with Minitest
Remove unnecessary Mocha stub
Correct test name
Test removing attachments via #attach
 Remove the invalid usage document about `errors`. [ci skip]
Show nested exceptions on the debug view
Restore inadvertently-removed fallback
Support HTTP Range downloads from disk
Clarify test cases
test_should_impose_childless_html_tags_in_html failure with JRuby
use set_server_option if possible
Stub with Minitest instead of Mocha
Ensure attribute is a symbol in the added? method
Update documentation for #pluck method [ci skip]
Clear attachment changes on reload
Implement ActiveStorage::Attached::{One,Many}#attach in terms of changes
e4e1b62 broke `to_param` handling:
Enable `Layout/EmptyLinesAroundBlockBody` to reduce review cost in the future
Discard ActiveStorage::PurgeJobs for missing blobs
Remove overly-broad retry in ActiveStorage::PurgeJob
Add missing documentation options to number_to_currency [ci skip]
Update guide for validation custom contexts [ci skip]
[ci skip] `sanitizer_vendor` will be removed in Rails 6
Add missing load config dependency to `rake db:seed`
Replace shallow mocks with Ruby classes
Avoid unneeded expanded column aliases array caching
Reduce mocking by testing value instead of method call
Add deprecations related to `rails notes` command to Changelog * SOURCE_ANNOTATION_DIRECTORIES deprecation * Deprecation of `rake notes`, use `rails notes` instead * Deprecation of `rails notes:custom ANNOTATION=custom`, `rails notes:optimize`, `rails notes:todo`, and `rails notes:fixme` in favor of passing `-annotations` or `-a` to `rails notes` * They have all  been deprecrated in https://github.com/rails/rails/pull/33220
SQLite: Don't leak internal schema objects
Subsecond precision is not supported until MySQL 5.6.4
Raise an ArgumentError instead of a RuntimeError
Allow to explicitly specify whether to output Rails' log to stdout
added tests for assert_no_difference with multiple expressions
has_secure_password: use `recovery_password` instead of `activation_token`
Store newly-uploaded files on save rather than assignment
Remove unnecessary Mocha stubs
Don't balloon @original_options with --restart on restart.
Don't show unneeded deprecation warning on server restart.
Remove restart_command leftover from switching to Thor options.
Use only snake cased symbols in commands.
Substitute references to task for command
Show rails instead of bin/rails on USAGE instructions
Improve text readability
Homogenize rails commands and former rake tasks
Recommend use of rails over bin/rails
Improve `SecurePasswordTest#test_authenticate`
Update `has_secure_password` info in the guide
Pass along arguments to underlying `get` method in `follow_redirect!` (#33299)
Make NotesCommand tests more performant by getting rid of unecessary map * Get rid of map and replace it with a multiplication of "\n" to generate document with multiple line preceding the annotation * Reduce number from 1000 to 100 since it achieves the same goal * Only keep one test for the multiple lines document since it's unecessary to test multiple times * Update some language in tests names to make it clearer what we are testing
Shorter code: remove unnecessary condition
Remove vestigial require on ActiveStorage GCSService
Use testing lazy-load hooks:
A Class is a Module so we remove one conditional
Port Annotations rake task to use Rails::NotesCommand
Adds support to register directories and extensions to NotesCommand * Require the application and environnement in the notes command in order to load the config files * Adds tests for both register_directories and register_extensions added to a config file
Adds a Rails::Command for Notes * It is called with `rails notes` * It defaults to displaying [OPTIMIZE, FIXME and TODO] annotations * It accepts custom annotations by using `rails notes -a CUSTOM_ANNOTATION OTHER_ANNOTATION` * It defaults to look for annotations in [app config db lib test] as dictated by SourceAnnotationExtractor * It supports ENV["SOURCE_ANNOTATION_DIRECTORIES"] but adds a deprecation warning and recommends using register_directories instead
Specify location for engine-specific commands
Use class_eval or instance_eval when triggering lazy load hooks:
[ci skip] Update documentation related to `rails notes`
Better compatibility with SPEC.
Remove old TODO comment
Add changelog entry for 42c3537 [ci skip]
Add safe html support to arrays of translations
ActiveJob::Base no longer dependents on Serializers
Use `construct_join_dependency` in all places
Don't extract `readonly_value` each time
Don't share seen object cache between different join nodes in eager loading
Support readonly option in SQLite3Adapter
fix error of a file name
Keep time_tag docs up-to-date.
Refactor #33254.
Allow `queue` option to `assert_no_enqueued_jobs`
Clarify activejob/lib/active_job/test_helper.rb
Remove erroneous remove_column option from example
Allow call `assert_enqueued_with` and `assert_enqueued_email_with` with no block
Incompatibility of Direct Uploads & Mirror Service
Add :expires_in option support for RedisCacheStore increment/decrement method.
Tweak Previewer::PopplerPDFPreviewer#pdftoppm_exists?
Improve wording for form_with in Getting Started Guide
Break guides menu 'Digging Deeper' section in two
Note deliver_later_queue_name gotcha in ActionMailer guide [ci skip]
Change to current approach
Autoload ActiveJob::Arguments
ActiveJob::Arguments is no longer used in file
Update sprockets to Security release for CVE-2018-3760
Add changelog entry for 3110cae [ci skip]
define attribute methods in `init_from_db`
Call initialize after allocate
Enable TESTOPTS in railties tests
Remove `ActiveSupport::Concern` from `ActiveRecord::Aggregations`
Add example for no_touching? in active_record/no_touching for api docs [ci skip]
Speed up homogeneous AR lists / reduce allocations
Generate a new key for each service test
Allow passing multiple exceptions to retry_on/discard_on
Lazily add `Aggregations` to `composed_of` models
`references(:developers_projects_join)` isn't needed if using `where` with hash condition
Use `reflection.alias_candidate` in `table_alias_for`
Add tests for duration multiplication and division
Revert "Avoid Node.js v10.4.0 for now"
Add an assertion that `credentials:edit` works when `RAILS_MASTER_KEY` env is specified
Update service.rb
Update raabro to latest version
Generate bundler-compatible bundler binstub
Improve readability of some specs
Return empty array when casting malformed array strings
Factor out some common bundler mocking logic
OS X -> macOS [Closes #30313]
Active Storage: Explicit form field in basic example
Changes Rails Welcome image on localhost:3000
Add to docs mention about `:year_format` option of date select
Add missing test case for `find` with a large number
Permit configuring the default service URL expiry
Update fugit to latest version
add documentation for config.active_support.use_authenticated_message_encryption [ci skip]
Remove all `aliases` passing from `JoinDependency`
Remove useless `aliases` argument from `JoinDependency#construct`
Remove unused `rs` argument from `JoinDependency#construct`
Only execute route updater once on app boot
Convert hashes into parameters (#33076)
Ensure to calculate column aliases after all table aliases are constructed
Removed useless utility classes inside HABTM association builder
Avoid creating temporary arrays in ActiveRecord::Result#cast_values in order to speed up pluck
Add test case for the `|` token in Journey scanner
Add docs for ActiveRecord::Migration#say, #say_with_time, #suppress_messages [ci skip]
Remove unused require
Update example for whitelisting arbitrary hashes
Add missing documentation about `config.action_mailer.preview_interceptors` [ci skip]
Add support for more HTTP cache controls
Update "Active Support Core Extensions" Guide
Add ability to configure cache notifications info
Update prefix and allow suffix options for store accessors
Remove reference to session_store.rb initializer
Add comma to example in guides/source/active_storage_overview.md [ci skip]
Add changelog for #32956 [ci skip]
Remove backticks around proejct names
Don't use `target=`
Use `-=` to change the update the collection on the association
Remove redundant accessors
Add `year_format` option to date_select tag. This option makes it possible to customize year names. Lambda should be passed to use this option. Example:
:scissors:
Update `config.active_storage.variable_content_types` default value in guides [ci skip]
Use fetch for better error handling
Use same weekday correspondance as Date#wday.
Avoid Node.js v10.4.0 for now
Include `ActiveSupport::Testing::MethodCallAssertions` in `railties/test/isolation/abstract_unit.rb`
Remove extra `include ActiveSupport::Testing::MethodCallAssertions`
Include `ActiveSupport::Testing::MethodCallAssertions` to `ActionCable::TestCase`
Inherit all actioncable's test classes from `ActionCable::TestCase`
Update ffmpeg -> FFmpeg, mutools|mupdf -> muPDF
Dev-Dep guide: mention AST third party requirements
Use Rack to generate query information under test
Remove ineffective no-warnings flags from Contribute guide
Refactor activestorage/test/models/attached_test.rb
Add `ActiveSupport::CompareWithRange` to API docs
Refactor activestorage/test/models/attached_test.rb
#render already provides something html_safe
Move the escaping choice to the layout
Some basic documentation for the has_rich_text macro
Add scope to preload embeds as well
Provide to_html rendering within a layout and use that as the to_s default
Add missing `require`
Remove unused `require`
Escape newlines in the GCS private key for valid YAML [ci skip]
Reuse existing model for testing duplicated children records
Child joins should be aliased when merging relations
PERF: avoid allocating column names where possible
Add global config for config.active_model.i18n_full_message
By default, coercing to a string should produce a formatted output
Edit the body of the RichText value
Provide default styling by default
We are leveling up the text_area, not the text_field, so match names
Eager load routes on rebuild
Only build routes simulator when there is an AST
Correct default value of `unknown_asset_fallback`
Initialization block is a part of `build_record`
Don't expose `Enumerable#_original_sum_with_required_identity` which is internal API [ci skip]
Exclude upload time from instrumented preview time
Remove unnecessary test
`record.destroy` on new record won't invoke after create commit callbacks
Migrations will raise an exception if there are multiple column definitions (same name).
[skip ci] Add changelog about bumping minimum SQLite version to 3.8
Remove 'Current.' prefix from example.
Capitalize class name 'Product'. In this context, the phrase 'product instance' refers to the Product class, so capitalize it.
CI against MariaDB 10.3
Ensure reflection_class_for is private
Remove mocha from ActionCable tests
Use Ruby instead of mocha
Use minitest/mock instead of mocha
Move ActiveStorage reflection logic entirely into ActiveStorage
[ci skip] "brethen" is misspelled and unclear
Remove errant debugger call
Include blob ID in tempfile name for debugging convenience
Avoid unused capture in `non_xhr_javascript_response?`
ActionMailer::Base can unregister observer(s) and interceptor(s). (#32207)
Bundle update
Reflection for attachments
Allow Time.zone.at to receive a second argument
Remove unused `require "active_support/file_update_checker"`
Add installer that copies migration and stylesheet link
Use mediumtext-size columns
Test saving the dependent models
Just test text pipeline without dependencies/saving
Adding the rich text tables
Content is now supplied by dedicated model
Not needed for migrations etc
Destroy rich text dependents
Verify integrity after chunked download
Ensure casting by boolean attribute when querying
Hide Active Storage migration installation task (#33007)
Implicit transformation to html-safe string ready for display
Reference action text for js packaging
Use the correct API for blob assignment
Ease the rendering of a rich text attribute
Link rich text to owning record
Back by fully qualified table name
Auto-save changes to rich text model
Lazy initialization of rich text model
Table needed for Rich Text AR model
Use actiontext references in Gemfile.lock
Update et-orbi to latest version
Remove unnecessary `with_default_enforce_utf8` method
Parse raw value only when a value came from user in numericality validator
Include application/javascript when checking content_type
PostgreSQL: Prepare for pg-1.1.0
Avoid a subquery in updating counter cache
Eager loading won't mutate owner record
Make force equality checking more strictly not to allow serialized attribute
Change location for running copy migrations command
Separate min and max threads count for puma
Improve grammar for DateAndTime before? and after? calculations [ci skip]
Update stale issue comment to mention 5-2-stable
update README link: md instead rdoc [ci skip]
correct link to activejob readme [ci skip]
Avoid 2.6 warning: shadowing outer local variable - list
Enable warnings in all test tasks
Eager autoload mail gem when eager load is true (#32808)
Change video preview format from PNG to JPG
Indicate `true` in a doc comment is code-like.
Bump minimum version of Thor to 0.19.0
Allow to override the full_message error format
Rollback parent transaction when children fails to update (#32796)
Remove 7 years old note-to-self by tenderlove
add CHANGELOG/Doc
Allow Range#=== and Range#cover? on Range
Disable foreign keys during `alter_table` for sqlite3 adapter
remove unnecessary mocking in ActionCable tests
[ci skip] Add documentation/changelog entry.
Add Enumerable#index_with.
Disable variant options when false or nil present
Rename exception variable to error.
Exception wording change
Enable `Lint/StringConversionInInterpolation` rubocop rule
Bump minimum SQLite version to 3.8
`SqlTypeMetadata` is :nodoc: class [ci skip]
Add test case that configure `config.action_view.finalize_compiled_template_methods`
Add CSP nonce to `style-src` directive
Rollback correctly restore initial record id after double save
Finalize transaction record state after real transaction
Speed up xor_byte_strings by 70%
Raise a better exception when a invalid depreation behavior is set
Permit opening a blob in a custom tempdir
Generate getter and setter methods in mixin
Active storage: Image variant options not correct
Remove unused `require "active_support/core_ext/string/filters"`
Add ActiveStorage::Previewer#tempdir
Add missing block parameters
Demonstrate ActiveStorage::Blob#open in the Active Storage guide
Add ActiveStorage::Blob#open
Add missing require for string to timezone conversion
Don't generate yarn's contents in `app:update` task if it's skipped
Don't expose `SingularAssociation#replace` which is internal API
Remove :nodoc: from the methods which is added the doc [ci skip]
Add math tests
Don't generate `config/spring.rb` in `app:update` task when spring isn't loaded
Add available transformations to docs [ci skip]
Remove ActiveRecord::Transactions#rollback_active_record_state!
Pass the error instance as the second parameter of block executed by `discard_on`
Remove reference to old `:text` rendering option
Expand intro to Migration generator in Migrations Guide
`becomes` should clear the mutation tracker which is created in `after_initialize`
Added a lot of Oxford commas
Don't clear transaction state after manual rollback
[ci skip] fix typo in active_support_instrumentation.md guide
Document require_dependency [ci skip]
Add option to ActiveStorage::Blob to set extract_content_type_from_io
Remove unused `remove_file` method
Remove leftover requires
Skip `bootsnap` contents in `app:update` task if `bootsnap` is not used
Remove `test_match_p` since Rails 6 requires Ruby 2.4.1 or newer
restores original intention in constants guide, reworded [ci skip]
Active Record postgresql documentation for bit string types corrected
Address CI failure due to non-deterministic query result
prefer File.write for bulk writes
Clearer error message in assert_changes
Don't generate assets' initializer in `app:update` task if sprockets is skipped
Remove confusion in the sentence [ci skip]
Minor edits to the Active Storage guide
Assert correct response body
Use usual method definition instead of extracting args from array
Partly revert "Use https with weblog URI" [ci skip]
Add support for prefetch-src directive
Stream blobs from disk
Use https with weblog URI
Support streaming downloads from Google Cloud Storage
Remove unused `assert_like` from `Arel::Test`
Remove unnecessary require
More exercise `test_remove_named_index`
Make sure that when serialing an just deserialized job arguments are there
Allow a belonging to object to be created from a new record If a 'has one' object is created from a new record, an ActiveRecord::RecordNotSaved error is raised but this behavior was also applied to the reverse scenario.
`require "active_support/test_case"` is not supported since 53e877f7
Partly revert #32289 to provide Rails' custom fallback in case `DidYouMean::SpellChecker` is not defined. `did_you_mean` is bundled in Ruby but can be uninstalled, and is not always available, sometimes even on our CI:
Make `Arel::Test` subclass of `ActiveSupport::TestCase` not `Minitest::Test` to address `CustomCops/RefuteNot` and `CustomCops/AssertNot` offenses for Arel test cases
Add quotes to code in rdoc comment in ActionController [ci skip]
Reset CONTENT_LENGTH between test requests
Document rails new <app> storage folder
Remove reference to Tokaido
Avoid duplicating downloads from Google Cloud Storage in memory
Improve the performance of `ActiveSupport::Inflector.ordinal`
Stream blobs from disk in 5 MB chunks
Make Railties CI log for Ruby 2.6 accessible again
Swap assertion order for better reporting
We usually do not use GH#1234 style in the CHANGELOGs [ci skip]
Restore original merging order to enforce `if_exists: true`
[ci skip] update ActiveStorage documentation
Improve error message when assign wrong attributes to model
Don't allocate unnecessary array in translation helper
Adding precision about which letter case to use for controller names â€¦ (#32740)
Ensure that `ids_reader` respects dirty target whether target is loaded or not
`SetupAndTeardown` has few caveats that breaks libraries:
Update 'rails_welcome.png' to reflect a more diverse population (#32735)
Add test case that assigning belongs_to on destroyed object raises frozen error
Address `Style/StringLiterals` offence
Don't dup Strings when jsonifying
Don't try to destoy the given string via method argument
Reduce String allocations when building Action View tags
Reduce extra object creations in TaggedLogging
Loaded associations should not run a new query when size is called
assert_called_with
assert_called
assert_not_called
Move #extract_metadata_from to ActiveStorage's TestHelper
Simplify URL generation for partial downloads from GCS
Remove math module from count
Unminify activestorage.js
`get_value` needs to be a public method
Add a helper method to check that gem does not exist in `Gemfile`
Address `NameError: uninitialized constant Arel::Collectors::Bind` when tested with Ruby 2.5 or higher
Break up Journey's scanner test
Update schema.rb documentation [CI SKIP]
`columns` is cached in the statement
Use strict_encode64 instead of gsub newline for ScreenshotHelper
Flush tempfile after populating it
Save a hash allocation in MySQL statement pool
Don't swallow LoadError raised for missing libvips
Halve memory allocation in S3Service#download
Add CHANGELOG entry
Correct typos
Recommend using :resize_to_fit after all
Remove key from session by using session.delete (#31685)
Respect NODE_ENV when running `rails yarn:install`
Use Turbolinks in Rails guides
Replace :resize_to_fit with :resize in the guide
Remove warning that image will be loaded into memory
Show ImageProcessing macros in a dedicated example
Use the same tag as other views to display the error message
Ensure result file is deleted on uploading errors
Rename ActiveStorage.processor to .variant_processor
Refactor guides javascripts
Update results of command in Testing guides [ci skip]
Strip duplicated suffixes more strictly
Add test case to ChannelGeneratorTest
Using existing models for building multiple has_one through tests
Rubocop 0.54
`target` in `CollectionAssociation` is always an array
:scissors: jQuery for Rails Guides
Add test case for `collection.size` with dirty target
Relax assertions in connection config tests
Reset RAW_POST_DATA between test requests
Can preload associations through polymorphic associations
Don't include bootsnap by default in apps generated under JRuby
[ci skip] Prefix class name with Rails:: in docs
[ci skip] Improve #find_in documentation.
Create MissingExactTemplate exception with separate template
Allow `primary_key` argument to  `empty_insert_statement_value` to support Oracle database support identity data type
Introduce ActionDispatch::DebugExceptions interceptors
warning: ambiguous first argument; put parentheses or a space even after `/' operator
Make JS views rendered work with content security policy
Don't expose `Relation#preload_associations` in the doc
Use assert_no_match for test_order_to_unscope_reordering
Add missing changelog entry
Return back "/" to the end of RAILS_GEM_ROOT
Create a .ruby-version compatible with MRI/JRuby by default
Allow rubocop check more files
[ci skip] Restore of links in RDOC_MAIN after an update of the file (#32644)
[ci skip] Remove style of the word Rails at the top
[ci skip] Remove style of the word Rails at the top
[ci skip] Missing \ in RDOC_MAIN
[ci skip] update RDOC_MAIN
Navigate edgeguide from .github template [ci skip]
Add exculude condition in rubocop.yml
[ci skip] update RDOC_MAIN
Improve redundancy in line tasks
Update CoC to change a history of updates URL [ci skip]
Replace `assert !` with `assert_not`
Add RuboCop for `assert_not` over `assert !`
Make the master.key readable only by the owner
Redis cache store: avoid blocking the server in `#delete_matched`
Update README
Use ImageProcessing gem for ActiveStorage variants
Remove unused literal introduced in #32602
Don't link issue number in CHANGELOG [ci skip]
Pass nonce to CSP policy from outside
Update validates_inclusion_of example
Ruby 2.6 warning: passing splat keyword arguments as a single Hash
Add the `nonce: true` option for `javascript_include_tag` helper.
Correct docs on naming of sprockets manifest file
ActionController -> Action Controller [ci skip]
Output only one nonce in CSP header per request
Remove unused attr_writer :joinable on Transaction
Use string-based fields. [ci skip]
Add the reference to Rails Guides 5.2 from the Edge Guides
Update Rails minor version from 5.1 to 5.2 [ci skip]
Deprecate support for using `HOST` environment to specify server IP (#32540)
Updated name
Inclusive Language in Documentation Examples [ci skip]
2.6 warning: passing splat keyword arguments as a single Hash
Add missing `require "benchmark"`
guides/testing: Pluralize controller and helper class names. The Rails convention for controllers and helpers is plural, except where intentionally singular. Pluralize the controller and helper class names, to match convention.
[ci skip] belongs_to in self join association needs optional: true, if it's over 5.0 ver of rails
WIP
Missed a spot
Rename from Active Text to Action Text
Content has already been through a whitelist
Relieve the need for having to manually set a before_action in ApplicationController
Use rich_text instead of active_text
Try to please semver theory
couple of edits [ci skip]
Update security.md with latest underground market prices
fix spelling in docs for ActiveJob::Serializers::ObjectSerializer#deserialize
Add .keep exception for storage folder
Add `touch_all` method to `ActiveRecord::Relation`
Use `SecureRandom.random_bytes` instead of `SecureRandom.bytes`
Don't doc _original_sum_with_required_identity
Add WebSocket URI support to CSP DSL mappings
Remove lock from method model
Add failing test for compression bug
don't check for immutability when setting skip_preloading as it doesn't effect the arel and the arel may already be generated by fresh_when
Remove link for the kindle version of guides on edge
Use frozen string literal
Unlock dalli version
Specify which series I'm talking about
Update our security policy to include all releases in the current series
Allow use of minitest-rails gem with Rails test runner
Remove upper bound on Capybara
Always exclude JSON root from direct_uploads#create response
4.2 is still maintained
Add `TestCaseTest#test_request_format_kwarg_doesnt_mutate_params` to master
Update bug report templates
Correct Maintenance Policy for Rails 5.2
Don't create namespaced tasks if single db application
Add multidb application test
Allow schema/structure load for multiple databases
Improve the null origin error message
Prevent changes_to_save from mutating attributes
Avoid generating full changes hash on every save
Enable verbose option in ActiveStorage
rewords a bit RDOC_MAIN.rdoc [ci skip]
Only disable headless chrome gpu on Windows
rewords a bit README.md [ci skip]
Update URLs in RELEASING_RAILS.md [ci skip]
Upgrade Mocha from v1.3.0 to v1.5.0
Make Mocha setup explcitly Minitest-specific
Simplify declaration of mocha dependency in Gemfile
Remove RecordTagHelper
Partially revert 0bfdd1d
Upgrade capybara to 3.0.1 to make sure our tests are passing
Include default headers by default in API mode
Use a current model to provide the host for service urls
Protect all active storage controllers agains CSRF
Add Brewfile to make easier to install all dependencies we need to run tests
[ci skip] Add securing rails app guide link to credential section
Rename the class as there is already an existing class with that name
fixes a bug in IE11 that broke direct uploads
Add changelog entry for #32446
Remove redundant type check
`SetupAndTeardown#teardown` should call any subsequent after_teardown:
Use comment instead of desc in actionview's Rakefile
Add :ujs desc to Rakefile in actionview
[ci skip] Add :private option to delegation doc
Remove superfluous `ActionController::`
Optimize the code inside AR::QueryCache middleware
[ci skip] Add :private option to delegate section in guide
passing splat keyword arguments as a single Hash
Add #dig to ActionDispatch::Request::Session
Stop mutating body response
Autocorrect `refute` RuboCop violations
Add custom RuboCop for `assert_not` over `refute`
Class methods in the `class_methods` blocks are wrongly appeared in the doc
removes obsolete images in guides [ci skip]
remove obsolete author images
Add missing dots at the end of comments in environment file templates
Use `:default` option in order to set default value of `finalize_compiled_template_methods`
Cleanup credits related code as it is removed now in PR #32429
Display db:drop description in ActiveRecord
Remove credits.html from Rails Guides
Doc fix added missing quote
Small doc fixes
Add `action_view.finalize_compiled_template_methods` config option
[ci skip] Fully quantify Active Record module in changelog.
Add AR::Base.base_class? predicate
Not generate needless files in guides
Remove `ForeignKeys` module which was introduced at #32299
Use consistent spacing in actionview helper docs [ci skip]
Extract the confirm call in its own, overridable method in rails_ujs
Remove leftover blank sqlite3 file after in memory handler tests.
Improve css in guide
Move implementation of `before?` and `after?` to `DateAndTime::Calculations`
Remove needless images in guides
Put images into each page's dir in guides
Deriving `secret_key_base` breaks `key_generator` defined in 5.1.
Revert "[ci skip] Capitalize sentence of first char in AS guide"
[ci skip] Use Oxford comma style in guide
[ci skip] Capitalize sentence of first char in AS guide
Bump tested versions of Ruby on CI
[ci skip] Modify twitter api link in api guide
Add earlier releases links v3.0 and v3.1 in guides
Remove useless stylesheet file in guide
Deprecate controller level force_ssl
Remove shadowing variable warning
Remove expired explanation [ci skip]
Adding missing extension for `cattr_accessor` method
Deprecate accessibility of private/protected class methods in named scope
Short circuit the scoping delegation for `relation.all`
Remove unnecessary line break and quotes
Use current_config in structure_dump
Compare ruby version with correct way
Bump rack-test to 1.0.0
Bring back private class methods accessibility in named scope
 Flip the order of the after_create callbacks
Readability fix [ci skip]
Make engine check more explicit
Remove unused `serialize` method
Don't unset foreign key when preloading missing record
Make mutating params#dig mutate underlying params
Prevent deadlocks when waiting for connection from pool.
Gracefully handle extra "controller" when generating controller
Use `did_you_mean` spell checker for option suggestions
Only create an array with default options if we have default options
Run `bundle update` on bootsnap
Add custom prefix to ActiveRecord::Store accessors
Remove unused variable
Add deprecation note for SourceAnnotationExtractor
Make Annotation into a proper class
Move SourceAnnotationExtractor under Rails module
Ruby 2.6 will not require monkey patched `URI#unescape` since revision 62897 https://github.com/ruby/ruby/commit/234a30459cdae6aa7da6e28a1082d9c11f315696
Move fk_ignore_pattern from config.active_record to SchemaDumper
Use ASCII-8BIT paths in ActionDispatch::Static
Refactor configs_for and friends
Use try in tests that try to test try.
Add `QueryingMethodsDelegationTest` to cover query methods delegation
Add tests for new rake tasks
Update schema/structure dump tasks for multi db
Add ability to create/drop/migrate all dbs for a given env
Add create/drop/migrate db tasks for each database in the environment
Add DatabaseConfig Struct and associated methods
Update loofah to mitigate CVE-2018-8048
Cache url helpers module
Support mysql2 0.4.x and 0.5.x
Test config.active_record.fk_ignore_pattern
Document config.active_record.fk_ignore_pattern
Allow any version of dalli less them 2.7.7
Memoize the result of gsubbing @virtual_path
Interpolate '' instead of nil when multiple is false.
Remove support for Qu gem.
Add documentation about not accepting PRs for new adapters (#32298)
Expose foreign key name ignore pattern in configuration
Remove backported CHANGELOG entry [ci skip]
Allow full use of the AWS S3 SDK authentication options (#32270)
Pass HTML responses as plain-text in rails-ujs
Move CSP info from 5.2 release notes to guide [ci skip]
Change temporary file name extension while editing encrypted file.
Update Redis cache store docs
Add MySQL JSON reference to ActiveRecord::Store documentation
Switch dbconsole config loader check
:scissors:
Don't need to include in the changelog something that was release in 5.2
Check exclude before flagging cookies as secure in ActionDispatch::SSL (#32262)
Avoid dalli 2.7.7 for now
Don't marshal ActiveSupport::Cache::Entry objects twice
Add cancellation info to before filter docs
Update "Upgrading from Rails 5.1 to Rails 5.2" [ci skip]
Pass the skip_pipeline option in image_submit_tag
Partly revert #32231
Remove entry that was backported to Rails 5.1.3. [ci skip]
Raise an error when lockfile diff is generated
Rely on Rails::Command's help output.
Extract details to methods to clarify command.
Remove changelog header for unreleased version
Update "Ruby on Rails 5.2 Release Notes" Guide [ci skip]
Introduce `ActionDispatch::Routing::ConsoleFormatter::Base`
Improve docs of `ActionDispatch::Routing`
Restore full Travis config
Redis cache store: fix constructing with a Redis instance
Remove path option from AzureStorage config
Update ASt test services config
Perform email jobs in #assert_emails
Remove path config option from Azure service
[ci skip] Add missing do.
Add section to routing guide about config/routes.rb [ci skip]
Use PredicateBuilder for bind params in Batches
Ensure that leading date is stripped by quoted_time
Normalize date component when writing to time columns
Apply time column precision on assignment
Remove unnecessary `Hash.method_defined?(:dig)` checking
Do not show unnecessary message during server startup
update psych gem to 3.2 stable release
Update some i18n references in guides (#32182)
Change doc for "polymorphic_path" in polymorphic_routes.rb
Add `delegate :pick, to: :all`
Only apply monkey-patch if detected to be required
Always yield a CSP policy instance
Add the ability to disable the global CSP in a controller
Allow using inline style and script in the internal controllers
Quote string return values in doc examples [ci skip]
Add example of maintaining context with `route_for`
Add `before?` and `after?` methods to date and time classes
[ci skip] Hide internal docs from root AS module
URI.unescape handles mixed Unicode/escaped input
Express `ActionDispatch::Routing::UrlFor#route_for` as public api
Don't call changes in `changes_applied` unless required
Revert "PERF: Recover `changes_applied` performance (#31698)"
Provide an alternative PDF previewer based on Poppler
Update test to reflect GCS direct upload header change
Allow selectively purging attached blobs
Remove blank Content-Type from GCS direct upload headers
Only preload misses on multifetch cache
Update Gemfile.lock to reflect Capybara 3.x
update comment to reflect new supported patterns [ci skip]
Allow Capybara 3.x (#32151)
whitelist NULLS { FIRST | LAST } in order clauses
Delete dependent attachments with record
Update skip_after_callbacks_if_terminated documentation
Correct the ActiveStorage::Service#download_chunk docs [ci skip]
Generate root-relative paths in Active Storage disk service URL methods
`ActiveSupport::Inflector#ordinal` and `ActiveSupport::Inflector#ordinalize` now support translations through I18n.
Remove extra arg passed to `Rails::Command::RoutesTest#run_routes_command`
Draw line of a route name to the end of row console on `rails routes --expanded`
Deprecate safe_level of `ERB.new` in Ruby 2.6
Introduce `_update_row` to decouple optimistic locking concern from `Persistence` module
Introduce `_delete_record` and use it for deleting a record
Prefer `_update_record` than `update_all` for updating a record
Refactor `_substitute_values` to be passed attribute names and values
`id_in_database` should be respected as primary key value for persisted records
Handle another case where a blob might be erroneously purged
Avoid purging attached blob when replacing it with itself
Extract Rails::Command::Spellchecker
Introduce explicit rails server handler option
`id_in_database` do not return nil value for persisted record
Eager loading with polymorphic associations should behave consistently
Extract all `base_class.name` as `polymorphic_name`
Deprecate "active_support/core_ext/numeric/inquiry"
Deprecate `active_support/core_ext/hash/compact`
Remove unnecessary `respond_to?(:report_on_exception)` checking
Ruby 2.4: take advantage of String#unpack1
PostgreSQL adapter also supports bulk alter since #31331 [ci skip]
Remove staled comment for `JoinDependency#initialize`
Don't expose `verbose?` helper method
Use `delegate private: true` for `SchemaCreation`
`ConsoleFormatter` is no longer used as a class
Remove index:true option from belongs to as defaults to true.
Clean up `RoutesTest` a bit
Add ActiveStorage::Service::DiskService#url_for_direct_upload test
Add --expanded option to "rails routes"
Rebuild activestorage.js
Handle file checksumming errors
Remove CHANGELOG entries which were backported to 5-2-stable
Alias `assign_attributes` to `attributes=` for `AttributeAssignment`
Don't include unused `ActiveSupport::Concern`
Add separate test to ensure that `delegate` with `:private` option returns correct value
Use `with_partial_writes` helper in `activerecord/test/cases/dirty_test.rb`
Let select render default selected option for required field
Don't enforce UTF-8 by default
Move rake routes task to rails command
Uses the absolute path for system test screenshots
add :nodoc: to ActionView::Helpers::FormBuilder#emitted_hidden_id?
[ci skip]Change requring order of files in doc
Change translation key of submit_tag from module_name_class_name to module_name/class_name
Remove extra changelog added by #31944
Clear Blob's type before sending it
add private: true option for ActiveSupport delegate
Update test to reflect direct upload header changes
Partly revert 91b30a001b79096b60d9424a4664a417dce0b767
Ensure we don't write virtual attributes on update, too
Never attempt to write virtual attributes to the database
Avoid specifying content types for direct uploads to Google Cloud Storage
Correct `to` option's value of the route in the Bound Parameters section in routing guide.
Distinct with order #count regression
Remove changelogs for Rails 6.0 since they were backported to `5-2-stable`
Active Model: Use private attr_reader
Association creation and finding should work consistently (#32048)
Remove native `Array#sum` and `Enumerable#sum` detection (#32102)
Use lazy load hook to configure ActiveStorage::Blob
Support for automatic nonce generation was backported to 5.2
No need to define methods on descendants.
Support varying ICO files
[ci skip] Spell out the full variable in generated code.
Arel: :nodoc: all
Arel: rubocop -a
Correctly set `content_security_policy_nonce_generator`
Improve generated file `app/assets/javascripts/application.js` of plugin
Caching: MemCache and Redis stores use local cache for multi-reads
Correct ActiveSupport::Deprecation::Behavior#behavior= documentation
More exercise range predicate builder
PostgreSQL: Allow BC dates like datetime consistently
PostgreSQL: Treat infinite values in date like datetime consistently
Use private attr_reader
Use `rubocop-0-52` channel Since https://github.com/rails/rails/pull/32091 expects RuboCop 0.52.1
Update rubocop to the latest version
Improve generated file `app/views/application.html.erb` of plugin
Comment `require "active_storage/engine"` in `bin/rails` of plugin if `--skip-active-storage`
Remove passing extra arguments to ActiveJob Callbacks
Revert "Reject empty database yamls"
Add support for timezones to Active Job
Properly escape column name embedded into regexp
Reject empty database yamls
Add cop for preferring 'Foo.method' over 'Foo::method'
We should call methods with `.method_name` not `::method_name`. Found several instances.
Do not add routes when actions are not specified
Call `YAML.load` correctly
Delete default configuration
Update to sinatra 2.0.1
Add note to Active Storage guide about S3 permissions [ci skip]
Allow S3 tests against buckets in other regions
CI with `jruby-head` compatible with Ruby 2.4.1
Hoist update for clarity
Undocument ActiveStorage::Identification
Correct Range header syntax
Expand AR::Base.abstract_class documentation
Ensure that `mini_magick` is absent after `rails new` with `--skip-active-storage`
Remove `AS::Multibyte`'s unicode table
Add support for automatic nonce generation for Rails UJS
Avoid method_redefined warnings in  RouteSet::NamedRouteCollection
Remove trailing semi-colon from CSP
Don't accidentally create an empty CSP
Return all mappings for a timezone id in `country_zones`
rubocop single space after assignment
Use the query cache when connection is already connected
Add stimulus to list of supported options for --webpack
Don't generate empty app/views folder when --api and --skip-action-mailer are used together
Clean up reporter replacement a bit.
Do not attempt to automatically find the inverse of a polymorphic `belongs_to` association
Make `reflection.klass` raise if `polymorphic?` not to be misused
Add a CHANGELOG entry for #31941 [ci skip]
Skip generating empty CSP header when no policy is configured
Association scope's own order should be prioritized over through scope's order
Revert "Delegate `uniq` to `records`"
Travis: fix that major.minor version doesn't track latest major.minor.tiny
String#truncate_bytes: limit to N bytes without breaking multibyte chars
`String#strip_heredoc` preserves frozenness
Update bug report templates
Document :reconnect_attempts option for Redis Cache Store [ci skip]
Rails 6 requires Ruby 2.4.1+
Remove require Object#blank? monkey patch
Clean up and consolidate .gitignores
Deprecate update_attributes and update_attributes!
Partly revert 1e526788e6b1d3f42f4d8fdca20e588d42838c80
Remove extra conditions in HWIDA since Rails 6 does not support Ruby 2.2
Multipart file uploads are very rare in API only apps so don't include Rack::TemfileReaper in default middleware stack for API only apps
Rails 6 requires Ruby 2.3+
Add argument serializer `TimeWithZoneSerializer`
Add chop removed in 89bcca5
Define transform_keys! in HashWithIndifferentAccess
Remove needless requiring 'active_support/core_ext/string/strip'
Remove needless print
Remove usage of strip_heredoc in the framework in favor of <<~
Write the code in a more natural way.
Remove support to Ruby 2.2
PERF: reduce retained objects in Journey
Add test parallelization to Rails
correct the dedup code
ActiveStorage file cleanup in Integration Tests
Bump mysql2 version
Add SuppressedSummaryReporter and TestUnitReporter only if necessary
PERF: symbolize ivar, to reduce dupes
Missing backquote, extra end keyword [ci skip]
PERF: dedupe scanned route fragments
Add #create_or_find_by to lean on unique constraints (#31989)
Use require_dependency inside Active Storage
Missed a spot
Add basic install guide
Remove unused model
Isolated engines don't expose their helpers, so no
Extract AttachmentUpload
Move hard coded URLs to computed data attributes
Add CHANGELOG entry
Add tests to serialize and deserialze individually
Simplify the implementation of custom argument serializers
Improve documentation on custom serializers
Add configuration to set custom serializers
No need to require a autoloaded constant
Add serializers for Time, Date and DateTime
Allow serializers to be used either as classes or objects
Add symbol and duration serializers
Only add one more custom key in the serialized hash
Define the interface of a Serializer
Remove unnecessary qualified constant lookups
Simplify the implementation of custom serialziers
Remove non-default serializers
Introduce serializers to ActiveJob
Rdoc formatting fix: <b> instead of MD-style asterisks
Don't force people to upgrade i18n gem
Create ASt::Attachment records for ASt::Blobs in content
Dummy: Use Trix styles
Dummy: Add mini_magick for variants
Dummy: Set ActiveText renderer for current request
Make renderer configurable
Build out basic blob template to match the editor's
Update Gemfile.lock
Bump i18n to 1.0
Delegate Content#html_safe to #to_s
Preserve the outer attachment element and fix editing
Initial Attachment rendering support
Document MuPDF version requirement
Don't overwrite config/master.key even on --force
Add sgid support
Do not update `load_defaults` version when running `app:update` (#31951)
Add initial ActiveStorage integration
Doc: fixes typo `cache:` -> `compress:`
Change structure of AS core extensions [ci skip]
Add test to make sure pick works in a NullRelation
Add ActiveStorage::Blob.unattached scope
Use full class names when including concerns to avoid collisions
Pull activetext.js into dummy app with webpacker
Extract BC3's rich_text_field helper
Remove parentheses [ci skip]
Add missing require
Respect --force option for config/master.key
has_(one/many)_attached presence validation
Unused core_ext
Improve wording in getting started guide
Remove warning from 4 years ago [ci skip]
Make sure assert_recognizes can still find routes mounted after engines
Add Relation#pick as short-hand for single-value plucks (#31941)
Use heredoc with credentials template
Tests: Add Message scaffolding
Document :combine_options
Add initial ActiveRecord extension: `active_text_attribute`
Add dummy app
Add docs on how to configure Active Storage
Add missing require
Do not add master key when `RAILS_MASTER_KEY` env specified (#31922)
Initial import from BC3 RichText
Add ActiveModel::Attributes#attributes
Remove password anecdotes from guides [ci skip]
Initial commit
Bump `minitest-server`
Revert "âœ‚ï¸"
âœ‚ï¸
Update em-socksify to the latest version
Define callbacks on descendants.
Refer to a stable release of SDoc
Include source code in published activestorage npm package
Invoke `load_schema` in `_default_attributes`
Use Redis#mget for RedisCacheStore#fetch_multi
Add missing instrumentation to RedisCacheStore#read_multi
Don't output information on drop if not verbose
Add ability to turn off verbose for database tasks
Redis cache store: consolidate serialization
RedisCacheStore: fix `#write_multi` mset serialization
Remove label 'work in progress' for AM and AV guides
Remove code that is no longer effective
Make test runner work with AR test tool
Prefer `@connection.abandon_results!` than `@connection.next_result while @connection.more_results?`
Update rails-ujs readme
Add nodoc to `migrations_paths` and `migration_context` in `AbstractAdapter`
Correct capitalization of "Rails" in the guide text.
Add nodoc to `CredentialsGenerator` and `MasterKeyGenerator` [ci skip]
Removed "private" generators from command list.
Update documentation [ci skip]
Avoid bundle clean before caching
PERF: Recover marshaling dump/load performance (#31827)
Add support for connection pooling on RedisCacheStore
Allow `ActiveStorage::Blob#service_url` to pass addition options to `service.url`.
Add changelog entry for #31844
Use the full class name for the JSON coder, as there may be another `JSON` constant defined.
Update to latest rubies (2.2.9, 2.3.8 and 2.4.3) on Travis CI.
Correct orientation detection
Consistent behavior for session and cookies with to_h and to_hash method
Swap encoded image width and height if angle is 90 or 270 degrees
Update default deprecation horizon
Start Rails 6.0 development!!!
Add Rack::TempfileReaper to tests and docs
Add Rack::TempfileReaper to the default middleware stack
Disable CSP by default
Add ContentSecurityPolicy to list of middleware
Remove unused `require "active_record/tasks/database_tasks"`
Don't expose `attributes_with_uninitialized_key` utility method
Allow @ in X-Request-Id header
Update rails-ujs readme
ActionController::TestCase: fix #post documentation [ci skip]
Deprecate `expand_hash_conditions_for_aggregates`
Avoid extra calls to to_s
Suppress expected exceptions by `report_on_exception` = `false`
Extract `discard_remaining_results` for mysql2 adapter
Remove unused/missing `to_money` converter in the test/doc
Add a test for ActiveStorage::Blob#image? and ActiveStorage::Blob#video?
Remove joke in security guide [ci skip]
Allow expanding an array of `composed_of` objects
Remove out-of-date references to jQuery
Dump correctly index nulls order for postgresql
Define `supports_foreign_tables?` in AbstractAdapter
Update `action_dispatch.default_headers` default value [ci skip]
Update `google-cloud-storage` gem version [ci skip]
Eliminate ActiveStorage::Service::MirrorServiceTest#upload
Relax minitest version
Unlink internal tempfiles after use
Remove duplicates after autoloading modules
Add failing test for infinite loop when unloading autoloaded modules when an error occured during the load.
Remove extra whitespace
Use assert_empty and assert_not_empty
Use assert_predicate and assert_not_predicate
Change refute to assert_not
Use respond_to test helpers
Bring back ability to insert zero value on primary key for fixtures (#31795)
Lock Minitest 5.11.1 To workaround `undefined method `error?' for` reported at https://travis-ci.org/rails/rails/jobs/333456146
Update note on MySQL index order support [ci skip]
Add test case for deprecated `insert_fixtures`
Remove unused `test/fixtures/teapots.yml`
Remove internal `typecasted_attribute_value` method
Expand AR to Active Record [ci skip]
Clear the transaction state when AR object is duped
Only run isolated tests on the latest stable ruby: that's now 2.5
Skip test that use fork in the memory store db
Avoid passing unnecessary arguments to relation
Make discard safe when it follows a manual disconnect
Use concat to join procs arrays in bulk_change_table
tweaks for #31704 [ci skip]
Clarification for noobs. (#31704)
Allow attributes with a proc default to be marshalled
Allow a 2 bytes margin:
Disable verbose_query_logs in Rails Console
yarnpkg: correct exec syntax
Improve fault tolerance for redis cache store
Add missing require
remove text repetition
Update guide text not to contradict image
Support for PostgreSQL foreign tables
Add support for connection pooling on RedisCacheStore
Combine delete and insert statements in the same query
Build a multi-statement query when inserting fixtures:
Ignores a default subclass when `becomes(Parent)`
Remove code duplication for `ActionController::Metal.action`
Pass desired driver to Redis client constructor rather than munging global config
Use singular define_attribute_method
PERF: Recover `changes_applied` performance (#31698)
Clarify autoload_paths and eager_load in guides per current usage. [CI SKIP]
bin/yarn: Pass through arguments with spaces
Cope with videos with undefined display aspect ratios
More exercise `ActiveModel::Dirty` tests
Use helper method
Preserve display aspect ratio for videos with rectangular samples
Remove unused `connection` argument from `MigrationContext#current_version`
Remove unused `migration_context` in `DatabaseTasks`
Restore `test_migrations_status_with_schema_define_in_subdirectories`
Update Gemfile.lock to reflect websocket-driver 0.7.0
Testing actioncable against websocket-driver 0.7.0 (#30711)
Add locale selector to email preview (#31596)
Support hash as first argument in `assert_difference`. (#31600)
Support for connection pooling on mem cache store
Add test to properly test down with a block
Use selected_migrations if block_given?
Refactor migration to move migrations paths to connection
Rephrase note about Capistrano in Asset Pipeline Guide
Clarify language in Asset Pipeline Guide
Enable autocorrect for `Lint/EndAlignment` cop
Allow `false` for `config.generators.system_tests=`
Added a test around `NO_AUTO_VALUE_ON_ZERO`:
Update "Layouts and Rendering in Rails" guide [ci skip]
Clarify language in Asset Pipeline Guide
Convert keys to binary in the Redis cache store
Test against the pure-Ruby Redis driver
Provide a sensible default host
Update default HSTS max-age value to 1 year
Move browser checking to its own class
Extract content types from blob data
Don't update counter cache when through record was not destroyed
Don't allow destroyed object mutation after `save` or `save!` is called
`create_database` should not add default charset when `collation` is given
Change test case name to FormatValidationTest
Don't need to pass `manager` to `convert_join_strings_to_ast`
Don't pass garbage args to alias tracker
`deep_dup` is used in `AttributeSet#deep_dup`
Use unsafe_inline as the default for script_src CSP until we get a nonce alternative
Add note about having to restart when modifying initializer
Use complete variable names rather than single-letter abbreviations for style
Use my fork instead of an thrid-party fork
Instrument image transformation
Instrument preview image drawing
Remove the deprecated `:conditions` option in `INVALID_AUTOMATIC_INVERSE_OPTIONS`
PostgreSQL: Update Gemfile to pg-1.0.0
PostgreSQL: Allow pg-1.0 gem to be used with ActiveRecord
Use `apply_join_dependency` instead of meaningless named `find_with_associations`
Make `relation.exists?` more performant when using eager loading
Update error names in docs [ci skip]
Add missing `# frozen_string_literal: true`
Correct comment [ci skip]
Extract Analyzable and Representable concerns
[ci skip] setting :inverse_of works with :as, :through and :polymorphic options, and is needed for bi-directionality with a scope
Clean up railties tests
Bring back passing single record support for `Preloader`
resolve inconsistencies between first and to_a.first with limit
Change Active Storage destroy callbacks
Work on a dup'ed options hash
Add 'Referrer-Policy' header to default headers set
Rebuild activestorage.js
Use SHA-1 for non-sensitive digests by default
Allow overriding filename in `Blob#service_url`
Remove meaningless check
BigDecimal.new is deprecated in Ruby 2.5
require 'date' to address for Ruby 2.5
Allow use_authenticated_message_encryption to be set in new_framework_defaults_5_2.rb
Added deprecation and removal notes for Action View [ci skip]
Added deprecations and removals notes for Action Pack [ci skip]
Added release notes for Action Cable [ci skip]
Improve the deprecation message for using subclass of Rails::Application to start the Rails server
Document automatic width-height swapping [ci skip]
Remove redundant sentences [ci skip]
Simply use `scope.delete_all` instead of constructing delete manager
Tweak engine for readability
Make `find_nth_from_last` more performant when using reversible order
Revert commit 4ec5b0d6b4d8a57e034b1014942356e95caf47aa in favor of #28379
Use the latest RubyGems 2.7.4 or higher
CI with Ruby 2.5.0
Force content disposition to attachment for specific content types
fixes #27157 CSRF protection documentation
Consolidate `queue_adapter=` and `interpret_adapter`
Add missing require for `strip_heredoc`
Remove passing argument to singular and collection association readers
Move the options for deliver_later up near to the example [ci skip]
Partial revert the changing default value of `readonly_value`
Deprecate `valid_alter_table_type?` in sqlite3 adapter
Configure previewer/analyzer command paths centrally
Correctly handle infinity value in PostgreSQL range type
Move `config.action_view.cache_template_loading` to proper section in configuring.md [ci skip]
Need to use `klass` to get the class name of the test result
Correctly get source location
Use `Minitest::Result` for retain test result
Exclude ActiveStorage::SetBlob from API docs [ci skip]
Bump Minitest to 5.11.1
Remove undefined `track_deletion` callback [ci skip]
Restore support for the -layers transformation
Avoid Minitest 5.11.0 for now
Allow type_for_attribute(:symbol)
Revert unintentional change in 41e3bbd
Improve `preventDefault` fix for rails-ujs
Active Record: Bump license years for 2018 [ci skip]
Refactor to `Array(options[:on])` only once in defining validations
Add test case for `collection_singular_ids` with symbol primary keys
Remove `association_primary_key_type` from `AssociationReflection` and `ThroughReflection`
Added Railties deprecations in 5.2 release notes [ci skip]
Refactor delegating `join_primary_key` instead of `join_keys` and `association_primary_key` in `TableMetadata`
Expose ActiveStorage::Analyzer#logger in API docs [ci skip]
Expose ActiveStorage::Previewer#logger in API docs [ci skip]
Suppress noise from drawing command invocations
Append extension to tempfile name
Bump license years for 2018
Clarify that config.eager_load controls eager loading [ci skip]
Remove needless blank lines [ci skip]
Tweak headings [ci skip]
Use released `delayed_job` instead of master version
Use more realistic setup rather than stubbing
let drb make temprary server
add instrumentation for read_multi
Demonstrate providing keyfile data in lieu of a path [ci skip]
Link to the client gems [ci skip]
Remove unused methods
Remove Unused `require`
Reduce `Reduce`
Allow the use of callable objects as group methods for grouped selects.
Added a note about bootsnap in the Rails 5.2 upgrade guide [ci skip]
Bugfix foreign key replacement in inverse association
CI against ruby 2.5.0
Update "Action View Overview" guide [ci skip]
SQLite: Add more test cases for adding primary key
Make `sql_type` of primary key in SQLite to comparable with an integer (#28008)
Prevent to install gems when run test (#31564)
prevent shadowing outer variables
Don't pass `object_id` to `refute_nil` since `object_id` never to be nil
To use rubygems-2.7.4 on Travis CI
Ensure to use repo's Gemfile in application
Move `test_skip_bundle` to `AppGeneratorTest`
Use `delayed_job` master
[docs] Add mention of removal of HWIA interface from `AC:Parameters` [ci skip]
Test that cache stores build unversioned keys
Revert "Remove code duplication in ActiveSupport::Cache"
Add support for combined MiniMagick transformations
Add test case for using sanitize method in the scope definition
Revert "Specify bundler version in template files"
Relax bundler version on Travis CI
save attributes changed by callbacks after update_attribute
Temporary disabled using rubygems 2.7.
Add cloud service's links to README of Active Storage [ci skip]
Pass options to rails_blob_url
[ci skip] Remove needless  from doc for ActiveStorage::Variant
Help if Active Storage tables are missing
Removes OS specific directory separator
Handle `FrozenError` if it is available
Add test case that configure `config.active_support.hash_digest_class`
Remove passing needless empty string `options` in `create_table`
Place args normalization from `left_outer_joins` to `left_outer_joins!`
Remove verbose_query_logs from new_framework_defaults_5_2.rb
Remove outdated comments [ci skip]
Quote primary key in the subselect generated by mysql2 adapter
Using subselect for `delete_all` with `limit` or `offset`
Using subselect generated by the connection adapter for `update_all` with `offset`
assert_nothing_raised not required here, we can assert directly for the actual result
[ci skip] Added Object Relational Mapping wiki link
Delete MiniMagick tempfile when transformation fails
Implicitly skip bootsnap for `rails new --dev`
Ensure MiniMagick tempfiles are properly unlinked after image transformation
Update new_framework_defaults_5_2.rb.tt
Add headless browser support in api docs [ci skip]
Convert non-web image (e.g. PSD) variants to PNG
Raise an error only when `require_master_key` is specified
Using table name qualified column names unless having SELECT list explicitly
emphasize working on existing issues/patches for newcomers [ci skip]
Minor cleanup of CHANGELOG of PR #30850 [ci skip]
Added reference to default value of `allow_other_host` [ci skip]
Add changelog entry for e1ceb10
Undefine attribute methods on all descendants when resetting column info
Add failing test
Don't include ellipsis in truncated digest output
Update ActiveStorage::Blob#transformation docs [ci skip]
Add test case that active_storage:install task works within engine
Add `skip_bootsnap` option
Explicitly require `sidekiq/cli`
Handle invalid signed blob IDs gracefully
[ci skip] Use :amazon, not :s3, to reflect code
Clarify docs for delegate :allow_nil option
Restrict variants to variable image blobs
Modify test to correctly pass attributes hash
Remove needless `change_table`
Sync header title with file name [ci skip]
[ci skip] Inherit ActiveRecord::Base in example codes
Don't run rails active_storage:install in new apps
[ci skip] Add missing **DO NOT READ THIS FILE ON GITHUB, GUIDES ARE PUBLISHED ON http://guides.rubyonrails.org.**
[ci skip] update link
[ci skip] Update guide index for active storage
Clear dirty `schema_cache` after `dump_schema_cache`
Tweak whitespace
Formatting updates
Generate tmpname on its own
Suppress `warning: BigDecimal.new is deprecated`
Update "Active Record Associations" guide [ci skip]
Suppress expected exceptions by `report_on_exception` = `false`
Suppress `warning: BigDecimal.new is deprecated` in Active Model
Address `warning: instance variable @hash_digest_class not initialized`
Update nokogiri version on Gemfile
Enable `Layout/LeadingCommentSpace` to not allow cosmetic changes in the future
Provide instant feedback when booting Rails
Log call site for all queries
Use released `resque-scheduler` instead of master version
Suppress `warning: BigDecimal.new is deprecated` in activerecord
Preserve original method visibility when deprecating a method
[ci skip] Add a space to comment in SidekiqAdapter
Expose Active Storage routes
Suppress expected exceptions by `report_on_exception` = `false` in Ruby 2.5
Exclude ActiveStorage::Filename{#parameters,::Parameters} from API docs [ci skip]
Invoke app-prefixed active storage task when in engine
Empty duration inspect fix
Optimizing information_schema query for `foreign_keys`
Update 'Configuring Rails Applications' guide
Convert protected_environments to an array of strings
Make `sanitize_sql_` methods public
Introduced `ActiveSupport::Digest` that allows to specify hash function implementation and defaults to `Digest::MD5`.
Revert "only install ffmpeg and mupdf on activestorage builds"
Remove stale comment about `ActiveRecord::SchemaDumper.ignore_tables` [skip ci]
Enable `Layout/SpaceBeforeComma` rubocop rule, and fixed more
Prevent race condition when resetting time stubs
[ci skip] Update routing guide for Direct
Revert "Invoke mogrify once when transforming an image"
Quote colum_names when building select:
`create_fixtures` doesn't work since at least a94220b66c9e4890007f66b092b25f8a64a19d31:
[ci skip] Update instrumentation guide for ActiveStorage
Invoke mogrify once when transforming an image
Return `nil` instead of `false` if raise `Azure::Core::Http::HTTPError`
Remove default ENGINE documentation for MySQL and MariaDB
Remove default ENGINE=InnoDB for Mysql2 adapter
Update validates.rb
`webpack` is assigned but never used in webpack.config.js
Reset schema cache after test
Change the system tests to set Puma as default server only when the user haven't specified manually another server.
Add secure `X-Download-Options` and `X-Permitted-Cross-Domain-Policies` to default headers set.
Set the Rails environment from an environment variable
Apply edits and suggestions
Revert "remove unnecessary `RAILS_ENV` setting"
CI against JRuby 9.1.15.0
Add failing test for wrong database connection
Swap raw video width and height if angle is 90 or 270 degrees
Add headless firefox driver to System Tests
[ci skip] Make Todo classes inherit ApplicationRecord
docs: add example for a nil name in link_to
Correct routing test spelling mistake.
Address `ActiveRecord::NotNullViolation: OCIError: ORA-01400` for Oracle database which requires primary key value mentioned in insert statement explicitly.
Yield array from AC::Parameters#each for block with one arg
Add bulk alter support for PostgreSQL
Add `assert_in_epsilon` to Testing guide [ci skip]
Use `:string` instead of `:text` for `JsonAttributeTest`
Execute `JsonAttributeTest` only if `supports_json?` returns `true`
only install ffmpeg and mupdf on activestorage builds
Explicitly mentions the #and operator
Delete is not a NodeExpression, change parent
Introduce NodeExpression as parent of scalar nodes
Add more tests for the `--webpack` option
Modify `test_webpack_option`
Add missing require
Incorporate latest round of feedback
Example of mobile configuration for system test in guide [ci skip]
Add tests for the `--webpack` option
`current_version` should catch `NoDatabaseError` from `get_all_versions`
Update "Active Record Query Interface" guide [ci skip]
Embrace the instantiation in loving parens <3
add test case to relation select
SQLite3 valid integer value should be 8 bytes (64-bit signed integer) (#28379)
Emulate JSON types for SQLite3 adapter (#29664)
`change_column_default` should be executed after type changing
Purge variants with their blobs
Make `Migrator.current_version` work without a current database
Extract duplicated index column options normalization as `options_for_index_columns`
Refactor `length`, `order`, and `opclass` index options dumping
[ci skip] Add a missing space before closing curly braces
Extract sql fragment generators for alter table from PostgreSQL adapter
Make ASt previewer/analyzer binary paths configurable
Add support for invalid foreign keys in Postgres
Remove unpaired `}` [ci skip]
Tweaks CHANGELOGs [ci skip]
Remove unnecessary scoping
Class level `update` and `destroy` checks all the records exist before making changes (#31306)
Add ActiveStorage::Previewer#logger to match ActiveStorage::Analyzer#logger
Maintain raising `RecordNotFound` for class level `update` and` destroy`
Add changelog entry for 9d6e28
Change info to note
Adds Javan's event example
First pass on incoporating George's feedback
Move system test dependencies to test group
[ci skip] Updated links for uncorn which redirect & added https for nginx link
Add support for PostgreSQL operator classes to add_index
Cosmetic changes [ci skip]
Keep current Code Climate behavior before upgrade
Do not overwrite by default if credentials already exists
Add :nodoc: to `StatementPool` which is internal used [ci skip]
Build the root folder before specific files
Make screenshots default to "simple" format
Mention about Ruby 2.4 Unicode case mappings in `mb_chars` example [ci skip] (#31275)
Restore mpeg mime type, delete less common mime types
Register "audio/mp4" mime type with :m4a symbol
[ci skip] Correct output for Upcase
Use `credentials` instead of `keyfile` in GCS sevice
Update send_file headers test to use mp4 as example instead of mpg
Register most popular audio/video/font mime types supported by modern browsers
Add preload_link_tag helper.
Formatting fix for example code
Refactor Date/Time next_occurring and prev_occurring
Make sure the request exist befoe trying to send early hints
Preparing for 5.2.0.beta2 release
Prevent scope named same as a ActiveRecord::Relation instance method. Due to inconsistent behavior when chaining scopes and one scope named after a Relation method
[ci skip] Update MVC wiki link
Update docs `ActiveRecord::FinderMethods#find`
Use same version constraint in mysql adapter and generated application
Update cookie_store_test to use encrypted cookies
Include migration files in gem
Change how `AttributeSet::Builder` receives its defaults
Drop mysql2 version less than 0.4.3 to guarantee fork safety (#31244)
Add releases notes to the guides index
Preparing for 5.2.0.beta1 release
Update Rails on Rack guide [ci skip]
Update yarn lock
Make form_with_generates_ids default value to be false
Drop the before_fork/on_worker_boot advice
Remove Content-Security-Policy initializer in API-only Applications
Update the middleware list with CSP [ci skip]
Added CSP as major feature [ci skip]
Added first draft of Rails 5.2 release notes [ci skip]
Added missing test for presence of CSP initializer
Add CHANGELOG.md entry for #31162 [ci skip]
Enable `Style/DefWithParentheses` rubocop rule
Add DSL for configuring Content-Security-Policy header
Use Puma 3.11 in newly generated applications
Inverse instance should not be reloaded during autosave if called in validation
Add new error class `QueryCanceled` which will be raised when canceling statement due to user request (#31235)
Rename `TransactionTimeout` to more descriptive `LockWaitTimeout` (#31223)
Remove DB naming ambiguity
Revert "Remove stopgap_13632 entirely for now: it doesn't support 2.2.8"
fix comma splice [ci skip]
verb tense correction [ci skip]
gendered wording not necessary; changed to neutral [ci skip]
Let rubygems handle our objection to mysql2 0.4.3
Flush idle database connections
Remove field ids from scaffold form
Remove duplicated `form_with_generates_remote_forms` setting
fix(streaming_template_renderer): I18n.locale broken in layout. I18n gem stores the current locale in Thread.current[:local] (see: https://github.com/svenfuchs/i18n/blob/master/lib/i18n.rb#L23). StreamingTemplateRenderer is implemented with Fiber which have its own stack of locals and can not access Thread.current.locals(keys, see: https://ruby-doc.org/core-2.2.0/Thread.html#class-Thread-label-Fiber-local+vs.+Thread-local).
Renove duplicated and wrong test
Add test to make sure form_for is not affected by form_with_generates_ids
Make sure that form_with_generates_ids only affects form_with
Use parentheses for multi-line method calls
Provide arguments to RecordNotFound
Make form_with_generates_ids default in Rails 5.2
Change `form_with` to generates ids by default
Compare the actual string after comparing the HMAC proccessed strings
Update guide layout [ci skip]
[ci skip] SecureRandom should mentioned Win32 CryptoAPI functions insâ€¦ (#31225)
Update documentation to lead with ajax param `event.detail`
[ci skip] Rails Associations examples contains ActiveRecord::Base reference instead of ApplicationRecord in images
Rubocop style
Improve DelayedJob wrapper logging
Correct render method's response header's content type for option(:body) from text/html to text/plain. (#31212)
Avoid connecting to GCS during app boot
Update incorrect backtick usage in RDoc to teletype
Make ActiveSupport::TimeZone.all independent of previous lookups (#31176)
Update Action Cable Overview Guide [ci skip]
Removes note
Corrects Active Job spelling
Updates add multiple attachments example
No difference between JRuby and CRuby at test_read_attributes_before_type_cast_on_a_boolean
Raise an error if advisory lock in migrator was not released.
Update `rack-test` to 0.8.
Remove unused `em-hiredis`
Adds tools caveat for generating previews
Remove mention of filename from download
Updates direct download discussion
Adds download link helper explanation
Provide attachment writers
MemCacheStore: Support expiring counters
Load 5.2 defaults in ASt dummy app
Pass over Execution guide[ci skip]
Permit attaching files to new records
Prevent extra `spawn` to make `klass.all` faster (#29009)
Generate `keys` instead of `keys_to_names`
Proofreading
Integrates George's suggestions
[ci skip] Added example for using headless_chrome with ActionDispatch::SystemTestCase
Deprecate an `after_bundle` callback in Rails plugin templates
Improve AR connection fork safety
Add support for multiple encodings in String.blank? Motivation:   - When strings are encoded with `.encode("UTF-16LE")` `.blank?` throws   an `Encoding::CompatibilityError` exception.   - We tested multiple implementation to see what the fastest   implementation was, rescueing the execption seems to be the fastest   option we could find.
Adds testing section
Adds more explanation to points and add setup section
Move back to resque-scheduler mainline now that https://github.com/resque/resque-scheduler/pull/620 is merged
Avoid creating extra `relation` and `build_arel` in `_create_record` and `_update_record` (#29999)
Add more detail on how the framework is actually configured by default
Start on a guide for the Executor & Load Interlock
Add master key to `gitignore` on `rails new`
Bump resque-scheduler ahead of a new gem release
Pass options onto key file generator.
Add CLI to manage encrypted files/configs.
Go through a single credentials instance.
Allow test_ignored_columns_not_included_in_SELECT column names case insensitive
Handle `TZInfo::AmbiguousTime` errors
These strings should already be frozen where ruby accepts the magic-comment
Use released arel
Update configuring.md
Use released sass-rails
Use released arel
Add a #populate method to migrations (#31082)
Prepare for 9.0.0
CI against JRuby 9.1.14.0
Introduce ActiveStorage::Attached::{One,Many}#detach
Update `exists?` documentation
Update layouts_and_rendering.md [ci skip]
Ensure plugin_generator adds to new line in Gemfile
Cache: Enable compression by default for values > 1kB.
Add `environment` as dependency of `load_config` (#31135)
Built-in Redis cache store
Sort mailer previews
Preserve existing metadata when analyzing a blob
Properly cast input in `update_all`
Use .tt extension to all the template files
`assert_changes` should always assert some change
Change tests to use models which don't ignore any columns
Do not use `Arel.star` when `ignored_columns`
fix bug on added? method
Make sidekiq and resque integration tests work in CI
Return a non zero code when can not connect to redis in CI
Add new error class `StatementTimeout` which will be raised when statement timeout exceeded (#31129)
Move touch method from Skipping Callbacks section to Running Callbacks section [ci skip]
Verify credentials format before saving
Action Cable: run Redis tests against a default config without a password
Revert displaying master key generation info on `rails new`.
Deprecate encrypted secrets in favor of credentials.
sanitize empty and nil parameters to select
Remove unused require
Raise `TransactionTimeout` when lock wait timeout exceeded for PG adapter
Should test actual error which is raised from the database
Add missing autoload `Type` (#31123)
Relation merging should keep joining order
Add missing require "active_support/core_ext/hash/indifferent_access"
Consolidate duplicated `to_ary`/`to_a` definitions in `Relation` and `CollectionProxy`
Ensure `apply_join_dependency` for subqueries in `from` and `where`
:scissors:
Adjust blank lines
Add missing requires
Remove useless preloader classes
Use new Rake URL of Ruby core [ci skip]
Use new RDoc URL of Ruby core [ci skip]
Remove unused require
Add missing requires
Use `-e` option to specify the environment in console command [ci skip]
Bump RuboCop to 0.51.0
Move Attribute and AttributeSet to ActiveModel
Adds content from README and conversations with George
Adds todo for preview
Prevent deadlocks with load interlock and DB lock.
Remove code duplication in ActiveSupport::Cache
Use `Dir.mktmpdir`
use database agnostic function/quoting in test
push order arg checks down to allow for binds
deal with Array arguments to #order
convert order arg to string before checking if we can reverse it
use << instead of #concat in #reverse_sql_order because we might be working with Arel SQL literator which overrides #concat
try using regexes
allow table name and direction in string order arg
work around deprecation warnings in a bunch of tests
always allow Arel::Attributes::Attribute also
call enforce_raw_sql_whitelist on @klass so it works with FakeKlass
work with actual string when reversing order
remove :enabled option
beef up deprecation warning
make tests more verbose/explicit
allow Arel.sql() for pluck
add config to check arguments to unsafe AR methods
Do not show credentials in generators help
Use `Tempfile.create`
Should pass `test_no_locks_no_wait` not only on `PostgreSQLAdapter` and `OracleAdapter`
Correctly kill the server started with ujs test
Run `ConcurrentTransactionTest` if `supports_transaction_isolation?` returns true
Change output log about skipping instalation of Active Storage
Remove redundant passing --skip-active-storage in test cases
`Mysql2Adapter` should pass `ConcurrentTransactionTest`
Consolidate redundant `if` and `unless` with the same condition
Set counter caches to correct values in fixtures
Don't expose accessors which are internal used only
Don't expose internal methods in `Preloader::ThroughAssociation`
Allow `Range#include?` on TWZ ranges
Use released `redis-namespace` instead of master version
Remove unnecessary migration deletion
Do not run `active_storage:install` when bundle install is skipped
Performance improvements for add_method_to_attributes!
Remove needless block parameter
Use plain assert in assert_changes to avoid MT6 refutes
Remove useless `associated_records_by_owner`
Add cases to test combining validation conditions
Execution of `active_storage:install` should respect `--quiet` during `rails new`
Rails::Generators::Actions#execute_command allows option `capture`
`rails new` runs `rails active_storage:install`
Add --skip-active-storage and do so automatically when --skip-active-record is used
Properly check transaction in persistence
Resolve Minitest 6 deprecation in assert_no_changes
Refactor Preloader Code
Remove unused require
Explicitly pass window handle to `resize_window_to`
`scoping` should respect current class and STI constraint (#29199)
Execute `ConfirmationValidator` validation when `_confirmation`'s value is `false`
Ensure `apply_join_dependency` for `update_all` and `delete_all` if eager-loading is needed
Ensure `apply_join_dependency` for `collection_cache_key` if eager-loading is needed
Show `RequestForgeryProtection` methods in api doc  [ci skip]
Generate the correct path in nested scaffold generator
s/an/a/
Remove unused `calculate_rounded_number` and `digit_count`
Improve docs of ActionDispatch::Routing::Mapper
Add a better error message when a "null" Origin header occurs
Permit configuring Active Storage's job queue
Specify bundler version in template files
Remove unused classes
Begins guide for ActiveStorage
Remove test file
Use blank? check instead of key? check
Allow third-party previewers/analyzers to customize their tempdirs
Edited comment from request.rb
Ignore "gem "bundler" cannot be uninstalled because it is a default gem" error when tested with ruby-head
updates autoloading guide for Ruby 2.5 [ci skip]
[ci skip] show the correct example to demonstrate inflections.
Workaround for ActionMailer failures by not installing mail 2.7
Remove bundler 1.16.0
Avoid bundler 1.16.0 for now
Enable `Style/RedundantReturn` rubocop rule, and fixed a couple more
Address incorrect number of queries executed at Oracle enhanced adapter
Prevent source line wrapping in rescue layout
Remove unused `MissingRequestError`
Simplify implementation of `MySQLDatabaseTasks`
Raise error if unsupported charset for mysql
`source_type_scope` should respect correct table alias
`PolymorphicReflection#scopes` is no longer used since a5651eb5
Deprecate ActiveSupport::Inflector#acronym_regex
[ci skip]Update the documentation about the primary key type
Ordinal methods should respect loaded records
Keep rubocop happy with the new Selenium runner
removed unnecessary semicolons
removed unnecessary returns
Puma Rack handler is required by Capybara
Add load hook for `ActionDispatch::SystemTestCase`
Enable to call Rails.ajax without beforeSend
Remove mention of X-Post-Data-Format header [ci skip]
[ci skip] Updated 5_1_release_notes.md to include support to :text and :nothing in render
Allow count nodes to have math functions
Remove CHANGELOG entry for PR #28681 [ci skip]
Prevent extra string allocations when no 'rel' arg passed
delegate scope for
fix initial count
Allow passing a Proc or Symbol as an argument to length validator values
Remove mention about Evented Redis [ci skip]
remove incorrect statement about serializable transactions
Third party adapters doesn't support index orders yet
Remove CHANGELOG entry that was backported to Rails 5.1.3. [ci skip] (#30986)
checking for nested attributes when attribute names specified to wrap them as well
Implement `PostgreSQL::SchemaDumper#extensions` and abstract `SchemaDumper#extensions` is now an empty method.
Require capybara 2.15 because we depend on the new puma integration
Avoid using index_xinfo, only available in sqlite >= 3.8.9
[ci skip]Add space before closing curly brace
Change `VENDOR_PATH` to `APP_ROOT` in `bin/yarn`
`supports_extensions?` return always true since PostgreSQL 9.1 since the minimum version of PostgreSQL currently Rails supports is 9.1, there is no need to handle if `supports_extensions?`
Simplify API documentation of methods that return a Duration
Update "Active Support Core Extensions" guide
Allows pass argument for `Time#prev_year` and `Time#next_year`.
Allows pass argument for `Time#prev_month` and `Time#next_month`
Allows pass argument for `Time#prev_day` and `Time#next_day`
Make clear that Time core extensions are split between Numeric and Integer
add _ for unused last arg
Ensure associations doesn't table name collide with aliased joins
Space between { and | missing.
Cache regexps generated from acronym_regex
Remove `supports_disable_referential_integrity?`
Performance improvements for acts_like? method.
Remove mention about Evented Redis [ci skip]
specify minimum capybara version for system tests
Remove text about deprecation that was already removed
Remove deprecated `halt_callback_chains_on_return_false` option
Remove deprecated `:if` and `:unless` string filter for callbacks
Change the deprecation horizon of the dynamic routes segment to 6.0
Remove deprecated method `#sanitize_conditions`
Remove deprecated methd `#scope_chain`
Remove deprecated configuration `.error_on_ignored_order_or_limit`
Remove deprecated arguments from `#verify!`
Remove deprecated argument `name` from `#indexes`
Remove deprecated method `ActiveRecord::Migrator.schema_migrations_table_name`
Remove deprecated method `supports_primary_key?`
Remove deprecated method `supports_migrations?`
Remove deprecated methods `initialize_schema_migrations_table` and `initialize_internal_metadata_table`
Rase when calling `lock!` in a dirty record
Remove deprecated support to passing a class to `:class_name` on associations
Remove deprecated argument `default` from `index_name_exists?`
Remove deprecated support to `quoted_id` when typecasting an Active Record object
Removed deprected evented redis adapter
Remove deprecated `ActionController::ParamsParser::ParseError`
Remove deprecated Erubis ERB handler
Remove CHANGELOT entry for the change that was backported to 5-1-stable [ci skip]
Ensure associations doesn't table name collide with string joins
Use the indicative mood consistently [ci skip]
Place `MocktailDesigner` in `test/models/drink_designer.rb`
Extract metadata from images and videos
Add changelog entry about new `allow_other_host` option for `redirect_back` method [ci skip]
Avoid slicing from Thor's original HWIA
[Active Storage] require_relative => require
[Action Cable] require_relative => require
[Active Job] require_relative => require
[Action Mailer] require_relative => require
[Action View] require_relative => require
[Action Pack] require => require_relative
[Active Record] require => require_relative
[Active Model] require => require_relative
[Active Support] require_relative => require
[Railties] require_relative => require
Let Hash#slice return a Hash
Move HWIA specific logic for slice and slice! to HWIA class
Hash#slice is in Ruby 2.5+
Add test cases for `type` and `foreign_type` in the reflections
bundle lock --add-platform java
Convert ignored_columns to a list of string
Return correct exit status of ujs test
Remove obsolete documentation [ci skip]
Keep `:api: plugin` methods in the doc [ci skip]
Count assertions instead of tests in report
PhantomJS is abandoned, replace it with Selenium/Chrome headless
Test `ignored_columns` value is inheritable by subclasses
Start bringing attributes API to AM
Improve out-of-box experience with System tests including chromedriver-helper by default
Enable `hstore` extention disabled at the end of `InvertibleMigrationTest#test_migrate_enable_and_disable_extension` to avoid failure of `PostgresqlArrayTest#test_schema_dump_with_shorthand` which expects `hstore` extension enabled.
Set proper migration' version in bug report templates
Add mention how to delete several records in bulk to Active Record Basics Guides [ci skip]
Remove unused `UnknownController` class
Remove unnecessary `allow_failure: true` option
Should test `LegacyPrimaryKeyTest` to both `V5_0` and `V4_2`
compatibility - use int instead of bigint
Update mailing list URL in I18n guide [ci skip]
Add headless chrome driver to System Tests
Remove association(true) references from docs [ci skip]
`ActiveRecord::Tasks::DatabaseTasks.load_schema` has always to establish database connection
Update README.md
Remove extra spaces in the args in the `time_zone_select` [ci skip]
Add a test case that eager-loading with a polymorphic association and using `exists?`
MySQL: Don't lose `auto_increment: true` in the `db/schema.rb`
Remove unused `before_filters`
Add accept-charset to the output of form_with in JS guide [ci skip]
Show the failed queries in `test_has_one_does_not_use_order_by`
Add unpermitted_parameters.action_controller hook to instrument guide [ci skip]
Use `require_relative` instead of `require` with full path in activestorage/
Define path with __dir__ in activestorage/
Add Action Cable notifications to instrument guide [ci skip]
Add process.action_mailer notification to Instrumentation guide [ci skip]
Added test case for starting rails with daemon option, this should set the option[:daemonize] to true, otherwise the option[:daemonize] will be set to false
Update documentation to lead with ajax param `event.detail`
Clarify comment [ci skip]
Remove unsued `jquery-rails`
Bump RuboCop 0.50.0
Test exception message to ensure an exception instance is yielded
Capitalize "sprockets" in Engine guide [ci skip]
Accept variation keys in #preview and #variant
Introduce ActiveStorage::Blob#representation
fix the description for the `select_all` [ci skip]
[ci skip]Enable link to ActionDispatch::Integration::Session#process in rdoc
Remove a needless space in Action View Guide [ci skip]
Update Gemfile
Add allow_other_host option to redirect_back method
Update security guide for signed cookie rotations
Use released `sidekiq` instead of master version
Joined tables in association scope doesn't use the same aliases with the parent relation's aliases
All test cases for `exists?` places in `finder_test.rb` to ease to find the test cases
Use `form_with` instead of `form_for` in engine guide [ci skip]
Remove meaningless named `construct_relation_for_association_calculations`
Missing revision 5efd21bb7ee4b326d9c0d26fccad10fc59dd51f0 in redis-rb-4.0 branch
Remove passing redundant `self` to internal `apply_join_dependency` etc
redis-rb 4.0 support
Add test for class of GeneratedAttributeMethods instance in ancestors
Distinguish missing adapter gems from load errors within the adapter
Improve RakeTest#test_db_test_prepare_when_using_sql_format
Invoke rails command inside the railties' test app with TestHelpers::Generation#rails
Remove redundant execution of `Dir.chdir(app_path) { }` in railties' tests
Exception message for SystemTestCase#get etc..
Decouple building `AliasTracker` from `JoinDependency`
Include Mutex_m into module class instead of extending instance
Simplify parse arguments in `ConsoleTest`
Update Instrumentation guide for Active Storage [ci skip]
Remove needless setup from `InfoTest`
Add v5.1 to earlier releases list in guide [ci skip]
how do we install active_storage? [skip ci]
Cosmetic fixes [ci skip]
Replace variation key use with SHA256 of key to prevent long filenames
Remove unused `secrets.yml` template
request check
Move duplicated code to `delete_or_destroy` in `CollectionAssociation`
Add JSON attribute test cases for SQLite3 adapter
Extract repeatedly appeared prepending compatible table definition
Use __callee__ to pass alias instead of original method name
Implement H2 Early Hints for Rails
Express #change_column_comment as public api
Cleanup CHANGELOGs [ci skip]
Prefer official name PostgreSQL over Postgres
Associate blobs with their attachments
Add update_only example to AR nested attributes doc [ci_skip]
Add test case for `font_url`
rails-ujs: Update README
Add link to Rack website
Make automatically synchronize test schema work inside engine
Do not create credentials in dummy application
Make internal methods in `AbstractController::Rendering` to private
Remove unused `new_credentials_configuration`
Ensure `AliasTracker` respects a custom table name
Remove `:api:` tag that has leaked on the doc directly [ci skip]
Testing to ensure both bang and non-bang methods behaves consistently
Remove unused methods from `RenderPartialWithRecordIdentificationController`
Don't use Active Support where it is not needed.
Type-castable attributes should not try to cast SqlLiteral nodes
Yield with an error instance instead of error class
Preview PDFs and videos
Test for nil, people not likely to assign it false.
Deprecate secret_token, long since usurped by secret_key_base.
Add assert_enqueued_email_with to ActionMailer::TestHelper
Set version in activestorage/package.json in proper format.
Encourage html-safe API in layouts/rendering guide
Add newlines before/after the `git_source` in bug report templates
scaffold nested name controller should be fine.
Ensure `HashWithIndifferentAccess#transform_keys` to return `HashWithIndifferentAccess`
Add test case for `arel_attribute` with a custom table
`Postgres::OID::Range` serializes to a `Range`, quote in `Quoting`
Include `ActionDispatch::DrawOnce` in `ActiveSupport::TestCase`
Remove unused code that was copied from actionpack
Remove unused `cached_columns` and `time_related_columns_on_topic` in `AttributeMethodsTest`
Don't generate `foreign_type` if `options[:polymorphic]` is not given
Change :github git source for bug report templates
Treat `Set` as an `Array` in `Relation#where`
ActionCable: use find method when unsubscribing
PERF: Partially recover some performance when preloading.
Remove unused fixtures
[ci skip] Don't mention unrotatable secret_key_base.
Add an space to RefineryCMS in Engine guide [ci skip]
Preload digest/sha2 to avoid thread safe error.
PERF: Restore memoization when preloading associations.
new missing backquotes [ci skip]
Respect quiet option in all process of `rails new` command
mocha 1.3.0
Unneeded Mocha stubs for Kernel#system
Extract `integer_like_primary_key_type` to ease to handle it for adapters
Skip complex cookie tests for now; I'll deal with them tomorrow.
Remove unused variable `gem_version` from `tasks/release.rb`
[ci skip] Attempt a new explanation for rotations.
Use new rotation signature in cookies.
Remove advanced key generator rotations from verifier/encryptor.
Infer options from the primary verifier.
Refactor Css::Generators::ScaffoldGenerator
[ci skip] RotationConfiguration is an implementation detail, not public API.
Add key rotation cookies middleware
Update Action Mailer Basics [skip ci]
Add key rotation message Encryptor and Verifier
Make bang version work with `InheritableOptions`
Move integer-like primary key normalization to `new_column_definition`
Adding legacy primary key should be compatible
Ensure `1 AS one` for SQL Server with calculations.
Prevent extra `column_for` for `change_column_{default,null,comment}`
`index_name` should be quoted
Return nil if table comment is blank
Implement change_table_comment and change_column_comment for MySql Adapter
Use `TOPLEVEL_BINDING` in rails runner command
Use algorithm while removing index with db:rollback
Update link in The Asset Pipeline guide [ci skip]
Update payload names for `sql.active_record` to be more descriptive.
Update Rails Guides about :autosave option
Add missing word [ci skip]
Flesh out ActiveStorage::Filename docs
make create_join_table compatible.
Use credentials in `storage.yml` template
Use credentials, not secrets, for Active Storage (#30650)
Support BindParams in subqueries
Use RESTful instead of restful
Add :comment option for add_column [ci skip]
Remove unused `NumberToRoundedConverter#digits_and_rounded_number`
Update action_controller_overview.md [ci skip]
Add `with_attached_*` scope to `has_one_attached` macro
Allow usage of strings as locals for partial renderer
Use the default Capybara registered puma server configuration
Use ApplicationJob instead of ActiveJob::Base in guide [ci skip]
add section to guides for discarding and retrying active jobs [ci skip]
Upcase js [ci skip]
Remove "the" [ci skip]
Remove unused delegation to `reflection.options` in `Preloader::Association`
The name of the key on the associated record is abstracted as `reflection.join_primary_key`
The name of the key on the owner is abstracted as `reflection.join_foreign_key`
Extract `associate_records_to_owner` to refactor `Preloader::Association`
Remove unused require in ActiveStorage::Variation
Remove the code that swapping `scope` and `options`
`id` (primary key) is not only an integer [ci skip]
Ensure returning affected objects for class level `update` and `destroy`
Place class level `update`, `destroy`, and `delete` in `Persistence::ClassMethods`
Early return if `records.empty?` in `Preloader#preload`
Don't pass `reflection_scope` to `preload_scope` if `reflection.scope` isn't given
Return `through_scope` only if the scope is not empty scope
Remove useless condition in `reset_association`
Add missing round bracket in "Ruby on Rails 5.1 Release Notes" guide
Add `mini_magick` to default `Gemfile` as comment
Update plugins.md [ci skip]
Add local option to Message form [ci skip]
Remove frozen_string_literal magic comment from templates
Remove mentions about `Module#reachable?` in "Active Support Core Extensions" guide
Remove redundant require_relative "module/anonymous" and "module/reachable"
Deprecate `Module#reachable?` method
Update Layouts and Rendering in Rails [ci skip]
Update Form Helpers guide to fix example codes [ci skip]
Allow for custom handling of exceptions that are discarded
Don't expose Active Storage routes
Install JavaScript dependencies on update
Add tests for credentials command
Update Getting Started with Rails [ci skip]
Update .travis.yml
Remove stopgap_13632 entirely for now: it doesn't support 2.2.8
Stick with the RUBY_VERSION check on stopgap_13632
Bump Travis to new Ruby releases
Inline the lone add_master_key_file_silently use.
Avoid making HTTP requests to generate signed URLs for GCS objects
Remove unused explicit delegation to `klass` in `relation`
Don't use `collection.table_name` in `collection_cache_key`
Don't use `quoted_table_name` in `limited_ids_for`
Update Active Job Basics [ci skip]
Address random `test_or_with_bind_params` failures
`quoted_table_name` doesn't respect table alias
Make master key added to gitignore the same value as when creating appplication
Make `in_batches` queries to preparable
[ci skip] Prefer credentials to secrets in docs.
Update Getting Started with Rails [ci skip]
Do not add master key and credentials when `pretend` option is specified
Use escaped character in regexp
Rename activestorage/test/service/configurations.yml to activestorage/test/service/configurations.example.yml
Ignore activestorage/test/service/configurations.yml
Add credentials using a generic EncryptedConfiguration class (#30067)
PERF: Incorrect memoization in `ActiveRecord::Associations::Preloader::Association`.
Remove not used gems by default [ci skip]
Use v3 of the AWS SDK
Remove needless `silence_warnings`
Remove unnecessary `join_type` in `AssociationScope`
Do not install unused gem
Remove unused `fork` arg for `rails`
Remove duplicated `klass` method in `AssociationReflection`
Remove unused `primary_key_type` and `quoted_table_name` in `Reflection`
Add an extra assertion to ensure dumping schema default as expected
Reorganize secrets test to use only `isolation/abstract_unit`
CI against JRuby 9.1.13.0
Don't pass `table` to `last_chain_scope` and `next_chain_scope`
`RuntimeReflection` is not a subclass of `PolymorphicReflection`
`has_many :through` with unscope should affect to through scope
:scissors:
fix type fully qualified [ci skip]
PERF: Recover `ActiveRecord::pluck` performance.
Do not pass an instance variable to a private method
Don't pass unneeded `reflection` to `add_constraints`
Assigning `values` is only necessary when `reflection_scope.where_clause` is not empty
Don't merge `reflection_scope` if `reflection.scope` isn't given
Should quote composite primary key names
Run in-app rails commands via fork+load where possible
This commit adds:
Explicitly require `test_unit/reporter` in test helper
Don't need the layout here
Preload some additional specific files
Preload Rails component gems in railties tests
Scope in associations should treat nil as `all`
Does not include disabled element in params
Run all railties tests before reporting failure
Don't start a new process for every test file
Add :nodoc: to activerecord [ci skip]
Don't expose `find_all_ordered` utility method in tests
Retry if rubygems misbehaves: it's probably just the network
Accept GCS client options
Replace unnecessary link with typewriter text [ci skip]
Add a test case for preloading through association with implicit source
`values[:includes]` in `reflection_scope` is not compatible with `through_scope`
Don't call `scope.eager_loading?` when `reflection_scope.where_clause` is empty
Bump PostgreSQL version to the latest version 9.6 at Travis CI
sqlite3 adapter returns integer value which used to be string
`add_reference` should respect column position for both reference id and type columns
Skip `test_remove_column_with_multi_column_index` when tested with MariaDB 10.2.8 or higher
CI with the latest stable(GA) version of MariaDB 10.2
Remove unused require
:warning: assigned but unused variable - message
Unused variables
Hash#transform_keys is in Ruby 2.5+
Suppress "unused variable" in Ruby 2.5
Unused variables
double assign is no longer an effective workaround for unused variable warning
Remove needless `silence_warnings`
Self-alias doesn't suppress the warning on Ruby 2.2
Clarify intentions around method redefinitions
Have attachments touch their records
Ignore files already deleted on GCS file deletions
In Action View Overview guide, remove reference to custom helpers
Update RDOC_MAIN.rdoc [ci skip]
Make it same title in index and page [ci skip]
activerecord: Remove a redundant mutation tracker
Add documentation about template partial caching
Refactor
Update activejob doc [ci skip]
Update Action Mailer doc [ci skip]
Update Active Storage docs [ci skip]
Use YAML syntax highlight for `config/locales/en.yml` [ci skip]
It should be "the resulting cache key", not "the resulting `cache-key`" [ci skip]
Add stopgap_13632 workaround
Synchronously destroy attachments
Update Caching with Rails guide [ci skip]
Update Rails I18n API guide [ci skip]
Clarify that bulk option is supported only by MySQL [ci skip]
Added CHANGELOG for #30360 [ci skip]
"models/reader" is no longer used in `autosave_association_test.rb`
Address `test_assign_ids_for_through_a_belongs_to` failure
`@previous_reflection.options[:source_type]` in `PolymorphicReflection` is always true
Remove unused `RuntimeReflection#alias_candidate`
Remove trailing spaces [ci skip]
Should be appear deprecation message for every call (#29649)
Omit the default limit for float columns (#28041)
Prefer to place a table options before `force: :cascade` (#28005)
Retrive screenshot in relative path of current directory
Use tt in doc for ActionView [ci skip]
Use tt in doc for railties [skip ci]
Use tt in doc for ActiveRecord [ci skip]
Remove Active Storage duplicated classes from the API site
Run latest Rubocop in CodeClimate
Correct wording and adding info [ci skip]
Use tt in doc for ActionPack [ci skip]
Use tt in doc for action_mailer [ci skip]
Use typewriter in doc for Action Cable [ci skip]
Enable links in Active Storage docs [ci skip]
Add :nodoc: for ActiveRecord::AttributeMethods [ci skip]
Minimize Spring.watch calls
Should work inverse association when eager loading
Add paths to docs for Active Storage
Address `test_after_save_callback_with_autosave` failure when other `AutomaticInverseFindingTests` load `:comments` fixture but does not load `:posts`.
Widen blob size column
Remove unused returning value `stream`
Remove unnecessary fixture loading
Update active_support_core_extensions.md [ci skip]
Update azure-core to 0.1.11 to fix rails-dev-box
Unify the internal source control .keep file name
[ci skip]Revert commits changing wrong place
Delegate :rindex, :slice, :rotate to 'records'
Remove `alt` text from `image_tag` example [ci skip]
Don't touch an unused header
Decouple the merge/normalization and conditional cache control logic
Make sure image_alt is deprecated
Remove alt generation from image_submit_tag
`counter_cache` requires association class before `attr_readonly`
Use https instead of http in guide [ci skip]
This constant is no longer used
Let middleware handle default cache behavior
Grammar fix
Load both `:authors` and `:author_addresses` to keep data integrity
Use equality in place of refute assertions for accuracy
Normalize/process Cach-Control headers consistently
Add TransactionTimeout for MySQL error code 1205
Use REDIS_URL var for Action Cable config template
Use 5.2 version of ActiveRecord::Migration for Active Storage
Refactor `SchemaDumper` to make it possible to adapter specific customization
Remove deprecated `#migration_keys`
Automatically guess the inverse associations for STI
missing backquotes [ci skip]
Remove frozen_string_literal comment from activestorage's migration
Update links to use https link instead of http [ci skip]
Update links to use https instead of http [ci skip]
Update links to use https instead of http [ci skip]
Update MIT licenses link [ci skip]
Add frozen string literal pragma
Encode Content-Disposition filenames according to RFC 2231
Update debugging_rails_applications [ci skip]
Remove frozen_string_literal magic comment from templates
[ci skip] form_with in the getting started guide.
Update Contributing to Ruby on Rails guide [ci skip]
Update generator guide [ci skip]
Prevent extra `SET time zone` in `configure_connection` (#28413)
Update Rails on Rack guide [ci skip]
Update result of autoload_paths in Autoloading and Reloading Constants guide [ci skip]
Update regex
DRY
Make `restart` and `dev:cache` tasks work when customizing pid file path
Rename ActiveStorage::Filename#extname to extension_with_delimiter
Add executable file `activestorage/bin/test`
freshen :expires option with duration support and add expiry metadata to cookies
Require "active_support/core_ext/hash/compact" for `compact!`
Prefer formatted number as schema version [ci skip]
Place `update_table_definition` consistently in `SchemaStatements`
Don't expose `prepare_column_options`
Update Debugging Rails Applications guide [ci skip]
Register integer types limit correctly for postgresql adapter (#26386)
Update The Rails Initialization Process of guide [ci skip]
Update database config in The Rails Comamnd Line of guide [ci skip]
Attributes are protected, not private, to avoid the warning
Support multiple versions arguments for `gem` method of Generators
fix typo in ambiguous route definition error message
Remove unused require
Use ssl in guide and comment [ci skip]
Use https instead of http or git in guide [ci skip]
Cleanup development_dependencies_install.md
Add Yarn installation instructions for Active Storage
Remove Active Storage code climate config file
Simplify ActiveModel::Errors#generate_message
Improve `migration/column_attributes_test.rb` (#25286)
Add deterministic sorting order for `test_taking_with_a_number`
Restore the ability that SQL with binds for `insert`, `update`, and `delete` (#29944)
Add test cases that class level `destroy`, `delete`, and `update` are affected by scoping (#29997)
Restore `to_sql` to return only SQL (#29945)
Add test cases for `where.not` with polymorphic association
Do not generate default alt text in image tags
Add note about JSON/JSONB serialization changes
Add missing test for Blob#purge
Capitalize Redis
Remove obsolete explanation
Move `test_index_is_created_for_both_timestamps` to `TimestampsWithoutTransactionTest`
Use nil Logger for tests
Move common tests from `AppGeneratorTest` and `PluginGeneratorTest` to `SharedGeneratorTests`
Temporarily point to a fork of SDoc
Encrypt the IRC notification setting, so it's not used on forks
Bump `thor` and `blade`
faster implementation of Hash#deep_merge
Use `ActiveJob::Base.queue_adapter_name` to get adapter name
Pass missing name attribute to execute_hook
Test with released thor
Add space
Small grammar fixes
Change to plural
Remove period from within links
Change namespace of Active Storage rake task
Add test case to make sure Parameters configuration are executed once
restores some double newlines deleted in ae87217
Add --skip-yarn option to the plugin generator
minor tweaks in Active Storage after a walkthrough
Add system_test logs to guide [ci skip]
Don't expose `write_attribute_without_type_cast`
Through scope should not be affected by scoping
Update guides/source/plugins.md [ci skip]
Formatting CHANGELOGs [ci skip]
Remove unused `action` arg for `generate_routing_code`
Load Parameters configurations on :action_controller only once
Allow lazy load hooks to be executed only once
Ensure sum honors distinct on has_many through
Move test to its proper place
Document public hooks in AS::Reloader [ci skip]
Allow for frozen string pragma in generated files.
Add frozen string pragma to expected routes files.
Run Active Storage service tests in CI
Adding frozen_string_literal pragma to Railties.
Railties updates for frozen string literals.
Should escape regexp wildcard character `.`
Update travis.yml
Add required_ruby_version to gemspec
Refactor max-age seconds
Optimize routes indentation
Clear mail after test
Remove `:force` from PASSTHROUGH_OPTIONS for plugin generator
Register `--api` option for plugin generator by PASSTHROUGH_OPTIONS constant
Perform self-serialization once metadata is involved.
Remove unnecessary Include parameter in rubocop.yml
Check :scope input in Uniqueness validator
Omit additional removing `config/cable.yml` by the app generator
Remove duplicated `join_id_for`
Remove unused `source_type_info` in `RuntimeReflection`
Allow `serialize` with a custom coder on `json` and `array` columns
Use frozen string literal in root files
Use frozen string literal in ci/
Use frozen string literal in tools/
Use frozen string literal in tasks/
Use frozen string literal in guides/
Wait for the Delayed Job worker thread to finish
Delegate to `Enumerable#find` for `CollectionProxy`
Refactor `--api` option of the app generator
Completes ActiveRecord::Batches.find_each example [ci skip]
Use `references` to respect primary key type in active storage tables
Test for the new exception of delegate_missing_to (#30191)
Clarify base_class tests on abstract STI vs concrete STI
Use frozen string literal in Active Storage
Remove duplicated `table_name`
Extract `primary_key` to `AbstractReflection`
Add `binary` helper method to fixtures.
Add document that you rake test single file by using DB(ex. postgresql) [ci skip]
Remove unnedded Active Storage installation steps
Make activestorage treat Rack::Test::UploadedFile just like ActionDispatch::Http::UploadedFile
Specify `table.name` only when `scope.table` and `table` are different (#29058)
Remove unused `close_connection` in Action Cable tests (#30195)
Add `null: false` to Active Storage tables
Enable browser caching for blobs and variants (#30196)
Evaluate `@active_storage_attached_#{name}` only once
Microsoft Azure --> Microsoft Azure Storage [ci skip]
Refactor app_generator_test (#30192)
Update database duplication check
Update testing.md
Optimize indentation for generator actions
Run Active Storage tests in CI (#30144)
Move `test_not_compatible_with_serialize_macro` to `JSONSharedTestCases`
Isolate ActiveStorage namespaces (#30095)
Start `@reaper.run` after connection pool initialized
`--skip-action-cable` pass throughs `rails plugin new`
Improve plugin generator tests. Related to #30123.
Revert "Revert "Set Ruby version in Gemfile and .ruby-version by default""
Revert "Set Ruby version in Gemfile and .ruby-version by default"
Make one line example fit on one line [ci skip]
Add code formatting and minor grammar clarifications
Use copy to preserve file permissions
Remove encoding utf-8 magic comment
Remove unecessary require in test_helper
Changed join_fk private method to join_foreign_key public method
[Active Storage] `rubocop -a --only Layout/TrailingBlankLines`
Prevent generation extra empty lines in a plugin's Rakefile
Add git_source to Gemfile for plugin generator
Skip unused components when running  in Rails plugin
Use the same key as presented in doc
add missing collection.reload documentation [ci skip]
Document `ActiveRecord::AttributeMethods::Dirty`
Set ActiveStorage::Blob.service when ActiveStorage::Blob is loaded
ActiveStorage:Add migrations per rails engine conventions (#30111)
Support content_type in AzureStorageService#url
[ci skip] Postgres --> PostgreSQL
[ci skip] Update action_mailer_basics.md
[ci skip] Prefer cookies.encrypted over signed (#30129)
Deprecate support of older `config.ru`
Currently if relation object are passed to where condition for has one or has many association wrong set of primary key and foreign key are selected.
add reload_association to documentation [ci skip]
Use `with_dummy_app?` in gitignore
Extend image_tag to accept ActiveStorage Attachments and Variants (#30084)
Removed empty line from dummy_manifest
Filter out Minitest backtrace.
Simplify `git_source` in Gemfile
Add missed `require`
Remove :sorted test order for isolated tests
Deprecate ActionDispatch::TestResponse response aliases
Capitalize Rake
Remove extra space between two sentences
Lint railties/CHANGELOG.md
Lint activesupport/CHANGELOG.md
Lint activerecord/CHANGELOG.md
Lint actionpack/CHANGELOG.md
Lint actioncable/CHANGELOG.md
Add `:authors` fixture to address two random failures at HasOneAssociationsTest
Active Storage to 5.2.0.alpha inside `activestorage/package.json`
Replaces the 17 for the actual call to params[:id] that would make the code work as intended. [ci skip]
Pass over Active Storage readme [ci skip] (#30086)
Remove outdated comment [ci skip]
Check for `app.secrets.secret_key_base`, not `app.config.secret_key_base`
Remove unecesarry exception variable
Change gem version of Active Storage to 5.2.0.alpha
Add missing blank line between `config.active_storage` and `config.action_cable`
`module ActiveStorage`, not `ActiveStorage::Class`
Use `content_type.start_with?("...")` than `content_type =~ /^.../`
Rename Azure to AzureStorage (#30057)
Add Active Storage to README and release (#30065)
Make sure the test fails if the code chages
Do not call isolate_namespace on the application
Allow `table_name_prefix` and `table_name_suffix` have `$`
Include active_storage in all generated application.rb files
Convert to strings so array can be sorted deterministically
Do not let use `serialize` on native JSON/array column
Deterministic comparisons please
Use `Concurrent::Map` than `Mutex` and `Mutex_m` for statement caches
Remove unused `LoadError::REGEXPS` constant
Do not change the entire codebase style only because of active_storage
We need to require the top file before individual one
Do not eager load ActiveRecord::Base
Active Storage routes are now part of the default routes
Revise bundle binstub error message
Remove duplicated convert_direct_upload_option_to_url
Refactor convert_direct_upload_option_to_url
Make sure Action View  doesn't break with Active Storage
Same issue from AR getting loaded earlier
Including new default classes in loading test
Active Storage loads AR earlier to extend it so require env later
There is no reason to single line methods here
Make Rubocop happier about ActiveStorage
Add backticks around String#camelize
Passing `klass` to `StatementCache.new`
Generating the app is where the exception is now raised
Can't initialize a message verifier without a key base
Improve callback examples in Active Job guide [ci skip]
Use `assert_nil` if `value` is nil in `assert_field_default_value`
Depend on offical azure-core
Handling add/remove to/from migration edge cases
Tweak requires
Use release azure-core gem
Update README.md
Add Azure gems to README
Allow non-English values for collection_radio_buttons/check_boxes
Add Azure to the available services list
Update String#camelize to provide feedback when wrong option is passed
Add Azure to readme
Remove extra empty line
Skip if credentials aren't provided
Remove circular dependency
Prevent interpolation of ERB elements
Add the storage.yml file by default
Follow same format as action_cable
Cut down on installation advice
Drop README terms no longer relevant
Add require
We moved to storage.yml
Rely on top-level files
Update working_with_javascript_in_rails.md
Add Azure configuration to Active Storage template
Use duktape gem as default JS engine on Windows-MINGW and MS-Visual-C builds
Clarify route encoding test
Don't depend on HTTParty
Update working_with_javascript_in_rails.md
Path parameters should default to UTF8
Let ActiveStorage tests pass only for Disk
Setup travis to be able to run CI tests against S3
Remove unnecessary `doc` directory deletion
Talk about bytes not characters
Move the direct_upload: true convenience option from the activestorage helper into actionview
Add backticks around method [ci skip]
Move to new storage.yml location
Directory and config installation now done by app_generator
Create the skeleton directories needed and ignore accordingly
Follow form from actioncable
Load activestorage by default
Use config/storage.yml as part of the skeleton and loading
Resolve gemspec typo
No longer used
Require activestorage per default with asset pipeline
Bring activestorage dependencies into the general Gemfile
Initialize changelog
Use standard Rails layout for gemspec
Include default storage configuration
Add 'activestorage/' from commit '3f4a7218a4a4923a0e7ce1b2eb0d2888ce30da58'
fix typo in assert_changes error message
Set Ruby version in Gemfile and .ruby-version by default
Azure Storage support (#36)
Depend on Ruby >=2.2.2 (#85)
Use File::NULL instead of "/dev/null"
Show minitest options in test runner help
activestorage.js 0.1.1
Configure per-service request headers for direct uploads (#83)
Change http postgresql.org links to https [ci skip]
Remove Unused variable - offset_bind
Return Not found Ids in ActiveRecord::NotFound
Eager load controller and mailer actions
Use frozen string literal in actionpack/
Edits following the reviews
Convert type inquiry into root predicates for base types alone instead
Must always return the options even if they werent converted
Add Blob#type as a StringInquirer
Add a direct_upload: true option to file_field_tag and Form#file_field
Add npm package details
Minor constructor signature tweaks
Add JavaScript linting (#82)
Add missing support for modulo operations on durations
Squashed commit of the following:
[ci skip] update routing guide
Remove redundant `unless current_adapter?(:OracleAdapter)`
Use `predicate_builder.build_bind_attribute` wherever possible
Add JavaScript direct upload support (#81)
Separate show and direct upload tests
Use blob service URL methods
Validate Content-Length
Introduce the Dummy. (#70)
Eager load the association classes on boot
Updates (rdoc) documentation on ActionDispatch::Integration::Session#process
CI against 2.4.1
Improve bundler binstub error message
Check variant image properties directly
Use `_relation_for_itself` wherever possible
Avoid creating unnecessary blobs
Compare images by selected attributes (size, colorspace)
Avoid duplicate clauses when using #or Condenses the clauses that are common to both sides of the OR and put them outside, before the OR This fix the current behavior where the number of conditions is exponential based on the number of times #or is used.
Add direct upload support to the disk service
Building `where_clause` in `UniquenessValidator` is no longer needed
Use exact Rails version when verifying.
Require arel master in the benchmark template
Address `undefined method `value_for_database'` in Oracle visitor
Allow bin/rails test task to take absolute paths as arguments
Clarify add_column limit documentation
Allow `Relation#or` to accept a relation with different `references`
Remove single element array preprocess
Update Gemfile.lock to reflect arel 9.0.0.alpha
Change the verison to 9.0.0.alpha
Use hash lookup for deleting existing associations from `target`
Require alpha arel
Add missing hash, eql?, == to various node classes Some of the nodes classes are missing either one or many of the common comparison methods #hash, #eql? and #==.
Remove unused `queries_predicates`
Remove useless `JoinInformation`
Remove unused `bind_values`
[ci skip] Add documentation for after_create_commit and after_update_commit callbacks
Suppress deprecated warning in Action Cable
Extract `assert_output` and `available_pty?` into `ConsoleHelpers` module
Deep merge
Stop creating ApplicationRecord on model generation
Did that
Flesh out the README a bit more
remove depreciated assertion to eliminate warning
Make actionpack frozen string friendly
Document the rest of lib
`get_value` and `set_value` in `Relation` are no longer used externally
Suppress warning from actionview controller helper.
Trivial typo fix
Models are autoloaded per engine standards
Add standard version setup
Follow the same copyright format as the other Rails frameworks
Basic documentation for job
Finish basic documentation for controllers
Revert "Include rack-mini-profiler by default"
Start on docs for lib
Basic documentation for all the models
Verify direct upload checksums
Include rack-mini-profiler by default
Blob/Variant#url -> #service_url to emphasize this URL isn't to be public
Everything under app/ is eager loaded, don't want that for service
Refer to the yielded app
Refactor Active Record to let Arel manage bind params
Adjust `BindParam` as needed for AR
add metadata tests: verify method
Use frozen string literal in actionview/
[ci skip] Remove superfluous paragraphs; fully qualify constants.
add to changelog: purpose and expiry support [ci skip]
document metadata support added to message encryptor and message verifier [ci skip]
Update rack-test dependency constraint
Remove duplicated assertion in `test_count_with_join`
Skip controller test, too
Temporarily skip variant tests pending a fix
Don't annotate template class with :nodoc:
Tell service which content-type to use for the response
Do not show URL in boot info when using Puma
Still need GlobalID for PurgeJob serialization
Schema out of date and now obvious
Demonstrate preloading in example
No more GlobalID
Add and test preloading scope
Work-around until @response.parsed_body problem is solved
Return to same level of abstraction
Return to same level of abstraction
Work-around until @response.parsed_body problem is solved
Require mini_magick when it's used
Specify verification purposes
Use frozen string literal in actioncable/
Make actioncable ready for frozen strings
Make actionview ready for frozen strings
Avoid modifying frozen string in check_schema_file
Collapse indeces per Jeremy.
Explore regular polymorphic associations rather than record_gid
Use parsed_body to auto parse the response as JSON.
Update the README with more explicit expectation setting
VerifiedKeyWithExpiration no longer needed
Provide a BlobsController for stable blob URLs
Switch to simpler signed_id for blob rather than full GlobalID
Switch to a single message verifier
Disk controller must rely on key alone
Use frozen string literal in actionmailer/
Let Metadata instance handle purpose coercion.
Remove dependency on `from_now` extension.
Update release instructions in light of new tasks.
Support multiple versions in release announcement.
Add task to verify a release.
Even more needless requires
Nix more needless requires
No need for explicit requires any more
Remove time stubs after each test
Move model tests to models directory
Move models and jobs to the app setup
Unused, we can extract from it out-of-repo
Move storage_services.yml to config for consistency
Don't need to validate transformations actually
Assume Rails is defined
Move all controller tests to controller/ dir
Extract `Account` model to the dedicated file
Should keep the table name qualified `*` for distinct subquery
Mention need for mini_magick with variants
Quick example of variants
Test actual transformation via controller too
Test actual transformations
Anemic intro
Extract test helper for image blob fixtures
Actually we just want them mounted straight
Provide directed URL as well as resolving
Proper require
Over-indented
Precise naming
Extract variation value object
Hacky way to mount routes for engine controller tests
Mount routes on the engine
Accept that this is a full-Rails engine
Revert "Extract `bind_param` and `bind_attribute` into `ActiveRecord::TestCase`"
Match destroyed_by_association for has_one to has_many
Better naming
Add a collector to grab the bind values off the AST
Ensure `ToSql` collector returns a UTF-8 string
Refactor `substitute_binds` to perform substitution immediately
Add instruction to install the gem from the master (#65)
Add a value field `Nodes::BindParam`
Rename `Collectors::Bind`
Suppress documentation for content_tag_for and div_for since they were removed already
Updates Rails upgrade guide for 4.2 to 5.0 regarding the removal of `ActionView::Helpers::RecordTagHelper`
True is the same as no arguments
Remove log directory in test postprocessing
Consistent naming
Make processing an explicit step
Move controllers to default engine location for auto loading
Extract routes.rb to engine location for auto configuration
Reset column information after schema changed
Use the direct accessor
Use a unique blob variant key for storage
Do real transformations in a safe way
Follow AR like naming of factory method
Easier access to the variant of a blob
Double confetti
Accept S3 upload options (e.g. server_side_encryption)
Add jQuery to test vendor files
Make `type_map` to private because it is only used in the connection adapter
Use `TRUE` and `FALSE` boolean literals for MySQL
Correct API documentation for ActionController::Parameters#delete
Use `ArgumentError` instead of own error class
Use frozen-string-literal in ActiveRecord
add metadata support to message verifier
Use descriptive new freeze_time helper
Move back to @matthewd's close io fixed rb-inotify.
Move generator namespacing to Base
Make `rails yarn:install` ignore dev dependencies
Delegate respond_to? in ActionView::Helpers::ControllerHelper
Add expires_at, expires_in, and purpose meta_data to messages.
Add test for fixed `counter_cache` double increment
[ci skip]Replace jquery-ujs with rails-ujs
Create `rails@localhost` user on travis ci
Don't convert dates to strings when using prepared statements in mysql
Remove deprecated code concerning non-attributes and `*_will_change!`
Remove deprecated code concerning dirty methods in after callbacks
Remove incorrect comment
Add `except` option for ActiveJob::TestHelper methods
[ci skip] CodeTriage badge
support `-` as an argument to `rails runner`
Rename helper to force_lazy_load_hooks.
`Persistence#delete` should not be affected by scoping
Add bootsnap to default Gemfile:
Scrub the invalid paramter value before using it in the error
Allow multiparameter assigned attributes to be used with `text_field`
Add documentation for class_attribute options
Replace hard-coded S3 bucket name with configured bucket
Post.joins(:users) should not be affected by `User.current_scope`
Remove unused require
Add direct upload support to GCS service
Remove useless `arel_engine`
Move `reset_pk_sequence!` test to `AdapterTestWithoutTransaction`
Enable `Layout/FirstParameterIndentation` cop
Set `RAILS_ENV` before load application file
Splat options
Use frozen string literal in activemodel/
explain why require_relative is not used here [ci skip]
Replace Erubis with Erubi in a part of guide [ci skip]
Properly expand the environment's name
Deprecate environment as an argument for dbconsole and console
Allow to pass a connection to the `dbconsole` command
Don't cache `scope_for_create`
add helper method for explicit lazy load
Set `represent_boolean_as_integer` via `configuration`
Remove unused requires
Remove unused `@last`, `@order_clause`, and `@join_dependency`
Use `where(id: 10)` rather than `where(relation.table[:id].eq(10))`
Reset column information after schema changed
Do not generate unused components contents in `app:update` task
Remove blank lines in setup
Stupid empty line added after merge.
Bump minitest; Use double quotes
Remove redundant instances of the word 'simply' from documentation, on the basis that if it was simple, the user wouldn't be reading the docs
Ensure calculation methods execute no queries
Extract `NullRelationTest` from `RelationTest`
Swap branches
Remove encoding utf-8 magic comment
Allow custom endpoints for S3.
Remove outdated `test_scoped_responds_to_delegated_methods`
Put conditional back
Remove useless `aliased_table_name` in `JoinDependency`
Depend on Rails >= 5.2.0.alpha
Fail early if no storage service is specified
Don't fail on boot because of missing S3 keys when S3 is not used
Revert back to the original implementaion with varaibles
Make `generated_attribute_methods` to private
Remove unused `Mutex_m` in Active Model
[ci skip]Remove options of javascript_link_tag and stylesheet_link_tag in guides
Catch postgres connection errors when trying to dealloc the statement pool
Added rubocop / codeclimate config and fixed current offenses (#45)
Remove few ivars from gcs_service implementation
Bugfix: unscope(where: [columns]) would not remove the correct binds sometimes Post.where(id: 1).or(Post.where(id: 2)).where(foo: 3).unscope(where: :foo).where_clause.binds.map(&:value) Would return [2, 3] instead of the expected [1,2]
`Response#charset=` uses `default_charset` when `nil` is passed
Brush up local variables assignment
Use `#set_content_type` instead of `#set_header`
Change the "International Date Line West" TZInfo timezone from "Pacific/Midway" (-11) to "Etc/GMT+12" (-12).
Assign `content_type` only once
Allow to edit secrets in mutiple apps at the same time
Remove extra `.merge!(order: "id")` for `Relation#first` in tests
Sort enabled adapter extensions in schema dump
Remove needless restoring of `default_charset`
Update GCSService#url
normalize_path used to be nil tolerant
Revert "S3: slim down service implementation (#40)" (#41)
S3: slim down service implementation (#40)
Change sqlite3 boolean serialization to use 1 and 0
Very incomplete first stab
Revert "Depend on Rails > 5.1"
Depend on Rails > 5.1
[Action Record] `rubocop -a --only  Layout/EmptyLineAfterMagicComment`
[Action View] `rubocop -a --only Layout/EmptyLineAfterMagicComment`
[Action Pack] `rubocop -a --only Layout/EmptyLineAfterMagicComment`
[Active Job] `rubocop -a --only Layout/EmptyLineAfterMagicComment`
[Active Support] `rubocop -a --only Layout/EmptyLineAfterMagicComment`
Enable Layout/EmptyLineAfterMagicComment cop
Extract `FakeKlass` in `relation_test.rb` and `relation/mutation_test.rb`
:scissors:
Add backticks for class names in CHANGELOG [ci skip]
Add ActionController::Base.skip_forgery_protection
Protect from forgery by default
Expose chunked downloads
* Don't eagerly require Rails' minitest plugin.
Added time helper method `freeze_time` which is an alias for `travel_to Time.now` (#29681)
Scope aws-skd to version 2 (#34)
Make sidekiq and resque integration tests work in CI
Configurator tests: work against test-local config
Tests: Dir.mktmpdir neatly wraps up tmpdir + join
Use frozen-string-literal in ActiveJob
Add basic tests to the Configurator#build (#28)
Accept sgids for existing blobs created via direct upload as an attachable
[ci skip] Updated language on validations.
Direct uploads for S3
Copypasta comments
[ci skip] update MessageEncryptor example to use the key length as returned by OpenSSL
Proper logging is now in place
Test URL generation for S3 and Disk
Instrument and log the services
Example of keyfile specification
Ensure binary encoding for downloading
Symbolize all keys inside configuration nested hash
Use class methods scope now that we have multiple
Match new configurator needs
Use frozen-string-literal in ActiveSupport
Clarify how a service can build other composed services
Service: clarify Service.build arguments
Load environment file in `dbconsole` command
Travis CI ðŸ’¡
Configure services that reference other services
Sync transaction state when accessing primary key
Treat secrets as binary
Mirror: explicit primary service and list of mirrors
Disk storage: ensure URLs end with the blob filename since some user agents don't respect Content-Disposition filename
Disk service: use binary IO throughout, not UTF-8
Tests: skip GCS/AWS service tests if unconfigured
Add backticks [ci skip]
Add a brief roadmap section
Don't call register on custom drivers
Clarify i18n guide for how pluralization rules work by default
Change type of created_at columns from time to datetime
Don't allow uuids with orphan curly braces
Test thor master
Add ActiveModel::Errors#merge!
Remove driver-specific hard-coding in the tests.
Rename the StatementInvalid test method for clarity.
Add some documentation
It is an engine (because of tasks) not a railtie
Make preload query to preparable
Update README.md
Bundle google-cloud-storage instead of the full Google SDK
Adds descriptions to rails-ujs methods [ci skip]
Create db/migrate if it doesn't exist
Do not update `secrets.yml.enc` when secretes do not change
Use `information_schema` to extract `generation_expression` for MariaDB
Rename raw_write_attribute to write_attribute_without_type_cast
Add `rails secrets:show` command
Test deleting a nonexistent key
Use safe navigation
Remove unnecessary method delegations
Add a test case for overwriting existing condition on associations
Correct config path in error message
Send checksum to S3 to verify file integrity
Prepare AP and AR to be frozen string friendly
Style
Adding server side integrity check for GCS Service
Use StandardError instead of RuntimeError.
Link up main models
Describe some of the design differences in AS
Use correct syntax in erb block
Documentation, yo!
Helper methods are private
Check integrity after uploads
Escape commands and paths
Dropped from the interface
It's base64 now since the clouds expect that
Need the byte helpers
There are two
Compute checksum and byte_size client side
Remember to add streaming
This is even more explaining and upload/download don't have some inherent need to synchronize chunk sizes anyway
We have the technology!
Convert magic number to constant
Skip query cache for in_batches and friends
Clearer focus on cloud
We are using the try operator
Extract configuration into config/storage_configuration.yml
Add task to install the migration needed
Flesh out mirror tests
Mirror: only hit all sites for upload and delete
Rename from Site to Service now that we're called Active Storage
Update README with new name
ActiveVault -> ActiveStorage
Don't translate non-database exceptions.
ActiveVault::Site::MirrorSite#url
Update default app files in app_generator_test
Allow mounting same engine under several locations
Basic MirrorSite
Record outstanding todos
Default to purging later when the owning record is destroyed
Moving this to the macro definition
Bit further on the README
Only purge if attached
Avoid duplicate attachments
Force ActionController::Base lazy laod hooks to run
Require the Active Support core extension used
Ensure the array is flat
Slim down examples
Attached one and many
Use `map` in `delegate` so that actual prefixed method names are returned, if using prefix version.
Add attachments
Assign plain metadata for now
Use active_vault as the table prefix
Last name update
Rename from ActiveFile to ActiveVault since activefile gem name was taken
Load the Parameters configurations on the right time
Commit gemfile.lock
Eliminate SIGNER
ActiveFile::Site::GCSSite#url
Quote the filename to deal with spaces
Better error reporting
Wait on Marcel for now
Extract create_blob test helper
Remove database specific JSON types
Use explaining parameter name
Actually #url needs to deal with the disposition
Rescue require exception
Test filename
Breathing room
Pair down interface to match what's been implemented
Disposition is a header, not part of a URL
Use lazy-loaded factory method for site configuration
Allow the use of Bundler 2.0
Differentiate between io streams and read data
Extract cloud site configuration to gitignored YAML file
Extract shared tests
Extract explaining methods
Extract explaining method
Add missing http status codes [ci skip]
Add missing `attr_name.to_s` in `AttributeMutationTracker`
Remove unused `association_key` and `table` methods in `Preloader::Association`
Remove unnecessary requires
Shush noisy Ruby interpreter warnings
Add a Google Cloud Storage site
Update for AWS S3 v2 API and test it when supplying the right ENVs
Match File.exist?
No longer used
Download disk blobs with verified URLs
Download extract from BC3
WIP: Disk URLs
Use rails_blobs for table to mimic routes prefix etc
Missing CR
Add backticks [ci skip]
Use self-explaining named parameter
Simple idea for a mirror site
Example of how configuration could happen
Remove redundant `assert_respond_to`
Forget about verified IDs for now
Start on S3 site
Expectation first
:warning: "Use assert_nil if expecting nil. This will fail in Minitest 6."
Move test related to `tmp:clear` task to `tmp_test.rb`
Apply record state based on parent transaction state
Deprecate and replace `set_state` method
Avoid shadowed variable
SystemTestCase undef some IntegrationTest methods because it's confused to use.
Add source code and changelog link to railties.gemspec
Uploading will set blob's byte size and checksum
Breathing room
Test basic upload
Standardize on #byte_size
Match domain language
Sort out circular dependency for now
Test blobs with real db backend
Test checksumming
Update README.md
Autoload site
Implied well enough
Underscore its an interface
Ignore byebug history
Test DiskSite
Quote this!
Style
Actual dependencies
Switch to double quotes for Rails linter
[Action Cable] require => require_relative
[Active Job] require => require_relative
[Action Mailer] require => require_relative
[Action View] require => require_relative
[Action Pack] require => require_relative
[Action Controller] require => require_relative
[Abstract Controller] require => require_relative
[Action Dispatch] require => require_relative
[Active Record] require => require_relative
[Active Model] require => require_relative
[Active Support] require => require_relative
[Railties] require => require_relative
Enforce frozen string in Rubocop
Properly register "custom" URL helpers as named helpers.
Require what we need
Right paths
Don't give return guarentees
No need to normalize since we generate our own keys
Space to breathe
Its a key now
Go with site instead of store
No need for rails prefix
Use key instead of token
Delete stale comment for `AR::Associations::Builder::CollectionAssociation`
Add CHANGELOG for #29630 [ci skip]
First sketching
Fallback Parameters#to_s to Hash#to_s
Add system tests to generate scaffold
[ci skip] run migration before looking at schema
Don't cache queries for schema statements
Should be clear `@association_ids` when joined newly associated record
Deprecate delegating to `arel` in `Relation`
Add `srcset` option to `image_tag` helper
Should use the same connection in using query cache
Specify correct extension for text layouts
Remove unused `aliased_table_name` in `Association`
Use `quote` method rather than single quotes to identifiers in SQL
Remove delegating to arel in a relation
Show query cache keys in `test_middleware_caches`
Enable query cache if set a configurations
Don't passing `klass.connection` to `AssociationScope`
Add a test case for unscoping `default_scope` in associations
:scissors:
Use `reload` in `test_find_first_after_reload`
ActiveRecord: do not create "has many through" records that have been removed
Add source code and changelog links to gemspecs
Show query cache keys in `test_exceptional_middleware_clears_and_disables_cache_on_error`
Remove useless class checking for `ActiveSupport::Callbacks`s result_lambda
Move building constraint to `join_scope` in `Reflection`
Move constructing polymorphic type to `join_scope` in `Reflection`
Skip instantiating `NullPreloader` if `assoc.klass` is nil
Document ActiveRecord's PostgreSQL-specific support for JSONB datatype in RailsGuides
ActiveJob::Core#serialize stores provider_job_id (fixes #26581).
Adds CHANGELOG for f55ecc6 [ci skip]
Ignore public/assets
Clear screenshots files in `tmp:clear` task
Update security.md
Calling `follow_redirect!` does not reset the `html_document`:
Remove needless gitignore
Add `railtie.rb` to the plugin generator
Move constructing join scope to `Reflection`
Ensure that using correct alias tracker
The AliasTracker#aliased_table_for needs the type caster for the joined association, not the join root
Don't wrap parameters if query parameter exists
Add an option to silence puma in system tests.
Remove unnecessary `tap` call on `ActionDispatch::MiddlewareStack` instance
Extract `ordered_relation` in `FinderMethods`
Extract `build_scope` and `predicate_builder` in `Reflection`
Guides: Clarify partial local variable naming. Clarify the partial local variable name as being the same as the name of the partial, minus the _leading_ underscore.
Don't wrap parameters if key already exists
Removed reference to unexisting methods:
Add more explicit guidance on how to fix callback deprecations
Ensure `false` is preserved in attr serialization
Allows for other common redis options to be in cable.yml, by default
Remove unused variable
Move clearing of @offsets cache to reset_scope
Do not use private API in bug report templates
PR Review
pass `structure_dump_flags` / `structure_load_flags` options before any other:
Avoid begin/rescue in fixture quoting
Keep INNER JOIN when merging relations Doing `Author.joins(:posts).merge(Post.joins(:comments))` does this `SELECT ... INNER JOIN posts ON... LEFT OUTER JOIN comments ON...` instead of doing `SELECT ... INNER JOIN posts ON... INNER JOIN comments ON...`.
Clear offset cache on CollectionProxy reset/reload
Adds missing minor doc about tools/test.rb [ci skip]
Use bulk INSERT to insert fixtures
Shrink image files in the guides using ImageOptim
Make ActionView frozen string literal friendly.
Make ActionMailer frozen string literal friendly.
Make ActiveRecord frozen string literal friendly.
Make ActiveModel frozen string literal friendly.
prepare for Minitest 6
Make ActiveSupport frozen string literal friendly.
`Relation#locked?` should not build arel
Add changes to CHANGELOG
Refactor #insert_fixtures to use Arel
CI against JRuby 9.1.12.0
Improve the performance of writing attributes
Prevent extra `scope` construction in `find_target`
Deprecate an `capify!` method in generators and templates
Remove debug print
Add a test case for #28754
[ci skip] Update fedora SQLite3 package name
Remove FK together with column in MySQL
nodoc AC::Connection::WebSocket
Add the `<app_root>/test` dir to the `$LOAD_PATH` as a string:
Document setting the delivery_job for ActionMailer [ci skip]
Use nullable `id` column instead of a primary key
Don't map id to primary key in raw_write_attribute
Don't require 'unscope' to be the same for both sides of a 'or' relation.
Remove deprecated option from docs [ci skip] (#29459)
Ensure query caching for `select_*` methods in connection adapters
Allow mailers to configure their delivery job
Updated `working with javascript` readme to support the behavior of rails-ujs.
add frozen string literal comment
Add test cases for #28274
Prevent extra `sync_with_transaction_state`
Allow `uuid_test.rb` to be loaded on all adapters
Use `require_relative` instead of `require` with full path
freeze string
enhance active model assignment
Add test for backward compatibility when using change_table
Clean up 'Optimistic Locking' implementation
Add test cases for optimistic locking
Add note to Railtie docs to use unique filenames
Drop IRB out of the web-console Gemfile comment
[ci skip] Add changelog entry for 6d402c6
set message_encryptor default cipher to aes-256-gcm
Remove unused `Subject` model in tests
Remove unused defined association
Missing dots [ci skip] (#29414)
Document Module#delegate_missing_to in the guides
Access EDITOR through Ruby's cross-platform ENV.
Generate field ids in `collection_check_boxes` and `collection_radio_buttons`
Cache: test coverage for cleanup behavior with local cache strategy
Revert #25628. Incomplete change + needs a deprecation cycle.
Remove `null_allowed` option from doc [ci skip]
Split up the cache test suite so it's easier to understand and extend (#29404)
[ci skip] Add backquote to :counter_cache option
Make i18n test match the description of the test
remove the extra comma in association_basics.md
Insert environment value to `InternalMetadata` after recreating the table
Raise on create for singular association when parent is unpersisted
Don't rely on the @view_renderer being defined.
Use a hash to record every partial's cache hit status instead of sharing a boolean.
Bundle capybara 2.14.1 that includes fix for Ruby warnings
Remove unreachable code
Don't support namespace in form_with.
Move slicing to initializer.
Add teardown to reset_connection at MysqlTypeLookupTest to address `Mysql2BooleanTest#test_column_type_without_emulated_booleans` failure
Avoid overwriting the methods of `AttributeMethods::PrimaryKey`
Cache: write_multi (#29366)
    Changed default behaviour of `ActiveSupport::SecurityUtils.secure_compare`,     to make it not leak length information even for variable length string.
Update upgrading guide w.r.t. Parameters to use other example method than slice as this has actually been implemented by Parameters
Remove invalid entry from the guides index page
Tiny documentation fixes [ci skip]
PostgreSQL 10 converts unknown OID 705 to text 25
Let's test nokogiri 1.8 against edge Rails, and vice versa
Remove html tag making markdown misrender [ci skip]
[ci skip] UNIQUE constraint affects not only INSERT but also UPDATE
Remove redundant `assert_nothing_raised` before another assertions
Ensure MSSQL password uses real ENV var.
Load schema before assertion
Remove deprecated passing of string to :if/:unless (#29357)
Testing `ReservedWordTest` for all adapters
Test concurrency of visitor superclass fallback
Don't mark the schema loaded until it's really finished
Don't create extra assignment, just return
Remove assert_nothing_raised, as test is already testing the required concerns
[ci skip] Add missing `be`
Use mattr_accessor default: option throughout the project
Implement mattr_acessor :default option
Explicitly clear type map before run `test_only_reload_type_map_once_for_every_unknown_type`
Remove a redundant default_scope tests
Change default application.js included in new Rails app [ci skip]
Reset the fixture cache after (re)loading the schema
Make Rails welcome page responsive
Clean up `type_map` at the end of test_respond_to_for_non_selected_element
SystemTesting::Driver can register capybara-webkit and poltergeist drivers.
Remove the redundant `test_find_all_with_join` in AR
Use existing class in PersistenceTest::SaveTest
Replace an outdated mention of `jquery_ujs` with `rails-ujs` [ci skip]
Simplify `assert_no_match %r{colname.*limit:}` regex
Correct a has_many association test
Should use `quote` for a string literal
Remove the pathname dependency from bin/update and bin/setup
The receiver in a scope should be a `relation`
Add missing `delegate :extending, to: :all`
Prevent making bind param if casted value is nil
Make sure to disable extension after test
Remove a redundant test case of HABTM_associations_test
Support PostgreSQL 10 `pg_sequence`
Replace therubyracer with mini_racer
Remove requirement on mathn
Add next occur and previous occurred day of week API (#26600)
Consolidate database specific JSON types to `Type::Json`
Don't expose methods and attrs for internal usage
Add an extra test showing why collections are cached
Grammar fixes
Do not use UTF8 in test SecretsCommandTest#test_edit_secrets
Add backticks
Grammar fixes
Reset time zone to previous value
Bump RuboCop to 0.49.1
Add missing "not" in the doc for `assert_no_changes` [ci skip]
Remove extra block for `assert_changes` [ci skip]
Deserialize a raw value from the database in `changed_in_place?` for `AbstractJson`
Extract `default_extensions` to avoid `klass.all`
Pass params __FILE__ and __LINE__ + 1 if class_eval with <<
Add option for class_attribute default (#29270)
Doh. We are doing this on secrets:setup. Revert "Ignore the encrypted secrets key file that is created by rails secrets:setup"
Ignore the encrypted secrets key file that is created by rails secrets:setup
Add elm option of webpack to generator description
Remove a redundant test assertion
List assert_{,no_}changes in the testing guide
`rename_table` renames primary key index name
Deprecate passing arguments and block at the same time to `count` and `sum` in `ActiveRecord::Calculations`
Remove a redundant test case of command_recorder_test
Remove mentions of deprecated callbacks on ActionDispatch::Callbacks
Prevent extra `current_database` query for `encoding`/`collation`/`ctype`
Bring back delayed_job to test list
Bump `delayed_job_active_record` gem
Clear all current instances before a reload.
Make reset execution assertions easier to read.
Remove double Thread.current storage.
Refactor `default_scoped` to avoid creating extra relation and merging
Includes namespace in system test skelton when namespace is specified
Remove unused `Association#interpolate`
Cache the association proxy object
Use non-raising finder.
Use models to match the docs.
[ci skip]fix wrong variable name in docs
[ci skip]fix wrong variable name in docs
Switch to rb-inotify master
Update to rails-ujs documentation for yarn install
Doc updates for ActiveRecord::Batches
ActiveSupport::CurrentAttributes provides a thread-isolated attributes singleton (#29180)
Remove a redundant test assertion
Do not show --webpack option in the plugin help message
Removed string inquiry.
Provides friendlier way to access queue adapters of a job.
[ci skip] Changed sentence formation for ActiveRecordRelation#update
Avoid circular require due to autoload
Prevent a redefinition warning when the real Rails.root appears
Remove unused test class
CI against JRuby 9.1.10.0
Make #deep_dup use #allocate instead of #new
Remove redundant test method
Remove a duplicate test of mysql_rake_test
Reorder first secrets edit flow.
Add ActiveRecord::Relation#or description to guides [ci skip]
Remove a duplicate test of schema_authorization_test in AR
Remove a duplicate test of migration_test in AR
Add a Monitor to ModelSchema#load_schema
Capitalize Gmail
Performance optimization for ActiveRecord#column_defaults
Performance optimization for ActiveRecord#subclass_from_attributes
Performance optimization for AttributeSet#deep_dup
check that logger is defined in log subscriber rescue before logging
lob subscriber should only rescue StandardError, not Exception
[ci skip]fix wrong variable name in docs
rubocop namespace changes from `Style` to `Layout`
Update information on using Gmail when 2FA is in use [ci skip]
We dont actually use the ultra short-hand, so no need to complicate things with it
Slim down the source definition
`DEFAULT_ENV` falls back to `default_env` when `RAILS_ENV` or `RACK_ENV` is an empty string
Correctly set user_supplied_options when there is no whitespace in option specification
Bump rubocop and dependent gem versions
[ci skip]fix wrong method name in docs
Enable extending even if scope returns nil
Remove needless waiting message.
Define path with __dir__
Remove unused simulate method
More friendly exception in nested attributes
Refactor making join constraints
Remove unused `left_joins_values` generation
Support INSERT with multiple values
Remove rubygems version lock
AEAD encrypted cookies and sessions
Update test link in ActionView javascripts README.md.
Extract `JSONSharedTestCases`
Remove unused `JoinPart#name`
We always + 1 to __LINE__ when class_evaling with <<
Simplify handling of prerequisites in Getting Started guide [ci skip]
Improving docs for callbacks execution order [ci skip]
Remove obsolete Guides source files [ci skip]
Update Rails API Application guide to match current code [ci skip]
bundle up sidekiq to the one with safer integration with Rails 5
Remove a duplicate test of inverse_associations_test in AR
identifiers is already defined via Connection::Identification module
Update 'Rails on Rack' guide [ci skip]
Remove unused mismatch payload attribute
Unused variable
Add :json type to auto_discovery_link_tag
Make `VALID_DIRECTIONS` to `Set`
Check for jQuery ajax
Add cache_key_with_version and use it in ActiveSupport::Cache.expand_cache_key
ERB::Util.url_encode no longer escapes ~ since ruby 2.5
mathn has been gemified in ruby 2.5
Clarified description of formats [ci skip]
Both reference id and type should be `NOT NULL` if `null: false` is specified
Make helper methods in tests to private
Cleanup CHANGELOGs [ci skip]
Added missing punctuation [ci skip]
Document support for composite primary keys
Use recyclable cache keys (#29092)
Specify only the body of the response is returned [ci skip]
Prevent extra `through_scope`
Document accessors response_body, action_name, formats [ci skip]
CI against JRuby 9.1.9.0
Remove unneeded `association.respond_to?(:reset_scope)`
Set non 0 value to logger not to be affected by Ruby versions Addresses #29021
Address LogSubscriberTest failures to support Rails 2.5.0-dev
some typos and rephrasing in system test guide [ci skip]
Changelog entry [ci-skip]
Improvements for SQLite rake task.
Update SchemaDumper.ignore_tables docs
Respect 'ignore_tables' in SQLite structure dump
Respect 'ignore_tables' in MySQL structure dump
Respect `ignore_tables` in Postgres structure dump
Bump rack version
Better spacing in environments/production.rb file
Updates to MessageEncryptor AEAD tests
Don't cache locally if unless_exist was passed
explain why guide translations need a fork [ci skip]
Clarify documentation for system test arguments
Use a more realistic use-case for system test generator
Update system test runner docs
Use `timestamp_attributes_for_update_in_model` rather than `timestamp_attributes_for_update`
Remove returning true in internal callbacks
Explicitly create necessary data for test
Old expression caught to many chars resulting in 404. Added minor change to resolve
[ci skip] Mailer fixtures in Testing guide.
Maintain original encoding from path
Suppress `warning: assigned but unused variable - stdout`
Defer loading each DB Tasks class from AR DatabaseTasks
Don't eager loading if unneeded for `FinderMethods#exists?`
Pass block in ActionController::Parameters#delete
handle loops in the cause chain in Rescuable#rescue_with_handler
rake -T should load development env by default, not test
[Foreign Key] Don't worry about the building identifier if name is already present.
remove the phrase as well
Capitalize Rake
fix the dirty tracking code's save hook overwriting missing attributes with initialized-to-nil attributes.  fixes #29017.
Allow to receive arbitrary arguments in `aggregated_results`
[ci skip] explain async queue and rake tasks
Allow irb options to be passed from `rails console` command
Refactor enum to use `value` instead of `label` in the scope
Should escape meta characters in regexp
Delegate `ast` and `locked` to `arel` explicitly
Remove unused `DelegationTest#call_method`
Allow capybara minor releases
Clarify deprecation message for #quoted_id
Don't pass `arel.engine` to `Arel::SelectManager.new`
Add regression test
Update test names to match method name
Assorted delegate_missing_to doc fixes
Avoid rubygems 2.6.12 for now
Use mysql2 0.4.6 to suport MySQL 8.0.1
Remove useless `target_records_from_association`
Remove unused `engine`
Move `package.json` creation to `create_root_files`
Use target language's document.yaml [ci skip]
Should test against `Relation#bound_attributes`
Remove duplicated `test_merging_reorders_bind_params`
Extract `bind_param` and `bind_attribute` into `ActiveRecord::TestCase`
fix ActiveModel::Validator#kind code examples [ci skip]
remove uniqueness validators from ActiveModel examples
Add type caster to `RuntimeReflection#alias_name`
Rails secrets is not built on but inspired by Sekrets
Set proper assertion to be sure the test failed
Add missing require in ActionMailer
Update the Gem Bug Report Templates to 5.1.0
CLI arg `--port` has precedence over env `PORT`.
Support multiple inserts
Remove unnecessary `package.json` deletion
Friendly maintain schema failure
Deprecate `supports_statement_cache?`
Remove `:doc:` in `:nodoc:` class [ci skip]
Default content type for `head` is `text/html`
Add period
Add docs for  Router::Utils.unescape_uri method
Cleanup CHANGELOGs [ci skip]
Remove `method_missing` in `Relation::Delegation`
Use `flat_map` rather than `map(&:...).flatten`
Remove `HasAndBelongsToManyReflection#initialize`
Remove entries included in 5.0 [ci skip]
Stop creating duplicate Struct instances
Add missing require for `remove_possible_method`
5.1 Release Notes are complete [ci skip]
Small grammar fix
Small grammar fix
Small grammar fixes
Added some more release notes for Active Record [ci skip]
Ensure input to distance_of_time_in_words is not nil
Also raise error when VERSION is nil
Evaluate belongs_to :default option against the owner, not the association
Add documentation of data attributes for UJS [ci skip]
Prevent negative IDs in output of #inspect.
Nest Action View remote helpers one level deeper [ci skip]
Add a section with the different Ajax events [ci skip]
Update the JavaScript guide to use `form_with`
Avoid stubing on this test
Run ReloadModelTest in a different proccess
Only clean the connection of the current connection pool
Restore `fixtures :author_addresses`
New minitest 'assert false' message
Don't use same table between primary_keys tests and composite_primary_keys tests
Don't add specific id's to the readers fixtures
Add minitest-bisect as part of the gemfile
Release minitest lock so we can fix the order dependent tests
Added a shared section to config/database.yml that will be loaded for all environments
Do not try to encoding the parameters when the controller is not defined
Pluralize methods
More release notes for Rails 5.1 [ci skip]
Add some items to the release notes [ci skip]
Add lazy loading to #keys and #values methods in Session
Some improvements in the 5.1 release notes [ci skip]
Remove mysql2 database adapter default username root
Lock connection before checking it in
Refactor DatabaseTasksMigrateTest#test_migrate_receives_correct_env_vars
Refactor AR::Tasks::DatabaseTasks::migrate
s/broadcasing/broadcasting/
PostgreSQL 10 allows `CURRENT_DATE` and `CURRENT_TIMESTAMP` as default functions
Remove useless test case
Describe the changes in transactional tests
Remove checks for Enumerator#size method
PostgreSQL lateral expressions
fix docs for show_detailed_exceptions?
Add missing `action_view` section of config flag
Unify the name of GitHub [ci skip]
Add `form_with_generates_remote_forms` to configuring guide [ci skip]
Enable query cache on all connection pools
Replace \Z to \z
`sort_query_string_params` method is no more used
Remove unnecessary `skip_default_ids` and `allow_method_names_outside_object` attributes of select tag in `form_with`
secrets.yml --> config/secrets.yml
Add Action View info to 5.1 release notes
Use parameters, not params
Small grammar fixes
Remove unused heading
Add more Railties notable changes
Add Railties info to 5.1 release notes
Add Active Model info to 5.1 release notes
Remove unused headings
Finish Action Cable section in release notes
Finish Action Mailer section in release notes
Add Active Job info to 5.1 release notes
Ask for a sane version of SDoc
Ensure bin/yarn matches the one generated by webpacker
`respond_to_missing?` should be private
Set to `form_with_generates_remote_forms` only when config is explicitly specified
Mixin `CollectionProxy::DelegateExtending` after `ClassSpecificRelation`
Add note about #26929 in the upgrade guide
Configure form_with_generates_remote_forms in its own initializer
Add test case to make sure we can implicit convert a Parameters to a Hash
Don't attempt to create a new record that was already created.
Add missing require
Add comma
Prevent double firing the before save callback of new object when the parent association saved in the callback
Namespace CSS selectors on error pages
Add regression test for setting inverse instances on normal & polymorphic relationships when building objects on new records
Remove :polymorphic from INVALID_AUTOMATIC_INVERSE_OPTIONS
Remove outdated comment
Use released sass-rails instead of master version
Send deprecation horizon and gem name as arguments to deprecation heavier handler, and make sure they are used for the ActiveSupport::Notifications message.
Add additional raise UnknownMigrationVersionError
Reword sentence
[ci skip] Changed plain text to NOTE.
Use `quoted_scope` rather than `@config[:database]` to respect current database
Remove datetime fields from helper list [ci skip]
Reuse the Parameters#to_h check in the routing helpers
Follow the style guide rules in the documetation
Improve documentation
Implement ActionController::Parameters#to_query and #to_param
Use the right assetions to better error messages
Add test to make sure that to_unsafe_h don't mutate the target
Add ActionController::Parameters#to_hash to implict conversion
Raise exception when calling to_h in a unfiltered Parameters
Test the correct object
Explicitly require AS::Time in AS::Testing::TimeHelpers
Use more specific check for :format in route path
Add missing periods
Small docs fix
Add (more) documentation to to_time
Explicitly require AS::Notifications in AS::Cache
Add missing word 'to' [ci skip]
Small grammar fix
Small grammar fixes
Don't fallback to utf8mb3 after MySQL 8.0.0
`cache_key` respects the limit in a relation even if a relation is not loaded
There are actually only 134 unique timezones.
Add Puerto Rico support to ActiveSupport::TimeZone
Log any errors originating from the socket
Bump the bundled GlobalID version.
Add `form_with_generates_remote_forms` config.
Default embed_authenticity_token_in_remote_forms to nil.
Let run_secrets_generator handle chdir.
Use the config value directly when call `secrets`
Support Descending Indexes for MySQL
Refactor `indexes` things in connection adapters
Revert parts of cad58fb
Early return in `PredicateBuilder::ArrayHandler`
Rename `association_query_handler.rb` to `association_query_value.rb`
Move around AR::Dirty and fix _attribute method
Add additional options to time `change` methods
Add tests for render template/partial with variants option.
Improve documentation and add test
Close form_for tag in FormHelper API docs
Make code statistics task handle system tests properly
Add a test case for #20802
:scissors:
Switch to LIFO for the connection pool
Use a query that's compatible with PostgreSQL 9.2
Don't generate system test files if `skip_system_test` option is specified
Move CHANGELOG.md entry from Active Support to Action Pack
:scissors:
Don't freeze input strings
Update routing doc on the `get` `to:` option [ci skip]
Set current page as default for ajax requests
Add Documentation for Active Support On Load Hooks
Add action_controller_api, action_controller_base on_load hook
`AssociationQueryValue#queries` returns an array for more concise association handling
Add comprehensive locking around DB transactions
Remove link to rack.github.io
Small grammar fixes
Pluralize callback
[ci skip] documented issue related before_destroy
Implement `fetch_values` for HashWithIndifferentAccess (#28316)
exclude ORDER BY clause for exists? (#28699)
Started adding release notes for Rails 5.1 [ci skip]
delegate_missing_to should fall back to super
delegate_to_missing doesn't delegate private methods
Convert `PolymorphicArrayValue` to PORO queries
Update the expected folders containing keeps
Convert `AssociationQueryValue` to PORO queries
Expose `queries` for `AssociationQueryValue` and `PolymorphicArrayValue`
Tweaks #28678
Add text to "Upgrading to Rails 5.1"
Mention and test for possible ArgumentError when parsing times
Add scaffolding for different sections in 5.1 release notes
Extract `construct_relation_for_exists` in `FinderMethods`
Drop the "Sanity Check" contributing step
Remove mentions and instructions for docrails
More exercise `exists?` tests
Remove superfluous keep file
[ci skip] Change ++ by markdown quotes
Spaces
More :scissors:
:scissors:
Passing in no arguments to the dynamic fixture accessor method returns all fixtures, not an empty array.
Remove duplicated `delivery_method` definition
Remove duplicated "test" prefix
Improve logging when Origin header doesn't match
Correct Autoloading and STI guide (issue #26994)
Work around all the things
use formatted number as schema version
Ignore AR tests of index comment when using Oracle
Use appropriate type to `header` option
Avoid "can't modify frozen IOError" failures
Don't highlight code in anchorlink [ci skip]
Downplay links in Guides headers
CI against Ruby 2.4.1
Prevent aliases Array#append and Array#prepend
Set `Capybara.app_host` through `host!`
Revert "Avoid broken faraday 0.12.0 release"
Avoid broken faraday 0.12.0 release
No need to check nil
Add anchor links to all headers
Remove CHANGELOG.md entry that appears in 5-1-stable
Limit stale checks to issues
Add default_scope note to AR guide [ci skip]
Correct typo in component name
CI against Ruby 2.3.4
Add missing backtick to deprecation message
Small grammar fix
Reorganize rails-ujs files
Restore rails-ujs.js UMD module support
Move HashWithIndifferentAccess tests to separate file
Update comment in sanitizer helper test [skip ci]
Do not include default response headers for AC::Metal
Add aliases for reverse_merge to with_defaults
Small grammar fix
Add test to make sure subclasses also get helpers
Configure the days until close a stale issue
CI against Ruby 2.2.7
FinderMethods#fourty_two docs cite proper source
add hint on after_action filters
Remove CHANGELOG.md entry that appears in 5-1-stable
Load only needed records on ActiveRecord::Relation#inspect
Make `driven_by` overridable
Remove unnecessary `javascript` option check
Use keyword arguments instead of hash
starts_with? is removed in Ruby 2.4
Return unmapped timezones from `country_zones`
No need to duplicate 5-1-stable CHANGELOG. [ci skip]
Avoid to handle polymorphic association for `AssociationQueryHandler`
Add error logging to Active Job
Make sure that ActionController::Api can include helpers
Apply the log_level default
Use the stale branch
Add probot/stale configuration
ignore system test gems on Gemfile when execute with --skip-test option
Do not show hidden namespaces in destroy commnad help
Make internal methods to private
minor CHANGELOG formatting changes. [ci skip]
add field ids when generating a scaffold form.
Load :author_addresses
Use `SET CONSTRAINTS` for `disable_referential_integrity` without superuser privileges (take 2)
Action Cable owns database connection, not Active Record
Bump from h3 to h2 tag
Small grammar fix
Small grammar fix
Update middleware list
Upgrade various Rails 5.0 references to 5.1
Add WIP Rails 5.1 release notes to documents.yaml
Rename local variable name `current_user` to `verified_user` [ci skip]
Rename local variable name `current_user` to `verified_user` [ci skip]
Update Action Cable README.md - typo fix
Always need to extract `value.bound_attributes` if `value.is_a?(Relation)`
Remove unnecessary files to API-only Applications when `app:task` task executed
Doc cleanup for caching guide [ci skip] (#28556)
Remove unnecessary ruby version comments [ci skip]
add proper punctuation
update guide to reflect browser compatibility for HTTP verbs [ci skip]
make it clear how to enable caching
Additional explanation about cache implementations
Remove -j (--javascript) option from `rails new`
Move comment to inside the method [ci skip]
Remove `CollectionProxy#uniq`
Document AC::Connection::Authorization#reject_unauthorized_connection
No need to have an entry that was included in 5.1 in 5.2
List options for `rails new --webpack=WEBPACK`
Small grammar fix
Small grammar fix
Don't add a dummy API key to every new Rails app
Bump Travis ruby version to 2.4.1
Suppress `WARNING:  nonstandard use of \\ in a string literal` warning by setting `escape_string_warning = off`
Skip isolated test runs on older rubies
Stop complaining about not being able to digest dynamic template partial names and simplify error logging to a single line when not
Use DeprecatedConstantAccessor for AD::ParamsParser::ParseError
Add AS::Deprecation::DeprecatedConstantAccessor
Correctly reset ARGV for "rails runner `CODE' arg arg arg..."
Don't comment out config.file_watcher during Rails upgrade
[PostgreSQL]: Replace deprecated PG constants.
Update bug report templates
Start Rails 5.2 development
CLI arg "host" has precedence over ENV var "host"
Added options hash to titleize method and keep_id_suffix option to humanize
Wrap store accessors in parameters
Update Configuring Rails Component guide example
Remove 5.0.0 entry from 5.1.0 CHANGELOG [ci skip]
unify puma types and remove blocks
Update the maintenance policy [ci skip]
Default to yielding a `form` variable.
Preprocess association query handling in predicate builder
Remove duplicated `columns` definition
Add `app:update` task to engines
Evaluate the default block only when necessary
Correctly check whether key is defined in configuration
Remove stray back-end from ActiveJob Basics guide
Minor grammar fixes for Rails 5.1 release notes
Update some jquery-ujs references to rails-ujs
Add link to rails-ujs/dropping jQuery PR
Add link to Webpack/Webpacker PR
Second pass on 5.1 release notes
First pass on 5.1 release notes
Use `load` rather than `collect` for force loading
Delegate `uniq` to `records`
Always use original url_for when generating direct routes
Track the version-compatible config settings inside railties
Improve Caching with Rails Guides [ci skip]
uniq was deprecated and removed already
Add support for calling nested direct routes (#28462)
Add :default option to belongs_to (#28453)
Bump Capybara and include Minitest::Assertions
Cleanup documentation fixes (#28460)
number_to_human_converter: round before calculating exponent
number_to_rounded_converter: extract rounding logic
Add documentation to use with_options in the same class [ci skip]
Move new CHANGELOG entry to the top [ci skip]
Updates incorrect documentation [ci skip]
Move `to_time` to `DateTime` compatibility.rb file
Remove ability update locking_column value
Update 'Building Complex Forms' with `inverse_of`
Tweak 28412
Remove unnecessary params munging
Revert #27850 following test breakage (#28427)
Restore 5.minutes changed in #28204
Use better duration aliases in tests
Remove implicit coercion deprecation of durations
Remove unused `@txn` variable
Rename test of `app:update` to more appropriate name
Don't cast to float unnecessarily
Add documentation about signature_key for MessageEncryptor.new [ci skip]
Add CHANGELOG entry for --skip-coffee [ci skip]
Raise when using a bad symlink
disable remote submits
Remove obsolete warning about regular expression
Make destroy command work within engines
Add CHANGELOG for #26226 [ci skip]
user form with instead of form for in scaffold generator
Move "fixes" to a new line
Lint activesupport/CHANGELOG.md
Small grammar change + new line for "fixes"
Small grammar change
[docs] fix ActionDispatch documentation
Pass options to `driven_by`
Add blurbs about each new feature [ci skip]
Second editing pass on "Active Model Basics" guide
First editing pass on "Active Model Basics" guide
[docs] fix ActionController documentation
Add link to mentioned API [ci skip] (#28392)
AS:Cache:MemoryStore doc fixes [ci skip] (#28389)
Add secrets edit test
Dont always display inline screenshots in system testing (#28133)
[docs] remove unnecessary sentence
Use correct value in `reverse_merge` test
Remove non-exists method delegation and correct doc
Add @takkanm credits in the changelog [ci skip]
Improve readability of testing guide [ci skip]
Make sure local cache cleared even it's throwing:
Simply delegate `as_json` to `records`
Simply forward `Calculations#count` to `Enumerable#count`
Remove conditions parameter from `NullRelation#delete_all`
Use â€œdistinctâ€ to filter redundant types from pg_typeto reduce memory bloat especially in multi-schema structure database
Prevent event propogation if element is disabled when event chain begins.
Add missing credit [ci skip]
[ci skip] Document read_encrypted_secrets config.
Added `reverse_merge`/`reverse_merge!` to AC::Parameters:
Call system test driver per-instance rather than globally
Edits to Systems testing section [ci skip]
Refactor system test driver/browser
force UTF-8 as external encoding in guides generation [ci skip]
Deprecate `Migrator.schema_migrations_table_name`
Document using `default_url_options` in an ActionMailer class.
Use appropriate type in generators test
Tests for delegated public methods on AC::Parameters
params --> parameters
Document delegated public methods on AC::Parameters
Check whether `Rails.application` defined before calling it
Remove `:on` option that does ot exist [ci skip]
CI against jruby-9.1.8.0
Handle #to_time and memoization taking into account memoization, frozen state, and preserve_timezone flag.
[ci skip] ðŸŽ¬ expensive: take two
Update `titlelize` regex to allow apostrophes
Allow unscoping of left_outer_joins
Improve foreign key description in guides [ci skip]
Add CHANGELOG entry for #28250
Add CHANGELOG entry [skip ci]
Use method from Hash
Make the order of Hash#reverse_merge! consistent with HashWithIndifferentAccess
Extract `SchemaMigration.all_versions`
Revert "Add a changelog entry for #28284 [ci skip]"
Avoid running system tests by default
Remove useless `Migrator.schema_migrations_table_name`
Don't hide method that's been documented API since Rails 2.1
Add a changelog entry for #28284 [ci skip]
[ci skip] Add CHANGELOG entry for #28282
Fx system test example [ci skip]
Silence puma startup messages in system test
Do not take screenshot if driver does not support screenshot
Don't share `options` with a reference type column
 [ci skip]  Use return with redirect_to
Escapes and edits to configuring guide [ci skip] (#28280)
A private method can't be called with `self.`
remove unused parameters
`join_keys` no longer needs a class passed to it
refactor so there is only one JoinKeys factory method
Add `rfc3339` aliases to `xmlschema`
Add `Time.rfc3339` parsing method
Add `ActiveSupport::TimeZone.rfc3339` parsing method
Add `ActiveSupport::TimeZone.iso8601` parsing method
Don't accidentally lose includes in serialization
Remove unnecessary system test code
ask reflection for klass join reflection
Move join scopes on to the reflection object
Remove `node` parameter to `join_constraints`
passing unique parameter to belongs_to wrongly
Add PR links for major features [ci skip]
Add first draft of release notes for Rails 5.1 :tada:
Show correct commands in help
Update `database.yml` when `rails new <new_app> -d oracle` specified
[ci skip] Add changelog entry for #28139.
fixed suspected typo in sample sql query
Inline CIPHER constant.
Move key packing into encryptor.
Add back yaml require.
Convert `ENV["EDITOR"]` to string before check
Deprecate implicit coercion of `ActiveSupport::Duration`
Update `DateTime#change` to support usec and nsec
Default Secrets to AES-128-GCM, using ActiveSupport::MessageEncryptor
[ci skip] Add changelog entry for encrypted secrets.
Pass request params to ActionMailer::Preview
Put it to me straight: just say it.
Tell users how to assign a $EDITOR.
Use appropriate type for `test_framework` option
Use DEFAULT_CIPHER constant in MessageEncryptor
Whitelist adapters that support aliases in `HAVING` clause
`HOST` must be all capital letters
Made InsertManager#insert chainable
Revert "Dupping a CollectionProxy should dup the load_target"
Improve documentation for Testing Your Mailers [ci skip]
Dupping a CollectionProxy should dup the load_target
`valid_type?` should accept only supported types
`create_join_table` should respect `references` column type
Ensure that tests will reset belongs_to_requierd_by_default config
Skip turbolinks for engine test application
Take failed screenshot before reset driver
Use `tables` instead of `data_sources - views`
Use released webpacker in new applications
Make required by default test for belongs_to association clearer
Remove `encode_special_chars` option from `strip_tags`
Oracle database also does not allow aliases in the having clause Follow up #28183
[Railties] Add config rake_eager_load
TaggedLogging to return a new logger instance
Handle non-existing $ARCONN
Set correct host except development environment
Allow order to be given expressions as hash keys
Only load SystemTestCase if Puma is defined
Use `max_identifier_length` for `index_name_length` in PostgreSQL adapter
Update i18n guide to cover :zero key support in pluralization [ci skip]
Deprecate `supports_migrations?` on connection adapters
Refactor connection_pool_test
[ci skip] Add CHANGELOG entry for #28183
Include selects in group query with having clause
Remove unused params.
Use released arel
Remove useless `select_values += select_values`
Remove duplicated private method
Add Duration#before and #after as aliases for #ago and #since
Push `valid_type?` up to abstract adapter
AS CHANGELOG Pass [ci skip]
Improve test for TaggedLogging "keeps each tag in their own thread"
Suppress `DISTINCT` clause outside aggregate function
Use ensure block for things we cleanup in tests
Deprecate AbstractAdapter#verify! with arguments
Commit flash changes when using a redirect route.
Imporove docs for Rails::AppGenerator [ci skip]
Add test for  method `#attributes`
Prefer `USING (column_list)` for joining information_schema
Order array contents to match Relation#first
Use shasum 256 on the release
Match the behavior of bigdecimal after https://github.com/ruby/bigdecimal/pull/55
Add few tests for the top level `HashWithIndifferentAccess`
Soft-deprecate the top-level HashWithIndifferentAccess class
Add missing gzip footer check in ActiveSupport::Gzip.decompress
Only remove comments before the first statement
Drop comments from structure.sql in postgresql
add optional second argument to ActiveSupport core extension for Marshal#load so it can take a proc
Change `SystemTestCase.driven_by` to use `setup`/`teardown` hooks
[close #24435] Send user_supplied_options to server
does not show hidden namespaces in generator's help
Improve docs for ActiveRecord::Result. [ci skip]
Make adding gemfile entry work even if specify only the plugin name
Make help short-cut alias to work
Make version short-cut alias to work
Make security policy more prominent in docs
Make HWIA#compact not return nil when no nils
Enable Active Model testing for JRuby
Deprecate using `#quoted_id` in quoting
Extract `TypeCastingTest` into `test/cases/quoting_test.rb`
Rearrange npm release process again
Add a task to build a draft of the release announcement
Do not override the global variable
Update package.json
Preparing for 5.1.0.beta1 release
Move documentation to the correct place
Use double quotes in the generated plugin test script.
ðŸ™ˆ :nodoc: `AS::Duration::ISO8601Serializer`
Yank the intricate immediately-exiting editor recognition.
Add back tests for test:units and test:functionals.
Revert "Revert "Add encrypted secrets""
Revert "Add encrypted secrets" (#28127)
Add encrypted secrets (#28038)
Do not take screenshot when test skipped
Correctly dump native timestamp types for MySQL
Deprecate the EventedRedis subscription adapter
docs(distinct): tweaks [skip ci]
docs(distinct): fix distinct example [skip ci]
docs: add distinct to README
Include JobID in all ActiveJob info logs Currently we provide the Job ID in logs only related to enqueuing a job.
Clarify use of params in `direct`
Test rails-ujs in our travis matrix
Move rails-ujs README and LICENCE to actionview
Add more missing requires
Bump removal of `/:controller/:action` to Rails 5.2
Add missing requires
Add CHANGELOG entry for #28104
Add wrapper for plugin's test runner
Preload to_datetime before freezing a TimeWithZone instance
remove needless extension from system test example [ci skip]
Allow 3-level DB configs to group connections by environment
Add backticks around method names
Remove extra spaces
Add backticks around command
Use released arel
Add backticks around constant
Prepare to 8.0.0
Revert back to the original of using package.json in the root of the project (#28093)
Only load SystemTestCase if Capybara is defined
Split direct method into two
Push option extract into call method
Removed `model_name` method to prevent warning
Prefer remove_method over undef_method
Support mapping of non-model classes
Raise an error if `direct` is inside a scope block
Add CHANGELOG entry for `direct` method
Add custom polymorphic mapping
Add test for calling a url helper in Mapper#direct
Don't allocate a hash unnecessarily
Only accept symbols and strings for Mapper#direct
Rename url_helper to direct
Add support for defining custom url helpers in routes.rb
Wrap routes.url_helpers.url_for via a proxy
Tiny documentation edits [ci skip]
Prioritize checking `:on` actions before `:if` for transaction callbacks
Do not display template files on API doc [ci skip]
Use Puma 3.7.x
Add missing space
Add changelog for system tests
Ensure test threads share a DB connection
Clean up documentation
Rename system_test_helper -> application_system_test_case
Add default configuration to generated system test helper
Move and rename system tests
Rename server and remove optional port setting
Update documentation and guides
Rewrite API for ActionSystemTest
Add guides for system testing
Cleanup Rails provided helpers
Remove teardown code
Use 1 thread instead of 4 with Puma server for system tests
Set Webrick logger for system testing
Rename call to run
Amend documentation
Refactor config settings to use generated file
Don't load ActionSystemTest in production
Turn system testing into it's own gem and rename
Appease Rubocop
Refactor so all drivers use Puma by default
Add support for screenshots
Reconfigure how the drivers work
Add documentation for system tests
Add tests for system testing
Move SystemTesting::Base into SystemTestCase
Refactor to not include `capybara/rails`
Refactor driver adapter getter/setter
Inherit from ActionDispatch::IntegrationTest
Add test assertion helpers
Add configuration option for driver adapter
Add ForHelper's for system tests
Add configurable selenium driver for capybara
Add ability to run system tests via Capybara
Add skeleton for Rails::SystemTestCase
Add generators and ability to run system tests
Define `respond_to_missing?` instead of `respond_to?`
Properly nest core classes under a "Core Extensions" label
Use `response#location` instead of `#location` in redirect.
[ci skip] Update Guides to use macOS instead of Mac OS X
Import rails-ujs v0.1.0 from rails/rails-ujs
Set correct "routes" in tests cases
Add assertion to polymorphic_routes_test.rb
Extract `data_source_sql` to refactor data source statements
Deprecate the top-level `HashWithIndifferentAccess` contant
Unfreeze interpolated string because it's useless.
Improve `create_table force: true`
Share the common implementation between apps and engines.
Avoid converting integer as a string into float
Do not run `git init` in dummy application
Remove deprecate passing string to `:if` and `:unless` conditional options [ci skip]
Prevent multiple values being set to `run_via`
Clear active connections after initialization
Change engines guide to demonstrate maintained forum
Make Visitor visit thread safe by holding dispatch method reference
Remove `:doc:` for `NumericalityValidator` [ci skip]
Raise NotImplementedError when using empty_insert_statement_value with Oracle
Add CHANGELOG entry for #27384 and #27762
Add test for generate namespaced integration test
change ActiveModel::Validation to ActiveModel::Validations in comments
Indicate units of 'limit' in 'Integer' error message.
Suppress deprecation warning `implementing to_yaml is deprecated`
Remove redundant namespaces from sample code of `deprecated_method_warning` [ci skip]
Add missing module namespacing wrapper
Document how to add session middleware back
Remove unused DdlHelper in ForeignKeyTest
Remove duplicated "does" [ci skip]
Use ActiveRecord `bigint` type, not SQL literal bigint
Should keep the primary key column order
Not ants were harmed! ðŸœ
Use of ParameterFilter no longer forces `request.filtered_parameters' class to be Hash
Simplify and optimize Postgres query for primary_keys()
Enable frozen_string_literal in all files in arel
Add `default_index_type?` to the generic schema dumper doesn't have the knowledge about an index type
Update backtrace cleaner to use `Regexp#match?`
Omit redundant `using: :btree` for schema dumping
Refactor `test_find_by_does_not_use_statement_cache_if_table_name_is_changed`
Refactor `except_predicates_and_binds` to avoid `tap`
Deprecate passing `default` to `index_name_exists?`
The `default` arg of `index_name_exists?` makes to optional
Schema dumping support for PostgreSQL oid type
Schema dumping support for PostgreSQL interval type
Deprecate `supports_primary_key?`
Remove unused require
Make `table_name=` reset current statement cache
Also not needed on this file, call to `mattr_accessor` got removed in https://github.com/rails/rails/commit/9e98f3f7e61dfce0a48948c8d296400af8bfaf21#diff-1ecd313ff0ab827af30014553cf8918dL76
Removed the `attribute_accessors` required file:
Add `Style/EmptyLinesAroundMethodBody` in `.rubocop.yml` and remove extra empty lines
document link processing in guides generation [ci skip]
refactors and fixes in guides generation [ci skip]
Add Time#blank? to blank_test
Deprecate calling `attr_will_change!` with non-attributes
[ci skip] Fully qualify missing template error.
Test with the newest i18n
Use released resque
Revert "Simplify and speed up Postgres query for primary_keys"
Update configuration guide about ActiveRecord's  config option.
Simplify and speed up Postgres query for primary_keys
Add note about breakage in file uploads in controller tests to upgrading guide
Refactor `ColumnDefinition` to contain `options` hash
Allow ActiveRecord::Base.as_json to accept a frozen Hash
remove `ActiveSupport.halt_callback_chains_on_return_false` from everywhere
deprecate `halt_callback_chains_on_return_false` instead of `halt_and_display_warning_on_return_false`
remove link to edgeapi [ci skip]
Automatically link to Ruby files referenced in notes [ci skip]
Use `count(:all)` in HasManyAssociation#count_records
Remove unused code now that the deprecated file was removed
Automatically inject the current Rails version in API links [ci skip]
Deprecate locking of dirty records
Deprecate halt_and_display_warning_on_return_false
Remove deprecated behavior that halts callbacks when the return is false
Avoid documenting private or external classes
Document that string in if and unless option of callbacks are deprecated
Improve the exception message to direct people to all the possible values
Revert "Remove useless `column_alias` in `subquery_for_count`"
Remove useless `column_alias` in `subquery_for_count`
`primary_key` and `references` columns should be identical type
Deprecate `ColumnDumper#migration_keys`
Remove useless `MySQL::Column` tests
Remove `ActiveModel::TestCase` from lib
Freeze fragment cache related instrument name.
Add tests for `blank?`
Add information on `:formats` option in action_view_overview.md
Move some ActionCable logs to debug level
Correct spelling
Indicate action that failed in YamlColumn
Delegate `to_sentence` and `to_fomatted_s` to `records`
Collect all file patterns when running multiple rake test tasks
Restore custom primary key tests lost at #26266
Restore the behaviour of the compatibility layer for integer-like PKs
Deprecate passing string to `:if` and `:unless` conditional options on `set_callback` and `skip_callback`
Remove deprecated passing string to define callback
Correctly dump integer-like primary key with default nil
Add `:args` to `process.action_mailer` event
Docs: Correction: Module::DelegationError
Ignore yarn error log file
named functions compared to nil
Properly escape test names
module Blog; class Post appears twice in AV tests
generate mailer layout files only when it does not exist
DRY fake models for testing
bin/test for Active Job and Action Cable tests
Virtual/generated column support for MySQL 5.7.5+ and MariaDB 5.2.0+
explicitly require `listen` in `EventedFileUpdateCheckerTest` (#27867)
call `gem` `erubis` before require
explicitly require `listen` in `EventedFileUpdateCheckerTest`
remove unused variable
correctly set test adapter when configure the queue adapter on a per job (#26690)
Chain scope constraints should respect own table alias
Remove deprecated callbacks from ActionDispatch middlewares
Add sqlite3_mem adapter to Travis CI
Add test for `variable_size_secure_compare`
Remove redundant right parentheses in number_helper [ci skip]
Append skipped jobs to enqueued_jobs
Raise in the initialize not in the execute
Don't mutate raw_source in mailer preview interceptor
add default value to `deliver_later_queue_name` option [ci skip]
Avoid lambda scopes when possible
Added warning for reserved YAML keywords.
deprecate `scope_chain`
update comments and call `super`
remove caching until we prove it is required
Implement `scopes` method on each Reflection
Document with with an example an link to Parameterized
:scissors:
No need to advertise in the rdoc documentation
Avoid should in test names
Implement respond_to_missing? in the Parameterized::Mailer class
Remove unneeded nodoc
Override the initializers instead of using tap
Make internal classes internal for the documentation
Docs: Specify return value of `save!`
Simplify Postgres query for column_definitions()
Make assert_enqueued_emails + assert_no_enqueued_emails consider parameterized delivery jobs
Improve insufficient test for `safe_join`
Ruby constant look-up no longer falls back to top-level since 2.5
Report the attribute on ActiveRecord::SerializationTypeMismatch
Reload `through_record` that has been destroyed in `create_through_record`
delayed_job and delayed_job_active_record gems with AR5 support are available
Missing require 'active_support/core_ext/hash/keys'
bundle update some gems
[ci skip] other -> order; expand ivar
restore `delivery_method` after test
Offer the option to use parameterization for shared processing of headers and ivars (#27825)
Update Unicode Version to 9.0.0
make backburner integration test to work
add combination of Ruby 2.4 + aj:integration to CI
Raise an error if FileUpdateChecker#execute is called with no block
Modernize SQL Server database YAML for Linux/vNext.
Missing require "active_support/multibyte/chars"
Always use the newest rubygems when CIing
Performance improvement.
use rails-html-sanitizer >= 1.0.3
Bump bug report template versions to 5.0.1
remove warning from `bin/setup` test
Uninterned Symbol can be duped since ruby 2.4.1
Action Mailer Basics clean up [ci skip]
s/an/a/
Add partial iteration variable to template keys
Add assertion messages
This seems to be working on JRuby 9K
Change ActionView ERB Handler from Erubis to Erubi
Give a message to `#test_duplicable` assertion
correctly check error message
Keep the value of `$,` and restore it
show correct class name in migration inherited directly error
add warnings option to test runner
Get neglected TODO done in render_test
Delete PATH_INFO after each controller test request
Bundler 1.14 compat
remove unreachable code
do not run `git init` when specify the `pretend` option
Make BigDecimal casting consistent on different platforms
Freeze default empty string for sql_type in get_oid_type
Add module name to BacktraceCleaner usage example [ci skip]
Add changelog entry for #27425 [ci skip]
move `db_migrate_path` method to `Migration` module
Clean up wording in Action Mailer Basics [ci skip]
Remove unnecessary comments in cache_helper.rb [ci skip]
add missing comment out [ci skip]
add missing comment out [ci skip]
Add missing tests for ActionView::Template::Text
Remove unused argument `formats`
Add `:nodoc:` to `case_sensitive_comparison` and `case_insensitive_comparison`
Mention ActiveRecord's config.example.yml
Deprecate `initialize_schema_migrations_table` and `initialize_internal_metadata_table`
Allocation free Integer#to_s
Make Yarn quieter during precompilation as that is typically run by a deploy tool like Capistrano and we dont need the play-by-play
update CREATE TABLE statements generated by `sqlite3` command
Add CHANGELOG entry for #24743
 `find_templates` should be able to handle 5 arguments
Various style + grammar fixes for #27719
Use ActionDispatch::IntegrationTest http helper methods
assert_enqueued_jobs with queue option
Remove TODOs related to Exceptron [ci skip]
only enhance when `assets:precompile` task is defined
assert_send is going to be deprecated since minitest 5.10.0
Make sure to clear query cache to prevent sporadic test failure
Tweak bigint PK handling
Revert "I guess we're ready for the randomized tests now"
Fully initialize routes before the first request is handled
:warning: "Use assert_nil if expecting nil. This will fail in MT6."
I guess we're ready for the randomized tests now
update links of pluralization in i18n guide
:warning: "Use assert_nil if expecting nil. This will fail in MT6."
Unused class for testing since 93559da4826546d07014f8cfa399b64b4a143127
rm rm_f that is not in use
load yarn.rake
Update ActionCable guide to better describe SubscriptionAdapter configuration.
Add channel_prefix support to ActionCable redis/evented_redis adapters.
Adjust `Module.parent_name` to work when frozen; fixes #27637
Raise custom error on empty join
Remove `initialize_schema_migrations_table` and `initialize_internal_metadata_table` internal public methods
Change `platform` to `platforms`
Install Byebug gem as default in Windows (mingw and x64_mingw) platform.
Remove unused variable 'regex'
Use appropriate assertion based on expectation
Move config reset to ensure block
Move config reset to ensure block
Be a bit more explicit rather than relying on the default task
Make yarn install available as a rake task via yarn:install so we can use that as a dependency for assets:precompile
Don't pollute Object with rubinius_skip and jruby_skip
All currently supported rubies already have LoadError#path
:golf: else + if = elsif
allow to pass describe option to rake
SQLite: Foreign Key Support
Should work foreign key in test schema without `if supports_foreign_keys?` statement
CHANGELOG: Raise ArgumentError when calling transliterate on anything other than a string
Raise ArgumentError if attempting to transliterate anything that is not a string
s/perfomed/performed/
Missing require for strip_heredoc
Generate migrations at path set by `config.paths["db/migrate"]`
Add CHANGELOG entry for #27701
Allow SQLServerAdapter to opt into a few tests.
Translate Foreign Key violation to the specific exception for SQLite3 adapter
Added test to ensure that we dont break #to_h again when trying to restore the speed-up from 26dd9b26ab7317f94fd285245879e888344143b2 (cc: @fxn)
Revert "significant speedup of AC::Parameters#permit" [26dd9b26ab7317f94fd285245879e888344143b2] as it broke Parameters#to_h on at least fields_for-style nested params.
Add missing require
Remove meaningless line from adapter_test.rb
Update comment for Scrubber usage [ci skip]
Rename AlignWith to EnforcedStyleAlignWith
update rubocop to 0.47
Should do nothing here
Revert "Don't guard against `touch: []`."
Don't guard against `touch: []`.
Revert "bundle u mocha"
bundle u mocha
Allow render locals to be assigned to instance variables
make `render` work with AC::Params
Add test for safe_join
remove unused require
Several representation of BigDecimal has changed in Ruby 2.4.0+ [ci skip]
remove unnecessary addition of `lib`
Add test for update_counters with empty touch
ZOMG worst typo in my life :scream:
It would be safer not to totally undef core classes' respond_to_missing?
`respond_to_missing?` should fallback to `super` where method_missing could call `super`
AS::StringInquirer#respond_to_missing? should fallback to super
This test wasn't actually an effective regression test
Unused &block parameter
AS::ArrayInquirer#respond_to_missing? should fallback to super
`type_condition` should be overwritten by `create_with_value` in `scope_for_create`
Small spelling error
Update builder gem to avoid deprecations of 2.4
Add the touch option to ActiveRecord#increment! and decrement!
CI against JRuby 9.1.7.0
Constant look-up would no longer fall back to top-level constant since ruby 2.5
Rails::Generators::AppBase::GemfileEntry needs anonymous superclass
AC::ParamsWrapper::Options needs anonymous superclass
class Foo < Struct.new(:x) creates an extra unneeded anonymous class
 should explicitly returns nil in else clause
Initalize git repo when creatin new rails app
fix method name in `Renderer` doc [ci skip]
Add duration constructors for use in Numeric extensions
Add additional tests for #27610
Reduce string objects by using \ instead of + or << for concatenating strings
beginrescueend
match indentations
remove unused requires
[ci skip] Add .byebug_history to .gitignore
Current default Rails app encoding "utf-8" looks more like a W3C charset than a ruby encoding
Use Encoding::UTF_8 constant for default_{internal,external} in the tests
Use already defined Encoding constant rather than freezing a String
Make ActionDispatch::Request.parameter_parsers public API
oops! :scream_cat:
Make time travel work with subclasses of Time/Date/Datetime
Use temporary connection pool for the tests clearing AR::Base's active_connections
Reconnecting AR::Base's connection breaks sqlite3_mem tests
sqlite3_mem tests are broken since 79887593c18919fed49f441d64236362cb755872
Improve deprecation message for deprecated reflection class name
Suppress deprecation message to `has_and_belongs_to_many` only once
Test `--skip-git` generator option
Deprecate reflection class name to accept a class
Should test uuid legacy migration without `supports_pgcrypto_uuid?`
Add missing release notes entry for https://github.com/rails/rails/commit/f02a35b86efea24f1e2ab684bc8081ced5eb3b1a [ci skip]
improve server default options test
make all rails commands work in engine
Don't generate HTML/ERB templates for scaffold controller with --api flag
Followup of #27596, test output of "run" method as well
Adds .to_s to table_name call
Add failing test for where with joins
Preserve `up` and `down` return type
ActionCable should not raise when a connection is already open
Remove unneeded Deprecation silence
Remove unnecessary condition in content_type
ensure `#compact` of HWIDA to return HWIDA
Update `cookies` helper on all HTTP requests
Privatize unneededly protected methods in Active Record
`self.` is not needed when calling its own instance method
CI against jruby-9.1.6.0
This method is never called since 8e633e505880755e7e366ccec2210bbe2b5436e7
bundle u sqlite3
Optimizing information_schema query for `foreign_keys`
Make sure we generate keys that can be used with the cipher
Require "models/post" before "models/comment" Refer a similar pull request #26370
Simplify the version specifier generated by prereleases
String#end_with? should be faster than Regexp here
There's no such module
No need to :doc: a public method
Raise error when has_many through is defined before through association
Add instructions for available_locales [skip ci]
Add `check_parameters` option to `current_page?`
Rails.env falls back to dev mode when env var is empty
Remove deprecated ActionController::Metal.call
List full class name
Remove deprecated Metal#env
Remove unneeded Deprecation.silence
Remove test to the db:test:clone
Remove deprecated CONTROLLER environment variable for routes task
Remove deprecated tasks in railties
Remove deprecated file `rails/rack/debugger
Remove deprecated config.serve_static_files
Remove deprecated `config.static_cache_control`
Remove unnecessary require statements
Remove unneeded requires at active record
Remove deprecation of using ActiveRecord::Base instance in .update
Remove deprecated db:test:clone* tasks
Rephrase CHANGELOG.md entry
Deprecate passing `name` to `indexes` like `tables`
Generate indexed names in input even when objects are not persisted
Compare deserialized values for `PostgreSQL::OID::Hstore` types
[ci skip] Find and record the article! ðŸ¤“
Raise ArgumentError when a instance of ActiveRecord::Base is passed to find and exists?
Consistently apply adapter behavior when serializing arrays
Clarify Bi-directional Associations docs
Prevent duplicate data-disable-with attributes
Cache results of computing model type
Extract variant setter to process method
Counter cache touching don't need object finding anymore
Push `current_time_from_proper_timezone` and timestamp attributes methods up to class method
Remove duplicated test
[ci skip] Use touch; slim wording.
Dump schema cache for custom connection
`touch_time` should be type casted to respect the precision of the column
Prefer `each` over `map` because unused return value
Don't invoke `touch_updates` if `touch` does not supplied
Replace sleep with synchronization
Added option to ActiveRecord::CounterCache methods.
Remove bin/yarn if yarn is skipped, tidy up tests
add `bin/test` script for railties
`meta-data` --> `metadata`
remove unnecessary `remove_file`
Change `timestamp_attributes_for_{create,update}` from symbol to string
Refactor `CollectionAssociation#ids_reader`
Extract `casted_true`/`casted_false` for `Type::ImmutableString`
Match Thor's `desc` signature.
Prevent command name being printed twice.
Dump array subtype options correctly
Update schema cache doc in guides/command_line
[ci skip] Update Active Model copyright years.
[ci skip] Retouch some association wording.
[ci skip] Remove mention of GeneratedAssociationMethods
Bump license years for 2017
remove `skip_bundle` option from plugin generator
Mark :GeneratedAssociationMethods also as private_constant
Make the tests for uncountability of ascii and non-ascii words uniform
Prefer Regexp#match? over Regexp#===
Only add regexes for the new words
Add missing word in activerecord/CHANGELOG.md
Mark internal cache constants as private
Enforce middleware ordering with a test, instead of comments
Allow log remote ip addres when config.action_dispatch.trusted_proxies passed
Address `Use assert_nil if expecting nil` warnings
Remove needless `ActiveSupport::Deprecation.silence`
Remove deprecated `#uniq`, `#uniq!`, and `#uniq_value`
Remove deprecated `#insert_sql`, `#update_sql`, and `#delete_sql`
remove useless import
Grammar linting in activerecord/CHANGELOG.md
Delayed job doesn't support Active Record 5.1 yet
Remove deprecated #use_transactional_fixtures configuration
Remove deprecated `#raise_in_transactional_callbacks` configuration
Remove deprecated #load_schema_for
Remove deprecated conditions parameter from #delete_all
Remove deprecated conditions parameter from `#destroy_all`
Remove deprecated support to passing arguments to `#select` when a block is provided.
Remove deprecated support to query using commas on LIMIT
Remove deprecated support to passing a class as a value in a query
Raises IrreversibleOrderError when using last with an irreversible order
Raise when a through association has an ambiguous reflection name
Raises when `ActiveRecord::Migration` is inherited directly.
Remove original_exception from ActiveRecord::StatementInvalid
`#tables` and `#table_exists?` and returns only tables and not views
Remove deprecated `name` argument from `#tables`
Remove deprecated support to passing a column to #quote
Set time as a timezone aware type and remove related deprecation
Remove deprecated force reload argument in association readers
Remove deprecated i18n scopes in Active Record
fix with_routing when testing api only controllers
[ci skip] Add changelog for 261e94b.
Remove try! usage in sqlite_database_tasks.
[ci skip] Rejigger the dublicable? wording a bit.
Use `next` instead of `break`; avoid terminating whole loop
Use proper output format [ci skip] (#27498)
Update request.rb --ci skip
Sync the visibility of `sql_for_insert` to private
Add missing `emit_warning_if_needed` for `changed?`
Should not update children when the parent creation with no reason
Remove dead code now that attr is not used anymore
Test with Ruby 2.4
Bump arel to 8.0.0
Remove deprecated type cast support in Arel
Remove dead code
Upgrade to nio4r 2.0.0
Optimize Journey::Route#score
Arel master is alre 7.2
Avoid to call `set_inverse_instance` twice for `has_many` association
Upgrade gems
Small edits to activerecord/CHANGELOG.md
Small edits to actionpack/CHANGELOG.md
Small edits to actioncable/CHANGELOG.md
Add backticks to show shell command
Remove random extra spaces from Action Pack and Railties CHANGELOG.md
bundle update
renderers typo fix [ci skip]
do not mutate `object_name` of class in `fields_for`
Restore missing Gemfile.lock entries
bundle update
assert_equal takes expectation first
Bump sdoc to rc1 which includes zzak/sdoc#98
Correct indent-accounting in controller route generation
"Use assert_nil if expecting nil from ...:in `...'. This will fail in minitest 6."
Expectation first
CI against ruby 2.4.0
"Use assert_nil if expecting nil from ...:in `...'. This will fail in MT6."
Cache target scope for collection proxy
No need to cache collection proxies separately
Delegate to `scope` rather than `merge!` for collection proxy
Decouple the building Arel ASTs for uniqueness validator
No need `:doc:` for `:nodoc:` classes [ci skip]
"Use assert_nil if expecting nil. This will fail in minitest 6."
public methods can be placed after private ones if you want to
Abuse of protected in guides
Privatize unneededly protected methods in Railties
Privatize some methods that were originally protected
Prefer class << self; def over def self.
AR::ConnectionAdapters::PostgreSQL::Name#parts is called from other instances
`protected` here doesn't protect anything
Shuffle travis matrix
Privatize unneededly protected methods in Active Record
No need to nodoc private methods
Shave a couple of allocations off Journey scan & parse
self. is not needed when calling its own instance method
Privatize unneededly protected methods in Action View
No need to nodoc private methods
Privatize unneededly protected methods in Action Cable
Privatize unneededly protected method in Active Job
No need to nodoc private methods
Privatize unneededly protected methods in Action Mailer
No need to nodoc private method
Privatize unneededly protected methods in Action Pack
No need to nodoc private methods
Privatize unneededly protected methods in Active Model
No need to :nodoc: private methods
use Thor option parser in server commands parse
Privatize unneededly protected methods in Active Support
No need to nodoc private methods
Update asset fingerprinting information
Wrong rake task name in the document
bundle u rake to 12.0.0
Update list of `duplicable?` objects in AS core_ext guide [ci skip]
Privatize unneededly protected methods in Active Support tests
Privatize unneededly protected methods in Railties tests
Privatize unneededly protected methods in Active Record tests
Privatize unneededly protected methods in Action Cable tests
Privatize unneededly protected methods in Active Job tests
Privatize unneededly protected methods in Action Mailer tests
Privatize unneededly protected methods in Action Pack tests
Privatize unneededly protected methods in Action View tests
Describe what we are protecting
Unneeded attr_accessor with side effects
Add a record to target before any callbacks loads the record
Add a quote to an SQL insert statement of schema migration
Make ActiveRecord structure load/dump configurable
Active Record supports MySQL >= 5.1.10
Restore the override of numeric attributes properly
Extract `NumericDataTest` to `test/cases/numeric_data_test.rb`
quiet generators log in test
Remove warning in ActiveJob
[ci skip] ActiveRecord: Document order of Callbacks
updating docs
Document and update API for `skip_parameter_encoding`
fix typo in getting_started [ci skip] (#27423)
fix #create_fixtures when equal table names in different databases
Small grammar fixes in `Rails::Paths`
Small grammar fixes in `Rails::Info`
Improve `javascript_include_tag` documentation (#27403)
Add Ruby v2.4.0-rc1 to Travis matrix
Limit length of secret being passed
Bump concurrent-ruby and sprockets
[ci skip] Update initialization guide samples.
Revise the "XML is not HTML" test
Capitalize Rake
Capitalize Ruby and small grammar fix
Capitalize Rack gem name
Capitalize Thor gem name
missing asterisk
Only default the response charset when it is first set
Use `#execute` instead of `@connection.query`
`protected` here doesn't protect anything
Consolidate duplicated elsif branch
Remove useless `test_supports_primary_key`
fields: support attributes not on model.
[ci skip] fields don't output ids by default anymore.
form_with: allow methods outside the model.
[ci skip] Replace remote with local in form_with doc.
Make attributes output in html opt-in.
`ARGV.shift` before calling Rails generators
How to disable scaffolds.scss in generators.md (#27383)
Add missing option on numbers helper
make work bin/test scripts with line filter
Change ActiveModel::Type::Helpers to :nodoc: [ci skip]
[ci skip] add a section explaining command line arguments for generators
Bump coffee-script-source to fix bug
Throw friendly error message when fixture is not a hash
fix QueryCache nil dup
Add missing spaces to button_tag api doc [ci skip] (#27369)
Support double-yield inside an around callback
Avoid invalid attribute on local forms generated by `form_with`
Add note on defaults block option
Refining Array#sum monkey-patch using Refinements
Mention JS Runtime dependency in dev dependencies guide [ci skip].
Remove unused method `namespaced_file_path`
Missing require "active_support/testing/constant_lookup"
use appropriate type for `rc` option
fix new warning in ruby 2.4
form_with/fields: Don't output ids by default
Add CHANGELOG entry to #27042
change return value of `duplicable?` with Ruby 2.4+
Output adapter being tested.
Don't assign a default to `webpack`.
Add option to trigger JS framework-specific installation as part of webpack setup
:nail_care:
nil, true, 1, etc. don't raise on #dup since Ruby 2.4
Keep AS::XmlMini::PARSING["decimal"].call('') returning 0
Missing require "yaml"
Oops!
:nail_care:
Remove duplicated model class definitions in `test/cases/base_test.rb`
Do not clear HTTP_COOKIES header after request
Add a changelog entry for #26687 [ci skip]
Remove duplicated line
Use `inspect` in `type_cast_for_schema` for date/time and decimal values
Simplify the regex for `unsigned?` method
Add a changelog entry for #25227 [ci skip]
run `webpack` command only when webpack option is specified
gemfile entry method need to return an empty array rather than nil (#27318)
Use GitHub webpacker until closer to release
Basic --webpack delegation to new webpacker gem (#27288)
Add a changelog entry for #25451 [ci skip]
Do not raise exception when content_type is a empty string
Emulate db trigger behaviour for after_commit :destroy, :update
Show message if Yarn is not installed (#27312)
Correctly handle frozen options for ActiveRecord::Serialization#serializable_hash.
remove deprecated `assert_send` from assertion list [ci skip]
Only have Yarn bundling commented out as we cant be sure Yarn is installed
fix broken tests (#27308)
specify `skip_yarn` option in API-only Application (#27309)
Resolve association class correctly when assigning ids on a through association
Make ActiveModel::Errors backward compatible with 4.2
split DELEGATION_RESERVED_METHOD_NAMES in half
Enable `block` variable in view
Make Yarn the default, drop default vendor/asset directories (#27300)
Check whether the current attribute being write is aliased or not before writing
Check whether the current attribute being read is aliased or not before reading
Add some documentation around internal APIs [ci skip]
Add Action View to Active Model API documentation
Only move fixture_file_upload to IntegrationTest
[ci skip] Document regex change
ActionCable::Connection::Base doc code sample syntax error
Translate numeric value out of range to the specific exception
Translate NOT NULL violation to the specific exception
Improve test without using anonymous classes
Add document in mailer
Update puma.rb
Should be sync the `primary_key` definition with actually created
Remove unnecessary `connection_name` variable
Should inherit `StatementInvalid` rather than `WrappedDatabaseException`
Do not try to set the content_type if the format is nil
Make `:auto_increment` option works on `:bigint`
Make pg adapter use bigserial for pk by default
Change MySQL and Postgresql to use Bigint primary keys
Make `:auto_increment` to internal primary key option
Don't try to run multiple insert queries at once
Update url_helper.rb, adjust link_to api doc
Add fullstop following the pattern used in rest of the file
Use `SET CONSTRAINTS` for `disable_referential_integrity` without superuser privileges
stop using removed `render :text`
Use JavaScripts instead of Javascripts in `rake stats`
Remove unused argument
Reload association scope inside autosaved associations
use yarn binstub in `bin/update`
Exclude singleton classes from `subclasses` and `descendants`
Stop using the `pg` Float encoder
Yarn: Move node_modules, package.json, and yarn.lock file to vendor (#27245)
Link to the API docs
Add changelog for custom content type
Make the second argument to `attribute` optional
Correct deprecation warnings in `ActiveRecord::Dirty`
allow context type when set body mail
Prevent race condition when launching EventMachine reactor
use `Gem.win_platform?` to check windows Ruby platforms
Avoid race condition in AJ integration tests
removed `@current` as it is not used
fix typo in changelog
Missing require 'active_support/notifications'
Document 'false' as option for 'action_on_unpermitted_parameters'
Treat combined durations as a single unit
Let's use only vendored rails-ujs while we start to publish it to npm registry
Add CHANGELOG entry for --yarn option
rails-ujs is now shipped with Action View
Add note about step needed to get tests to pass if you implemented basic auth [ci skip]
Run yarn on setup and update scripts.
Add node_modules to default gitignore
Add node_modules path to assets load paths when --yarn option is used
Add package.json for Yarn if --yarn option is added
Add rubocop to Gemfile
Use YAML to serialize schema cache
fixing update_all and delete_all when chained with left_joins. fixes #27192
fix: solves issue#27189
[ci skip] Update the `as` docs.
Remove default argument value.
use public Module#include instead of send :include
abort_on_exception can't be disabled for a single thread
Only start rabbitmq when we need it
We expect exceptions; abort will just raise in the wrong place
Clear available connections immediately
Update RELEASING_RAILS.md for rails-ujs
fix the uniqueness validation scope with a polymorphic association
Add asset compilation Rake task for UJS
Add UJS tests
Add rails-ujs to Action View
Convert ActionView::Railtie into Engine
Make the test that seems to be getting stuck noisier
use correct variable in BacktraceCleaner test
We're not calling hooks here since 9e4c41c903e8e58721f2c41776a8c60ddba7a0a9
Should test `test_change_column_default` in `PostgresqlUUIDTest`
Suppress migration message in the test
Remove blank else block
Distribute connections to previously blocked threads when we're done
Followup of UUID default extension in the docs [ci skip]
[ci skip] `MiniTest` -> `Minitest`
Add test for collection *_ids= setter when association primary key set
Restore RecordNotFound when *_ids= can't find records by ID
Remove aggressive unit test with mock. And add integration level test.
[ci skip] Add changelog entry for 86754a8f
[ci skip] Explain only :json is shipped by default.
Use accept header instead of mangling request path.
Add link to API documentation
For `PostgreSQL >= 9.4` use `gen_random_uuid()`
Introduce `reload_<association>` reader for singular associations.
CI against 2.3.3
form_helper typo fix [ci skip]
Add rails-ujs as dependency in the rails Gemfile
Add CHANGELOG entry
Don't add jQuery by default in new apps and use rails-ujs as UJS adapter instead
deep symbolize keys on secrets.yml
[ci skip] Mention `form_with` and `fields` in changelog.
Add form_with to unify form_tag/form_for. (#26976)
Update RELEASING_RAILS.md
Allow indifferent access in ActiveModel::Errors
update bin/test scripts to prevent double runs.
Add more Action Cable JavaScript tests
Bump Blade and its Sauce Labs plugin to fix tunnel shutdown and related error
changelog entry for fc4c15d [ci skip]
`eager_autoload` needs to be triggered for nested constants.
âœ‚ï¸ needless lines beneath private.
Move tests to a module, include in subclasses, style linting
Create XMLMiniEngineTest; base class for all tests
Code styling cleanup
Create `CommonXMLMiniAdapterTest`; common tests module
Pass `rails runner` args onto file again.
Use existing --skip-turbolinks option for conditionals instead of checking if turbolinks is present in gemfile list
Do not rely on Ruby implementation in AM test
Change html-scanner to rails-html-sanitizer
Revert "fix typo in `match` doc [ci skip]"
fix typo in `match` doc [ci skip]
Install libxml-ruby gem so full XMLMini test suite can be run
Do not include `ActiveSupport` into test classes
Remove mention of SafeErb gem [ci skip]
Add missing test for singular resource output in rake routes
move CHANGELOG entry to the appropriate file [ci skip]
remove Ruby warning from Active Job test helper methods
Use secure source for gems referencing "github" in the generated apps
Updated Sprockets Documentation
Refactor the handling of fallback exception handlers
Call fallback exception handlers with the right exception
Remove mention of deprecated SafeERB gem from security docs for now, prior section already speaks about sanitization as a safety measure. [ci skip] (#27086)
use `force_encoding` instread of `encode!` to avoid `UndefinedConversionError`
Make JRUBY_OPTS a global Travis environment variable
Enable JRuby testing for Active Job
Enable JRuby testing for Action Mailer
Use named parameters instead of `assert_valid_keys`
Removes 'raw: true' from MemCacheStore#read_multi, per https://github.com/rails/rails/issues/27066.
Run tests by Ruby 2.2.6 and 2.3.2
docs, add `update_all` example with SQL fragment. [ci skip]
Support AC::Parameters for PG HStore
Refactor `NullRelation#calculate`
Add missing documentation for MemoryStore#clear [ci skip]
Make sure to bundle json 2.x on CI
remove `alias_method_chain` from guide [ci skip]
remove duplicated changelog entry [ci skip]
Missing require string/filters for `squish`
Remove deprecated class ActiveSupport::Concurrency::Latch
Remove deprecated separator argument from parameterize
Remove deprecated method Numeric#to_formatted_s
Remove deprecated method alias_method_chain
Add `:skip_sprockets` to `Rails::PluginBuilder::PASSTHROUGH_OPTIONS`
Remove deprecated constant MissingSourceFIle
Remove deprecated Module.qualified_const_get/set/defined?
Call `spawn` and bang method for `none`
use correct value in example [ci skip]
Update CHANGELOG
Remove deprecated :prefix option
Remove deprecated new_from_hash_copying_default
Remove deprecated time marshal core_ext file
Remove deprecated struct core_ext file
Remove warning from access to Bignum class, 2**64 is already a known bignum value. See also http://patshaughnessy.net/2014/1/9/how-big-is-a-bignum for smallest bignum value
Remove deprecated module method_transplanting file
Remove deprecated local_constants
Remove deprecated kernel debugger file
Remove deprecated namespaced_key
Remove deprecated set_cache_value
Remove deprecated escape_key
Remove deprecated key_file_path
Avoid `build_preloader` if preloading is not needed
Minor corrections to #26905
It's a NAN not Infinity
Use literal values in assertions
removes unconventional "then" in case expression
revises style in recent code (of mine)
Respect new records for `CollectionProxy#uniq`
Add test for #25248
Changelog edits
significant speedup of AC::Parameters#permit
Add `:nodoc` to `table_structure`
better docs for ActionView::ViewPaths#prepend_view_path
adds a missing dot [ci skip]
adds support for arbitrary hashes in strong parameters
Refactor column initialization into `new_column_from_field`
Don't error on an empty CONTENT_TYPE
Update guides/source/active_record_querying.md
Mysql2::Client::FOUND_ROWS should be defined in all currently supported versions of mysql2
Should except `:distinct` rather than `:order` for `exists?`
[ci skip] Expand context on `:cache_hits`.
Add ActiveRecord::Base.connection_pool.stat
[ci skip] Add `render_collection.action_view` entry to AS instrumentation
No longer listens to dirs inside of installed gems
Upgrade JRuby to satisfy gemfile
Add missing spaces [ci skip]
Configure query caching (per thread) on the connection pool
Try harder to avoid making a connection while releasing it
Erubis is not actually used in AR
Avoid `unscope(:order)` when `limit_value` is presented for `count`
Use local variable instead of instance variable [ci skip]
Tweaking some test data due to sprintf behavior change in 2.4
Show what was the error when assertion has failed
Less method invocation
remove unused require
Use different name for main and thread connection variable.
Update sqlite3
Don't assign default attributes until after loading schema
Use tr instead of gsub
remove warning from railtie
fix datatime error
Make `register_block_for` private
Don't put db:migrate and db:setup in binfiles if activerecord is excluded
Allow `autosave: true` to be used with inverse of
Deprecate the behavior of AR::Dirty inside of after_(create|update|save) callbacks
Added register_block method to register rake_tasks, generators, console & runner blocks
fix typo in Rails Test Runner section
Ensure duration parsing is consistent across DST changes
allow ActiveRecord::Core#slice to use array arg
Remove `Rack::Runtime from console log [ci skip]
Add missing space in Migrations guide [ci skip]
Remove a confusing comment
remove warning from big integer test
update doc about assets digest class [ci skip]
Remove unnecessary `target.uniq.size` in `CollectionAssociation#size`
Move `test_quoting_classes` into `test/cases/quoting_test.rb`
Remove unused internal `:dependent` option in `CollectionAssociation#delete`
Add more rubocop rules about whitespaces
Support plain loggers in DebugExceptions
Hide commands from API site.
[ci skip] Revise TagHelper only permitting symbols doc.
Add documentation for `config.assets.version` [skip ci]
Explicitly show --no-helper and --no-assets options in help message
Permit loads while queries are running
removes requires already present in active_support/rails
let Regexp#match? be globally available
Clear query cache during checkin, instead of an execution callback
remove unused `RedirectBackError` class
fix initializer name [ci skip]
Add missing `+` around a some literals.
Clear the correct query cache
Remove all Journey constant from public API
Use Regexp#match? rather than Regexp#===
Update HABTM documentation in guides
Ensure `#transform_values` of HWIDA to return HWIDA
Whitespace
Remove mona lisa image from the tests
Generate HTML not plain text
Uses queue adapter_method instead of ActiveJob::Base.queue_adapter
Missing require extract_options
remove assets config from `new_framework_defaults` if `--skip-sprockets` is true
Copy-edits on #26880
update description of Etag [ci skip]
`Broadcast#silence` breaks custom loggers that does not include `LoggerSilence`.
Small grammar fix for #26867
HSTS subdomains is now true, so let's fix documentation [ci skip] (#26870)
Use Hash#compact and Hash#compact! from Ruby 2.4
Add info about updating locking column value
Revert "Made ActiveRecord consistently use ActiveRecord::Type (not"
Update mysql2 version in Gemfile.lock
Update mysql adapter error message when disconnected
Revert #26826 and add documentation
Lazy-load blade for actioncable tests; no blade on JRuby.
Use `on_load` to trigger commandline processing code
Soften this test since YAML.dump may produce keys in other orders.
Prevent the test framework from being loaded in production mode
Skip test that depends on RubyVM when it is not available (JRuby).
Revert "Undefine assings in IntegrationTest"
Added ability update locking_column value
Add examples of queue_adapter and perform_enqueued jobs to API Docs.
Additional fix for argument-splat ordering differences.
Explicitly unpack the expanded args to avoid execution order diff.
don't create db directory when skip active_record
update kindlerb gem
doc, hide non-public methods form the api docs. [ci skip]
guides, include note about modifiers when using the CLI.
remove trailing whitespace [ci skip]
Use old typecasting method if no type casted binds are passed in
render_bind should be private
Add missing require
update doc about `change_column_default` [ci skip]
add `ActionController::Parameters#merge!`
Convert ActionController::Parameters to a hash in button_to
/s/integrations/integration [ci skip] (#26801)
Bump bundler version in the before_install hook of travis
Copy-edit the documentation
Pull request for ticket 26769 (#26770)
Make `process` a non-private method and update documentation.
Allow any key in Renderer environment hash
Introduce a benchmark template [ci skip]
Refactored ActiveModel::Type tests into their own files
Add comment to remove code when we are in Ruby 2.4
Moved database-specific ActiveModel types into ActiveRecord
Allow failures from rubinius
Use built-in #transform_values when available.
add missing closing tag [ci skip]
clear all environments log files by default
Support index.length for MySQL 8.0.0-dmr
Quote table name properly
Suggested edits
Improve Action Cable Overview guide
Remove method for regenerating a token, and update `#authenticate`.
[ci skip] fix typo in Actionpack Changelog
Docs: `tag` only accept attribute names as symbols
This addition will now allow configuring an attribute name for the existing `#has_secure_password`. This can be useful when one would like to store some secure field as a digest, just like a password.
ActionController::Parameters#deep_dup (#26567)
Set target ruby version for rubocop to 2.2 instead 2.3.
Permit same-origin connections by default
Extract `format_colspec` to format column spec
Removed deprecated :tokenizer in the length validator
Removed deprecated methods in ActiveModel::Errors
Removed deprecated support to passing the adapter class to .queue_adapter
Removed deprecated #original_exception in ActiveJob::DeserializationError
Add missing @, fix indents. [ci skip]
`name` is not a column option
Removed deprecated `#original_exception` in `ActionView::Template::Error`.
Remove deprecated support to non-keyword arguments in `ActionDispatch::IntegrationTest`,
Remove deprecated `ActionDispatch::IntegrationTest#*_via_redirect`.
Remove deprecated `ActionDispatch::IntegrationTest#xml_http_request`
Remove deprecated support for passing `:path` and route path as stings in `ActionDispatch::Routing::Mapper#match`
Remove deprecated support passing path as `nil` in `ActionDispatch::Routing::Mapper#match`
Remove deprecated `cache_control` argument from `ActionDispatch::Static#initialize`
Remove deprecated support to passing strings to the middleware stack
Remove deprecated code in ssl middleware
Remove deprecated code in ActionDispatch::Session::SessionRestoreError
Deprecated ActionDispatch::ParamsParser::ParamsParser
Remove deprecated ActionDispatch::ParamsParser
Remove deprecated code in ActionDispatch::ParamsParser::ParseError
Remove deprecated access to mime types through constants
Remove deprecated support to non-keyword arguments #process
Remove deprecated `xml_http_request` and `xhr` methods
Remove deprecated methods in ActionController::Parameters
Remove deprecated comparing support with `ActionController::Parameters`
Remove deprecated support to :text in render
Remove deprecated support to :nothing in render
Remove deprecated support to `:back` in `redirect_to`
Remove deprecated support for status option in head
Remove deprecation at ActionController::BadRequest
Remove deprecated methods related to controller filters
Dump index options to pretty format
Prevent `RangeError` for `belongs_to` associations
correct exception class in `retry_on` example [ci skip]
Don't allow tests ac:integration to failure
use #data_source_exists? instead of deprecated #table_exists?
Revert "Temporarily make ACa tests noiser and more predictable"
Prevent to create blank comment
Silence a warning
Undefine assings in IntegrationTest
explain why autosave= disables inverse_of [ci skip]
Tweak a test so the queries match
Include sdoc 1.0.0.beta2 which includes updated rdoc w/o hard json dep
Bump sdoc to 1.0.0.beta1 which includes fix to support Ruby 2.4
Simplify serializable test to avoid mystery deadlock
Wait for the socket to be closed asynchronously
Use a branch of websocket-client-simple, to work around read/close race
Close the IO from the read loop thread
Change page:change to turbolinks:load in README.md [ci skip]
Add test validating that Model.attribute_names cache is busted
Use attribute_names over column_names
Restore missing Gemfile.lock entries
[ci-skip] Swap method and its alias, format doc
Don't shut down adapters that haven't been set
Made ActiveRecord consistently use ActiveRecord::Type (not ActiveModel::Type)
Allow the use of listen's 3.1.x branch.
Corrected comments referring to documentation in `ActiveRecord::Type::Value`
Show an "unmatched constraints" error for mismatching and present params
Temporarily make ACa tests noiser and more predictable
Corrected comments referring to ActiveModel::Attributes
Avoid bumping the class serial when invoking executor
Remove unnecessary `respond_to?(:indexes)` checking
Speed up Time.zone.now
Shut down the worker pool - don't kill it
Correct caller tracking in delegated deprecation methods
Cache to_time to improve performance when comparing
Add tests for Server::Base#restart
Move behavior to Server::Base, and flush pubsub
Shutdown pubsub connection before classes are reloaded
Change render to support any hash keys in locals
add `cached` key to `sql.active_record` event [ci skip]
Use websocket-client-simple instead of Faye as a websockets client
Shut down EventMachine before re-enabling warnings
Add missing require for zlib
Remove obsolete comment about class-level respond_to
Make PG deadlock error more deterministic
In-line the configuration points that only existed for Faye support
Remove Faye mode
Remove dup distinct from AR query list [ci skip]
Tighten the backtrace pollution from passing through callbacks
Don't skip in-memory insertion of associations when loaded in validate
remove `mongrel` once again
[ci skip] Use class name instead of path to file
[ci skip] Use right format text
[ci skip] Remove not necessary whitespace
Removes broken performance testing link from the 2.2 release notes
update description of queue adapter in test [ci skip]
Buffer writes to the cable sockets
Do not leak the Errors default proc when calling to_hash or as_json
use `active_support/testing/autorun` in `bin/test` script
fix typo in `DateAndTime::Calculations#all_week` doc [ci skip]
Extract `NumericData` model for tests
`:text_too_big` column should be `:text`, not `:integer`
Remove duplicated `unless current_adapter?(:SQLite3Adapter)` condition
Extract `quoted_binary` and use it rather than override `_quote`
Apply test command changes.
Use xor to avoid allocations in `AR::Core#hash`
[ci skip] Update PG adapter documentation
[ci skip] Clarify Postgresql Documentation
Apply Rafaels review fixes.
Remove the old command files.
Per Dr. Eileen's orders :)
Simplify auxiliary command files directory finding.
Run engine commands through command infrastructure.
Initial command structure.
Add info about a502703 to Rails 5 release notes
Use autorun when running via Rake.
fffffff, Add code missing in 29f0fbd
Revise setting of run_with_rails_extension.
Require `active_support/testing/autorun`.
AS => Active Support [ci skip]
switch to autorun to support after_run and patch less
Only search fixture_path for files that can't be found directly
Rename `LICENSE` to `MIT-LICENSE` for consistency with sub projects
Serialize JSON attribute value nil as SQL NULL, not JSON 'null'
Add #25546 and #25817 to changelog [ci skip]
initialize errors with name of class and other params
Return true if attribute is not changed for update_attribute
fix formatting of `define_callbacks` doc [ci skip]
Add Channel#ensure_confirmation_sent; call #subscribe_to_channel after initializing
Preserve cached queries name in AS notifications
remove unnecessary `RAILS_ENV` setting
Undeprecate plural positional argument
Add top level license
Make :as option also set request format (AC::TestCase)
Optionally allow ActionCable requests from the same host as origin
[ci skip] Replace to closing tag
Remove extracting `polymorphic_base_class` for `Array` in `AssociationQueryValue`
Restore missing Gemfile.lock entries
fix link to `resque` [ci skip]
Always store errors details information with symbols
use rails command in restart task test
change `MemCacheStore#increment` and `MemCacheStore#decrement` to public API [ci skip]
remove unused require `benchmark`
add check of argument
fix formatting of `Cache::Store#fetch` [ci skip]
improve error message when include assertions fail
support minitest after_run for parity to regular minitest
improve test coverage
Update ActiveModel::Dirty Doc [ci skip]
DRYing duplicate methods
Force correct namespace when using TransactionManager
fix typo in `add_column` doc [ci skip]
Rename test to match what it does
Update ActiveModel::Dirty Doc [ci skip]
Reword according to feedback
bug report template for migrations (#26488)
Correct `render text:` deprecation message
Clear attribute changes after handling locking
Improve assert_response helper
Override the github git source instead of changing manually all entries
Move comment about disconnecting pool close to comment about preload
fix broken generators test
Do not point to the 5-0-stable branch
Address `warning: ambiguous first argument; put parentheses or a space even after `/' operator`
5-0-backport: activerecord/mysql2: Avoid setting @connection to nil, just close it (#26473)
Don't store all aliases to a table
Clarify that mattr_* creates public methods
fixed guide to add correct documentation for partial render 'as' option
[ci skip] Update Levenshtein code with better attribution.
remove useless `gemfile` option
Add tests for ActiveRecord::Enum#enum when suffix specified
remove duplicated fixture set names
Remove duplicated `elsif` branch
Remove useless `test_string_with_crazy_column`
Remove unused `require "thread"` in `test/cases/attribute_methods/read_test.rb`
use correct Gemfile in `bin/setup` test
Rename variable name that returning `type_for` to `type` from `column`
Do not mutate AC::TestRequest::DEFAULT_OPTIONS
Use :git for specifying dependencies from github with https protocol
Remove unnecessry `alias uniq distinct` for collection association
Reduce array allocation when `where` with passed hash
activerecord/mysql2: Avoid setting @connection to nil, just close it
update doc about default `cache_store` [ci skip]
call `.to_h` to avoid using deprecated method
Clarify expires_now documentation
:nail_care: [ci skip]
[ci skip] Simply formatting documents
Document that redirect* don't halt exucution. We explain more on this behavior in 2.3.2, but dont specify that is not halting. Its better to not let developers be caught by surprise. [ci skip]
Revert " [ci skip] Remove duplicate example."
 [ci skip] Remove duplicate example.
Remove the word "mongrel" from documents
Minor grammar fix in engines.md
Remove dead constants
Remove not used alias method
Remove redundant `!loaded?` condition
Extract notes from files in binary
change `Class#descendants` to public API [ci skip]
use `descendants` to get class that inherited `ActiveJob::Base`
make `fixture_file_upload` work in integration tests
Remove unnecessary `count` method for collection proxy
Update docs for change in transaction callback exceptions
Extract duplicated `create` and `create!` definition for association
Pass `set_inverse_instance` block to `sc.execute` for `SingularAssociation`
rename test method to avoid overriding
Remove blank else branch
add Active Job bug report templates to guide [ci skip]
Allow download of email attachments in the Mailer Preview template.
Change require order to come `require "models/post"` before `require "models/comment"` to address BasicsTest#test_readonly_attributes failure #26368
Improve Getting Started [ci skip]
fix class name typo
Added bug report templates for Active Job
Grammar fix [ci skip]
apply case-in-assignment pattern
RuboCop is 100% green :tada:
fix RuboCop errors re \xFC
fixes remaining RuboCop issues [Vipul A M, Xavier Noria]
Cache to_datetime for performance
fix document for radio_button
Use proper casting
remove warning from `video_tag`
Start passing cipher from EncryptedCookieJar since we use it to determine key length
Follow up of #25602 Since keys are truncated, ruby 2.4 doesn't accept keys greater than their lenghts. keys of same value but different lenght and greater than key size of cipher, produce the same results as reproduced at https://gist.github.com/rhenium/b81355fe816dcfae459cc5eadfc4f6f9 Since our default cipher is 'aes-256-cbc', key length for which is 32 bytes, limit the length of key being passed to Encryptor to 32 bytes. This continues to support backwards compat with any existing signed data, already encrupted and signed with 32+ byte keys. Also fixes the passing of this value in multiple tests.
Add changelog entry for #26328.
Move to_param undef closer to the deprecations.
Update Jason Zimdars twitter
Include user defined attributes in inspect
Remove deprecated handling of PG Points
Revert "Extract `PredicateBuilder::CaseSensitiveHandler`"
Attempt to maintain encoding for arrays of strings with PG
Override `respond_to_missing?` instead of `respond_to?` when possible
Drop unneeded assignment
Freeze all the strings in visitors
Do not allow to_param on AC::Parameters
Ensure that inverse associations are set before running callbacks
Refactor remove duplication.
use `message` that specified in argument to error message
Better keyword argument name
[ci skip] Broken links in documentation fix
Update typo & Make explanation more clear
Address comment via @dhh, better option naming
Remove default argument, and extract internal convenience method
Add regression tests
Allow `send_file` to declare a charset
Explicitly mention defaults.
Document public_poster_folder option
Address doc style comments from @robin850
Specify version of Sprockets-rails this will be in
Set unknown_asset_fallback false only new apps
Move default to different initializer
Thanks rubocop
[ci skip] configuring.md assets.unknown_asset_fallback
[ci skip] asset_pipeline.md assets.unknown_asset_fallback
[ci skip] Upgrading assets.unknown_asset_fallback
Fully document asset_path.
Do not deprecate using assets with leading slash
Default assets.unknown_asset_fallback to false
Missed 2 public_* methods in cleanup
Favor  `public_folder: true` over `public_*`
Add `public_*` helpers to all the `_tag` methods.
Test `public_` methods.
Match method signature
Add docs to `public_*_path` methods & fix comments
Add public URL helpers
Add descriptive comment
Make sure routes don't interfere with paths
Allow a more explicit public behavior
[ci skip] Update branch version in Contributing Guide
Remove unneeded FIXME note
Disconnects all connections in the pool before forking.
Added gitignore to "files & purpose" list [ci skip]
use `inspect` for show `from` value
Remove "Under Ruby 1.9" [ci skip]
Switch back to `Hash.dup`
validate_each in NumericalityValidator is never called in this case.
Add test for allow_blank in numericality validation
Switch back to `Hash.dup`
Add Arel::Nodes::Casted to dot visitor
Move custom assertion to its proper place ActiveSupport::Testing::Assertions.
Change BindParam visit method for Dot to a noop
Add failing test for Dot visitor and BindParam
Missing key should throw KeyError
Don't unnecessarily load a belongs_to when saving.
Clarify two ways to set Rails configuration options
Add back in `config_for` example
Move `assert_nothing_raised` method to Rails Specific Assertions section [ci skip]
Use splat `options` hash for `has_and_belongs_to_many`
Add `Type.default_value` and use it everywhere for internal
Add load hooks to all tests classes
kick different instrumentation method
remove useless freeze
Simplify cache hit logging
Test that AR query cache isn't busted when types are not same object
Rename the title of comand_line.md in index Remove 'rake tasks' from index
yl - remove extra â€¦
Memoize coerced TimeWithZone value in TimeWithZone#localtime.
update `is renamed` to `tasks are renamed`
Remove Duplicated information & fix typo...
Remove over meta programming in AR::Relation
Remove unnecessary `format_string`
Improve TagHelper#tag_option performance
Include the content of the flash in the auto-generated etag (#26250)
Remove the SchemaDumper options and change the default behavior
[ci skip] Update docs with Action Cable Redis dependency
Doc on scoped has_many, dependent: :destroy
Remove `:action` and `:controller` segments from routing guide
Clearly state purpose of test directories
Change form of table name to plural in query example
Return 307 status instead of 301 when rerouting POST requests to SSL
Update docs for query interface to not declare that all methods return instance of ActiveRecord::Relation
Move setting of integration session to constructor.
Increase margin-bottom for doc's code syntax highlighter
Allow the `integration_sesion` to be set early on ActionDispatch::Integration::Runner.
remove  unnessary `session_store` setting
correct exception class in `retry_on` example [ci skip]
remove union mapping as :binary node when performing DepthFirst enumeration
Consistent examples and template for assets#precompile
Prevent invocation of channel action if rejected connection
Remove unnecessary `any?` and `many?` methods for collection proxy
When referring to Rails, be consistent in usage of capitalized form, unless it is used in context of a command like bin/rails or the rails directory [ci skip]
Grammar changes on getting started guide, specify where exactly the example is that we are referring to. [ci skip]
Added instance variable `@queue` to JobWrapper.
Remove unused `blob_or_text_column?` method
Copy edits in the documentation [ci skip]
Remove unnecessary `length` method for collection proxy
Add chengelog entry to #25976
Revert "`sql_for_insert` returns values for passing to `exec_insert`"
run `before_configuration` callbacks as soon as application constant inherits from Rails::Application
Remove text default treated as an empty string in non-strict mode
Set the request type if as: is specified Documentation & testing
[ci skip] Updates ActiveJob guide on default runner.
Added nil case handling to allow rollback migration in case of invalid column type     /activerecord/lib/active_record/connection_adapters     /abstract/schema_definitions.rb:306     type = type.to_sym
Remove unnecessary ordinal methods for collection association
i18n documentation for required belongs_to message
Remove unnecessary `select` method for `CollectionProxy`
Remove unnecessary `test_sql_for_insert_with_returning_disabled`
Change method visibility to be private
Push :defaults extraction down one level
Deprecate `sanitize_conditions`. Use `sanitize_sql` instead
Option not to line up column types and attributes in schema.rb
Start documenting ActionController::TestCase again
refactor `CommandsTasks`
Yield the job instance so you have access to things like `job.arguments` on the custom logic after retries fail
Finder bang method should call non bang method
Makes touch_later respects no_touching policy
Extract `PredicateBuilder::CaseSensitiveHandler`
Do not handle as an associated predicate if a table has the column
Add array column documentation
Remove unnecessary `query_scope`
Add three new rubocop rules
Eager autoload ActiveRecord::TableMetadata
Clarify use of update task on 4.2 and earlier [ci skip]
Clarify migration to ApplicationRecord in upgrade guides [ci skip]
Remove odd ivar from ActiveRecord::LogSubscriber
fix usage of pluralized word
Remove `find_nth_with_limit_and_offset` private method
Update increment! documentation [ci skip]
remove needless warning for hstore
Revert "Clarify and fix typos in Autoloading Disabled upgrade guide [ci skip]"
Pass along original attribute to save later recursion
[ci skip] Link to the request helpers documentation.
[ci skip] Update integration test request encoding documentation.
Clarify and fix typos in Autoloading Disabled upgrade guide [ci skip]
`CollectionProxy#take` should respect dirty target
AC::Metal is already defining default encoding as UTF 8, let's reuse it.
remove "test/mailers" directory when skipping action-mailer
fix Rails.application.routes.router.visualizer for router debugging
Refactor `quoted_columns_for_index` by extracted `add_options_for_index_columns`
Avoid to allow unused splat args for `t.timestamps` in `create_table`
When calling association.find RecordNotFound is now raised with the same argument as when we do it in Record.find (primary_key, id and model).
Consolidate `ActiveRecord::TestCase` and `ActiveSupport::TestCase` in AR test cases
Drop a temporary table before end of a test case
add index to array methods so we can call it on relations
Ensure app/mailers is removed when skipping action-mailer
Add documentation about `ActiveSupport.on_load`
Make private method private
Mark method as nodoc
Given a hash (Rails 5) .from_hash must be used
Make cache max-age durations self-explanatory
Ensure values are strings before calling gsub
Integration test to prevent regression for the 5th time
ensure tag/content_tag escapes " in attribute vals
Creating a new Topic class instead of class_eval for the existing one since it affects another test `ReflectionTest#test_read_attribute_names`
[ci skip] Add documentation to Parameter Encoding
`where` by `array|range` attribute with array or range value
Make association queries to preparable: Step 1
add missing require rake
Use `ActiveRecord::TestCase` rather than `ActiveSupport::TestCase` in AR test cases
prefer __dir__ over __FILE__ in File.expand_path
 Minor doc fix related to ActiveModel::SecurePassword [ci skip]
Add documentation for `http_cache_forever`. [ci skip]
Remove unused method
Pass over changelogs [ci skip]
Allow specifying encoding of parameters by action
Show unpermitted parameters as symbols in logs (so they could be copy-pasted to the code)
Document know limitation about using `references` in conjunction with eager loading causing it to ignore custom select clauses.
update list of rescue_responses default [ci skip]
revises more Lint/EndAlignment offenses
Use `FETCH FIRST` for Oracle12 database and Arel Oracle12 visitor also test `ROWNUM <=` for Oracle 11g or older version of Oracle and Oracle visitor Oracle 12c database and Arel Oracle12 visitor supports better top N query.
let instance thread_mattr_* methods delegate to the class-level ones
damn typos [ci skip]
explain why aliasing uses explicit selfs [ci skip]
code gardening: removes redundant selfs
revises most Lint/EndAlignment offenses
applies project convention for string literals
adds missing comma in assert call
copy-edits an exception message
Add link to 'Pry' in debugging guide [ci skip]
Assign config on base instead of on `@controller`.
Extract common view cache dependency setup.
Add changelog entry to Action Pack as well.
Move CHANGELOG entry to the top.
Add back unintentionally removed newline.
Modify LogSubscriber for single partial's cache message.
Defer requiring Rake until it's needed.
Add `Style/EmptyLines` in `.rubocop.yml` and remove extra empty lines
`ActiveRecord::PredicateBuilder#expand` to be private
applies remaining conventions across the project
normalizes indentation and whitespace across the project
remove redundant curlies from hash arguments
modernizes hash syntax in the rest of the project
modernizes hash syntax in guides
modernizes hash syntax in railties
modernizes hash syntax in activesupport
modernizes hash syntax in activerecord
modernizes hash syntax in activemodel
modernizes hash syntax in activejob
modernizes hash syntax in actionview
modernizes hash syntax in actionpack
modernizes hash syntax in actioncable
applies new string literal convention to the rest of the project
applies new string literal convention in the gemspecs
applies new string literal convention in Gemfile
applies new string literal convention in tools
applies new string literal convention in tasks
applies new string literal convention in guides
applies new string literal convention in ci
applies new string literal convention in railties/test
applies new string literal convention in railties/lib
applies new string literal convention in actioncable/test
applies new string literal convention in actioncable/lib
applies new string literal convention in actionmailer/test
applies new string literal convention in actionmailer/lib
applies new string literal convention in actionpack/test
applies new string literal convention in actionpack/lib
applies new string literal convention in actionview/test
applies new string literal convention in actionview/lib
applies new string literal convention in activejob/test
applies new string literal convention in activejob/lib
applies new string literal convention in activemodel/test
applies new string literal convention in activemodel/lib
applies new string literal convention in activerecord/test
applies new string literal convention in activerecord/lib
applies new string literal convention in activesupport/test
applies new string literal convention in activesupport/lib
adds a few cops and sorts
Revert passing arel node with splat binds for `where`
Don't passing a nil value to `case_sensitive_comparison`
`sql_for_insert` should be called inside `exec_insert`
Add note about limitations of Windows Subsystem for Linux
Don't assume all hashes are from multiparameter assignment in `composed_of`
List names of error interpolation variables.
Offer invitations to use retry_on/discard_on for common cases
.to_i is unnecessary.
Leave internal pgsql name intact as const reference
The problem isn't the detection but the deadlock itself
Make `name` and `binds` to optional args for `exec_{insert,update,delete}`
`pluck` should use `records` (`load_target`) when `loaded?` is true
Add accidentally removed dependency in Gemfile.lock
Guard against jobs that were persisted before we started counting executions by zeroing out nil counters
Don't require C dependencies on Windows/JRuby
Add :weeks to the list of variable duration parts
Check if the logger exists before trying to use it
Add documentation for ActiveSupport::StringInquirer [ci skip]
Avoid duplicated `set_inverse_instance` for target scope
show error message when error raised in rails runner
Amend the CHANGELOG
Add 4.2.Z back to the maintenance list
Please Rubocup
Show supported DBs first in `rails new --help`
Remove extra connection pool creation
`TransactionSerializationError` should inherit `StatementInvalid` for backward compatibility
Set `always_permitted_parameters`.
Move the YAML hook closer to `init_with`.
Replace implicit formats with a case statement.
Let Psych 2.0.9+ deserialize 2.0.8 serialized parameters.
support multiple indexes on the same column when loading the schema
Correct usage for acceptance validator in guide
Remove unnecessary `set_inverse_instance` in finder methods
Not needed
Allow for custom handling of exceptions that persist beyond the retry attempts
Add exponentially_longer and custom wait algorithms
Use descriptive exception names
Executions counting is not a serialization concern
Make Parameters support legacy YAML encodings.
remove old links from debugging guide [ci skip]
remove unnecessary require and extend
Suppress warnings
Remove internal `sanitize` method
Preserve readonly flag only for readonly association
Reraise instead of swallow exceptions that occur beyond the retry attempts
Proper logging when we bail on retrying after X attempts
Revert "Adds `not_in?` onto Object"
Allow retries to happen with different priority and queue
Require time extension for 3.seconds default
Mention defaults
Satisfy pedantic rubocop whitespace detection
Remove needless require
Add retry_on/discard_on for better exception handling
check if order contains comma first in does_not_support_reverse?
Remove unnecessary methods for `NullRelation`
have does_not_support_reverse? support sql functions with commas in nested brackets
Test that ActionDispatch::IntegrationTest does not leak parameters
Avoid calling `current_database` in `table_comment`
`@quoted_{column,table}_names` should cache a frozen string
Remove `prepare_binds_for_database` internal method
`FinderMethods` uses `records` (`load_target`) when `loaded?` is true
Do not require rb-inotify
Use a form of rb-inotify to fix broken tests with Ruby 2.2.5
Add the TABLE_SCHEMA condition to the SELECT statement in table_comment (#25945)
Generators and tests are under the same style rules
Bump arel
Release 7.1.1
Remove circular join references in join_dependency
Updated getting_started guide to reflect the change in error message for ActionController::UnknownFromat in ArticlesController#new
Reset rack.input when the environment is scrubbed for the next request
Add rationale for manually checking auth_tag length, which got lost when #25874 was squashed before merging [skip ci]
There are some cases where @@app is not defined
Be more explicit with the expected result
Return ActionDispatch.test_app when no app is set on IntegrationTest.app method
A generated app should not include Uglifier with `--skip-javascript` option.
Update changelog
Quoting booleans should return a frozen string
Use to_a to pre-buffer the collection
Add an assertion to the tests that should be loaded the target.
Default to an empty collection if falsey given
Use Ruby >= 1.9 hash syntax as is the preference
Make `force_signal37_to_load_all_clients_of_firm` to private
Extract `type_casted_binds` method
Also yield in parameters for a nil content_mime_type
Whoops, forgot the changelog entry for the previous commit
Correct the behavior of virtual attributes on models loaded from the db
[ci skip] Add documentation for error using select with order
systematic revision of =~ usage in AV
use \A and \z when you mean \A and \z
adds missing requires
systematic revision of =~ usage in AMo
Decouple statement cache from connection adapter
Proper description for `Rails.cache.fetch` [ci skip]
Bump Arel to fix few failing tests on Ruby 2.4 related to the Integer unification
removes spurious line
give some love to this test file
systematic revision of =~ usage in AR
`load_target` is a public method
Explain meaning of the code very well and Remove confusion. [ci skip]
revises a regexp
systematic revision of =~ usage in AS
adds require for Regexp#match?
revises style
the infamous typo only seen in GitHub's diff [ci skip]
Adds `not_in?` onto Object
performance boost for String#blank? in Ruby 2.4
define Range#match? if Ruby < 2.4
Allow MessageEncryptor to take advantage of authenticated encryption modes
Removed reference to callback_terminator.rb in docs
explain the meaning of some RuboCop config options [ci skip]
Enforce minimal web-console version for Rails 5
Bring back support for callable cache_key on collection rendering
Remove tab chars before commands to be run
Oracle TIMESTAMP sql type is associated with Rails `DateTime` type now  - Refer https://github.com/rsim/oracle-enhanced/pull/845 Remove `set_date_columns` which has been deprecated in Oracle enhanced adapter  - Refer https://github.com/rsim/oracle-enhanced/pull/869
Add `exists?` and `update_all` to `CollectionProxy` for respects an association scope
Add a new rule to rubocop
Release 7.1.0
Do not `binds.dup` in `connection#to_sql`
Use `connection#to_sql` for construct an SQL
Pass `type_casted_binds` to log subscriber for logging bind values properly
Logging type casted binds
deprecates the error_on_ignored_order_or_limit instance reader
adds coverage for the deprecation of error_on_ignored_order
Remove mattr_accessor for deprecated config `error_on_ignored_order_or_limit`.
Refactored test `HasManyAssociationsTest#test_do_not_call_callbacks_for_delete_all`
Refactored method `ActiveRecord::ConnectionAdapters::PostgreSQL::SchemaStatements#default_sequence_name`
Remove unused `table` arg for `UniquenessValidator#scope_relation`
`specificiation_id` was renamed to `spec_name`
Add missing test for clearing up local cache on invalid parameters err.
Setup default session store internally, no longer through an application initializer
Refactor the existing session_store to use keyword args and raise early when set to activerecord session store
Introduce a new method for checking whether session_store is set by user or by Rails
Add missing tests for memory store of cache.
No need `public_send`
Introduce `assert_changes` and `assert_no_changes`
Store the old logger before calling super
Check if the logger exists before trying to use it
Make sure the time method is unstubed
Sort the mime types before comparing
Make sure the tests setup are made correctly
Enable a few more rubocop rules
Remove duplicate test.
CHANGELOG for https://github.com/rails/rails/pull/25257 [ci skip]
Update references generation docs to exclude index
add missing braces [ci skip]
Mention that layout can call a Proc [ci skip]
[ci skip] fix a typo
Check `request.path_parameters` encoding at the point they're set
Add newline between each migration in `structure.sql`
Eliminate extra template lookup in ActionView::Digestor
fixes a link in the release notes of 5.0 [ci skip]
small reword [ci skip]
finders guide: updates the section about batch processing [ci skip]
removes a unnecessary limit call
Added :fallback_string option to Array#to_sentence
Don't raise ActionController::UnknownHttpMethod from ActionDispatch::Static
adds support for limits in batch processing
Give importance to rails command in the comment section.
Correct link for model generator field types
Create connection.active_record notification and use that to ensure that lazy- loaded model classes have their connections wrapped in transactions.
Remove old test that check duplicated items in the load path
Handle `Rack::QueryParser` errors in `ActionDispatch::ExceptionWrapper`
Missing require 'active_support/multibyte/unicode'
[ci skip] Update redirecting links in guides
rails -> Rails [ci skip]
Raise ArgumentError for bad strptime arguments
Wrap module around lazy load hooks
Remove duplicate test and fix a typo in the test
AS::Duration should serialize empty values correctly. (#25656)
Update ActionCable Rebroadcasting a Message documentation
Always prefer class types to query types when casting `group`
[ci skip] add class level documentation to ActiveModel::Type::Boolean
Remove unused activerecord requirement in actionpack.
Speed up RDoc generation when it's already been done once
Update class_attribute docs
Let TestResponse assign a parser.
The `to_query` method on Array objects uses `key[] as the prefix, not `_key_[]` [ci skip]
Add `config.assets.quiet` to configuration guide [ci skip]
Add note about `config.annotations.register_directories` option in the guides [ci skip]
remove unnecessary send
Correctly return `associated_table` when `associated_with?` is true
Don't list out tasks as separately that are under lib, which cause them to be listed twice under Libraries and tasks. We already count and list it under libraries.
Cleanup CHANGELOGs [ci skip]
Add tests for 1xx, 204 and 304 responses to response_test.rb
fix to_param to maximize content
Correct changelog layout
Insert changelog entry for #25615
Trust `Object#dup` in `ActionController::Parameters`, using `#initialize_copy` to manually duplicate the underlying parameters hash
[ci skip] Update documentation in AR SchemaStatements
Add a test case for verifying `cookie_only` is set even if user tries to set it false
Pathname might not be always initialized.
Changes to a dupped `ActionController::Parameters` mutate the original
update doc for prefer require_relative over require + File.expand_path [ci skip]
[ci skip] Correct defaults in documentation for ActionDispatch::SSL
[ci skip] Update ConnectionPool documentation for readability
Make connection stealing more explicit
[ci skip] Remove reference to Rails 4 in the initialization guide.
Add a changelog entry for #25692 [ci skip]
remove `-t` option from default sendmail arguments [ci skip]
Bump version for master bug report templates
Reduce locking by taking ownership of stale connections
Re-check that the connection is still stale before we reap it
Check connection ownership before allowing a thread to release it
implement respond_to_missing? to match method_missing
Deprecate usage of nil as route path
Add header demarcation to Action Cable guide
Point to the correct documentation [ci skip]
removed extra blank line
test with latest resque
Allow rake notes to work with other directories.
Use the HOST environment variable for rails server #25677
Robots.txt removed disallow all instructions
Tiny documentation fixes [ci skip]
fix respond_to? documentation
Skip the test if test data download fails.
Pathname might not be always initialized.
DRY Downloader.
Remove unused boot_rails method and it's usage
Use `squish` rather than `strip_heredoc`
Expand on Instance variables section with an example and specify when the instance variables are set.[ci skip]
Clarify Postgres initials. [skip ci]
Improve error message when record touch fails.
Update Rails 5 release notes with syntax fixes.
 `travel/travel_to` travel time helpers, now raise on nested calls,      as this can lead to confusing time stubbing.
Add a note about adding CHANGELOG entries at the top of the file [ci skip]
Remove unnecessary code & cleanup Action View `abstract_unit`
Standardize Action Cable README.md
Update CHANGELOG.md for #25628 [ci skip]
Correct guide generation command [ci skip]
refer to rails command instead of rake in doc of `SourceAnnotationExtractor` [ci skip]
Move the warning about composite primary key to `AttributeMethods::PrimaryKey`
`partial` option on the digest method is no more needed [ci skip]:
Try the newest bundler
fix task name to remove
Remove unused `predicate_builder` for `BasicObjectHandler` and `RangeHandler`
Do not run `bundle install` when generating a new plugin.
- Added test for verifying that we treat line number indications from irb as user/lib code - Cleaned up backtrace cleaner test code and removed instaces variables
close hijacked i/o socket after use (fixes #25613)
Ensure logging on exceptions only includes what we expect
Silence DebugExceptions template render logs during exceptions
Make mutation stand out some more.
Remove `create_table_info_cache` because it not be reused
Revert "Rename `active_record_internal_metadatas` to `ar_internal_metadata`"
Add regression test for foreign key schema dump caching
Do not depend on Rails git repository layout in ActiveSupport tests.
fix race condition in websocket stream write
Pass `pk: false` to `connection.insert` explicitly if do not have a primary key
Deprecation passing of `start` value was removed [ci skip]
Use sass-rails in our test suite
Mark Testing Guide as pubished and reword the title[ci skip]
Do not allow rack pre releases
Add a Rails 5 release note for ActionController::Live becoming a Concern
Add an upgrade note related to ActionController::Live becoming a Concern
Point to released coffee-rails
Update to Turbolinks 5.0.0 final
Change wording & punctuation in Guides - Upgrading
fixes config value [ci skip]
expands a bit a section of the upgrade guide [ci skip]
Partially revert #25192
Add a note about autoloading being disabled in production env in upgrade guide [ci skip]
Update upgrade guides
Update release notes for 5.0 [ci skip]
fix ActiveSupport::Infector.constantize usage API doc [ci skip]
Update testing guide for Rails 5 release [ci skip]
Update getting started guide for Rails 5 [ci skip]
[ci skip] Add 'params' formatting in ActionController::Base
Add test runner features to release notes [ci skip]
Display link to Rails upgrade guide at the end of `rails app:update` task.
Periodic timers: delegate async instance_exec to the worker pool
add missing things to release notes [ci skip]
Expand on #24071 for specifying custom locale fallbacks. [ci skip]
Publish Rails 5 release notes[ci skip]
Add API Apps to release notes[ci skip]
Pass over Upgrading guide [ci skip]
Add note about release notes in upgrade guide
Update release notes about legacy `mysql` adapter
Update Rails 5 upgrade guides
[ci skip] Update formatting in ActionView::Base documentation
Do not specal case inspecting associated arrays of over 10 elements, preventing infinite looping in some cases.
Don't attempt to clear active connections unless we'ere connected
Remove unused `ActiveRecord::Base.connection_id`
remove useless parameter
update description of `test_order` [ci skip]
- Added select tag test for verifying passing html options to f.select helper - Renamed test to be more descriptive
Make client test run individually.
Add dup leftover from 26710ab.
Default to frozen string literals in TagHelper.
Bring Boolean Attributes list for AV Tags helper upto speed with current spec. This is based on https://github.com/kangax/html-minifier/blob/6b2d4536d82819143b468b41a89c700b6c61631f/src/htmlminifier.js#L197 and spec from https://www.w3.org/TR/html51/single-page.html.
Freeze string for default content for tag_strings, which later goes on to create new content. This should also be inline with content being passed should not be mutable
Expand list of void elements to match spec from https://html.spec.whatwg.org/multipage/syntax.html#void-elements
We default to using aes-256-cbc as our verification/signing cipher. It can accept key lengths of 128, 192 or 256-bit, whereas currently we were providing twice the acceptable value. ruby < 2.4 allowed accepting these values, as extra key bits were ignored. Since https://github.com/ruby/ruby/commit/ce635262f53b760284d56bb1027baebaaec175d1 this now has a strict checking on key length.
Document `simple_format` handling of `\r`
New syntax for tag helpers i.e. tag.br instead of tag(br) #25195
Clearify CHANGELOG for #23011 [ci skip]
Add #16917 to 5.0.0 release notes
[ci skip] Clarify DDL term in ActiveRecord::Transactions
Remove conflict line [ci skip]
remove unecessary comments [ci skip]
client test have not using Pathname and hashwithindifferent access
Tiny documentation fixes [ci skip]
Define `Pathname#as_json`
Remove unnecessary `assert_valid_default`
Extract method to share path expansion logic.
Simplify `as` passed check.
Define `URI::Generic#as_json`
make `as` option work with get parameters
Update grammar for `config.enable_dependency_loading` docs
[ci skip] Add link to method referenced in ActiveSupport::PerThreadRegistry
nodoc `ActiveRecord::AttributeSet::YAMLEncoder`
Revert "[ci skip] better docs for ActiveRecord::AttributeSet::YAMLEncoder#decode"
Ensure result is cleared at ConnectionAdapters::PostgreSQLAdapter#execute_and_clear
Optimize ActiveRecord::Result#last
Remove MySQL::DatabaseStatements#select_one
Add ActiveRecord::Result#first
return correct type from `EnumType`
Removed a forgotten `with_exclusive_scope` test:
`params.permitted?` is false by default
[ci skip]  Update Documentation on ActiveRecord::Inheritance
English fix
Update changelog for #25351
Update changelog for #25341
[ci skip] Add additional documentation to ActiveModel::Errors
Initialize the configuration with a value
Update ActionController::Parameters documentation [ci skip]
Add option to enable dependency loading in production
Change datetime to datetime-local helper tag
Create times in rails timezone not system timezone [ci skip]
update_url is not `get` most of the times [ci skip]
Change the raw template handler to render html-safe strings
[ci skip] better docs for ActiveRecord::AttributeSet::YAMLEncoder#decode
Add explicit testing for `uncached` vs. `cached`
Add test to better demonstrate `ActiveModel::Errors#added?` behavior
Remove dormant check
[ci skip] correction in command for generating api documentation
`PolymorphicReflection` is not using the methods from `ThroughReflection`
[ci skip] fix typo in ActiveRecord::ConnectionHandling
No need to have conditional based on api options in assets
Move code style configuration files to root directory
Move quiet option to development.rb
Allow actioncable connections from any port in development
[ci skip] Remove duplicate alias documentation in ActiveModel::Validations
Make log tags example for ACa more generic and not BC specific [ci skip]
[ci skip] When instance_reader is false, attribute can still be assigned by the instance objects
Add test for nested html dependencies with same logical name as templates for other formats
Move and rename test
Explicity find with the rendered format to handle searching multiple view paths correctly
Prevent `RangeError` for `FinderMethods#exists?`
Example had results the wrong way round [ci skip]
Change AS::Callback to ActiveSupport::Callbacks in doc [ci skip]
Respect the current `connected?` method when calling `cache`
Remove not needed line on test
Add Rack doc link for request and response object [ci skip]
Require "active_support/core_ext/object/blank" for railties abstract unit
Remove deprecated arguments in assert_nothing_raised
Explicitly require `acts_like` in AV
Lock the whole boot step, get rid of unneeded hash
Add codeclimate and rubocop config files
Remove an unused require in ActiveSupport::TestCase
Changed ActiveJob::Base to ApplicationJob in the Active Job guide [ci skip]
Remove unnecessary `assert_date_from_db`
Remove outdated comments [ci skip]
Initializer provides its context class name
Provide the ability to override the queue adapter used by jobs under test.
Add missing things to Rails 5.0 release notes [ci skip]
Remove unnecessary model requires
Remove `_run_class_setup`
Action Cable routes are enabled by default now [ci skip]
Make sure the yielded variable is the logger
Replace Kernel#caller by the faster Kernel#caller_locations
[ci skip] `define_model_callbacks` only exist in active model:
Delegate public method for raitile name
Add config.assets.quiet = true as default value
Provide a middleware to debug misbehaving locks
Be explicit about what Logger class is expected
Broadcast #silence on logger. Rewrite tests.
Prevent `table_comment` query if a table doesn't have a comment
Reuse existing validate_index_length! method
Remove dead code from tests
render_to_string Regression Outside of Real Requests in Rails 5.0.0.rc1 (#25308)
remove deprecated `:prefix` option  from doc [ci skip]
existant => existent
Test how evented file checker handles forks
Allow Oracle bind parameter syntax `:a1`
[ci skip] Expand information on message options
Add Rails 5.0 release notes to the index page of guides [ci skip]
Generate application_record.rb file before model file
Expand on AC introduction list [ci skip]
Add Action Cable introduction to release notes [ci skip]
Add missing things to release notes [ci skip]
Prevent `{ internal: true }` from being stored in the router
Add regression test to `as` option.
Delete bad test
Flag `to_time` + simplify version names.
Use the `update` flag to provide more friendlier messages to people upgrading.
Remove FORCE option as it was only needed for tests
Do not suggest nonsensical OpenSSL verify modes [ci skip]
Require Nokogiri >= 1.6.8
Extract foreign key action from `information_schema`
Make `foreign_keys` queries to `SCHEMA`
Listen earlier in EventedFileUpdateChecker
[ci skip] document EventedFileUpdateChecker
EventedFileUpdateChecker boots once per process
[ci skip] Update redirecting links in guides
Change doc for race_condition_ttl option of ActiveSupport::Cache::Store#fetch [ci skip]
remove needless comments
Make select_year work with include_position: true option, fix #25267
Update Blade and its Sauce Labs plugin for EventMachine 1.2 compatibility
Added "Download and Installation" section to Action Cable README [ci skip]
Trim Action Cable README [ci skip]
Add backticks to `ActiveRecord::Base.where`
Update the documentation of new_framework_defaults file with more details about old apps and how you can upgrade to new defaults.
More cleanup of new framework defaults
[ci skip] Remove Pratik Naik from Rails core team info.
Avoid type casting in uniqueness validator
Dont re-define class SQLite3Adapter on test
Use `#performed?` to terminate controller callbacks
Improve Hash#compact! documentation and tests
[skip ci] Make header bullets consistent in engines.md
Don't blank pad day of the month when formatting dates
Ensure that records with unselected fields can be updated
add missing "as"
Display railtie class name in `rails initializers`
Grammar fixes for Contributing guide
Add --skip-coffee generating option
reference actual class to use middleware
Add i18n_validation_test
Properly support reloading for Action Cable channels
fix typo
Collapse all new default initializers into a single file
Clean up the test request/response even after an exception
Make Active Record emit significantly smaller YAML
Remove unused require and unused model stub
Add helper for testing against a mock WebSocket and server
Reorganize `MockWebSocket`
Add configuration for `WebSocket` and `logger`
Respect options passed to `foreign_key` when reverting `add_reference`
`ActiveRecord::Base#hash` should differ between classes
More Action Pack `abstract_unit` cleanup (#25211)
`will be` --> `is`
Lock Faye version to avoid bug with its Promise polyfill, use mainline blade-sauce_labs_plugin gem
Test single latest browser version
Do not include default column limit in schema.rb
Ensure hashes can be passed to attributes using `composed_of`
Bump jbuilder dependency to version 2.5.0 for compatibility fixes
fix grammar
Move `Workshop` class definition
Exists shouldn't error when used with `includes`
Ensure that instances of `ActiveModel::Errors` can be marshalled
Tiny document fixes [ci skip]
use OpenSSL::Cipher instead of deprecated OpenSSL::Cipher::Cipher for cipher creation.
Bump to 7.0.1.pre in anticipation of next release
CI: bump Ruby 2.2.4->2.2.5, 2.3.0->2.3.1
CI: test JRuby 9.0.5.0. Allow failures due to flaky Travis bundler situation.
Support for unified Integer class in Ruby 2.4+
rename enum_prefix and enum_suffix options to _prefix and _suffix [ci skip]
Move new default initializers into separate directory
Light edits to Action Cable Overview guide
Redirects are to urls, not paths
The first comment does not explain anything that the code doesnt and the second is now irrelevant with the dedicated API mode
Remove public/ files for API apps
Boil down custom Action Cable configuration to a single block
Reuse a result of `table.associated_table(column)` in `AssociationQueryHandler.value_for`
fix incorrect class name [ci skip]
Use `add_index` instead of `execute` in guides [ci skip]
`behaviour` --> `behavior`
[ci skip] Reword doc for around_enqueue callback
cometic updates to security guide - fixes #25058 [ci skip]
add missing `as` to request kwargs of `ActionDispatch::IntegrationTest`
Remove unused `association_for_table` private method
Bash markdown syntax
Add documentation about Action Cable npm package
Add test for `delegate_missing_to` where method doesn't exist
Docs: Clarify when assoc. methods persist
autoloading guide: specify autoload paths are set when the app boots [ci skip]
Add guard to broadcast.
Revert back to a compatible bundler version
CI: run Action Cable browser tests in Sauce Labs
Add tests for keyword arg to: for Module#delegate
Add to_hash to specification
Remove `name` from `establish_connection`
Move establish_connection to handler
Normalize whitespace for Hash#compact documentation [ci skip]
Don't delegate to private methods of the targer
Cloning depth set to 1
Minor comment language correction.
Remove package:clean task
Build action_cable.js with Blade
Remove version header from railties CHANGELOG.md (#25122)
[] and read_attribute are not aliases [ci skip]
Introduce new ActiveRecord transaction error classes
Use RAILS_MAX_THREADS as pool size on all adapters
Print the proper ::Float::INFINITY value when used as a default value
- :scissors: space in code to match previous defaults. - Grammar edits.
Revert "Add default exceptions affected by suppress (#25099)"
Modifies mime-registration test not to interfere with real mime types
Add default exceptions affected by suppress (#25099)
Respect `log_warning_on_csrf_failure` setting for all CSRF failures
remove deprecated `Module#qualified_const_` from guide [ci skip]
Update i18n guide about how to change locale and translations paths [ci skip]
Remove Blade gem dependency
Remove space, properly italicize
Add backticks to `config/secrets.yml`
Pass over Action Cable docs
Small grammar fixes for Action Controller Overview
Add missing `the`
Use #distinct instead of #uniq in the guides [ci skip] (#25098)
Add AR::TransactionSerializationError for transaction serialization failures or deadlocks
Added a shared section to config/secrets.yml that will be loaded for all environments
Whitespaces [ci skip]
Add CHANGELOG.md reference for #24958 (#25094)
Confirm with the specification when generating emtpy option for select with `include_blank: true` option. We now generate option with empty label, example:
add #23980 to release notes [ci skip]
Revert "Make sure the cache is always populated"
Add more test coverage to layouts
Make sure the cache is always populated
[ci skip] Update retrieve_connection_pool comment
fix module name [ci skip]
Add back in Oxford Comma
`routes.rb` --> `config/routes.rb`
Change comments to not exceed 80 characters
fix named route example [ci skip]
Support for unified Integer class in Ruby 2.4+
Improve method description
- removing redundant 'happens' in documentation [ci skip]
Light grammar edits to beginning of Routing guide
Add tick marks + small grammar change
`md5` --> `MD5`
keep layouts + locals from bloating the cache
Safari 4 supports http only cookie (#25053)
locals can be accessed from templates rendered in the controller
Cable: Generate .js or .coffee files while generating channel as per the javascript engine of the application
update to make it less obvious that this guide is from 2008/2009
[Action View] Don't create middleman `DetailsKey` instance
Add Attributes API to release notes [ci skip]
PerRequestDigestCacheExpiry middlware was been removed. Removed traces, for the same. https://github.com/rails/rails/commit/23b6a9c0fcb8992e18450d6fe0680bf09685b7db
Update the Rails security guide [ci skip]
`md5` --> `MD5`
Remove extranous spaces from assignment.
Replace middleware with executor callback.
Update the Rails security guide
Keep state around for nested calls to #suppress
Action Mailer: Declarative exception handling with `rescue_from`.
Pass over API Apps guide grammar. [ci skip]
The `ActiveRecord::ConnectionAdapters::ConnectionManagement` and `ActiveRecord::QueryCache` middlewares were removed with `Executor` addition on d3c9d808e3e242155a44fd2a89ef272cfade8fe8 Removes traces and reference of these from all places. [ci skip]
Change output genereated for middlewares on a new application. This has changed quite a bit after Executor middleware addition. [ci skip]
Add `ActiveRecord::Migration::CheckPending` to default middlewares for API Apps [ci skip]
Rails 5.1 point type should not raise exception if empty string is provided as value
Remove unnecessary constant
Add some assertions for BigDecimal#to_s
generate mailer layout files if it does not already exist
reorder env keys in the generated config/cable.yml
edit pass over the cable guide [ci skip]
Perfomance fix for Enumerable#index_by
Add notes on cosmetic patches
Add output snippet from `ActionController::API.ancestors - ActionController::Metal.ancestors` command for api apps. [ci skip]
Add Action Cable guide to list
Add missing space and newline for clarity
Give more context from `AssociationMismatchError`
Rename test method
Add ActiveSupport::Notifications hook to Broadcaster#broadcast
Document and test ActionDispatch server_port
Publish Action Cable to NPM when we release.
Remove magic comment in generated `schema.rb`
Introduce Date#all_day
Improve documentation and tests for raw_host_with_port and host_with_port
remove_connection should not remove parent connection
Define ActiveRecord::Attribute::Null#type_cast
Getting Started Guide: Add invoke test_unit to files table [ci skip]
- Added clarity to documentation of ArrayInquirer#any? [ci skip]
Getting Started Guide: Add channels and jobs to app purpose table [ci skip]
Set conn_spec_name after remove
Dont cache the conn_spec_name when empty
[ci skip] Update documents of `ConnectionHandler`
Getting Started Guide: Update Ruby version to 2.3.1p112 [ci skip]
[ci skip] Update documents of `ConnectionHandler`
Make sure we reset the connection_specification_name on remove_connection
API only apps: Preserve request format for HTML requests too
Dont perform unnecessary check with false, just use true/false values for @active on SQLite adapter.
Remove ambiquity in what we are referring to in the documentation of config vs configuring the server itself
Document config.action_dispatch.ignore_accept_header and config.action_dispatch.x_sendfile_header in configuring guide
More missing true literal quotings
Lets be consistent in the usage of true/false across this guide. It should be quoted as how other config options are. They are already quoted at many places. This change, makes this usage consistent. Note that, this is quoting literal values true and false, not truthy values
Document missing smtp config over at configuring guide. [ci skip]
This config still applies for Rails 4 Apps and we need to mention it, what was needed before. [ci skip]
Minor syntax change
Should quote `lock_name` to pass to `get_advisory_lock`
Replacement cycle for readability
Use sass-rails and coffee-rails that work with Rails 5.1
Update Ruby report templates
Bump the deprecation horizon
Add migration compatibility class for Rails 5.1
Start Rails 5.1 development :tada:
Update rails-dom-testing gem to 2.0
Grammar corrections to Getting Started Guide [ci skip]
Improve AV changelog with regards to default RAW handler
Add :ssl/:tls to ActionMailer [ci skip]
Extract resolver cache disabling to a method.
No need to call `remove_template`.
use Rack::Utils.valid_path? to check path
Kick off initial JavaScript tests
Asset Pipeline: Remove outdated comment about `config.assets.digest` [ci skip]
Asset pipeline: Remove documentation about outdated `config.assets.compress` option
Replacement cycle for readability
Use consistent term  [skip ci]
Use original `Array#sum` to speed up calculating
Change http github links to https [ci skip]
Followup to #24844
change cable.coffee to cable.js [ci skip]
Replace `loop` to `until`
Helpers doc grammar fix [skip ci]
http --> https
Preparing for 5.0.0.rc1 release
Sign the tags when releasing
Upgrade all gems to make sure Rails works with rack 2.0.0.rc1
Make flash messages cookie compatible with Rails 4
Update docs for connection handler
BoomerAPI is not used anywhere, so removed it!
Release notes: Add a note about `use_transactional_tests` in the deprecated section of Active Record notes [ci skip]
We are erroring due to nested transaction failures from mysql on test_migrate_clears_schema_cache_afterward test. Disable transactions for this test.
s/specification_name/connection_specification_name
Allow the connection adapters to determine the order of bind params
Array#split refactoring for case with block
Release notes: Add PR #24866 to release notes
Active Model: Improve CHANGELOG and documentation for `validates_acceptance_of` [ci skip]
Implement helpers proxy in controller instance level
s/specification_id/specification_name
Change to use a more realistic example and not giving the impression that destroy_all is preferred way to destroy related records. This example just wants to demonstrate callback behaviour.
Retrive the right pool for db tasks
inline retrive_conn_pool method
Better code readability
Test to swap connection at runtime
fix test
Add spec_id tests
Use spec key, when given as spec_id
Better specification_id method
Rename method
Refactor connection handler
delegate encode_with instead of to_yaml, which is deprecated
Move protected instance variable to the right place
[ci skip] Don't promote SQL interpolation.
Remove extra space [ci skip]
do not pass conditions to `#destroy_all` [ci skip]
Run Active Support tests when preserving timezones
When deleting through records, take into account association conditions
Ensure compatibility between ActionDispatch::Request::Session and Rack
Bump Ruby versions
renames ActionCable::Railtie to ActionCable::Engine
Add Support for GroupBy Cube, Rollup and Grouping Set Syntax for PostgreSQL Visitor
Check for the right exception
Followup of #24835
Depend on bundler 1.11.2 on travis until bundle update discrepancy is solved on 1.12.x
s/words_connnector/words_connector/ [ci skip]
Change RangeError to a more specific ActiveModel::RangeError
Release notes: Remove duplicate entries [ci skip]
remove `empty?` from CHANGELOG [ci skip]
Do not delegate `AR::Base#empty?` to `all`
Raise ArgumentError if limit and lock are used for Oracle12 visitor it would generates `SELECT ... FETCH FIRST n ROWS ONLY FOR UPDATE` which causes Oracle 12c database returns this error :
Add `:nodoc:` to `schema_creation` [ci skip]
Add example for UnknownAttributeError [ci skip]
Followup of #18322
Active Model: Messages for strict validation always convert attributes to human readable form [ci skip]
Replace ActionDispatch::LoadInterlock with ActionDispatch::Executor in guides [ci skip]
fix incorrect module name [ci skip]
Move comment up to the class, for both of the methods, and document on class level why we are doing this. [ci skip]
Replace `Rails.version.to_f` with Active Record
add #24385 to 5.0 release notes [ci skip]
rm unused require
Extract `add_sql_comment!` method
Treat blank comments as no comment for indexes
Migrations: move version-finding responsibility
restores the regexp used in String#blank?
Chomp: prefer String#chomp where we can for a clarity boost
AS::Duration changelog polish
Update configuring.md with colons and periods
Consistent spelling of "gzipped" [ci skip]
Document config.assets.gzip flag. Follow up of https://github.com/rails/sprockets-rails/pull/342.
Active Job: Add note about ability to configure adapters on per job basis in CHANGELOG and release notes.
Remove last uses of `@env[]` and `@env[]=`
test the number of times the schema is loading
schema_load triggers 2nd schema_load (via locking)
Pass over debugging guide [ci skip]
Review the `byebug` debugging guide
Always genererate models with ApplicationRecord parent
Change 1.week to create 1 week durations instead of 7 days durations.
Update to the Rails 5 version of the book
Push action_view.collection_caching to be called towards the end, since it depends on being called after action_controller.set_configs. This causes, other AV initializers after it to be called after all of AC initializers, which get pulled in before since action_controller.set_configs gets called. Hence, push initializer depending on after hook, to be called after all initializers for this railtie are done.
Prep Rails 5 beta 4
Respect gospel of Railties Gods: no on_load with after.
Revert "Change 1.week to create 1 week durations instead of 7 days durations."
make the collection_caching initializer run after the Action Controller configs are setup
update record specified in key
Add more info to insecure URL generation error
Little perfomance fix for Array#split.
Clear ActionMailer deliveries on setup and teardown
Do not cache ActiveSupport::TimeZone#utc_offset
CI: allow JRuby build to fail, too flaky to be useful
Dont simply assume a type is a valid database type. This is only always true in the case of sqlite. Others adapters need to perform a check for validity. Add coverage for mysql2 db type validation
Move remaining current_savepoint_name to savepoints module
Add require of mattr_accessor since Compatibility relies on it.
Remove `Array#sum` method before override it
register rake options to `OptionParser`
remove unnessary option setting from test runner
Add Expression Indexes and Operator Classes support for PostgreSQL
remove_index do not fetch indexes if name is specified
Follow up of #23461
rewords code comment [ci skip]
removes useless use of string interpolation
Include the Savepoints module in all adapters.
Share lock: more accurate livelock fix for aa598f4
:nodoc: internal StatementPool class.
Add #23461 to release notes
s/statment/statement/
add channels files in `stats` task
Move `select_rows` implementation to super class
Move `require 'ipaddr'` in `postgresql/oid/cidr.rb`
Remove in the doc about MySQL versions below 5 [ci skip]
Add `:nodoc:` to `insert_versions_sql` [ci skip]
Deprecate `request_via_redirect` method.
Followup of #15771
Share lock: avoid livelock due to exclusive thread sleeping before waiting threads wake
Follow up of https://github.com/rails/rails/commit/c9c5788a527b70d7f983e2b4b47e3afd863d9f48 [ci skip]
Make getlocal and getutc always return instances of Time
Add DateTime#subsec
Change Time#sec_fraction to use subsec
Add additional aliases for DateTime#utc
Add CHANGELOG entry for #24700
Add Time#sec_fraction
Move `DateTime#getlocal` to `/core_ext/date_time/calculations.rb`
Add compatibility for Ruby 2.4 `to_time` changes
Actionpack documentation typos [ci skip]
be specific when the debug_exception_response_format to :api
Make `assert_recognizes` to traverse mounted engines
https://github.com/rails/rails/commit/42dd2336b31a8d98776d039a2b9fd7f834156a78 changed INSERT INTO versions to run in 1 single query. This breaks for sqlite versions < 3.7.11, which is especially the case on Ubuntu 12.04 LTS, that has SQLite version 3.7.9 as default.
Do not attempt to return connection with open transaction to pool (#24610)
fix boot performance issue
Mention default values for `debug_exception_response_format` in configuring guide [ci skip]
`debug_exception_format` is set to :api by default for API apps only, not for normal apps.
Change definition of what async means for an Active Job Job [ci skip]
- [ci skip] Active Job Async doesn't support to Async feature as per it's definition.
Add SQL examples for equality and NOT [ci skip]
Actioncable and Actionpack documentation typos [ci skip]
just say nothing about why this regexp is slower [ci skip]
- using rails dev:cache instead of rake dev:cache
Make file update checker tests more resilient on Windows
Log if redis connection is in stale/failed state.
Minor space bump.
restores code comments in String#blank? [ci skip]
Revert "add doc for `:type` option of `#create_join_table` [ci skip]"
add doc for `:type` option of `#create_join_table` [ci skip]
Update delegate to use newer Ruby syntax
use wrapper file to add rake task for engines
Remove unused `BLANK_RE`
Add prepared statements support for `Mysql2Adapter`
Add #18323 to 5.0 release notes
Speed up String#blank? Regex
- [ci skip] `regardless` is usually followed by `of` and not by `if .. or not`.
~3.5x speedup of String#blank? for empty strings
use rails command in `time:zones` task desc [ci skip]
[ci skip] Small grammar fix
`undef_method` is not needed
Add CHANGELOG entry for #23869
Discart the schema and host information when building the per-form token
Ensure Cache#inspect doesn't block concurrent cache writes
Dump indexes in `create_table` for generates SQL in one query
[ci skip] Aline results of code examples in comments
mention rails 5 instead of rails 4 in bin/rails for plugins
Remove unecessary comment
Database comments: Treat blank comments as no comment. Don't dump blank comments.
- Added documentation for ActiveJob queue adapter for a specific job.
Add ActiveSupport::TimeZone.country_zones helper
s/determins/determines/
Define `arel_visitor` method on all adapters
Remove reference to unknown method `dirty?` to docs [ci skip]
Update send_data documentation [ci skip]
Change the Hash.to_xml with a lamda example
Remove unused `table_with_autoincrement` table
Ruby 2.4 Array#sum: ficauses -> cases changelog typo [ci skip]
Ruby 2.4 Array#sum: fix non-numeric #sum feature detection
Travis: cache unicode data downloads and beanstalkd build
Cable: Extract stream handler construction
Ruby 2.4: compat with new Array#sum
Add #16917 to release notes [ci skip]
`ActiveSupport::Duration` supports ISO8601 formatting and parsing.
`foreign_key` respects `table_name_prefix` and `table_name_suffix`
Selectively add `li ul, li ol { margin:0 1.5em; }` to subColl needed for Chapters column, instead of leaking to other lists.
Cable: Periodic timers refresh
Database comments: switch to keyword args for new table options
Don't create new arrays when trying to compute non_empty_predicates for where clause predicate. Get a 3-4% improvement in AST generation. Perf compare: https://gist.github.com/vipulnsward/7e4e9ecb157e574002313249a7969c82
removes unneeded require in rails/railtie.rb
[ci skip] Update ActiveRecord associations documentation to avoid confusion with :validate option. Caused by #24532.
Change 1.week to create 1 week durations instead of 7 days durations.
Add note about ability to add database comments to release notes [ci skip]
Move CHANGELOG entry about database notices at the top [ci skip]
Added notice when a database is successfully created or dropped.
Specify that behavior will be deprecated in Rails 5.1
Expand on Action Mailer Fragment caching tests
Properly verify that cache accepts and user `expires` value.
Add render allows unicode text name in partials - ðŸ£
Document consistency [ci skip]
Stop passing unused payloads to instrumentation block in cache
Raise `ArgumentError` when an invalid form is passed to `Date#to_time`
documentation for add_references index option [ci skip]
[ci skip] docs for add_references index option
Add test to verify named unique index, when creating reference via add_reference
Address ORA-00923 error by quoting a reserved word "SIZE"
Add support for specifying comments for tables, columns, and indexes.
don't remove `cable.js`
Small typo on a method name:
Add a note about how to execute 'rails app:update' on 4.2 and earlier [ci skip]
Filter scalar values when params permit hashes or arrays
update example to specify the Action Cable mount path [ci skip]
Add changelog for #24542
Update to_sql.rb
Should keep quoting behaivor of a time column value in sqlite3 adapter
Add Attributes API to release notes
MariaDB Documentation
Add `quoted_time` for truncating the date part of a time column value
[ci skip] Remove extra `so` from the Action Pack CHANGELOG
Include running mariadb on travis
Update ActionMailer base documentation [ci skip]
Run Action Cable callbacks through the worker pool
Properly serialize all JSON primitives in the AR JSON type
Add ruby 2.2.2+ version requirement for Rails 5 apps [ci skip]
 :nodoc: version method.  Reason:  - Its not publicly used method.  - Exposing it makes an assumption that other adapters support it based on its usage - ActiveRecord::Base.connection.version
- Be consistent in providing file locations of schema, model and initializer
Remove unused variable
Remove time calculatiosn extension
Use keyword arguments to cleanup without droping performance
- Make sure we end sentences - Change from "The Task" to "The Update Task" as referred elsewhere
copy edits some comments [ci skip]
No more need for an early return
More readable version
Generate `cable.js` file if does not exist when generating channel
Allow symbols using "dot notation" to be passed to where
Handle max_time edge cases for epoch times and add test
Use Time#compare_without_coercion for super speed
Use a single memoized loop to find max mtime in ActiveSupport::FileUpdateChecker#max_mtime
Restore Hash#transform_keys behavior to always return a Hash instance
[ci skip] Add some missing commas
[ci skip] Typo fix. `loggs` -> `logs`
prevent 'attribute_changed?' from returning nil
set default parameter to nil to speed up attribute_changed?
[ci skip] This modifies the HTTP Token authentication example's `authenticate` method, to use the `secure_compare` method with two constant-length strings. This defends against timing attacks, and is best practice. Using `==` for sensitive actions is not recommended, and this was the source of a CVE fixed in October 2015: https://github.com/rails/rails/commit/17e6f1507b7f2c2a883c180f4f9548445d6dfbda
Pass over all Rails 5 warnings, to make sure: - we are ending sentences properly - fixing of space issues - fixed continuity issues in some sentences.
Freezing couple of more string '0' & '.' and using the string appending to do the same string manipulation. This was we avoid the duplicate strings with freeze and append modifies existing string
Improved ActionView flows.rb documention [ci skip]
edit pass over the RDoc of Rails::Railtie [ci skip]
- Disable jruby-head since bundle fetching is failing on travis.
Support Oracle bind parameter value for Oracle12 visitor
DRY up visit_Arel_Nodes_SelectCore and extract nodes collection to collect_nodes_for, for collecting wheres, projections, groups, windows
remove explicit curlies for hash argument
issue FileUtils commands directly in Rake tasks
revises fileutils dependencies in railties
Add missing test case for record_fetched_greater_than config
Freezing the dots as they are causing extra string initialization on every iteration of calling the helper. Eases on some memory bloat
Pass over AM changelog
s/Thoughtbot/thoughtbot/
- Add changelog for new guide: AC overview from https://github.com/rails/rails/pull/23176
Add `config` to the deprecation warnings of deprecated config options
Update ActionMailer Views documentation [ci skip]
fix typo in file path [ci skip]
do not create unnecessary directory
Cleanup message shown while running destructive action against protected database.
Check for protected environments before trying to load structure.sql file
Support microsecond datetime precision on MariaDB 5.3+.
Remove reference to non existing link in the welcome page.
Clarify fixtures examples [ci skip]
Clarify description of `include_all_helpers` config setting's default behavior [ci skip]
Use new hash syntax (#24464)
remove needless entry [ci skip]
remove blank line generated in application_mailer.rb
Disallow calling `#deliver_later` after local message modifications.
fix length validation error typo
Make `QUOTED_TRUE` and `QUOTED_FALSE` to public because these are used in `MysqlString`
Cable typo: isSupportedProtocol -> isProtocolSupported
Update example of passing a proc to `:message` option for validating records [ci skip]
Remove hard-coded backticks in SQL statements
Use SQLite3 3.7.15 which supports multiple values insert
Sendmail default arguments match Mail::SendMail
quick edits on the AC::API RDoc [ci skip]
Added protocol negotiation
Move `quoted_date`, `quote_string` and `quote_table_name_for_assignment` methods to `Quoting` module
Make to private `QUOTED_TRUE` and `QUOTED_FALSE` constants
Avoid unused capture
date_select helper with_css_classes option also accept a hash
Update documentation based on the new changes for strong & weak ETags [ci skip]
Add test case for interpolation with passing of data along with record attribute in error message, where a proc is passed.
Allow passing record being validated to error message generator
[ci skip] Update code used for filtering passwords in the configuring guide
Guides changes, follow up of #24401
it's => its typo
Use `QUOTED_TRUE` and `QUOTED_FALSE` instead of magic strings
Directly support stateful executor hooks
Honor shallow: false on nested resources
Match `String#to_time`'s behaviour to ruby
Call super instead of returning nil for DateTime#<=>
Use block form of Dir.mktmpdir to ensure tidy up
Prevent void context warnings
Extract `arel_visitor` and move up to the abstract adapter
Update Rails 5 release notes [ci skip]
remove deprecated `datetime_field` from guide [ci skip]
Grammar fixes based on pass over ETag doc changes
`number_to_phone` formats number with regexp
Grammer fix in comment: capitalize first word in sentence [ci skip].
Prevent db:schema:load to protected environments
Remove not needed including
Strong ETag validators
Revert "Deprecate table names containing dots"
Deprecate `datetime_field` and `datetime_field_tag` helpers.
Prepared statements shouldn't share a cache with unprepared statements
Deprecate table names containing dots
Ensure associations still work when the table name contains a dot
[ci skip] Parameter filter performs regular expression partial matching
Cable message encoding
sanitiser helper may be remove in 5.1, update doc [ci skip]
connection adapters column, delegation in Active Record have not use of â€˜setâ€™
Cable: reconcile default worker pool size with low db conn pool size
Move `@quoted_{column|table}_names` cache up to the abstract adapter
Replace _meth with _method to remove ambiguity
Update to_sql.rb. Slightly performance improment.
Update Gemfile.lock
Suppress warnings
Make to private the visibility of `_quote` and `_type_cast`
provide file name for fixture ERB
Run latest precompiled JRuby on CI only against ActionPack
Pass over CHANGELOGs [ci skip]
Deprecate ActionDispatch::ParamsParser instance.
Keep logging in the ActionCable::Channel::Base
update `assert_no_performed_jobs` doc to use `assert_no_performed_jobs` method [ci skip]
Remove `except` helper for test schema
Add a test case for create a record with primary key as zero
Delegate some additional methods in querying.rb
s/documention/documentation/
remove unused require
Add changelog for #24305 [skip ci]
Update how to clear the association cache
[skip ci] Update `numericality` validation docs
extension synonyms yml and yaml
[ci skip] relations inside <tt> tag
remove old-dead link
add `:index_errors` option to example [ci skip]
Cable: Shush pop warnings when skipping Postgres tests.
Shush up EM::Hiredis when running tests.
Added 'config.' to deprecation warning
show correct command name in help of rails runner
Update compatibility.rb
Highlight the dynamic method finder 'find_by_' [ci skip]
development.rb file always exists so we don't need a check for it
Correct typos in "Active Record Query Interface" guide
set in no more used in ActionView::Template::Types
generate ApplicationJob if it does not already exist
Revert "Ensure `config.active_record.time_zone_aware_types` is always set"
Apply scale before precision when coercing floats to decimal
Memoize user provided defaults before type casting
Do not create a hash key when calling ActiveModel::Errors#include?
Move sequence value methods to Model level
Cable: fix Faye periodic timer shutdown typo
Make 'migrate' clear the schema cache afterward
[ci skip] Added missing custom context validation
Change for `ActiveRecord::Migration.[]` to raise `ArgumentError` instead of `RuntimeError`
Use Range#cover? for Date inclusion validator
Add edge cases to Time/Date/DateTime inclusion validation tests
fixed spelling in the attribute_accessors docu
Add ActionCable require statement to plugin
fixed spellin in the mattr_reader documentation
Remove reference to unmaintained plugin/gem
[ci skip] Improve comment minitest plugin initialization.
Don't get ahead of ourselves.
Set Rails as the first minitest initialized plugin.
Use || instead of `or` as preferred in rails code convention
s/responsibilty/responsibility/ s/symantically/semantically/
guides, sync 5.0 release notes with changelogs
guides, sync railties and AP changelogs with 5.0 release notes.
Require enumerable module when using #sum
update Active Job default adapter [ci skip]
Add tests for file_watcher config on update
Keep all session tests in the same file
Gracefully handle disconnected clients
Cable: add isolated tests and FAYE=1 test runs
changed default value of `caching` option to `nil`
Forward ActiveRecord::Relation#count to Enumerable#count if block given
enhance ActiveRecord#substitute_values to loop values just once
remove Rails 4 text from asset pipeline guide
Don't upgrade config.file_watcher during upgrade path
Issue 22240: adds link to list of instance methods [ci skip]
Evented Redis adapter: log reconnect failures as errors, not just info
switched layout :mailer to a string so that mail layout can be properly found and mail can be delivered properly
use rails 5 favicon.ico for rails guides
Added more tests for reserved hash keys of ActiveJob::Arguments.
add column type option to create_join_table to support uuid
Document and Match the Rails logger interface
fix a comment in atom_feed_helper.rb
adds .gitattributes to enable Ruby-awareness
Improve code readability in ActiveSupport::Dependencies
Add comments to ActiveSupport::Dependencies to help understanding
no need to clear an unusued collection
removes unreachable code
tests the raising/throwing discards the watching stack
s/removes/discards/
adds coverage for raising while autoloading
adds coverage for throwing while autoloading
mimic ActiveSupport's Array#to_sentence in an html_safe-aware way
Share dev caching implementation between task and server.
Update action_controller_overview.md
Creates development and test databases in db:migrate task
Remove log-related stuff from ActiveSupport::Dependencies
Correct command for generating secret_key_base [ci skip]
add `queue_classic` to list of provide `provider_job_id` [ci skip]
format as code [ci-skip]
- Renamed NestedParametersTest to NestedParametersPermitTest, to indicate what we are actually testing in this file
Append sql_mode instead of overwriting in strict mode
add headers to payload list [ci skip]
silence deprecation message for dynamic controller and actions on Action View test
Add explanation about accepts_nested_attributes_for keys in the strong parameters documentation [skip ci]
Un-hide helper and assets options for controller generator
show how to disable AC origin checking
configure Allowed Request Origins in environments
Primary key should be `NOT NULL`
Add example for ActionController::Parameters#to_unsafe_h
Correctly generate application_mailer.rb in mountable engines
improve some code
generate application_mailer.rb if it is missing
AC: skip PG adapter tests if the db isn't available
Break up a circular require between AP/AV
Clarify has_many :dependent option docs [ci skip]
Ping the resque version while we can't investigate the failure
Use the most highest priority exception handler when cause is set
use `ActiveSupport::Reloader.to_prepare` instead of deprecated `ActionDispatch::Reloader.to_prepare` [ci skip]
Prevent `Marshal.load` from looping infinitely
Dump `bigint` instead of `integer` with `limit: 8` for schema dumper
Extract `default_primary_key?` to refactor `column_spec_for_primary_key`
Add missing require to try
Don't inherit from Concurrent::CountDownLatch
Remove unfinished command infrastructure.
Remove unused try require
Version 3.1.11 works on Windows again
remove obsolete i18n links from guides [ci skip]
[skip ci] Reorder paragraphs
Remove needless `break;` [ci skip]
revises whitespace in the gemspec of AV [ci skip]
revises the homepage URL in the gemspecs [ci skip]
prefer require_relative over require + File.expand_path
Rename dependencies.rake to cache_digests.rake
add return values to example [ci skip]
Rename dependencies.rake to cache_digests.rake
Add JSON round trip verification testcase
Job payload should be symmetric across JSON dump/load
Add `ActionController::Parameters#dig`
Add changelog entry for #24115 [ci skip]
AppGenerator: allow both 'rake' and 'rails'
Remove passing `with_dispatchers` to AppGenerator
use same name to type object
Pass headers through to payload for logging.
friendly error message if missing listen
add test case for schema dumping of PG bytea columns.
Advertise the console web-console feature
- Freeze strings in frequent used private method reduce string allocation. - Use freezed empty string instead of create one every time we need to return it
Drop the explicit version requirements for web-console
Execute default_scope defined by abstract class within the scope of subclass
Remove redundant regexp escapes in generators
Remove extra 'the' and unwanted comma [ci skip]
Passing `table_name` to `Column#initialize` to avoid `instance_variable_set`
Initialize `column.table_name` immediately for `column.serial?` correctly working
Add changelog for batch touch records.
move changelog to right place [skip ci]
Add changelog for #20997
extract ActionDispatch::IntegrationTest::Behavior
Remove incorrect Rack documentation example
Prevent not-intended loading of `ActionDispatch::IntegrationTest`
clarify that helper_method makes both methods available in the view
Silence deprecation message for dynamic controller and actions on action_view test cases
prefer require_relative over require + File.expand_path
use __dir__ for relative paths in config/application.rb
use __dir__ for relative paths in config/boot.rb
use __dir__ to load the application in environment.rb
use __dir__ to load the environment in config.ru
This code won't work
remove entry for reverted commit [ci skip]
make attributes API  example to work [ci skip]
Simply use `select_value` in `show_variable`
chage `date_time` type ` to `datetime`
Update the rendering guide to match the current behavior
Added some useful configuration options into configuring.md [ci skip]
fix typo in attribute example [ci skip]
define APP_PATH with __dir__
A small documentation fix about autosave associations [ci skip]
Remove http_cache_forever's version parameter
remove config that are no longer needed in sprockets-rails 3
Add AS::Notifications and LogSubscriber to ActionCable::Channel
remove outdated comment [ci skip]
start hiding the `scope_chain` data structure
Match Puma 3 startup messages [ci skip]
We're not using $2 from this Regexp
don't build the reflection chain to calculate `nested?`
remove useless ivar
Return subscription object(s) when updating the collection
Make sure ActionCable.Subscriptions#create always returns the newly created subscription object
- using rails dev:cache instead of rake dev:cache in test case
making a test definition more clear.
[ci skip] correcting sentence in description of application.rb
[ci skip] using correcting test case names specifying `rails routes` instead of `rake routes`
Update base.rb
Update Gemfile
Store reference to Subscriptions instance for convenience
Implicity add Subscription instance to subscriptions collection
Share default mount path with client side .js
Defer starting connection monitor until a connection is opened
Do not destructively mutate passed options hash in route definitions
add `scaffold_stylesheet` method to guide [ci skip]
Refinement of our "are you missing a template or did you omit it on purpose?" heuristics
Remove outdated comment [ci skip]
Rename constrain_to to exclude.
[ci skip] Make collection caching explicit in guides.
No need to extract a limit for a boolean type
don't treat all associations with extensions as instance dependent.
Change 'a HTTP' to 'an HTTP' [ci skip]
Prevent nested ExecutionWrapper calls even when using run! directly
Change 'a HTML' to 'an HTML' [ci skip]
ConnectionMonitor is once again notified of disconnect
Niceify the dynamic routes deprecation messages
[ci skip] Update all guides with `null: false` change in migrations
[ci skip] Update getting started guide for chanages in migrations API
Changed behaviour of timestamps helper by create_table migration generator [ci skip]
Do not run app.executor callbacks in integration tests
Add test to make sure the sprockets cache is not shared per environment
[ci skip] Add `bundle exec` for ActiveRecord unit tests
remove trailing whitespace.
Accept JSON with no backslashes/escaping
 [ci skip] Use rails routes instead of rake routes in inspector test description
Remove requiring load_paths from tools/test.rb
Support faye-websocket + EventMachine as an option
Deprecate `{insert|update|delete}_sql` in `DatabaseStatements`
Remove not needed `exec_insert` in mysql2 adapter
Remove duplicated `test_` prefix [ci skip]
Delete CTRL-C message as is duplicates Puma
Don't reference Rails.application from inside a component
Use AS::Reloader to support reloading in ActiveJob
Use AS::Executor / AS::Reloader to support reloading in ActionCable
Publish AS::Executor and AS::Reloader APIs
Mock fork twice
Deprecate `Module.local_constants`
do not set Action Cable's config when specify `--skip-action-cable` option
Support `:any` variants lookup in `PathResolver`
Deprecate :controller and :action path parameters
Make ping into a message type
Remove inconsistency in the Action Cable README [ci skip]
Added welcome message type and fix test hacks
Active Job: smaller footprint for the dev/test async adapter
generate config/spring.rb in new applications [closes #18874]
Respect through association scopes when used with polymorphic
- Updating the dummy app template to have rails_command instead of rake
Drop Action Controller require in ActionDispatch::ExceptionWrapper
- Made changes to have test cases in actions_test more readable.
- Made changes to have test cases in actions_test more readable.
Exclude `:name` and `:type` from `prepare_column_options`
Add a test for primary key should be not null
Add documentation for #13897 [skip ci]
Address ruby warnings
Remove unnecessary namespaces in `explain_test.rb`
add `constraint_to` option to SSL middleware
Clean up README code
Further cleanup of the cable guide
remove "rake" word [ci skip]
use `app:update` instead of deprecated `rails:update` [ci skip]
convert cable.coffee to cable.js
default second_to_last to primary_key index if no order supplied
refactor AR second_to_last to use array methods
comment out failing .second and .third tests
adding additional tests for offset and limit behavior
additional test assertions (limit and offset)
AR #second_to_last tests and finder methods
Add small Action Cable documentation fixes
Remove load_paths file
Update docs to point to new update task.
Introduce Module#delegate_missing_to
Update deprecation message shown when tasks from rails namespace are run
Try running CI for ActionPack on JRuby
[ci skip]Add info for specifying logger in different envrionments.
[ci skip] fix json output
remove rack cors initializer when updating
:scissors:
Create tmp folder if not present
Specify plaform: :mri for byebug
Add CHANGELOG entry for "Rendering ..." logging
Use redis_connector to create redis connections for both subscriptions and broadcasts
Update to use Subscriber#start instead
Added log "Rendering ...", when starting to render a template, to log that we have started to render something, at the very beginning. This helps to easily identify queries from controller vs views
[close #23681] Use puma 3.0.0+
The tasks in the rails task namespace is deprecated in favor of app namespace. (e.g. `rails:update` and `rails:template` tasks is renamed to `app:update` and `app:template`.)
[ci skip] Remove reference to Rails 4 in the initialization guide.
- Changed Debugging Rails Applications doc's logger introduction section. Changed location for specifying logger. [Prajakta, thiagoaugusto]
fix typo in pull_request_template [ci skip]
:nail_care:
The async.callback call should live with the hijack
Add upcase_first method
:nail_care:
Revert "Update Session to utilize indiffernt access"
Doc: update AC::Parameters guides for Rails 5
Doc: update routes guides for Rails 5
Render default template if block doesn't render
Additional review of 6b31761.
Lock down new `ImplicitRender` behavior for 5.0 RC
Add config.debug_exception_response_format into configuration guide
Update config.force_ssl's documentation
Update documentation and deprecation message
Add CHANGELOG entry
Added deprecation for older apps
Old applications will not get the ssl_options initializer
New applications will be generated with ssl_options to enable HSTS with subdomains
HSTS without IncludeSubdomains is often useless
Only hijack Rack socket when first needed
Only open Action Cable connection if data is being sent
Enable Action Cable routes by default
[ci skip] Need to mention debug_exception_response_format in the api_app documentation.
Update changelog
Ensure server broadcasts are to string queue names
correctly check `ApplicationRecord` is exist in moutable engine
Ensure suppressor runs before validations
[ci skip] Replace usage of rake routes with rails routes
remove useless method
Convert stream broadcasting to a string
whitespace
Added a test for generating Strong ETag
Updated file documentation [ci skip]
changes caching guide to add note on weak etags
Don't put config.action_mailer.perform_caching entry twice in development.rb
Add Ruby formatting to CHANGELOG entry
Do not define methods in the included block
Add caching guide in ActionMailer basics
Add ActionMailer configuration options
Preparing for 5.0.0.beta3 release
Update 5.0 release notes
Enable tmp_restart plugin for puma
Prep release for Rails 5 beta3
[ci skip] Move collection caching changelog entry.
Ensure `drop_table` even if tests failure or interrupted
:bomb: run the test @rafaelfranca :angry:
Remove changelog entry for reverted commit
Add CHANGELOG for https://github.com/rails/rails/pull/23734 [ci skip]
No need CHANGELOG entry for #23849.
Make internal class as nodoc
Always use the released coffee-rails in new applications
Ignore callstacks from Ruby stdlib in deprecation
Show permitted flag in the output of AC::Parameters#inspect
Header Typo
Add changelog entry for #22825
Move private methods to the private visibility
`stream_for` example
Use the trick to get beta releases in the Gemfile
Explicitly denote that channel.rb is a default file.
Change ActionCable.server.broadcast to XChannel.broadcast_to
`drop_table :test_text_limits` as well
[ci skip] Improve the readability of documents of nested_attributes
[ci skip] No hyphen in 'side effects'
Move Caching module to Abstract Controller
Change ActionMailer's default caching configuration and update generator's environment templates
Remove unnecessarily included modules in ActionController::Caching
Move ActionMailer::Caching's content into ActionMailer::Base instead of including it
Make caching configuration more flexible
Move most caching methods to ActionDispatch::Caching, and let ActionMailer and ActionController to include it
Move caching/fragments in ActionMailer and ActionController to action_dispatch/caching/fragments
Porting ActionController::Caching to ActionMailer::Caching
Update JavaScript guide for Turbolinks 5
Update to the latest Turbolinks gems
New apps get the Turbolinks beta gem
Switch to `data-turbolinks-track="reload"`
Removes potentially quadratic Regexp from ActiveRecord::LogSubscriber#sql_color
Revert changes to validations from PR #18612
clear digest cache between tests
reestablish previous connection after creating all databases
ActionCable.log
Uninstall event handlers when replacing WebSocket instance
Connection#isAlive
Log ConnectionMonitor connect
Confirm connection monitor subscription on open
Treat 'closing' state as closed.
Add client-side console logging to help debug reconnect issues
Make sure we don't change the global state in the tests
Remove needless `drop_table :test_limits`
add deprecation warning to assert_nothing_raised and changelog entry
update assert_nothing_raised in testing.md
remove args from assert_nothing_raised in tests
Prevent ActionMailer initializer from triggering load of ActionMailer
Action Cable readme fix [ci skip]
Add notes for future selves
Generate ApplicationCable files if they do not already exist
Generate ApplicationRecord if it does not already exist
Generate `config/cable.yml` in `rails:update` command
Add `internal` attribute to routes
Make sure we unregister the mime type before registering
Transform the mime object to symbol when registering the parsers
Use symbol of mime type instead of object to get correct parser
make sure `rake test` respects TESTOPTS
We are calling `to_s` in the method so we can call downcase now
Make per form token work when method is not provided
Do not pass more options that are needed.
Refactored Request Forgery CSRF PerFormTokensController tests and DRY'ed them up.
The BINARY Operator is only needed for string columns
Add a note about downcasing submit tag
Match test name to test (typo)
[ci skip] Document collection caching better.
[ci skip] Clarify collection caching went EXPLICIT.
[ci skip] Mention testing fore-runners.
Reduce `attribute.to_s`
use method provided by minitest
Invoke 'rails' instead of 'rake' in AppGenerator
AppGenerator: Replace 'rake' with 'rails_command'
Make benchmark('something', silence: true) actually work
Instrument cached collection renders.
Mutating the result of Relation#to_a should not affect the relation
Revert "Instrument read_multi".
Make collection caching explicit.
Always validate record if validating a virtual attribute
fix typo
Improve CHANGELOG for https://github.com/rails/rails/pull/17043 [ci skip]
Adding test to verify the last week when the year is leap
Show correct return types for examples [ci skip]
eliminate warnings about multiple primary keys on habtm join tables
Add methods to array delegation from `Relation`
Dependencies clean up
Deprecate AC::Parameters#== with a Hash
Tests for AC::Parameters#==
better docs for ActiveSupport::TestCase#assert_nothing_raised
remove needless `debug_exception_response_format` config [ci skip]
Remove `alias exec_without_stmt exec_query`
push partial name regexp up
push injected dependencies up to the `digest` method
use the class level digest method for calculating the digest
partial pass over the API guide [ci skip]
Use a semaphore to signal message availability
cache all subnodes in the digest cache
Add `issue_template.md` and `pull_request_template.md`
Remove github gems from the master bug report templates
move digest cache on to the DetailsKey object
remove object `hash` cache
[ci skip] fix suggested change-replace 'an' with 'the in Rails engine guide'
Truncate ActionCable broadcast message to 300 chars
Missing documentation about hash algorithm option for MessageVerifier [ci skip]
set `skip_listen` option to dummy appplication
Add assertions order by field with empty data
Add accidentally removed `#` [ci skip]
fields_for_style needs to test for AC::Parameters
Remove accidentally duplicated change log title [ci skip]
partially revert 69009f4473637a44ade26d954ef5ddea6ff903f2
added Casted#hash
Remove unused parameter from method
Alternative to #23638 log to STDOUT via env var
Full Action Cable documentation read through
convert `digest` to only use kwargs
Remove needless `case_insensitive_comparison` in mysql2 adapter
modify to `error` also abort when specify fail fast option
Implement ActionController::Parameters#inspect
remove unused method
Remove unused Journey code
Add Action Cable CHANGELOG in release notes [ci skip]
Show proper error message when a non-relation object is passed to AR::Relation#or
The JSON API media type should only work wih a JSON API handler
adds --skip-listen to the application generator [closes #23590]
fix rake tasks
remove more dead code
remove dead code
change internal implementation to use a tree
convert structs to a regular class
clean up classes a little
fix recursive templates
pull template check up to match existing behavior
introduce a `tree` factory method for creating the dep tree
[ci skip] Updating edge rails guides to include `on_weekday?` on Date, Time and DateTime
Test parent local_stored_attributes isn't modified
fix class name typo.
reset `ActionMailer::Base.deliveries` in `ActionDispatch::IntegrationTest`.
Refactor handling of :action default in routing
Add missing CHANGELOG for regression fix in #18155 which fixes #13387
Remove unused test controller action
Join values using '; ' as per RFC spec
Add require and move escape to private method
Move test for #22828 into it's own test
Dynamically show available sql types [ci skip]
Let t.foreign_key use the same `to_table` twice
fix more failing tests due to 07e422f ... :pray:
Use a URL instead of an URL everywhere
fixing the build take II. :sweat:
fix build broken by 07e422f58d61da0.
test runner, relay minitest information about the error location.
Revert "Prefer Minitest's location for test failures."
generate mailer views in Rails API
Add `#on_weekday?` method to `Date`, `Time`, and `DateTime`.
Corrected secret_key_base
mark as #:nodoc:  [ci skip]
Improve the performance of string xor operation
Create action_cable_overview.md resolves #23176 [ci skip]
Remove `const_missing` which fallback to deprecated `NEVER_UNPERMITTED_PARAMS`
Don't rely on the global server as a receiver.
Default connection class to ActionCable::Connection::Base.
Inject Rails' channel paths in engine.
[ci skip] fix typos
[ci skip] line_statistics added to README
Test to check if the data-attr if nil is same or not
[ci skip] Update 'Testing Active Record'
Update dalli gem
Remove the method already overridden by private method
remove `active_support.test_order` from environment file
application/gzip added as default mime type into mime type list
adds tests for Digestor#nested_dependencies
restores the guides layout header [ci skip]
Change x-gzip to gzip in docs [ci skip]
add missing name option to flash test example [ci skip]
Add the missing author name [ci skip]
Make ActiveRecord::Relation#last to reverse SQL order
push kwargs up to the user facing API
Prefer empty? to any?.
Stop mutating return value.
Inline `fetch_or_cache_partial`.
Write to collection cache where the template is rendered.
Only write to collection cache if we have a callable cache key.
Check `partial_rendered_times` to clarify expectations.
Use Ruby 1.9 hash syntax
Remove useless callable_cache_key? check.
Test collection caching with callable cache key.
the lookup context looks in the cwd, so prefix isn't necessary
use a real LookupContext in the digest tests
Remove single_template_render? method.
Don't search in locals for cache_options.
use assert_not_equal so there will be better error messages
use kwargs to avoid hash slicing
Add fixes accidentally removed.
Flesh out request encoding + response parsing changelog entry.
Use correct path in documentation.
use rails instead of rake
WIP: Errors in logs should show log tags as well. - Changed formatted_code_for to return array of logs to be tagged for each line - Changed some render tests to match new behaviour of return
Avoid a string value truncation in uniqueness validation
Update RELEASING_RAILS.md
Correct config option from only_api to api_only in test
Correctly show deprecation warning for incompatible migrations
remove detail initialization metaprogramming
Improve wording in documentation change
Memoize `parsed_body`.
[ci skip] Mention `parsed_body` in docs.
Make `parsed_body` extract parser from the content type.
Document the upgrade process
Don't capture the MissingTemplate exception.
Oops. :cut:
follow indentation rules
make the logger method always return something
Ensure prepared statement caching still occurs with Adequate Record
Update active_record_querying.md
remove warnings from FinderMethods
sort templates after looking them up in the from the paths cache
check `supports_view_paths?` at registration time
build scope chain functionally and remove caching
Add request encoding and response parsing to changelog.
Add `parsed_body` to spare writing out parsing routines.
Set postgresql poolsize via RAILS_MAX_THREADS
include activerecord and activesupport CHANGELOG entries
rename to 'second_to_last' and 'third_to_last'
Converting backtrace to strings before calling set_backtrace
Logs successful and invalid connections separately
prevent apps in the railties test suite from running the evented monitor
allow Array.penultimate and Array.antepenultiate access methods
include spring-watcher-listen in the Gemfile of new applications
enables the evented monitor in new applications
UniquenessValidator exclude itself when PK changed
`log_process_action` will return an array, so use `empty?`
Request#fullpath should not raise an exception, so remove the rescue
AC::Request#format always returns a value, so we do not need to try
Update documentation regarding initializers [ci skip]
Addresses #23568
remove description of `render :nothing` from guide [ci skip]
drop array allocations on `html_safe`
speed up string xor operation and reduce object allocations
ActionCable README updates
Update rails-html-sanitizer version to  v1.0.3
Add numeric type in the doc [ci skip]
Remove references to Rails 4 from assets guide [ci skip]
remove `faye-websocket` dependency from README [ci skip]
update turbolinks url [ci skip]
config examples for ActionCable now use Rails.application.config.action_cable
revert dev:cache to rake task, fixes #23410
doc changes
`schema_type` returns symbol rather than string
Manual yield doesn't block new shares
Test the happy path for recursive yields too
Add SVG as a default mime type
Eagerly reacquire when start_sharing is nested inside yield_shares
Separate for new and existing applications clearly
fix indentation
fix 'method redefined' warnings
Added numeric helper into migrations.
fix typo in `assert_enqueued_jobs` example [ci skip]
AS::Conc::ShareLock#yield_shares tests.
Hand off the interlock to the new thread in AC::Live
Avoid coupling Action Pack to Railties.
Remove unused private method
Add `ActiveRecord::ValueTooLong` exception class
MariaDB does not support JSON type
Remove unused require
set association name to generated fixtures if attribute is reference
Remove duplicated `require 'arel'`
Delete not used codes
Replace old Rails greeting references
Revert "No need to specify Ruby patch version on Travis CI"
Revert "When generating a mailer, you must specify Mailer in the class name in"
[ci skip] Good bye SQLite2
add missing require
Revert "Dump indexes in `create_table` instead of `add_index`"
No need to specify Ruby patch version on Travis CI
disable controller / view thread spawning in tests
When generating a mailer, you must specify Mailer in the class name in order to generate the proper files. Some of the docs/comments are missing this important detail.
Missed a few spots in inline -> async switch
Change the default adapter from inline to async
Extract `extract_schema_qualified_name` method
Cant run on an out-of-the-box OSX installation without running out of TOO MANY FILES OPEN
donâ€™t explicitly mention EventMachine [ci skip]
Update turbolinks-rails for passing railties test
Check off some todos for the Testing guide with @senny [ci skip]
docs, remove trailing whitespace from testing guide. [ci skip]
docs, link Rails specific assertions to the API. [ci skip]
move CHANGELOG entry to the appropriate position [ci skip]
add missing include to engine test example [ci skip]
Remove accidental additional test
Add a resolver test for the missing scheme
Add documentation about  method to describe how it works [ci skip]
hotlink to the source and results for AWDwR tests
Test with Turbolinks 5
- app generate option --skip-sprockets leaves jquery-rails gem, which relies on sprockets environment - Remove jquery-rails if --skip-sprockets is true
Update assertion on redis in generated Gemfile
Pass api only option to rails rails:update task to update only based on API.
Turbolinks has moved out
Redis is now only needed if you want to use Action Cable in production
Allow for non-standard redis connectors
Don't publicize Kernel core extensions
Remove the assumption of schema in DATABASE_URL
rake stats dynamically scales now
Revert "Lines of code can be 100,000+ in a Rails app"
Typos in AR tests
SQLite 2 support has been dropped [ci skip]
Remove commented out code in `ci/travis.rb` [ci skip]
Extract a Relation#arel_attribute
InnoDB supports FULLTEXT and Spatial Indexes [ci skip]
Remove unused dependency
Active Record supports MySQL >= 5.0
Defer Arel attribute lookup to the model class
Add dummy apple icon files
Remove json gem dependency
Document the fact that Action Cable does not require a multi-threaded app server
update supported version of PostgreSQL in docs [ci skip]
Typos in AR tests
Put some space for non-assets requests in development mode
Mention PostgreSQL version support in release notes [ci skip]
Mention supported PG version in the error message.
Changed id-writer to save join table records based on association primary key #20995
Sleep well, sweet prince
use rails secret in rails guides
use rails command in routes task
Add initial support for allowing an error on order or limit of queries being ignored in batches
The minimum supported version of PostgreSQL is now >= 9.1
[ci skip] Several ActionCable documentation updates:
Ensure tz aware attributes continue to work with arrays
Avoid infinite recursion when bad values are passed to tz aware fields
Change command_task.rb to commands_task.rb in docs
Remove unnecessary overriding of `#initialize`
move `test_generator_if_skip_action_cable_is_given_for_an_api_app` to the appropriate file
Remove unused class AttributeMethodCache
Generated engines should protect from forgery
:warning: assigned but unused variable - err
Update CHANGELOG.md
Add some Action Cable CHANGELOG entries
Preparing for Rails 5.0.0.beta2
Add spaces in the braces.
Converge on filter.
Simplify filter normalization.
.git added to https repo urls
Add options for rake routes task
git protocol replaced with https
Add documentation for #17573
[ci skip] Properly indent code in markdown
After completing a load, give other threads a chance too
While new sharers are blocked, an existing sharer remains re-entrant
Block new share attempts if there's an exclusive waiter
Always obtain the lock and do the unload
Rename `active_record_internal_metadatas` to `ar_internal_metadata` for those who already migrated to Rails 5.0.0 beta
Shorten ActiveRecord::InternalMetadata.table_name to ar_internal_metadata to support Oracle database which only supports 30 byte identifier length
Duplicate assert_generates options before modifying it
remove unused constants from activerecord
tabenai (typo)
Added references option to join tables
Avoid extra `show variables` in migration
Remove development dependencies from actioncable.gemspec
Remove duplicated composite primary key tests
Extract `ExplainPrettyPrinter` to appropriate files
:speak_no_evil: :warning:
Update Gemfile.lock
Remove `case macro` from `calculate_constructable`
clarify the touch true option does not trigger after_save/update [ci skip]
Remove unused method
Update middleware docs regarding ActionDispatch::LoadInterlock [ci skip]
Use the in-process subscription adapter for development & test
Drop the runtime dependency on coffee-rails
Wrangle the asset build into something that sounds more general
Wait for EventMachine to finish starting
Switch the default redis adapter to a single-stream model
Each concrete classes have responsibility to return `association_class`
Added test for backward compatibility of null constraints on timestamp columns
Use `t.index` in `create_table` instead of `add_index` in test schema
Remove odd ` [ci skip]
Move Action Cable back to the main build
Add Action Cable asset building as release step
Improvements and reorganization of assets
Add task to create precompiled action_cable.js and reorganize to accommodate
make rake proxy work in rails engines
Add configuration section to "Active Record Basics" guide
Update Session to utilize indiffernt access
Small cleanup to Testing Guide
typo fix [ci skip]
`OID::Money.precision` is unused since #15239
Make to primary key instead of an unique index for internal tables
Allow `joins` to be unscoped
Allow failures for Action Cable tests
[ci skip] fix typo
Remove unused `LOST_CONNECTION_ERROR_MESSAGES`
There is no need to define test if a connection does not support primary_key
Handle response_body= when body is nil
remove unnecessary gsub for `action_cable_meta_tag`
Make `SchemaMigration.drop_table` to one SQL
Refactor `column_exists?` in `SchemaStatements`
Explicitly define `columns` method as an interface
Refactor `OID::Money.precision`
remove backward compatibility code for Minitest 4
Warn if `AR.primary_key` is called for a table who has composite primary key
[ci skip] Update internal documents about ActiveRecord's Reflection
remove unused require
remove unused variable from render test
Update session to have indifferent access
Add Default Puma Config
Use a gentler disconnect
Add additional documentation on Headers#[] [ci skip]
Don't bother stopping EM between tests
Intervene on change_table as well as create_table
remove require logging
Keep the socket reference after close
Reduce the client count, in hope of a more consistent test
Be more patient while gathering the expected responses
Handle more IO errors (especially, ECONNRESET)
Add a couple of tests that connect with a WS client
Synchronize the lazy setters in Server
Revert "Revert "Eliminate the EventMachine dependency""
Don't recommend using `ActiveRecord::Base[]`
Implemented pull request changes.
Change number_to_currency behavior for checking negativity
Getting Started Guide: Update Ruby version to 2.3.0p0
speed up accept header parsing a bit.
Docs review of api_app.md
Remove Rack::Lock from the API guides
Middleware have no plural
Mark API guide as work in progress
convert AcceptList to a regular class
Put "Using Rails for API-only Applications" in table of contents
Run `file.close` before unlinking for travis
Bundle update to fix tests locally
Regression test for rendering file from absolute path
Update doc with appropriate issue and pull request versions
Add an after_bundle callback in Rails plugin templates
Reworked ActiveRecord::Relation#last to always use SQL
Suppress :warning:s
scope needs the second argument
Revert "Remove valid_scope_name? check - use ruby"
:arrow_left: indentation
Skip comments when exec mysqldump
Improve clarity of error message for missing includes and eager_load relations
Consistently warn that passing an offset to `find_nth` is deprecated
English explanation to multi-level nested join
remove == from AcceptItem
remove useless private methods
change `@app_xml_idx` to an lvar and cache it on the stack
change `@text_xml_idx` to an lvar and cache it on the stack
Slice out options for cache_fragment_name explicitly
Update sucker_punch adapter's description
Remove celluloid from the Gemfile
Add tests to #23288
Do not use default attributes for STI when instantiating a subclass
Update ActiveJob adapter for sucker_punch 2.0
Revert "Eliminate the EventMachine dependency"
remove duplication section [ci skip]
Introduce ActiveRecord::IrreversibleOrderError
doc typo
INSERT INTO schema_migrations in 1 SQL
Remove `limit: 11` as backward-compatibility with Rails 2.0
add a skip for failing test
fix permitted? conditional for `render` calls
clear view path cache between tests
adds debug logging to actioncable connect
reflect mapping to match initialize
[ci skip] Donâ€™t explicitly mention EventMachine
Update `Gemfile.lock`
Introduce new welcome page for new projects
bumping version
fix version update task to deal with .beta1.1
When verifying size of relation, also verify count is ok.
Remove empty lines in Rails development logger
Add missing source_type if provided on hmt which belongs to an sti record
Put test-case dependent helper Class inside the test case
:warning: mismatched indentations at 'end' with 'unless'
Test files has to be named *_test.rb
Be consistent in testing outputs from railties test and use /bin/rails everywhere(the default behaviour now) instead of mix of /bin/rake /bin/rails everywhere [Ryo Hashimoto & Vipul A M]
Bump mail gem constraint from [~> 2.5, >= 2.5.4] to ~> 2.6
Pare back default `index` option for the migration generator
Ditch the EM error logging helper
Import the relevant portions of faye-websocket
Using a hacked faye-websocket, drop EventMachine
Add tests for the ActionCable adapters
Allow subscription adapters to be shut down
Rails::Generators::Actions#gem should work even if frozen string is passed as argument
Add Async and Inline adapters
Normalize on no arguments for the success callback
Split internal subscriber tracking from Postgres adapter
Update the exception of format constraint in routes
Add environment back to db:structure:load
Use the database type to deserialize enum
Document scoping issue with Time.use_zone
Change permission to readonly
prevent --skip-action-cable from erroring when --api option is used
fix path of Action Cable configuration file [ci skip]
Rename channels_path var and fix channel_paths method for ActionCable config
Eliminate instance level writers for class accessors
allow :file to be outside rails root, but anything else must be inside the rails view directory
Don't short-circuit reject_if proc
stop caching mime types globally
use secure string comparisons for basic auth username / password
Move ApplicationCable::Channel section of readme
Use the correct reference to the redis connection
Rails 5.0+ rake commands implemented in Rails Framework itself. We prefer to use bin/rails instead of rake [ci skip]
Clarify DatabaseStatements#execute docs re: memory usage.
 Allow adding custom paths for action_cable channels
[ci skip] Add note about tsrange and timezone awareness to docs
remove `per_form_csrf_tokens` initializer from Rails API
rm changelog for unreleased changes fixes
First pass over parts of Testing guide - Grammar improvements - Consistent usage of you or we in sentences - Tests can have zero or more assertions. Its not mandatory to have one. - Example for assert_send
Add `config/cable.yml` to list of default files in Rails generator
Remove action_cable_meta_tag when skip action_cable
Use correct timezone when parsing date in json
Use bind parameters for ranges in where clauses
[ci skip] fix #23157
[close #23009] Limit key length
updating secrets.yml template to use rails command instead of rake
remove doc reference to ActionController::MimeResponds#respond_to
document simple example of ActionController::MimeResponds#respond_to
insert newlines into code samples
Re-add ActionController::ApiRendering
Small doc update per RF [ci skip]
Add CHANGELOG.md entry for #22950
Revert "Remove literal? check to fix issue with prefixed optionals"
html_safe is not supposed to be public API for AV. This change removes usage of html_safe in favour of raw() in AV helpers. Also changed usage of html_safe to make use of raw() instead so that the intended behaviour is verified with raw()
Pluralize counter_cache column name in example [ci skip]
Update CHANEGLOG for https://github.com/rails/rails/pull/20005 [ci skip]
Response etags to always be weak: Prefixed W/ to value returned by ActionDispatch::Http::Cache::Response#etag= such that etags set in fresh_when and stale? are weak. For #17556.
Revert "Its ideal to set Vary: Accept-Encoding, irrespective of whether gzipped version exists or not. This is helpful for CDN's to later distinguish assets, based on previous, current copies and introduced gzip version if any."
Add `ModelSchema::type_for_attribute` to the public API
[ci skip] update guide for Puma web server instead of Webrick
- Changed from bin/rake to bin/rails at more application places. - Only ones left are from the upgrading guide, and command line guide explicit section about rake
Link to docs instead of listing methods
Its ideal to set Vary: Accept-Encoding, irrespective of whether gzipped version exists or not. This is helpful for CDN's to later distinguish assets, based on previous, current copies and introduced gzip version if any.
use bin/rails default instead of rake commands [ci skip]
Add methods to StrongParameters
[close #23084] Deprecated StrongParameters
- Remove dead links and take users to just the home page instead - Add new logo for guides header [ci skip]
run `type` column through attribtues API type casting.
Mention that halting chain does not re-raise  `ActiveRecord::RecordInvalid` exception as well, similar to `ActiveRecord::Rollback`
Make text about render :html option clearer to state, text will get escaped if not marked as safe by using html_safe
refer to rails command instead of rake in environment error
`ApplicationRecord` instead of  `ActiveRecord::Base` in Association Guides [ci skip]
Add em-hiredis and redis as default Gems for new applications
Small PostgreSQL adapter refactors / cleanup
ActionCable::StorageAdapter ==> ActionCable::SubscriptionAdapter
All Redis deps are now optional, Postgres --> PostgreSQL adapter
config_opts => cable, per @kaspth
Listener no longer needs to be a singleton
Tests passing and small refactoring
Blanket unsubscribe doesn't appear to be used
Don't execute callbacks on our main listener thread
Pull the action methods directly onto the adapter
Add Postgres adapter
Refactor storage_adapter
Adapterize ActionCable storage and extract behavior
Remove incomplete filter runs all tests in plugins.
Don't run all tests when files end in a colon.
CodeStatistic will now ignore hidden files:
Association Guide replaces Order as example with Author-Book Example [ci skip]
Define `:foreign_type` as a valid option in `SingularAssociation`
Updated the guides for having a distinct has_many through at the database level
Explain how HStore columns can be queried [ci skip]
Changed options for find_each and variants to have options start/finish instead of start_at/end_at based on comments at https://github.com/rails/rails/pull/12257#issuecomment-74688344
Pass through AP CHANGELOG [ci skip]
Improve Action Cable configuration explanations
Remove ActionView dependence on ActionPack's Mime implementation
Store the symbols as an array.
Enrich the SET constant to respond to symbols.
Don't bother looking up the types.
Replace class attribute with SET constant.
Remove register abstraction.
Replace delegate calls with standard method defs.
Spare to_sym call in `==`.
Make ref return the internal symbol.
Checked in changes to Gemfile.lock on latest master
Remove literal? check to fix issue with prefixed optionals
Avoid multiple default paths to server.pid file
remove unnecessary `ENV[]` from `log:clear` example  [ci skip]
allow symbol to end of string in `wrap_in_modules`
`last_insert_id_value` and `last_insert_id` are unused anymore
`sql_for_insert` returns values for passing to `exec_insert`
Clean up internal metadata definition
add application_mailer.rb to template of mountable engine
Revert "Revert "Set environment even when no migration runs""
Revert "Set environment even when no migration runs"
Properly include the `from` clause when merging relations
Ensure enum scopes work properly with STI and inheritance
[ci skip] fix typo in docs
update doc for << method of has_many association
Update deprecation_horizon to 5.1 from 5.0 [ci skip]
Space Oddity
`substitute_at` is no longer used
Add expression support on the schema default
Improve generated config initializer files
docs, formatting pass over changelogs. [ci skip]
fix regression when loading fixture files with symbol keys.
Improve error message for #or when it is structurally incompatible
do not run in parallel on travis
Revert "Change `WhereClause#merge` to same named columns on diff tables"
remove `present?` calls
monkey patch `recycle!` on to controllers once
Change `WhereClause#merge` to same named columns on diff tables
Add both HTTP Response Code and Type to assertion messages
Prevent attempt to serve a request with a null byte
AC::Parameters#at_json: restore Rails 4.2â€™s value
bring back `TEST` env for `rake test`.
add migration versioning example to the changelog. [ci skip]
Commit before freezing the headers
Add a note on ActionController guide about 404
Unneeded &block parameters
Skip the STI condition when evaluating a default scope
Active scopes apply to child classes, though not parents/siblings
Set environment even when no migration runs
Clean up duplicate migration logic
Allow manually setting environment value
delete only unnecessary reporter
remove warnings from rake test
Extract `MySQL::TypeMetadata` class to `connection_adapters/mysql/type_metadata.rb`
Extract `MySQL::Column` class to `connection_adapters/mysql/column.rb`
Pass the current locale to Inflector from the pluralize text helper.
Added multiple line filters support for test runner
Update postgresql version to 9.4 for travis. Now available - https://docs.travis-ci.com/user/using-postgresql/
Split out token `if` tests to trigger `before_create`.
Revert "Switch `has_secure_token` to `before_save`."
Switch `has_secure_token` to `before_save`.
Add conditional_token to users.
[ci skip] fix typo
Support :if and :unless in has_secure_token
remove legacy mysql from guides to match #22715
[ci skip] Clarify some Minitest origins.
Extract line filtering to Railties.
rake log:clear task updated refs[#22544]
match the environment variable name that actually checking and error message
Added missing CHANGELOG entry for https://github.com/rails/rails/pull/22976
[ci skip] `automatic_inverse_of` returns `false` not `nil` (document fix)
test `include?`- fix typo
Refactor tz aware types, add support for PG ranges
Get update_attributes working with SchemaMigration
Revert "Move async execution from celluloid to concurrent-ruby"
Use hash like syntax for InternalMetadata
Add EnvironmentMismatchError
Use `key` as primary key in schema.
[doc] The capture method isn't always used inside views to create a variable
`{update|delete}_sql` are almost the same as `{update|delete}`
[ci skip] Add comment to remove silenced code.
Prevent destructive action on production database
Match HashWithIndifferentAccess#default's behaviour with Hash#default
add greg
Ensure `config.active_record.time_zone_aware_types` is always set
Better error message when running `rake routes` with CONTROLLER arg:
Kept overridden root method and removed original method
Remove splat operator warning from ssl_test
Allow AC::Parameters as an argument to url_helpers
Suppress warning (instance variable @persisted not initialized)
Typo in Contributing.md documentation
Default new apps to tag logs with `request_id`
Remove `delete_sql` in sqlite3 adapter
Refactor `connection.insert_sql`
Test with Ruby 2.3 and allow failures with ruby-head
Remove unused instance variable
* Support for bitwise operations as infix operators.  Tests included.
[close #22917] Don't output to `STDOUT` twice
fix remove_index for postgresql when running legacy migrations
remove activemodel dependency on builder
make generated controller test work correctly
Provide a better error message if a user mistypes the name of script with runner
Add database specific string concatenation
Move CHANGELOG entry to Active Record
don't need explicit dep and a pretty neat pick
Use Module#thread_mattr_accessor
Remove celluloid references
Move async execution from celluloid to concurrent-ruby
Revert "Add Logger option to disable message broadcasts"
Prefer inspect over escaping and sorround by quote marks
Add Html template handler that wraps Raw output in an OutputBuffer
Implement CASE Conditional Expression
Take UTC offset into account when assigning string value to time attribute.
Add job suffix to sample's job file name
[ci skip] Update doc/resource link removed by #21211
Autoload ReferenceDefinition class in abstract adapter so that it can be used by #add_reference in schema_statements
:scissors: Unnecessary spacing in the generated code
Add short-hand methods for text and blob types in MySQL
Add `as` to encode a request as a specific mime type.
add option for per-form CSRF tokens
Update the maintenance policy for the next release.
activerecord: reuse immutable objects
activerecord: allocate fewer arrays in `RecordFetchWarning`
Group related methods together
Add ActionController:Renderers test
Updated Gemfile.lock with latest change related to sucker_punch dependency
move CHANGELOG entry to the appropriate position [ci skip]
Ensure sucker_punch < v2 is installed due to the change in public API
Remove duplicate entry for ActiveRecord::Relation#cache_key from Rails 5 release notes [ci skip]
Replace x.times.map{} with Array.new(x){}
Remove FIXME comments about the `Arel::Nodes::Quoted` [ci skip]
correctly presence check of `application_record.rb` in plugin
add test of that `application_record.rb` is generated in plugin
downcase default submit button value's model name
New changelog entries are added to the top.
Update copyright notice for 2016
quoted_id is not public API.
Remove unnecessary enable,disable_extension on tests
Create application_record under namespaced directory in plugin
Remove a wasted space
Update copyright year
value has the right type here
Refactor `case_{sensitive|insensitive}_comparison`
Test ActionController::Renderers::use_renderers
Update copyright notices to 2016 [ci skip]
Remove client-side Action Cable debugging code
Adds exception object to instrumenter's payload
Lets not put fullstop at the end of a migration pending command
Add CHANGELOG entry for #12877 [ci skip]
Improve example of #or to use different column values in the where clauses
[ci skip] Space out framework names in USAGE
[ci skip] Update rails/all.rb reference.
Add sass-rails back to the default Gemfile
Avoid `Time.parse` for static date
Make `postgresql_version` public
Remove not used test fixture
[ci skip] Put all removals in its section
TestController#parameters returns AC::Parameters
Format from Accept headers have higher precedence than path extension format
Rely on default Mime format when MimeNegotiation#format_from_path_extension is not a valid type
Add AC::Parameters#include?
Escape cookie's key and value in ActionController::TestCase
Flexible configuration for ActionDispatch::SSL
Add test coverage for ActiveSupport::NumericWithFormat#to_formatted_s
Add a missing require to ActiveSupport::NumericWithFormat
Allow add_to_transaction with null transaction
tests, don't connect to mysql when running sqlite3 tests.
Removed extra "the" in the documentation of `broadcast_message` [ci skip]
Add CHANGELOG entry for #22759
Remove outdated comment
Improve `select_one` in `Mysql2Adapter`
Rename README.markdown to README.md
fix link to pr [ci skip]
restore ability to pass extra options to cache stores
Add Ruby 2.3.0 to Travis matrix
[ActionCable] remove not needed protected call and newlines
Changed default value of `:rc` option to `nil`
Deprecate passing `offset` to `find_nth`
Improve RDoc documentation of ActionDispatch::SSL
:scissors: whitespace in generated config files [skip ci]
Improve documentation of config.force_ssl in guides
fix typo on comments
fix TypeError when using submit_tag with Symbol value
Move test coloring closer to where it's used.
Remove local variable color.
Rename color to color_output.
Remove unused blue color.
Color failure line by result code.
Rewrite aggregated results suppression.
[ci skip] Clarify why we're clearing reporters.
Improve readability of CacheHelper section
release notes, use past tense. [ci skip]
Add caveat to number_to_currency docs [ci skip]
Plugin Usage and Installation instructions
Require only the concurrent/map feature
Document `Logger#broadcast_messages` option
release notes, Rails 5 won't support the protected_attribtues gem.
Add `columns_for_distinct` for MySQL 5.7 with ONLY_FULL_GROUP_BY
Avoid `distinct` if a subquery has already materialized
release notes, extracted notable changes from Active Record CHANGELOG.
release notes, extract notable changes from Active Model CHANGELOG.
release notes, extract notable changes from Active Job CHANGELOG.
release notes, extract notable changes from Active Support CHANGELOG.
[ci skip] An internal link is an relative path
Convert non-`Numeric` values to Floats
Failing Tests for Validating String Numbericality
Currectly test the Middleware#==
Add support for Petabyte and Exabyte in number to human size
fixes typo in 5.0 release notes
seeds.rb.tt: fix English.
Add colored output to the new test reporter.
release notes, extract notable changes from Action Mailer CHANGELOG.
release notes, extract notable changes from Action View CHANGELOG.
release notes, use past tense. [ci skip]
release notes, extract notable changes from Action Pack CHANGELOG.
[ci skip] Steal `ActionCable.server` mounting from routes template.
release notes, extract notable changes from Railties CHANGELOG.
remove cors initializer from rails app
guides, restructure Rails 5.0 release notes. [ci skip]
Add support for passing flags to MySQL2 adapter by array
remove content_tag_for example
do not use `div_for` in example [ci skip]
corrects a typo
Add #== back to ActionDispatch::MiddlewareStack::Middleware
use `bin/test` in plugins guide [ci skip]
Add Rails 5.0 Release Notes
Use the generators options to not generate channel assets
Ensure Action Cable files are removed when `skip_action_cable` is set.
[ci skip] No more no changes entries in the CHANGELOGs (cases left in #22718)
Update "Support" in ActionCable README [ci skip]
Remember the parameter hash we return
Clarify config settings for AS::halt_callback_chains_on_return_false
Ensure that assets are enabled back after the test that tests assets are disabled
Use an appropriate rebuild task on Travis
Use CGI.escapeHTML for html escape
[ci skip] `rails new project` generates README.md now
No more no changes entries in the CHANGELOGs
One long dash in headline.
Use default cable path in (in-app) server config example.
Replaced "Cable" by "ActionCable" in CoffeeScript examples.
Update README extension in Getting Started guide
Remove legacy mysql adapter
display detailed information in inline reporting
Add missing @claudiob credit to change log [skip ci]
Upgrade Guide: Add missing period, :scissors: whitespace [skip ci]
mysql2 adapter instead of mysql [ci skip]
Suppress warning ambiguous first argument
Add clarification about `first` and `last` behavior when using `order` [ci skip]
Add a commend about deprecation of ActiveSupport::OrderedHash
docs, follow up to #22699. [ci skip]
Update README.md
Remove unused `test/schema/mysql_specific_schema.rb`
Deprecation warning now targets at 5.1
Remove .DS_Store
Action Cable channel generator should not create JS assets in --api mode
Remove blank line generated in config.ru
Add No Doc
Explain what initializer/config_serializer does
initializers/cookies_serializer is not new to 5.0
fix typo in config value [ci skip]
[ActionCable] declare asset_logged private
Add CHANGELOG headers for Rails 5.0.0.beta1
debug_missing_translation configuration added to action_view
Change `alpha` to `beta1` to prep for release of Rails 5
Add task to test the release preparation
[ActionCable] Test invalid action on channel
Delete duplicate test
Don't need to use `Array.wrap`
[ActionCable] test perform action with default action
Do not check the version anymore
[ActionCable] Test available actions on Channel
Same gemspec formats everywhere
Stray line
Simplify
Now available in action_cable
Refer to rails command instead of rake in a bunch of places
Explain reason for eager loading
Explain Redis' role in Action Cable
[ci skip] Revert most of ff851017
Bring comment in line with rest of initializers
Explain the concept of config initializers for backwards compatibility
These options are not changed nearly often enough to warrant inclusion like this at a high level
add line break between method of generated channel js
Better explanation
Use the rails command, not rake, for all rails commands
README.md in the app is now used to describe the app itself, not Rails
More sensible ordering with the more important options first
List the major frameworks you can remove together
Revert "Use Thread.current.thread_variable_set/get insetad of the direct accessors"
Handle specified schemas when removing a Postgres index
fix indentation of generated controller test
Allow normal version updates within a release series
Ignore Byebug command history file
Use released rack
Install jquery-rails
These limits are now implicit
Implement limit & offset for ourselves
Document when fallback_location is used [ci-skip]
Use released GlobalID now that it provides URI::GID::MissingModelIdError for Active Job
Require Nokogiri >= 1.6.7.1
Only dup Ruby's Hash and Array.
Should also stub the received callback
Don't log Action Cable to STDOUT in development
Use release sprockets-rails
Use released jquery-rails
Use released arel
Release 7.0.0
Inject the visitor rather than relying on other objects internals
Delegate to Connection Visitor in WhereSQL Visitor
ApplicationMailer should be generated by default just like every other Application* parent
[ci skip] Add `Thread.current` to match internals
Use released mail gem
traditional make sense with `<tt>ActiveSupport::TaggedLogging</tt>`
Expanding the documentation for collection=objects for has_many :through [ci-skip]
Call the new point behavior `:point`, not `:rails_5_1_point`
Remove legacy mysql adapter
Remove warnings from actioncable
Clarify thread_mattr_accessor subclass behavior documentation
Use released turbolinks in the test suite
Use FRAMEWORKS constant from `tasks/release` to avoid duplication
Copy-edit the Per Thread attribute accessor documentation
Update USAGE
Use Thread.current.thread_variable_set/get insetad of the direct accessors
Add actioncable to list of release frameworks [ci skip]
Generate API doc for actioncable
Use separate test class name
Update README.md
Use consistent references
Add thread_m/cattr_accessor/reader/writer suite of methods for declaring class and module variables that live per-thread
Kill extra newline at the start of generated manifest.js
Puma 2.15.3 actually works fine
README.rdoc -> README.md for newly generated plugins
Deal with leading CR when its not a mountable engine
Include example of allowed_request_origins
ApplicationRecord release notes entry
ApplicationRecord documentation pass
Don't mount the ActionCable server by default
Pass over the ApplicationRecord changelog entry
Support passing the schema name prefix to `conenction.indexes`
Add missing test cases for asset_path
`join_to_delete` is same as `join_to_update`
fix typo in method name [ci skip]
`join_to_delete` is same as `join_to_update`
Test against Ruby 2.2.4 on Travis.
Make sure File.exist? run in the root of the application
Do not define attributes_with_index as a Thor task
Remove dead code
No longer uses keep now that we have ApplicationRecord
Don't over-specify types in our tests
No need to check for puma
Correctly cache create_table_info
Add Logger option to disable message broadcasts
Quiet warnings
Add mysql back to the Gemfile
Avoid Action Cable stubs on --skip-action-cable
No longer needed now that we prefill with app/models/application_record.rb
Clarify
Generate all the ApplicationCable stubs by default, like all other Application* stubs
Saner increments
Use puma as the default development server, if available
Comment out the user handling so default setup connects directly
Eager loading is required for Action Cable and we should use the logging too
Only mount the ActionCable server if ApplicationCable has been defined
By default, mount Action Cable on the router
Add default redis config for Action Cable
Cargo cult fix to make Celluloid behave
Only include action cable meta tags if it is not skipped
Use sprockets 3 in the Rails 5 release
Needless whitespace
Include the action cable URL meta tag by default
Require tree
Simpler directory structure
Avoid conditionals in the Gemfile
Note that changes to the cable setup requires restarting the server
@App could have been set elsewhere
Another stab at only mounting redis if the config is there
Assume that the cable server is running in-process by default, offer option to change that in config/environments/production.rb
Don't leak Object constants in core_ext/module/qualified_const
Use Module.prepend instead of alias_method for Range#to_s
Require a version of bcrypt that works on Windows when needed
Deprecate `redirect_to :back`
Add `redirect_back` for safer referrer redirects
Add additional platforms for Windows
Ensure we install the database backend gems on Windows
Mention the correct way to halt callback chains
Doh, should have read ff370ee61754b00f864f3ddd0af62be4dfa0de67
Only initialize redis if the config file is there
Another bad reference to engine instead of railtie
Include changes made to the engine
Move Cable to ActionCable for client-side constant to avoid conflicts
We are using railtie, not engine
Deprecate passing string to define callback.
Introduce ApplicationRecord, an Active Record layer supertype
delete code commented out (and replaced) in e93d0a5
deletes commented code introduced in f238d495
deletes commented code introduced in db045db (initial commit)
deletes commented code introduced in 4673c47d
deletes code commented out in 72160d9f
Support removing custom-names indexes when only specifying column names
Basic channel generator
Run railties generated app tests in test env
Update test generators to use ActionDispatch::IntegrationTest
Do not default to any Serializer
Move the require to the right place
Remove the default logger
Configure the Action Cable's redis in the engine
Accept a Pathname in Application#config_for
Remove warning of shadowing variable
Ignore index name in `index_exists?` when not passed a name to check for
Add Action Cable to README.md of Rails
Remove rails/actioncable Travis badge
Action Cable need to be a engine
Pass SQL group by values when including scoped association
Bring latest changes over from actioncable/master
Prevent ActionController::Parameters from being passed to url_for directly
Switch from engine to railtie
Allow users to pass flags from database.yml
remove extra spaces from deprecation message
Use a bind param for `LIMIT` and `OFFSET`
Deprecate limit strings with commas
Add specific bug reporting guidelines to contributing.md. [ci skip]
Use a real migration version number in docs
Schema uses current migration API
In 4.2 migrations, `timestamps` defaulted to `null: true`
Find the delegate, even in a deeper inheritance tree
Internal test migrations use the private 'Current' version
Ensure generated migrations include a version number
Use a deliberately-invalid migration version in all doc examples
Add migration versioning via Migration subclasses
Ensure uuid-ossp extension is present before we rely on it
Add fragment_cache_key macro for controller-wide fragment cache key prefixes
Add option to skip Action Cable
Add ruby-head back in the allow failures group
Remove ActionView::Helpers::CacheHelper#fragment_cache_key
Do now allow failures with Ruby 2.3 anymore
Test with Ruby 2.3.0
Do not run action cable tests in isolation
Hook in ActionView::Base, not in ApplicationController
Require the top level file in the engine
Revert "Perform a more efficient query in `Relation#any?`"
Update seeds.rb.tt
Perform a more efficient query in `Relation#any?`
Add Action Cable tests to travis matrix
Update Gemfile.lock
Add action_cable to rails/all and application.rb
Remove action cable gems that are already in the gemspec
Remove Alpha disclaimer from ActionCable
`ActiveRecord::Base#becomes` should copy the errors
Use a bind param for `LIMIT` and `OFFSET`
Initial stab at adding Action Cable to rails/master
Make Parameters#to_h and #to_unsafe_h return HWIA
Deprecate limit strings with commas
Get ready to merge into Rails
Change output timming of sample code
Implement Rake proxy for Rails' command line interface.
Nodoc Rails command.
Prevent a 500 in the default controller scaffold
lazy load listen in core
let config.file_watcher be the way to enable the evented file watcher
Update web-console to 3.0.0
Remove unused method allowed_origins in Connection::Base
remove extra spaces in fixtures doc part
travel back
Controller generators should be creating IntegrationTest stubs instead of ControllerTest
Allow regexp for a allowed_request_origins array
Remove ActionController::TestCase from documentation
Don't catch all NameError to reraise as ActionController::RoutingError #22368
Add specific bug reporting guidelines to contributing.md. [ci skip]
Easy websocket url configuration Thanks to feedback from @ascrazy, @jeremy, and @javan
Associate comments with `perform`
Show redirect response code in assert_response messages
add devise example to readme
fix links to code of conduct [ci skip]
Correct the time comparison for remember_me token
Update nokogiri to 1.6.7
show relative path the rerun snippet of test runner in rails engine
Avoid calling AD::MimeNegotiation#format_from_path_extension method twice
Remove duplicated assertion from api_app_generator tests
We don't need to set config.debug_exception_response_format given that :api is the default value for only API apps
Make debug_exception_response_format config depends on api_only when is not set
Add tests for api_only configuration setting
Avoid warning because of the mime type
Do not add format key to request_params
Adjust comment in development.rb template file for app generator
Update Changelog with the added response_format option in AD::DebugExceptions
debug_exception_response_format needs to be writeable in Configuration
Mention the debug_exception_response_format config in guides
DebugException initialize with a response_format value
Add debug_exception_response_format config to configure DebugException behavior
Better name for method in DebugExceptions middleware
Improve regexp in AC::Http::Parameters
Minor cleanup in AD::DebugExceptions
Remove unneeded args in AD::DebugExceptions
New hash syntax in AD::DebugExceptions
Do not include web-console in Rails API apps
Response when error should be formatted properly in Rails API if local request
renames AS::FileEventedUpdateChecker to AS::EventedFileUpdateChecker
Use URL path extension as format in bad params exception handling
ActionMailer: support overriding template name in multipart
Adding Enums section to Active Record Querying Guide. [ci skip]
Update README find_verified_user example
Clarify the need to run command twice.
Change the `protect_from_forgery` prepend default to `false`
Typo correction
Make sure we touch all the parents when touch_later.
Only commit the cookie jar if it hasn't been committed
Stop violating law of demeter in response cookie_jar
Push `before_sending` to super class
Introduce after_{create,update,delete}_commit callbacks
[ci skip] Add a dollar sign to each command in the READMEs
Use assert over assert_predicate in assert_response
Ditch `Commands` namespace for base command.
Invert command and commands tasks reference.
Remove "run with rake" suggestion.
Add class level `run` to Rails command.
remove `request_forgery_protection` initializer from rails api
test match predicate case sensitivity attribute
introduce predicate {does_not_}matches_regexp
use valid regular expression in regexp test
Add case sensitive regexp
Add case sensitive match
Replace `-> {}` with a proc.
Remove `_instance` suffix from command.
Default `argv` to an empty array.
Spruce up `command_for`.
`exists?` isn't for users.
Move `command_name_for` to private section.
Shrink a couple of deprecation warnings to one-liners
Remove unused deprecation notice
Clean up and correct documentation for update_columns and update_all [ci skip]
remove warning from postgresql geometric test
Add missing require to strong_parameters.rb
Add Rails command infrastructure and encapsulate development caching
Test against the real value of tld_length unless explicitly set
Add redirection path in the error message of assert_response if response is :redirect
Disable FileEventedUpdateChecker for now
Mac OS X use /private as directory to temp file
Remove test_files check from plugin checks
Remove warnings
Make ActionMailer::Base.respond_to_missing? private
fix typo
Added support for bigdecimals in perform later
Replace ActionMailer::Base#respond_to? with respond_to_missing?
fix doc for rails custom configuration through config_for [skip ci]
add test for nested model translation
Remove old comment about AC::Parameters>subclasses
Revert "don't start a new process for every test file"
don't rely on the columns hash to get defaults. follow-up to #17169.
add `ActiveRecord::Base.has_attribute?`
tests, pluralize singular table name.
STI cast new instances to `default type` on initialize. fixes #17121
Ensure `Relation` responds to `shuffle`
Update autoloading_and_reloading_constants.md
Explain the connection pool error message better
Consolidate tests for time and datetime columns options, limit and precision
Avoid dummy_time_value to add "2000-01-01" twice
Support supports_datetime_with_precision? for sqlite3
Use adapter supports_datetime_with_precision to support 3rd party adapter tests
allow use of minitest-rails gem with test runner
Modify unscoped usage guide to include chaining
Refactor `AbstractAdapter#initialize`
rescue memcached errors in a consistent way
even if a write fails, store the raw value
`connection_options` is only needed for `MysqlAdapter`
Added dollarsign to the README.md for consistancy
[ci skip] Add author's name to CHANGELOG
Brush up errors of `ActionDispatch::Routing::Mapper#mount`
Subscribing to notifications while inside the said instrumented section.
add `bin/test` script to rails plugin
Document message validation option accepts Proc
Partially revert 14b20ce
let the generated app Gemfile depend on listen 3.0.5
Revert "Add prepared statements support for `Mysql2Adapter`"
Upgrade to listen 3.0.5, re-enable tests
Only run listen tests in isolation, for now
Add prepared statements support for `Mysql2Adapter`
Add option to verify Origin header in CSRF checks
Docs: ActiveRecord::QueryMethods#joins
Remove <br> from scaffold, in favor of using CSS
Remove unused code
Move all nodoc methods to the private section
Put all private method together
Avoid mutating the headers hash
nodoc in the private method
Remove valgrind note about linux only support
`set_field_encoding` is only needed for `MysqlAdapter`
Add schema dumping support for PostgreSQL geometric data types
Move `migration/postgresql_geometric_types_test.rb` in `adapters/postgresql/geometric_test.rb`
Remove blanket array delegation from `Relation`
Test if each_object(singleton_class) works, since JRuby added it.
Bugfix collection association #create method â€¦
[ci skip] Add `Translating Rails Guides` to contributing_to_ruby_on_rails
Simplify `RailsGuides::Generator#select_only` a bit
Bring back `===` stubbing in `time_zone_select` test.
Ditch `each_with_index` for `each`.
Don't cache fake time zones.
Clearer comment and variable name on IP spoofing
Add `Routing` namespace to point appropriate constant
removes the mutex around `changed`
Remove a blank line from a template for plugin `routes.rb`
reset the @updated flag before the callback invocation
make the @updated flag atomic in the evented monitor
Remove some bind related test cases from finder_test.rb to sanitize_test.rb
Add example for AR::Persistence#toggle
Example of setting data attributes for image_tag
Remove arity check for `RouteSet#draw`
Add README.md instructions on configuring ActionCable.server.config.allowed_request_origins
Add missing example for cookies.encrypted [ci skip]
add deprecations for a smooth transition after #22215
Revert "Allow specifying the default table options for mysql adapters"
Allow specifying the default table options for mysql adapters
Change Enumerable#sum to use inject(:sym) specification
Change configuration-guide example
guides, scaffold no longer used in getting started guide. Closes #22337.
[ci skip] Indentation in cache examples
Add missing require
Update dirty.rb: documentation fix.
Rename 'key' to 'lock_id' or 'lock_name' for advisory locking
Handle cases where logger is not a tagged logger.
Use to_gid_param for connection identifiers
Use latest byebug
Add missing punctuation mark [ci skip]
[ci skip] fix inconsistent indentation
[ci skip] Add CHANGELOG for #22300 (817c1825c15013fd0180762ac5c05a2e024a640d)
Raise ArgumentError when passing a truthy value to merge
Using released concurrent-ruby
Use proper syntax for class method reference.
Except keys of `build_record`'s argument from `create_scope` in initialize_attributes
Make the `static_index` config part of the `config.public_server` config
Freeze association foreign keys to reduce allocations
Tune whitespace in README.md
Remove not needed `NATIVE_DATABASE_TYPES` entries
copy edits [ci skip]
[ci skip] Use full component name in public API document
adding missing `.`
rollback changes to changelog
do not show Active Job test generator
Move the desc one level up
Grammer & Style Tweaks as per feedback
TWB Test case for Issue #9015 - ignore_table and table_prefix at same time
[ci skip] add `controller:` argument to routing.md
Improved explanation
Respect value of `:object` if `:object` is false when rendering
Allow to store .keep file in cache directory
Prefer Minitest's location for test failures.
Don't match specific line numbers in reporter tests.
Ignore Gemfile.lock in the release task
don't package test files in plugin gemspec
Make `AR::SpawnMethods#merge!` to check an arg is a Proc
base (refined) Pathname#ascendant_of? also on Pathname#ascend
Use the file watcher defined by the app config
let filter_out_descendants do less passes
Show middleware classes on /rails/info/properties
remove unnecessary @compiled_root from static.rb
revises the implementation of Pathname#ascendant_of? (in refinement)
normalizes spacing in a CHANGELOG [ci skip]
update docs for MessageEncryptor#new to recommend a KDF [ci skip]
Add days_in_year method
Minor fix in Module#mattr_reader documentation
Clarify i18n active[model/record] key differences
fast and consistent return when local_cache does not exist
modernizes the test definitions in the file monitors suite
update docs for MessageEncryptor#new to recommend a KDF [ci skip]
applies code style guidelines
simplifies the implementation of #watching?
simplifies directories_to_watch
registers these changes in the CHANGELOGs
keep deprecated namespaced_key in case any subclass uses it
send normalized keys to the cache backends so they do not need to manage this themselves
adds a comment about how does filter_out_descendants preserve order
rewrites bare loop as until
simplifies the implementation of existing parent
indents private methods as per our guidelines
encapsulates the logic to choose the file monitor in app config
renames the module with shared tests for file monitors
simplifies PathHelper with a Pathname refinement
Add days_in_year method
the evented monitor filters out descendants
better tmp file management in the monitors suite
adds another test case in the monitors suite
Minor fix in Module#mattr_reader documentation
editorial pass over test method names
improves waiting in the file monitors suite
adds more tests for the file monitors
Deprecate `#table_exists?`, `#tables` and passing arguments to `#talbes`
Document time testing helpers
:nailcare: Grammer fixes
Add test cases for `#sanitize_sql_array` with named_bind_variables
s/watcher/checker/g
more ad-hoc sleeps
create the tmpdir under test
encapsulate sleep margin when touching files
renames the monitor creation helper
refactors the file monitors test suite
let listen stop all listeners on teardown
s/@modified/@updated/g
stop ascending at the longest common subpath
remove unused constants in the file monitor suites
upgrade listen to 3.0.4
document the evented file system monitor opt-in in the config guide [ci skip]
remove explicit File.expand_path call
no need to have access to the listener
move the listen gem in the Gemfile to the development group
revises the implementation of the evented file monitor
initial edit pass over the evented file checker patch
implements an evented file update checker [Puneet Agarwal]
fix method name typo [ci skip]
Clarify i18n active[model/record] key differences
Allow `host` option in javscript and css helpers
Improve support for non Active Record objects on `validates_associated`
fix application_controller require_dependency path generated by api scaffold generator
Update belongs_to.rb
fast and consistent return when local_cache does not exist
docs, get rid of artifact in `RecordFetchWarning` docs.
Not passing `native_database_types` to `TableDefinition`
docs, nodoc `EnumType`. [ci skip]
docs, `ActiveRecord::JoinDependency` is not part of the public API.
docs, `ActiveRecord::TypeCaster` is not part of the public API.
dry up increment/decrement
do not override fetch on local cache
Ensure `#reset_column_information` clears child classes as well
remove deprecated `:tokenizer` option from guide [ci skip]
Parameterize with options to preserve case of string
Add comma to to make the information clear
Suppress warning (warning about assigned but unused variable)
Avoids mutating the original response in connection management middleware
use prepend instead of extending every instance
Clarify automatic creation/deletion of join models for has_many through
Share internal identifiers and message types with the JavaScript client
Missed updating a method name
call local_cache 1 time instead of 3 times
cache nil replies from backend cache so misses are fast too
Add multiple identifiers test
Make tests a bit more beautiful
Correctly deallocate prepared statements if we fail inside a transaction
[ci skip] ( Í¡Â° ÍœÊ– Í¡Â°) ( Í¡âŠ™ ÍœÊ– Í¡âŠ™) ( Í¡â—‰ ÍœÊ– Í¡â—‰) javascript => JavaScript
[ci skip] Remove final mentions of `static_cache_control` in docs.
Rename Subscription#reject! to Subscription#reject as there's only one version of the method
No need `MysqlDouble` and `MysqlDouble.reset_column_information`
`test_binary_data_is_not_logged` is for prepared statements logging
Require the count_down_latch
Remove links to docrails
Add bundle check to release task
Require only necessary concurrent-ruby classes.
Add some documentation explaining subscription rejection
tests, test should not care wether 9ms or 11ms have passed.
Replace `serve_static_files` mentions in docs.
Replace `serve_static_files` in tests with `public_file_server.enabled`.
tests, define `Rails.root` before loading Action Mailer.
Move `static_cache_contorl` deprecation changelog entry to Railties.
document `try!` in ActiveSupport core ext guide
Make sure cable closes the connection if open when responding to an invalid request
formatting pass over Active Record changelog. [ci skip]
Update docs/comments to use setup/teardown blocks vs. methods.
Remove incorrect comments
don't start a new process for every test file
Donâ€™t allow arbitrary data in back urls
Update docs/comments to use setup/teardown blocks vs. methods.
Add text template for source code
Add enabled flag to the public file server.
Add tests to make sure mail_to work with nil and SafeBuffer
Update and fix forbidden attributes tests Add AC::Parameters tests for WhereChain#not
Deprecate exception#original_exception in favor of exception#cause
Add test_float_limits to mysql2
added missing instructions for `rack-cors`
remove present? call; we do not need it
Make `db:migrate:status` to render `1_some.rb` format migrate files.
Define `sanitize_sql_for_order` for AR and use it inside `preprocess_order_args`
Allow bigint with default nil for avoiding auto increment primary key
Remove `DEFAULT_CHARSET` and `DEFAULT_COLLATION` in `MySQLDatabaseTasks`
Add CHANGELOG entry for #22125 [ci skip]
remove unnecessary `.sass-cache` from plugin's gitignore template
Update association_basics.md
Update changelog for #22122
Improved explanation
Issue #22139 : Edge Guides - ActiveRecord Migrations - Remove required option for column
[ci skip] querying guide methods first and last: mentioning the influence of the default scope
minor formatting changes [ci skip]
Route generator should be idempotent - closes #22082
Move some AR test cases to inheritance_test.rb
split `process` from mailer instantiation
Add tasks to automatize CHANGELOG headers
:scissors:
rails/application: allow passing an env to config_for
don't sleep in tests
Use advisory locks to prevent concurrent migrations
Alias left_joins to left_outer_joins
Rename ActionMailer::Base#class_from_value -> observer_class_for
Don't mutate headers in ActionMailer::Base#collect_responses_from_templates
Pass message as argument to ActionMailer::Base#assign_headers_to_message
Add version constraint to database gem in generated application
In url_for, never append ? when the query string is empty anyway. It used to behave like this:
Revert "ActionController::Base#process() now only takes an action name"
Ensure `has_and_belongs_to_many` works with `belongs_to_required_by_default`
ActionController::Base#process() now only takes an action name
switch to JSON.dump to avoid infinite recursion
Add a changelog entry for #13008
use `dispatch` instead of `process` to run requests though
Remove unnecessary method
Don't disable errors when turning standard_conforming_strings on
Refactor out headers to message assignment from ActionMailer::Base#mail
Use attr_internal in ActionMailer::Base#mail instead of local var for message
Refactor out defaults handling from ActionMailer::Base#mail
Never pass `nil` to `order`
Refactor ActionMailer::Base#collect_responses
Reduce code duplication in ActionMailer::Base#register_observer and #register_interceptor
Add documentation for TimeWithZone #ago and #advance.
Add CHANGELOG entry for #22101 [ci skip]
making selected value to accept Hash like the default option. E.g. selected: {day: params[:day].to_i, month: params[:month].to_id}
Deprecate `HWIDA.new_from_hash_copying_default`
Properly indent '<head>' and '<body>' within '<html>'
Set `scope.reordering_value` to `true` if :reordering values are specified
tests, no every adapter supports "connection.version"
Use #distinct instead of #uniq in the guides [ci skip]
Check standard_conforming_strings is not readonly
Added warning on coding engine controllers
Ignore scope in missing translation input.
Avoid disabling postgres errors
[ci skip] Add `:binds` to a list of paramaters of `sql.active_record`
specify deprecated waring, follow the standard conventions
Write the cookie jar it was not committed in TestCase
Remove dead code
fix typo in `db:purge` description [ci skip]
[ci skip] Aline code examples in AR changelog
raise `ArgumentError` when `SECRET_KEY_BASE` is an integer
Remove skipped JRuby tests that are passing on 9.0.3.0.
Make inherited scope test fail
[ci skip] Add doc for preloader_for
[ci skip] Clarify doc for preloaders_for_one
[ci skip] Add doc to preloaders_on
Edits default `config/boot.rb` to match what's generated by Rails 4.2.
Remove newlines from start of logs
Remove required `sdoc` from Rakefile
Make `Module#redefine_method` to keep method visibility
fix rdoc markup [ci skip]
Tweaked wording used in some tests.
Do not omit parentheses [ci skip]
Test basic auth with symbols in login and password
Remove unnecessary space in README [ci skip]
Remove skip on tests that have been fixed.
Stop aligning the arguments
Use thor class_option to make the primary_key_type option work
Move default uuid generation to active_record
Don't ask an yanked celluloid version
Use our standard name for the Gemfile
Catch invalid UTF-8 querystring values and respond with BadRequest
FIX: Randomly failing test when running without GIL.
remove unnecessary readme in dummy application
Remove JRUBY_OPTS from .travis.yml file
Remove no need `binds.empty?` checking
[ci skip] Add more code examples for `Module#anonymous?` docs
API guidelines reword re the Oxford comma [ci skip]
Revert "[ci skip] removed extra comma"
[ci skip] removed extra comma
`config.generators` should be docummented since it is public API
Better method names in Javascript based on the feedback from @javan
Refactored association preloader for performance
Use sufficient a regexp anchor to check `@response.content_type.to_s`
Suppress warnings (warnings about AD::IntegrationTest HTTP request)
Refactor Calculations#execute_grouped_calculation and clean AR test case
Remove `#tables` extra args again
Allow rejecting subscriptions from the channel
remove unnecessary forwardable require
Extract native getter to attr_reader.
Add Module#remove_possible_singleton_method
move documentation of column options to `add_column`. Closes #20400.
typo
Update changelog with db rake task exit status fix
Exit with non-zero status when db:drop fails
Exit with non-zero status when db:create fails
Add tests to verify exit status for create/drop failures
Really fix test failures caused by #19851
Revert " Added an example to show how common secrets can be shared across multiple environments in secrets.yml"
Collection check boxes propagates input's id to the label's for attribute.
Update #20737 to address feedback
Update #20768 to address feedback
[Rails Guides] Clarify `belongs_to_required_by_default` option
Update the changelog for #20872 to be a bit less confusing
Set active_record config for always creating uuids in generators
Qualify column names in calculation
Don't add classes to the top level namespace
Do not cache prepared statements that are unlikely to have cache hits
Upgrade all the gems
Add CHANGELOG entry for fix of #21955 [ci skip]
Changed the order of Association constraints from where->order->unscope to unscope->where->order
[ci skip] Replace "destroy` method" with `destroy` action`
Delete needless `require 'active_support/deprecation'`
added Rails 4 context for migrations:install task
Better test name
Make sure the subscription confirmaion is only sent out once
Allow rake:stats to account for rake tasks
Show helpful messages on invalid param. encodings
Reorder application of has_many association constraints.
Freeze the SUBSCRIPTION_CONFIRMATION_INTERNAL_MESSAGE value
Updated existing custom configuration for rails 5 where `config.x` namespace is not needed anymore.
Remove outdated statement about bundled TZInfo.
[ci skip] Improve readability in active model basics guide
remove useless method
Green version of moving the handling of supported arguments to `where`
Revert "Move the handling of supported arguments to `where`"
Improvement in ActiveRecord::Persistence doc [ci skip]
Suppress warnings of `assigned but unused variable`
Use "rake time:zones:all" instead of "rake -D time" [ci skip]
Send subscription confirmation from server to the client to avoid race conditions.
[ci skip] Add backend queue starting documentation
Cover stray deps for the logging convenience require
Move the handling of supported arguments to `where`
Devolve blanket #require to reveal intent and responsibility
`where` raises ArgumentError on unsupported types.
Speed up tests be calling EM.run_deferred_callbacks instead of setting a timer
fixes #21815
Test against Rails edge by default. CI against 4.2 also.
[ci skip] readonly options has been removed
Shush some low-hanging Ruby warnings
gemspec: prefer requiring from head of the load path
README was moved to README.md at a9c3fd5
Websockets -> WebSocket spelling [ci skip]
Run connection tests in EM loop
drop array allocations when iterating over the hash
Update active_record_migrations.md
make string allocation constant regardless of column count
All strings returned by `ImmutableString` should be frozen
Add an immutable string type to opt out of string duping
Expand support for ActiveSupport::TimeWithZone#utc?
Clarifies db can be set up from structure.sql also I added that *structure.sql* file can be used when *db:reset* is run.
Add deprecation warning to `ActiveRecord::Relation#update`
Add stored procedure test in mysql2
freeze the column name to drop string allocations in dirty checks
Subscribe and unsubscribe from the internal redis channels in the primary EM thread
Don't add the current connection to the connections array until after all the callbacks are run
Tweak reconnect timing
Remove immediate reconnect to help avoid thundering herd after server restarts
Remove some excessive logging
Make `AbstractMysqlAdapter#version` public
Avoid returning results of loop
Add delay before reopening
Improve guard against opening multiple web sockets
add railtie and set default allowed_request_origins for development
migrations Class methods have nodoc, fix it for API [ci skip]
applies new doc guidelines to Active Record.
fix RDoc markup in `ConnectionPool`. [ci skip]
add missing `:nodoc:` to `AR::Callbacks::ClassMethods`. [ci skip]
add missing `:nodoc:` for `AutosaveAssociation::ClassMethods` [ci skip]
fix broken RDoc markup. Use `<tt>` instead of `+`. [ci skip]
fix RDoc list markup in `DatabaseTasks`. [ci skip]
add missing :nodoc: to `ActiveRecord::Scoping`. [ci skip]
Only prepend a single module when defining deprecation wrappers.
`private def` breaks RDoc. Move meathod to preserve the docs.
docs, :nodoc: `FromClause`, `QueryAttribute` and `WhereClauseFactory`.
docs, add missing `:nodoc: for `Associations::Builder`. [ci skip]
nodoc `ActiveRecord::ForeignAssociation`. [ci skip]
document `EagerLoadPolymorphicError`. [ci skip]
nodoc `ActiveRecord::Attribute::UserProvidedDefault`. [ci skip]
docs, recognize code examples as Ruby in `Relation::QueryMethods` [ci skip]
docs, nodoc internal Active Record `DelegateCache`. [ci skip]
docs, fix highlighting for code examples in calculations.rb [ci skip]
`:to_table` when adding a fk through `add_reference`.
splitting out a bit of ruby from some coffeescript that it was grouped with
Adding some examples to the README. Since ActionCable is an engine, it can be run in-app in the same way that websocket-rails can be (and I will admit to shamelessly stealing the implementation to websocket rails). Also adding examples of passing params to subscription and rebroadcasting received message.
Treat ORIGIN as an opaque identifier and do equality comparison with the specified whitelist
Set appropriate origin and host in the tests
Make sure active record queries are logged with the current connection tags
Move the methods for schema dumping into `{mysql,postgresql}/schema_dumper.rb`
edit pass over the project Gemfile [ci skip]
do not generate manifest.js in plugins
Remove wrong period mark in `ActiveSupport::LogSubscriber` docs [ci skip]
Move schema creation class into `mysql/schema_creation.rb`
Move schema definition classes into `mysql/schema_definitions.rb`
Add missing punctuation mark in `ActiveSupport` docs [ci skip]
Remove deprecated pg_dump -i flag
Improved `KeyError` messages on bang version, since commit https://github.com/rails/rails/commit/e768c519fb6015e00961702a5165c6dab548a954 bang version produces `KeyError` [ci skip]
Revert "Corrected ActiveSupport `time_with_zone` outputs [ci skip]"
Corrected ActiveSupport `time_with_zone` outputs [ci skip]
Allow multiple `root` routes in same scope level
update to ruby-oci8 - 2.2.0
used predicate methods to avoid is_a? checks
Be sure not to cache an empty string as the connection_identifier
Include request id in statistics to make it to search the logs
Better schedule pubsub subscribe
Be sure to initialize @heartbeat_timer. Third time is a charm!
Setup the heartbeat_timer in next tick to make sure EM reactor loop is running
Run a single eventmachine timer to send heartbeats
Avoid leaking the first relation we call #first on
Improved readability of Assertion docs, replaced â€˜Assertâ€™ -> â€˜Assertsâ€™ at all places [ci skip]
Follow DRY principle and remove duplication
Remove unused require
Minor cleanup for form helpers guide [ci skip]
remove unused require
Update CHANGELOG.md
Update CHANGELOG.md for readability
change `prepare_destination` to public API [ci skip]
Modify the scope method documentation
Improve readability in CSRF section of guide
code gardening in transliterate.rb
Output inline is set to true in the plugin.
Refactor create_test_file to take a pass option.
Hide Minitest's aggregated results if outputting inline.
Use Array() instead of Array.wrap
Revert "Update asset_pipeline.md"
Remove unused `pk_and_sequence_for` in AbstractMysqlAdapter
Added missing specs for not modifying queues when using AJ test helpers
Replace `an UNIQUE` with `a UNIQUE` as UNIQUE doesn't have a vowel sound [ci skip]
First take at cross site forgery protection
[ci skip] fix typo
use methods for accessing the cache control headers
etag header is in Rack, so use it's response methods
Update the URL when changing mailer preview formats
Use `Mime[:foo]` instead of `Mime::Type[:FOO]` for back compat
[ci skip] Change 'an URL' to 'a URL' as URL doesn't have a vowel sound
Implement equality comparison on `AttributeSet` and friends
use ActiveModel::Naming module instead of Model [ci skip]
monitor is require for SneakersAdapter
Remove unused block argument
render should return a string
Update asset_pipeline.md
move file sending to the response object
No need to declare ActiveRecord::Attributes::Type
Don't cache arguments in #find_by if they are an ActiveRecord::Relation
Remove TIP on parse_query
concatenate @lang if @lang is presence to avoid useless slash
Add ability to translate rails guides documents.yaml
Make #increment! and #decrement! methods concurency safe
Use Time#current instead of Time#now to prevent zone issue inorder to use application's time zone
action mailer test cases protected method can be `# :nodoc:`
Introduce `Headers#add`. Move `Response#add_header` upstream.
Missed Gemfile change in f849cfe36c585fbc58c4a5fd91b0ae1571d38bcb
YAGNI concurrent-ruby master branch now that 1.0.0.pre3 is released with fixes for warnings and circular require
Revert "removing Rack::Runtime from the default stack."
Wrong usage of 'a' in docs fixed [ci skip]
nodoc for active support protected method [CI skip]
Update text on CSS Injection / Myspace
use correct filename in example
Add Singleton in NullMutationTracker class
Support passing array to `assert_enqueued_jobs` in `:only` option
use class to specify the middleware [ci skip]
Change `Journey::Route#verb` to return string instead of regexp.
Suppress warnings of `assigned but unused variable`
removing Rack::Runtime from the default stack.
Do not document private methods in AJ::TestHelper
Build the `AttributeMutationTracker` lazily
Rename MIT-LICENSE to MIT-LICENSE.txt
ðŸ’£
Further encapsulate dirty checking on `Attribute`
Response#add_header for adding to multi-valued headers like Vary
Remove unused scopes
Don't set a nil Set-Cookie header when there aren't any cookies. Omit the header.
adding test for content type with default charset
Regex fix for mattr_accessor validation
Refactor AS::Callbacks halt config and fix the documentation
Add test cases for checkbox_tag
make sure exceptions are marshalable when returning test results
Add test case for text_field_tag
only construct one request in an engine
run against edge sass to eliminate circular require warnings
TimeWithZone#xmlschema should be able to display more than 6 digits
Bump concurrent-ruby to shush circular require warning
call `default_middleware_stack` before merging stacks
Engines get different middleware than apps
Eliminate overlapping `app/assets` load path
Make app building threadsafe
Stop modifying global variables
Improve readability of docs by using code tag [ci skip]
Add fail fast to test runner.
Remove TestRouter#add_routes
Return a sized Enumerator from Hash#{transform_values{!}|transform_keys{!}}
Update docs for `formatted_offset`
[ci skip] default_normalization_form accessing from Unicode
remove useless method
Revert "proper raise ArgumentError, divided large text new line"
adding basic change_column and remove_columns in CommandRecorder documentations [ci skip]
Separate `dup` from `deep_dup` in the attributes hash
Inline `Attribute#original_value`
proper raise ArgumentError, divided large text new line
no more class methods for JoinDependency [ci skip]
Add inline failure reporting to test runner.
Add missing punctuation mark to all ActionMailer docs [ci skip]
Renamed â€˜Returnâ€™ to â€˜Returnsâ€™ [ci skip]
Speed up `Hash#transform_values` when empty
Updated docs for transform_values [ci skip]
Add a missing period to ActionMailer Base docs [ci skip]
Make fuzzy sentence more clear
check if @rake_patterns is defined
Updated docs for transform_keys [ci skip]
Added test case for deprecation of Mime.const_defined? and removed use of it.
Add missing routing tests for info controller
minor doc fix [ci skip]
[ci skip] Add `Active Model` to a list of independently used modules.
Added test cases where collection partial cached for different key and rendered for different key
[ci skip] Update docs of `AR::Sanitization`
Correcting `ActiveRecord::DangerousAttributeError` error message [ci skip]
minor typo fix [ci skip]
`column_alias_for` method is no more supporting *keys [ci skip]
nodoc the mutation trackers
Correcting `ActiveRecord::ReadOnlyRecord` Error Message [ci skip]
inherit from our AbstractStore
pull the flash methods in to their own module
make sure flash middleware is required
commit the flash after the controller finishes being serviced
move flash committing to the request object.
Added missing tests for transform_keys! which returns Enumerator without block
Added missing tests for transform_values! which returns Enumerator without blocks
fix Mime type in doc since mime types via constants is deprecated [ci skip]
docs, add missing closing bracket. [ci skip]
`validates_acceptance_of` shouldn't require a database connection
[ci skip] Add `:` before code blocks.
Quote prepared statements of `sanitize_sql_array`
Regression test on CollectionCheckBoxes to accept  `include_hidden` as string
Add a hidden field on the collection_radio_buttons
Don't assert fractional seconds can be applied on unsupported adapters
Apply subsecond precision on assignment when using TZ aware attributes
Remove debug statements
build the Set-Cookie header functionally
move the Header hash to the super class
mutate headers before committing the response
Add a few debug statements to figure out the build failure
We still need to reset `@changed_attributes` in `changes_applied`
Improve the performance of `save` and friends
Encapsulate a lot of the logic from `Dirty` in an object
Clean up the implementation of AR::Dirty
Make `assert_difference` return the result of the yielded block.
Remove to_s example
Implement ActiveRecord::Base.ignored_columns
Improve readability of docs by using code tag [ci skip]
Add a missing period to layouts_and_rendering.md [ci skip]
call `get` instead of controller.process
remove controller construction
stop directly referencing the request and response objects
test framework allocates the controller for us
type of response should not matter
don't touch the response object until after we call `get`
stop directly setting headers on the controller
stop constructing a request object in this setter
test against controller responses
stop applying default headers in ActionDispatch::Response
Add note about Jbuilder
don't access the response object before a request was made
skipped assertion on datetime seconds precision as it is only valid for newer mysql versions
Change the paths for both Gemfile lines to be 'engines/blorgh'
split cookie tests
don't mutate a response object after to_a
Removed Mocha from app generators tests
Removed Mocha from Action View
Document Bearer prefix for Authorization header [ci skip]
Further remove reliance on subsecond precision in tests
Don't rely on subsecond precision being applied in tests
0 precision is not the same as no precision
Don't attempt to specify datetime precision unless supported
Updated Mime Negotiations docs [ci skip]
remove warning from Calculations#sum
Remove leading slash from path
Remove not used argument `table_name` of `sanitize_sql_for_conditions`
Add tests for sanitize named bind arity
stop using deprecated method in mailers controller
ask the request object for the session
don't deal with `nil` values
introduce `conn.data_source_exists?` and `conn.data_sources`.
Update i18n.md [ci skip]
Remove unneeded generator variable.
tests, use `if_exists: true` instead of `rescue nil`.
AMo typos
Removed mocha from Railites PluginGeneratorTest
Added assertion for error messages for nil and unknown delivery methods
Update routing.md
fix `bin/test -a sqlite3_mem`.
Correcting output of `file_field` with `multiple` attribute option [ci skip]
Correcting output of `number_to_percentage` example in `number_helper` [ci skip]
drop array allocations on Mime::Type#=~
remove another `blank?` call
remove html_types set
compare arrays not set objects.
introduce an `All` mime type
remove `blank?` calls on `==`
change inheritance to composition
update changelog for mime changes
swap upcase and to_sym
stop calling deprecated methods
deprecate accessing mime types via constants
cache the new type object on the stack
Eliminate `test_tables_quoting` following seems to be left in #21687
Skip the test added in 9cc324a on buggy versions of SQlite
Ensure aliased attributes passed to `select` are quoted if using `from`
Require dependencies from stdlib in the Decimal type
Added assertion for error messages for redirection to nil and params
We still need the `Helpers` constant in the `ActiveRecord` namespace
Remove no-op options being passed in AM type registrations
Move the appropriate type tests to the Active Model suite
Simplify the implementation of Active Model's type registry
Various stylistic nitpicks
`TypeMap` and `HashLookupTypeMap` shouldn't be in Active Model
Move ActiveRecord::Type to ActiveModel The first step of bringing typecasting to ActiveModel
Update to latest turbolinks
Use Sidekiq.options to set initial wait
Run `rake db:migrate` for all Active Job integration tests
Silence logging in Active Job unit tests
Use master version of Turbolinks gem
Short-circuit `blank?` on date and time values
Applying right result of examples in ActiveSupport Multibyte [ci skip]
Update routing.rb
Add title for key lengths for multiple keys.
:hocho: Typos
Typppo
:scissors: empty line at the top of files
fix `to_time` output in ActiveSupport guide. Since https://github.com/rails/rails/commit/48583f8bf74d1cefefea3cd6591bd546a9eaff6c , to_time returns times formatted as YYYY-MM-DD HH:MM:SS UTC [ci skip]
correcting word smpt -> smtp in ActionMailer guide [ci skip]
fix application_controller require_dependency path generated by the scaffold generator
Refactor `table_exists?` in AbstractMysqlAdapter
Support for foreign keys in create table
remove association reload option from guide [ci skip]
Added new lines to run title for easy log reading
Added beanstalkd to Travis so ActiveJob integration tests for beanstalkd can run
String#strip_heredocs doesn't need Object#try
Correctly dump composite primary key
Should test both mysql adapters
Documentation typo
s/seperator/separator/g
Remove `@connection` in `StatementPool`
Replaced `ThreadSafe::Map` with successor `Concurrent::Map`.
Added Examples in docs for internal behavior of Array#to_formatted_s [ci skip]
Added test for `send_file_headers` called with nil content type
Corrected numeric conversions output [ci skip]
change test method name to the appropriate name
Replace `#=>` with `# =>` [ci skip]
nodoc raw_write_attribute
mostly remove the ParamsParser middleware
remove outdated comment
all parameter parsing is done through the request object now.
let the request object handle parsing XML posts
Correcting `NameError` error message in `mattr_reader` method. Since this commit https://github.com/rails/rails/commit/7dfbd91b0780fbd6a1dd9bfbc176e10894871d2d, `NameError` includes attribute_name also in error message [ci skip]
remove setting request parameters for JSON requests
remove the request parameter from `parse_formatted_parameters`
do not instantiate a param parser middleware
let the guides home point to the new release series endpoints [ci skip]
Check response of structure_load for mysql_database_tasks and make structure_dump consistent
push the parameter parsers on to the class
stop eagerly parsing parameters
only wrap the strategy with exception handling
pull `normalize_encode_params` up
remove the `default` parameter from the parser method
move parameter parsing to the request object
Added test for `any` if called without specifying any format
Include interpolation values to translation_missing helper
DRY enum conflict detection
Corrected `to_time` output in ActiveSupport Date Conversion docs.Since https://github.com/rails/rails/commit/48583f8bf74d1cefefea3cd6591bd546a9eaff6c, to_time returns times formatted as YYYY-MM-DD HH:MM:SS UTC [ci skip]
Reduce the calling `create_table_info` query
Add `unsigned` types for numeric data types in MySQL
Add `unsigned` support for numeric data types in MySQL
s/JQuery/jQuery/
File encoding is defaulted to utf-8 in Ruby >= 2.1
D HH  =>  D H H
Correct ArgumentError message in ActiveSupport conversions docs [ci skip]
Change AbstractRequest to ActionDispatch::Request
Add job priorities to ActiveJob
[ci skip] Remove useless "@api public/private"
No need the `a`
[ci skip] Replace double spaces with single space
Improved ActiveRecord Connection Pool docs [ci skip]
s/Github/GitHub/
Don't hardcode table name
Removed mocha from Active Record Part 2
Clarify CSRF <script> purpose and protection. Note how to deal with your own <script> tags.
Update documentation to remove 'desirable' suggestion for what is not a clear cut approach
Eliminate the duplication code of `visit_TableDefinition`
Remove unnecessary display width
[ci skip] Remove `DEFAULT NULL` from examples
ActiveRecord Attributes API code fix
Use rack.session_options instead of directly change env
fewer direct env manipulations
allocate request objects with the env hash, set routes on the request
Add test cases for Cache#fetch instrumentation
Bundler tzinfo-data in windows, even first generated new app are Mac
only "normalize" once
Do not use conditionals at Gemfile
create a new renderer instance on calls to `for`
eagerly allocate the renderer object
initialize `@renderer` to avoid ivar warnings
add a lock when allocating the renderer
Improve Docs of ActiveSupport::TimeZone [ci skip]
Doc SchemaMigration class.
`rack_response` should use the status it's given
Improved explanation of the <script> tag CSRF behavior
Remove AS methods that are never invoked
Removed unused parameter `options` for `register_detail` method This method is only called with name & block.
fix typo intance -> instance in ActionView [ci skip]
Do not dump a view as a table in sqlite3, mysql and mysql2 adapters
Add `#views` and `#view_exists?` methods on connection adapters
Eliminate the duplicated `options_include_default?` method
Improving `in_time_zone` docs [ci skip]
dev and edge have some common, so factor it out.
Ruby 2.2.3 in windows need nokogiri 1.6.7.rc3 as it's the only version having correct pre-compiled so
`restrict_with_error` message will now respect ownerâ€™s human name in any locale [kuboon & Ronak Jangir]
Improve String#strip_heredoc
Allow fixtures YAML files to set the model class in the file itself
TEXT and BLOB limit is byte length, not character length.
Remove RHTML reference in Action Controller docs [ci skip]
Remove wrong doc line about AC::Parameters
add description of passing a block to `add_source` [ci skip]
Explicitly require AR/attribute where using it
Updated MySQL documentation link to MySQL latest version 5.7 everywhere [ci skip]
fix wrong method used in the TimeWithZone#inspect method docs [ci skip]
Include association's `unscope` when preloading
[ci skip] Update MySQL docs reference to latest
[ci skip] Improve readability in AR querying guide
remove dead code.
Update documentation to reflect Rack::Session::Abstract changes
Handle Content-Types that are not :json, :xml, or :url_encoded_form
When used by ActionMailer, ActionView should automatically use the correct MIME type just as it does when used by ActionDispatch #11157
remove dead code.
adjust method visibility according to it's usage.
Don't set the default argument
Invert the conditional
Remove dead code
Added nodoc for `arel` method which returns object of private api. [ci skip]
Rails documentation use american english.[ci skip]
ensure that mutating headers will impact the content_type method
mime_type will always return a string
remove `parse_content_type` parameter
avoid allocations when there is no content type set
handle implicit rendering correctly
remove mime type lookups when parsing the content type
refactor content type setting
make Content-Type header the canonical location for content-type info
pull content type parsing in to a method
ensure that content type defaults to text / html when setting charset
push content_type assigment in to metal
avoid useless string allocations
use accessors instead of manipulating the hash
Properly log nested parameters to Active Job
Push key_generator into SerializedCookieJars
Move the request method in to the AbstractCookieJar
Pull up parse to the legacy upgrading module
Call super to remove the decrypt_and_verify method
Call super to remove the verify method
Add parse method to share deserialization logic.
Add commit in the EncryptedCookieJar
Use commit in the SignedCookieJar
Add commit method to share option normalization
Add AbstractCookieJar class.
Use released mysql2
Define `SchemaStatements#tables` as interface
Add view tests for MySQL
Replace AR with ActiveRecord to make it more readable [ci skip]
:bomb:
Memoized reflections accessor
Reduce allocation in `resolve_column_aliases`.
Make `config.force_ssl` less dangerous to try and easier to disable
Support mysql2 0.4.0, first release with prepared statements support
.gitignore: Ignore .ruby-version in any subdir
modify to pass the correct argument to the test runner from rake
Validate multiple contexts on `valid?` and `invalid?` at once.
Use Hash[] instead of Hash#dup in resolve_column_aliases
Correct query for PostgreSQL 8.2
Typo fix [ci skip]
Use `ActiveRecord::Tasks::DatabaseTasks.migrations_paths` instead of `Migrator.migrations_paths`
Allow global migrations_path configuration with using value from database_tasks instead of Migrator
changelog, minor formatting changes.
PERF: Don't create a Relation when it is not needed.
Make ActiveRecordException descendants args optional
Cache check if `default_scope` has been overridden.
Reduce calls to stringify_keys.
[ci skip] Replace `AR` with `Active Record` in task desc
raise LoadError when a non-existent file or directory is specified to the test runner
Deprecate passing conditions to AR::Relation destroy_all and delete_all methods
Removed Extra â€˜theâ€™ [ci skip]
safe_constantize - Added Object scoped missing test cases
[Rails Guides] clarify `ActiveRecord::ConnectionTimeoutError`
Use ERB::Utils to percent encode `hfvalue` parts of mailto
Support dropping indexes concurrently in Postgres
Remove mocha from ActionPack tests
Add missing and remove unnecessary periods in testing.md [ci skip]
implement abstract store methods
stop using deprecated Abstract::ID class
stop inheriting from Rack::Request
#where fails if opts.responds_to?(:==) unexpectedly
use path escaping for email addresses
use `Rack::Utils.unescape_path` to unescape paths
`url_for` does not modify polymorphic options
fix module name typo in API app guide [ci skip]
Update Unicode Version to 8.0.0
HasManyAssociation: moved half of counter cache code to reflection
Revert mistakenly added Gemfile.lock
adding description of return value [ci skip]
[ci skip] Added localhost IPv6
Removed unused config file
EventMachine: shush epoll warnings by checking for support before enabling. Ditto for kqueue.
add a description of the return value that was missing [ci skip]
Remove unnecessary require in associations_test.rb
docs, make `blank?` behavior clear. Closes #21468. [ci skip]
[ci skip] Add description about which object
[ci skip] fix invalid package name for libmysqlclient-dev
.js.coffee -> .coffee
typo "description not clear corrected with proper description and action_controller_overview file Rails' ->  Rails" [ci skip]
Respect scale of the column in the Decimal type
Add windows version of nokogiri
Remove not used requires
Include MIT-LICENSE in railties gem
Require sprockets-rails >= 2
Add CONTRIBUTING.md [ci skip]
typo fix [ci skip]
Add "lib/arel/visitors/oracle12.rb" to its gemspec
No need to quote limit for Oracle12 visitor
Add missing test for #17351
Add master branch to github gems to be able to use local clones
Add case_sensitive option for confirmation validation Case :- 1. In case of email confirmation one needs case insensitive comparison         2. In case of password confirmation one needs case sensitive comparison
No need to get the exception variable
No need CHANGELOG entry for #21421 [ci skip]
Inline uneccessary frozen string constant
Increment style
Guard against opening multiple connections
Silence callback deprecation warning if testing AJ
[ci skip] Update what methods `Migration#change` can reverse
Handle nested fields_for by adding indexes to record_name
fix typo in method name [ci skip]
Make revert of `disable_extension` to work
add a method for getting the http auth salt
env to get_header conversion
Add detailed error message to `IrreversibleMigration`
fixes example for consistency [ci skip]
swaps words [ci skip]
revamps the docs of strong params require [ci skip]
[ci skip] Add comments for `IrreversibleMigration`
[ci skip] Capitalize comments
make `ENV` a required argument
Immediately reconnect after first disconnect
Only send "disconnected" notification once
Simplify WebSocket reconnects and guard against opening multiple connections
ArrayInquirer to correctly find symbols or strings
Set the content-type to `text/html` if the options[:html] is true
revises 877e42e
pg, `create_schema`, `drop_schema` and `rename_table` quote schema name.
Tiny documentation improvements [ci skip]
[ci skip] Better description for starting up with new Rails project
[Feature] params.require requires array of params
pg docs, `connection.tables` does not use the `name` argument.
Add detailed error message to `IrreversibleMigration`
PostgreSQL, add `:if_exists` to `#drop_schema`.
fix reference to undefined variable in email testing guide [ci skip]
- Extracted `DELIMITED_REGEX` to `delimited_regex` method and made use of  user passed `options[:delimited_regex]` if available. Changed `DELIMITED_REGEX` to `DEFAULT)DELIMITED_REGEX` to signify what it means. - Added tests for number to delimited and number to currency in both actionview and activesupport.
Add detailed error message to `IrreversibleMigration`
Disable warnings in railties tests
10X speed improvements for AS::Dependencies.loadable_constants_for_path
remove link to outdated article in plugins guide [ci skip]
Revert "this always sets :public to false, so just do that"
this always sets :public to false, so just do that
remove dependency on `@cache_control` ivar
remove `@etag` ivar
use the abstract API in modules
remove useless conditional
implement the API required by the abstract Rack request.
use the non-hash dependent Rack utils API
minor copy edit. [ci skip]
Code cleanup
remove redefined method
Remove useless conditional
remove require of files under support that do not use
remove useless code
only call self.content_type= when there is a response
Pull `plain` content type handling up to `render`
stop passing the options hash to `_process_format`
no more require minitest mock
remove RackDelegation module
remove useless method
include ActionView::Rendering in the minimal controller
`headers` should delegate to the response object
remove useless status set
remove useless conditional
remove ivars from the "protected" list
use the content_type method on the request object
ask the response for the status
remove useless conditional
remove useless conditional
Removed duplicate require â€˜models/computerâ€™
Removed duplicate requiring minitest/mock as it is already required in method_call_assertions
Updating TestSession to access with indifference
provide a request and response to all controllers
:snip: whitespace
rack SPEC doesn't allow `first` on the body
move response allocation to the class level
adding a direct dispatch method to controller classes
always dispatch to controllers the same way
always return a controller class from the `controller_class` method
Initial implementation of ActiveJob AsyncAdapter.
Remove more unused block arguments
Removed mocha from Active Record Part 1
Remove unused requires
Make `assert_index` private
A quick pass over the testing guide
Make `change_column_default` to work
remove unused require â€˜setâ€™
Get rid of mocha tests - part 2
Remove unused block arguments
Remove unused block arguments
use `caller_locations` instead of `caller`
remove more direct `env` mutations
remove another `@env` access
remove more direct access to `env`
fewer calls to `env`
override `controller_class` on the request
minor documentation improvement [ci skip]
stop using `@env` in the GET / POST methods
rm useless method
remove dead code :bomb:
pull up dispatcher allocation
directly ask the request for the controller class
use `make_set` helper method to generate route sets
remove useless ivar
remove setter for the dispatcher class
subclass and delegate rather than mutating existing objects
temp files are no more require
use a custom request class to determine the controller class
Pass the correct formats
Pass formats to lookup_context
Allow release when CHANGELOG is changed
remove useless case in #resolve_layout.
remove LookupContext#with_layout_format by passing formats for layouts explicitely.
Use ActiveSupport::Callbacks for Channel subscription callbacks.
Further fix failing tests caused by #21350
Get rid of mocha tests - part 1
support connection identifiers that don't implement to_global_id by defaulting to to_s
guides, move incomplete example to corresponding option. #21349
Only nullify persisted has_one target associations
Remove unused variables
add commas removed earlier [ci skip]
Removed Mocha from ActionView part 1
use methods on the request object instead of accessing env
use `Request#path_info` instead of direct ENV access
remove env access from debug_exceptions
remove more `env` access
remove more env access
remove more env access
convert more `@env` access to get / set header
remove usage of `@env`
Record last 20 Subscription notifications for inspection
Immediately reconnect when visibilityState changes to "visible"
Trim out unneeded controllers from AP test suite
Remove a link to the site that seems to be gone. [ci skip]
Add `assert_nothing_raised` to make clear test case perpose
Remove unused block arguments
Remove test helper method to inside test method
Another place to use a request object in NullSessionHash May be missed in 5fe141638f1243ac6ae187ae14aa398b4c1875a2 commit Also fixes the broken build
fix syntax error in strip_links example [ci skip]
Use `ActiveRecord::Migration#connection` instead of `@connection`
Remove not used a block argument (`&block`)
Added docs for CollectionProxy#take [ci skip]
use a request object in the session middleware
[ci skip] Add style guide about comma
move more `@env` access to method calls
move ORIGINAL_SCRIPT_NAME to the metaprogrammed methods
metaprogram the HTTP_X_REQUEST_ID method
use `body_stream` instead of getting the env value ourselves
convert `@env` use to get / set header
use get / set header to avoid depending on the `env` ivar
Refactor to remove controller class from route to request
[skip ci] Debugging Rails Guide fixes
Test against the newest stable ruby 2.2.3
set cached values in the env hash
stop directly accessing `@env` in mime_negotiation
use public API to fetch the parameter filter
use methods on the request object to implement `fetch`
dup the env hash on Header#env
use accessors on the request object for manipulating env
use `set_header` rather than []=
dup the request and mutate its headers object.
JSON is still an adapter specific type.
discard xml Serialization documentation that is no longer available [ci skip]
Move the CoC text to the Rails website
Remove unnecessary caching
pass a request object to the headers object
move header allocation to a helper method
Support MySQL 5.7.8 which enables show_compatibility_56=off
better docs for `disable_ddl_transaction!`. Closes #21044.
Add test for parsing application/vnd.api+json
Add bold to lists' titles [ci skip]
4.2 release notes about `render` status options
Rack changed their status codes to IETF RFC 7231
set route precedence at allocation time
argh!!!
smooth move aaron.... :bomb:
point at rack master
Small fixes [ci skip]
File renaming should be the last operation of an atomic write
fix path of annotations.rake [ci skip]
uniqueness validation raises error for persisted record without pk.
Removed mocha from ActionMailer
Cleaned up generators tests using internal assertion helper
Correct cache store superclass in comment
Migrate to Sprockets 4.
Remove dead code
Add code of conduct to README.md and to contributing guide [ci skip]
make the routes reader private
don't touch internals
drop array allocations when building paths
symbols will always be constructed with strings. :bomb:
drop string allocations for each resource
Adds a code of conduct
Allow mysql and mysql2 tests run by database user with password
Use the PORT environment variable for rails server
Added docs for TableDefinition #coloumns & #remove_column [ci skip]
Add a native JSON data type support in MySQL
Added docs for TimeWithZone [ci skip]
Correct error message in Standard American english and add a test case for the same.
Add Docs for ActiveRecord #check_pending [ci skip]
Remove unreached default value
use the strategy pattern to match request verbs
switch Route constructors and pass in the regexp
split the verb regex from the constraints hash
test the verb method on the route, specifically
routes are always constructed with a hash for the conditions
introduce an alternate constructor for Route objects
drop object allocation during routes setup
Use == 0 instead of .zero? in #try
avoid is_a? checks
pull RegexpOffsets in to a method
`required_defaults` is always passed in, remove conditional
use predicate methods to avoid is_a? checks
default pattern to use a joined string
Small fixes [ci skip]
fix Docs [ci skip]
typo fix [ci skip]
Update the Debugging Rails Guide
Replacing lambda with proc getting argument error because of it.
reorganize testing guide. [Zachary Scott & Yves Senn]
Cleanup ActionDispatch:ParamsParser
Updated tests for the generated version number change
Plugins are generated with the version 0.1.0
Add a changelog entry for #21124 [ci skip]
Tiny documentation fixes [ci skip]
move route allocation to a factory method on the mapping object
use the mapper to build the routing table
only process `via` once
Add documentation for ActionView::Helpers::DateHelper :use_hidden option [ci skip]
Refactor how assign_parameters sets generated_path & query_string_keys
Initialize symbols instead of mapping to_sym on the set of strings
use `average_scheduled_poll_interval` option instead of deprecated `poll_interval`
Convert Releasing Rails guide to Markdown
only keep one hash of named routes
rm add_route2
pass pass the mapping object down the add_route stack
pass the mapping object to build_route
Small fixes [ci skip]
remove `process_path`
explicitly return nil from `get_to_from_path`
extract method on determining :to from the path
deprecate passing a string for both the beginning path and :path option
rm path_params method
extract method on wildcard path parameter handling
pass the path ast down
pull up path parsing
use predicate methods instead of hard coding verb strings
remove hard coded regular expression
implement `requirements` in terms of routes
implement the `asts` method in terms of paths / patterns
extract ast finding to a method
stop adding path_info to the conditions hash
pull up path normalization.
[ci skip] Add missing `super` to the setup of the `ActiveSupport::LogSubscriber::TestHelper` example.
Remove install.rb
Remove `version` argument in install.rb
`build_path` doesn't need the path variable anymore
remove Strexp
pass anchor directly to `Pattern`
we already have access to the AST, so just use it
remove default arguments that aren't used
pull up options_constrants extraction
remove `as`
remove anchor from mapping
pull `anchor` extraction up
raise if `anchor` is passed to `scope`
ActionMailer https on URL with force_ssl = true
[ci skip] SQL is written using statements, not sentences
descriptive error message when fixtures contian a missing column.
[ci skip] How to pass arguments to ActiveJob Jobs
[ci skip] Clarified asset pipeline guide
implement `provider_job_id` for `queue_classic`.
use `assert_not` instead of `refute` as mentioned in our guides.
Remove out-of-date AC::Broadcaster reference
Added helper methods to stub any instance
Assert that the `:prefix` option of `number_to_human_size` is deprecated
remove the `add_request_method` method
Skip statement cache on through association reader
remove side effects in `normalize_defaults`
remove unnecessary deletes
pull `format` out of the options hash
pull `formatted` up the stack
add a regression test for scoped `format` params
Simplify code
Avoid unnecessary MatchData objects
store `via` outside the options hash
don't mutate the caller's variables
store `:only` and `:except` outside the normal options hash
add a regression test for adding arbitrary keys to `scope`
add a method to `Scope` for getting mapping options
pull via checking up to via extraction
pull `via` all the way out of `add_route`
fix via handling when it's in a scope
add a test for adding "via" using `scope`
pull `via` extraction up
simplify `split_constraints`
remove side effects from `normalize_format`
switch === to case / when
make `split_constraints` more functional.
make `constraints` more functional
[ci skip] Removed link to reSRC.io - site closed
docs, tiny rdoc markup fix. [ci skip]
[ci skip] Swap ruby -v and the installation tip
only call `split_constraints` once
only do is_a? checks on `options_constraints` once
Mapping instances don't need `scope` anymore
pull scope[:constraints] up
pull :format up a little bit
Make disable_with default in submit_tag
pull `to` up
push scope access up for modules
Rename match_attribute_method? to matched_attribute_method
path is never nil
split options hash and pass values down
pull option duping up
split paths by type
one fewer hash mutation
push option decomposition up a bit more
push `action` option extraction up one frame.
pull up the "options.delete(:controller)" logic
Sometimes you need a specific break sequence while using word wrap and as today the only option we have is "\n" and is hardcoded.
fix comment about which mail headers are excluded
Tiny documentation fixes [ci skip]
:nodoc: internal class [ci skip]
Deprecate :si prefix in number_to_human_size without replacement
Deprecate the :prefix option of `number_to_human_size`
Only use path if the key is not present
try to pass fewer options to `scope`
always cast `name` to a symbol, and never to_s it
pull path conditional up
Make assert_enqueued_with and assert_performed_with returns the matched job
Clear out the streams when they are stopped. Otherwise we will keep trying to stop them.
pull `defaults` extraction up the stack.
avoid calling `scope` on `defaults` methods
let the `controller` method push / pop the stack
remove another call to `scope`
remove dead code
avoid is_a? calls
avoid another call to `scope`
push `with_scope_level` up so resource_scope doesn't know
reuse the same frame so we don't need a singleton hash
Dont try to call method missing in routes if thats not what we want
Update info on browser connection limits [ci skip]
add a null node at the top of the stack
remove `@nesting` ivar
pass `shallow` in to the resource constructor
we have the resource on the stack, so just use it
[ci skip] Add link to testing guide
[ci skip] Modify introduction text and bullets to be consistent with other guides
docs, use hash instead of a string for `order`. [ci skip]
Update Gemfile.lock
Remove wrong comment
Remove the conditional since it is done in the method
Execute the block when the controller doesn't exist
Name the argument according with its job
Whitespaces
log to stdout in development mode.
push `scope` calls up one frame
Reload I18n locales in development
[ci skip] Note that each action maps to a specific CRUD operation
make generated scaffold functional tests work inside API engines
remove useless hash
stop calling `scope` internally
remove useless conditional
eliminate assignment in conditional
Remove `defaults` hash from `Dispatcher`
eliminate runtime conditional
whitespace
remove the setter from `Scope`
Reference actual classes
[ci skip] Give in-depth explanation of migrations vs. seeds.rb
[ci skip] Adding a note to Action Mailer Basics documentation that Google increased its security measures so using the example for Gmail will return a â€œPassword Incorrectâ€ error, and you will receive an email from Google that they blocked a sign-in attempt.  You can change your Gmail settings or use another ESP.
replace each with each_key when only the key is needed
Refactor route assertion methods in resources test
Rename `extra_keys` variables to `query_string_keys`
Refactor to remove DrawOnce module
use uuid method to define the UUID type [ci skip]
[ci skip] Add an explanation for `status` option
Allow a custom dispatcher to be provided to routing.
Move `controller_reference` and `controller_class_names` to protected scope so that they are available to subclasses.
deprecate the env method on controller instances
the request object manages `env`
remove vestigial code
stop using @_env in the controller instance
finish deprecating handling strings and symbols
Using strings or symbols for middleware class names is deprecated.
move `valid?` conditional to the constructor
simplify the Middleware constructor
use Proc.new to reduce some conditionals
the request class is never changed, so just use it directly in the method body
Adding a new test using chained where, limit and find([pks])
use correct DB connection for generated HABTM table
Regexp#=== is faster than String#=~
Remove XML Serialization from core.
refactor param parsing middleware to use request objects
move flash hash access to methods on the request object
Only invoke the default block for mattr_accessor once so that it does not cause issues if it is not idempotent
Add ActiveRecord::Relation#in_batches
[ci skip] Remove `identity.active_record`
speed up code and avoid unnecessary MatchData objects
Added bin/update script to update application automatically
do not add common ports to HTTP_HOST
use a request object to access info from env in GetIp
ask the request if we should show exceptions
ExceptionWrapper doesn't need to know about `env`
prevent string allocations
reuse the request object in the File serving middleware
get the underlying REQUEST_METHOD from the superclass
use a request object to reduce string allocations and not know about ENV keys
Only load statistics.rake once from inside engine
better docs for ActiveRecord::Migration#table_name_options
Small fix
Adds missing argument handling for ActionController::TestSession to allow testing controllers that use session#fetch with a default value.
remove dead code
ask the request for the cookie jar
add a setter for the cookie jar
remove request reference from chained jars
Documentation: update queue_classic info in Active Job adapters list
Corrected instructions for using Sass
[ci skip] Typo fixed
Outdated information about session storage updated [ci skip]
stop using deprecated `render :text` in railties
remove `@host` ivar
remove @secure ivar
CookieJar does not need the key_generator parameter anymore
eliminate key_generator ivar
sop passing host and secure to the build method
stop using an options hash with the cookie jar
move env access to the request object.
routes in the env via the request object
allocate a request object to avoid hash allocations
[ci skip] Switch around a common idiom for readability
Add missing HelloJob require.
Use exist? instead of deprecated exists?
Assume uploaded filename is UTF-8
Add rake dev:cache task to enable dev mode caching.
Use bundled gems
Run with Ruby 2.2
Improve travis configuration
Add failing spec on utf8 filename with percent character
[ci skip] migration and association guides: added some remarks about join tables
Should use `server_info[:version]` instead of `info[:version]`
Inform user to add script in correct location into the application.js manifest file [ci skip]
Revert "test runner should crash with non existing file argument."
Correctly close a fenced code block [ci skip]
Add note to routing guide about overriding defaults [ci skip]
Improve the "Caching with Rails" guide's introduction [ci skip]
Add a section about "Collection caching" [ci skip]
test runner should crash with non existing file argument.
Add missing assertion for test_route_with_colon_first
Remove duplicity in tests
Use memoization for collection associations ids reader
Inform user to add styles in correct location in application.css
[ci skip] Update Time#advance documentation with examples
Save a string allocation inside loop
Use #start_with? and #[] for speed
correct example of button_tag [ci skip]
move the require of object/to_param to channel/broadcasting because that is where it is needed.
add missing tests for action regexp
update docs for broadcast_to to pass a message to broadcast.
add Active Job section to instrumentation guide [ci skip]
 Add run_cmd class method to ActiveRecord::Tasks::DatabaseTasks
[ci skip]
docs, custom api base controllers shoudl subclass metal. [ci skip]
minor AR changelog edits. [ci skip]
Remove duplicated `Array#to_param`
Array#any? is slower and not the inverse of Array#empty?
Use delete_if instead of each; delete(key)
Remove (another) array allocation
Remove array allocation
zOMG 37 objects saved
Don't allocate array when not necessary
String#freeze optimizations
Decrease allocations in transliterate
Avoid hash duplication by skipping mutation
Only allocate new string when needed
Freeze a string in comparator
Avoid calling to_s on nil in journey/formatter
RDoc: fix wrong model name `:inverse_of` with `:belongs_to` [ci skip]
Remove yepnope mention from form helpers guide because it's deprecated [ci skip]
[ci skip] small description on readme for identified_by
Validate multiple contexts on `valid?` and `invalid?` at once.
Add method_source dependency to activesupport
Cut string allocations in content_tag_string
Cut string ActionView template allocations
Optimize hash key
Decrease string allocation in content_tag_string
Reduce hash allocations in route_set
Decrease route_set allocations
Speed up journey missing_keys
Speed up journey extract_parameterized_parts
Decrease string allocations in url_options
Decrease string allocations in apply_inflections
Decrease string allocations on AR#respond_to?
refactor channel look up to use a hash instead of an array and reduce the number of calls to safe_constantize because it can be slow
Run tests with Travis.
Make silence a warning inserted by commit #4b3f8ac
[ci skip] `field_error_proc` is used in `ActionView::Helpers::ActiveModelInstanceTag`
Publish the "Caching with Rails" guide [ci skip]
Add a "Managing dependencies" part to the caching guide [ci skip]
pass the correct argument to mock on a test of `validates_length_of`
Tiny edits to the "Caching with Rails" guide
Tiny documentation edits [ci skip]
[ci skip] Add a link to action_controller_overview.html
[ci skip] Now Action View is completely separated from Action Pack
Add `:nodoc:` for internal testing methods [ci skip]
add broadcast_to and stream_for methods as per #26
set the correct path to `ActionDispatch::IntegrationTest.fixture_path`
[ci skip] it should be protect_from_forgery
require new version file so the constant is available to the application
Move VERSION constant to version file and use this in the gemspec
Ryan Bigg has changed jobs.
Update README.md
skip _select! call unless :select values are specified
Add wildcard template dependencies.
Round some numbers more humanely
Remove @connection instance variable only when defined
Properly allow uniqueness validations on primary keys.
Replace the giant comment in routes.rb with a link to the guides
Use Celluloid 0.16.0 until termination issue in 0.17.0 is resolved
`destroy` shouldn't raise when child associations fail to save
[ci skip] Minor fix
Add documentation to get a running custom base controller [ci skip]
Remove ivar only when defined
Don't unsubscribe on the server when another subscription with the same identifier is active
Encode the email address as prescribed in RFC 6068 section 2.
Docs: Update options for add_reference
Enable the `api_only` option for API plugins' generators
Improvements on the enum documentation [ci skip]
Generate an API dummy application for API plugins
Make ApplicationController inherit from AC::API for API plugins
Skip assets, helpers and views generation for API plugins
Add the `--api` option for the plugin generator
Add OrderPredications back into Nodes::Function (removed with deprecation of Expression)
adds more info on working with postgres ENUM type
Rename the enum_{prefix,suffix} options to _{prefix,suffix}
Improve channel actions dispatcher to allow inheritance/mixins
Don't fail when checking dependencies in bin/setup script
Don't apply locking around basic #load / #require
Remove check for caller_locations in Rails::Engine
Update gems and requires
Add missed Available transformations to migration Doc
Small tweaks to mainly lock-ordering tests.
rm `deep_munge`. You will live on in our hearts (and git history)
push param encoding in to the utils module
stop keeping track of keys when "deep munging"
recurse for arrays in `normalize_encode_params`
drop conditionals in conversion logic
rearrange logic to use positive branches
fix rails tests
Extra caller details added to ActiveRecord::RecordNotFound
Deprecate and rename the keys for association restrict_dependent_destroy
Handle thread death during lock acquisition
Adjust expectations around purpose/compatibility options
Add some meta-assertions for the custom assertions
titleizing the New Link
Order of execution is only guaranteed if upgrading
Tests for AS::Concurrency::ShareLock.
Clearer doc
Correctly ignore `mark_for_destruction` without `autosave`
disconnect method added to singleton server
fix doc about ActiveRecord::Transactions::ClassMethods#transaction [ci skip]
Add missing method name to exception description
Remove version requirements.
Add #cache_key to ActiveRecord::Relation.
We need stricter locking before we can unload
Freeze string literals when not mutated.
Add coffee-rails as a dependency.
added examples to DateAndTime::Calculations [ci skip]
Remove unused persistent option.
Make digest cache work in development.
Ensure that 'ActionController::Parameters' can still be passed to AR for collection associations
Ensure cyclic associations w/ autosave don't cause duplicate errors
Ensure that `ActionController::Parameters` can still be passed to AR
 Replaced render :text with render :plain in AC gem bug report template
use `plain` option instead of deprecated `text` option
add system! to fail fast in bin/setup
Stop using deprecated `render :text` in test
Add deprecation warning for `render :text`
Remove extraneous `then` from case statement
push fields_for_style? in to a protected method
push is_a checks up the stack
remove useless conditional
ActiveSupport::HashWithIndifferentAccess select and reject should return enumerator if called without block
remove useless conditionals
remove useless function
stop passing `params` to `array_of_permitted_scalars_filter`
push key checking up
Improve sql logging coloration in `ActiveRecord::LogSubscriber`.
[skip ci] Lookup can be a noun but it is not a verb
Skip a few failing tests on JRuby with the attached tickets
Oops! :bomb:
"warning: instance variable @routes not initialized"
[ci skip] Add `bundle exec` to test run command
add application_job.rb to template of mountable engine
Add a note about default_scope and create records
[skip ci] Improve grammar/style in DB pooling guide.
Silence deprecation warning from force reload
Update validation guide for acceptance method
grammar fix to content_for method documentation in capture_helper.rb
Standardize `ActionController::Parameters#to_unsafe_h` return value
Deprecate force association reload by passing true
Update documentation on `AC::Parameters`
Revert "Revert "Reduce allocations when running AR callbacks.""
Make AC::Parameters not inherited from Hash
[ci skip] add note for individual stub creation
Use a specific exception for unsupported visits
Improve error message when passed unsupported type
Rack implements `redirect?` so we don't need it
Remove concurrent-ruby from Action Pack gemspec
Include the connection module after defining the work callback
Include the module for clearing db connections
Worker tests
Update the README re: tests
only call methods that are on the superclass
Change AC::TestResponse to AD::TestResponse
Move dev dependencies from Gemfile to the gemspec: rake, puma, mocha
use a lookup table for `assert_response`
only have one TestResponse class
move buffer caching on to the buffer
Remove busted tests
Remove JRuby and Rubinius from the travis matrix
Replaced `ActiveSupport::Concurrency::Latch` with concurrent-ruby.
[ci skip] doc: making clear that perform_caching has a limited impact
:only and :except are now chained for routing resource(s)
Tests for channel subscriptions
Always load all the stub files
Update readme to remove js from example, copies structure from https://github.com/rails/actioncable-examples
Connection identifier tests
Updated Gemfile.lock
Test auth failure
More connection tests
Add some more tests
Add actionpack as a dependency
Tests for the Channel API
Load mocha for tests
fix typo in caching guide [ci skip]
make test runner work correctly inside engine
Link to example repo
added description instead of remove usage [ci skip]
Expand coverage of JSON gem tests
Expand the JSON test coverage for Struct and Hash (?!)
Add tests to ensure we don't interfere with json gem's output
Conditionally convert the raw_value received by the numeric validator.
Have to require redis in case it wasnt already
Removes unnecessary comments from i18n validations tests [ci skip]
Add automatic delegations from channel to connection identifiers
Note that there is no auto-reloading of classes in the cable server
Note the need for a big DB connection pool to match worker pool size
fix class name typo [ci skip]
small typo on README.md
the key is that the behavior is incorrect [ci skip]
Remove the reference to mocha in activemodel
remove Rack::Lock for webrick
improve duplicable documentation [ci skip]
Require yaml for XML mini isolation test.
Require yaml for time_zone isolation test.
Use private method call assertions in Active Model tests.
Add multiple expected calls to assert_called_with.
we don't really need an extra method to set the script name
Remove useless conditional
default `PATH_INFO` to the generated path
always default the SCRIPT_NAME to whatever is on the controller
remove useless ivar clearing
call the `path_parameters=` setter rather than rely on mutations
start collecting `env` mutations
Parameters are converted to a query string
no more HWIA
remove param dup'ing logic
encode / decode parameters before assigning them to the request
Require yaml for time_with_zone isolation test
start disconnecting the parameter parser from the instance
drop a conditional by always assigning
No need to quote MySQL LIMIT
Reuse the same test for HWIA reverse_merge!
test/hash: move lonely indifferent hash test
active_support/indifferent_hash: dont raise on to_hash when default_proc raises
active_support/indifferent_hash: fix cloning default_proc on dup
saying that "behaviour" "behaves" is kind of awkward, how about "works"
[ci skip] change sentence about reporting bugs in contributing guide
Update readme to include requiring the cable js file and rename the example file for creating App.cable not conflict with the action cable js libs
drop runtime conditionals in parameter parsing
Removed use of mocha in active_support
use `Rack::Test::UploadedFile` when uploading files
set parameters as a query string
use JSON to communicate between the controller and the tests
Allow `pluralize` helper to take a locale.
Update README.md
remove `web-console` from API app generated Gemfile
update README to include creating the ApplicationCabel::Channel
update documentation to use websocket protocol
Freshen Gemfile.lock
ActionCable.server should always return the same instance
Up[date README sample code so there is no syntax error
Update README - fix puma command and requiring environment from cabel/config.ru
build and assign parameters rather than rely on mutations
use new constructor. (Oops! :bomb:)
assign the cookie hash on request allocation
request objects are no longer recycled
pass the variant as a parameter to more reflect real world apps
add a new constructor for allocating test requests
make `env` a required parameter
pass the starting env and session to build_request
remove call to build_request
Lock websocket-driver version to 0.5.4 until we can figure out what broke in 0.6.0
pass the session and env in to the test request
Add Deserialization section on guides at ActiveJob Exception
let the superclass build the request and response
Explain the configuration of the framework
Add a process logging file that the config.ru file can require to configure EM and Celluloid logging
Include the clearing of database connections configuration by default
Revert to perform_action language â€“ we're already using process for the connection
Mention the concern about long-lived and stale data
Add method call assertions for internal use.
Document ShareLock and the Interlock
remove useless `new` implementation
Do not include column limit in schema.rb if it matches the default
allocate new responses rather than recycling them
Rely on the load interlock for non-caching reloads, too
Soften the lock requirements when eager_load is disabled
Some quick documentation edits and add a LICENSE to the repo
activerecord guide: clarified roles of valid method and errors object [ci skip]
You can be a subscriber multiple times.
Follow the Rails name convention of single word framework names
Remove bit about release as it hasn't happened yet
Update README.md
Note Ruby dependencies
Cleanup gemspec
This is will be a Ruby on Rails framework shortly
Note lack of tests
Update for latest API
Flush out the README overview of Action Cable
Document the JavaScript classes
Move the subscription factory method from the consumer to the subscriptions collection
Rename SubscriptionManager/Subscriber -> Subscriptions
[ci skip] Add `bundle exec` to Running a Single Test
adding brackets to array in docs
marking serialization class
pass variants in rather than mutating the request.
pass cookies from the jar in the HTTP_COOKIE header
Send cookies with request
Tests are busted at the moment. Note that.
Finished class documentation
Support explicit defintion of resouce name for collection caching.
Make the RemoteConnection private under RemoteConnections and document the setup
Complete all the standard severity levels
Documentation
More clear method name for what's actually happening
Make the entire internal channel private
Document and make private method private
Document heartbeat purpose
Document the connection
Identifiers will add attr_accessor as well for convenience
Basic authentication helpers
Document the remaining parts of the Channel setup.
Spacing
Explain action processing
Allow actions not to accept the data argument
No need for this delegator
Remove the authorized check for now
Add documentation
Use process vs perform language
Expand authors given recent work
Starting the documentation process
Go with process_action to match language from Action Controller
No need for this to be public
No need to use a channel_ prefix inside the channel
Switch domain language from channel connect/disconnect to subscribe/unsubscribe
Spacing
Don't need a delegator for a single-use case
Removing unused matches? method
Style
Extract periodic timers concern
Bundle connect/disconnect callbacks together with all other subscribe callbacks
Refer to the proper logger
Use latest Bundler
Add URL to inspector
Add helper to inspect current state
Rework event handlers
docs, clarify the meanaing of return values from validation methods.
docs, remove accidental :nodoc: of ActiveModel::Validations::ClassMethods methods.
Update CHANGELOG.md
Add test proving that accepts_nested_attributes_for is secure against ID tampering attacks.
websocket -> webSocket
Guard against opening multiple WebSocket connections
Add to Security guides the secrets.yml
Add to RDoc of OrderedOptions the bang info
Add ActionCable.server singleton
Extract Server configuration into a Configuration object
Extract connections methods into a separate concern
ActionMailer::MessageDelivery respects current I18n.locale
Refactor cookie_jar to decouple it from request object
No need for this no-logging broadcast
Add gemfile entry for GlobalID until a new release is cut.
remove reference to `country_options_for_select` and `country_select` from guide [ci skip]
Create Adding images in Action Mailer Views on guides
[skip ci] #distinct instead of #uniq
remove unnecessary loading fixtures from `navigation_test.rb`
changes names in guides to better reflect diversity [ci-skip]
Use default model enum in fixtures if not defined
Guard against duplicate subscriptions
[ci skip] Don't use TrueClass, FalseClass in docs
Expose broadcast_without_logging at the top level
Change wrong usage in documentation about autoload_paths [ci skip]
fix pluralize behavior for words that consist of non-ascii characters
Remove unnecessary `dup` from Mapper `add_route`
[ci skip] Improve the url_for documentation
Display a more human readable list of reserved names
Separate the constraint and other options [ci skip]
Avoid crashing when minitest-rails is loaded.
Allow select with Arel and count as well as calculations with Arel
Correct through associations using scopes
follow-up to 2183caa, always reenable the task. #20743
`dump_schema_after_migration` applies migration tasks other than db:migrate
tests, railties tests should use `bin/` executables when possible.
integration_tool defaults to :test_unit
fix pluralization in doc [ci skip]
Minor addition to getting started guide for foreign_key description of references migration [ci skip]
To fix #20644
Introduce Streams as the domain language for the pubsub channels Channels redeliver messages from
Rejig for what's used
Make the remote connection use the broadcaster as well
More redis used for broadcasting into broadcasting concern
Make broadcasting a concern
Move server classes to its own namespace
docs, nodoc `NullPreloader` and `AlreadyLoaded`.
Add nil check in asset_path
Improve error message when serializing unsaved records for jobs
updates a migration example in the Getting Started guide [ci skip]
fix NoMethodError that occurs when generating scaffold inside full mode engine
Revert the behavior of association names and `where` to be closer to 4.2
Improve error messages in cookies_test
Rework connection monitor
Wait for connection to close before reopening it
Maintaining consistency in wordings [ci skip]
Use accessor
initialize -> new
Composed method on the response
Change back, more is happening than just response
Add WebSocket decorator
Improve Validation Helpers' documentation comments and tests
Better ordering
Better order
Use an encapsulated factory method
Explain the purpose
Remove `config` options from `default_options` in `railties`
correct `file_fixture_path` in plugins `test_helper.rb`
Change routes.rb look in getting started [ci skip]
Update .pluck documentation on uniq
Update guide for new change_column_default syntax
Add reversible syntax for change_column_default
Bump version
TOC refactor
Don't need a log_exception helper, just do it inline
Update connection API with #open, #close, #reopen
remove bad test.
Cable.Consumer
Cable.Channel -> Cable.Subscription
Manage an array of subscribers since there may be more than one subscription to a channel
event -> callbackName
Add "initialized" notification
Extract connection monitoring and rewrite as a subscriber
Assume subscribers have an identifier
Switch back to original API and callback naming
Move connection and subscriber code into their own classes
Add pending test for the great-grandparent touching bug from #19324
Add table name prefix and suffix support to add_foreign_key and remove_foreign_key methods
cherry-pick test and source doc from #20050
modify add_source in application template to take a block for gem entries
remove nonexistent hook from instrumentation guide [ci skip]
Update API to camel cased equivalent of WebSocket's API
Remove now unused channel_name
Create JavaScript channels identified by their Ruby class name
Add nodes/casted.rb to gemspec file
Update rails_welcome.png
Require Cable.Channel constructors to define their channel name
Display decimal defaults as strings to keep precision
When logging Cache key, in debug mode, also log namespace, to create the full key that actually used by the underline cache implementation
More granular console SQL coloration
A few documentation fixes [ci skip]
[ci skip] Make clear what `this method` is
Remove the paragraph about Rails::Server#middleware
docs, add missing closing bracket. [ci skip]
[ci skip] correct for ActiveRecord::Associations::Preloader:
do not show "Failed tests" message when a failed test is not
Improve detection of partial templates eligible for collection caching.
Add nodoc to the Validations::Helpers [ci skip]
Minor fixes [ci skip]
Remove mistaken end from controller_path doc [ci skip]
thrown ActiveRecord::AssociationTypeMismatch when assigning a wrong value for a namespaced association
Composed method to same order of abstraction
Clarify what websocket thing we're talking about
Feature envy detected, so move execute_command to Subscriptions
Use delegated logger
Style
Extract execute_command method and centralize exception handling
Spacing
Style
Use private accessor
Slim down the web socket respond blocks
Allow filtering params based on parent keys
Rename Processor to MessageBuffer
Extract helper method
docs, :scissors: wrongly placed heading. [ci skip]
Finish Processor class extraction
refactor, don't duplicate presence validator logic.
docs, update Active Model reference for AR length validator. [ci skip]
AR absence validator respects `marked_for_destruction?`. Closes #20449.
WIP: Extract processor
Move the validations HelperMethods to its own file
remove unused variable in reporter test
Wrap message queueing in a more welcoming API
Add logging for when message isn't a string
Centralize logging in process and enhance method name
Extract Heartbeat class to perform periodical ping
Extracted Subscriptions class
Remove anemic indirection
Don't namespace methods with the class we are already in
Rename callback hooks to match setup
Styling
Consolidate all identification logic in a single concern
Order of appearance
Match transmit. No need to qualify _data
Remove duplicate private statement
Styling
Clarify that the incoming data is JSON
Add logging for when data is received without a live web socket
Homogenize lifecycle method names
Spacing
Change documentation for collection.build and collection.create [ci-skip]
Space
Remove broken links
applies project style guidelines
removes unnecessary backslashes in regexps
Better logging
Style
Override default_render's behavior with a block
Update request to do the env_config merge and add cookies helper
More logging improvements
Assume channel names include the _channel extension
Rename broadcast to transmit for the connection/channel->subscriber communication
TOC order
Add new convention method for performing channel actions
No need to double string it
Log when receiving unrecognized commands
Create Arel::Visitors::Oracle12 to provide better top-N query to support `FETCH FIRST n ROWS` and `OFFSET` for Oracle 12c database
Extract visit_Arel_Nodes_SelectOptions
Include `Enumerable` in `ActiveRecord::Relation`
Improve logging
Refactor perform_action via extract methods
Better spacing
Nix space
Log connection
Stop logging all send data, but do log broadcasting
Making running of subscribe callbacks a private matter
Add #perform_disconnection to have a place for both callbacks and logging
Use a perform_action router to handle incoming data
using order_values method instead of relying on ActiveRecord::Relation @values hash
WIP: fixing the limit bug and introducing new tests (failing for now) on .find(array) with offset
fix test not failing when executed isolated
Switch internal actions to be called commands instead, such that we can use action as the routing word on the user side
Free up subscribe/unsubscribe as action names the user can use in their channels
Latest dependencies
Use `Enumerable#sum` on `ActiveRecord::Relation` when a block is given
More spacing
Trailing CR
Spaces
correct example output of references migration [ci skip]
Nitpick :nail_care: [ci skip]
Autoload ActiveRecord::RecordInvalid
Add RDoc about scope option on distance_of_time_in_words
Dont need to quote limit
Nicer formatting
Allow unsubscribing from all current redis channels
assert_file understands paths with special characters
 Added documentation about passing custom disallowed types to Hash#from_xml [ci skip]
fix railties tests
Tiny documentation fixes [ci skip]
remove `Rails::Rack::Debugger` from guides [ci skip]
updates caching guide to reflect current Rails capabilities [ci skip]
Remove ContentLength middleware from the defaults.
Update bundler to v1.10.4
Use single quote in Railties generators Gemfile [ci skip]
Bump AMS to 0.10.0.rc2
Document, refactor and create test case for ActionDispatch::Response#charset= method
Catch InvalidURIError on bad paths on redirect.
enforce a depth limit on XML documents
Escape HTML entities in JSON keys
raise ActiveModel::MissingAttributeError when trying to access a relationship without the foreign key attribute
remove `header=` on the response object.
set the default charset in response initialize
Deprecate passing hash as first parameter into ActionController::Head
i18n guide: warn about default_url_options caching and locale selectors [ci skip]
document that default_url_options is cached per request [ci skip]
Small refactor on db:reset
A few documentation edits [ci skip]
A pass over the API application guide [ci skip]
pg guide, explain the state of using UUID primary keys. Closes #20518.
make `remove_index :table, :column` reversible.
quick pass over changelogs. [ci skip]
Updated bundler link [ci skip]
Wrong documentation about Rails autoload on active_jobs_basics doc [ci skip]
ActionDispatch::SSL should keep original header's behavior
 Add missing "header" word in documentation of Token#authentication_request [ci skip]
Extended 'Active Job Basics' edge guide with more detailed information and an additional step [ci skip] Normalized use of 'queueing'/'queuing' in the document.
[ci skip] fix typo mistake
[ci skip] Add '.'
don't hold a reference to `env` in the options object
Add gotcha to RDoc of collection_check_boxes
Add RDoc about add_reference to ActiveRecord::Migration
Revert "revises a test to account for case-insensitive file systems"
Add the ability of returning arbitrary headers to ActionDispatch::Static
make it possible to customize the executable inside rereun snippets.
let's use the latest bundler version.
Add fixture use case to testing.md.
Handle param-parsing errors from Rack in ExceptionWrapper
Copy-edits in 04c349659bfd97f9eaf5266ef7a64b4eb367c6a8
add doc about how empty serialization objects are persisted
Add a test to ensure `serialize` persists `nil` as `NULL`
Don't crash when mutating attributes in a getter
Remove accidental ruby-version
Add missing require to ensure #advance will work without being implicity required
Add enum prefix/suffix option to enum definition
Update RDoc for ActionController::TestCase for kwargs.
fix doc about foreign key name [ci skip]
Add an invert method for remove_foreign_key
assigns was removed from Rails
Add a missing test case for the persistence behavior of `serialize`
Credit the author of #20515 in the previous commit
Correctly handle array columns with defaults in the schema dumper
fixed sring to be string in ActiveRecord::Base params documentation
head :no_content is implicitly called
Mention that doing nothing in Rails API controllers returns 204
Return 204 if render is not called in API controllers
Add test coverage for implicit render in empty actions
Checking if controller responds to wrap_parameter is not longer required
Enable wrap_parameter by default in rails api applications
Include ParamsWrapper in AC::API
Add rake-cors gem (commented) in Gemfile for rails api apps
Make Rails API apps return the full resource on update
It's rails new my_api --api
Change guide heading from - to =
Add CHANGELOG entries for API apps functionality
Add API only apps guide
Document Generators.api_only! method
http only => API only
Add AMS 0.10.0.rc1 by default for api apps
Remove unneeded option from ResourceRouteGenerator
Revert changes related with api apps in RouteWrapper
Rename test methods in api conditional get controller tests
Do not say that Api Controllers are faster than regular ones in docs
Api only apps should include tmp and vendor folders
Remove Compatibility module since we don't remember why it was added :smile:
Exclude cache_digests:dependencies rake task in api app
Routes resources avoid :new and :edit endpoints if api_only is enabled
Remove extra whitespaces
Use new hash syntax
Refactor internal? to query internal_controller? and internal_asset? methods
Remove Unneeded ApiPublicExceptions middleware, PublicExceptions already does the work
Remove api_rendering is not needed
Adhere to Rails convention for private indentation
Use nex hash syntax on tests
Disable jbuilder for Rails API apps, meanwhile it doesn't play nicely
Add test to show api only apps allow overriding generator options
Add config.api_only = true to config/application.rb when using rails new --api
config.api_only = true implies config.generators.api_only = true
Do not generate lib/assets directory for api apps
Api apps scaffold does not generate assets
Api apps scaffold does not generate helpers
Api apps scaffold does not generate views
Add api scaffold test for route, controller and its tests
API apps scaffold generator generates an apropriate controller
config.generators.api_only = true set rails api option on generators
Api apps scaffold generates routes without new and edit actions
Hide assets, helper, css and js namespaces for api only apps
Add api_only option to Generators
Do not generate test/helpers directory for api apps
Do not generate app/views directory for api apps
Do not generate app/helpers directory for api apps
Do not generate app/assets directory for api apps
api option implies skipping javascript & sprockets
Generate appropriate initializers for an api app
rails new --api generates an api app skeleton
Add ApiPublicException middleware
Add AC::API + its middleware stack integration test
Add config.api_only option to application and remove appropriate middleware when true
Move Model test class inside RenderersApiController namespace
Add ActionController API functionality
select the AR adapter through `bin/test`.
Revert "Grammar correction"
make it possible to run AR tests with bin/test
use our runner (`bin/test`) for framework components.
Change the `index` arg of `ActionDispatch::Static#new` to a kwarg
better clarity of params source in ActionController::Base documentation [ci skip]
Grammar correction
inline test runner check into `as/testing/autorun.rb`.
refactor ActiveRecord's #become by simplifying code
Revert "Add code example for include option of AM::Serialization#serializable_hash"
[ci skip] Add `.`
Use block variable instead of global
Add code example for include option of AM::Serialization#serializable_hash
 Remove NOTE related to format.js [ci skip]
Removed AJAX example with poor convention adherence
update Rails Command Line guide page
Tiny documentation edits [ci skip]
Use block variable instead of global
remove unused code
we only care about methods that the request object responds to
extract required_defaults from the conditions hash before constructing the route
Remove misplaced period on "Configuring" guide.
add option to avoid generating scaffold.css
Handle invalid UTF-8 strings when HTML escaping
Raise an ArgumentError when `include_blank` is false for a required field in `Tags::Base#select_content_tag`.
Add missing data types for ActiveRecord migrations
Code fix in CHANGELOG
Add missing NOTE for Time extensions' location
add `instantiation.active_record` hook to instrumentation guide [ci skip]
Add missing documentation for ActionDispatch::Request::Session [ci skip]
Tiny documentation edits [ci skip]
Removed mocha stubbing in active_support
A few documentation tweaks [ci skip]
[ci skip] Declare `product` as `_product partial`
Stop `to_s(:db)` for fixture's timestamp
Output an error message and raise an error if bundler 1.10.x is not installed when reporting bugs
Add the bug report templates to the Travis CI build
do not change the order of the result if the object was already ordered by the user via :order clause
Return a `Point` object from the PG Point type
modify console of app method in that can use the path helpers
Remove warning for setting eager_load
Require active_support/duration.
Improve test runner's Minitest integration.
Apply Active Record suppression to all saves
Use inline Gemfile dependency when reporting bugs
adding a test to ensure the find is obbeying the limit
[#20338] adding tests to ensure the order clause takes precedence
[#20338] improving implementation, fixing and adding some more specs
Removed duplicate test cases for template execution
Document config.action_mailer.deliver_later_queue_name
Remove reference to assets version option.
pass check_ip and proxies to GetIp constructor
[ci skip] fix the `collection.clear` guide Improve the guide about `has_many` `collection.clear` to indicate the behavior for each dependent strategy according to `collection.delete_all`.
Skip test that fails from outdated sqlite3 on travis
Allow configuration of ActionMailer queue name
Use block variable instead of global
add test to run generated test files inside mountable engine
[skip ci] Add documentation for QueueAdapter::queue_adapter
Removed use of mocha from railties actions_test
Use sprockets-rails from github repo
Remove nil values from connection identifier
add changelog entry
Use --no-document option instead of --no-rdoc and --no-ri option
Map :bigint as NUMBER(19) sql_type by using `:limit => 19` for Oracle
[skip ci] Update documentation for QueueAdapters::lookup
allow `Bearer` as well as `Token`
actually test what the name says
[ci skip] Used 'instance_variables' in example for consistency.
Remove description of `dependency_loading` option
[ci skip] Add `.`
Use `any?` rather than `present?` to check args
Move casted to its own file
add engine's namespace to fixture name
no rails command short-cuts in the getting-started guide. [ci skip]
minor formatting changes in changelogs. [ci skip]
set engine's route in the functional test is generated in the engine
Attempt to fix travis failures
Ensure symbols passed to `select` are always quoted
Add docs and changelog entry for 73aab03 [ci skip]
Replace expectation with state check.
Add CHANGELOG entry for #17654 [ci skip]
[ci skip]fix docs for Engines
match method doc fix [ci skip] match method without setting `:via` option has been deprecated
Add test to ensure tmp:clear works when tmp is missing
Generate a `.keep` file in `tmp` folder
`rake restart` should work without a `tmp` folder
[ci skip] match without via is now deprecated
Remove `assigns` and `assert_template`.
Require yaml for isolation test
[#20338] WIP: first basic implementation and specs
formatting changes
Make the wording less confusing
minor text change
Update inline_preview_interceptor.rb
Revert "Replace use of alias chains with prepend at core_ext/date and core_ext/time"
  not require mail file
Allow Enumerable#pluck to take a splat.
Update docs for ActiveRecord `serialize`
Remove unused code.
Generate Bundler 1.10.1 lockfile
Revert "Use bundler < 1.10 until its bugs are fixed"
Revert "Uninstall bundler 1.10"
Revert "Force the uninstall"
Force the uninstall
Uninstall bundler 1.10
Use bundler < 1.10 until its bugs are fixed
Updating the guides for Enumerable#pluck
Add Enumerable#pluck.
Remove use of mocha from Active Model
Persist user provided default values, even if unchanged
Allow proc defaults with the Attributes API
removed erroneous line. Corrected presence validation example.
Remove already defined methods in super class of ActionDispatch::Request class These methods had defined in 2004 by dhh in initial commit and `ActionDispatch::Request` class has been inherited from `Rack::Request` class in 2009 by josh. In 2014 these methods and more of them defined in `Rack::Request` class so we don't need them anymore in rails codebase.
Deprecate `:nothing` option for render method `head` method works similar to `render` method with `:nothing` option
Unify behavior of all Numeric extensions and use Module.prepend instead of alias_method
Let WITH (CTE) queries be explainable
Give credit to extra contributor for Base.reload fix
config.static_index configures directory index "index.html" filename
Remove unused package tasks
Add test to 57daaef
Allow Relation#compact using delegation
Add collation support for string and text columns in SQLite3
Add application/vnd.api+json alias to the JSON MIME Type.
Resolve enums in test fixtures
[ci skip] Replace dead link about HttpOnly cookies.
add fixed file
Remove unnecessary reference to example Blog app [ci skip]
Remove web-console and spring from test group on default Gemfile.
Add assertion for get? method into test cases
Documentation for ActionDispatch::Request form_data? method [ci skip]
If specify `strict: :default` explicitly, do not set sql_mode.
Add missing nodocs and docs for ActionDispatch::Request [ci skip]
Add info on default layout functionality 3.2 >> 4.0 upgrade
add `extend` option on `has_and_belongs_to_many`.
 Added example of sharing secrets in multiple environments in secrets.yml
Remove unused variable
deprecate `Relation#uniq` use `Relation#distinct` instead.
Remove redundant 'like' from doc of slice! method [ci skip]
Added multibyte slice! example to doc [ci skip]
Use memoization while accessing request headers for minimizing memory usage
[skip ci] Update documentation for Duration#to_s
Use ActiveSupport::SafeBuffer when flushing content_for
[ci skip] Upcase `is`
Add missing type reference here
Grammar fix to Active Record Basics guide. [ci skip]
[skip ci] Add documentation for Deprecation::Behavior module
s/contstant/constant re #20282 [ci skip]
[skip ci] Add documentation for DeprecatedConstantProxy#class
Remove `.superclass_delegating_accessor`. Refer #14271
Add missing spec and documentation for button_tag helper
use keyword arguments in HTTP request methods of assert_difference example [ci skip]
Reword sentences in contributing docs for clarity.
Reword a sentence about GH Issues in contributing guide.
remove useless ivar
add a branch to eliminate multiple nil checks
 Remove div_for from guides [ci skip]
Add bang version to OrderedOptions
[ci skip] Use spaceship operator to indicate precedence.
Changed mysqldump to include sprocs and functions
move request id manipulation to the request object
Spelling/typo/grammatical fixes  [ci skip]
Avoid E constant clashing with Minitest defined version.
Remove custom `lines` and use `/tools/line_statistics`
Omit .keep in .gitignore when generated with --skip-keeps.
Remove broken and unused release task
Remove deprecation warning.
 Added test case for serial? method when sequence name is not quoted
Remove unused rule and task from activerecord
Link association.exists?(...) to API docs [ci skip]
Make link to configuring guide relative [ci skip]
"maybe" => "may be"
[skip ci] Add nodoc label for protected Cache methods
[skip ci] Update documentation for MemCacheStore::build_mem_cache
revises a test to account for case-insensitive file systems
Remove use of mocha in the railties generators tests
[skip ci] Update documentation for ArrayInquirer#any?
remove reference to `div_for` method from guide [ci skip]
Remove redundant 'Rails' from Rails::AppRailsLoader constant
[skip ci] Update documentation for Date class
Rails documentation standard is american english. [ci skip]
Rails documentation standard is american english. [ci skip]
updated Inline format at activerecord rdoc
[ci skip] update ruby doc links; for rails next version ruby 2.2+ will be supported only
Rails 5.0 will target Ruby 2.2+, correct rails guide example [ci skip]
typo fix [ci skip]
add missing punctuation in changelog. [ci skip]
Updated postgresql documentation link to use latest version [ci skip]
[ci skip] add to doc that acceptance validator allows `nil` by default
Give respond_to? a Symbol
Small stylistic tweaks for `Delegator#try` patch
Patch `Delegator` to work with `#try`
updated squash docs-section [ci skip]
parent_reflection should store only a reflection object
Remove unused already require
doc changes for readability [ci skip]
Remove `require 'arel/visitors/bind_visitor'`
Avoid the heredoc in one line queries and simple queries
spelling fix [ci skip]
Eliminate the duplication code of `StatementPool`
updating the links, they were removed in cc30f5f9 [ci skip] new links as per pull request comment #20160 (OWASP guides)
added ActiveRecord::Relation#left_outer_joins
Only define #positive? and #negative? on Ruby 2.2
Prefer assert_not over refute
ActionDispatch::Journey::Routes#empty? test cases
Divide methods for handling column options separately
Added ActionDispatch::Journey::Routes#empty?
docs for updating nested attributes while creating parent record [ci skip]
Refactoring `ActiveRecord::Type::Integer` limit
sqlite3_mem has an existing connection
better `add_reference` documentation. [ci skip]
[ci skip] remove `assigns` from the integration test example in API docs
Remove use of mocha in the railties path tests
add missing documentation about generators resource_route [ci skip]
formatting changes [ci skip]
config.generators javascript_engine default value is :js not nil [ci skip]
[ci skip] remove unnecessary mention to Test::Unit from docs
Add schema cache to new connection pool after fork
[ci skip] Improve grammar/syntax in AR validations docs.
[ci skip] Upcase `when`
 Pass over CHANGELOGS [ci skip]
Dead blog/site links [ci skip]
Remove redundant require 'set' lines
Clarify view tests [ci skip]
remove warning from integer ext test
Do not put partial name to local_assigns when rendering without an object
[ci skip] Improve phrasing in AR migrations docs.
AR::ConPool - remove synchronization around connection cache.
AR::ConPool - establish connections outside of critical section.
AR::ConPool - reduce post checkout critical section.
remove redundant parenthesis
remove redundant parenthesis.
Rails documentation standard is american english.  [ci skip]
Move Integer#positive? and Integer#negative? query methods to Numeric class
Minor comment fix. [ci skip]
Remove not used `options` argument from `ActiveSupport::JSON.decode`
invalid sti error message contains the full class name.
:nodoc: postgresql add_column
Dont log the messages
Add full set of MySQL CLI options to support SSL authentication when using db:structure dump and load
Add more detailed comment about _assign_attribute method [ci skip]
Refactor abstract_mysql_adapter type_to_sql method
[ci skip] Donâ€™t encourage `sudo gem install`
[ci skip] Upcase `SAVEPOINT`
remove documentation for sanitize_sql_for_conditions with a Hash
Remove call to sanitize_sql_hash_for_conditions
[ci skip] Remove comments about Rails 3.1
Add openssl_verify_mode and sync other smtp_settings with API docs
ActiveJob - log enqueued message only after the job was successfully enqueued
remove mysterious file added with #20105 :sparkles:
removing unused and already required require's custom test - Does not include EnvHelpers and the require is not needed path generation test - require abstract_unit which has .  rails/all requires rails and corresponding
allow setting of a demodulized class name when using STI
add docs to include option at ActiveModel::Serialization#serializable_hash [ci skip]
Removed not needed includes, As record_tag_helper is moved to a gem we are not testing is completely here now. RenderErbUtils and AM::Conversion are not used
Stop skipping a test that now works on Rubinius
[ci skip] Stop explaining finders for Rails 3
[ci skip] Improve phrasing on #explain pretty printing.
not needed require's - as core_ext is not used and test pass locally - mail is already required in abstract_unit
Refactor railties console and dbconsole commands
[CI SKIP] correct error text message
promote :except option instead of :only for before action docs [ci skip]
Move `TemplateAssertions` to their own file
`assert_emails` in block form use the given number as expected value
minor rdoc syntax fix [ci skip]
put dynamic matchers on the GeneratedAssociationMethods instead of model
docs: syncing with the code, adding aj [ci skip]
change GeneratedFeatureMethods to GeneratedAssociationMethods in docs
Better formatted documents [ci skip]
as/core_ext require's not used
Don't need to explicitly set test_order it's :random default
Refactor sidekiq adapter enqueue and enqueue_at methods
[ci skip] Add an example to ActionView::Helpers::FormBuilder#label
remove duplicate test.
:nodoc: rename_column in postgresql/schema_statements.rb
added activejob in list [ci skip]
Provide provider_job_id to qu adapter.
Make que report back its job_id to provider_job_id
Let Sidekiq set provider_job_id
Updated dynamic value of id in comments [ci skip]
Example updated [ci skip] Should be ApplicationController not ApplicationController::Base
Typo fix [ci skip] Single brackets
add error log that notify 'file not found' when using cache_digests:dependency and cache_digests:nested_dependency tasks
better docs for Rails.root and Rails.public_path
Rails style logger tags
Add examples of Date and Time `next_week` usage
tests, extract helpers to modify global state.
s/snipped/snippet for @senny :trollface:
require object/blank not used the current class is not the blank?, present? as well as other inheriting, the test suite runs
make AbstractAdapter#subquery_for private
copy-edits the docs of dump_schemas [ci skip]
docs, fix spelling. refs #20040 [ci skip]
add test coverage for `bin/setup`.
Adding a note, snipped for brevity sudden ending of form looks incomplete and catches [ci skip]
list reserved words in generator error
Using the real C and R def of Crud [ci skip]
Tiny grammar correction in documentation [ci skip]
Get provider_job_id from DelayedJob
use the right assertions.
Use `select_value` for avoid `ActiveRecord::Result` instance creating
Use `select_rows` instead of `select_one` in `select_value`
Use the built-in rake tasks
fixes some words missing
Remove :rescue_format option for translate helper since it's no longer supported by I18n.
Put the assertion arguments in the right order
Document inline image mailer preview interceptor
make sure to load_config for db:abort_if_pending_migrations
deep_dup method, remove old key from duplicated hash to avoid unnecessary pairs
Silence ambiguous first argument warning
Enhance the "Passing Variables to Translations" part
Updates various prose to the i18n guide
Tiny documentation edits [ci skip]
Adds/Corrects use case for adding an error message
refactor ActiveSupport::TestCase.test_order method with memoization
Replace use of alias chains with prepend at core_ext/date
Add support for inline images to mailer previews
Improve display of attachment names in mailer previews
Provide mention of pgcrypto extension for uuids
Give authentication methods the ability to customize response message.
Remove unneeded base file
Remove unused private classes
More exercise the create index sql tests
Do not use options that does not support
Do not use named queues for que adapter
Disable warnings on activejob tests
Missing `:bigint` [ci skip]
PostgreSQL: `:collation` support for string and text columns
Move the collation handling code from the MySQL adapter to common classes
add note about habtm relations with scopes
gem 'mysql2', '~> 0.3.18'
Dump indexes in `create_table` instead of `add_index`
`:nodoc:` postgresql's change_column
Change the `visit_AddColumn` visiblity for the internal API
Move comment about microseconds [ci skip]
Move PostgreSQL specific schema to postgresql_specific_schema.rb
Changed 'ask the rubyonrails-talk mailing list.' to 'ask it on the rubyonrails-talk mailing list.'
:nodoc: change_column_null in the implmenting adapters
Remove unused require
Correctly dump `:options` on `create_table` for MySQL
[ci skip] Uniquiness with scope can have one or more arguments
Use ruby 1.9 lambda syntax in documentations [ci skip]
Use `def before_setup` instead of `setup do`
Use `args` instead of `*args` in `kwargs_request?` method
 Removed `assigns` from functional_test templates
Added missing fullstop in engine API docs [ci skip]
AR::RecordNotSaved & RecordNotDestroyed should include an error message
Clean up debugging guide and fix minor grammatical errors[ci skip]
add upgrade note for breaking habtm change in 3.2 -> 4.0
Improvement on Activerecord CHANGELOG
Update documentation to contain a 24 char token [ci skip]
add test-case for `link_to_if` behavior with a block.
match a expected value with message of `assert_equal` in AJ helper methods
Mailer preview now uses `url_for` to fix links to emails for apps running on a subdirectory, closes #19092.
 Nodoc validate_index_length! method
 Added documentation for PostGreSQL database_statements [ci skip]
Add doc for original_exception in ActiveJob::DeserializationError [ci skip]
Add initial doc for Core in AJ [ci skip]
Add initial doc for Enqueuing module [ci skip]
Rails should be nodoc'd here [ci skip]
Document :tld_length option for cookies.
Add missing error messages for sucker_punch, sneakers and qu activejob adapters [ci skip]
Apply schema cache dump when creating connections
CHANGELOG punctuation fix
ensure `method_missing` called for non-existing methods passed to `ActiveModel::Serialization#serializable_hash`
[ci skip] Correct grammar, add docs to ActiveRecord migration generator
Make ActionMailer #cache helper a no-op, not an exception
Cause ActiveRecord::Base::reload to also ignore the QueryCache.
Rewording
mailer previews for `NullMail` instances. Closes #19849.
mailer previews, make sure labels and values line up.
Remove use of mocha in the named base tests
Update instructions to build guides locally [ci skip]
 Added note about non-GET links getting converted to GET links in mailer templates [ci skip]
fixed typo
Clarify test_order default configuration behaviour [ci skip]
Updated titles of headers in Action Mailer guide
guides, bring back minitest assertion table. [ci skip]
Unlock sneakers adapter version
AUTH PLAIN is Base64 encoded [ci skip]
 Replaced Javascript with JavaScript in guides
 Updated request_forgery_protection docs [ci skip]
Add missing "of" to RequestForgeryProtection doc.
Small punctuation fixes [ci skip]
remove trailing whitespace. [ci skip]
Add changelog for rake routes default fix
Add note about sti column value to becomes method [ci skip]
test, for `create_table` and `foreign_key: true` no-op. Closes #19794.
nodoc private internal constants from ActiveJob::Arguments
Don't document internal monkey patch for mysql gem [ci skip]
Don't document private internal constant [ci skip]
[ci skip] Update ActiveSupport::Rails and ActiveSupport::Rescuable docs [Dave Moore]
Need to add config.assets.compile=true to access `.assets`
assets:cache:clean wont clean cache anymore
Use latest sprockets-rails on internal dev
Don't reference sprockets assets on action pack
Removed unused code from request_forgery_protection tests
 Escape README in Plugin builder API documentation
Remove internal hacks dependent on Sprockets from RouteWrapper
[ci skip] Update ActiveSupport::Subscriber documentation
Add test for multiple suggested generator names.
No need to capitalize verbs. [CI SKIP]
Minor edits to the "Action View Overview" guide
:put_litter_in_its_place: Unused methods
:put_litter_in_its_place: Unused method
Why do we add a top-level constant here?
Do not show --helper and --assets options in the controller generator help
[ci skip] Rework docs, add examples on deprecation proxies
Refer to the constructer argument in docs
Correct translate helper docs [ci skip]
image_tag raises an error if size is passed with height and/or width
when checking for too long cache keys used the uri encoded fname
use a more descriptive example. [ci skip]
docs for `create_table` and non-int primary keys. [ci skip]
Uncomment byebug in framework Gemfile
Silence warning from MySQL::Error object in test
Remove unused WorkshopsController class in redirect_test.
Remove nonexistent adapter
Add nodoc to some private constants [ci skip]
Squashed commit of the following:
fixing English in Rails::Engine docs
[ci skip] fix count of options for `find_each`
[ci skip] Add, clean up docs in ActionDispatch ActionDispatch middleware
Queue Classic runs a second earlier than scheduled
Require yaml before trying to rescue its exception class
Remove sqlite support from `rails dbconsole`
Don't ask something that we don't want to
Improve ActiveSupport::TimeWithZone conversion to YAML
Refactor ActiveSupport::Timezone#strptime
Add ActiveSupport::TimeZone#strptime.
Clearify that alias_method_chain is deprecated
Silence warning from requiring mathn
pass over CHANGELOGs. [ci skip]
[ci skip] UpgradeLegacySignedCookieJar Doc fix
[ci skip] `deep_dup` is instance method of `Hash`
Add `ActiveModel::Dirty#[attr_name]_previously_changed?` and `ActiveModel::Dirty#[attr_name]_previous_change` to improve access to recorded changes after the model has been saved.
update Ruby required version in Getting Started guide [ci skip]
Update url_helper.rb
Rename association option :class to :anonymous_class
[ci skip] `deep_dup` is instance method of `Array`
[ci skip] Update `current version of Ruby`
Add blank lines between divs in form scaffolding
capitalize title
correct link to Generic template [ci skip]
Implicitly skip spring for `rails new --dev`
Consistency: Rails master -> edge Rails [ci skip]
Better explain the bug report templates [ci skip]
Only *configure* the queue in setup; DB creation must come later
Shuffle a few things in aid of easier debugging
Add a "generic" bug report template
Use _read_attribute(primary_key) instead of id
Update 4_2_release_notes.md
add missing require for ArrayInquirer
Update association_basics.md
 Spell out "asynchronously" instead of async in guides [ci skip]
MRI compatible code for ActiveSupport::Testing::Isolation::Subprocess
Allow to parameters named `action` or `controller` from AC::TestCase helpers
Autosave existing records on HMT associations when the parent is new
Improve documentation [ci skip]
Add missing require for String#strip_heredoc
Errors can be indexed with nested attributes
[ci skip] Replace `list` with `array`
[ci skip] Update code example of Enumerable#without
Read already loaded association records from association.target
Encourage users to user super to override methods.
Issue#17703 Test case for tempfile attribute
Log redis reconnect failures
Revert "Ping pubsub every 2 minutes"
Ruby 2.2.2
Ping pubsub every 2 minutes
Improve the Contributing to Rails Guide [skip ci]
add active job testing section [ci skip]
[ci skip] Document running a rake command as a rails command
fix typo asser url [ci skip]
[Skip ci] Add information about :host options
Latest ruby
Use Server#threaded_redis instead of creating a new connection
Correct small typo.   * files are written to hard "disk" not "disc".
remove extra `=` in form builder example [ci skip]
Dont close the open connections on redis reconnect
Revert "Revert "Remove all the existing connections on redis reconnect""
Revert "Remove all the existing connections on redis reconnect"
Use #prepend rather than using 2 aliases
Enable Active Job integration tests again
avoid double initialization error caused to sidekiq
Removing GZip section since Sprockets 3.0 no longer create .gz files [ci skip]
Tiny optimization of http auth Realm unquoting
Use `silence_warnings` on `StaticTests`
Override default form builder for a controller
Use Ruby 2.2.2 on travis
Add support for Set to Relation#where
Upgrade to Ruby 2.2.2
Add Broadcaster to publish to redis channels
fix indent in routes when using namespaced controllers
Don't rely on server#redis
Remove all the existing connections on redis reconnect
Improve note about unique index and foreign key on has_one association
Document that partial indexes are only supported by Postgres and SQLite.
Add note regarding CSRF for APIs, as a use-case for skipping it [ci skip]
Apply comments from @jeremy regarding why HTML and Javascript requests specifically are checked for CSRF, when dealing with the browser.
update request_forgery_protection docs [ci skip]
Add a note regarding add_column restricted API [ci skip]
Add note wrt foreign key constraint to ensure data integrity Thanks for patch @sgrif :trollface:
Apply edits from @senny to close #19397 [ci skip]
Apply comments from @rafaelfranca: we shouldn't recommend you use scaffold css
Enhance documentation of pluck with a hint to ids [ci skip]
Speedup String#squish
Some copy edits for modifying View Paths [ci skip]
Since the delegator wasn't identified earlier, we should here [ci skip]
:scissors:
view paths docs [ci skip]
Error message no longer tells you to set the (deprecated) secret_token.
[ci skip] Update contributing guide
remove reference to `register_javascript_expansion` and `register_stylesheet_expansion` from guide [ci skip]
Speed up Levenshtein by 50% and reduce 97% of memory usage
Remove mention of super old defined_javascript_functions method [ci skip]
Missing note on validates_presence_of validation [ci skip]
Rename railties/bin to railties/exe
[ci skip] Remove `link_to_function` and `button_from_function` from guides
[skip ci] primay_key -> primary_key
fix a wrong feature test method name
Copy edits for primary_key documentation in association guide. [ci skip]
Copy edits for QueueAdapters docs to fix #17765 [ci skip]
Raise ArgumentError when find_by receives no arguments
Use `use_transactional_tests` in Active Record
[ci skip] add missing file extension
[ci skip] format rake output
[ci skip] fix helper name
Add a tagged proxy logger to handle per connection tags
Tag log entries with the request id
[ci skip] Wrap with double quotation
[ci skip] Downcases filter names
Collect information about all the open connections and a method to fetch that
Rename Registry to InternalChannel and remove dup methods
[Rails4 regression] prevent thin and puma cause error in Non ASCII URL on Windows
wrap "require 'drb/unix'" by bgin-end at test/abstract_unit.rb
Gemfile: temporay pin "bcrypt" version and run "bundle update bcrypt" on Linux
Better method names
Simplify client connection closing
[ci skip] Adds documentation explaining table labels for Active Job QueueAdapters table in docs.
[ci skip] remove duplicate doc for current_page?
Add Active Job to Configuring Guide [ci skip]
redcarpet 3.2.2 has an XSS vulnerability
bugfix CodeStatics#calculate_directory_statics when dir has source extension
Add tests for associations without counter_cache
fix fails to force_ssl_redirection if session_store is disabled
Redis config with indifferent access
Log received redis channel messages
Log server initialization
A shorter and more concise version of select..size
Disable Active Job intregration tests.
Log when unsubscribing from a redis channel
Log when subscribing to a redis channel
Print exception class and message in the logs
fix documentation for SchemaStatements#add_foreign_key
Batch touch parent records
Allow AS::Cache::FileStore#clear without cache directory
sort_by instead of sort
[ci skip] Add `,`
fix for actionview parent layout bug
Log request start and finish
Bump version
Avoid to define an initializer after the load_config_initializers
Change join model name constant to private constant
Require explicit counter_cache option for has_many
remove new line between doc and method
added docs for ActionDispatch::Request::Session#create
[ci skip] Adds rdoc for priority explaining what the labels in the table means.
No need to document drop_table in the PostgreSQLAdapter
Catch exceptions when subscribing to a channel and processing a message
Remote connections API for the server
Remove a puts message
Be sure to cleanup internal redis subscriptions on close
Add remote connection to talk over internal redis channel
Add connection identifier and an internal redis channel
change the explanation of :if_exists option [ci skip]
correct the directory which rake notes look by default [ci skip]
drop_table method documentation for mysql and postgresql adapters [ci skip]
fix missing "if" in API docs for ActionController::Parameters#permit
use singular table name if pluralize_table_names is setted as false while creating foreign key
[ci skip] Remove Extensions to `Proc` chapter section
Accept lambda as child_index option in #fields_for method
head no_content when there is no template or action performed
fix typo in deprecation message. [Robin Dupret]
Update command_tasks source code
change REQUEST_URI to PATH_INFO
Allow an array to be a default translation value.
Don't invoke sql_runtime if logger is not set to info
Separate connection and server classes
correct output of auto_discovery_link_tag [ci skip]
[skip ci] Update information about #link_to attributes
Clear ping wait timeout when removing the connection
Raise ArgumentError if an unrecognised callback is skipped
remove duplicates
Do not depend on Rails git repository layout in ActiveSupport tests
Freeze static arguments for gsub
Prefer string patterns for gsub
Remove old mri platform entries from our Gemfile
[skip ci] Add information about #link_to target option
[ci skip] Replace `reraised` with `not captured`
[ci skip] fix guides example on arbitrary SQL execution
[ci skip] Remove unnecessary lines
[ci skip] Add `:`
Update routing.md
Only coerce time when comparing if necessary
Remove unused subdir deployment considerations section [ci skip]
Make method as nodoc since we are already docummenting at AbstractAdapter
remove extra newline from ApplicationJob template
[ci skip] Replace `query methods` with `a predicate`
No need to mention unit tests in testing guide anymore
New test runner syntax in testing guide
Suggest new hash syntax in testing guide
[ci skip] Remove unnecessary `>`
Don't suggest `bin/rails test controllers`
write a test for `#form_data?`
   use Model.reset_column_information to clear table cache connection wide.
Require Module#delegate core ext in ActiveModel::Naming
[ci skip] Combine complementary AR #find doc lines
Require the extensions to tests pass in isolation
Revert "Remove Array#inquiry"
Add missing "of" to testing guide.
Test using sprockets 3
Deprecate the `:tokenizer` option to `validates_length_of`
Switch to `bin/rails test` in testing guide rails/rails#18305
Replace `in Rails 4` with `in Rails %version%` in deprecation message
Clarify the role of `ActiveRecord::Core.encode_with`
Reduce memory usage when loading types in PG
use correct method in batches test
Print `bundle install` output in `rails new` as soon as it's available
Return super in ActionController::Parameters.const_missing
Remove circular require
Remove old and not working link. [ci skip]
Define a setup method instead of using setup as block
Remove Array#inquiry
 Improve CHANGELOG for fix for respecting pluralize_table_names [ci skip]
[skip ci] Improve `warn_on_records_fetched` documentation
respect `pluralize_table_names` when generate fixture file. fixes #19519
Missing require 'active_support/deprecation'
Correct doc sentence [ci skip]
[skip ci] Update configuring.md with #18846
Partially merge #17650
Partially merge #17650
Add missing :html option in determine_template error message.
[ci skip] Unify the code comment in ActionView::Renderer#render_template.
[skip ci] Minor edits for clarity, to make smooth, & separate clauses.
Add `config.active_record.warn_on_records_fetched_greater_than` option
PostgreSQL, Replace static connection param list by the one built into libpq.
Close the websocket on exception
Dont process messages when the websocket is no longer open
Dont process messages until connect is run
PostgreSQL, Use ruby-pg's built-in capabilities for array en-/decoding in C.
PostgreSQL, Add input type casts for primitive types.
Documenting remove_column as a reversible migration method [ci skip]
[ci skip] Active Record Validations guide fixes
update `config.assets.digest` default value in guides [ci skip]
Avoid loading user's psqlrc when loading test structure
[ci skip] Update 4.2 Release notes with more assert_select information.
Add changelog entry for #19271
Add ActiveSupport::ArrayInquirer and Array#inquiry
DRY up STI subclass logic
Provide friendlier access to request variants
Increase the stale timout
DRY up STI subclass logic
Update ActiveSupport::Subscriber docs
Stop using Que's named queues in its ActiveJob adapter.
Rails 5 requires 2.2.1. [ci skip]
[ci skip] Remove unacceptable method name
Small doc fix. [CI SKIP]
[ci skip] Change to a singular form (`the comment model`)
Pass wrapped class name to Sidekiq for logging purposes
Add explicit base class for ActiveJob jobs
Don't call connection#close directly
Make sure Array#to_sentence always returns a String
Remove alias for `i_suck_and_my_tests_are_order_dependent`.
Add documentation for Duration#to_i for clarification
Remove reference to Numeric#from_now, as it is no longer supported
update mysql link that has been replaced
remove old unavailable link with relevant fix
Provide a more truthful #inspect
Make sure to persist a newly-nil serialized value
Simplify setting button form options
Move #19447 changelog to the top and reword it a bit [ci skip]
Deprecate alias_method_chain in favour of Module#prepend â€¦as discussed #19413
PostgreSQL, Add test case for "Infinity" string assignment to float columns.
Change 'a' to 'an' for 'HABTM' word [ci skip]
[ci skip] Add link for "parameter_names section"
[ci skip] Capitalize title
[ci skip] Consistent spacing inside hash brackets
Better title in Testing Guide suggested by @senny https://github.com/rails/rails/pull/18305#issuecomment-73847595
[ci skip] Change `the null` to `a not null constraint`
Revert "Reduce allocations when running AR callbacks."
Delegate limit to subtype
Actually rename to `rake initializers`
Rework form helper example to use Person.new
 Removed requiring ostruct because its unused
use `Dir.exist?` instead of deprecated `Dir.exists?`
[ci skip] Check a result of `valid?` instead of `create`
Revert "Use `def setup` instead of `setup do`"
`rake initializer` -> `rake initializers`
Mark some constants as nodoc and remove unneeded namespace
Use Module#prepend instead of alias_method_chain Thanks @fbernier for suggestion! <3 At this moment we can use Module#prepend in all all cases except of Range because of the bug [1] in MRI 2.2 [1] https://bugs.ruby-lang.org/issues/10847
Change 'girlfriend' to 'partner'
Respect routing precedence for HEAD requests
[ci skip] Add a line between code example and docs
[ci skip] Add <tt> tag to `save!` and `create!`
Remove `#build_original_fullpath` method
Use fullpath from Rack request rather than building it
Test files should be named *_test.rb to be executed via rake task
Don't cast nil to string in pg enums
Updated MySQL documentation link to MySQL latest version 5.6 everywhere [ci skip]
add changelog entry for removing the fallback to rack_env
Updated MySQL documentation link to latest version MySQL 5.6 [ci skip]
Updated MySQL documentation link for STRICT_ALL_TABLES
add foreign_key option to result of references column type [ci skip]
Use absolute path on find_method location for the runner
method_source needs to be a hard dependency on railties
don't fallback to RACK_ENV when RAILS_ENV is not present
[ci skip] use true as value rather than symbol
Active Record changelog pass [skip ci]
[ci skip] use false as value rather than symbol
Change commands in the Getting Started guide to use scripts in bin/
Add a new-line to the end of route method generated code.
Improve test for leaky scope chain
Add `clear_association_scope_cache` method
Remove additional handling of boolean attributes on button to helper
- Make example code consistent for better understanding. [ci skip]
run `test_test.rb` using the `bin/rails test`.
Use Rails::TestRunner on rake test
move `ENV["BACKTRACE"]` support into the TestRunner.
`-p`, `--pattern` to run tests using a pattern.
use `bin/rails t` runner in `test_runner_test.rb`.
Add tests for runner#test_files method
Run multiple files on runner
`-e` / `--environment` for the test runner.
move argument parsing into the `Runner`.
get rid of NAMED_PATTERNS in favor of running a whole directory
document running a test by line number.
pluralize rerun snippet heading.
add tests for our minitest reporter.
Show the right file when test raises
Move minitest plugin
Move some logic to runner
Dont display Failed test if suite passed
Better file:line parsing and filter method by file too
Add method_source to gemfile
no need to escape the method in a regex wrap, minitest does that for us
If a nem given, use that name to filter the test
Add test run by line, and report error by line
spike of a `OptionParser` backed test runner.
Update old link in pessimistic.rb comments
Add config.active_record.dump_schemas.
Drop `references_eager_loaded_tables?` test from `has_include?`
Remove unused variable in activerecord reflection_test.
reflection doc fix about hierarchy
Closes rails/rails#18864: Renaming transactional fixtures to transactional tests
Materialize subqueries by adding `DISTINCT` to support MySQL 5.7.6 `optimizer_switch='derived_merge=on'`
Adds an example of how to access the arguments passed to a custom rake task [ci skip]
Move Adapter to private constant
Compare content_type with Mime::XML instead of regexp
Reuse the CollectionAssociation#reader proxy cache if the foreign key is present from the start.
Doc fix about association hierarchy
add mailer suffix to comments for email previews
Cleaning JavaScriptHelperTest
Cleaning unused views from actionpack tests inside actionview
Zlib isn't required for AssetTagHelperTest anymore
Cleaning unused methods from abstract_unit
Deleting unused fixtures
[ci skip] Subject-verb agreement
[ci skip] Remove spaces
Add `rake initializer`
Added missing closing brace in sample code for safe HTML translations
Asserting partials modification
Update sprockets links to point to rails org
`QueueAdapters` does the lookup
[ci skip] correct output of select
Return true from head method
[CI SKIP] Correct output of options_for_select
Use a more conservative `const_get` over `constantize`
Use request.session.id instead of request.session_options[:id]
[ci skip] Take NOTE: as paragraph to make NOTE block
Also skip Content-Encoding and Vary header if 304
[ci skip] Add space after erb block.
Use `def setup` instead of `setup do`
add `DateTime.now` to list of `TimeHelpers#travel_to` stubbing [ci skip]
Isolate access to .default_scopes in ActiveRecord::Scoping::Default
`ActiveJob::Base#queue_adapter` is now a `class_attribute`
Require pg~>0.18 to ensure Ruby 2.2 compatibility
[ci skip] Add space after erb block.
Edits for grammar and clarity, with help from georgeclaghorn and robin850.
`ActiveJob::QueueAdapters::*` are no longer singletons
Skip the `:race_condition_ttl` branch if the option is 0 or nil. This fixes an issue with the redis cache, where this code will sometimes throw an error out of SETEX when passing 0 as the `expires_at`.
Unnecessary usage of self in the guides
[ci skip] Change to code element
pg, `disable_referential_integrity` only catches AR errors.
fix typo in transaction argument. Closes #19265.
Add backquote to :as option.
Use the released gem
Let strip_tags leave HTML escaping to Rails.
Add YAML compatibility for objects from Rails 4.2
Attempt to provide backwards compatible YAML deserialization
304 response should not include Content-Type header
â€˜test_after_commitâ€™ gem is not required in Rails 5 remove note from doc
remove unnecessary path parameters
Changed 'blank space' to 'blank line'
Call super last in before_setup
Revert "Revert integration test refactoring that caused app test regressions"
use public Module#include instead of send :include [ci skip]
Revert "Take DST into account when locating TimeZone from Numeric."
Target Ruby 2.2.1 in gemspecs
Rails 5.0 needs ruby 2.2.1 or higher
Doc fixes [ci skip]
Doc fix [ci skip]
update integration test example as is not output deprecation warning [ci skip]
Remove gem check in guides/rails_guides.rb
More docs on tagged logging [ci skip]
Remove request and cookies helper methods
Doc fix [ci skip]
Add request and cookies helpers
Doc fix [ci skip]
 Updated documentation of CollectionProxy#clear [ci skip]
tests, sequences are derived from the base class.
Revert ":cut: remove unnecessary rescue Exceptions"
replace `repair_validations` with a disposable subclass.
Remove a duplicated changelog entry [ci skip]
Add `:charset` and `:collation` options support for MySQL string and text columns
tests, remove side effects on `Joke` during `base_test.rb`.
put the changelog entry in the right file :sweat: [ci skip]
`number_to_percentage` and `precision: 0` work with `NAN` and `INFINITY`.
Authorize before sending and receiving data
Change *args to arg in CallbackSequence#call
don't need to rescue Exception in this case
:cut: remove unnecessary rescue Exceptions
remove unnecessary rescue
[ci skip] Update documentation for Time#seconds_since_midnight
pass a config to the route set
[ci skip] Delete excess white in documentation
Revert "Allow failures with Active Job"
Use ruby 2.2.1 on Travis
Revert "For now, we will keep sorting the tests."
Revert "Leave all our tests as order_dependent! for now"
[ci skip] Add information about sanitize option in TextHelper#highlight
nodoc filtered_location [ci skip]
Run ActionPack test cases in random order.
Revert work arounds for upstream Ruby 2.2.0 kwargs bug
Doc fix [ci skip]
Some documentation edits [ci skip]
Doc fix [ci skip]
add ActiveRecord::Enum testcase about multiple enums declaring at a time
Doc fix [ci skip]
add regression test. Closes #18400.
Doc fix [ci skip]
Doc fix [ci skip]
Doc fix [ci skip]
Doc fix [ci skip]
Doc fix [ci skip]
Doc fix [ci skip]
fixes documentation for returned hash in cache.fetch_multi
Drop request class from RouteSet constructor.
Remove duplicated test
Correctly dump `serial` and `bigserial`
Add `Column#bigint?` method
add CHANGELOG entry for #19176. [ci skip]
fix spelling, `ERb` -> `ERB` [ci skip]
If TZInfo-data is not present in windows, let the user know.
[ci skip] Remove unnecessary space
Update cache_timestamp_format default value in guides
Tiny documentation edits [ci skip]
Remove line wrapping from the benchmark/ips output
Take DST into account when locating TimeZone from Numeric.
Remove mention of long-gone initializer and config
Remove unused line
Add more documents for AR connection_adapters abstract schema_definitions. [ci skip]
[ci skip] Add `.`
Honour the order of the joining model in a `has_many :through` association when eager loading.
[ci skip] Add documentation for Helpers#all_helpers_from_path
Revert "delete unused method"
Revert "mutate the transaction object to reflect state"
be optimistic about missing route keys
use arg size for parallel iteration
ask the routes objects for its Rack env key
delete unused method
mutate the transaction object to reflect state
ask the txn for it's state, not a state object
change if! to unless
Remove unneeded comment. [ci skip]
Move Array#without from Grouping to Access concern and add dedicated test (relates to #19157)
tests, favor `drop_table` and `:if_exists` over raw SQL.
Skip the failing tests on Rubinius for now
Remove not needed .tap
Wrap inline rescue with or-equal calls
Avoid Ruby versions check on Rubinius
Make private methods private
Remove !has_transactional_callbacks? check
Test against the mail gem's edge
call `sync_with_transaction_state` inside `persisted?` then check ivars directly
remove useless instance variable
Clarify that t.references and t.belongs_to are interchangeable. [ci skip]
Rake restart task no longer loads entire Rails environment when run. The restart task does not need access to models or other classes and helpers from the application environment.
Do not output in the console
Modify guides for a better sounding sentence
Add the platform-specific skip helpers to ActiveModel
Avoid accurate assertions on error messages
Avoid parallelizing Action Pack's tests on Rubinius
Nit pick the byebug settings guide for default values [ci skip]
[ci skip] Add code example for MailHelper#block_format documentation
Web Console documentation for the upcoming 2.1 release [ci skip]
Move transaction code to transaction module
Use include? instead of in? for Enumerable#without.
Remove parent transaction state
Include object inclusion for enumerable test.
Add Enumerable#without
Composite index is [:imageable_type, :imageable_id] [ci skip]
remove useless conditional
refactor `handle_model` to use private helper methods for generation
drop allocations for string and class polymorphic routes
drop string allocations per model url_for call in views
Bump rack-test to fix nil values being sent to `parse_nested_query`
move _generate_paths_by_default to where it is used
Removing unused mailer templates
Indexing a polymorphic assoc adds index on type and id [ci skip]
Work around for upstream Ruby bug #10685
[ci skip] Add `.`
test reset_pk_sequence with multi connection
Lines of code can be 100,000+ in a Rails app
Use the correct connection for reset_pk_sequence
fix ActionView::Template::Error when using Streaming with capture. can't acquire a encoding from StreamingBuffer. fixes #12001
Update link (minor fix)
Minor fixes (proposal)
drop allocations when handling model url generation
[ci skip] Add code examples for Module#anonymous? documentation
Reduce allocated memory for Module#delegate.
[ci skip] Update documentation for Range#to_formatted_s
Move `explain` into `AbstractMysqlAdapter`
add `ActiveJob::TestCase` to list of classes providing for test [ci skip]
Spell PostgreSQL correctly :elephant:
[skip ci] Add documentation for String#is_utf8? method
[ci skip] Remove `,`
[ci skip] Replace `ActiveResource` with `Active Resource`
Update documentation examples for String#remove [skip ci]
Preserve Array#take(n) behaviour of HasManyAssociation
Remove reference to workingwithrails.com since it is being retired
Add changelog for #15549 fix [skip ci]
Don't recommend to precompile all assets
Removed non-standard and unused require 'active_support/deprecation' from parts out of active_support.
Guides mistake about page caching.
[ci-skip] correct doc about custom validators
Explained how to set session expiry through session_store config
Improve guides
Revert integration test refactoring that caused app test regressions
fix NameError in `skip_filter`. callback doesn't exist.
Call reconnect() when a ping doesnt arrive in expected time
Remove existing connection when trying to reconnect to ensure we dont end up with multiple connections
Never stop attempting to reconnect
Created rake restart task.
Reconnect the websocket if the server doesnt send a ping every 6 seconds
Properly create through records when called with `where`
[ci skip] Add changelog entry for #18948.
Section explaining how rails runner accepts code in a ruby file.
Follow-up to #10776
:nailcare:
Partition routes during setup.
Add `SchemaMigration.create_table` support any unicode charsets for MySQL.
fix bug in Levenshtein distance calculation
add CHANGELOG for f6e293ec54f02f83cdb37502bea117f66f87bcae. [ci skip]
update docs to reflect that mailer generator add suffix to generated classes [ci skip]
fix typo [ci-skip]
cache quoted column names in SQLite3
Rename tests
Add before_commit
Add transaction callbacks that wont enroll to the transaction.
AR: translate_exception_class() no longer logs error.
Add a failing test demonstrating regression with HEAD requests to Rack apps, re #18764
Tiny documentation edits [ci skip]
Call `attributes_for_update` in `_update_record` w/ optimistic locking
Fallback to RAILS_RELATIVE_URL_ROOT in `url_for`.
activemodel: make .model_name json encodable
Use other controller instead of sharing the controller
Make TestController available to all test classes
rework `disable_referential_integrity` for PostgreSQL.
Remove unused table
Move back `new_column_definition` into `TableDefinition`
Avoid creating an extra hash on the job test adapter
Deprecate `AbstractController::Callbacks#skip_action_callback`
`ActiveJob::QueueAdapters::TestAdapter` is now a singleton
Special limited delete handling in MSSQL
Delete should respect 'limit'
Change filter on /rails/info/routes to use an actual path regexp from rails
Allow `:limit` option for MySQL bigint primary key support
some indenting and punctuation fixes. [ci skip]
fix method name in mime type example. `Mime::Type.[]` doesn't exist. [ci skip]
Removing old helper that was necessary for compatibility with Ruby 1.8.x
Removing unused constants from abstract_unit
Removing unused controller from abstract_unit
Removing unused template
The short-hand methods should be able to define multiple columns
Extract the short-hand methods into `ColumnMethods`
Changed the AJADAPTER to AJ_ADAPTER
Improve generator name suggestions a bit.
Extract `primary_key` method into `ColumnMethods`
Require `belongs_to` by default.
Minor guides edits [ci skip]
Improve wording on find_by note regarding returning only one record [ci skip]
Instrument read_multi.
Collections automatically cache and fetch partials.
[ci skip] Use explicit module namespace in guide
guides, fully qualify `ApplicationController`. Closes #19024.
Error message testing fix
Oops :bomb:
Change the deprecation messages to show the preferred way to work with ActiveModel::Errors
Prefer request_id over uuid and test the alias
Aliased the ActionDispatch::Request#uuid method with ActionDispatch::Request#request_id
s/around_filter/around_action/
Simplify and alias ActiveModel::Errors methods where possible
Do not test, document or use a private API method
Move the `validate!` method to `ActiveModel::Validations`.
Use sentence case for consistency in comments
Use a name that better reflect the return value
use `messages` instead of deprecated `ActiveModel::Errors#[]=` method [ci skip]
Corrects the API to method select_tag
Add schema dumping tests for datetime and time precision
Format the time string according to the precision of the time column
Allow `:precision` option for time type columns
Make the helpers a required argument
Cache url_helpers instead of creating each time
Use bundle exec on Travis-CI
Remove last empty line when we don't use Windows or JRuby
Test with rbx-2 on Travis-CI
fix column name in migration example [ci skip]
Deprecate `ActiveModel::Errors` `add_on_empty` and `add_on_blank` methods without replacement.
Do not mutate the operations array
Return true instead of self when suppressed
Copy edit the suppressor documentation
Extract precision from datetime and time columns
Handle array option in `type_to_sql`
Use `delegate` to call the methods to `@conn`
Should handle array option for `:cast_as`
Remove unused gsub_app_file method from Bukkit.
Allow Rack::Runtime to be deleted from middleware stack.
Freeze strings to reduce allocations in integration tests
Reduce the number of times `#clean_path_info` is called
Add `ActiveRecord::Base.suppress`
Try only to decode strings
Add nodoc to private constant [ci skip]
Improve documentation of local_assigns
Talk about Gemfile.lock in the contributing guide
Track Gemfile.lock at the repository
Add `time` option to `#touch`
Prefer `drop_table if_exists: true` over raw SQL
constants guide: adds a step to a resolution algorithm
Replace deprecated readonly option with scope blocks in docs and guide
prefer `drop_table if_exists: true` over raw SQL.
fix type in guide - missing word
Add docs for the type registry
Rm `Type#type_cast`
`type_cast_from_user` -> `cast`
`type_cast_for_database` -> `serialize`
`Type#type_cast_from_database` -> `Type#deserialize`
Add line endings to files which are missing them
Update code which depended on methods added by 1502caef
Revert "Allow `:precision` option for time type columns"
correct method name in deprecation message
Add documentation for local_assigns [ci skip]
Deprecated passing of `start` value to `find_in_batches` and `find_each` in favour of `begin_at` value.
Revert c732a66: * "rm docs for dependency_loading and disable_dependency_loading config"
Revert "Don't unhook autoloading in production"
removes docs for dependency_loading config option and disable_dependency_loading initializer because it was removed by commit a8bf12979e5fa15282b39c8cfa315e663f613539
Remove RecordTagHelper, add extraction notices
Remove unused Rails::Server#log_path
Improving remote forms guides [ci skip]
Support Rails 5
Allow to pass a string value to size option in `image_tag` and `video_tag` This makes the behavior more consistent with `width` or `height` options
fix, `to_table` in `remove_foreign_key` should be plural.
Register adapter specific types with the global type registry
Add a global type registry, used to lookup and register types
Add Gemfile.lock to plugin's gitignore template
Tiny documentation edits [ci skip]
Added default values for #format_paragraph docs [skip ci]
Implement http_cache_forever to ActionController
fix syntax error in render partial example [ci skip]
Mention `where.not` in the example
Updating Query Tracer github repository
Partially revert ae33aea
Break up these tests
oops, 'format' is not a real enum
Enums mapping is a HWIA [ci skip]
Enums should be referred to by symbols
Add missing comma
Dont create the test log file
New Gemfile.lock
Correct module name in deprecation message.
remove CHANGELOG entry for Rails 5.0 only feature. #18918
Improve deprecation message.
Do not recommend `xhr` since it is going to be deprecated.
[ci skip] escape under score
require rack/utils in exception_wrapper
Do not overwrite secret token value when already present.
Handle non-string authenticity tokens
remove meta programming
there is always an integration session, so remove the check
lazily create the integration session
use before_setup to set up test instance variables
Skip url_helpers instead of caching, speed up integration tests
Optimize none? and one? relation query methods to use LIMIT and COUNT.
Extract `DateTimePrecisionTest`
Move assets to the gem
get rid of transaction warning when running PG tests.
pg tests, be clear about the missing type that causes a test skip.
tests, remove unused requires.
fix typo in fresh_when example [ci skip]
Properly dump primitive-like AS::SafeBuffer strings as YAML
Allow `:precision` option for time type columns
Schema creation doesn't load the app
Don't break enum on PG
Refactor enum to be defined in terms of the attributes API
`current_scope` shouldn't pollute sibling STI classes
Revert 88d08f2ec9f89ba431cba8d0c06ac9ebc204bbbb
Remove the SQLite3 Binary subclass
Reduce object allocations in ActiveSupport::Subscriber
Remove an unused option that I didn't mean to commit [ci skip]
Remove most PG specific type subclasses
Remove code duplication in ActionView::Helpers::Tags::Base
prefer `drop_table :table, if_exists: true` over explicit checks.
add test to ensure `remove_reference` with index and fk is invertable.
fix `remove_reference` with `foreign_key: true` on MySQL. #18664.
guides, various testing guide changes. [ci skip]
Remove `cast_type` in `ColumnDefinition`
Use keyword argument in `transaction`
Refactor `quote_default_expression`
Accept a collection in fresh_when and stale?
remove unnecessary assignment and parameter passing in ActiveSupport::Callbacks::Filters::Around
The datetime precision with zero should be dumped
Adding subsection on 'upgrading' guide about 4.2 foreign key support [ci skip]
Convert stale? and fresh_when to use keyword arguments.
Dont check bundler output on plugin generator test
Actually fix the build
Refactor microsecond precision to be database agnostic
Ping the client every 3 seconds
Maintain a consistent order in `ActiveRecord::Base#attributes`
[ci skip] Add some more code highlights.
Add logging
Inline id_key variable
Change `LockingType` to use `DelegateClass`
[ci skip] corrects documentation for the default dependent behaviour
tests, reset global to previous value.
Remove warning from generator named base test
Match table names exactly on MySQL
Remove warning from ActionView::Helpers::Tags::Translator
Remove warning from Plugin Generator
Add guide for Action Mailer Previews
Add tip for skipping `partial` and `locals` options for `render`
Add an option `end_at` to `find_in_batches` that complements the `start`parameter to specify where to stop batch processing
Explicitly ignored wildcard verbs from head_routes
Move #18833 changelog to the top [ci skip]
Remove debug code
Missing `@` [ci skip]
Remove unused line
An array type is a part of `sql_type`
Add `auto_increment?` instead of `extra == 'auto_increment'`
Respect the database default charset for `schema_migrations` table.
rm `Type#number?`
rm `Type#text?`
Move non-type objects into the `Type::Helpers` namespace
rm `ActiveRecord::Type::Decorator`
Push multi-parameter assignement into the types
NameError#missing_name? can jsut use NameError#name if the arg is a Symbol
remove noise from AM tests
Raise an exception when Server.pubsub class method is not defined
make zones_map private
use kwargs instead of xhr method. refs #18771.
use rails favicon.ico instead or ruby favicon.ico for rails guides
Add link to the show action in the getting started
Document the usage of the default option to attribute
A symbol can be passed to `attribute`, which should be documented
Grammar and RDoc formatting
Remove reference to the now done documentation.rake
README.rdoc -> README.md for newly generated applications
Remove documentation tasks
Docs pass for the attributes API
Raise ArgumentError when passing nil to Relation#merge
Stoping using Relation#merge in default_scoped
Use the class pubsub method
Use just one redis connection
Add an `:only` option to `perform_enqueued_jobs` to filter jobs based on type.
Significantly improve the performance of `_read_attribute` on JRuby
Use keyword argument in the find_in_batches API
Allow a symbol to be passed to `attribute`, in place of a type object
Do not use the same name for two `:belongs_to`
Indicate link_to creates an anchor element
Revert "Improve the performance of HWIDA `select` and `reject`"
Improve the performance of HWIDA `select` and `reject`
revises AM:Dirty example [Godfrey Chan & Xavier Noria]
use parentheses here, for the beard of the Prophet! [ci skip]
applies guidelines to dirty.rb [ci skip]
Use keyword arguments
Do not run remove_connection in memory db test
Mark some methods as nodoc
Remove special case for symbols at find
Rename method to make explicit its intention
Use kwags to make the argument meaning explicit
Use new hash syntax
Change the method visibility
Add tests to make sure label and placeholder respect to_model
Force generated route to be inserted
Only check if object respond_to to_model once
placeholder doesn't exist inside this context
Partial template name does no more have to be a valid Ruby identifier
Privatize config_accessor as with attr_accessor
Add a Server#disconnect callback
Generic Worker#invoke method
Helper method for worker_pool
Configurable worker pool size
Move ruby-head to allowed failures [ci skip]
Update the gemspec
EM epoll
fix transaction rollback in case of aborting thread
Run periodic timers via the worker pool
No cramp and use celluloid workers to run callbacks
load "rack/test" before "action_controller/railtie" in bug report templates [ci skip]
Edit text on optional db constraints for uniqueness validations [ci skip]
Respect custom primary keys for associations in `Relation#where`
Always reset changed attributes in becomes
revert 539d929b7b32302afe548e4cb06b5f4dd56e9942 [ci skip]
Add default options to 'bit' and 'bit_varying' methods
Document lazy lookup behavior for controllers
Adds default options hash for postgres money type
Don't remove all line endings from routes.rb
rm `Column#cast_type`
Correct errors in counter cache updating
`RouteSet` should not be listed in the public API [ci skip]
[ci skip] improve sentence flow with grammar change
Removed magic comments # encoding: utf-8 , since its default from ruby 2.0 onwards.
Change AS::Testing::TimeHelpers#travel_to to also stub DateTime.now
Wrap method arguments with parentheses in docs
Small enhancement for generators
Person class doesn't contain finder methods, hence usage of Person.find_by is wrong. Added simple initialize and made use of Person.new instead of Person.find_by to clarify the docs. [ci skip]
Generate consistent names for foreign keys
Properly lookup the limit for bigint
Rename `user_provided_types` to something more meaningful
Remove unused `Column#with_type`
Cache `url_helpers` separately for mailers
Cache `url_helpers`
add destroyed records to the currend transaction
make the private methods private
push add to transaction logic down to the instance
remove conditional that is always true
stop making calls to add_record
Migrating xhr methods to keyword arguments syntax in `ActionController::TestCase` and `ActionDispatch::Integration`
[ci skip] add note about has_one :through and :dependent
Move required error message and changelog to Active Record
Deprecate `ActiveModel::Errors` `get`, `set` and `[]=` methods.
Show proper traces on Windows for the error pages
AM#Dirty doc fixes - Grammar fixes - Add doc for changes_include? -  implemntations => implementations
Callback#merge merges options for a callback skip instead of a callback. Renamed it to indicate what it actually does.
Use public Module#include, in favor of https://bugs.ruby-lang.org/issues/8846
Use Module#include instead of send :include, since now is a public method [ci skip]
Attribute assignment and type casting has nothing to do with columns
changed deleted_tables list to set
:scissors: warning from controller renderer test
Remove `AttributeSet#initialized_keys`
Add a disconnect callback
Update queue_classic gem to use latest
Add Single Table Inheritance to guides [ci skip]
ActionMailer::Base can unregister interceptor(s).
fix kindlerb version [ci skip]
[ci skip] Document format parameter of process method in AC test_case.
unify CHANGELOG format. [ci skip]
Wording fixes for `:skip_after_callbacks_if_terminated` callbacks option
Allow keyword arguments to work with ActiveJob
Remove most type related predicates from `Column`
Remove most uses of `Column#cast_type`
Allow hyphenated names for `rails plugin new` generator.
Always perform validations on nested attribute associations
fix typo in `_filter` deprecation message. [ci skip]
build fix II, adjust broken tests as a consequence of 670ac73126.
build fix.
scaffold controller_test template should use kwargs. refs #18323.
tests, use `capture` instead of custom `redirect_stderr` helper.
Improvements about schema dumping [ci skip]
Migrate old flash behaviour
Add a margin to body and padding to th, td.
Doc: run bundle update after cloning Rails.
Remove duplicated tests
Post.all.or(anything) == Post.all
Change option description and update test names
Add methods to get foreign key matching arguments
Consistent usage of spaces in hashes across our codebase
Use fixed fonts only in the name of the parameter
Improve CHANGELOG
Switch to kwargs in ActionController::TestCase and ActionDispatch::Integration Non-kwargs requests are deprecated now. Guides are updated as well.
Discard from flash before persisting in session
reassign `file_fixture_path` in plugins `test_helper.rb`. refs #18658.
[ci skip] Add a missing space in t.belongs_to argument.
let dependencies use Module#const_defined?
Add fix for loading fixtures in engine tests
Don't error when grouped calculations return 0 records
Always convert strings to UTF-8, regardless of column type in SQLite
Bring the implementation of Relation#or up to speed
Preserve default url options when generating URLs
Just assert the deprecation of one method
Add CHANGELOG entry
Added #or to ActiveRecord::Relation
table name should be plural [ci skip]
Don't redefine autosave association callbacks in nested attrs
Deprecate *_via_redirect integration test methods
Provide a better error message on :required association
Return value of yielded block in File.atomic_write
Update option to skip test in generators
improve performance of integration tests.
Remove Relation#bind_params
fix typo still cause -> still causes
All subclasses of `Attribute` should be private constants
Use an `Attribute` object to represent a bind value
Don't rely on the internal representation of join values
Minor refactorings on `Relation#build_joins`
`WhereClause#predicates` does not need to be public
Use the `WhereClause` ast building logic for having
Change the interface of `having` to match that of `where`
Move where grouping into `WhereClause`
Unify access to bind values on Relation
Restore useful documentation removed at 3729103e17e00494c8eae76e8a4ee1ac990d3450
Update model_schema.rb [ci skip]
document web console in debugging guide [ci skip]
Move the `from` bind logic to a `FromClause` class
Remove `Relation#bind_values=`
Remove unused `bind` and `bind!` methods from `Relation`
Remove `Relation#build_where`
Go through normal `where` logic in `AssociationScope`
Ensure the type caster object given to Arel is always marshallable
Generate a query that makes sense when testing having clauses
Change `having_values` to use the `WhereClause` class
Improve consistency of counter caches updating in memory
Test association was eager loaded, rather than reaching into internals
Move flattening records added to an association farther out
Move method to private section
Remove `where_values` and `where_values=`
Correct the implementation for `unscope(:where)`
Move `where_values_hash` over to `WhereClause`
Remove all references to `where_values` in tests
Move `where_unscoping` logic over to `WhereClause`
Remove most references to `where_values` in `QueryMethods`
Rename `WhereClause#parts` to `WhereClause#predicates`
Move `where.not` logic into `WhereClause`
Move the construction of `WhereClause` objects out of `Relation`
Remove all references to `where_values` in association code
Remove references to `:bind` in `except`
Move where merging logic over to `WhereClause`
Introduce `Relation::WhereClause`
Don't access the where values hash directly in through associations
Don't rely as much on the structure of the values hash in associations
Implement equality for `BindParam`
fix task description for tmp:create
remove trailing whitespace. [ci skip]
Add tip for running binstubs on Windows [ci skip]
Add missing options to `datetime_select` [ci skip]
Expand the number of types which can use prepared statements
Don't mutate `where_values`
Don't rely on relation mutability when building through associations
Improve shorthand matching for routes
Add test for HTTP basic authentication when no credential is given.
Allow `method: "all"` as a valid routing test option
use attribute assignment module logic during active model initialization
âœ‚ï¸ and ðŸ’… for #10776
Extracted `ActiveRecord::AttributeAssignment` to `ActiveModel::AttributesAssignment`
Move integer range validation to never raise on assignment
Add `foreign_key_exists?` method.
Errors raised in `type_cast_for_database` no longer raise on assignment
Don't remove join dependencies in `Relation#exists?`
constants guide: make assumption explicit in an example [closes #18465] [ci skip]
Use 'public_send' over the 'send' method for object's properties.
Reduce duplication when generating translations
Convert with `to_model` before calling ActiveModel methods on `object`
fix wording of CSS manifest instructions
Speed up `normalize_keys` by removing dup step.
fix regexp for validate an integer in guides [ci skip]
Disable builds AR-JDBC against master
Add :formats to options list of render documentation.
Remove config.assets
use two spaces instead of one for include root in json
Add ApplicationController.renderer initializer [ci skip]
Add ActionController::Base.render
Add ActionController::Renderer
Add ActionController#build_with_env
Support `:assigns` option when rendering with controllers/mailers.
Add `ActionController::Metal#set_request!`
Don't error when invalid json is assigned to a JSON column
Replace `if exists` with `table_exists?` and drop table statement with `drop_table` since 'drop table if exists' statement does not always work with some databases such as Oracle. also Oracle drop table statement will not drop sequence objects.
Travis: Test on jruby-head only for now
Speed up jruby tests
Remove jruby and add jruby-head on Travis
Add missing options to Error Message Interpolation guide [CI skip]
Change 'a' to 'an' for 'attribute' word [ci skip]
Add missing AS core extension dependency
Introduce `ActiveRecord::Base#accessed_fields`
Add ActiveModel::Errors#details
Single instead of double quotes
Rewrite SanitizeHelper docs
TransactionManager should call rollback records
- Extracted silence_stream method to new module in activesupport/testing. - Added include for the same in ActiveSupport::Test. - Removed occurrences of silence_stream being used elsewhere. - Reordered activesupport testcase requires alphabetically.
tests, use `drop_table if_exists: true` in our test suite.
Move `create_binds` over to the `PredicateBuilder`
Whether a column exists or not doesn't affect whether we can use binds
Don't mutate bind values in `Relation`
Add support for redis channels
No need for matching params
fix typo in number_field_tag documentation [ci skip]
Add an `:if_exists` option to `drop_table`
 Use force: true options for creating tables in bug templates
Remove unused accessor
Should escape regexp wildcard character `.`
Don't calculate in-place changes on attribute assignment
Use bundler 1.7 on travis
Include stackprof on ruby 2.2 as well as 2.1
 Run SQL only if attribute changed for update_attribute method
Use existing constant for joining instead of '_'
remove reference to `Logger` core extensions from guide [ci skip]
nodoc ActionView::ModelNaming module
[ci skip] Move a introduction of `Module.nesting`
[ci skip] fix positions of parentheses
Eliminate a ruby warning in a test in Action View
bring back unintentionally removed blank line [ci skip]
Removed documentation of deprecated removed methods [ci skip]
[ci skip] Change to the passive voice
Use instance_exec to invoke the lambda callback
More API changes
Use underscored class name as the default channel name
Typo fix
Update Molde Generator Usage
Underscore typo [ci skip]
Use option url: false to allow entries without a link tag
Specify correct version in the changelog [ci skip]
A little performance improvement using 'take' method over 'first'
Always pass the channel broadcast in message key
Initialize subscriptions as early as possible
Add support for bidirectional destroy dependencies
Improving 'Customizing Form Builder' section with example [ci skip]
after_commit runs after transactions with non-joinable parents
docs, update "How to run Active Record tests". [ci skip]
Use consistent anchor text throughout the guide.
DRY default limit in ActiveRecord::Type::Integer
Remove incorrect comment in ActiveRecord::Type::Value
Adding tip about jQuery UJS [ci skip]
Specify channel name as an attribute
Add some tests. Work in progress. Testing websockets is hard.
[ci skip] fix typo sill -> still
Latest gems and fix a callback bug
Time columns should support time zone aware attributes
Rename publish to broadcast
Only use the `_before_type_cast` in the form when from user input
Add tests with an explanation of why we're using `_before_type_cast`
Revert "Don't use the `_before_type_cast` version of attributes in the form"
Don't use the `_before_type_cast` version of attributes in the form
Go through normal where logic in destroy with locking
Go through normal where logic in destroy
Adding 'Search Engines Indexing' Section [ci skip]
Don't default to YAML dumping when quoting values
Correct views mail method sends in API docs
Action Cable take#1
 Changed "in GitHub" to "on GitHub" [ci skip]
require 'rails' if not include_all_railties, just as 'rails/all' does
Extract `Date` header to string constant in Http Response, similar to other headers
- Changed `IN` to `ON` in markdown renderer condition - Changed `IN` to `ON` in all note sentences in guides.
fix link in autoloading guide [ci skip]
improve grammar
Guides: Removing reference to blog that is not updated anymore [ci skip]
Add the `method_source` gem to the default Gemfile
Add missing time zone definitions for Russian Federation
Stop promoting rack-cache usage at the moment (not so common or important to deserve that billing)
Show how to change the queuing backend for ActiveJob in production
Set all asset options together
Digesting is now enabled by default in development
Change a to an for HTML word [ci skip]
ActiveRecord: On reconnection failure, release only failed connetion.
Clean up grammar in scaffold index view, by removing the word 'Listing' from list title.
Updated active_record_querying.md
pretty_print will use #inspect if a subclass redefines it
Removing :en in favor of I18n.default_locale in duration#inspect
Relax Rack dependency
minor grammatical fix in documentation
Change 'a' to 'an' for 'XML' word [ci skip]
Remove unused AV fixtures from AP tests
Remove unused "deprecated_reload" method
Add test for AM::Validation::Callbacks with :on
Add Secure Token Generator
Re-add section in SQL Caching
fix dependency
remove autoload HideActions, no longer exist
allow '1' or true for acceptance validation.
Deprecate passing a column to `quote`
Stop passing a column to `quote` in tests
Stop passing a column to `quote` when finding by AR models
Stop passing a column to `quote` when executing from a statement cache
Stop passing a column to `quote` in `Relation#to_sql`
Stop passing a column to `quote` when prepared statements are turned off
Stop passing a column to `quote` in `insert_fixture`
Stop special casing null binary data in logging
Don't attempt to save dirty attributes which are not persistable
Better fork detection in ActiveSupport::Testing::Isolation
No need of requiring `rbconfig`, it is by-default loaded
Use IO::NULL always
formatting pass over CHANGELOGs. [ci skip]
Remove note about supported plugins from the releasing docs
Remove support for the protected attributes gem
Switch Secure Token generation to Base58
Add missing require
Remove attributes_protected_by_default reference, since MassAssignmentSecurity was removed from ActiveModel f8c9a4d3e88181
Add SecureRandom.base58
Copy records to parent transaction should happen on TransactionManager
Use keyword args on committed! and rolledback!
Properly copy nested bind values from subqueried relations
Properly persist `lock_version` as 0 if the DB has no default
Use parallel bundler install.
Default headers, removed in controller actions, will not be reapplied to the test response.
Drop old test locations from `rake stats`
Update `rake counts` to count declarative tests in minitest
ActiveRecord: release connection on reconnect failure.
Add _mailer suffix to i18n path
Deprecate all *_filter callbacks in favor of *_action callbacks
Add prepend option to protect_from_forgery.
Document has_many :extend option
Add test/doc for :if/:except in skip_before_action
Add test case and documentation for skip_before_filter.
Add assert_enqueued_emails and assert_no_enqueued_emails
Add :only option to assert_no_enqueued_jobs
follow up to #18074
GlobalID::Identification has been mixed into AR not AM
Use `SCHEMA` instead of `DB_STRUCTURE` for specifiying structure file.
Add :only option to assert_enqueued_jobs
Correct route requirements by overriding defaultls (fixes #18373)
Better docs for AM::Lint::Tests
Includes HABTM returns correct size now. It's caused by the join dependency only instantiates one HABTM object because the join table hasn't a primary key. Updated commit from @bigxiang commit dbaa837
Move changelog entry to the top [ci skip]
Use EXEEXT
acronyms like ORM should be in uppercase, so overwrite the desc generated by hook_for
Remove ActionController::HideActions (closes #18336)
Better examples for fresh_when and stale?
Use Ruby's #include? to avoid relying on AS extension
Changing sets -> set
fix `attribute` method scoping(i.e. private) ref #52f641264b1325a4c2bdce7971b14524bd4905f1
Add mailer suffix to generated files and classes
Add log_level options to configuration guide
DateTime#<=> return nil when compare to the invalid String as Time.
replacing 'attribute' method with an alias
Add #prev_day and #next_day as counterparts to #yesterday and #tomorrow for Date, Time, and DateTime
Add same_time option to #prev_week and #next_week for Date, Time, and DateTime
Add #on_weekend?, #next_weekday, and #prev_weekday methods to Date, Time, and DateTime
removing unecessary parameter in private method
adding documentation for 'remove_possible_method' and 'redefine_method' [ci skip]
Improve protect_from_forgery documentation. [ci skip].
Correctly fetch bind_values from join in subquery
Define attribute methods before attempting to populate records
Whitespace fixes from #18349
Avoid changing the global state on the tests
Add firebird support to test suite
Clean up secure_token_test
reflects changes in 34cd7e2 in the index [ci skip]
Reset template assertions without warnings
remove unneeded check since /_one_time_conditions/ is removed
remove deprecated support to preload instance-dependent associaitons.
remove deprecated support for PG ranges with exclusive lower bounds.
can't kill thread with in-memory db. fixes `rake test:sqlite3_mem`.
remove deprecation warning when modifying a Relation with cached arel.
add punctuation. [ci skip]
Document all options for protect_from_forgery.
[guides] Added newer find_by syntax example in 4.2 release notes for Adequate Record [skip ci]
Do not include Active Support on tests
Remove unused require
Remove respond_to/respond_with placeholder methods
Remove extra class_eval for Ruby 1.9
Remove workaround to a Ruby 2.0.0 bug
Remove Struct#to_h backport
String already respond_to scrub at Ruby 2.2
singleton_class? is already pressent at Ruby 2.2
Remove unneeded Time patch to support Ruby 1.9
Remove some comments about Ruby 1.9 behaviors
Remove wrong TODO comment
No need to disable sidikiq tests with 1.9.3 anymore
Remove debugger support
Remove version conditional for calling GC.disable
Remove version conditional for find_template_paths
Remove LoadError#path hack for Ruby 1.9
Remove Thread hack for Ruby 1.9
Remove Psych hack for Ruby 1.9
Remove hack to support BigDecimal in Ruby 1.9
remove files which is dependent on ruby1.9 as we do not support Ruby1.9
Use directly TZInfo::Timezone without proxy
Simplify boolean casting logic
Add has_secure_token to Active Record
Remove unneeded `require 'as/deprecation'`
Remove unneeded requires
Remove deprecated `test:all` and `test:all:db` tasks
Remove deprecated `Rails::Rack::LogTailer`
Remove deprecated `RAILS_CACHE` constant
Remove deprecated `serve_static_assets` configuration
Remove deprecation warning when log_level is not explicit set on production
Change the behavior of boolean columns to be closer to Ruby's semantics.
Change transaction callbacks to not swallowing errors.
Remove deprecated `sanitize_sql_hash_for_conditions`
Remove deprecated `Reflection#source_macro`
Remove deprecated `symbolized_base_class` and `symbolized_sti_name`
Remove deprecated `ActiveRecord::Base.disable_implicit_join_references=`
Remove deprecated access to connection specification using a string acessor.
Change the default `null` value for `timestamps` to `false`
Return an array of pools from `connection_pools`
Return a null column from `column_for_attribute` when no column exists.
Remove deprecated `serialized_attributes`
Remove `cache_attributes` and friends
Remove deprecated automatic counter caches on `has_many :through`
Remove deprecated `ActiveModel::Dirty#reset_#{attribute}` and `ActiveModel::Dirty#reset_changes`.
Change the default template handler from `ERB` to `Raw`.
Remove deprecated `AbstractController::Base::parent_prefixes`
Remove deprecated assertion files
Remove deprecated usage of string keys in URL helpers
Remove deprecated `only_path` option on `*_path` helpers
Remove deprecate `*_path` helpers in email views
Remove deprecated `NamedRouteCollection#helpers`
Remove deprecated support to define routes with `:to` option that doesn't contain `#`
Remove deprecated `ActionDispatch::Response#to_ary`
Remove deprecated `ActionDispatch::Request#deep_munge`
Remove deprecated `ActionDispatch::Http::Parameters#symbolized_path_parameters`
Remove deprecated option `use_route` in controller tests
Remove deprecated ActionMailer deliver & deliver!
Change the default test order from `:sorted` to `:random`
Remove deprecated ActiveSupport::JSON::Encoding::CircularReferenceError.
Remove deprecated ActiveSupport::JSON::Encoding.encode_big_decimal_as_string=
Remove deprecated `ActiveSupport::SafeBuffer#prepend`
Remove deprecated methods at `Kernel`.
Remove deprecated core_ext/big_decimal/yaml_conversions file
Remove deprecated ActiveSupport::Cache::Store.instrument
Update bug report templates to use version 4.2.0 instead of 5.0.0 [ci skip]
Add missing information regarding callbacks
Better example of `teardown` method in test guide rails/rails#18305, thanks for @dhh suggestion
Prefer `array?` rather than `array`
Improve the matches on the scaffold generator tests
Demonstrate example of `assert_emails` in testing guide rails/rails#18305, thanks for @dhh suggestion
`sql_type` has been determined already when quoting defaults
Stop passing the column to the `quote` method when quoting defaults
Remove some warnings
Docs for controller test helpers rails/rails#18305
Avoid double negation in test guide rails/rails#18305
Section about testing xhr requests rails/rails#18305
Remove the tmp/sessions folder and its clear task
Avoid displaying new lines inside note paragraphs
Consider `html+erb` as a valid language for snippets
Update Redcarpet to version 3.2.2
Generated fixtures won't use parent_id when generated with parent:references
Add config to halt callback chain on return false
Deprecate `false` as the way to halt AR callbacks
Deprecate `false` as the way to halt AM callbacks
Deprecate `false` as the way to halt AM validation callbacks
Deprecate `false` as the way to halt AS callbacks
Throw :abort halts default CallbackChains
Loosen test about order of initializers
Unsafe default translations should not be marked html_safe
Support datetime values in AR::Type::DateTime#type_cast_for_database
Deprecate `MissingSourceFile` in favor of `LoadError`.
Use Active Model, not ActiveModel in plain English
Cleanup methods, missing spacing and missing nodocs
Move `#type_caster` to alias tracker initialize
Add `#all_includes` method to reflections
Initialze `#alias_tracker` with base table name
Move `alias_candiate` into `AbstractReflection`
Pass `connection` rather than `alias_tracker`
Assign the `#alias_name` to each reflection
Clean up / refactor new reflection classes
Refactor `#get_chain` iteration to a linked list
Refactor `#get_chain` to remove need for `#construct_tables`
Move `#alias_name` to `ReflectionProxy` class
Clean up assignments in `#add_constraints`
Refactor construct_tables method
Add RuntimeReflection for recursive access to chain
Add PolymorphicReflection and constraints method
Don't test invalid log encoding against PostgreSQL adapter
A quick pass through NestedAttributes' doc [ci skip]
Revert part of 996e646bd8cff3bcf2b13863439f48d3e744cdae [ci skip]
Follow up to #17973 [ci skip]
Refactor `visit_ChangeColumnDefinition`
Add default value for `create_table_definition`
Remove thread variables backport
Remove support to activerecord-deprecated_finders
Add a hidden_field on the file_field
Integration requests should work in contexts without setup and teardown
Format the datetime string according to the precision of the datetime field.
Allow precision option for MySQL datetimes.
Remove warnings
Verify the helper name with plural as it is generated
Add branch to gems pointing to github so that we can use local checkouts
Including links to earlier releases guides (4.1.8 and 4.0.12) [ci skip]
[ci skip] :scissors: a blank line from code (Active Job Guide).
Do not check only for the Rails constant
Do not run integration tests for the test adapter
Add --skip-action-mailer (or -M) to rails generate
Remove conversion code for old Rails cache entry
Check by @v before converting the entry on expired?
Using Rails 5.0 in bug report templates [ci skip]
Updating guides for Rails 5.0 [ci skip]
Stop explicitly passing `nil` as the column to `type_cast`
Stop depending on columns for type information in PG quoting tests
Stop relying on columns for type information in mysql2 casting tests
Stop relying on columns in mysql quoting tests
Stop relying on columns in sqlite quoting tests
ðŸ’£  I forgot to commit the arity change
Don't rely on the column for type information in uniquness validations
Don't load an entire table into memory to copy it on SQLite
Stop using the column for type information in sanitization
Stop passing the column to the connection adapter when quoting defaults
Add default rake task as test.
Changelog edits [ci skip]
Tiny follow-up to #18260 [ci skip]
Correctly use the response's status code calling head
fix rake command typo in Testing guide [ci skip]
Update copyright notices to 2015 [ci skip]
 ActiveJob is not ActionJob [ci skip] :smile:
Update Getting Started guide to reflect foreign key in migration [ci skip]
Add Profiling guide skeleton [ci skip]
Extract the index length validation to a auxiliar method
ActiveJob: delegate full deserialization to class
stop referencing `env` in url_for
use methods on the request rather than direct hash access
Share foreign_key_present? implementation in _has_ associations
Raise a better exception for renaming long indexes for mysql adapters
Move Engines guide under Extending Rails [ci skip]
The Guide to Testing Rails Applications is published! :tada: :tada: [ci skip]
Replace exhaustive list of methods with pointer to API docs. [ci skip]
Add result of running articles_routes_test and point to more information for RoutingAssertions. [ci skip]
Move request tests after functional and before views, and move helper tests after views. [ci skip]
Make "Testing Views" separate section, move "Setup and Teardown" into functional testing section and implement :show, :destroy, and :update tests.
 Update CHANGELOG entry for #18070 [ci skip]
Add implement integration test to Testing Guide. [ci skip]
Replace exhaustive list of helper methods with pointers to helper classes found in the Action Dispatch Integration module. [ci skip]
Ensures that primary_key method will return nil when multi-pk
Remove this line which was added by accident [ci skip]
Tiny documentation fixes [ci skip]
Use more semantic method to check password
ActiveJob testing improvements
Remove single space response body for head request
AR specific length validator to respect `marked_for_destruction`.
Template lookup now respect default locale and I18n fallbacks.
Move Rake tasks list to a smaller heading section earlier in the guide.
Condense notes regarding Minitest and its available assertions removed in: 82b75eda70f8c30f7c418e7350532a3a0ed2a8c3
Remove redundant information about Minitest, which is already covered when assertions are introduced. [ci skip]
Move longer form example from integration guide to api reference, below an existing example. [ci skip]
Grammar pass through Integration Testing section [ci skip]
fix error message of option as with invalid charters in partial rendering
Remove pre-4.2 comment about missing `assert_select` [ci skip]
Update link to rails-dom-testing documentation [ci skip]
Pass through `assert_select` testing guide [ci skip]
Add doc for `:touch` option of AR::Base#save
Implement testing `flash` notices into our blog app [ci skip]
Pass through Testing Templates and Layouts section [ci skip]
These are technically objects [ci skip]
Rephrase Four Hashes of the Apocalypse [ci skip]
Compare http request type with test equivalent methods, and application use-cases.
Document the include_all_helpers config setting.
Rephrase functional testing in its relation to Rails Controller Unit Testing. [ci skip]
Removed Object#itself as it's implemented in ruby 2.2
Un-inline if statement
Remove some warning with Ruby 2.2
Ensure `first!` and friends work on loaded associations
Require Arel 7.0.0.alpha
Change the version to 7.0.0.alpha
Remove 1.9 from the Travis builds
Allow a type caster to be given to the `Arel::Table` object
Remove all cases of manuallly wrapping `Arel::Nodes::Quoted`
Pass a type caster when aliasing tables for joins
Extract an explicit type caster class
Rely on the injectable type caster for `arel_table`
Add nodoc to touch at no_touching.rb
plugin's gemfile also needs tzinfo-data in Windows
`eager_load` preserves readonly flag for associations
Just check if the buffer exists before changing it
When trying to access a character on a string buffer object via `:[]`, if the object being accessed currently returns `html_safe?` as true, we used to set  `@html_safe` variable as true on new object created. When doing something like
adjust args of Bundler.require in guides [ci skip]
Expectation comes first
Improve a dump of the primary key support.
Minor documentation edits [ci skip]
docs, cleanup Active Record CHANGELOG. [ci skip]
Update example test documentation
Provide :touch option to save() to accommodate saving without updating timestamps. [#18202]
Provide a better error message for unsupported classes in `serialize`
Add bigint primary key support for MySQL.
Support for any type primary key.
add autoload for `ForeignKeyDefinition`.
reduce duplication in `ConnectionAdapters::Table` docs. [ci skip]
Add a note about non-buffering servers for AC::Live
Refactor `PostgreSQL::TableDefinition#primary_key`
Flatten the call stacks ActiveSupport::Callbacks produces, fix #18011.
actually autoload all second-level directories called `app/*/concerns`
Deprecate automatic type casting within Arel
Inform Arel we don't need additional type casting in tests
Inform Arel we don't need additional type casting in batches
Inform Arel that we don't need additional type casting in batching
Go through normal `update_all` logic when updating lock columns
Go through normal `update_all` logic when updating counter caches
We don't need additional type casting for locking updates
Inform Arel that we don't need type casting in tests
Go through normal where logic in `apply_join_dependency`
Inform Arel that we don't need to cast a value in tests
We don't need to type cast the offset in `find_in_batches`
Fall back to type casting from the connection adapter
Go through normal `where` logic in uniqueness validation
We don't need to cast the value a second time in uniqueness validations
We don't need to perform type casting on the STI condition
Go through normal `where` logic when preloading associations
Eagerly cast array values passed to the predicate builder
Eagerly cast range values in the predicate builder
Allow for handling quoted values in ranges
Perform casting of single values within the predicate builder
Remove `klass` and `arel_table` as a dependency of `PredicateBuilder`
Refactor association handling in `PredicateBuilder`
Re-use the predicate builder in the `ArrayHandler`
Change `PredicateBuilder` handler methods to instance methods
Add missing `:nodoc:`
Inject the `PredicateBuilder` into the `Relation` instance
Remove unused `@relation` instance variable
Propagate frozen state during transaction changes
Correctly ignore `case_sensitive` for UUID uniqueness validation
Update guides regarding the extension changes
Require Ruby 2.2 for Rails 5.0
Dump the default `nil` for PostgreSQL UUID primary key.
- Changed `paths` to `routing_paths` to avoid warning `possible reference to past scope`
Remove unnecessary double space
targeting 2.2
Add example to get Errored test to pass in Testing guide [ci skip]
- Changed `target` to `target_reflection` to avoid warning `possible reference to past scope`
Check for Rails.env instead of Rails `Rails` constant is added by rails-html-sanitizer leading to bugs in non-Rails apps using ActiveRecord and ActionMailer
{Matches,DoesNotMatch} support the ESCAPE clause with PostgreSQL
Better docs for NameError
Remove ActionController::ModelNaming
Correct grammar to fix #18182 [ci skip]
Update grammar [ci skip]
List the Active Support Instrumentation guide in the index (as WIP)
- Removed unused parameter to cookie serialize method and fixed usage of the same elsewhere
Clarify that query methods have a custom definition of whether a numeric value is present. [ci skip]
removes superfluous regexp group
warn about reading guides in GitHub
third test to warn against reading guides in GitHub
second test to warn against reading guides in GitHub
proof of concept, need to check in GitHub
Remove unneeded special case to calculate size for has_many :through
Don't treat `nil` as changed in serialized types
Rails::Application#secrets should be documented.
Refactor a common class to reduce the duplication for `references`
Remove block from super
Changelog for 99a6f9e60ea55924b44f894a16f8de0162cf2702
docs, replace ` with + for proper rdoc output. [ci skip]
Replace deprecated `#load_schema` with `#load_schema_for`.
Add information about "allow_destroy" requiring an ID. [ci skip]
cleanup CHANGELOGs. [ci skip]
fix typo in nodoc
Clarify that the word present refers to Object#present?. [ci skip]
Update Active Record's attribute query methods documentation to describe its full behaviour. [ci skip]
Describe gotcha for 'status' option [ci skip]
Don't raise on out-of-range datetimes passed by a user
Better docs for AV::RecordIdentifier
Better tests for AV::RecordIdentifier
Improve the performance of reading belongs_to associations
Don't perform statement caching for `find` when called from a scope
Don't calculate all in-place changes to determine if attribute_changed?
Don't wrap `create_table` in a transaction for tests which run on MySQL
Add test missed by a03ea684efc3505647cf0327a501aa2dbb591ad2
Use the new `foreign_key` option on `references` in generators
Add `foreign_key` as an option to `references` for `change_table`
Convert `add_references` to use kwargs
Add a `foreign_key` option to `references` while creating the table
Convert `references` to kwargs
Skip byebug on all non-MRI rubies, fix tests
Only add debugger/byebug if on MRI
Add `force: true` to table created in tests
Do not use line breaks on notes [ci skip]
Correctly handle limit on int4 and int8 types in PG
Remove this section, it adds no real value [ci skip]
Use serve_static_files in guides, take 2 [skip ci]
Use serve_static_files in guides [skip ci]
Add subheadings for these sections [ci skip]
I'm sorry but I would rather not link to a 7 year old blog post [ci skip]
Remove this line since we are using Rake to run our tests [ci skip]
s/are edited and rerun/required modifications [ci skip]
document the return of `db:test:prepare`. Closes #18136. [ci skip]
Correctly handle Float -> BigDecimal with unspecified precision
s/a unobtrusive/an unobtrusive [ci skip]
Better explain number of assertions per test [ci skip]
Remove duplicate description of the previous line [ci skip]
Removed run-on sentence and replace with sectional comments [ci skip]
Better explain how test() methods get defined and kill this run-on sentence.
We may only look at some of the methods available from TestCase [ci skip]
Better explain what `test_helper.rb` is designed for [ci skip]
`bin/rake` does not exist in plugin directory [ci skip]
Remove unused Sheep fixture from AV
Better docs for AbstractController
Add docs for `Rails.env` and `Rails.env=`
Add docs for `Object.nil!`
Remove bullet
Clarify ActiveRecord testing guidelines [ci skip] 1. Specify that you need to create the test databases, and that no special    Rails command needs to be run to do that. 2. Although the underscore style of `rake test_mysql` works, make the    documentation of running the tests in RUNNING_UNIT_TESTS.rdoc    consistent with the "Contributing..." guide. 3. Promote "Testing Active Record" to not be a subsection of    "Running a Single Test," since it doesn't make sense as a subsection    of that.
Testing guide grammar fix
Add 'require' for Hash#with_indifferent_access
We will be using the application already created in the Getting Started guide.
Add support for Reply-To field in mail_to helper
Follow-up to d9710212 [skip ci]
Shorten the explaination of this to fit on one line [ci skip]
s/folder/directory [ci skip]
"In PostgreSQL, just superusers.." => "In PostgreSQL, only superusers.."
Make sure this section is rendered as a `NOTE` and remove redundant sentence.
Add note about the association between the two fixture files and how they're connection.
Remove YAML implementation detail, as we're not trying to document all of YAML's behavior in this guide. [ci skip]
Remove use of "very" [ci skip]
Describe the mailer and helpers directories which are generated by `rails new`.
[ci skip] Improve grammar in configuring serve_static_files guide
Update comment regarding test environment with help from @matthewd [ci skip]
Add note about Ajax and CSRF-Token [ci skip]
Renaming the autoloading guide [ci skip]
pass over the autoloading guide [ci skip]
Replace guides.ror.org/v4.2.0 with guides.ror.org
Allow ActiveRecord::Relation#update to run on result of a relation with callbacks and validations
activejob needs to be built before actionmailer
prefer single quotes, by the beard of the prophet!
Make bin/setup portable
Add link for Domain-Specific Language [ci skip]
last pass to the autoloading guide before release [ci skip]
Remove rack and i18n master from bug report tempaltes [ci skip]
Use released I18n 0.7.0
Make possible to use blocks with short version of render partial
`force: :cascade` to recreate tables referenced by foreign-keys.
Use released rack
Clarity start parameter
Output extension is no longer generated [ci skip]
Add docs for ActionDispatch::Http::URL methods
simplify ActiveSupport.test_order definition
Enable Travis CI container-mode
Add docs for AS::TestCase::test_order
Spelling fix [ci skip]
passed a spell checker, not bad [ci skip]
adds another examle to the constants not missing gotcha [ci skip]
`db:structure:load` and `db:schema:load` no longer purge the database.
Relax the UUID regex
fix issue with reaping_frequency type
Add docs for Numeric time-related methods
Replace `#=>` with `# =>` [ci skip]
Add docs for Numeric#*_bytes methods
Add docs for Time#find_zone
Add docs for AS::Notifications::Event#duration
simpler example for the non-missing constants gotcha [ci skip]
use thread_safe gem version greater or equal to 0.3.4
[ci skip] Change three backticks to just one
Remove unused line
fix link in autoloading guide [ci skip]
Replace AS::TimeWithZone#since with alias to +
`update_column` take ruby-land input, not database-land input
Improving Method Chaining section [ci skip]
adding that assert_template with :layout will raise ArgumentError for unknown layout type
"backoffice" -> "back office", "lookup" -> "look up"
Test to ensure content_tag works when fixing #17661
English fix [ci skip]
Improve grammar
allow reseting of request variants
Improve section in constant autoload guide
Add a code checking about file or not to the rails db command
Constant autoload grammar fix
docs, synchronize CHANGELOG across branches. [ci skip]
decribe deprecation cycle from `timestamps null: false` to `null: true`.
[ci skip] :scissors: blank lines between list items.
undoes a recent merged edit [ci skip]
missing preposition [ci skip]
syncs the autoloading guide and undoes some merged changes [ci skip]
Remove this tip, if the previous statement is true.. ie: The reader sees "Rails 4.2.0", then they should have no problems hacking with Rails. [ci skip]
Add CHANGELOG for #18034 [ci skip]
Ruby will allocate the class as a side-effect, since it is already defined.
You need to specify the counter_cache option on the has_many side of the association when using a custom counter cache column. This is documented on the has_many association here: http://apidock.com/rails/ActiveRecord/Associations/ClassMethods/has_many [ci skip]
Remove misleading test: around_action return false
Minor typos/fixes to autoloading guide
Regression test for #18024
Revert "Re-enable capture'ing non-String values"
autoloading guide: applies some Strunk & White and hyperlinking [ci skip]
Adding method chaining section on ActiveRecord querying guide [ci skip]
Update constant_autoloading_and_reloading.md
Improve autoload_paths section
fix a typo [ci skip]
fix a typo [ci skip]
Already deprecated [ci skip]
autoloading guide: adds nesting rule for Kernel#load [ci skip]
autoloading guide: some rewordings [ci skip]
Don't convert empty arrays to nils when deep munging params
autoloading guide: more refinements [ci skip]
autoloading guide: more edits [ci skip]
autoloading guide: documents constant resolution algorithms
autoloading guide: damn typos [ci skip]
autoloading guide: documents nesting
autoloading guide: minor edits.
autoloading guide: Kernel#autoload -> Module#autoload [ci skip]
autoloading guide: new section about why Kernel#autoload is not involved [ci skip]
autoloading guide: relax type of constant names [ci skip]
autoloading guide, fix typo `Amin` -> `Admin`. [ci skip]
Add AM test: after/around callback returning false
Add AM test for after_validation returning false
Add test for `:skip_after_callbacks_if_terminated`
Add `null` option to timestamps as migration generator does [ci skip]
Use generic timestamp for generated migration file. [ci skip]
Rephrase this from 3f38762 [ci skip]
Edit pass to section 5.1 of getting started guide [ci skip]
new guide: constant autoloading and reloading
Re-enable capture'ing non-String values
allow URL helpers to work with optional scopes
ParameterFilter shouldn't try to dup symbol keys
Pass connection rather than alias_tracker
redis 3.2.0 doesn't allow tcp protocol anymore
Mention that Action Mailer methods are not deferred [ci skip]
Pass through the `prepend` option to `AS::Callback`
New applications should use sass-rails 5.0
Improving tips about installation in the guides [ci skip]
Rails master requires arel master
Align the GemfileEntry API with stable branches
English fix [ci skip]
Add AC::Parameters#to_unsafe_h
Make AC::Params.permit_all_parameters thread safe
Add test case for joined pluck
Improve the test case introduced by bd0d47e
Update guides with info about vendor/assets
Refactor `quoted_date`
Ensure append_info_to_payload is called even if an exception is raised.
Add class level case operator support for error dispatching in Rescuable
[ci skip] fix typo in MessageVerifier#verify docs
Adding information about 'allow_nil' option for 'numericality' [ci skip]
Add guides for `required` model generator option.
Adding a tip in the guides about possible database permission problems on loading fixtures to the database.
Unused csv fixture file
Update test case for TZ aware attributes
Allow custom handling of non-standard types in `time_zone_conversion`
Remove unused "Developer" fixtures from tests
Add foreign_type option for polymorphic has_one and has_many.
Don't error when `attributes` is called on a frozen AR model
Revert to 4.1 behavior for casting PG arrays
Only check that it is a Rails application once
add brackets around attribute_name
Add note to Store about uniqueness validation (#17954) [skip ci]
Make error message clearer that :on requires a symbol, not a string
minor sentences fixes
Test coverage for ActiveJob generator
[ci skip] add `enable_extension` to PostgreSQL hstore example
Mounted Rack apps should have default named routes based on app name
[ci skip] update rails version to 3.2.21
Add `force: true` to tables created in PG tests
Correctly respect subtypes for PG arrays and ranges
Use latest web-console when using --dev or --edge
Include missing require
remove unused `#optional_parts`
remove unused `#generalized_table`
Better doc for AS::DateTime#seconds_since_midnight
Typo: Hello = Guten Tag (in German)
Add Guides note to change cache name space as Entry data is incompatible between 3.2 and 4.0
Inline to_global_id conversion
Correctly handle multiple attribute method prefix/suffixes which match
Use try instead of checking for GlobalID::Identification
Remove deprecated behavior allowing nested arrays as query values
Remove environment dependency for db:schema:load
Deprecate `Class` handler in `PredicateBuilder`
Add docs for AS::TimeWithZone + and -
We don't need to call to_sym. Just compare the string
ðŸ’£
Add documentation to six AS::TimeWithZone methods
Copy-edit the MessageVerifier documentation [ci skip]
Quoted nodes respond to `nil?` in the same way as `Casted` nodes
Quoted nodes respond to the same method as Casted nodes
remove unused #await_close
remove misleading class [ci skip]
docs, bring back `ActiveRecord::Core` methods in the API. [ci skip]
Remove "rescue" clause around "require 'openssl'"
Add documentation to MessageVerifier
Prevent Symbol GC
Clarify that batching methods can be used with any orderable type primary key, not just integer ones, as per @a58cafeb3a86be46849de57481b6644094fb8165
Active Record changelog needs to keep pointing at 4-2-stable. #17651
docs, add new changelog entries at the top :sweat: [ci skip] #17651
Move PredicateBuilder instantiation to constructor
Failure to rollback t.timestamps when within a change_table migration
document that `.delete` does work on `#readonly?` records. Closes #11860
fixing mailer previews for apps with globbing route
skip test to get `sqlite3_mem` suite passing.
[ci skip] remove references to `Numeric#from_now`
Removed use of mocha in the info_controller tests
remove useless methods
Require missing association in test
Don't re-quote nodes which are already quoted
require 'rake' before requiring Rake tasks
Refactor `build_from_hash` to convert dot notation to hash first
Action View is needed for DebugExceptions
Clarify change to process helpers [ci skip]
Refactor `PredicateBuilder` from singleton to instance
Add some FIXME notes about documentation [ci skip]
Allow to unscope where conditions using `arel_table` with Symbol
Prefer object/nil over `true`/`false`
Refactor debug view Avoid logic in ERB and use helpers
Allow failures for mysql adapter tests
no need to pass native_database_types around
pg tests, get rid of global schema `schema_1`.
pg tests, move uniqueness validation test to array tests.
Silence Minitest for plugin tests.
tests, extract pg number tests into separate file.
tests, move schema shorthand assertions into pg specific tests.
tests, move pg geometric tests out of `base_test`.
Remove unused AV/test/fixtures/scope
Remove unused AV/test/fixtures/happy_path
Add `#verified` and `#valid_message?` to MessageVerifier
Remove one AV fixture (duplicate of an AP fixture)
Remove unused AV/test/fixtures/blog_public
ugh, forgot to add this test to cdd90f39d796986dabf1678b3277b230dbe18961
Bugfix config.action_view.default_form_builder option
Only filter GIDable objects; remove cosmetic changes
tests, favor public API over inspecting columns where possible.
Restore query cache on rollback
tests, run numeric default tests for every adapter.
tests, use public API to verify default parsing. #17863, #17856
Ensure numericality validations work with mutation
Pretty-print request params on exception page
FIX: absolute_path may be nil for code added via instance_eval
[ci skip] fix description of url_for
Update Arel usage for rails/arel#98fc259
Remove `engine` from `TreeManager` and subclasses
Use arel master
Remove engine from the constructor arguments `Arel::Table`
Stop using `Arel::Table.engine`
Bump ruby version to 2.1.0 in rails.gemspec too.
Pure rack apps can be mounted with a name
Pass symbol as an argument instead of a block
adds missing period in test.rb [ci skip]
Bump required Ruby version to 2.1.0
Hide potentially sensitive ActiveJob params from logs
Remove a reference to Ruby 1.9 in Guides
[ci skip] fix class name
make OR in journey patterns compile to a valid regular expression
Allow failures with Active Job integration tests
Allow failures with Active Job
Prevent Numeric#to_s from allocating an array
fixed indent of end in jdom.rb
Use jquery-rails master to resolve dependencies
Remove custom errors page section from the guides
We don't need to use sass-rails 5.0.0.beta
Start Rails 5 development :tada:
4.2 release notes pass [skip ci]
Adds preloaded_records method to NullPreloader
Removed ecosystem link from the header of the guides pages
docs, AR no longer makes use of `test:prepare`. [ci skip]
Rename to `quote_default_expression` from `quote_value`
Refactor `add_column_options!`, to move the quoting of default value for :uuid in `quote_value`.
release notes: edit pass [ci skip]
release notes: iteration over the description of Global ID [ci skip]
Bump to rack 1.6.0.beta2
Revert "Test against rack master"
[ci skip] Remove outdate note of :dependent
Follow-up to e2cce6c
Update the StatementCache documentation
Action Mailer change log pass
StatementCache is private API
updates some pointers in the guides welcome section [ci skip]
Refactor `SchemaCreation#visit_AddColumn`
rails -> bin/rails in index.html
removes double mention of deliver_now
edits in the release notes for 4.2
Don't remove mailer layouts files
pass over the release notes
Remove deprecated method "Table#primary_key"
allow 'all' for :domain option in addition to :all
remove extra space before 'ORDER BY'
Test against rack master
various error classes: added newlines & removed :nodoc: flag from public attribute.
Add #record attribute to RecordNotFound and RecordDestroyed exceptions.
Provide support for SQL Server connections with dbconsole using sqsh
Refactor nested if
Use absolute_path of caller_locations to infer engine root
Active Record change log pass [skip ci]
Remove extra empty line
:scissors:
getting the location of the server
Clarify where result goes, and supported formats of generate task.
Use jquery-rails 4.0.0
Use web_console 2.0 for 4.2.0.rc1 release
Generators add foreign keys on references
Use released arel
Rake is a development dependecy
Prepare for 6.0.0
Only include the lib folder in the gem
Use released rails-dom-testing
Move PG float quoting to the correct location
Local vars should exist in partials for falsy `:object:` values too
Remove Web Console /console references in the guides
Setting an association replaces records with the same id in memory
CSS fix for the router visualizer
bring back `db:test:prepare`.
do not trigger AR lazy load hook before initializers ran.
tests, run `test_test.rb` with `RAILS_ENV=test`.
Rearrange release notes by importance [ci skip]
:scissors: WIP labels [ci skip]
Prepare for RC: un-wip release notes [ci skip]
We shouldn't be linking to edgeapi [ci skip]
Prepare for RC: link to the 4-2-stable [ci skip]
Cross link to upgrade guide [ci skip]
Add regression test case to ensure script_name as nil is not used anymore in url_for
sets script_name to always be a string.
Final sync with CHANGELOGs [ci skip]
:scissors: TODO
The default hasn't changed, so this is not an incompatibility [ci skip]
Simplify section on adequate record [ci skip]
Added tests for log_level deprecation
Set the test_order in the basic app as well, see 58e8b48
Set the default log_level to info in all tests
Mention log_level deprecation in upgrade guides [ci skip]
be more general with adapter name
let the AM test suite pass in 1.9
Add release note for #17743 [ci skip]
Add Release Note for #16622 [ci skip]
Always default the log_level to :info for Railties
Add perform_enqueued_jobs
Changelog format
Deprecate string options in URL helpers
Update docs to reflect changes to MailerGenerator.
Add missing CHANGELOG entry.
Generate mailer layouts even if no action is given.
MailerGenerator should inherit from Base.
Add tests which were incorrectly removed.
Add a CHANGELOG entry for #16622 and a6de6f5 [ci skip]
Combine aliased_table_for and aliased_name_for
let mailer templates generate URLs by default [Xavier Noria, Richard Schneeman]
allow types to be passed in for USING casts
oops, forgot to add the real assertion!
allow the "USING" statement to be specified on change column calls
Document `String#html_safe` [ci skip]
Don't center the routes table on routing errors
Show source view and backtrace on missing template errors
Mark comments that should not be in the docs
Add `.reflections` change to release note [skip ci]
Ensure the type map's cache is thread safe
Change 'of plugins' syntax
Reword documentation for update_all
cleanup, remove trailing whitespace [ci skip]
Replace ActionDispatch::Head with Rack::Head.
Removing unnecessary File.join calls
Grammar pass on Web Console release note [ci skip]
Clarify what is being serialized and when it will be deserialized
Do not rescue Exception in ParamsParser
Add a test for reflection keys as Strings, fixes #16928
adding nodoc to private methods
Adding simple docs for ActionDispatch::Flash::FlashHash#to_session_value
Don't show the warning if we're already raising the error anyway
Deprecate `use_route` in controller tests
Deprecate passing an invalid name to `Formatter#generate`
Correct example in the engines testing guide [ci skip]
Test using `ActionController::TestCase` with engines
Specified beta branch for web-console gem
[ci skip] Dispatching is a verb :bow:
Update reflections public API doc
Add changelog entry for .reflections API change
Anchor should not be appended when set to nil/false.
Rename the primary key index when renaming a table in pg
Remove outdated comments [ci skip]
[ci skip] correct example output and filename in pg guide
ConnectionAdapter#substitute_at is technically public API...
Move test that depends on ActiveRecord
Creates an ApplicationMailer and layout by default, including html and body tags to reduce spam score
Move 'the' outside of SQLite and Bundler link text [ci skip]
make it possible to access fixtures excluded by a `default_scope`.
Update grammar in Getting Started Guide [ci skip]
ignore all logfiles but keep the log directory. #17700 [ci skip]
if you want to ignore all the logfiles, no need for extensions
Remove is_a? check when ignoring tables
raise a better exception for renaming long indexes
Wrap code snippets in +, not backticks, in sdoc
Wrap code snippets in +, not backticks, in sdoc
_will_change! method is not needed any more [ci skip]
Add `:enforce_utf8` option to form_for
Document *all* the options accepted by form_for
Use request method instead of ActionDispatch::Request#request_method instead of ActionDispatch::Request#method to pick up overrides by the middleware
[CI SKIP] Improvements to Active Job guide.
synchronize code and docs for `timestamps` and `add_timestamps`.
Support Oracle bind parameter value
Explain that default_scope also influences update_all
PERF: avoid string allocations
Some valid block calls in templates caused syntax errors
Reintroduce cache with tests
Add tests for `TypeMap#fetch` and push up to `TypeMap`
Remove bullet point to unwritten/unreferenced section
That last test was incorrect... â˜•
Revert "PERF: optimise type lookup to avoid invoking procs"
Introduce test to demonstrate regression caused by da99a2a2
Add space in :start_year description for date_select
Support symbol foreign key to delete
Duplicated Hash key :prompt
Use class objects rather than strings for the dispatch cache
Improve the performance of reading attributes
pull the preloader allocation in to a factory method
Speed up integer casting from DB
Make sure assert_select can assert body tag
Remove needless call to `key?` when building attributes
LazyAttributeHash is private
Remove call to `key?` in `LazyAttributeHash#[]`
Ruby on Rails 3.0 Release Notes: fix broken link
fixed minor typos in RELEASE doc [ci skip]
PERF: stop allocating the string "id" over and over
Revert "[PERF] Speed up integer type casting from DB"
:nail_care: Put escape clause first, keeps @sgrif happy :grin:
[PERF] Speed up integer type casting from DB
Remove the unused second argument to `substitute_at`
rm `reorder_bind_params`
Force table creation in tests
Add order to BindParams in the ToSql collector
Generate new applications with the right rails-dom-testing version
Use GitHub, not my local fork :sweat_smile:
document_root_element need to be public
Improve the performance of quoting table names on PG
Add StackProf to the test group for 2.1
Remove pointless `private`
Meant to describe the concept, not the setting [ci skip]
Deprecate different default for `log_level` in production
Minor English fixes in docs [ci skip]
PERF: optimise type lookup to avoid invoking procs
Skip spring install in Cygwin due to fork() bad support.
Don't double check trace origin in  ExceptionWrapper#traces
Don't show full trace on routing errors
Rename #source_extract to #source_extracts in ExceptionWrapper
add Nokogiri to docs generation guides
[CI SKIP] Missing space.
Don't let #{application,framework,full}_trace be nil
Update to Unicode 7.0.0
[ci skip] add "Qu" to Backends Features list
Don't freeze the same hash we use for memoization
Allow `LazyAttributeHash` to be marshalled
Correctly determine if an attribute is uninitialized
Reduce the amount of work performed when instantiating AR models
Revert "Improve performance of AR object instantiation"
Simplify and fix grammar
Use `DelegateClass` instead of `SimpleDelegator` for type decorators
Build fix when running in isolation
[CI SKIP] Corrections to testing guide.
[ci skip] Remove deprecated testing tasks
exec_prepared is GVL friendly, so lets use it.
Add basic tests for ActionDispatch::ExceptionWrapper
[ci skip] Improve upon testing tasks guide
[ci skip] Capybara added to other testing approaches
[ci skip] Add one more example to routing testing, and highlight association name keywords
Allow habtm class_name option to be consistent with other associations
Abstract encoding strategy for ActiveSupport::MessageVerifier
Improve railties changelog entry and move latest to the top [ci skip]
Follow the coding conventions
Replace "behaviour" with "behavior"
Make FlashHash#key? work with symbol and string
Simplify rake test vs rake test:all
Remove unnecessary double space
:scissors:
No need to sync config.secret_token and secrets.secret_token
dependencies.rb: keep the decorated #load and #require private [closes #17553]
remove never called method `limited_update_conditions`
add a Table#name accessor like TableDefinition#name
tiny code improvement in sqlite3 adapter:   - remove unused method `supports_add_column?`   - change additional restriction method to `valid_alter_table_type?`   - fix code style
cache the dispatch table on the depth first visitor
docs, minor changes in Active Job documentation. [ci skip]
Remove useless `only_path: true` in path helpers
Pass the route name explicitly
Revert the behavior of booleans in string columns to that of 4.1
added description for rails generators, and fixed sentence formation for active_support/notifications [ci skip]
Time includes DateAndTime::Zones acts_like(:time)
Documenting Rails::Info module [ci skip]
default scopes should break the cache on singulur_association.
default scopes should break the cache on has_many.
Guides: Corrected name for assigns key [ci skip]
pg tests, get rid of `sql_types_test.rb`.
pg tests, only execute what's necessary.
remove the last traces of OpenBase from our codebase. [ci skip]
docs, the abstract data type `:timestamp` was removed. See #15184 [ci skip]
[ci skip] modify default host in command line guide
Print out a meaningful error when ActiveRecord::ReadOnlyRecord is raised
[Enh] Changed the visibility of the ActiveModel::Dirty#clear_attribute_changes method
added example of hash#except, and removed extra whitespaces [ci skip]
tests, remove unneeded requires.
tests, use SchemaDumpingHelper to dump a specific table.
docs, synchronize 4.2. release notes. [ci skip]
added example of squish!, remove, test case for multiple occurrence of pattern removal
Replace Html with HTML [ci skip]
Remove redundancy
Removed documentation that still mentioned using respond_with in place of respond_to. respond_with was moved into the responders gem and deprecated inside rails, so there is no need to mention it within rails itself.
Remove unneccesary default parameters
Improve performance of AR object instantiation
Remove session to allow `with_routing` to be called twice.
Add test/jobs files in `rake stats`
Update `bin/rake about` [ci skip]
Add skip-turbolinks entry to 4.2 release notes and improve changelog
tests, add note about the usage of a specific timezone. Closes #17448.
Remove skip-gems from 4-2 release notes
Removed the unused require of proxy_object and test related to it
[ci skip] fix `config.assets.digest` default value
Using the real resolver pattern in docs
oops! that should not have been checked in
add lib to $LOAD_PATH on application inhertence. fixes #17106
activerecord: rake db:create shows underlying error message.
add a test for #17106
Mention that articles resource should be added by user in getting started guide
Added SchemaDumper support for tables with jsonb columns.
fix typo [ci skip]
update rails version for earlier releases in edgeguides
fixed  typo [ci skip]
added example for hash slice method [ci skip]
Correct fixed-width doc syntax, thanks to @sikachu for pointing it out!
Document included ability of AJ::QueueName module for class methods [ci skip]
Add documentation of AJ::QueueAdapter class methods module [ci skip]
Document AJ::Execution class methods module [ci skip]
Document the module which includes `perform_later` for AJ::Enqueuing [ci skip]
Add documentation for class methods module included for AJ::Core used for serialization and deserialization of jobs. [ci skip]
Document the class methods include module for AJ::Callbacks [ci skip]
Correct test description for large integer test
Remove redundant `to_s` in interpolation
Remove unneeded autoload
Change `rails` to `bin/rails` in getting started, fix #1748 [ci skip]
Move DebugExceptions#traces_from_wrapper to ExceptionWrapper
Delegate comparison operator to value
minor docs change [ci skip]
`secret_token` is now saved in `Rails.application.secrets.secret_token`
Avoid unnecessary allocations/calls
Add comment to point out String#[] is intentional
Revert "Replace String index juggling with Pathname goodness in db:fixtures:load"
Add an `assert_deprecated` for `sanitize_sql_hash_for_conditions`
Handle `RangeError` from casting in `find_by` and `find_by!` on Relation
Revert deprecation of `sanitize_sql_hash_for_assignment`
Deprecate `sanitize_sql_hash_` methods on ActiveRecord
Pass the `SelectManager`, rather than the AST when querying w/ Relation
Look for `Enumerable` rather than `Array` in predicates
Add a section about job testing [ci skip]
Tiny documentation styling fixes [ci skip]
Don't duplicate predicate building logic in Relation finders
Add a test case for range type casting
Use a bound parameter for the "id = " portion of update statements
Call gsub with a Regexp instead of a String for better performance
Correctly cast calculation results on PG
Add link to API Documentation Guidelines
[ci skip] `Relation#bind` is not public API
Use bind values for joined tables in where statements
Revert "development.rb should mention available log levels"
Don't needlessly alphabetize columns for insert/update
Remove redundant require of file
Tiny documentation fixes and styling improvements
add missing space.[ci skip]
development.rb should mention available log levels
- Remove unused duplicated method `add_column_position` from AbstractMysqlAdapter
placed description at correct place [ci skip]
remove unused and untested API
fix set_pk_sequence and add a test for it.
Added region sequencing of primary keys for Postgres.
Remove redundant substitute index when constructing bind values
added punctuations, and role of queue_adapter module [ci skip]
Don't attempt to load the schema file in tests if none exists
Don't modify the columns hash to set defaults from the attributes API
Load test schema even if there are no migrations
- Changed redundant user of `deliver` to `deliver_now` - Wrapped text in setting defaults section. Also added break, to a sentence. [ci skip]
Use the correct values for int max and min
Tiny documentation improvements [ci skip]
Improve test of private properties of objects in form tags
Use public_send for form tags
Honor public/private in ActionView::Helpers::Tags::Base#value
Treat strings greater than int max value as out of range
Add masked authenticity token section, details on finder options, misc typos [ci skip]
Rename `default_attributes` to `_default_attributes`
Don't require calculations to be aliased to a column
Do not package the guides output
[ci skip] fix incorrect key in Active Support Instrumentation guide
Prepare for 4.2.0.beta4 release
Use released arel
Bump to 6.0.0.beta2
Update the Gemfile
hoe is not the dependecy anymore
Stop using hoe to release the gem
Add status code to AS::Instrumentation table, like #17441 [ci skip]
Add :db_runtime to table [ci skip]
Remove redundant `to_s` in interpolation
Use `#between`, rather than `#in` for passing Ranges to Arel
Add specs for adding-to/clear has_many collectionsâ€™s behavior on `updated_at`
add bigserial pk support
Remove redundant `to_s` in interpolation
correct GlobalID mixin name in the guides
Do gsub with a regexp instead of a string
On larger screens the email preview iframe is being limited to a height of 800 pixels, and the full available screen size is not being used.
better example for tokenizer lambda [ci skip]
Rely on through table name in has_many fixtures
fix MySQL enum type lookup with values matching another type. Closes #17402.
Added 'tzinfo-data' if we are using jruby
:nodoc: for abstract_mysql_adapter
edit pass over all warnings
Add mysql and pg specific attributes to Column#== and hash
ðŸ’£
Implement hash equality on column
Implement #== for column
let's warn with heredocs
Remove unneccessary default values from relation merger
Call value methods when merging relations, rather than accessing keys
Typos in the deprecation message
Mention only_path deprecation in release notes [ci skip]
Deprecate the `only_path` option on `*_path` helpers.
Skip an error message related assertion on Rubinius
Optimize TimeWithZoneTest#strftime
Dry up building quoted nodes in predication
UrlGenerationError are not catched as 404 anymore
Allow Relation#rewhere to work with infinite range values
Added queue_name_delimiter attribute.
Add back --skip-turbolinks and remove --skip-gems
Making the actionmailer docs more explicit to understand [ci skip]
Prefix internal method with _
Add CHANGELOG entry for #17064
Use new hash syntax
:scissors:
Make `String#remove` and `String#remove!` accept multiple arguments
Clarify comments about sanitized_allowed_tags
[ci skip] Add highlight to code (form helper guide).
[ci skip] No need to indent here (AC overview).
[ci skip] Add missing blank line to AR validation.
Deprecate passing ranges to `#in` and `#not_in`
Refactor `#in` and `#not_in`
ðŸ’£
give a better error message for misspelled helpers
fixes circularity check in dependencies
instance_eval is evil
Reduce object allocation
Reduce object allocation
Avoid creating range objects (take II)
The code was not up-to-date
Avoid creating unneeded Hash instance and calling slow Hash#fetch
Revert a change made to the example in 1ac4525
Use type column first in multi-column indexes
Include return value in examples added in #17378 [ci skip]
Improved try documentation [ci skip]
AR Migrations Guide#Foreign Keys: fix wrong table
Improve test coverage for `#in` and `#not_in`
`#not_in` with a range should respect proper precedence
Binary nodes should not generate the same hash as nodes of other classes
- Added test for verifying proper sql generated by minimum aggregate method.
DRY up try/try!
Completes 08e6491 in reusing `maybe_visit`
Reuse `maybe_visit` method
Raises ArgumentError when try to define a scope without a callable
`Expresssions` => `Expressions` [ci skip]
Reword documentation for `uncountable` [ci skip]
Use AS secure_compare for CSRF token comparison
Use AS secure_compare in AS::MessageVerifier
Add AS::SecurityUtils.secure_compare for constant time string comparison
Show the userâ€™s application in the source window and select the correct trace list, closes #17312
Update CHANGELOG and release notes for e98f2a7
Bring try! into parity with try.
copy reflection_scopesâ€™s unscoped value when building scope for preloading, fixes #11036
:nail_care: fix typos in activejob queuing test
If Rails is not defined, check ENV["RAILS_ENV"] and ENV["RACK_ENV"].
fix small typo in routing test
fix url generation error message
Oops, missed a closing bracket [ci skip]
[ci skip] Provide more reasoning to not accept cosmetic changes
- Inline AJ around_perform and  around_enqueue in CallbackJob used for tests.
- Changed description for AJ enqueuing methods to provide a sane description.
Remove duplicate 'select' database statement
- Remove duplication in AJ logging test for setting logger. - Remove un-needed require in AJ rescue test.
No need to specify log level, run at log level as all other Rails components.
docs, It's "Active Job" not "Active job". [ci skip]
AR::UnknownAttributeError should include the class name of a record
Mention `perform_now` in AJ base docs to specify how to immediately invoke a job.    [ci skip]
[ci skip] Make merge method nodoc
[ci skip] merge docs
remove duplicate method (_status_code) in action_dispatch
- Removed unused variable warnings from ActiveJob Adapters
Enable emitting of warnings from ActiveJob tests.
Make _status_code methods nodoc
fix wrong #17318 [ci skip]
make guides example more friendly to nonlatin langs
:nail_care: it's -> its (see comments on 9a586ac)
[ci skip] add :queue option to deliver_later and deliver_later! documentation
[ci skip] A Rails engine is not a man :ok_woman:
Revert "Replace (slower) block.call with (faster) yield"
[ci skip] Add a note about headers overwriting
[ci skip] Add Doc of with_options for the case when inherited default options and original options have same keys
Replace (slower) block.call with (faster) yield
Replace (slower) block.call with (faster) yield
Add necessary 'require reverse_merge' to HAWI.rb
Use include_blank value as option label
Add a deprecation warning for abiguous boolean values
Improve the warning a bit [ci skip]
Clarify wording in Rails HTML Sanitizer section
Use released rails-dom-testing
test, `Generators::GeneratedAttribute` with references, required, index.
mention the :without option [ci skip]
test, better describe `SerializationTypeMismatch` behavior. refs #14716.
pg, test assigning non-array values to an array column. Closes #14716.
docs, since #16702 we detect mutation on serialized attributes. [ci skip]
[ci skip] add AC::InvalidCrossOriginRequest to list of rescue_responses default
some changelog formatting. [ci skip]
remove unneeded file
use require_command! instead of calling its definition
clarify debugger platform invocation
we don't need a HWIA and a hash allocated for just one k/v pair
just look up the primary key from the columns hash
AR::UnknownAttributeError should include the class name of a record
add table.bigint support
Use if/else instead of early raise
Remove duplicate stringify_keys in text_field_tag
specify protocol for external links
Raise an error for has_one associations which try to go :through a polymorphic association [#17263]
Remove broken http://tore.darell.no link
Link to ActiveModelâ€™s README in "Welcome to Rails"
Add ActiveJob to "Welcome to Rails" section
delete leftover JoinOperation struct
Make the config actually copyable
:scissors: duplicated `require`s
make sure cache is not used for collection assocations too
break cache if we're inside a "scoping" call. fixes #17052
Use `#tr` instead of `#gsub`
Improve Journey compliance to RFC 3986
Add #key? to ActiveModel::Errors
Clarify `#update_all` doc about value processing
Remove duplicate error message "Couldn't find..."
measure record instantiation time in AS::Notifications
Always use latest turbolinks
Don't need to account turbolinks cookies in get request.
add length to ActiveRecord::Result
Autosave callbacks shouldn't be `after_save`
line_statistics is not an executable
Make a note about the internal tools/ dir and what each utility does
Do not use deprecated `exists?` method
Document the propose of tools/profile
remove unused tools/profile
fix test_helper for mountable plugin
Start running railties builds first, since they take the longest finish
Replace Array#shuffle.first with Array#sample
Replace Enumerable#reverse.each with Enumerable#reverse_each
Default generated Gemfile to coffee-rails ~> 4.1.0
Add regression test for router was overwriting PATH_INFO
FileHandler should not be called for files outside the root
atomic_write rescue also Errno::EACCES
tests, move `original_` var assignments outside of `begin`.
ActiveJob: allow blank queue names
Allow authentication header to not have to specify 'token=' key.
Request#check_method no longer breaks when :en is not available locale
[ci skip] removing ruby-i18n.org/wiki link that is not available and using â€œgemsâ€ instead of plugins
Don't pass retry option to Sidekiq
Point to a specific version of guide to make the redirect work
Warning about middleware not auto-reloading
update error message when InlineAdapter is used
Only include the needed assertions
fix tests on action_mailer
remove un-needed sort
Rephrasing sentences
speed up fixtures by not loading all their classes
update queue_classic details
Change `gsub` to `tr` where possible
unify PG spelling in CHANGELOGs. [ci skip]
fix autoload tests
Edits to ActiveModel guide [ci skip]
Add Active Model to guides [ci skip]
[ci skip] Clarify deletion strategies for collection proxies
doc added for `writer` method in `alias_method_chain`[ci skip]
Clarify possible validations you can use to avoid a NULL boolean value in the database. Closes #16304 [ci skip]
:heart: 1.9
fix typo in in define_model_callbacks comment [ci skip]
add notes for `define_model_callbacks` [ci skip]
define hash on duration
minor fixes in the configuring guide [ci skip]
[ci skip] add `test:jobs` task to testing guide
Use #tr instead of #gsub where possible
Disallow appended newlines when parsing as integer
Add documentation on Active Job.
fix mistype in doc about \z regexp
do not generate blank options in mailTo when mail_to generate blank options for any passed options(cc, bcc, body, subject) then MICROSOFT OUTLOOK treats it differently and set wrong values in different options.
Rename default_form_builder to avoid collision
use tr instead of gsub when possible
In render file, by default the current layout is rendered always
Generate the application pointing to rails-dom-testing master
Update single table inheritance link anchor
Refactor callback setup in to use lambda instead of eval
Added processing of `nil` to `highlight` helper method
Remove RUNNING UNIT TESTS from ActionPack
Responder was removed at ee77770d57de9da87b05a2fe84b9d46ec6852c62
fixes typo in AS CHANGELOG [ci skip]
Parse HTML as document fragment.
Use Hash#each_key instead of Hash#keys.each
Remove defunct ivars
Isolate access to @associations_cache and @aggregations cache to the Associations and Aggregations modules, respectively.
Reduce allocations when running AR callbacks.
technical correction in guides under 'Generating an engine'
correct filename for jobs tests
Follow up to #16613
Tiny follow-up to #16999 [ci skip]
Make AJ integration tests much less verbose
some object allocation reduction for new AR objects
[ci skip] fix typo in set examples
Move object allocation out of loop
Add documentation about `config.action_dispatch.rescue_responses`
Preparing for 4.2.0.beta2 release
Donâ€™t require already required modules
move cache_digests rake methods into their own namespace
Add +variants to ActionView::FileSystemResolver documentation.
remove extra # in css
[ci skip] Remove reference to config.threadsafe! in guides/configuriing.md
{Matches,DoesNotMatch} support the ESCAPE clause
No need CHANGLOG entry for a bug in a non released version
Keep the original implementation to not having to allocate new objects
No need to install the deprecated_sanitizer gem
rails-html-sanitizer is now the default
Remove unused code
:nail_care: the CSS
Use released rails-html-sanitizer and rails-deprecated_sanitizer
Improve welcome page css and table cell aignments.
Remove internal options from query string of paths
Use release web-console
Use released rails-dom-testing
[ci skip] Add Doc of with_options for the case when inherited default options and original options have same keys
Remove --skip-action-view option from application generator
Explicit route test class
[CI SKIP] Improve force push note.
added primary_key option documentation for belongs_to association
Added note about updating pull requests by force push
Added test for exception message for validate method
ar/connection_pool: honor overriden rack.test in middleware
Update changelog with tenderlove's entry
add message to `assert` in `assert_enqueued_with`
add a truncate method to the connection
Clarify the documentation of the primary_key option for associations
move the dispatch table to be per-instance
connections should cache these values, so remove the cache in arel
fix fixtures not loading if a belongs_to association is defined with a :foreign_key option that's a symbol
Move the array to a constant
CHANGELOG for 07635a7
Simplify `find_by_statement_cache` interaction down to a class-level ivar with a single accessor `cached_find_by_statement`.
Added RDoc for each Active Job adapter
Allow attaching files while the mail view is rendered
Remove wrapping <div> in form helpers from doc
Wrap it up! :trollface: [ci skip]
Wrap Adequate Record release notes at 80 chars [ci skip]
Document that the default for `rails server -b` has changed
[ci skip] modify the description of production log level default
Update error message for validate method
ActiveRecord CHANGELOG improvements [skip ci]
Skip isolated tests for PRs
No need to call to_sym here
Quick fix to address the borken build caused by #15791
[ci skip] Reword a comment in concern's documentation
Standardize on `Rails.application` [ci skip]
[ci skip] ActionRecord CHANGELOG docs fixes
 Updated comment about features of fixtures
Delegation works with reserved words passed to `:to`
inject Rack::Lock if config.eager_load is false
Cleaner queuing of jobs using Delayed Job
Use #inject over #sum to build PG create DB statement
[ci skip] ActionView and ActionMailer CHANGELOG docs fixes
[ci skip] ActiveModel CHANGELOG docs fixes
Grammar correction in ActiveSupport CHANGELOG [ci skip]
[ci skip] ActiveSupport CHANGELOG fixes 1. spacing issues 2. spelling correction 3. grammar correction 4. Add missing docs
[ci skip] AJ docs fixes 1. Indentation 2. Spaces issues 3. Spelling correction 4. Grammar correction 5. Add #:nodoc: to all internal classes
Use has_attribute?
Allow YAML serialization when using TZ aware attributes
OMG mysql!
ruby-head should be green
do not dump foreign keys for ignored tables.
unify wording in Active Record CHANGELOG. [ci skip]
pg, correctly dump foreign keys targeting tables in a different schema.
Specify dummy app's db migrate path in plugin's test_helper.rb
Informix versions < 10 use 'FIRST' keyword instead of 'LIMIT' Still supported in versions 10+
Consistently markup etag options.
Consistently capitalize ETag.
Improve environment config templates consistency:
[guides] 4.2 release notes: added technical details for Adequate Record
Backwards compat for activerecord-deprecated_finders
Remove unused @alias, being referenced in hashing.
Build on ruby-head
Added Responders docs, made Web Console docs more consistent. [ci skip]
Wrap group_by sql with a subquery for limiting rows in Oracle.
Make explicit 4.1 is being maintained by a special situation
Don't autosave unchanged has_one through records
As of Unicode 6.3, Mongolian Vowel Separator is not whitespace
add implementation of respond_to? for ActiveSupport::Duration
Add `test:jobs` task
handle <%== nil %> cases
simplify test_adapter
Tighten up AJ::Arguments and its tests
Pare down and simplify Active Job's rake tasks
Stop nil checking on safe_append=
Use dynamic path for dummy app location in plugin's test_helper.rb
Singular credit_card controller name changed to plural
`Extract#as` should not mutate the receiver
Rescue Rack::Utils::ParameterTypeError instead of TypeError
Time#change can now change nanoseconds (:nsec)
form_helpers: demonstrating there is also a collection_select method in form builder
use `allow_blank` option instead
Change ActiveJob test directory to "test/jobs"
Prepare maintenance policy for 4.2 release [ci skip]
Se the test order of activejob tests
Change gid calls to to_gid
Changes "if secret.nil?" to unless secret in MessageVerfier
Globalid was released
Use latest globalid
Remove version. No longer using Celluloid 0.16.
MessageVerifier raises an appropriate exception if the secret is nil
Revert "lock suckerpunch version to 1.1"
lock suckerpunch version to 1.1
[ci skip] #find_in_batches doesn't support :include option
Bump globalid version
Changes default render behavior from file to template.
pg, add test cases for updateable views.
reuse view test-cases for pg materialized view tests.
Changes puts to logger.info
Explain ERB space removal. [ci skip]
switch `assert_operator` arguments as discussed in #16860.
A `NullRelation` should represent nothing. Closes #15176.
Changed the DangerousAttributeError exception message to include messaging that the conflict could be because of a conflicting attribute.
Always define capture to remove the deprecation message
Define the configuration at Active Support
Set test order in ActiveSupport::TestCase of isolation/abstract_unit
Set the test order to be random in the generated app
Speed up schema dumper tests
Include default column limits in schema.rb
MySQL: schema.rb now includes TEXT and BLOB column limits.
MySQL: correct LONGTEXT and LONGBLOB limits from 2GB to their true 4GB
ActiveJob Integration Tests
Replace drop sql statement to drop_table method to drop sequences at the same time each tables dropped for Oracle
i18n guide: clarify interpolation rules in _html keys [ci skip]
[ci skip]Correct variables in the sample code
Tell the user which file is missing when config/database.yml was not found
[ci skip] application.rb -> development.rb in web-console docs
Removed any default margin from body.
Oracle does not support `IF EXISTS` for `DROP VIEW`.
models backed by views don't assume "id" columns are the primary key.
add test-cases for primary-key-less-views. Closes #16555.
introduce `connection.supports_views?` and basic view tests.
Allow included modules to override association methods.
[ci skip] change the line orientation on asset precompile page
Remove extra newline from ActiveJob test template
:scissors: "now" [ci skip]
Update upgrading guide about error handling in transactional callbacks
Remove extra 'has been' from deprecation warning about asserting selectors
Remove extra 'has been' from the deprecation message
Add docs for web-console to 4.2 Upgrade Guide [ci skip]
Do not memoize document_root_element in view tests
Default to sorting user's test cases for now
Removing unused fake models
Schema dumper: all connection adapters implement #primary_key, so rely on it exclusively
Prefer "if any?" to "unless empty?"
Convert string concatenations to substitutions
[guides] Use `match ..., via: :all` in the custom exceptions app [ci skip]
Ignore segfault build errors with 2.0.0 + mysql-ruby
Add support for Rack::ContentLength middelware
disable migrations logging while running test cases for AR schema tests
Dynamically modified schema and association would not be correctly reset
Deprecate implicit AD::Response splatting and Array conversion
fix the undefined method content_tag #15245 not required include ActionView::Helpers::TagHelper in test as well
Dependencies: bump to jquery-rails 4.0.0.beta2
Use the released jquery-rails gem
Add TODO to release the gems before the next Rails release
Remove CHANGELOG entry [ci skip]
Do not mark object as persisted after an association is saved
Added enable_extension! to helper
:scissors:
Add test to assert_recognizes with custom message
Message doesn't need to be optional
'Revert' ->active_record_migrations [ci skip]
world writable might be a bit too open...
For now, we will keep sorting the tests.
Freeze ADAPTER_NAME in adapters
correct rdoc [ci skip]
cover all cases of `For not` --> `Do not`, related to #16804
Move variable assignment within logging block.
Load :developers fixtures where expecting a Developer to be there
always reorder bind parameters. fixes #15920
:scissors: and from #16803 [ci skip]
Change "For not..." to "Do not...".
Time#change throws exception with an out-of-range :usec
Document that method objects are not `duplicable?`
Remove example file
Always add lambda to scope chain to eliminate branch in eval_scope
Follup to PR #16762
Enums shouldn't ruin people's anniversaries
build fix, we have to reset the RACK_ENV as well.
get rid of shadowing warning when running tests AR and railtie tests.
Rename remaining :in / :at to :wait / :wait_until
'Reversible' ->active_record_migrations [ci skip]
code gardening in ActionController::Renderers
Extract data/aria attribute prefixes to a constant
Add support for ARIA attributes in tags
Methods are not duplicable.
Active Job refactoring
extract updating all fixture cache to a method so we can lock later
Ship with rails-html-sanitizer instead.
copy edit AS core ext changes [ci skip]
schema loading rake tasks maintain database connection for current env.
[Active Job] Try to deserialize with GlobalID only strings and globalids
Reset ActiveRecord::SchemaDumper.ignore_tables value after changed in tests
Dont mess with default order engines load
Move column option handling to new_column_definition
use correct operator in query based on JSON document
Remove 'if exists' from drop table statement then use `table_exists?`
Add a quick straw-man Incompatibilities section
Shorten ActionView::Base doc summary line. [ci skip]
Clarify Rails uses erubis not stdlin ERB. [ci skip]
Remove '*' which doesn't work
Add and Remove string/strip require
[ActiveJob] TestCase (Will squash before merge)
Leave all our tests as order_dependent! for now
ActiveJob: Implemented enqueue_at for QueueClassic
[ActiveJob] TestCase
[ActiveJob] TestCase
remove trailing whitespace. [ci skip]
MySQL: skip GTID-unsafe statement tests when enforce_gtid_consistency is enabled
Move implementation to the gems
Add test to assert the right sanitizer vendor is being used
Break conditional branches into separate methods
Remove warning
Try with web-console master
Use jquery-rails master
Use `safe_constantize`.
Clear schema cache before each test
Clear schema cache before each test
Keep it closer to the original wording [ci skip]
Since /console is an optional feature, mention <%= console %> instead.
Allow polymorphic routes with nil when a route can still be drawn
Change specs to cover lt, lteq, gt and gteq.
Update caching_with_rails.md [ci skip]
Highlight Class/Module [ci skip]
Clean up grammar from #16752 [ci skip]
Add SelectManager#distinct_on to set/unset Arel::Nodes::DistinctOn quantifier
MySQL: set connection collation along with the charset
AR#reset_column_information sometimes queries via table_exists?
[ci skip] add line about text layout
[ActionMailer] Rename test/test_test to test/test_case_test
Refer to the library name instead of the constant
Bring back the test cases for `presence`
Forgot to set Migration.verbose at f8d9a51949d6f6cfcab7cc7d501e137836eb88dc :bomb:
reduce object allocations in utc_offset
We tenderized the wrong method! Object#try already had the yield option, just needed some tenderloving instance_eval to fit the bill
Clarify the origin of this great addition to Rails :trollface: :trollface :trollface:
Use instance_eval on @tenderlove's suggestion :trollface:
Update examples to show real worth
Added yield to Object#presence
Don't allow AR::Tasks::DatabaseTasks.migrate to mutate Migration.verbose value
Avoid skipping Sidekiq tests on Rubinius
Make test:isolated run without bundler for Action Mailer
Some documentation fixes [ci skip]
Don't test PostgreSQL implementation details
[ActiveJob] extract JobBuffer from helper
Don't rescue IPAddr::InvalidAddressError
2.2.14.5 Template Inheritance (new in guide, feature in since 3.1)
Reset ActiveRecord::Migration.message_count counter before start testing
Bring original puts back after finishing tests
Silence another test that runs migrations
MigrationTest doesn't need to be verbose anymore
No tests are dealing with ActiveRecord::Migration.message_count here anymore
Reset ActiveRecord::Migration.verbose to the value before
Demodulize ActiveRecord::MigratorTest
Avoid using heredoc for user warnings
No transaction for a test that creates fixtures in the test body
make it easy to copy & paste the config from deprecation warning.
User Model#last to certainly get lastly created data
Move model definition to test/models for test order indenendency
Move association definition to the model file
Be sure that test fixtures satisfy referential integrity before calculating
Expectations first
Reset RACK_ENV after modified in a test case
Rails.root should be a Pathname
No need to sort tests
Test everything
AP test files does no more need to be alphabetically sorted here
Ignore SCHEMA queries when asserting no queries
Reset schema properly after schema changing test
remove useless parameter
remove dead code
Add language directive to .travis.yml
Refactor out Dir.glob from ActionDispatch::Static
[ci skip] mention assert_select in release notes
[ci skip] Update 4_2_release notes
Correctly detect mutation on serialized columns mapping to binary
fix broken `gem` method with non-String arguments. Closes #16709.
minor changelog formatting changes.
Use less iterations for KeyGenerator in tests
[ci skip] Modify a web-console PR link
[ci skip] Updated documentation syntax of other parameter for rdoc
Adjusted punctuation and grammar for Form Helpers guide [ci skip]
[ci skip] Updated include to reference record parameter for rdoc
[ci skip] Updated documentation syntax of block parameter for rdoc
[ci skip] Updated documentation syntax of block parameter for rdoc
use self instead of #read_attribute
[ci skip] docs grammar
[ci skip] proper end to sentence
[ci skip] use NOTE instead of Note
Keep the first string we fetch
[ActiveJob] Autoload adapters
[ci skip] Added documentation for has_and_belongs_to_many extension parameter
Override #find_by! in core to enable AST caching
Added web links
Quick pass through the 4.2 release notes [ci skip]
Use ActiveSupport::Concern instead of the traditinal way
[ci skip] make assert messages consistent
[ci skip] use proper apostrophe
pg, `default_sequence_name` needs to return a string.
Speed up JRuby tests by improving its startup time
[ci skip] fix grammar in docs
[ActiveJob] Add activesupport as dependency [ci skip]
Don't ignore constraints in redirect routes
Address comments on Gzip implementation
[ci skip] docs can URL cache invalidation
[ci skip] docs CDN Cache-Control behavior
[ci skip] docs CDN header debugging
[ci skip] docs CDN caching behavior
[ci skip] docs asset_pipeline CDN set up
[ci skip] docs asset_pipeline#CDNs
[ci skip] wrap to 80 chars
treetop is no longer a mail (rails) dependency
Whoops, duplicated word [ci skip]
Some tweaks to the development set-up guide
Skip #eql? tests on Rubinius for AS::Duration
Follow-up to #16560
Grammer and spelling pass on web console release note. [CI SKIP]
[ci skip] Added documentation for has_many extension parameter
Describe web-console in the release notes [ci skip]
Raise ActiveJob::SerializationError when cannot serialize job arguments
show stats for app/jobs
code quotes for classname
CHANGELOG & improvements to #16649
Don't trim excess whitespace in pg #columns_for_distinct
[ci skip] document truncate_words
[ci skip ]Document transform_values && transform_values!
recount files quantity
Update documentation to match change in #5942 [ci skip]
Properly referencing AR::RecordNotFound in AJ guide rescuing example
Use zero-padding for number_to_rounded_converter
[ActiveJob] Add hook for test_framework and test templates
Remove erroneous form_tag option docs
Clarify that unknown keys will become HTML attrs
Use system /tmp when testing actionpack
Cache the value of `changed_attributes` when calling `changes_applied`
[ActionMailer] require activejob railtie
Don't calculate in-place changes twice
Roll back open transactions when the running thread is killed.
Active Job guide: Add info about queue_name prefix and clarity supporter features
Implemented enqueue_at for ActiveJob's Backburner adapter
just use the placeholder tag value if it is passed as a String
add I18n support for `:placeholder` HTML option is passed to form fields
Using `each_with_object` instead of `reduce`
Missing space. [CI SKIP]
Pass logging message through block.
add nested_model_forms to guides/documents.yaml [wip] [ci skip]
Follow up on #16408
[ci skip] Added documentation for has_and_belongs_to_many scope parameter
Revert "Add I18n support for `:placeholder` HTML option is passed to form fields"
fix grammar [ci skip]
fix server names [ci skip]
Replacing an each with reduce
Refactor ActionDispatch::RemoteIp
ActiveJob -> Active Job [ci skip]
applies API guidelines to new AM docs
Don't fight against ourselves for the default log level
Add change to ActionView Notable changes [ci skip]
[ci skip] Added documentation for has_one scope parameter
adding the exception RecordNotFound to UUID find
Guide fix. [CI SKIP]
Make text consistent in help text of rails server and console commands.
[ci skip] Clarify Action Mailer/Active Job usage note
Improve router test.
Avoid duplicating routes for HEAD requests.
Upgrade guide pass. [CI SKIP]
Change 'does' to 'do'
Added enqueue_at support for QueAdapter in ActiveJob
Enable gzip compression by default
"warning: assigned but unused variable"
Update configuring.md [ci skip]
Make the explicit the Active Job dependency of Action Mailer
Remove timestamp type from generator usage
[ci skip] add doc for STEP in migration
[ci skip] correct docs about the migration generation
[ci skip] Added documentation for has_many scope parameter
Same as f39cb2b except backport friendly
Same as f39cb2b except backport friendly
Point release notes to stable branch for list of commits. [ci skip]
[Rdoc] Make clear that we are sending an AR object [ci skip]
Require ActiveJob in case a skip_xxx option is given
Updated rdoc / guides / release notes related to ActiveJob / ActionMailer
Deprecated .deliver / .deliver! to .deliver_now / .deliver_now!
provide a builder for form labels to customize wrapping around I18n content
[ci skip] Format pass of Active Job Basics guide.
Revert "Do not gsub non ASCII characters in header anchor.".
Clear deliveries in order not to affect other tests
remove end-of-line spacing in development.rb, production.rb
Ignore Postgresql "SELECT tablename FROM pg_tables" when counting queries
Updated the deprecation warnings to 5.0
Add documentation intro to example for `Object#itself`.
Move as/test_test to as/test_case_test
[ci skip] "..enables interrorgating of [thing].." would be correct
Drop schema_migrations table only when exists
Only merge scopes with zero arity in has_many through
Remove global helpers from the ActionMailer test suite.
Preparing for 4.2.0.beta1 release
Extra space
Add `set_delivery_method` and `restore_delivery_method` to `ActionMailer::TestCase`.
Create a group to active job gems
Copy & paste fail [ci skip]
:nail_care: The note doesn't look good on the blue background [ci skip]
:bomb: oops, it should be 4.2 that's WIP [ci skip]
Some placeholders for the 4.2 upgrade guide [ci skip]
Clearly mark these as WIP, and invite people to contribute. [ci skip]
List the 4.2 release notes in the index, mark it as WIP [ci skip]
Major features in 4.2 release notes [ci skip]
Synced AR release notes [ci-skip]
Synced Active Support release notes [ci skip]
Use the released turbolinks gem
Point to right sass-rails version
Synced Active Model changelogs [ci skip]
Use web-console 2.0.0.beta2 on new apps
Require sprockets-rails 3.0.0.beta1
Revert "Improve custom configuration"
Auth token mask from breach-mitigation-rails gem
Require rack/utils
Mention web-console in 4.2 release notes
[ci skip] Added documentation for belongs_to scope parameter
We always get the value so no need to check nil or Hash
Move date and time requires to time_travel_test, also include 'abstract_unit'.
Add TODO note about the gems missing release
Remove git dependecies
Use released rails-html-sanitizer
Use released rails-deprecated_sanitizer
Bump ActiveJob's GlobalID dep to 0.2.3+ to fix Railties tests
loofah require dependecy is not needed anymore
Protect against error when parsing parameters with Bad Request
Move TimeHelperTest to TimeTravelTest from `as/test_test.rb`
Add default .raise_in_transactional_callbacks option to template
Add missing AS require
Improve custom configuration
minor copy editing [ci skip]
Skip adapter queue_classic for JRuby
Gem `queue_classic` does not support JRuby
"warning: assigned but unused variable"
use same idiom to define class method as in every other adapter.
4.2 Release Notes pass [skip ci]
http://gembundler.com/  =>  http://bundler.io/
[ci skip] config.active_record.errors_in_transactional_callbacks -> config.active_record.raise_in_transactional_callbacks
Removed unnecessary word
Sync Action Mailer release notes [ci skip]
Sync Action View release notes [ci skip]
Mention deprecation of assert_select and friends in the release notes [ci skip]
Add missing require
[ci skip] Update plugin doc with the latest rails
require 'test_help' -> require 'rails/test_help'
User `#to_hash` instead of calling `super`
Seperate Parameters accessors and mutators tests
Refactor code to reduce duplicate `self.class.new`
Add missing `Hash` methods to `AC::Parameters`
Make `AC::Params#to_h` return Hash with safe keys
Remove to_s from reflection.type in add_constraints
Point to unreleased deprecated_sanitizer
Removed warning
Deprecate TagAssertion instead of removing
Grammar pass
Add activejob guide to documents.yml [ci skip]
[ActiveJob] Add queue_name_prefix so all queue are prefixed . We can split queues on a per environement basis as well as seggregate per application so we can split queues on a per env basis
fix broken link [ci skip]
Rack is released too
Bump rack dependency
No need to point to arel and i18n master anymore
Add option to stop swallowing errors on callbacks.
Use the released beta of i18n
:nail_care: [ci skip]
Sync action pack release notes [ci skip]
Check attributes passed to create_with and where
Sync railties release notes [ci skip]
Define the Duration#instance_of? method
"warning: `*' interpreted as argument prefix"
Expectations first
Expectations first
No need to check model_name anymore
Use released arel
Prepare to 6.0.0.beta1
Deprecate NamedRouteCollection#helpers.
Use the release gems and point application gemfile to right loofah
Add CHANGELOG entry for #deliver_later
Dont encourage people to run without autoflush in production
[ActiveJob] require global_id/railtie
[ActiveJob] raise DeserializationError when got an error deserializing
[ActiveJob] Add deserialize_arguments method to job
[ActiveJob] Use globalid gem
[ActiveJob] make the resque-scheduler optional
[ActiveJob] remove ruby warnings
[ActiveJob] Convert ActiveJob::Arguments into module
[ActiveJob] require files in logging.rb
[ActionMailer] Rename ActionMailer::DelayedDeliveryJob to ActionMailer::DeliveryJob
Lock web-console to 2.0.0.beta1 for the first 4.2 beta
Use AS::JSON for (de)serializing cookies
Preload UnicodeDatabase outside the loop
format
`responders` 1.x won't do it. Told you to RTFM for details!
The gem is called 'responders'
Raise a more helpful error for people who are using these extracted features
Updating Associations::Preloader docs
Prepare for partial release.
Remove more references to respond_with
Remove usafe of respond_to in ActionView tests
Move respond_with to the responders gem
Allow usage of bundle local config for rack by specifying the branch
When your templates change, browser caches bust automatically.
Add a test case of nested empty array values in conditions
Don't expose these new APIs yet (added in 877ea78 / #16189)
Implement `_was` and `changes` for in-place mutations of AR attributes
[ci skip] re-worded section on CookieStore to make it more readable.
ActiveJob guides improvements [ci skip]
[ci skip] Update links in getting_started guide.
Avoid mutating the constants in a test case
Avoid polluting String class globally in a test case
Unused ivar in a test suite
Added docs for AJ::Callbacks; Added AJ to docs build map
Moved AR testing from using global variable to thread variable
Suggest the perform method can take arguments when generating an ActiveJob job
ActiveJob: Reworked queue_base_name as default_queue_name + Allow configure ActiveJob from app.config.active_job
Removed method missing from ActionMailer::MessageDelivery
Use *_transaction methods in TransactionManager
Implement `==` on `Type::Value` and `Attribute`
Point to rubygems instead of Rails GitHub. [ci skip]
fix typo in method name (broken build :sweat:)
prefer `has_attribute?` over `attributes.key?`.
Use the method for determining attribute methods rather than duplicating
create_table + transactional_fixtures = :bomb:
s/Dont'/Don't/
Spelling errors
Update resque_adapter.rb
Perf optimization for `url_for` called w/ Hash
Ignore MySQL "SHOW VARIABLES" when counting queries
extract methods and metaprogram less.
Be sure to reset PK name renamed in the test
Use string for order argument, fixed from #16501 [ci skip]
Warm up Symbols with where method
Added ActiveJob configuration for travis
Refactor DeliverLater into MessageDelivery
Make ActionMailer::Previews methods class methods.
Ignore SCHEMA queries in some habtm tests
[ci skip] updated 'where' in association documention to new style syntax
Make sure that fixtures are loaded before finding
Format
à² _à²  now that the commit sha is known I can add it to the relese guide.
remove deprecated `MissingHelperError` proxy.
Clear validators before and after each test
ask the scope object if it is a resource_method_scope
ask the scope for the action name
reduce calls to scope_level
change to attr_reader
scope_level is no longer a hash key, just use the ivar
move the scope level key fully inside the scope object
move scope_level to a method on the scope object
Finally! None of our tests are order_dependent!
only look up scope level once
only test `prefix` once
pass consistent parameters to canonical_action?
fewer operations on the options hash
this should be accessing the hash, not calling a method
UnexpectedErrors may reference exceptions that can't be dumped
Remove redundant NullSerializer
[ci skip] add note about the ERB escape in generator docs
Update ActiveJob guide [ci skip]
[ci skip] First version of the Active Job guide
`overriden` => `overridden`
Missing ActiveSupport require for calling String#first
Correctly determine if migration is needed.
use :test delivery method for `base_test.rb`
Clean adapter_test.rb and skip test for sidekiq in unsupported rubies
actionmailer_tests_are_order_dependent!
[ci skip] correct default cache store class
Railties tests are order_independent! Hopefully.
AS tests are now order_independent!
Reset ActiveSupport::Dependencies.mechanism to make tests order independent
Duplicated method in the test helper
AM, AP, AV, and AMo tests are already order_independent!
Added ActionMailer::DeliverLater
[ci skip] fix spelling of override
`index_exists?` with `:name` checks specified columns.
[ci skip] Updated where scope to conform to new style
Small grammar fix in pluck description
add I18n support for `:placeholder` HTML option is passed to form fields
Change the default `null` value for timestamps
Add config option for cookies digest
:bomb:
Nobody sucks so nobody should call this awful method name
use 'based on' instead of 'based off' [ci skip]
Modified activejob.gemspec to match other rails gems format
Update activejob's README
Added activejob to install.rb
CHANGELOG entry for TestCase.i_suck_and_my_tests_are_order_dependent! fix
Remove old setup from AS test case
users_dont_suck_but_only_we_suck_and_only_our_tests_are_order_dependent!
Remove activejob integration tests
Add 'activejob/' from commit '14f74a8331f94150dfee653224de8fc837797709'
[ci skip] add guide for ActiveModel::SecurePassword
update error message to reflect that the record could have been destroyed
Cleanup Guides Guidelines [ci skip]
Update README.md
[ci skip] Changed options to +options+ for rdoc
Pass block for logging.
Using delegated connection method
Docs: grammar fix for fetch. [ci skip]
Uppercase HTML in docs.
Return preconfigured AS::MessageVerifier
Add config option for cookies digest
save a hash allocation per request.
add a test for prepending SCRIPT_NAME to generated urls
Add a `required` option to the model generator
Avoid relying on error messages when rescuing
[ci skip] Changed 'first argument' to '+name+ argument'
Update actionpack CHANGELOG
Retrieve source code for the entire stack trace
Integration testing
Rephrase how we explain RecordInvalid exception in the context of `#create!` regarding validations in contrast to the behavior of `#create`. Also describe creating multiple objects using an array of hashes as the +attributes+ parameter. [ci skip] /cc #16384
Pull spring gem entry into the Gemfile template instead of gemfile_entries so it can be grouped with the other development tools
Stop using padding in the generated Gemfile -- it looks shit
need to call super
add a new constructor that runs load hooks
defer running after_config hooks until after the object is allocated
remove dead file_watcher code
use the uri parser so that newer version of Ruby work
change to empty? from blank?
Tables existence check query is executed in large quantities
Remove ActionController::RaiseActionExceptions.
[ci skip] Updated create! documentation description and added +attributes+ for rdoc
Define id_was to get the previous value of the primary key
Test using turbolinks master
lazily instantiate application subclasses
refactor Redirecting so we do not need a controller instance
Allow password to contain spaces only.
defined? should actually work in current implementation
schema rake tasks are specific about the configuration to act on.
call the routes method on engines
a rails application should be an engine subclass
no reason to lazily instantiate the routes
Add a note on custom validation contexts.
[ci skip] Document ActionDispatch::Static
[ci skip] document ActionDispatch::FileHandler
just assign the instance variables on the test
We don't need parenthesis for this
[ci skip] Document PublicExceptions middleware
Add after_bundle to the release notes and upgrade guide
Moved #create! method from Validations to Persistence module
Cleanup Transaction inheritance.
Bring back the helpers tests
Remove unused text? predicate method and delegation
Call public methods rather than class_eval'ing
avoid testing only_path
Don't delegate Reflection#chain to ThroughAssociation
Update itself.rb [ci skip]
[ci skip] Guides: Add definition of `config.assets.manifest` option to configuring.md
Only define Objetc#itself when it is not defined
Regenerate sid when sbdy tries to fixate the session
Explain why we use asset digests, not what a setter does
Add suggestion as to how you can app the the assets load path
Pull in the custom configuration concept from dhh/custom_configuration
Using no_result_var in Journey's parser generator
A few more tests asserting the presence of helper test stubs
Update docs to reflect that helper stubs are no longer generated
Stubs are no longer generated for helpers, so dont test for it
Change the production log level default from :info to :debug. All production apps I have ever worked with has done this. Let us reflect that default. You often want those SQL quieries to be able to debug issues in production
Generating stubs for helper tests is overly specific. Most helpers should simply be tested as part of the view thats using them. If you need something beyond that, you can add a test yourself for them
Allow symbol as values for `tokenize` of `LengthValidator`
[ci skip] add tip for uglifier in execjs error
[ci skip] Remove "Machinist" from testing guide
updating documented parameter for build_constraint
Add an after_bundle callback in Rails templates
[ci skip] fix markdown
rename MiniTest to Minitest
Deprecate source_macro
copy edits[ci skip]
Improve the error message when resque-scheduler is not available
just set the host, no need for another hash allocation / merge!
always return a string from find_script_name
Rename tests too
Rename Object#self to Object#itself to have parity with matz sanctioned method name for Ruby 2.2
Added Object#self which returns the object itself
Update README.md
Use available method rather than macro name checking
Rename method for clarity
use `get` instead of accessing the named routes internals
Replace ClosedTransaction with NullTransaction
Move TransactionManager to bottom of class
Make ClosedTransaction a null object
Remove parent on Transaction object
Remove being/number methods from transaction class
invert check so we fail faster
do a hash lookup for collision detection
Clarify how the ConnectionHandler works
Add ActiveRecord::Tasks::DatabaseTasks.migrate
Realign assignments :scissors:
Do not reassign variable when mutation is happening
Only concatenate path if it was given rather than converting blindly
Rename variable to better show its intent
Simplify conditional
Push options check up so we can simplify internal methods
Refactor join_keys to remove complex conditionals
Remove default aliases from aggregate functions
Simplify code branch, remove #tap
Avoid a new hash object
Avoid creating an extra hash
Remove unnecessary call to #tap
`HashWithIndifferentAccess.new` respects the default value or proc on objects that respond to `#to_hash`.
Add tests to ensure default proc is used when `HashWithIndifferentAccess' is initialized with a block
Raise a descriptive error if non-positive integer passed to in_groups_of.
Properly assert for the expected messages
Avoid defining the test if it does not need to when not on JRuby
Use default argument when testing generators without the need for extra args
Simplify path setup
Simplify plugin tests a bit, leave the regexp work for minitest
Invert unless..else conditions on JRuby checks
Remove some more globals from tests
Remove some globals from configuration tests
remove useless deup
push options inside the scope object
turn scope in to a linked list
Removed unnecessary call to 'convert_key' in 'HashWithIndifferentAccess#to_hash'
Redefine macro checks for reflections
don't access named routes internals
remove alias_method_chain
avoid instrospection on the module
fix variable name
split path_helpers and url_helpers
`add` will remove the method if it exists already
Remove redundant `self.` in class method calls
Prevent using String#scrub on Rubinius
Deprecate `*_path` methods in mailers
Add implicit receiver support to `Object#with_options`
oops! :bomb:
ask the named routes collection if the route is defined
helpers should be a Set so it doesn't grow unbounded
pass the module to define_named_route_methods
only ask for the routes module once
eval_block should be private
:nail_care: from #16329 [ci skip]
Get request should not write to database note added. [skip ci]
Remove @state.parent assignment on commit
Add missing test case for Array#to_sentence, collect all test cases for Object#to_param at one place and avoid repitition
docs, cleanup mixed indents within `form_options_helper.rb` RDoc.
Move array test files under array
[ci skip] fix doc typo for validates_uniqueness_of
Rename variables for consistency.
Raise an exception when attachments are added after `mail` was called.
Added failing test case for #16131
Give password_confirmation div the "field" class in erb form template
Move object test files under object
remove blank lines in the start of the ActiveRecord files
remove the mounted? method
remove some caching
Extract the transaction class to a local variable
savepoint_name should return nil for non-savepoint transactions
Transactions refactoring
docs, clarify attribute query methods on numeric columns. Closes #16246.
Added nodoc to change_table
Add where condition so select_one returns the correct record.
No verbose backtrace by db:drop when database does not exist.
Allow for alias omission in aggregate expressions
[ci skip] Clarify the "Serialized Attributes" section
[ci skip] Mention the change in nil handling for serialized attributes in "Upgrading from Rails 3.2 to Rails 4.0"
add comment to the empty each method for not removing it in future
Use local variables in _form.html.erb generated by scaffold generator. It seems a good idea to use local variables in generated partials instead of using instance variables.
Extract iterator method in AR::SchemaDumper
Encapsulate rake lines from ActiveRecord/ActionPack as CodeTools::LineStatistics
Fail profiler fast when input is not a ruby file
Optionally add String extensions for ruby-prof printer option
Encapsulate tools/profile functionality in CodeTools::Profiler
Correct tools/profile usage example
Remove unused, broken, legacy ruby-prof extension from 2005
Remove references to SQLite3Column from documentation
docs, add ref where to find valid `head` status symbols.
Additional clarification on password:digest in scaffold and model generator help [ci skip]
Add password:digest information to scaffold generator help text [ci skip]
adding indexes on tables in migration scripts
Remove finishing? method from transaction.
Small Action View Overview edits [ci skip]
Add support for Postgresql JSONB
Improve description of tests.
Bug fix for assert_template when opening a new session.
Make HWIA copy the default proc too.
tests, run adapter specific rake tests only for the right adapter.
build fix, fix error introduced with 091b246bb0111357edbb9703ea342a944b04deb6
fix, mysql `db:purge` respects `Rails.env`.
clenaup, unify CHANGELOG format. [ci skip]
pg, `change_column_default, :table, :column, nil` issues `DROP DEFAULT`.
[ci skip]Add i18n master to the Gemfile
Calling require_self twice in css raises Sprockets::ArgumentError exception [ci skip]
Remove mocha usage
Dev and edge application and plugins need to include i18n master
Do not set enforce_available_locales to i18n 0.7
Set Psych as the YAML engine for Rubinius
Split Action Pack tests in a new job on travis
Use PROCESS_COUNT to define the number of parallel executors
specify N=0 to prevent parallel tests (just run tests on the main process)
`create` return an active record object with erros instead of false when validation fails. [skip ci]
reset_column_infomation shouldn't be part of the assertion.
Allow to specify a type for foreign key column in migrations
Remove redundant that already happened in teardown.
Make sure assertion passes for postgresql.
build fix, remove not null constraint.
Remove length limit that results failure in other tests.
docs, add example for running a single test against core adapters.
Remove the side-effects of validates_presence_of.
Touch option description grammatical error fixed [ci skip]
Generator guide grammatical error fixed [ci skip]
Remove not-required file class/subclasses
[ci skip] Normalize all localhost linking.
missing activesupport test coverage
Stop requiring mocha automatically
adding missing test for text area value before type cast
Performed Returns true if redirect/render has happened
adding missing test coverage
marking private methods which dont work if called on their own anyways
small refactors to actionview renderers
Add CHANGELOG for #14886
LOCALHOST definition should match any 127.0.0.0/8 address
create_join_table uses same logic as HABTM reflections
Modified migration conflict message to remove the string concatenation.
Follow-up to #16097 [ci skip]
Prefer to pass block when logging.
Remove redundant test.
Update test to clearly reflect what it is testing for.
Update outdated test.
Added additional help messaging when there's scaffolding being generated and a migration already exists for the resource.
reporting is only done in one thread, so we can safely remove the lock
%i doesn't work on 1.9
don't log errors when all is fine
fix thread safety issues
pass the test reporter by reference
check for valid options in validate method
fix filesystem race condition
do not restart the service, just stop it
only parallelize on forking systems
Disable some tests on SQLite
Prefer if/else for this case
[EXPERIMENTAL] run actionpack tests in parallel
`recall` should be `path_parameters`, also make it required
pass the route name to define_url_helper
Make restore_attributes public
use a strategy object for generating urls in named helpers
helper methods are public, so we can just call them
docs, `select` and friends with `multiple=true` include a blank string.
Remove "profile and benchmark" line from command line guide
Remove need for macro instance var
subclass Rails::Engine
extract path building to a method
break out path building logic to methods
only extract :params from the options hash once
we do not need to dup the options hash, it is private and a new object each call
push rails app testing up
Rails-ish apps should descend from Rails::Railtie
app should always be a class (I suppose)
we should be checking if the app is a class
Remove unused 1:1 association :remote option
Use &= instead of select with include?
extract inner options before delegating to the helper
always transcode the file to utf-8
Add CHANGELOG entry for PartialIteration.
Document the PartialIteration object
Build only one PartialIteration object for loop
No need to have a file to PartialIteration class
Added PartialIteration class used when rendering collections
Remove unused fixtures
Added truncate_words method to activesupport strings
Revert "Rename to test_mysql_strict_mode_disabled_dont_override_global_sql_mode"
nodoc enum hooks [ci skip]
Don't accept parameters as argument for redirect to [via @homakov]
[ci skip] Remove duplicated last! section.
[ci skip] Use appropriate mailer syntax.
we intend to keep the `capture` helper for Active Record tests.
Change class evaluation for Rationals in cast_value
Active Record tests still depend on `capture`. Let's keep it for now.
link minitest assertions documentation.
document assert[_not]_empty, assert[_not]_includes, assert[_not]_predicate in testing guide.
use foreign key DSL in our tests.
Stop using mocha on dbconsole_test
fix for 1.9 kwargs syntax
routed applications will respond to these methods
Use the plugin API to the getter and setters
Move #encode_with to Relation
stop passing recall to url_for
Move uuid_v5 and uuid_v3 to Digest::UUID
rack 1.6 encodes the filenames in posts correctly now
fix warnings
stop calling url_for with recall parameters and actually use a request
execute a request and check the path_parameters
set `set` in the setup method
remove useless ivar set
RouteSet should be in charge of constructing the dispather
Deprecate `reset_#{attribute}` in favor of `restore_#{attribute}`.
Add CHANGELOG entry for #13392 [ci skip]
Keep quietly and capture undeprecated on your suite
Implement required #encode_with
Deprecate reporting methods for silencing output as they aren't thread safe
Deprecate ActiveModel::Dirty#reset_changes in favor of #clear_changes_information
Add Rails::Application#config_for
Use regexp instead exact match for atom test
All these tests are passing now
Remove more unneeded include
Defining the right dependencies
We don't need loofah for the assertions
Include the selector assertions on the test case
Document the change in `nil` handling for serialized attributes
Rails is a module not a class
Predicate methods don't need to return `true` / `false`
Add CHANGELOG entry for #15266
Return an absolute instead of relative path from an asset url in the case of the `asset_host` proc returning nil
Log digest as :debug instead of :info
[CI SKIP] Doc fix.
Address ORA-00972: identifier is too long when tested with Oracle by using shorter attribute names.
Stash original path in `ShowExceptions` middleware
Treat invalid uuid as nil
[ci skip] Little bit doc code improvement.
Format pass on 4.2 release notes [ci skip]
Add link to minitest rdoc & github
Return an Enumerator if no block is given
Don't construct a Proc if no block is given
[Bug report templates] Added rack master to the Gemfile
fix mismatched example call [ci skip]
Assert the nature of the original exception
Silence the output downloading a file
Add ability to extend `rails server` command options parser
AttributeSet#include? -> AttributeSet#key?
Don't rely on the column SQL type for bit string quoting
Use a type object for type casting behavior on SQLite3
[Guides] Sentence break for clarity [ci-skip]
Use `#bytesize` instead of `#size` when checking for cookie overflow
Synced 4.2 release notes with the latest commits.
Removed single space padding from empty response body.
Dump PostgreSQL primary key with custom function as a default.
* gcampbell-rosetta_flash:   Address CVE-2014-4671 (JSONP Flash exploit)
Force encoding of US-ASCII to UTF-8 in unescape_uri.
Include missing module in tag_helper
[ci skip] Document millisecond precision change in ActiveSupport::TimeWithZone#as_json
Address CVE-2014-4671 (JSONP Flash exploit)
correct markdown usage [ci skip]
[ci skip] Add changelog for PR #14899
Include fixtures to prevent foreign key violation.
Warm up cache to prevent assertion failure.
Begin refactoring ThroughReflection
Reduce number of subscriptions created.
Stop using mocha on console_test
Set the application logger using configuration
Stop using mocha on configuration_test
Stop using mocha on app_rails_loader_test
test i18n against a routed app
remove the mounted_helpers respond_to check
always test against a routed rack app so there are always url_helpers
[ci skip] Improve callback code example for 4.1 upgrade docs.
Update Rails versions [ci skip]
Add callbacks documentation for upgrading to 4.1.
Prefer find_by over where.first for record
Avoid retrieving connection in ActiveRecord::QueryCache multiple times.
Remove the `text?` predicate from the type objects
Don't rely on the sql type to quote XML columns in PG
Remove PG's definition of `type_cast`
Change back occurrences of SQLite(3) to sqlite3 when referring to the adapter, fixed from #16057 [ci skip]
[ci skip] /sqlite/i --> SQLite
Generate shallow paths for all children of shallow resources.
active_record: Type cast booleans and durations for string columns.
[ci skip] Concludes changelog links in the bottom. This way when we do next release notes, this would be easier to copy and change.
If our connection is explicitly non-strict, tell MySQL
Re-enable foriegn key tests on MySQL
[ci skip] add guide for ActiveModel::Naming
Only reference time specific methods in the time section [ci skip]
Remove *all* references to `Time.yesterday` [ci skip]
`Time.today` -> `Date.today` in guides. [ci skip]
Use the type object for quoting PG Ranges
Add release notes entry for #15819 [ci skip]
CHANGELOG and release notes entry for #16056
Add a `required` option to singular associations
Revert "Use a type object for type casting behavior on SQLite3"
Don't fail if unicode.org isn't talking to us
add test coverage for the action mailer
After find-via-reload, the record is not new
Display notice in index.html pages in scaffolded generated views
remove bundler magic
link directory to ActionMailer Previews documentation
:fire: these are lambdas now [ci skip]
[ci skip] /javascript/ -> JavaScript - cover whole app
Add arel to the controller template
Remove unneccessary special case for money in quoting
require both variant of resque-scheduler
require 'resque-scheduler' fix #97
Do not rely on the column type when quoting infinity
Use the type object for type casting HStore columns
Explicitly call #to_s when serializing GlobalID. Addresses #95
Add `:all` argument to `count` in `reset_counters`
Remove symbolized_path_parameters.
Change the JSON renderer to enforce the 'JS' Content Type
Add CHANGELOG for c803b90
The hex escape sequence can be of any length
Only automatically include validations when enabled
`DateTime#to_f` now preserves fractional seconds.
automatically include ActiveModel::Validations when include ActiveModel::SecurePassword
Quote range strings when quoting PG ranges
[ci skip] Changes some wording to better foreshadow what is coming up later. This should prevent some anxiety readers may experience when the doc goes into something different than what it just explained. Also clarifies a statement about priority in engines and application environments
Don't error when `dup`ing a record with no PK
Move pk initialization logic onto `AttributeSet`
Tiny follow-up to #15987 and 088b4c3e [ci skip]
do not hold on to a stale connection object. fixes #15998
Improve token_and_options regex and test
Add regression tests for keys on nested associations
flash doesn't pass objects #15522 [ci skip]
Rename preview_enabled option to show_previews
makes it sound less misleading
[ci skip] Add missing prologue section of upgrading ruby on rails guide.
Use a type object for type casting behavior on SQLite3
Silence warning emitted in tests
Add configuration to enable mail previews
push host / port / protocol extraction up
Add CHANGELOG entry for #15214
Use if/else
Add String support for min/max attributes on DatetimeField
Rename rollback_changes to undo_changes
Add CHANGELOG entry for #14861 and document private methods on the API
Don't add a second method for attribute existence
[feature] ActiveJob generator
Move STI docs off of the main Base document, leaving a note
Update documentation on STI change handling
Remove unused `array_member` from PG quoting for HStore columns
Remove array workaround in PG quoting
Use the type object when sending point columns to the DB
Use `Hash#transform_values` to clean up `AttributeSet`
Simplify creation of default attributes on AR instance
Add `Hash#map_values` to ActiveSupport
Use the type object for sending JSON to the database
Don't encourage usage of `columns_hash`
Tiny documentation fixes [ci skip]
Quick pass through Active Support and guides CHANGELOG
Add punctuation and fix capitalization in Getting Started guide
[ci skip] remove invalid code from docs
[ci skip] Doc ability to chain in `find_each`
[ci skip] Consolidate docs for `find`
[ci skip] Consolidate docs for `last`
[ci skip] Consolidate docs for `take`
[ci skip] Consolidate docs for `find_by`
[ci skip] Consolidate docs for `first`
[ci skip] Add return values to examples
Always pass a column with a type object to quote
Rename options param of #time_ago_in_words to match API change
remove unneeded test model for ActiveModel test cases.
[Postgresql tests] remove duplicate helper
Cleanup loaded features and constants after dependency tests.
Update the levenshtein distance method in guides.
Add missing period in Getting Started guide
MySQL doesn't work with foreign keys
Always instrument ActiveSupport::Cache
Do not change the global state of the test suite
Update documentation for run_callbacks
Improvements per code review.
Improve tests to use add_foreign_key DSL
rename sequence only if it exists
MySQL doesn't works with foreign key
We are talking about the libraries, not the constants
Note that `_will_change!` is no longer needed for AR instances
Talk about config.assts.version move too
Stop using instance exec for type decorators
Use AR::SchemaMigration.table_exists? call instead of longish AR::Base...etc,etc
Extract AR::SchemaMigration.normalized_versions method
Add a test for db:migrate:status to check missing file scenario
Follow-up to #15215 [ci skip]
db:migrate:status refactoring: Rewrite hand-crafted SQL query with ActiveRecord#pluck
Use Array#flat_map and Array#grep in db:migrate:status task
Add explaining variables to db:migrate:status
Replace String index juggling with Pathname goodness in db:fixtures:load
db:fixtures:load refactoring: remove unnecessary loop
Extract `fixture_files` variable in fixtures:load rake task
Replace a bit of cryptic code in fixtures:load rake task with plain stupid Ruby
Get rid of duplication in db:fixtures:{identify,load}
db:fixtures:{identify,load} tasks respect AR::Tasks::DatabaseTasks.root
Simplify complex code in databases.rake
credit Matthew Higgins for the integration of foreign keys. [ci skip]
Tiny follow-up to 1a69112
Add always_permitted_parameters as an option.
Change method visibility
Add nodoc to internal class [ci skip]
fk: add docs
fk: review corrections: indent, visibility, syntax, wording.
fk: use random digest names
fk: raise for invalid :on_update / :on_delete values
fk: `add/remove_foreign_key` are noop for adapters that don't support fk
fk: dump foreign keys at the bottom to make sure tables exist.
fk: raise when identifiers are longer than `allowed_index_name_length`.
fk: support for on_update
fk: rename `dependent` to `on_delete`
fk: infere column name from table names.
fk: make `add_foreign_key` reversible.
fk: support dependent option (:delete, :nullify and :restrict).
fk: dump foreign keys to schema.rb
fk: `:primary_key` option for non-standard pk's.
fk: generalize using `AlterTable` and `SchemaCreation`.
fk: `foreign_keys`, `add_foreign_key` and `remove_foreign_key` for MySQL
fk: add `foreign_keys` for PostgreSQL adapter.
fk: `add_foreign_key` and `remove_foreign_key` for PostgreSQL adapter.
Require global_identification in serialisations
:nodoc: our SecureRandom patches [ci skip]
Move writing unknown column exception to null attribute
Consolidate testing of update_all type casting
Deprecate automatic counter caches on has_many :through
`Attribute` should know about its name
Make the apply_inflections method case-sensitive
Require shellwords since it is dependecy of this file
Encapsulate the creation of `Attribute` objects
remove Set.new from DetailsKey::get, impacts rendering overhead performance
docs, fix BacktraceCleaner code example. Closes #15911. [ci skip]
sync deprecations and removals with 4.2 release notes. [ci skip]
synchronize Active Record deprecations / removals with 4.2 release notes
Move behavior of `read_attribute` to `AttributeSet`
`preload` preserves readonly flag on associations. #15853
[ci skip] Add missing colon and period in initialization.md.
Use #model_name on instances instead of classes
Add a '--skip-routes' flag for the Controller generator.
Deal with regex match groups in excerpt
Dont swallow errors when bad alias_method
Improves readability...
Doc pass for `Type::Value` [ci skip]
Always assume strings with non-numeric characters change numeric types
Silence warning in test
`:nodoc: all` does not remove the constants from the API. [ci skip]
add missing `:nodoc:` to `store.rb`. [ci skip]
add missing `:nodoc:` for recent refactorings. [ci skip]
Disable autolink in example code blocks in guides.
Added rollback method to ActiveModel::Dirty
Remove unused param 'conn' from ConnectionPool#release
Remove unused param 'klass' from AttributeAssignment#read_other
remove unnecessary require for json serialization test cases
Small typo
Add a deprecation cycle for `NullColumn` from `column_for_attribute`
Add AR::Base#validate! method
Delegate #model_name method to self.class
Add test for window + partition + order.
Windowing: Calling #rows or #range should assign framing only once.
changelog entries for #15866 and #15848
Remove unneeded `@column_types` instance variable
Add missing test cases for `attribute_names` instance method
`reload` should fully reload attributes
Encapsulate knowledge of type objects on `ActiveRecord::Result`
Remove old deprecation warning
Create with_env helper for tests.
Avoid hardcoded magic number in test teardown.
Use with_parse_json_times helper in tests.
`only_integer` of `NumericalityValidator` now allows procs and symbols
Change double quotes to single quotes in guide Improve consistency
Add missing test cases for `attribute_method?`
Move `attributes` to the `AttributeSet` object.
Move `attributes_before_type_cast` to `AttributeSet`
Make the isolated tests run on JRuby
Windowing support for PARTITION BY clause.
:nail_care: wrap the tip from #15624 at 80 chars [ci skip]
[ci skip] Add Tip for change_column_null and change_column_default in guides
Return a null object from `AttributeSet#[]`
Replace x.sort_by!.select! with x.select!.sort_by!
Add regression test for NameError#name
Make dependencies.rb add a name to NameError
docs, configurations method is listed in the docs. [ci skip]
A warning line should look like a warning section
Add warning for `rescue_from Exception` and `rescue_from StandardError`
Remove extra list item element
Move to_param to to_query, also Improve tests
add both branches to the only_path conditional
Add rails:update to the upgrading guides
ErrorsController shouldn't inherit ApplicationController, but ActionController::Base
Introduce an object to aid in creation and management of `@attributes`
Add to guides app and helper objects on command line
'TextHelper#highlight' now accepts a block to highlight the matched words.
Use a better test description
highlight() now accepts regular expressions as well.
excerpt() now accepts regular expression instances as phrases.
Add `logger.debug?` guard to `ActionMailer::LogSubscriber#process`
Further simplify `changed?` conditional for numeric types
Relpace `=~ Regexp.new str` with `.include? str` in AC::Base#_valid_action_name?
Remove unused block parameter from #gsub call in AM::MailHelper#block_format
this method is no longer being used
Create custom errors page on ActionController guides
Added missing colon in asset manifest JSON.
Don't rely on the column for type casting reflections
Don't use column object for type casting in `quoting`
Don't use column object when calculating type cast defaults
Don't use `Column` for type casting in Relation calculations
Extract out with_env_tz helper method.
Titling the model name in views generated by scaffold. eg. rails g scaffold UserProfile will have in index.html.erb "Listing User Profiles" rather than Listing user_profiles.
Reconnect after possibly enabling hstore
Update RecordNotFound exception cases to include a message with the Model that the Record was not found in.
Detect in-place modifications on Strings
Detect in-place changes on point types
Deprecate Rails::Rack::LogTailer
Enable hstore in array tests
Detect mutations of arrays and array members
initialize the right variable
:scissors:
Add a generic --skip-gems options to generator
Ensure `OID::Array#type_cast_for_database` matches PG's quoting behavior
Don't type cast the default on the column
Move array database type casting to the Array type
[ci skip] fix doc for the Hash#assert_valid_keys
Don't assume that Hstore columns have always changed
Use `column_defaults` in dirty for checking changed defaults
Add test cases for Migration#inverse_of
Don't include inheritance column in the through_scope_attributes
Don't save through records twice
Don't mess with `column_defaults` when optimistic locking is enabled
Move test teardown into `ensure` block.
add `bin/rake db:purge` task to empty the current database.
fix typo in test method names. [ci skip]
[ci skip] doc corrected : ActiveRecord::Base.connections to ActiveRecord::Base.configurations
Formatting fix in AS changelog [ci skip]
Revert "Formatting fix in AS changelog [ci skip]"
Promote time zone aware attributes to a first class type decorator
Refactor application of type decorators into an object
[ci skip] /javascript/ ~> JavaScript
Formatting fix in AS changelog [ci skip]
[ci skip] add API doc for AR Group.
Restore delivery method on teardowns.
Inline Assertion reference.
Remove response faking.
Use 1.9 syntax.
Add document_root_element to ActionDispatch::IntegrationTest so assert_select can be called without specifying a root.
Change date helper tests to expect attributes with double quoted strings.
Don't splat arguments to allowed tags or attributes.
Change sanitizer_vendor to just be a method and reword documentation.
Revert some stuff to use the new sanitizers.
Point gems to all the right places.
Remove html-scanner and its tests.
Remove deprecation notice.
Add a layer of indirection making sanitizers pluggable.
Delegate allowed tags and attributes setting to HTML::WhiteListSanitizer.
Changed configuration documentation to no longer state it replaces a Set.
Deprecate configurations and use allowed_tags and allowed_attributes on WhiteListSanitizer.
Remove include of rails-dom-testing in rails_info_controller_test.rb as it is included in ActionController::TestCase.
Migrated test away from escaped quotes.
Made deprecation messages in sanitize_helper more clear.
Remove unneeded comment in test.
Remove some whitespace in actionpack.gemspec.
Updated CHANGELOG message to include info about rails-html-sanitizer.
Updated CHANGELOG message about rails-dom-testing.
Completed integration of rails-html-sanitizer in SanitizeHelper. Deprecated protocol_separator accessors and bad_tags=.
Moved html_document to ActionDispatch::Assertions. Included the Rails::Dom::Testing::Assertions there as well.
Updated html-scanner deprecation message.
Support for changes in SelectorAssertions.
Included rails-dom-testing in rails_info_controller_test.rb
Removed sanitizers- and scrubbers_test.rb. They are in rails-html-sanitizer.
Included DomAssertions in url_helper- and atom_feed_helper_test.rb.
Removed assert_select test file, since it has been moved to rails-dom-testing.
Required rails-dom-testing in test_case.rb
Changed deprecation message in dom and selector assertions in Action Dispatch.
Exchanged requiring of action view assertions with rails dom testing assertions.
Removed ActionView::Assertions. Getting ready to exchange with Rails::Dom::Testing::Assertions.
Added rails-dom-testing and rails-html-sanitizer to Gemfile. Added tests for assert_select_email.
Removed tag.rb, since it is actually removed, not just deprecated. [ci skip]
Moved ActionView::Assertions dependency from Action Pack's lib to abstract_unit.rb.
Changed ActiveSupport::Derprecation.silence to assert_deprecated.
Silenced deprecation warnings in the tests. Documentation uses present tense. Changed deprecation message to not use you. Also returning from rescue block in catch_invalid_selector to abort reraising the exception.
Added deprecation warning for invalid selectors and skipping assertions.
Nokogiri leaves '<' unescaped, so the assert_select looking for '&lt;' will never work. Switched to assert_matching the reponse body.
Added tests for TargetScrubber.
Rounded out PermitScrubber tests. Extracted helper methods to a ScrubberTest class.
Moved some tests to scrubbers_test.rb. Added better testing of accessor validation.
Added some test coverage for PermitScrubber.
Changed PermitScrubber's direction to bottom up to align better with Loofah's strip scrubber.
Now only requiring Loofah in the places where it is needed.
Minor rewording in TargetScrubber documentation.
Added deprecation notice to actionpack changelog.
Updated Action View changelog entries with more information about the changes in the API. Removed mention of mentor (at his request).
Stylistic improvements in ActionView::Assertions::DomAssertions.
Now returning html if html is blank? in FullSanitizer and WhiteListSanitizer. This means it'll return false if called with false, however that is not a valid use case.
Stylistic improvements. Some light documentation for remove_xpaths.
Removed require's for html-scanner.
Changed test expectation from '<<' to '' with string to sanitize '<<<bad html>' in sanitizers_test.
Added deprecation warning to ActionDispatch::Assertions::TagAssertions.
Removed dom_assertion method since it created bugs.
Removed a bunch of duplicated tests in SanitizeHelperTest.
Removed unnecessary documentation in DomAssertions.
Removed case statement in equal_children? used child.element? instead.
Reworked some internal documentation for equal_attribute_nodes?.
Changed attributes_are_equal? to equal_attribute_nodes? which takes attribute_nodes instead of nodes.
Removed html_strings variable, no splat operator needed.
Changed back to =~ or == comparison in HTMLSelector filter.
Simplified the removal of xpaths in remove_xpaths. Added more tests for remove_xpaths.
Extracted: create Regexp from match_with and use =~ to compare instead of checking .is_a? Regexp every time through the loop.
Changed conditional check in filter. Removed weird comments.
Moved: initial assignment of @selector_is_second_argument is now in initialize.
Changed: using duck typing instead of requiring subclasses of Node and NodeSet.
Renamed: HTMLSelector css_selector to selector.
Removed unnecessary lines from HTMLSelector initialize.
Changed: put selector extraction into selector_from, which is renamed to extract_selector.
Changed: HTMLSelector comparisons renamed to equality_tests.
Changed: removed @selected and @page variables from HTMLSelector since one method used them. Passed the values directly to there instead.
Changed: return early from compare_doms if the two doms don't have the same number of children.
Renamed: remove_xpaths tests no longer prefixed with sanitizer.
Changed: remove_xpaths called with String returns String, while called with Loofah fragment returns Loofah fragment. Added tests for this.
Removed duplication in assert_dom_equal and assert_dom_not_equal.
Changed wording of missing selector argument exception message in css_select.
Reworked root and selector conditional assignment in css_select.
Added related Nokogiri issue link to tests that fail with unknown encoding ASCII-8BIT.
Moved Action Pack changelog message to Action View. Clarified Dom and Selector assertions changes in there.
Trimmed deprecation message for ActionDispatch::Assertions::SelectorAssertions.
Removed :nodoc: from PermitScrubber.
Reworked documentation for PermitScrubber and TargetScrubber.
Initialized tags and attributes to nil.
Refactored scrub to keep_node? instead of scrub_node calling it. Also added ability to stop traversing by returning STOP from scrub_node.
Changed PermitScrubber to be even more extensible. Updated TargetScrubber to be compliant. Updated documentation for PermitScrubber and TargetScrubber for clarity.
Changed PermitScrubbers documentation to list override points for subclasses. Renamed should_remove_attributes? to should_scrub_attributes?.
Already killed off LinkScrubber. Changed it instead to be TargetScrubber, which is more general, while still allowing maximum code reuse.
Added LinkScrubber to remove duplication in LinkSanitizer. As such made PermitScrubber easier to subclass.
Changed FullSanitizer sanitize to use tap method instead of temporary variable.
Extracted the common xpaths to remove into XPATHS_TO_REMOVE.
Refactored remove_xpaths to use duck typing and read better.
Changed explanation for no duck typing of custom scrubbers.
Added correct requires in html-scanner tests. Sanitizers are not based on html-scanner anymore, so sanitizer_test.rb is removed.
Require ActionView::Assertions in ActionController test_case.rb.
Marked test_feed_xhtml as pending. See description in the test.
Removed copyright notice since we aren't relying on html-scanner anymore.
Removed require for active_support/core_ext/object/inclusion since in? isn't used anywhere.
Moved Dom and Selector assertions from ActionDispatch to ActionView.
Removed mention of css_select supporting substitution values. It is not tested anywhere.
Updated documentation to state more things about css selectors with substitution values.
Reworked the wrapping root in NodeSet implementation in css_select.
Wrapped element to search in NodeSet. Changed selectors to selector.
Moved around alias line.
Returning from filter if matches are empty.
Reverted to using documents instead of document fragments, since searching via default xml namespaces didn't work.
add_regex returns inspected value for non Regexp objects. Workaround, so users don't have to care about enclosing values in double quotes.
Added test case for non-comment. Removed pending assertion that passed.
Cleaned up SubstitutionContext class.
Simplified assert_select further by moving match filtering into HTMLSelector select.
Added NodeSet comparison to possible root element in determine_root_from.
Changed html_document to use fragments. Changed response_from_page to be an alias of html_document.
Changed xml_namespace test to correct syntax. However, Nokogiri won't recognize the namespace.
Changed test methods to use new substitution syntax more in line with css selectors.
Added a proper substitution context class. Changed ArgumentFilter to be a selector. It is now called HTMLSelector.
Added implementation for substitution values via Nokogiri's custom pseudo classes.
Readded some documentation about substitution values.
:scissors: and :nail_care: from d60c405 [ci skip]
fix delayed job adapter timestamp
[ci skip] correct output for asset_helper methods     see cc255d3
Add important plugins as one of the tasks of the release
Refactor in-place dirty checking to use the attribute object
[ci skip] correct doc for serialization in accordance with API Doc Guide
Always update counter caches in memory when adding records
Correct typo, add test for validates_absence_of, correct method names
Updated testing guide to reflect changes in ActionDispatch::SelectorAssertions.
Updated documentation to remove mention of HTML::Selector and clarify what is expected of a selector now.
Changed tests to assert_kind_of Loofah::HTML::Document.
Readded html_document method since it is used integration tests.
Removed selector_test.rb since HTML::Selector will be removed. Soon.
Changed filter_matches to return a new NodeSet instead of Array.
Replaced html-scanner with Loofah.
Initialized @css_selector_is_second_argument in determine_root_from.
Changed early return for filter_matches as well as reassigning matches. Meddled with initialize in ArgumentFilter.
Removed redundant comments from assert_select.
Added assert_size_match! with the assertions for assert_select.
Changed some documentation for css_select.
Replaced fragment calls with document, since we assume the responses are complete documents.
Added filter_matches to reduce line count in assert_select.
Renamed Selector to ArgumentFilter. Put code from HTMLSelector to ArgumentFilter.
Removed the custom selected proc. It's no longer needed.
Updated selector to not have reponse_from_page.
Changed css_select and pulled out response_from_page from Selector.
Changed comparison from HTML::Node to Nokogiri::XML::Node in assert_select_encoded.
Removed more redundant lines. Removed fix_content block that circumvented a bug in html-scanner.
Removed more lines of code in assert_select.
Simplified the first delete_if loop in assert_select to use Loofah's text method.
Removed argument and root variable in assert_select proc.
Changed name to selector. And a bunch of other things.
The first attempt at abstracting argument parsing from selection methods.
Removed tag.rb since it has been deprecated.
Corrected documentation bug.
Removed whitespace between dependencies.
Updated documentation to tell that a custom scrubber takes precedence.
Updated the documentation to reflect the scrubber option.
Marked the private API as not needing code documentation.
Added ability to pass a custom scrubber to sanitize. Includes test coverage.
Moved requiring of Loofah from sanitizers.rb to action_view.rb.
Marked tests in sanitize_helper_test.rb as pending.
Marked a test in form_helper_test.rb as pending because of unknown encoding ASCII-8BIT output error.
Marked some tests as pending in date_helper_test.rb.
Added some tests for ActionView::Sanitizer.
Added ActionView::Sanitizer and moved remove_xpaths to there.
Changed the description of some pending tests. Changed the expected output of a script test.
Extracted one highlight test method and marked it as pending.
Added comment removal. Changed definitation of remove_xpaths to not use a splat operator.
Extracted the xpath removals into some new API that allows users to remove xpath subtrees.
Added removal of script tags to WhiteListSanitizer.
Renamed the SanitizerTest class to SanitersTest, to remove the conflict with the old SanitizerTest for html-scanner.
Added video poster sanitization testing (from @vipulnsward).
Extracted failing tests in santiizers_test.rb into their own methods and marked them as pending.
Added guard clauses to FullSanitizer.
bad_tags include form since we remove it. Also to prevent a should_allow_form_tag test creation.
Changed expected value from '<b>' to empty string.
Removed the contains_bad_protocols? method as well as the tests for it. Loofah already deals with this.
Reordered form removal with stripping.
Added PermitScrubber which allows you to permit elements for sanitization.
Removed duplication in the deprecated methods.
Change Http::Cache::SPECIAL_KEYS from Array to Set
Remove unused param 'separators' from RouteSet#build_path
Remove unused parameter.
Change the deprecation warning on `serialized_attributes`
allow preview interceptors to be registered through `config.action_mailer`.
- Test noop when passing empty list to `insert` - Rename into test to indicate it accepts table and chains on it - Rename "combo" test to what it actually tests
- Stop passing redundant `:engine => Table.engine` to `Table#new` - Remove redundant `ast` variable creation - Rename similar join tests name to what they actually test - Move "joins itself" test to "joins" describe instead of defining describe block twice - Move update manager statement tests in logical order - Move `project` tests in logical order
remove unnecessary calling of `I18n.backend.store_translations(empty, {})`
[ci skip] correct doc for `register_preview_interceptor`
Modify Visitors::Dot's API to use collectors
Collectors: Introduce PlainString and make use of it in SQLString
reload I18n as we are defining `:ts` locale fix build- see https://travis-ci.org/rails/rails/jobs/27578159#L2913.
Rename ambiguous test name to what it actually tests
[ci skip] update wiki link for MVC
Edit pass on `has_secure_password` documentation [ci skip]
[ci-skip] correct wikipedia MVC link
docs, remove getting started guide sample application. [ci skip]
[ci skip] Update #has_secure_password docs
Deprecate `serialized_attributes` without replacement
[ci skip] Use `an` for SQL
/mysql/i -> MySQL, Spell correct in continuation to #15555
Add an option to skip installation of Turbolinks
remove unnecessary substitution for space in ActionView::Helpers#debug
pg guide, use the term `database views` to be specific. [ci skip]
Use `@existing_user` while updating existing user, fixing - #ee4e86
Add test cases for Hash#asset_valid_keys
Clean up I18n stored translations after test.
Avoid hard-coded value in test setup and teardown.
Make sure restoration always happen.
Cleaned up the `has_secure_password` test cases
Move cleanup into teardown, delete obsolete code.
Added changelog for #15708 [ci skip]
SecurePassword - Validate password must be less than or equal to 72 See #14591, Reason - BCrypt hash function can handle maximum 72 characters.
Parsing DATABASE_URI, use URI#hostname: it's smarter about IPv6
Remove `serialized?` from the type interface
Add RDoc about local_assigns
Open extension point for defining options in build_through_record This fixes #15496
Add docs about local_assigns on guides
Through associations should set both parent ids on join models
Detect in-place changes on mutable AR attributes
Remove unused `method_missing` definition
s/variable supplied/value supplied [ci skip]
Reword PreparedStatementInvalid example, and use values instead of variables [ci skip] Thanks to @matthewd for the excellent feedback! :heart:
In actionview, eliminate calls to tag that use html_safe parameter values. This is generally unnecessary, since tag handles string quoting, except in one case (utf8_enforcer_tag) where we want to specify the encoding ourselves.
Reorder test which does not represent real world usage
Revert code changes at "Copy edits and code font wrap for Active Record [ci skip]"
Remove unused column types override
First pass at Rails 4.2 release notes [ci skip]
Create 4.2 release notes guide scaffold [ci skip]
Copy edits from e0f3f1a [ci skip] - image_tag is an instance method - explain possible results when asset pipeline is used
Copy edits and code font wrap for Active Record [ci skip]
ActionController::Parameters#require now accepts FalseClass values
Document behavior concerns regarding the full Rails stack [ci skip] Related to a discussion on #15508
[ci skip] Clarify ActiveModel::Model docs
Builder source code is still available on github [ci skip] This was also removed from #15542
Add links to RDoc back into API documentation guidelines [ci skip] These were removed from #15542 unfortunately :(
Specifically talking about Rake the library [ci skip]
Ensure we always define attribute methods
Introduce an Attribute object to handle the type casting dance
PG arrays should type cast user input
pg guide, minor copy edits
Set the status before of setting the response body
Set flash in test session when necessary.
[ci skip] BigDecimal#duplicable? returns false in 1.9.x
Add missing test cases for #assert_no_difference
Add a test to ensure we don't get a performance regression on #hash
Use a conditional rather than early return in `id`
Defer to super, rather than re-implementing Object#hash
In tag helper, honor html_safe on array parameters; also make safe_join more similar to Array.join by first calling flatten.
Update test data which doesn't reflect expected usage
only check named_host? once in normalize_host
[ci skip] Correct output of #assert_not
lookup subdomain from the options hash once, defaulting to true
only extract domain from the options hash once
reduce calls to `named_host?`
No need to check for SelectStatement as it's a descendant of Node
Make sure Arel::SelectManager is not mistaken for an attribute
use Ruby for mocking
Add test for non-recursive WITH statement
Make sure visit_Arel_Nodes_With works with collectors
Persist job_id
Add unregister_template_handler to prevent leaks.
Implemented :qu adapter
Removed warning actionpack url.rb
fix bug in email with name example code
remove unnused method from test
remove useless to_param call
only look up the subdomain once
scheme should contain one or more characters
pull the port out of the options hash once
There are 3 caveats to Local Precompilation including 1 config change
remove useless nil check
Updating argument names in default matcher for compiling files
these methods are always called with a tld_parameter
Pluck should work with columns of the same name from different tables
rm `same_host?`.  The same conditional is two lines down.
Revert "rm `same_host?`.  The same conditional is two lines down."
rm `same_host?`.  The same conditional is two lines down.
Revert "remove unnecssary require of `to_param`, as `to_query` is already require `to_param`"
remove unnecssary require of `to_param`, as `to_query` is already require `to_param`
remove warnings warning: assigned but unused variable - scope_called, path and strexp
cache host on the stack so we only look it up once
only pull :protocol from the options hash once
cache protocol on the stack to reduce options hash lookups
Remove unused require
eliminate nil checks in normalize_port
reduce hash lookups and disconnect normalize_port from the options hash
[ci skip] correct docs for conversion
No need to require to_param, it is already required in to_query.rb
[ci skip] add tests for ActionModel::Conversion
Move test for blank.rb under object
Added Loofah as a dependency in actionview.gemspec. Implemented ActionView: FullSanitizer, LinkSanitizer and WhiteListSanitizer in sanitizers.rb. Deprecated protocol_separator and bad_tags. Added new tests in sanitizers_test.rb and reimplemented assert_dom_equal with Loofah.
Add has_one? docs [skip ci]
rm cached attributes
Remove YAML serialization workaround for columns
Ensure `column_types` returns a type object, and not a column
Remove deprecation warning
cleanup, get rid of trailing whitespace. [ci skip]
fix typo in changelog [ci skip]
add missing changelog entry. refer [#16db90d] [ci skip]
use name specified by 'as' for automatic inverse association to avoid reflecting on wrong association
begin refactoring add_constraints by moving join keys
Add test cases for #in? and #presence_in
remove deprecated code. Rely on `describe` provided by minitest
No need to decorate columns twice
Correct Bundler link [ci skip]
[ci skip] Refine Action Mailer guide. * Wrap 80 words if possible. * Make attachment hash options more readable. (L239-L243)
remove deprecation call while initializing `ClassCache` object
fix error with long keys in ActiveSupport::Cache::FileStore
[ci skip] Improve enable_starttls_auto documentation.
[ci skip] Add Docs for strip_insignificant_zeros option in number helpers
Remove deprecated method ActiveRecord::Base.quoted_locking_column
[ci skip] Correct output and use valid options of number helpers
Have .queue_as only set queue name for job in question.
Silence warnings in tests.
Keep the types of virtual columns after yaml serialization
Inline PG array type casting helper
test, fix typo, `create_index` does not exist.
docs, refactor docs about column modifiers. [ci skip] [Matthew Draper & Yves Senn]
If a counter_cache exists, use it for #empty?
[ci skip] Rename: Rails Database Migration to Active Record Migration.
remove depricated Validatior#setup
ActiveRecord::FinderMethods.find passes proc parameter #15382
[ci skip] Add note about type modifiers that cannot be specified in command line.
Use HasAndBelongsToMany instead of HABTM
reuse available collection? check instead of macro
Abstract away use of HABTM macro
add has_one? method and reuse instead of checking macro
Timestamp values should be present on callbacks
Rename `type_cast` to `type_cast_from_database`
Use an actual identity type in AR::Result#identity_type
Do not try to set the foreign_key again on has_many through
Make `_before_type_cast` actually be before type cast
Refactor determination of max updated timestamp
Remove a long gone :order option from has_one's valid_options.
Remove workaround for non-lazy serialize in tests
pg guide, add index to PostgreSQL array example. [ci skip]
Mail 2.6.1 silences excessive warnings; remove Gemfile hack
Update migrations.md
Ignore distressingly-frequent segfaults on this build
Handle client disconnect during live streaming
Add Missing Test Cases for the constantize
fix test cases after #15558 merge to master.
Do not type cast twice on attribute assignment
Move conditionals about freezing closer to the definition of `freeze`
Remove dead branch when restoring ID within a transaction
Remove duplicated `@raw_attributes.keys`
Ensure time zones don't change after round trip with array columns
Don't rely on `Time.current` in tests
Correct Example output in Rails guides [ci skip]
changelog for #15556 and credit @kuldeepaggarwal [Kuldeep Aggarwal]
Rename `property` to `attribute`
Don't query the database schema when calling `serialize`
Add array support when time zone aware attributes are enabled
adds some details to the rationale of converted_arrays [ci skip]
adds a regression test for the strong params converted arrays cache
Revert "Convert StrongParameters cache to a hash. This fixes an unbounded"
copy edits [ci skip]
rm empty spec which is covered by other specs
Unwrap another html_escape
Removed unused `klass` definitions from types
eliminate more wasteful allocations
Remove composed_of special case from multi-parameter attributes
Don't mess with `_before_type_cast` for numeric types
remove another wasteful AS::SafeBuffer allocation
eliminate wasteful AS::SafeBuffer allocation
Don't mess with `_before_type_cast` for numeric types
remove rubyforge.org that was shut down [ci skip]
Restore I18n.locale to default after test.
Restore test deliveries for ActionMailer.
Restore test deliveries properly in ActionMailer.
Add missing test cases for schema dumping defaults
credit JoseLuis Torres for #15051. [JoseLuis Torres]
`ActiveRecord::SchemaMigration` has no primary key.
test refactor, don't hardcode default for `table_name_prefix`.
test refactor, don't hardcode `primary_key_prefix_type` default.
serialized Type should delegate `type_cast_for_write` to underlying Type
`bin/rake db:migrate:status` works with legacy migration numbers.
docs, update `includes` + `where` example in AR guide. [ci skip]
Use a frozen Set instance for CGI_VARIABLES.
Remove redundant code.
Prevent state leak.
Clean up Arguments somewhat
Remove optimization that was required with whiny nils
Avoid misuse of underscore argument
Restore Response.default_headers after test.
Avoid hard-coded value in test setup/teardown.
Reset callbacks after test.
Mime::PNG is already defined.
Avoid hardcoded value in test setup/teardown.
document include_blank's usage with a string [ci skip]
Remove deprecated method ActiveRecord::Migrator.proper_table_name
Update getting_started.md
Update getting_started.md
Removed CaptureHelper#flush_output_buffer as it is only used in tests. reviewed: @tenderlove
[ci skip] remove double "in your"
Emit suggested generator names when not found
have an actual `NullColumn` object and update docs accordingly.
Revert "Correct Documentation for asset_tag_helpers"
For our build, stick with mail 2.5.x for now
Correct result, previously showing wrong result
Collapse PG default extractoin of most types to single regex
Bring type casting behavior of hstore/json in line with serialized
Use null column for association key types
Change wording of explanation about precision & scale of decimal numbers [ci skip]
Cleaned up duplicated CHANGELOG entry [ci skip]
reuse available belongs_to? method
Convert StrongParameters cache to a hash. This fixes an unbounded memory leak demonstrated on @tenderlove's latest blog post:
push splitting "to" up the callstack
Partially revert deprecation of *_filter
Pluralize params
force table creation
Add default_i18n_subject to the guides
oops! :bomb:
Routes specifying 'to:' must be a string that contains a "#" or a rack application.  Use of a symbol should be replaced with `action: symbol`. Use of a string without a "#" should be replaced with `controller: string`.
Revert "test pg, we don't care about the internal state of `column#default`."
use the factory method to construct the mapping
add tests for mixing :to and controller / action
push some options munging to an alternate constructor
add tests for nested lambda constraints
move options_constraints tests next to each other
only do is_a checks on `formatted` once
push options_constraints processing up
remove options as an ivar
only do Regexp === option once
return early from add_request_method
only loop over `options` once (hopefully)
only loop through constraints once
change defaults allocation to a one-liner
no longer need the scope ivar
only look up scope[:module] once
remove IGNORE_OPTIONS
:only is never used in Mapping, so rm the key
remove :defaults from the IGNORE_OPTIONS list
remove :constraints from IGNORE_OPTIONS
disconnect normalize_defaults! from options[:constraints]
disconnect options and scope from the `blocks` method
disconnect the constraints method from the options and scope hashes
:on is removed from options before the Mapping is instantiated, so remove it from IGNORE_OPTIONS
pull up via extraction and remove it from options / IGNORE_OPTIONS
always make :via a list
always pull out a via variable and simplify logic
test with an empty via
add a test for missing "via" parameter
remove :as and :anchor from IGNORE_OPTIONS
remove another value from IGNORE_OPTIONS
shorten up IGNORE_OPTIONS
only look up the format option from the hash once
Relax mail gem constraint from ~> 2.5.4 to ~> 2.5, >= 2.5.4
Keep column defaults in type cast form
test pg, remove unused column assignments. Follow up to 254cdf47
pg, preserve money type when dumping schema and extract money default.
test pg, rm unused requires.
Return a null column when no column exists for an attribute
Refactor quoting of binary data to not be based on the column type
Respect limit for PG bit strings
pg, preserve type when schema dumping bit and bit varying columns.
Refactor determination of whether the field has changed
test pg, move bit string type tests into `bit_string_test.rb`.
test pg, we don't care about the internal state of `column#default`.
pg, preserve point type when schema dumping.
pg test, examples for default values and schema dumping of point types.
Raise exception for scheduling jobs in the inline adapter
fix polymorphic? method and reuse it
call `capture` fewer times from `form_for`
drastically reduce object allocations
reduce AS::SafeBuffer allocations
Deep serialization
concat is a hotspot (via AV#append=), so just directly define the methods
Use logger environment settings in Rails console.
Remove unused `initialize_attributes` method
Add missing colon to internal
File.exist? instead of File.exists? in bin/setup
just use `assert`
[ci skip] explain association behavior.
[ci skip] add fixture docs link to guides
[ci skip] less derogatory explanation of defaults
[ci skip] fix "note" syntax
docs, fix typo [ci skip]
test pg, add basic test cases for point datatype.
pg, inline casting methods into `OID::Type` objects.
Feature requests should be made on the mailing list, not submitted to the issue tracker. See also #15455 [ci skip]
New records should remain new after yaml serialization
Cleaned up some edge cases with infinity, the logic seems more intuitive now
Avoid looping through subscribers when unsubscribing with a subscriber object.
:nail_care: for migrations guide from #15457 [ci skip]
Remove docs regarding grouping multiple values, as we should avoid duplicating API reference in guides. Also :scissors: [ci skip]
Update documentation to reflect unsubscription with name.
Refactor XML serializer to not depend on `serialized_attributes`
Test the serialized types of virtual columns in XML
Remove most code related to serialized properties
Don't change values in `@raw_attributes` during serialization
Remove unused values variable
Added missing test case for migrations when using sql structure
Add Total of grouped items to AR query interface on guides
Arel doesn't depend on activesupport and doesn't have "String#blank?" Remove usage of `.blank?` to match empty strings with a regular expression instead.
Create Changing Columns on migrations guides
- Remove four year old deprecation
config.assets.digests -> config.assets.digest
Removed 'Caching with Rails' guide from WIP, this guide isn't ready to be published and requires more attention. [ci skip]
Missing period from AP/CHANGELOG [ci skip]
[ci skip] correct doc for ActionView::Helpers::DebugHelper
[ci skip] Correct output of Hash#symbolize_keys
Test `except!` in other cases too
Tiny formatting fix in AS change log [ci skip]
[ci skip] Correct documentation of HashWithIndifferentAccess#dup
Update documentation for setting asset_host to a Proc, mention that the request parameter might not be supplied [ci skip]
Clear all caches calculated based on `@columns` when `@columns` changes
HashWithIndifferentAccess#dup doc [ci skip]
Add missing test case for writing unknown attributes
Update some bad test cases for serialized columns
Rename attribute related instance variables to better express intent
Update guides to mention 3.2.18.
Allow specifying a default value in overloaded properties
Change the version schema to reflect how deprecations are handled
bin/setup uses `bundle check || bundle install` to improve performance.
Update Minitest references in Testing Guide
refactor, introduce `Type#type_cast_for_schema` to cast for schema.rb
pg, support default values for enum types. Closes #7814.
pg, `default_sequence_name` respects schema. Closes #7516.
:scissors: removed deprecated `Numeric#ago` and friends
`bin/setup` script to bootstrap applications.
pg, `reset_pk_sequence!` respects schemas. Closes #14719.
pg, `PostgreSQL::Name` to hold schema qualified names.
[ci skip] Document Rails' shifted semver.
Mapping never actually uses @set, so rm
no reason to make a Mapper object if the path is blank
no more is_a checks on instantiation
Path::Pattern is instantiated internally, so make the contructor require a strexp object
Strexp#names is only used in a test, so rm
pass the parsed path from mapper to the Strexp
add an alternate constructor to Strexp that takes a string
ask the strexp for the ast
remove dead code
disconnect path from the instance
reuse the ast we already made
use a parser to extract the group parts from the path
pass the parsed parameters through the methods so we don't reparse or require caching code
[ci skip] Include ActiveModel::Model in a class instead of inheriting
Generated engines don't include bin/rake, fixes #15409 [ci skip]
Don't reference comments that do not exist
Move `type_cast_for_write` behavior over to the serialized type object
Add missing period from 4b802bc [ci skip]
document generators hidden_namespaces
[ci skip] add created_at and updated_at to example
Refactor serialized types to be partially defined as custom properties
"controllers" should be a valid path name
Update url to rake docs [ci skip]
Sidekiq::Client does not support symbols as keys
Name#model_name doesn't return a String object
Stray CR
Result sets never override a model's column type
implement ActiveRecord::Base#pretty_print + changelog
Update README.md
Update README.md
[ci skip] Make last note show up in postgresql guide.
Add missing `:param` option from the docs for Mapper#match [ci skip] Option discovered by @zackperdue in #14741, implemented in #5581.
Add @senny's changed from #14741, including code font for `resources` options, and wrapped to 80 chars. [ci skip]
Use github url for homepage of log4r [ci skip]
Remove TODO.
Ensure we always use instances of the adapter specific column class
controllers with slash names are also not supported, so we can reuse the message
only validate controllers
golf down a bit
only error handling between controller and action is the same
add a test for controllers without colons
move nil check to a method that yields to a block if the value is not nil
translate action / controller to the desired object
only one nil check on the action variable
change to case / when on types
only do one nil check against the controller
extract controller and action parsing to a method
we don't need the call to presence. that is my present, to you!
swtich to returning early if to responds to call
return early if we have a valid controller name
trade 2 is_a? checks for a nil check
invert logic to remove nil? and exclude? checks (use ruby rather than AS when possible
fewer blank? calls
reduce action.blank? calls
reduce blank? checks
extract controller checks to methods
[ci skip] Improve form_helpers.md guide.
set defaults at the top so we can avoid the ||= test
add a test for existing mapper functionality
add tests for argument error cases
Tagged logging
Keep  closer to other methods that touch @transaction
Maintain column order when overriding existing columns
Ensure custom properties work correctly with inheritance
Upgrading Ruby on Rails guide is no longer WIP [ci skip]
Formatting of content from b1db615 [ci skip]
Clear inflections after test.
Unregister Mime::Type in teardown.
Remove unused `Column#coder`
Avoid hardcoded value in teardown.
Add and remove renderer inside the test to prevent leak.
Move I18n.locale setting into setup and teardown.
Add with_default_charset helper.
Initial doc for TransactionIsolationError [ci skip]
pg, keep `hstore` and `json` attributes as `Hash` in @attributes.
Move types to the top level `ActiveRecord` namespace
Asserting on error message
Remove AR Properties from the public API
Add CHANGELOG entry for #15269 [ci skip]
Deprecate all *_filter callbacks in favor of *_action callbacks
Add test case for clear mappings
rm dead code
PARAMETERS_KEY is only used in the request, so move the constant there
rm reset_parameters because we automatically do it from 9ca4839a
move path_parameter encoding check to the request object
dispatcher doesn't need `call` anymore
call `serve` with the request on dispatchers
constraints class does not need the request class anymore
Test Case - Change method name
give all endpoints a superclass
Silence deprecation warning in test
Require active_support at the railties
rake railties:install:migrations respects the order of railties
Speed-up TimeWithZone to String conversion
Deprecate decimal columns being automatically treated as integers
Remove `require 'active_support'` from individual modules
Move test to the proper file
Add test case for b13d260
Typo in AR CHANGELOG [ci skip]
Test which checks the error being raised by #unsupported in ToSql Visitor
skip the build business if the stack is empty
stop hardcoding path_parameters and get it from the request
Pass through AM documentation re: 02d048d [ci skip]
Remove unnecessary branch from quoting in Mysql
Use "Action Mailer" as canonical name in documentation [ci skip]
Add description of ActionMailer::TestHelper module [ci skip]
Replace double quotes with single quotes while adding an entry into Gemfile
we do not need to cache rack_app
Add a public API to allow users to specify column types
Allow empty arrays in where predicates
Extract types which don't require additional typecasting to a method
[ci skip] Add benchmark your code section to contributing to ruby on rails guide.
Refactoring .reflections public method.
Refactor the handling of arrays in where predicates
a redirect is not a dispatcher by definition, so eliminate test
push is_a check up to where the Constraints object is allocated
Remove duplicated HashWithIndifferentAccess#with_indifferent_access.
correct docs for (asset|image)_path [ci skip]
Skip individual tests upon Dalli::RingError
Escape user input before showing in the page.
correct doc for (audio|video)_tag [ci skip]
update the recommended ruby version
Correct Documentation for asset_tag_helpers
Update README.md
Refactor the type casting of booleans in MySQL
remove unwanted `to_sym` call.
Remove checks against `column.type` in abstract adapter quoting
print generators on failed generate
Add missing test case for quoting behavior
Wrap nested Nodes::Grouping in brackets only once
Add an interface for type objects to control Ruby => SQL
pg, add missing `:nodoc:` to adapter.
pg, remove unused code. Use `extract_schema_and_table` instead.
remove unused variable warning `warning: assigned but unused variable - album`
Remove duplicated to_s method call.
simple solution that brings rake stats task to every kind of rails project
Rename Posts to Articles in Guides' Getting Started App, continuation of #15215 [ci skip]
pass the request object to the application
pass a request to `matches?` so we can avoid creating excess requests
nothing is passed to `rack_app` anymore, so rm the params
one fewer is_a check
Call get_routes_as_head only on HEAD requests.
Constraints#app should never return another Constraints object, so switch to if statement
[ci skip] Update GFM link in guides guidelines.
Add setting of FK for throgh associations while building
Convert source to string if it is present.
The correct status to test should be :switching_protocols.
Remove unnecessary flatten! method call.
Remove unnecessary require of Minitest.
eliminate dispatcher is_a checks
push is_a?(Dispatcher) check in to one place
Always construct route objects with Constraint objects
unwrap the constraints object on initialization, eliminate loops
Update all Rails 4.1.0 references in guides to 4.1.1 [ci skip]
integration tests do not need to load fixtures by hand
Improve readability of Explain Queries table in guides [ci skip]
Skip if the association was already loaded.
Use .to_s on _reflections lookup
documentation fix
rake stats for engines
Add FIXME note about the thor bug
fixed capitalization
Add documentation for using Rails with a reverse proxy
pg, remove duplicated code.
pg, extract schema definitions into separate file.
print generators on failed generate
[ci skip] Improve doc for ModuleConstMissing.guess_for_anonymous
Remove special case in schema dumper for decimal without scale
Constraints contructor should always return a Constraints object
default value is never used, so make it required
push options decomposition up so we can extract
glob_param is never used, so rm
Future port c8ddb61
Remove duplicated parameter check on #where!
update docs to include html id for select_tag
use Proc.new to automatically do parameter checking for us
Remove `Column#primary`
there is no formatter on the router object, so rm
decouple the router object from the request class
pass the correct custom request to the recognize method
switch to the `serve` method so we can remove the request class (eventually)
pull request allocation up one frame
extract request allocation from the main app serving routine
[ci skip] Remove Duration#=== when we drop support for 2.0.0-p353
use the accessors on the request object rather than touching env
find_routes only use the request, so stop passing env
Change typecasting unit tests to test type objects directly
remove NullRequest and just always pass a request class
use the request object since we have it
Inline type cast method for PG points
Move parsing of PG sql strings for defaults out of column
revert 96525d63 `Array#to` is working for negative position
Simplify the code in schema cache
Remove duplicated setup in test
add test cases for negative position in Array#from
Remove AD::Journey::Formatter#verify_required_parts!
Remove warning remeving the method before redefining
Change to 1.9 symbol-hash syntax
Added force_reload to Auto-generated methods doc
Bring the missing parameters back.
resolved reorder issue in rails active record guide
Don't swallow unhandled exceptions.
stop using PARAMETERS_KEY, and use the accessor on the request object
pass the instantiated request to the find_routes method
just return path parameters
use symbol keys for path_parameters
Avoid slowing down AR object initialization
fix test from 7537057888d2d63c3b6c2019d5828bc445fbd6c9
Don't recurse infinitely when calling non-existent method on super
Push limit to type objects
No need for the ClassMethods module
Removed not-used code
Push precision to type objects
Push scale to type objects
Move `extract_precision` onto type objects
Rename #perform_with_hooks to #execution
Add exception handling with built-in retry options
Rename `stack` to `queue`
Remove unnecessary `Hash#to_a` call
Standardize on "arguments" for everything -- no more "paramters"
Add callbacks, implement instrumentation as callbacks, and have the enqueue methods return a job instance
Use the generic type map for all PG type registrations
Allow additional arguments to be used during type map lookups
Change logging on perform to read more naturally
Hide the instrumentation mechanics a little better
Use `break` instead of `next` in AD::Journey::Formatter#match_route
Add travis configuration
Added tests for logging
pg test, extract tsvector tests into `postgresql/full_text_test.rb`
pg test, move timestamp tests over to `postgresql/timestamp_test.rb`.
pg test, extract network address type tests into separate file.
Do not gsub non ASCII characters in header anchor.
pg test, remove unused code.
Railtie hook on ActiveJob::Base
Form full URI as string to be parsed in Rack::Test.
Update CHANGELOG.md
Rename Posts to Articles in Guides, continuation of 2d446e77 / #13774 [ci skip]
drop hash allocations during match
fewer object allocations and method calls during route match
middle variable is never used, so rm
use the existing constant rather than the hardcoded string
remove dead code. @klass isn't used anymore
we can just use Ruby here
Move extract_scale to decimal type
reuse path formatter from the non-optimized path.
reduce object allocations
make variable name more clear
do not mutate parameters, let the caller do mutations
push the formatter up to the Route object
Active Job Railtie
fixes in active record query for reorder
DRY
Rename `oid_type` to `cast_type` to make PG columns consistent
Add missing nodocs to MySQL adapter
fix formatting and text for ActionController::Redirecting doc
Move PG OID types to their own files
Show which adapter the tests are currently run for
Rename Adapter.queue and .queue_at to .enqueue and .enqueue_at for consistency.
Don't deserialize parameters in individual adapters.
build fix, use lambda syntax that ruby 1.9.3 understands.
push `extract_scale` to the `Type`.
pg, extract money tests into separate file.
Ensure we are logging the serialized args.
Remove redundant code.
Delegate `klass` to the injected type object
Prevented belongs_to: touch propagating up if there are no changes being saved
we don't use this parameter for anything, so rm
fewer string allocations per url_for
mutate the path string to avoid object allocations
push only_path conditional up
push arg checking up
fewer method calls and string garbage when there is no user/password
fewer hash allocations when calling url_for
fix variable names, only pass hashes to the positional args method
Delegate `type_cast_for_write` to injected type object
Inline typecasting helpers from Column to the appropriate types
Use the generic type map for PostgreSQL OID registrations
Delegate predicate methods to injected type object on Column
remove dead code
cache the formatter on the path object
translate AST to a formatter before url generation
Use the generic type map object for mysql field lookups
Use ActiveJob::Base.logger instead ActiveJob::Logging.logger
Humanely readable timestamp for logging
prepopulate the dispatch cache so we don't need the ThreadSafe cache.
make the each visitor top-down left-right
Make it clear that the later test is skipped for adapters that do not implement it
Style
Highlight difference by placing addition at the end
Style
Clarify control flow
Collapse LogSubscriber into Logging
DRY up the two event loggings
mergy
Remove unnecessary comment
Switch to NIE
cleanup
More feedback
Update Readme.md
Replace `type_cast` case statement with delegation
Remove stray ##
merge master
Assert truthy
Use general types for mysql fields
Silence logger
Have Postgres OID types inherit from general types
Styling
Add logging for enqueued_at and perform errors
Move past time check out of adapters
Reformat the logging line and ensure we are logging the serialized args
merge master
Have Sneakers adapter take queue_name into account.
Delegate type_cast to injected type object in mysql
Delegate `#type_cast` to injected type objects on SQLite3
Moved log_subcriber dependency and cleanup
Remove all Sidekiq-specific stuff from job, enable retries by default
Distinguish rake assets:clobber from rake assets:clean
Added logging capabilities
Adds backburner adapter
Use generated binstubs in guides examples.
Add Sneakers test and inline setup/teardown
Update README with queue_as example and the desire for a Resque 2.x adapter
Clarify that the other option for name_or_adapter is to be a class (the Adapter class)
No need for the local variable
Add Que Adapter/Wrapper
Determine full class name dynamically in QC adapter.
fix `rake test_sqlite3_mem`.
docs, `instantiate` expects `String` keys. [Rafal Piekarski & Yves Senn]
Make consistent code style
Add using_resouce_with_json to controller.
Update README for currently supported adapters.
Reimplement Sidekiq worker
make the AST go from left to right, rather than right to left
fix escaping in generation
Add Sneakers wrapper
Revert "Rewrite journey routes formatter for performance"
remove debugging
Implement enqueue_at/enqueue_in
Implemented queue_classic adapter
Update README.md
RDoc enqueue
Remove :timestamp column type
Add ActionController::Renderers.remove.
Make tests for `Person` pass.
Add doc for setting the queue adapter.
Delegate `Column#type` to the injected type object
test, inline `DeveloperWithAggregate`, which is used by a single test.
Refactor Resque adapter to be more consistent with others
Make sure Bignum can be serialized
Styling
Have Sidekiq adapter take queue_name into account.
:scissors:
Update Gemfile.lock
Use bundle gem tasks
Whitelist legal job parameter types
Pull in rake
Add justification
Setting the adapter load the required gem.
Update README.md
Update README.md
Use case/when
Move to instance method and document usage
Move activemodel-globalid dependency to gemspec
No need to qualify the Parameters class with the namespace
Inline the job wrappers
pg, re-introduce `PostgreSQL::Utils` to unify schema/table extraction.
Update README.md
Use markdown instead of rdoc
Add GlobalID support for serialization
pg, add missing nodocs for extracted modules.
Spacing
Extract QueueName into its own module
Extract QueueAdapter module for setting and looking up adapters
Modified readme
Implemented delayed job
Dont need the explicit error handling -- if the require fails, it will raise exactly the error we want to communicate anyway. Also use the load path, so we can allow plugins, rather than requre_relative
pg guide, move introductory sentences into main content. [ci skip]
Correct whitespace in README
Since upgrading rack we can remove unnecessary string encodings https://github.com/rack/rack/commit/5a5aee36
Upgraded rack As Rack has some non backwards compatible changes added required modifications to keep behaviour in rails close to same as before.
Lazy-load adapters, fixes #6
List adapters supported and wanted
With dependencies for Sidekiq and Sucker Punch
Add Sucker Punch adapter/wrapper
Correct typo in version.rb
 Add Sidekiq adapter/wrapper fixes #3
Feature detect based on Ruby version.
A tiny pass through the PostgreSQL guide [ci skip]
copy edits[ci skip]
Clean up JobWrappers::ResqueWrapper.perform
Queue naming with a base, which requires a JobWrapper to comply to Resques expectation of a class variable
remove ecosystem link that is broken
Let others know why this code is here
early return on delete and destroy methods
Add ResqueAdapter and provide test infrastructure for the now multiple adapters
Rename to InlineAdapter to match *Adapter form, even if the queue is embedded in there too
Simplest job and inline queue
Run tests through Rake
Skeleton gem
Make `:index` in migrations work with all column types
Default config.assets.digests to true in development
convenience method for outer_join
Add a type object to Column constructor
Return self from #distinct so it's chainable
Added #update_manager and #delete_manager convenience methods for consistency
Use destructured arguments when looping through pairs
PostgreSQL timestamps are always datetimes
Put attr_reader in with all of the other instance methods
Remove dead test code for unsupported adapters
Document method visibility for designing API docs. [ci skip]
Collected TimeZone's class methods together
New applications should be created with json serializer
Add missing tests for column type cast behavior
fix symbol
Ensure :js is defined regardless of the outcome of the test.
prefer file name instead of filename [ci skip]
fix typo [ci skip]
fixed capitalizations [ci skip]
Updates reset_counters to allow counter name in params
Replace first person point of view on guides.
Add CHANGELOG entry for #15071 [ci skip]
foo :bomb:
Generate the cookies_serializer configuration with :marshal when upgrading
doc, pg `hstore` and `json` columns are mapped as `Hash`. [ci skip]
remove trailing whitespace. [ci skip]
Reorganize ActiveRecord tasks [Arun Agrawal & Abd ar-Rahman Hamidi]
Remove unecessary require
WIP: pass existing joins to construct_join_dependency
Remove the assignment for real this time.
prepend mutates the string so we can remove the assignment
Reuse the force_clear_transaction_record_state
Missed if :bomb:
Add a specific method to force the transaction record state clear
Our test suite isn't ready to run in random order yet :cry:
Remove code related to adapter which are no longer in repo
Document conflicts in `db/schema.rb` [ci skip]
fixed a typo [ci skip]
formatting pass through CHANGELOGS. [ci skip]
Clear transaction state if callback raise rollback
Small refactoring on clear_transaction_record_state
fixes stack level too deep exception on action named 'status' returning 'head :ok'
Changed extract_limit in class Column to return correct mysql float and double limits
Add RFC4791 MKCALENDAR method
Revert "Remove ruby-head from allow_failures matrix"
Remove ruby-head from allow_failures matrix
flexible ruby-oci8 version specification. [Gaurav Sharma]
update ruby-oci8 version specification. Closes #15109. [ci skip]
Remove unused method in RouteSet test.
Only path requirements are relevant to optimized urls
Add missing requires for require 'action_dispatch/routing'
:scissors:
Methods of these modules are internal
Don't use Active Support where it is not needed.
Make filter_binds filter out symbols that are equal to strings
rake, remove frontbase related tasks from Active Record Rakefile.
remove warning `ambiguous first argument; put parentheses or even spaces`
[ci skip]add updated information, ref[#522c0fd]
Update Redcarpet to 3.1.2
We need an explicit return
Following documentation guideline
Refactoring the code to make consitional return explicit
Follow the documentation guideline
Mark _prefix as nodoc
._prefix is private API so we should not recommend to override it
Improve CHANGELOG entry
PostgreSQLAdapter::Utils seems to be only used from a single spot - quite redundant
move PostgreSQL's DatabaseStatements out of the PostgreSQLAdapter name-space
PostgreSQL's SchemaStatements seems a could candidate for re-use (with AR-JDBC)
introduce AR::ConnectionAdapters::PostgreSQL for sharing modules (with AR-JDBC) ... 'shared' OID, ArrayParser and Cast helpers, also re-arranged Column's dependencies
minor: point to the right test suite location
remove count var
rename delete_all_records to delete_or_nullify_all_records
remove need for :all symbol
begin refactoring delete_records method
_recall should be set to a hash or not set
we never call url_for with a block, so rm
remove deprecation warning
drop || test for cases that do not need it
no need to check for presence, script names can be blank
extend with a module then use define_method
this method should always have a parameter passed to it, so remove the default
options should always be passed to url_for
calls with :host should still use the optimized path
Remove falsy deprecation note in AS guides [ci skip]
use fewer method calls to determine the url_for options
just merge instead of dup and merge
the :only_path option is applied by the time the helper is called
options already have symbolized keys, so we can avoid this call
Use i18n master to run tests
[postgres] include PgArrayParser directly and only load/include ArrayParser if not found
pg, clarify default behavior for composite types.
extract pg type map initialization process to `TypeMapInitializer`.
Do not check defined?(CGI) on every call #to_query
Get rid of unused method
Dup options hash to prevent modifications
Simplify merge call on polymorphic helpers
test, move all pg array tests into `postgresql/array_test.rb`.
Use with_translation helper to clean up I18n stored translations.
Move state restoration from setup/teardown into affected test cases.
docs, explain usage of `count` + `select`. Closes #15065. [ci skip]
Remove unnecessary setup and teardown.
A minor stylistic fix and cleanup of mail deliveries.
fix bad merge
avoid array allocation when extracting usernames and passwords
Ok. Enough models for today :rage:
Test with ruby-head to make @tenderlove happy
This is also a model
This model is a model so it should behaves like one
flip conditional to use if/else instead of unless/else
Revert "reduce conditionals in url_for"
:cry::gun: use an empty hash for magical speed.
this class is a model, so it should act like one
use the helper method builder to construct helper methods
probably should not check in a raise
undo optimized calls until the builder object is finished
remove suffix from the handler methods
push list handling to the builder object
push string handling to the builder object
push model and class handling to a helper builder object
adding a method to handle strings using the same api
fix url_for with classes
break each polymorphic type to it's own method
remove dead code
only test `persisted?` on the record once
only send options if there are any options
add a test for the parameters sent to the url helper for new records
remove should_pop variable
only pop records when we get an array
remove unnecessary array allocations
simplified route method name generation
small refactoring
pulling helpermethods up before refactoring
push all is_a tests up, always pass options to the named route
pull nil checks up
skip another Array is_a check
only do the Array is_a check once
we always convert this variable to a list, so we can remove the unconversion
record as a hash is not possible, so rm branch
stop popping in build_named_route_call
remove extract_record since we have extracted the list
always pass a list to build_named_route_call
add a test with three objects
add a test for passing two models to the polymorphic_url method
typo: resulution -> resolution [ci skip]
deprecate AbC:Base::parent_prefixes. rename ::_local_prefixes to ::local_prefixes to state the public attribute. document the latter. make ::local_prefixes private, test overriding it and remove documentation for overriding ::_parent_prefixes.
reduce conditionals in url_for
simplify AC:ViewPaths::_prefixes. by making it recursively traversing up the inheritance chain, classes can override local prefixes.
extract route key translation to a method and reuse it
make the module version quack the same as the instance
Hash#except is expensive and this is a hotspot, so use a dup + delete
Update require in `array_ext_test.rb`
Update and add tests in array_ext_test.rb
Require active_support/core_ext/string/output_safety and use html_safe rather than use non-public SafeBuffer API.
Use block parameter rather than `$1` during `gsub!` so `ActiveSupport::SafeBuffer` values aren't mangled.
Add multiple lines message support for SSE module
test, use `columns_hash[]` in place of `columns.find {}`.
:scissors:
pg, `change_column_default` accepts `[]`. Closes #11586.
pg, map `char` and `name` types as string. [dark-panda & Yves Senn]
pg, fix Infinity and NaN values conversion.
Handle other pk types in PostgreSQL gracefully.
Modify assert conditions not to be affected by each database bind variable naming conventions
Update attribute_methods.rb
correcting method documentation [ci skip]
Remove unnecessary include for integration tests.
Remove redundant tests method.
Replace :base with :in [ci skip]
Tidy up implementation of #15010
Make TimeZone#parse behave more like Time#parse.
docs, make `ActionNotFound` public API. [ci skip]
adding complete message in documentation [ci skip]
Always use the provided port for protocol relative urls
ActionDispatch::Http::URL.normalize_port should not strip port for protocol relative URL.
pg guide, PostgreSQL legacy table view example. [ci skip]
docs, fix typo in docs added by ed56e596a04673. [ci skip]
Change Gemfileâ€™s double quotes in plugin generator
Keep method's description/documentation consistent [ci skip]
minor change in AR readme [ci skip]
copy edits [ci skip]
deprecate, join, preload, eager load of instance dependent associations.
Add controller and action name to the instrumentation payload
skip dealing with params if none are provided
don't mutate the options hash, so we don't have to dup
[ci skip] add example to AR#assign_attributes
use fnmatch to test for case insensitive file systems
use unless and || since these options are boolean
Documentation, add examples of using an Enum scope
test, regression test for has_many with instance dependent scope.
Only need MINOR version level to test Ruby 2.1.x on Travis
just call the method and assert the return value
[ci skip] doc ActiveSupport::TimeWithZone#to_s
[ci skip] doc Http::Headers methods
Use ruby 2.1.2 on travis
add tests for path based url_for calls
don't manipulate the testclass, just add helpers to the instance
add a test for classes with options
add tests for the polymorphic_path method
Change 'a' to 'an' [ci skip]
[ci skip] Minor improvements on routing.md.
Improve documentation for asset_url
fix formatting errors [ci skip]
copy edits [ci skip]
add more tests around the polymorphic url api
set a constant for the "anonymous" habtm model fixes #15022
test, regression test for unparsable PostgreSQL defaults.
test, reset changed state in PG's uuid tests.
pg guide, inet code example. [ci skip]
Allow custom asset host to be passed in asset_url
Branch name should match in text and code example.
Dup the changed_attributes otherwise we could lose them
Use Rails::Paths::Path#existent in database_configuration
Add CHANGELOG entry for #14989
Return a non zero code when db has never been setup on status
Keep track of dirty attrs after after rollback.
Remove old FIXME comment
Make badges more consistent [skip ci]
test for inconsistency between String and Symbol url_for handling
HTTP::Headers#key? correctly converts
add tests for symbols passed to polymorphic_url
[ci skip] document ActionDispatch::HTTP::Headers
[ci skip] document type_cast_for_write
test, persist inherited class with different table name. Refs #14971.
fixed typos in active_record basics [skip ci]
Follow-up to #14990 [ci skip]
rename `str` to `string` to fix overshadowing of variable
Update links to new rails version in guides [ci skip]
[ci skip] Add feature section and normalize prologue with other guides.
apparently passing a string to polymorphic_url is something we support
make sure url_for works similar to polymorphic_url
add a test for the parameters sent to the url helper for new records
fix guides mobile nav issue [ci skip]
typo [ci skip]
Include label value in i18n attribute lookup
several enhancements to humanize [closes #12288]
Ensure that .process return the method return
Only accept actions without File::SEPARATOR in the name.
Moved 'params[request_forgery_protection_token]' into its own method and improved tests.
pg guides, some stylistic changes [ci skip]
pg guide, advanced features [ci skip]
pg guide, datatypes and examples. [ci skip]
refactor and clean up delete_all method
Refactor AssociationScope#get_bind_values Added #join_id_for(owner) to reflection to avoid accessing the source_macro
Guides: output valid HTML5
Add support for module-level table_suffix in models
Improve CHANGELOG entry [ci skip]
Support to add the casting node to the AST at build time
Put back Relation#join method as a delegate to Array
Get rid of unused method in AR Post test model
Get rid of extra local var that does not add to the logic
Arel master is 6.0.0
Arel master is 6.0
Improve CHANGELOG entry
Use assert_raises
Do not use short-circuit return
Improve CHANGELOG [ci skip]
No need the else clause
Invert the if/else clause
Follow-up to #14905 and formatting pass
Remove deprecated file(`active_support/core_ext/object/to_json.rb`) and its test case.
Convert column name to string only once
Use the reader attribute rather than the instance var when possible
Simplify building options hash in rename column method for mysql
Get rid of conditional since column_for handles raising now
Simplify unless conditional with OR
Convert column name to string only once
Rails One Click is not maintained anymore [ci skip]
Document ActionController::TestCase::Behavior#process
refactor, move `column_for` to `AbstractAdapter` for better reuse.
Remove tests method for test cases when controller can be inferred.
Reorganize ActiveRecord tasks [Arun Agrawal & Abd ar-Rahman Hamidi]
Remove duplicated fixture addition
Refactor test to not care about the specific result of valid?
docs, restructure newly added part to `includes`. [ci skip]
Typo, grammar and textual changes [ci skip]
Test typecasting on instance rather than class itself
Use #include? instead of #any?, make it simpler
Add missing require to fix test :bomb:
Add branch to arel on Gemfile to allow local bundle config [ci skip]
Move dup destroyed test to specific file that tests dup logic
passing a nil in the polymorphic array is not supported. remove nils before you call the method
make `db:structure:load` listed with `rake -T`
Updated README
push up bind params on "simple" subquery calculations
passing a nil should always raise an ArgumentError
eliminate repetition in guide links for past releases [ci skip]
Test with Ruby 2.1.1
Add singular and plural form for some validation messages
skip-git should not hit git commands plugin generators
Works correctly if git not installed
Automaticly add username and email if configured in git-scm, as bundle gem
Tiny follow up to #14915 [ci skip]
Added link for 4.1 guides on edge guide [ci skip]
Add collector argument to address ArgumentError: wrong number of arguments (2 for 1)
[ci skip] Update guides license to CC BY-SA 4.0 International.
Follow up to 38ad5438 [ci skip]
Enhance a bit a few changelog entries [ci skip]
Form_tag_helper grammar fix [skip ci]
only add the optiosn if they are not empty
always pass options to the _url method
never merge url options in to the first data hash
always use File.join
[ci skip] Security guide clarity.
Remove unused variable
Avoid unnecessary conditional block
Give real privacy to class methods in AR::PredicateBuilder
Add documentation to select_tag for :selected option
[skip ci] Document: required `via` option in `match` routing method.
avoid calling extract_record multiple times
eliminate conditional when sending the named route method
do not allocate strings while creating urls
don't allocate string on hash access
Stringify variables names for mysql connections
split nil / Hash cases in url_for
the use of ... in place >> using ... instead
rewrites the API docs of favicon_link_tag [ci skip]
cleanup, remove trailing whitespace. [ci skip]
Update the Getting Started tutorial
add test to check that loaded and non laoded are the same
clear shouldnt fire callbacks so remove order test
rewrite test to correctly test clear method
flip conditional in delete_all to handle nullify better
[ci skip] updating active_record/associations to demonstrate where conflict with eager loading.
simplify the delete all w/ dependency method
remove unnecessary code from delete method
write a new method to be accessed from delete_all
Added a missing `end`
Remove double declaration of memcache services on travis
Test quoting integers when comparing a string column with integers.
Revert "Don't rely on Arel master in bug report template [ci skip]"
Swallow bundler exceptions when running tests
Revert "Running AR tests on postgres, mysql & sqlite"
Revert "Document ActionController::TestCase::Behavior::ClassMethods.process"
Generators, remove leftover variable assignment. refs #14877
Warning removed for missmatched indentation
Grammar and formatting fixes in Form Helpers Guide
move AR length validation tests into separate test-case.
No need for trailing slash on migration path.
reset `@arel` when modifying a Relation in place.
PostgreSQL Timestamps always map to `:datetime`.
[ci skip] Improve formatting and yml
Improve readability of contributing to rails guide. [ci skip]
Precompile the image we're referencing, too.
`ActiveRecord::Base.no_touching` no longer triggers callbacks or start empty transactions.
Revert "Edge Rails applications doesn't need to use arel master"
Correct comment [ci skip]
Perfer to define methods instead of calling test
Add CHANGELOG entry for #14757 [ci skip]
use statement cache for belongs_to relations
extract record fetching to a method for belongs_to
Add test for using ActionView::Helpers::FormHelper.label with block and html
select! renamed to avoid name collision Array#select!
Rearrange deck chairs on the titanic. Organize connection handling test cases.
Revert "Revert "Revert "update doc, assert_template also accepts false"""
Revert "Revert "update doc, assert_template also accepts false""
Revert "update doc, assert_template also accepts false"
Running AR tests on postgres, mysql & sqlite
Change favicon_link_tag helper mimetype from image/vnd.microsoft.icon to image/x-icon.
ActionController::Renderers documentation fix
Changed miss-leading comment [ci skip]
[ci-skip] correct the classify example's output
Document ActionController::TestCase::Behavior::ClassMethods.process
replace class_eval by define_method in abstract_controller/callbacks
[ci skip] builtin -> built-in
Grammar fix in Getting Started Guide
Make URL escaping more consistent
Optimize URI escaping
Always escape string passed to url helper.
update doc, assert_template also accepts false
Remove reference to outdated section
skip migration check if adapter doesn't support it
Remove statement assuming coffee shop/public space wifi is inherently insecure
Don't rely on Arel master in bug report template [ci skip]
[ci skip] Added example for number_field_tag method
[ci skip] Added example for date_field_tag method
[ci skip] Added example for email_field_tag method
wrap methods in backticks [ci skip]
"subhash" --> "sub-hash"
multibyte_conformance.rb --> multibyte_conformance_test.rb
`@destroyed` should always be set to `false` when an object is duped.
remove warning `warning: ambiguous first argument; put parentheses or even spaces`
:uglify -> :uglifier
Regression test for irregular inflection on has_many
Singularize association names before camelization
Optimize select_value, select_values, select_rows and dry up checking whether to exec with cache for Postgresql adapter
Include default rails protect_from_forgery with: :exception
Remove wrapper div for inputs in button_to
Update Request forgery tests to remove input wrappign div
Add CHANGELOG entry for #14755 [ci skip]
Change the method description
Implement to_io as an alias
Bring SQLite3Adpter init API closer to others
CSRF protection should rescue exception not extend
Autoload ActiveModel::StrictValidationFailed
[ci skip] Added examples for url_field_tag method
[ci skip] Added examples for telephone_field_tag method
[ci skip] Added examples for search_field_tag method
[ci skip] Added examples for color_field_tag method
[skip ci] Reorder i18n guide
`sanitize_sql_like` escapes `escape_character` not only backslash.
SQL Like escaping helper method. [Rob Gilson & Yves Senn]
[ci skip] Avoid suggesting dangerous code in i18n guide
Object#duplicable? 1. Improve tests 2. Remove unnecessary constant 3. Add docs for BigDecimal#duplicable?
Update AC::Metal documentation example [ci skip]
Add CHANGELOG entry for #14766 [ci skip]
Changed change_column in PG schema_statements.rb to make sure that the uuid_generate function was not being quoted.
Hide BelongsToAssociation#increment_counters and #decrement_counters
Restore the destroy_by_association check in post destroy counter cache
[ci skip] document `statement_limit`
[ci skip] PP does not generate pass by default
Provide interface for accessing underlying IO object
re-phrase how to run a test
Set _after_create_counter_called flag to make update counter cache work
use cache queries for hm:t associations
[ci skip] Use valid current config in example
use YAML.load_file in database tasks example
[ci skip] Add missing end in one of the examples in Migrations.md.
Make sure the column_name is different from 'all'.
The Association Relation should use `empty?` and `size` from Relation.
oops. should probably double check in the DCL
cache scope building on associations
Make console and generators blocks works at Application instance level
:scissors:
Return null type format when format is not know
Remove outdated comment
Use inheritance chain instead of callbacks to increment counter caches after destroy
Use inheritance chain instead of callbacks to increment counter caches after create
Remove wrapping div with inline styles for hidden form fields.
Refine tests for assert_select failure messages
[ci skip] Added link to ruby-lang.org installation.
Use the index on hidden field
`collection_check_boxes` respects `:index` option for the hidden filed name.
Display diagnostics in text format for xhr request
docs, double meaning of `serialize` argument. Closes #14284.
Added documentation for the :param option for resourceful routing
Just call read_attribute, no need to use `send`.
again, read_attribute is public, so just call it
read_attribute is public, so we should just call it
Disable assest cache store in docs [ci skip]
Make counter cache decrementation on destroy idempotent
Write the failing test case for concurrent counter cache
[ci skip] Use plain underscore instead of "\_".
[ci skip] Improve doc, fix grammatical issue
Update documentation to use Rails.application instead
Remove surplus period from assertion messages
Add a changelog entry for #14546 [ci skip]
Move tests for deep_dup and duplicable to object directory
use an array for bind params to simplify substitution
Missing 'are' in note - [ci skip]
CollectionHelpers now accepts a readonly option
Bundle tzinfo-data on :x64_mingw (64-bit Ruby on Windows).
don't bother with an offset if the offset is zero
test gem build in ci process, inspired by issue #256
only add the offset and index when we need to
remove branching logic from calls to find_nth
Ensure that the comparison between 'CollectionProxy' and 'AssociationRelation' is consistent.
Make the comparison between 'Relation' and 'AssociationRelation' consistent.
Change links to 37signals and svn blog to point to new destinations. [ci skip]
please use Ruby, not ActiveSupport
always add a space before keywords (it is easier)
propogate bind values collected in arel to SQL generation
The comparison between `Relation` and `CollectionProxy` should be consistent.
Correct docs as singlton true is not returned here
Document LoadError core extensions
Use path where extensions are defined, not used
Use assert_not
New CHANGELOG entries are in to top of file
:scissors:
fix exception on polymorphic associations with predicates
Add CHANGELOG entry for #14619 [ci skip]
Be explicit about allowed constraint values, fixes #14702
Move assets precompile (and version) to an initializer
Add more test case for #demodulize, Improve documentation
Re-review the debugging guide.
Only make deeply nested routes shallow when parent is shallow
Split search results into 'exact matches' and 'fuzzy matches'.
Improve CSS styling for routing error html page.
Implement fuzzy matching for route search on routing error html page.
PostgreSQL, warn once per connection per missing OID. Closes #14275.
PostgreSQL, adapter automatically reloads it's type map. Closes #14678.
Minor fixes in the rails debugging guide
docs, make association `autosave: true` examples runnable. Closes #14700
decouple the factory method from the constructing model
remove intelligence from StatementCache#initialize
stop caching the class on the statement cache object
fix ivar names and add reader methods
eagerly build the cacheable query builder
eagerly build the bind map
eagerly build the relation object
remove dead code
[ci skip] Remove false documentation
Add after_commit/after_rollback to callback list
Remove warning of unused variable
No need to call send
Require action_controller before any other action_controller file
Get rid of the visit select hack
Allow INSERT INTO <table> SELECT queries
[ci skip] Update code snippets to latest master (initialization.md). Also update the `server.run` example (Replace Mongrel with Puma).
Prevent generation of extra whitespace in templates
Isolate debugger related code
Add a failing test for a URL helper that was broken by a6b9ea2.
Correct factual error for page not found
+EOL
Only call uniq on the conditional that actually needs it
Remove extra collect call
Make sure the reflection test is passing a String to the reflection cache.
Make the aggregate_reflections cache work with strings as its keys.
No need to call `to_sym` on reflection name, since the cache now works with strings with string keys.
Make the reflections cache work with strings as its keys.
speed up parameter substitution
tests still pass when caching unprepared statements
remove the bind visitor since the collector handles substituting bind values
push the collectors up to the abstract adapter
sqlite3 tests passing again
mysql tests are passing again
all tests passing on mysql2
fix spacing so that Rails is happy
working against arel/collector branch
rhs bind parameters should be visited
fix bind collecting for mysql
add test for sql string collector
fix bind values in insert statements
add a bind collector, remove the bind visitor
add a compile method to the collectors
add services: memcache to travis
remove the bind substitution visitor. to_sql should never return bind values
adding a bind value collector
use the compile method so we do not have to specify the collectors in this case
add a compile method for some backwards compatibility
The `source` option for `has_many => through` should accept String values.
working against arel/collector branch
make the bindvalue visitor backwards compatible
Avoid URI parsing
Add missing require so requiring `active_support/cache` works again.
depend_on_asset is not required anymore on sprockets-rails 2.1.2
upgrading section for 4.1 is no longer WIP. [ci skip]
fixing BINARY tests
fixing EXTRACT
fixing OVER
fixing select core tests
fixing sql_literal tests
fixing insert manager
fixing test_table.rb
fixing bind value tests
Expand explanation of how to set secrets.yml. [ci skip]
fixing ibm db
informix is working
mssql visitor is working
finally stop returning strings
loop over cores twice to make the collector implementation more convenient
build the ast rather than passing around strings
move the ORDER BY to the RowNumber method
move all the "ORDER BY" together
use if / else so my brain stops hurting
refactor mssql nodes to move away from string interpolation
fixing mysql visitor
oracle tests passing
postgresql visitor is working
fix sqlite visitor
push reduction visitors to a reduction base class
Guides: minor typo fixed [ci skip]
select manager tests are passing
more select manager tests passing
removing unused join_sql method
making some of the sql manager tests pass
remove order_clauses since we do not use it
Instead boat load of libraries, simply say StdLib
to_sql is passing
fixing some tests in to_sql
new CHANGELOGs entries are in the top [ci skip]
Updates the maintenance policy with new Rails versions
Dont abbreviate that which needs no abbreviation
Dont encourage aliases now that we have variants
bind visitor working with collector object
Update debugging guide to use byebug
Use short-form for the scaffold render calls and drop the needless test
Update Gemfile templates to provide correct debugger
Keep debugger support only for rubies < 2.0.0
Drop in @jeremy's new database.yml template text
Don't deprecate after all
Less ambition, more deprecation
Ensure we correctly and immediately load all ENV entries
Give a deprecation message even when the lookup fails
Rearrange the config merger some more
entry is always a Hash
Check env_url only once
Only call DEFAULT_ENV proc one time
Test DATABASE_URL has precendance over DATABASE_URL_#{environment}
Make sure DEFAULT_URL only override current environment database configuration
Only apply DATABASE_URL for Rails.env
Ensure we are looking  with string keys
Follow up to bbe7fe41 to fix enum leakage across classes.
wrap the literal value before handing it to arel
fix whitespace and unsupported method args
Add Regexp and NotRegexp nodes for PostgreSQL
where_values should extract the value of the Casted node
Rails.application should be set inside before_configuration hook
remove check for present? from delete_all
Remove useless begin..end
Build the reverse_order on its proper method.
Use connection-specific bytea escaping
Ignore order when doing count.
make enums distinct per class
Remove unused `subclass_controller_with_flash_type_bar` var from flash test.
Add documentation for Thread#freeze
fix CollectionProxy delete_all documentation
Added OS X specific commands to installation guide [ci skip] Recommended using homebrew for installing MySQL and PostgreSQL
Use SVG version of travis build status badge [skip ci]
Improve Contributing to Rails Guide
W3C CSP document moved to gihub.io URL [ci skip]
sprockets-rails was released
Add CHANGELOG entry for #11650 [ci skip]
Declare the assets dependency
Use sass-rails 4.0.3
Make possible to use sprockets-rails 2.1
add missing parentheses to validates_with documentation [skip ci]
Remove unused variable
Active support instead of ActiveSupport::Deprecation.silence we can use assert_deprecated
Ensure we supply Kernel#y for 1.9 too
test, show current adapter behavior for `add_column limit: nil`.
PostgreSQL and SQLite, remove varchar limit. [Vladimir Sazhin & Toms Mikoss & Yves Senn]
Prevent state leak in test.
Block a few default Class methods as scope name.
Improve error message for guides:generate:kindle
Explicitly load Kernel#y when starting a console
Minor improvement: Use the merge method on the relation instead of instance_eval directly.
Simplify the code in target_scope
Treat blank UUID values as nil
Add ConnectionHelper to refactor tests.
In Active Record Querying guide, currently `Merging of scopes` section uses a concept of default scope in its example before it is introduced in the following section titled `Applying a default scope`.
flatten object.children in visit_Arel_Node_And
Add a CHANGELOG entry for the has_many :through scoping fix (See #14537 for details).
CollectionProxy uses the arel of its association's scope.
Avoid including DB details in exception messages
Avoid a spurious deprecation warning for database URLs
Move require to actual file
Complete change of `sqlite3:///` path handling
Revise 'sqlite3:' URL handling for smoother upgrades
Use asert_deprecated
DRY AS::SafeBuffer a bit using existing helper
We can conditional define the tests depending on the adapter or connection.
PostgreSQL, Support for materialized views. [Dave Lee & Yves Senn]
cleanup, `reset_pg_session` in range_test.rb
Allow postgresql enum_test to be run in random order.
Changed 'so' to 'see'
push move_string in to `move`
combine move_regexp and move_string so we only loop over states once
do not create memo objects since we'll just throw them away
only ask if `t` is empty once.
Clarify 'database does not exist' message and implementation.
fix, adjust OID query without range support to include required fields.
refactor, use `typtype` instead of `typinput` to segment PG types.
PostgreSQL, register custom domains. Closes #14305.
PostgreSQL determine `Column#type` through corresponding OID. #7814
refactor assert_sql query to reuse capture_sql
Make AS::SafeBuffer#prepend act like String#prepend
fix delete_all to remove records directly
add test to compare sql statements in delete_all query
add capture_sql method to compare sql statements and compare
Add test for selected and disabled custom attributes in options_for_select
refactor, put `PostgreSQLColumn` into `column.rb`.
Added right and full outer joins
Tiny doc fix for Strong Parameters
Simplify Preloader#grouped_records code.
Do not overwrite selected and disabled attributes
fix mysql builds
fix bug on non empty defaults for pg array columns
No need to call to_sym
Require yaml explicitly
Refactor test to use DdlHelper.
copy edit [ci skip]
Ensure we are returning either `true` or `false` for `#==`
Replace trivial regexp with string or index, twice as fast
Add CHANGELOG entry for #12778 [ci skip]
PostgreSQL, use `PostgreSQLColumn` in PG specific tests.
PostgreSQL, test-cases to lock down column default values.
HashWithIndifferentAccess better respects #to_hash
PostgreSQL, test cases to lock the current column types.
Adds explanation of :base attribute to errors.add
AR .persisted? throws SystemStackError for an unsaved model with a custom primary_key that didn't save due to validation error
Add CHANGELOG to Active Model too [ci skip]
ActiveRecord/ActiveModel '#validate' alias for 'valid?'
Clarify environment_name for logs
require dependency to execute a single test from xml_serialization_test
only run citext_test if the connection supports_extensions?.
Add a test case for save(validate:false) with invalid foreign key.
Edge Rails applications doesn't need to use arel master
Remove unused method
Improve CHANGELOG entry
No need to use begin/end blocks
No need to gsub the string
Don't use send when we own the method
Make method private
Improve the method
Remove unneeded comments about feature support on the adapters
Invert the conditionals to make easier to read
Append link to bad code to backtrace when exception is SyntaxError
link to "Schema migration" Wikipedia page. Closes #14479. [ci skip]
create indexes inline in CREATE TABLE for MySQL
initial commit for collector implementation
Use rails convetions
remove the default parameter and updated comment
take in to account quoted and translated values
clarify CHANGELOG [ci skip].
update comments to reflect that options support is not available
synchronize changelogs and 4.1 release notes. [ci skip]
removed the attribute that was left in for testing
Removed all the fiels in lib/arel/visitors/ which needs dependency on 'a' also fixed the test case for : test/visitors/test_to_sql.rb:22 which pass in the parameter attribute e.g the parameter a.
do not rely on method_missing hitting arel
use ARel factory methods for building AST nodes
build quoted nodes in factory methods
build quoted strings
add the casting node to the AST at build time
- Rename `increment_or_decrement` to an apt `set_cache_value` since it actually doesn't increment/decrement in localstore.
Check if any sqlite files are not included in the gitignore
Remove sqlite3 lines from .gitignore if the application is not using sqlite3.
Adding active_model in Rails::Info
Clean up tables after each test.
Swapped parameters of assert_equal in assert_select
Update test helper to use latest Digestor API
Digestor should just rely on the finder to know about the format and the variant -- trying to pass it back in makes a mess of things (oh, and doesnt work)
Log the full path, including variant, that the digestor is trying to find
fix log_tags request object grammar
Mention required glob param name in match docs for mapper
Extract with_example_table into helper method.
test for structure:dump without schema information table. refs eafec46
Warning removed (...) interpreted as grouped expression
Deprecate Class#superclass_delegating_accessor
The digest option is no longer honoured since Rails 3.0 [ci skip]
Remove extra indirection for testing exceptions and messages
Postgres schema: Constrain sequence search classid
Remove some indirection in rake dbs test
Check if the output is empty rather than asserting for equality
Improve touch docs with extra attributes passed in [ci skip]
only dump schema information if migration table exists. Closes #14217
Cleaning and adding tests for Session
ActiveRecord#touch should accept multiple attributes #14423
Refactor assertion of line numbers matching 4 spaces
Move booting/loading tasks setup to the rake notes helper method
Extract rake notes command and lines scan boilerplate
Remove extra space assertion
Extract common setup for loading tasks in rake notes tests
Added a warning about serializing data with JSON cookie jars [skip ci]
Reorder conditional logic
Add counter cache test for class_name
test should only pass if the pool.size+1 checkout fails
use a latch to avoid busy loops
Reap connections based on owning-thread death
Teach PostgreSQLAdapter#reset! to actually reset
Rake notes should picked up new Extensions registered in the config/application.rb file
Update command line  guide
Update documentation on group method to indicate it takes an array
Add Changelog Entry ref #14379
`where.not` adds `references` for `includes`.
fix `number_to_percentage` with `Float::NAN`, `Float::INFINITY`.
format ActiveRecord CHANGELOG. [ci skip]
Add an explicit require for 4ece124396669d3580e7f229ab407a0d4882727a rather than assume SecureRandom is available
Avoid concurrent test collision on the same memcache server by namespacing keys
Add config.annotations, in order to register new extensions for Rake notes at config level
Use nested_scope? not shallow? to determine whether to copy options
Remove extra white-spaces [ci skip]
Let COMMAND_WHITELIST be an Array, not a String
Extend fixture label replacement to allow string interpolation
Reword 5.6 strong parameters and private method stuff [ci skip]
Minor grammer, code conventions fix [ci skip]
Clarify AV::Digestor.digest method signature docs and deprecation warning
Remove deprecation on active_support/core_ext/class/attribute_accessors requires. Appropriate to keep this, users don't care that the implementation got unified.
re-raise error if error occurs before committing in streaming
Use teardown helper method.
Still touch associations when theres no timestamp
Obey `validate: false` option for habtm
Update callbacks executed on AR::Base#touch [skip ci]
Supporting .ruby, .yml and .yaml Extension in Rake Notes
Remove .scss, .sass, .less, .haml, .slim, coffee from Rake Notes. Now we have an API for register it in the corresponding gems
Add Public Api for register new extensions for Rake Notes
Take in consideration guides CHANGELOG
Match the whole string
better test error messages
Allow custom JDBC urls
Force sass-rails ~> 4.0.2 to avoid sprockets compatibility error
Avoid duplicated conditionals
Introduce #with_formats_and_variants to prevent problems with mutating finder object
Set format in finder
Rename _setup_options to _options_for_digest
Disable LookupContext's cache when looking for template
Don't pass hash as keys to #find method
Add variants to Template class
No need to binds be optional
Add test for deprecation warning for passing an AR object to `find`.
require actions rather than create_file
Make select_all on query cache accept a Relation without binds.
Test deprecation warning for passing an ActiveRecord object to `exists?`
add the deprecation to adequate record too
passing an instance of an AR object to `find` is deprecated
passing an ActiveRecord object to `exists?` is deprecated.
`where` automatically uses bind values now
make tests pass on Ruby 2.2
Don't create addition vars, use options[] directly
Don't pass variant in params, it's ignored
Use Sqlite3 adapter in examples
use the body proxy to freeze headers
just ask the response for the commit status, we do not need to ask the jar
only write the jar if the response isn't committed
use method_defined? to check whether or not a method is defined
Enhance docs for update_attribute [ci-skip]
Change usec to 0 on tests that compare seconds
Unit test for mysql quote time usec
Changelog entry for mysql56 microseconds
Test microsecond on mysql 5.6
MySQL 5.6 and later supports microsecond precision in datetime.
[ci skip] Add documentation for original_fullpath.
Remove mocking on save, when not necessary
comment why we are modifying global state. [ci skip]
`change_table` supports `citext`. Follow up to #12523.
Removed unnecessary command "application"
register OID for PostgreSQL citex datatype [Troy Kruthoff & Lachlan Sylvester]
Completely remove potential global state leaks in ActiveModel tests.
minor fix to 4.1 rel notes for begin_transaction joinable option [CI skip]
current_adapter? accepts multiple arguments
mysql adapter also fails with a number bigger than int
The 4.1 release notes is already a thing so lets show in the guides links
Change the assertions depending in the database adapter
Do proper adapter check
Whitespaces
Cleanup Parrot after each test.
Enhance readability of ActionView DateHelper#distance_of_time_in_words
Run ActiveModel test suites in random order.
Ensure LookupContext in Digestor selects correct variant
Move changelog entry to the top, highlight module name [ci skip]
Copy shallow options from normal options when using scope
Pull namespace defaults out of the options hash
Only use shallow nested scope when depth is > 1
Move setting :scope_level_resource to resource_scope
Updating select helper doc [ci skip]
Make the rails:template rake task load initializers
docs, shorten CsrfHelper description and refer to security guide. [ci skip]
added CSRF helper to rails guide documentation. Closes #11615. [ci skip]
Tests for indifferent access using full_messages_for. Closes #11916
Make sure we clean preview_interceptors
Add preventDefault() on click event
fix typo app -> all
unscope doesn't remove only the default_scope, but all of them.
[ci skip] Add "Low-Level Caching" part to "Caching With Rails"
Update doc for TagHelper.
Introduce `Rails.gem_version`
Do note remove `Content-Type` when `render :body`
Remove a reference to an issue [ci skip]
get rid of intermediate arrays.
we only need to support `asc` and `ASC`. No need for mixed cases. #14263
docs, flash message keys are normalized to strings. [ci skip]
quick pass over Active Record CHANGELOG. [ci skip].
Make CSRF failure logging optional/configurable.
Allow string hash values on AR order method
Replace map.flatten with flat_map in railties
Always return an array from formats so there is no need to wrap it when calling
Variants in ActionView::Digestor
Inline block to fix indent [ci skip]
Use 1.9 style hash on docs [ci skip]
Simplify handling of defaults/options in button_tag
Added missing changlog entry for #14255
Add Enum type to postgresql adapter's oids to prevent unknown OID warnings.
remove private method and rewrite into more precise notation
Make exists? use bound values.
Replace map.flatten with flat_map in activerecord
Replace map.flatten with flat_map in actionpack
Cache key should be different when is Array.
rollback to private method
cleanup and move extracted method right into the helper
Add spaces to deep_munge log message.
fix content_or_options to be replaced by options and set to nil
Add a comment to ensure that a test won't be removed [ci skip]
fix indentations
fix form button
fix button tag without options
fix accept nil options
fixes default attributes for button_tag
Refactor tests from BaseRackTest into BaseRequestTest
Replace map.flatten(1) with flat_map
make sure we wait for the threads to shut down before asserting closure
use built-in exception handling in live controllers
live controllers should have live responses
Remove unnecessary db call when replacing.
[ci skip] use secrets.secret_key_base instead of config.secret_key_base use secrets.yml instead of secret_token.rb
set the error callback to a nice default in case nobody set an error callback and an error happens
Improve collision explanation for Hash#transform_keys.
[ci skip] correct select examples and doc, ref [522c0fd]
Improve a bit the 4.1 release notes [ci skip]
`includes` uses SQL parsing when String joins are involved.
[ci skip] use secrets.yml instead of secret_token.rb in the action controller guide
Improve guide for Hash#transform_keys and related methods.
we can't cache when the arguments are a hash
modify model generator warning message. refs [#174c9f0]
Replace "data store" with database [ci skip]
Return a hash rather than array from fetch_multi
Pass strings to demodulize method
pass strings to the underscore method
speed up `underscore` in cases that don't need to do anything
pass the class name to `tableize`
[ci skip] Update list of files extensions in rake notes guide
[ci skip] Move association class method notes
Handle tab in token authentication header.
extract common code in `uuid_test.rb`.
move PostgreSQL UUID tests from `datatype_test.rb` to `uuid_test.rb`.
Avoid namespacing routes inside engines
[ci skip] remove guide section on models in migrations
test case for custom PostgreSQL enum type.
Remove inclusion of rubysl gem for rbx on generated Gemfile
let `insert_record` actuall save the object.
travis s/2.1.0/2.1.1
Bump version of bcrypt gem
Skip test_migrate_revert_add_index_with_name if databases do not allow to create duplicate indexes on the same columns
Optimize getting started guide images, and use png instead of jpg
:scissors: [ci skip]
Point master changelogs to 4-1-stable branch
Add missing parantheses in index_exists?
`ActionDispatch::Head` was replaced by `Rack::Head`. Closes #14191.
[skip ci] Standardized punctuation.
refactor, with_locale is not needed because I18n is mocked.
Go with #presence_in instead of #present_in -- it doesnt sound quite as good, but the closer relationship to #presence over #present is ultimately worth it
refactor, extract `with_locale` helper.
Simple Sungularize ActionController::UnpermittedParameters error in case when only 1 parameter is unpermitted.
build fix. follow up to 174c9f0df39cd338a4871f82794256cc64f68a81
include names in model generator warning message. refs #13515.
Group assets options in production env template
Extract local cache middleware
Introduce Concern#class_methods and Kernel#concern
Coerce strings when reading attributes.
update version to 4.2.0.alpha
deprecate support for pg ranges with excluding beginnings.
dynamically define PostgreSQL OID range types.
Add tests for default scope behaviour change
:scissors:
Add warning when user tried to create model with pluralize name.   1. Generate model with correct_name.   2. It will help new users to avoid mistakes when tried to create model with wrong name.
Tweak Configuring Guide language
typos fixes
Distinguish ConnectionNotEstablished messages: no conn pool for the class, or no conn available from the pool
Pass a base relation to build_default_scope when joining
Handle missing environment from non empty config
Revert "Only lookup `config.log_level` for stdlib `::Logger`. Closes #11665."
Prevent foreign_key_for? from type casting all attributes
releasing Rails no longer needs triggering docs generation by hand [ci skip]
[ci skip] update guides to new version of rails 3.2.x
adding a test for #14106
Revert "context in validation goes through has many relationship"
Check if the `request` variable isn't nil when calling render_to_string
Add regression test for collection proxy reader
Revert "speed up the collection proxy reader method, but slow down the constructor"
change 'assert !' to 'assert_not' in guides [ci skip]
[Active Record] Renamed private methods create_record and update_record
Pointing to latest guides [ci skip]
Methods silence_stream/quietly are not thread-safe [skip ci]
Moved explanation of `--mountable` option up
[ci skip] Close the meta tag with '/>' instead of '>'
fixed the readme per discussion w/ tenderlove
Update Docs in favor to use render plain instead of text option ref #14062
cache queries in the Model.find(id) path
Typo fix for unscope
Use the reference for the mime type to get the format
Preparing for 4.1.0.beta2 release
Correctly escape PostgreSQL arrays.
Escape format, negative_format and units options of number helpers
Sync 4.1 release notes with changes since 7f648bc7 [ci skip]
Update upgrading guide regarding `render :text`
Add `#no_content_type` attribute to `AD::Response`
Add missing CHANGELOG entry to Action View
Update guides for new rendering options
Cleanup `ActionController::Rendering`
Introduce `render :html` for render HTML string
Introduce `render :plain` for render plain text
Update hash format for render_text_test
Introduce `render :body` for render raw content
Don't use `# =>` when it is not the expression values
Document the default scopes change on the release notes, CHANGELOG and upgrating guides
Move changelog entry to the top, fix examples indent [ci skip]
Minor grammar/punctuation fixes [ci skip]
Use assert_nil instead as its clearer about what the return is expected to be
Added Object#present_in to simplify value whitelisting
Doc: assets:precompile:all was removed on 4 [skip ci]
Aesthetic [ci skip]
Tell default_scope are prepended [ci skip]
Updated doc for default scope [ci skip]
 Test case for Issue No 242.
travel_to travels back and re-raises if the block raises
adds a missing travel back
time helpers honor the application time zone when passed a date
add AST cache to the find_by method
No need to use symbols
Don't skip tests if they are not broken. Just don't define they
Resolve encoding issues with arrays of hstore (bug 11135).
Do not try to write timestamps if they are missing #8813
Correct prestreaming controller response status.
Add a missing changelog entry for #13981 and #14035
implements new option :month_format_string for date select helpers [Closes #13618]
add factory methods for empty alias trackers
guarantee a list in the alias tracker so we can remove a conditional
stop exposing table_joins
make most parameters to the AliasTracker required
make a singleton for AssociationScope
pass the association and connection to the scope method
pass the tracker down the stack and construct it in the scope method
clean up add_constraints signature
remove the reflection delegate
remove klass delegator
remove railties changes. fixes #14054
remove chain delegate
remove scope_chain delegate
Add verb to sanitization note
fix path shown in mailer's templates
updated Travis build status image url
fix guide active_support_core_extensions. add Note to String#indent [ci skip]
remove unused fixtures from sqlite3 test cases
SQLite3Adapter now checks for views in table_exists? fixes: 14041
Getting started guide fixes & Explain X-SendFile a little better, with links
remove more delegate methods
:scissors: whitespace
rm delegate methods that are not actually used
JoinHelper is never reused, so there is no need to separate
No variant should also be picked up by variant.any if variant.none is not defined (just like any other variant)
Add hint to error message of task db:migrate:down
speed up the collection proxy reader method, but slow down the constructor
Check if variant array contains only symbols
Drop the correct index after reverting a migration
tests are responsible to clean up afterwards.
Dont use Enumarator on join_association
Variant negotiation
Terminate the backend ourselves on PG 9.2+
`execute` is a hotspot, so let's reduce branches
Added tests to render helper that expect `render partial: @foo` to automatically call @foo.to_partial_path
do not crash when `config/secrets.yml` is blank.
Amended json_escape comment to clarify that user-generated content must still be html_escaped if being inserted ingot he DOM via JQuery's html() method.
Update Travis settings for Rubinius
[Testing Guide] Explain usage of assert_redirected_to with named routes and Active Record objects [ci skip]
Hide bundler output for `rails new` if quiet option is specified.
adding missed change
adding connection parameter to check_pending for migrations
Allow assignment right member to reference columns
Revert "Don't symbolize tainted data." [ci skip]
Don't symbolize tainted data.
add patch in HTTP Verb Constraints [ci skip]
test case to illustrate current PostgreSQL composite behavior.
rm warning about variable shadowing
Migrate hash-based cookie values correctly
Updated CHANGELOG, docs, guides and release notes.
Added changelog entry for Flash changes [ci skip]
Missed FlashHash#replace
Remove serializer option from session_store.rb template
Re-write legacy (marshal) cookies on read
Stringify the incoming hash in FlashHash
Convert FlashHash in a Hash with indifferent access
Changed the tests to ensure HybridSerializer actually migrates the cookies (currently failing)
Tests for the HybridSerializer
Removed an old test
Added HybridSerializer to upgrade existing marshal cookies (wip: need tests)
Just very so slightly better test coverage
Renamed session_serializer option to cookies_serializer
docs, hide inflector comment targeting only contributors. [ci skip]
Add tip about using RDoc's --pipe command to quickly test the output of a piece of documentation.
Add missing directory slashes [ci skip]
Update history
Remove deprecated Arel::Expression
Remove deprecated Arel::SqlLiteral
Remove deprecated constant aliases
Remove deprecated `SelectManager#joins`
Remove deprecated `SelectManager#to_a`
Removed deprecated `Arel::Sql::Engine` and make use of `FakeRecord::Base` inplace directly for test helper.
Avoid using deprecated arel constants
docs, link to HTTP and CGI header definitions. [ci skip]
docs, update broken link. [ci skip]
docs, mention that the current inflection rules are frozen. [ci skip]
A pass over the Getting Started guide sections 1, 2, and 3 [ci skip]
`Rails.threadsafe!` mode is deprecated
Set the :shallow_path as each scope is generated
add test coverage for activemodel Dirty#reset_changes
add actionmailer test coverage for undefined delivery method
Simplify doc [ci skip]
Clarifying confusing phrasing
Remove end of line whitespace from bb87c16
add activerecord test coverage for `sanitize_sql_array`
move alias method `sanitize_conditions` to a correct place
adds a section about booleans in the API guidelines [ci skip]
Use full-length version of multiple from c7abc51
docs, link MySQL manual for multi column indexes. [ci ckip].
Specify what #starts_with? we're talking about. Also added a note what kind of exception we should expect for this internal comment.
FilterParameters is referenced at the class level from the Request
use File.exist? instead of File.exists?
Prevent [response].flatten from recursing infinitely.
use feature detection to decide which implementation to use
Remove outdated TODO from url_for test, this test was fixed in 900a2d30
Add missing test for response destructuring.
Reaper has access to threadsafe active? call
Skips linked folder tests if symlink is invalid
Skips tests on Windows that create files with illegal characters
Add test case for autosave HasMany with accepts_nested_attributes.
Updated the cookie docs to use the safer JSON.{generate,parse}
context in validation goes through has many relationship
Rely on backticks instead of tt tags [ci skip]
docs, Cookie values are String based. Closes #12860. [ci skip]
Adjust test value so that timezone has no effect
Add tests for Nodes::Equality and Nodes::NotEqual to the ToSql class.
[Testing Guide] Mention :unauthorized in assert_response explanation [ci skip]
Require action_view to fix missing constant
Tests that skips a controller filters that was set up using a class
Add config to disable schema dump after migration
docs, Associations also raise on name conflicts. [ci skip]
synchronize 4.1 release notes with CHANGELOGS. [ci skip]
update contribution doc grammar. [ci skip]
Add CHANGELOG entry
Refatoring the method to avoid shot-circuit return
Test with a blank value
Move test to the right file
fix interplay of humanize and html_escape
Return sized enumerator from Enumerable#index_by
Return sized enumerator from Batches#find_each
Return sized enumerator from Batches#find_in_batches
Strengthen test with different nb of rows and columns
Remove obsolete test (builtin group_by is now used)
Remove obsolete line (was needed for Ruby 1.8.7 support)
Allow failures on rubinius
Use rbx on travis
Sync CHANGELOG
Add tests for PostgreSLQ bugfix regarding invalid SQL in subqueries when using matches() or does_not_match().
remove gemnasium batch from README. [ci skip]
PostgreSQL bugfix for invalid SQL in subqueries
Removed unused commented code [ci skip]
docs, AR already auto-detects primary keys. Closes #13946. [ci skip]
Document that enum conditions must use the ordinal value
[ci skip] Add missing 'task' to note on Running Migrations
Add CHANGELOG entry for #13935 [ci skip]
add missing sharp [ci skip]
docs, link MySQL manual for multi column indexes. [ci ckip].
`#to_param` returns `nil` if `to_key` returns `nil`. Closes #11399.
Missing closing parenthesis.
Upgraded jquery-rails gem version
Make sure transaction state resets after commit
docs, be clear that `options` is a hash. Closes #11904. [ci skip].
some wording format changes. [ci skip]
pass `habtm :autosave` to underlying `hm:t` association. Closes #13923.
docs, revisit polymorphic associations with STI example. [ci skip]
docs, reference to ruby-lang.org. refs #13492. [ci skip]
`rails_guides/helpers.rb` requires `YAML` to run.
fix HABTM w/out primary key errors on destruction
Adding an documentation example and a test to button_to with path
Assert the file is deprecated
Remove BigDecimal#to_d
Don't require BigDecimal serialization extension
Remove warnings for already defined methods
Make arel methods private API
this class depends on JoinHelper, so we should require it
just require the template resolver
only ask for the location filters once
FilterRedirect is referenced at the class level from the Response
Maintain the current timezone in wrap_with_time_zone
Minor changelog improvements [ci skip]
Updated association_basics.md [ci skip]
Remove unused variable.
Associations now raise `ArgumentError` on name conflicts.
Do not discard query parameters on requests that use wrap_parameters
Let `unscope` ignore non Arel scope.where_values
fix typo and indent. [ci skip]
Improve documentation [ci skip]
Remove automatic removal of Date/Time stubs after each test case
Add `travel_back` to remove stubs from `travel` and `travel_to`
tidy CHANGELOGs [ci skip]
docs, `references` is only used with `includes`. Closes #13727.
Modify the session serializer implementation
find_in_batches should not mutate its argument
Use each_value
Store the singleton_class in a local variable
Change the class and method visibility
Use instance method instead of before hook
Alias the original method first to avoid warnings
Implement a simple stub feature to use in the Time travel helpers
Aesthetic
Added some style changes in asset pipeline documentation
Enhance errors while retrieving database config
Mention find_each in find_in_batches doc [ci skip]
`enum` now raises on "dangerous" name conflicts
`scope` now raises on "dangerous" name conflicts
Update CHANGELOG properly with GH #13692 [ci-skip]
Allow session serializer key in config.session_store
Correctly send the string given to lock! and reload(:lock) to the lock scope - fixes #13788
always use a block for cleanup / prepare callbacks so we can clean the method signature
scope is not necessary
Added documentation for css_compressor
Handle aliased attributes in AR::Relation#select, #order, etc.
Log which keys were set to nil in deep_munge
Add docs about behaviour of replacing a has_one associate object, that the previous one is deleted even if the new one  doesn't get persisted to database.
Add CreateMigration action
Replace File.exists? with File.exist?
use the new clear_validators! api everywhere to reset validators in tests
Clear filtered request attributes between requests in tests
docs, remove deprecation entry in favor of abe6484. [ci skip]
Use the new clear_validators! api to reset validators in tests
mention #13314 in 4.1 release notes. refs #12140. [ci skip]
Rails config for raise on missing translations
Ability to specify multiple contexts when defining a validation.
docs, clarify usage of `action_mailer.default_options`. [ci skip]. Closes #13820.
Display value when raising due to unscope() issues
Make ActiveSupport::TimeWithZone#xmlschema consistent
Add support for JSON time_precision to Time and DateTime
Add CHANGELOG entry for #11464
Rename subsecond_fraction_digits option to time_precision
Consolidate JSON encoding tests in one file
Customize subsecond digits when encoding DateWithTime
adds a section about booleans in the API guidelines [ci skip]
API guidelines: revises warning about +...+ [ci skip]
revises references to :allow_(nil|blank) in some docs [ci skip] [Steven Yang & Xavier Noria]
Maintain current timezone when changing time during DST overlap
Remove an extra comment [ci skip]
Support underscored symbols in Action Mailer config
Don't use a class_attribute for ActionMailer::Base.preview_path
Add the ability to intercept emails before previewing
Correct grammar from '... allowing both thread web servers ...' to '... allowing both threaded web servers ...'.
Add a missing changelog entry for #13825 [ci skip]
Replace Post with Article in getting started guide [ci skip]
Remove old comments about suppressing warnings.
Add additional tests for #13824
Transform dashes to underscores in resource route names
Some minor fixes
Removed old tests
Got all the new tests passing
Restored the ability to clear the password with user.password= nil (see the docs)
Rewrote the tests for has_secure_password
Remove unused argument.
Reordered classes in AR Validation #validates_with example [ci skip]
Add a test-case for GH #13825
app_rails_loader.rb should check if bin/rails is a File before calling File.read(exe); closes #13825
`framwork` => `framework`
`easiy` => `easy`
`requies` => `requires`
Remove unused assignment to fix warnings in enum test.
unify param.require tests
test boolean and number json param parsing
Update ActiveModel::Errors.has_key? test
Move changed_attributes into dirty.rb Move serialization dirty into serialization.rb
Improve the CHANGELOG entry [ci skip]
Make CollectionProxy#reset return self
Add failing test for ActiveModel::Errors#has_key? method
put core at the beginning so other classes can modify the behavior
Remove duplicate merge
[ci skip] Added missing `file` delivery method
Calling reset on a collection association should unload the assocation
Ensure AR #second, #third, etc. finders work through associations
Use string as keys
Store the enum values in the DEFINED_ENUM constant
add missing information for `id` field when used with `select` [ci skip]
`has_one` and `belongs_to` accessors don't add ORDER BY to the queries anymore.
prepend table name for `Relation#select` columns.
Add more tests for the dirty feature for enums
Make enum feature work with dirty methods
Extract all attribute changed work to its own method
Active Record changelog wording and formatting. [ci skip]
Fail early with "Primary key not included in the custom select clause" in find_in_batches
Remove missed usage of @first variable
Forgot to push this change in the parent commit
When applying changes or reseting changes create the right class
Remove unneded argument
Ensure #second acts like #first AR finder This commit bring the famous ordinal Array instance methods defined in ActiveSupport into ActiveRecord as fully-fledged finders.
moving controller_name assignment before model name condition
Tidy up tests and CHANGELOG for #12598
Automatically convert dashes to underscores in shorthand routes
Automatically convert dashes to underscores for url helpers
docs should say `email` not `Email`. [ci skip]
docs, hyperlink the `Mail gem` in Action Mailer guide. [ci skip]
let's link to the gem README not to the upgrading guide. [ci skip]
Correcting link that is pointing to Rails blog [ci skip]
Update Error Message when secrets.secret_key_base isn't given
Add link to upgrade guide for full list of deprecated finders [ci skip]
Update Changelog, Spring is under rails/spring [ci skip]
Spring in now under rails/spring [ci skip]
spring gem moved to rails/spring
Restore ActiveRecord states after a rollback for models w/o callbacks
Correct the version number to 4 in guides[ci skip]
fix exception translation
translate exceptions on prepared statement failure
test to ensure bad prepared statements raise a StatementInvalid exception
set encoding to binmode for pipe
fix the method signature
run the damn tests @tenderlove
oops!
Remove outdated comment.
don't cache the connection (because we don't need to)
fixing explain tests for sqlite3
Revert "adding set_binds"
remove dead code
Consistence in the block style
Remove warnings on Ruby 2.1
Only some dynamic finders are deprecated.
clean up security guide: his => their [ci skip]
change query strategy based on adapter
psql implementation of #index_name_exists?
Remove warning
Extract a method to simplify setup code
Use minitest's skip rather than conditionals + early returns
Move AR test classes inside the test case
Do not set up a variable used only in two tests
No need for instance vars on single tests
Cleanup duplicated setup of callbacks in transactions tests
No need to use #send with public methods
Update deprecation warning to give more information about caller
define the delegate methods on one line. fixes #13724
Remove duplicate configuration option for ActiveSupport [ci skip]
Make AR::Base#touch fire the after_commit and after_rollback callbacks
Revert "methods are defined right after the module_eval, so we don't need to do"
Revert "Don't remove trailing slash from PATH_INFO for mounted apps"
Add failing test for #13369
reset column information after fiddling with `Encoding.default_internal`
we have `with_env_tz` as global test helper. Remove duplicate.
isolate class attribute assignment in `migration_test.rb`
use `teardown` for cleanup, not `setup`.
tests without transactional fixtures need to cleanup afterwards.
no need to `return skip` in tests. `skip` is enough.
methods are defined right after the module_eval, so we don't need to do any line number maths
Get rid of unused TransactionError constant
Avoid converting :on option to array twice when defining commit/rollback callbacks
use a params hash so we know what bind parameters are used
Unify changelog entries about single quotes [ci skip]
use edge arel
SQLite3: Always close statements.
some databases do not have bind params (mysql2) so take that in to account
fix exception translation
rm dup code
test bind value equality
translate exceptions on prepared statement failure
reorder bind indexes if joins produced bind values
expliticly make STI column a bind value
directly create the ARel AST
take in to account existing bind parameters when building the bind list
Updated comment to mention the enum mapping class method [ci skip]
match against bind values
comment out the sqlite3 debug code (for now)
fix statement cache execution
add bind values to the manager class
fix cache class interface
unscoping a where should remove bind values
remove dead code
"string" isn't a valid column type for ActiveRecord
drop the dual encodings table
where needs to bring the bind params when creating a new relation
`where` makes bind values, so stop manually creating them
switch to arrays for bind removal test
`where` creates binds, so do not create them manually
we should not be copying these. fixes test_find_all_using_where_with_relation_with_bound_values
remove dead code
adjust AST tests to respect bind values
Use single quotes in generated files
where uses bind values so we don't need to manually create them
remove test that does not apply anymore
don't establish a new connection when testing with `sqlite3_mem`.
sqlite >= 3.8.0 supports partial indexes
Don't try to get the subclass if the inheritance column doesn't exist
Enum mappings are now exposed via class methods instead of constants.
quick pass through Active Record CHANGELOG. [ci skip]
[ci skip] Grammar correction
single quotes for controller generated routes
[ci skip] Added alias to CSRF
explains for prepared statements should never have binds in SQLite3
fixing column alias resolution
fix tests for explain plan + binds
replace bind values on calls to to_sql
do not clear out bind parameters on unscope
unscope should remove bind values associated with the where
reverse_order_value= is not private, so no need to send
avoid more dynamic symbols
no need to to_sym
recover from test runs that leave the database in a bad state
updates screenshot data [ci skip]
"serie" => "series"
revises a few things in the getting started guide [ci skip]
Set NameError#name
Favor canonical environment variables for secrets
add punctuation
e-mail => email, and subject/verb agreement
check bind parameter uniqueness
removed extra comma [ci skip]
adding bind values to the manager object
bubble bind parameters up when building join dependencies
Only lookup `config.log_level` for stdlib `::Logger`. Closes #11665.
Updated Changelog to reflect removal of :dependent => :restrict
setup Bundler in engines `bin/rails` stub.
standardize on jruby_skip & rbx_skip
fix bug in becomes! when changing from base to subclass. Closes #13272.
highlight http://localhost:3000 in README.md. Closes #13643. [ci skip]
doc proc/lambda arg on inclusion validation. Closes #13689. [ci skip]
Skip Spring App Generator tests on JRuby
fixes a typo in a CHANGELOG
upgrade SDoc
fixes the Gemfile generator templates
force table creation
use enum labels as form values. Achieved by `_before_type_cast`.
Removing without_thor_debug
doc, API example on how to use `Model#exists?` with multiple IDs. [ci skip]
Restore DATABASE_URL even if it's nil in connection_handler test
Clarify behavior of json_escape, update examples
[ci skip] - error_messages_for has been deprecated since 2.3.8 - lets reduce any confusion for users
Update changelog
Avoid scanning multiple render calls as a single match.
Improve ERB dependency detection.
Ensure Active Record connection consistency
Revert "ask the fixture set for the sql statements"
Check `respond_to` before delegation due to: https://github.com/ruby/ruby/commit/d781caaf313b8649948c107bba277e5ad7307314
Adding Hash#compact and Hash#compact! methods
MySQL version 4.1 was EOL on December 31, 2009 We should at least recommend modern versions of MySQL to users.
change to "check out"
clear cache on body close so that cache remains during rendering
add a more restricted codepath for templates fixes #13390
refactor generator tests to use block form of Tempfile
Move finish_template as the last public method in the generator
Minor typos fix [ci skip]
make `change_column_null` reversible. Closes #13576.
create/drop test and development databases only if RAILS_ENV is nil
Revert "Speedup String#to"
typo fix in test name. [ci skip].
`core_ext/string/access.rb` test what we are documenting.
Extract comparison array to a constant for the time being until removing the check completely.
Make change_table use object of current database adapter
Use a better method name to check the requirement of password confirmation
Add 'e' var on rescue DalliError, in order to log it
activerecord: Initialize Migration with version from MigrationProxy.
Remove warnings in test suite
add example to the CHANGELOG entry from 3a48b83e5 [ci skip].
Add missing tests for invalid names in `rails plugin new`
quick formatting pass through CHANGELOGS. [ci skip].
update 4.1 release notes with deprecation commit link. [ci skip]
Require actionview/version
Ruby is a proper noun here, not part of code fragment [ci skip]
Allow an absolute controller path inside a module scope
Add CHANGELOG entry for #10634 [ci skip]
Remove method redefined warnings for test suite
Switched to use `display:none` in extra_tags_for_form method.
Unique the segment keys array for non-optimized url helpers
Show full route constraints in error message
Simplify arg parameterization
Use a custom route vistor for optimized route generation
Removed EngineProxy in SelectManager tests
Assert that SelectManager#project accepts a raw String
Add preview_path to autoload_paths in after_initialize
provide correct example of `datetime_select` helper [ci skip]
Bump minitest to 5.1.
Test  against ruby 2.1 on travis.
Add deprecation I accidentally missed
Change all "can not"s to the correct "cannot".
Raise if MemCacheStore doenst receive a Dalli obj
Minor typo fix [ci skip]
mem_cache_store requires dalli, so only accept dalli/client
No need to use fixed size font [ci skip]
Whitespace [ci skip]
Building new records with enum scopes now works as expected
Deprecate unused `symbolized_base_class` and `symbolized_sti_name`.
Remove README inaccuracy, where does not allow multiple arguments
Use DATABASE_URL by default
provide correct information [ci skip]
Automatically maintain test database schema
Reverse 821525e and wrap run_generator call
Adding missing require
Enable fast_finish in the travis configuration
Downgrade bundler until 1.5.2 is available
Move default production database to URL sub key
Add CHANGELOG entry for #13557 [ci skip]
Removed elipsis indicating that the reader should have more code than what is pasted.
Make explicit that the view file need to be created [ci skip]
Do not highlight rake routes output as ruby code [ci skip]
Don't lazy load the tzinfo library
update copyright notices to 2014. [ci skip]
Improve enum documentation
Improve the tests to not call assert_nothing_raised
Avoid raising a NameError on FreeBSD using Date
[ci skip] Add missing flash message in block filter example.
Allow engine root relative redirects using an empty string.
Change the inexistent database name to inexistent_activerecord_unittest to make this grant statement described in the document works
Update grant statement to address #13549
Add the ability to nullify the `enum` column
Improve tests to use only public API
add test case
Use `Array#wrap` instead `Array()`
Make outer joins on proper parent
https://github.com/rails/rails/commit/2075f39d726cef361170218fd16421fc52bed5a8 introduced a regression in includes/preloades by calling `read_attribute` on an association when preloading takes places, instead of using loaded records in `association.target`.
Allow "url" sub key in database.yml configuration
[ci skip] ConnectionSpecification::Resolver Docs
Update explanation to match example
tidy AR CHANGELOG. [ci skip]
Add a missing changelog entry for #13534 [ci skip]
Remove deprecation warning for FIXTURES_PATH
Revert "Install bundle gems to the system not to vendor/bundle"
Extract db url connection logic to class
raise `ArgumentError` exception if `Model.where.not` is called with `nil` argument
Install bundle gems to the system not to vendor/bundle
used user-defined configurations for running tests that might depend on user's system configuration
blank? and present? commit to return singletons [Xavier Noria & Pavel Pravosud]
Extracted blank matcher regexp to constant
setting `changed_attributes` instance variable if it is already initialized.
Typo fix [ci skip]
Update to Unicode 6.3.0
Copy changed_attributes across to newly become'd records
Ensure backward compatibility between Minitest 5 and 4
doc fix. Use `sess.path` within `open_session`. Closes #13490. [ci skip]
Adding missing backslashes in active_model files so as to avoid unwanted links in rdoc [ci skip]
Minitest::Unit::TestCase is Minitest::Test [ci skip]
rbconfig is not used in these files
Add any/all support for variants
Use String#scrub when available to tidy bytes
Improve font of some code in API documentation [ci skip]
fix 2.1.0 bug :(
ensure environment is run before db:structure:load
Partial fix of database url tests
Cast env to symbol, fixes deprecation warning
Avoid getting redefined method warning
Test with 2.1.0
Added Backslashes to ActiveModel::AttributeMethods to prevent unwanted links in the rdoc + some other doc fixes.[ci skip]
Typo rectified commom => common[ci skip]
using symbol instead of string in establish_connection
Unused classes in AP tests
Unused class in AV test
Move mysql2 test for when adapter will be loaded
Revert "Ensure secret_key_base is set for all environments"
Better missing `secret_key_base` error message
Ensure secret_key_base is set for all environments
Raise NoDatabaseError when db does not exist
[ci skip] Update getting started Ruby version.
Deprecate use of string in establish_connection as connection lookup
Only build a ConnectionSpecification if required
Unused classes in AV tests
AC::Parameters#permit! permits hashes in array values
Disable locale checks to avoid warnings in Active Model tests [ci skip]
Update CHANGELOG [ci skip]
Use the new Resolver API in dbconsole
Add examples and namespace ENV options with "RAILS_"
Guarantee the connection resolver handles string values
Tidy up fix for PG extensions quoting
Serialize postgres' hstore, json and array types correctly in AR update methods.
Do not consider PG array columns as number or text columns
Move the null mime type to request.format
Do not store production information in .yml files
[ci skip] a destroy action in controller, not delete [getting_stated.md].
Tell how to Create a Database in Error Message
On destroying do not touch destroyed belongs to association.
added test cases for Resolver#connection_url_to_hash
Add missing av/railtie require
CHANGELOG entry for #13451. [ci skip]
fix quoting non-strings
Use the same enum definition in the docs and in the comments [ci skip]
Add comments with urls for email previews
Use Full path to sqlite database in tests
Enable memcached service on travis for running cache tests.
Add a changelog entry for #13326 [ci skip]
optimizes array conversion in AC::Parameters
Add a changelog entry for #13363 [ci skip]
refactors AC::Parameters#fetch
Test with 2.1.0-rc1
converts hashes in arrays of unfiltered params to unpermitted params [fixes #13382]
fix url connections for sqlite3
`html` and `text` templates for mailers by default
Bump Jbuilder version to 2.0.0
Use sass-rails 4.0.1
Do not expect database user with app name to exist
change CollectionAssociation's comments to say Association instead of AssociationProxy to match changes for 3.1 removing Association proxy.
[ci skip] trailing documentation whitespace
Flag `config.assets.raise_runtime_errors` in dev
[ci skip] Describe precision + scale in migrations
Improve CHANGELOG entry [ci skip]
quoting: Check if id is a valid method before using it
Make `rails runner` command options more obvious
fix default select when from is used
Make sure multiline string is not accepted by the regexp
Make possible to use symbol as the verifier name
Change the message verifier argument to verifier_name
revises the release notes about message verifiers (second take) [ci skip]
Revert "revises the release notes about message verifiers [ci skip]"
revises the release notes about message verifiers [ci skip]
Remove <tt> tag in 4_1_release notes. [ci skip].
couple of tweaks to the release notes [ci skip]
Revert "Update contributing_to_ruby_on_rails.md"
Revert "Update security.md"
Revert "Underscore in markdown should be escaped with backslash [ci skip]"
pass over half of the release notes [ci skip]
[ci skip] Remove <tt> tag in 4_1_release notes.
Prevent creation of instance methods when `instance_reader = false`, Grammar checks, Conditional statements combined
Show routes defined under assets prefix
Prefer assert_raise instead of flunk + rescue to test for exceptions
Update configuring guide with I18n options regarding available locales
Unused classes in AMo tests
Unused classes in AS tests
fix typos and grammar mistake [ci skip]
set encoding UTF-8 for accepting multibyte character
Unused classes in test case
make clear that config/secrets.yml passes through ERB and therefore supports ENV
Always point to latest rbx and jruby in travis
document how to access mail previews. [ci skip]
duplication removed(DRY)
Added a link to the Module#concerning docs from the 4.1 release notes [ci skip]
Change all `MiniTest` to `Minitest` since, `MiniTest` namespace has been renamed to `Minitest` Ref: https://github.com/seattlerb/minitest/blob/master/History.txt
change to DateTime.civil_from_format from DateTime.civil_from_fromat in changelog [ci skip]
Use annotated git tags for release task
we should use annotated tags for releases.
typo: should be 'DateTime.civil_from_format' and not 'DateTime.civil_from_fromat'
allow video_tag to accept `size` as `Number` for square shaped videos
#none documentation updated [ci skip]
Add a failing test for assigning nil to a polymorphic belongs_to not nullifying its _type column
[ci skip] Prettify the removals from Action Controller in 4.1 release notes.
Its beta1 all around
Get ready to release 4.1.0.beta1
Remove the navigator for now. Its ugly and it promises more than it can deliver. These other views (properties, routes) are not designed to be loaded in isolation
Clearly limit new CSRF protection to GET requests
Mention new CSRF protection gotcha in upgrade guide
Discuss Action Pack's new CSRF protection from remote script tags and what it means for your app. In short, update your tests if they don't already use the 'xhr :post' style.
CSRF protection from cross-origin <script> tags
Add changelog entries about secrets.yml and secrets.secret_key_base
Some assorted fixes for the 4.1 release notes:
Create a blacklist to disallow mutator methods to be delegated to `Array`.
concern doesn't include the module automatically
release notes link to fixed versions of the API. [ci skip]
Require I18n >= 0.6.9
Add changelog and upgrading notice related to I18n enforce_available_locales handling
Disable available locales checks to avoid warnings running the tests
Default I18n.enforce_available_locales to true
minor doc reword. Upgrade Rails itself not to Rails. [ci skip]
Introduce Module#concerning
MySQL: remove the old-school 'packets out of order' message
use `bin/spring` in release notes. [ci skip]
Add mailer previews feature based on mail_view gem
Add an application controller for internal controllers
test case for #limit added - picking latest value from limit
Better support for `where()` conditions that use an association name.
Remove the link for code.whytheluckystiff.net
fixed rails dbconsole to support ENV['DATABASE_URL'].
Added `absence` parameter to pluralization table
Spelling and Grammar check [ci skip]
Improve CHANGELOG entry with examples [ci skip]
Improve the CHANGELOG entry [ci skip]
Update secret_key_base Docs
Allows you to check if an attribute has changed to a particular value
Regression test for load_structure and clone_structure
db:test:clone and prepare must load environment
[ci skip] add `assets.raise_runtime_errors` flag
Word wrapping engines guide [ci skip]
Clarification, grammar fixes, punctuation, and capitalization [ci skip]
Improved documents [ci skip]
support creating temporary tables from queries
Improve document: working with javascript in rails [ci skip]. * Add form_tag generated output. * improve some text. * data-remote='true' should use double quotes.
Add comment about secret_key_base in secrets.yml
argument prefix warning removed
refactor, reuse assertions in range_test.rb.
extract PG range tests from datatype_test.rb into range_test.rb
form_tag with parameters fixed [ ci skip ]
Add a bunch of Relation -> Array delegate methods to the whitelist. This won't last - aim to switch back to a blacklist for mutator methods.
Correct comment in databases/postgresql.yml
Perf: save ~9% of object allocations on heavy requests.
fix grammatical error
extract cache counter logic to one method
remove duplicate code
extract a method for updating without a record object
extract methods out of the cache update method
pull a nil check up one frame
Use `public_send` instead of just use `send`.
Rename tokens.yml to secrets.yml
Use a whitelist to delegate methods to array
Add changelog
Remove delegation test.
docs guidelines: recommends wording in a way that avoids "you"s and "your"s
copy-edits 68abbac [ci skip]
Added :nodoc: for `attribute_changed?` and `attribute_was` [ci skip]
Add test for custom tokens stored in config/tokens.yml
Replace config.secret_key_base with secrets.secret_key_base in test
Load secret_key_base from tokens.yml, fallback to config.secret_key_base
Remove secret_token.rb
Add config/tokens.yml template
remove more nil checks
remove nil check
remove the nil check from set_inverse_instance
More liberal builder dependency
make sure cached table name is a string. fixes #12582
PR #10635 introduces rescue from ArgumentError thrown by `Base64.strict_decode64`.
Copy-edit the parent commit
Translate new unique constraint for sqlite >= 3.8.2
Moving the common code of increment and decrement of cache file store into seprate function
Spelling and Grammar checks
Variants inline syntax documentation [ci skip]
[ci skip] added after_touch callback documentation
Get rid of hack for freezing time on AR tests
Changelog improvements [ci skip]
typos rectified lifecycle => life cycle
JSON: speed up date/time encoding
typos rectified [ci skip]
Update CHANGELOG entry for Session#fetch
Warn about using `return` inside inline callback blocks [ci skip]
test description uses "disable" when it should be "disabled"
Remove not necessary file, move constants to the file they are used
value is "disabled" not "disable"
Move the parameter normalization to the initialize method
Nodoc missing number helper classes in AS [ci skip]
Make ActionDispatch::Request::Session#fetch behave like Hash#fetch
Revert the whole refactoring in the association builder classes.
Mark the arguments needed by activerecord-deprecated_finders with a TODO
Bring back the valid_options class accessor
removing multiple check conditions to single check condition
Remove require 'models/administrator', Administrator is not used in secure password test
typo rectified [skip ci]
Prevent invalid code when using dynamic finders with Ruby's reserved words.
Using parallelize_me! to parallelize isolated test
Revert "Rename not Ruby files to .tt"
Replace with gsub! in ActiveSupport::Inflector.
Rename not Ruby files to .tt
make `collect_deprecations` available.
Inline variants syntax
Simplify @responses hash initialization
doc: date/conversions.rb should talk about date format not time format.
fixed typo mistake time_formats.rb -> date_formats.rb [ci skip]
Remove `DEFAULT NULL` for primary key column to support MySQL 5.7.3
Support MySQL 5.7 explain
Inline variants syntax
Simplify @responses hash initialization
Upgrade minitest version
Require action_view explicitly in AC::Base
Variants can be declared without a block to signify their presence in the controller
Allow code execution in case no variant has been set with variant.none
fix for messages in invalid encoding from db-drivers
fix typo, "state_state" should be "stale_state" [ci skip]
Very tiny typo fix [ci skip]
A Cycle object should accept an array and cycle through it as it would with a set of comma-separated objects.
better error message for constants autoloaded from anonymous modules [fixes #13204]
Some improvements on building nested forms. [ci skip]
Minitest upgrade broke build
Skipping debugger from plugin Gemfile for JRuby
`find_in_batches` now returns an `Enumerator` when called without a block, so that it can be chained with other `Enumerable` methods.
capitalize words starting after numbered list to maintain consistency [ci skip]
_enum_methods_module should be kept private
Make clear that the enum array should not be changed once defined. [ci skip]
Documented the case-insensitive nature of the match feature.
Add Mime::Type.register "text/vcard", :vcf to the default list of mime types
Add integration test for #12459
fix pg warnings on geometric types
Label only accepts `:index` and `:namespace` attributes from the input
Improve AR changelog [ci skip]
Use the right type_map
Remove the explicit order set for the initializer
Remove deprecated call to Relation#all
Assert the singleton instead of to truthy/falsy
Add tests to cache_template_loading when an engine loaded Action View before the application
Make sure that spring is loaded in development only
Using 2.3.11 URL for 2.3.x guides [ci skip]
polymorphic belongs_to association with touch: true updates old record correctly
set `i18n.enforce_available_locales` before `i18n.default_locale`.
Add configuration option to optionally disable deep_munge
add missing CHANGELOG entry for d8c6f52. [ci skip]
Remove missing integration points of AV extraction
end sentences with a `.`. [ci skip]
Rails on Rack: Replace an unpleasant grammatical construct.
2.1.0 is fine
Use the released arel gem
Test on 2.1.0 preview
Remove joins method
Remove deprecated calls from the tests
Release 5.0.0
Remove columns usage from the README
Copy edit
Hightlight message verifier in the release notes [ci skip]
Make salt argument required for message verifier
Test if two different verifiers don't share the same secret
Update the releases notes
Don't need to use a controller to test the verifier
No need to configure salts
Make possibile to get different message verifiers
Add missing require
Rename verifier to message_verifier
Add documentation and CHANGELOG entry to Application#verifier
Add application verifier
make the type_map per connection. fixes #13182
Escalate missing error when :raise is true
Include AV::Layouts directly in AM::Base
Retain ActionPack dependency on ActionView
Run Travis tests using Ruby 2.1.0-preview2 too
Update changelog [ci skip]
Remove an extra period
Update guides welcome page to point to version 3.2.16 [ci skip]
update guides to new version of rails 3.2.x[ci skip]
Review json_escape docs [ci skip]
Also move html_esacpe regex to a constant (see 9d25af60)
Added \u2028 \u2029 to json_escape
Use lower case letters in unicodes sequences to match the new encoder's output
Added failing test for json_escape striping quotation marks
removed duplicate test case
remove nil in NullType#ref.
mention Active Record enums as major feature for 4.1. [ci skip]
Formatting, capitalization, and punctuation fixes [ci skip]
remove variants paragraph indent in release notes. [ci skip]
add Spring as major feature in the 4.1 release notes. [ci skip]
minor 4_1_release_notes changes. [ci skip]
Improve a couple exception messages related to variants and mime types
Added JSON release notes [ci skip]
Backfilled CHANGELOG for AS::JSON::Variable removal (6f3e01e8) [ci skip]
Add nodoc to added VariantFilter class
Add variants to release notes
Action Pack Variants
Install Spring preloader when generating new applications
optimize string literals in erb templates
Remove earlier return in favor of conditional
Change delimiter check order: first check if it is present
Make both conversion methods work similarly
Remove useless empty string
No need for #tap
Avoid a hash creation since defaults is a new hash already
Stop using local variables everywhere, make use of the reader
Refactor to avoid earlier returns
Rename variable that holds whether or not the class should validate a float number
Change deep_munge call to avoid deprecation warning
Improve AR changelog, add entry for migration error improvements #12462 [ci skip]
Remove the escaping skip
ActiveRecord migration exception message formatting
`connection.type_to_sql` returns a `String` for unmapped types.
Changelog improvements [ci skip]
Added Date#all_week/month/quarter/year for generating date ranges
fix email regex example code [ci skip]
Add support for localized date references
Use travel_to convention in existing test
Typos. return -> returns. [ci skip]
Currently, we clear query_cache in cache block finish, even if we may already have cache true.
Refactor AR's validations_test.rb
Introduce a context for rendering fixtures ERB.
Convert Mime::NullType in a singleton
Cleanups in comment about conditional
Tidy up previous commit, fix message assertion and improve tests
Modify the Hash#assert_valid_keys error message so that it shows the valid keys. Also, show the wrong value as it was entered.
Added back the `encode_big_decimal_as_string` option with warning
Avoid generating more strings while iterating to create methods
Deep Munge the parameters for GET and POST
Stop using i18n's built in HTML error handling.
Ensure simple_format escapes its html attributes
Escape the unit value provided to number_to_currency
Only use valid mime type symbols as cache keys
:sicssors:
Options are not optional
Make execute priave API
Make load of NumberHelper thread safe
Remove note about removed local_constant_names method from guides [ci skip]
Remove dead comment from AS extensions guide [ci skip]
Add number and range field to form helpers article
Remove deprecated cattr_* requires
Make ActionView::Tags loading tread safe
Wrap 80 columns [ci skip]
Add documentation about the Action Dispatch salt configuration
Use alphabetic order
:scissors:
Make the release notes consistent [ci skip]
Unify cattr and mattr accessors declarations
Make the tests break again
activemodel isn't a runtime dependency for actionview
added missing require
`mail()` without arguments is a getter for the current mail.
Typo and grammatical fixes [ci skip]
`ActionView::MissingTemplate` for partials includes underscore.
Update active_record_querying.md
Cleanups in API docs: his => their
Try to escape each part of a path redirect route correctly
Add examples for gender neutral pronouns
Update API docs guidelines with reference about gender neutral pronouns
[ci skip] Removing some gender sensitive object pronouns
Use genderless pronouns in security guide. [ci skip]
Use .railsrc while creating new plugin if available
EscapedString is also private API [ci skip]
Update contributing_to_ruby_on_rails.md
Use genderless pronouns in API docs
config.assets.enabled isn't used anymore to disable Rails asset pipeline
Honor to RAILS_GROUPS env variable while loading gems with Bundler
Removed redundant field name in the guide
Update render with a spacer_template [ci skip]
Improve AR changelog [ci skip]
Typo fixes [ci skip]
Add `rake test:all`, `rake test:all:db` to guide
Update security.md
Raise `ArgumentError` when `has_one` is used with `counter_cache`
add missing arel dependency to `active_record_master` bug report script.
Improve Module#delegate documentation to tell that delegate don't work with private or protected methods. [ci skip]
Typo fix
Remove unused variable
Remove Rdoc formatting from markdown [ci skip]
updating  options documentation for associations removed unnecessary test case and improved test case for belongs_to having invalid  options
Checking no debugger on JRuby
#type_cast - improve performance & readability
Remove `DatabaseStatements#case_sensitive_equality_operator`. It has been deprecated already.
fix mysql version check in rename_index
The section that mentions after_commit and after_rollback will swallow exceptions should me made clear. Made that section to be a  instead of a regular paragraph.
implement rename_index natively for MySQL > 5.7
wrap test that changes inflections in with_dup
no need to explain bundler and rails new in the release notes. [ci skip]
delete obsolete KINDLE.md. Closes #13037. [ci skip].
first pass through CHANGELOGS to extract 4_1_release_notes. [ci skip]
create 4.1 release notes guide scaffold. [ci skip]
3.2 to 4.0 section in upgrading guide is no longer wip. [ci skip]
move "HTTP PATCH" paragraph into "Upgrading 3.2 -> 4.0". [ci skip]
remove duplicate sentence from AS changelog. [ci skip].
Do not create synonym named subjects because it is only used in `activerecord/test/cases/adapters/oracle/synonym_test.rb`
fixed-case when invalid action name has passed
fixed typo `destory` => `destroy` [ci skip]
Deprecate ActiveSupport::TestCase.describe
[ci skip] removed singulars section from classify doc
unnecessary checking of `size` with `second regex` if matched with first one
[ci skip]removed obsolete information about `options` parameter in create method
[ci skip] used new syntax for scopes
Deprecated Numeric#{ago,until,since,from_now}
Requires JSON gem version 1.7.7 or above as it contains an important security fix.
Dropped yajl from Gemfile
Link for "New Post" is added in Getting Started guide [ci skip]
More typo fixes
Underscore in markdown should be escaped with backslash [ci skip]
Be explicit and use the actual unicode sequence
Process::Status should get a :nodoc: [ci skip]
Make the JSON encoder pluggable
Removed the Ruby encoder and switched to using the JSON gem
Removed support for encoding BigDecimal as a JSON number
Expanded coverage on JSON encoding
Added some failing tests where the JSON encoder is not resolving as_json correctly
Minor typo fixes
Add branch to arel in Gemfile so that we can use local repos [ci skip]
changed update counter to act on unscoped model
the oracle adapter lives in a gem. Tests should live there as well.
sync example and documentation for strong_parameters hash whitelisting.
tyop
remove leftover firebird adapter tests.
`rename_index`: add the new index before removing the old one.
move changelog entry to the top
Raise `RecordNotDestroyed` when children can't be replaced
Only use BINARY for mysql case sensitive uniqueness check when column has a case insensitive collation.
require the files we test
avoiding calling of #option_value_selected? two times
`delgated` => `delegated`
Better error message for typos in assert_response argument.
Added `rewhere` usage to AR querying guides
Globalize has moved to a new repository
a couple of copy-edits before merging [ci skip]
Updated allow_failures for Rubinius 2.2.1.
Use NameError#name to assert raised error.
Properly fix Rubinius dependencies in Gemfile & Travis integration.
Raise RuntimeErrors with inspectable and MRI-independent messages.
Test for when controller with skip-assets
Added test when task generator called on revoke
Helper should be a module in Rails guides [ci skip]
Using activerecord-jdbcsqlite3-adapter
Cleaned up app generator test
API Documentation Guidelines link correction [ci skip]
When Array#as_json and Hash#as_json are called without options, they should also call #as_json on the children without options (instead of nil)
Support SQL sanitization in AR::QueryMethods#order
Use a more generic assertion to make sure this tests will be useful.
Improve changelogs
Build fix for new routing inspector changes
Added a missing close parenthesis to i18n.md
Remove turbolinks when generating a new application based on a template that skips it.
Build fix for Routing Inspector
Remove unused param `title`to  `TransitionTable#visualizer`
unify punctuation in Action Pack changelog. [ci skip]
doc `travel` and `travel_to` stubs are removed in teardown. [ci skip]
replace custom Time stubbing with `travel` and `travel_to`.
replace U+00A0 with whitespace
Expand double-negative in String#blank? regex
Add positional information to eval call so that this information will be used in printing correct location where the exception occurred. Closes #12885
swap arguments for some `assert_equal` statements => `expected, actual`
Add `#travel` and `#travel_to` to AS::TestCase
Use `SchemaStatements#initialize_schema_migrations_table` instead of `ActiveRecord::SchemaMigration.create_table`.
Update caching guide with respect to :namespace
_implied_layout_name should be private
Use the right indentation
Renderer#_render_template should be private
Improve readability of sentence in partial-renderer docs [ci skip]
use arel nodes to represent non-string `order_values`.
Revert "Properly require database tasks so we have access to the raised constant"
Revert "Explicitly exit with status "1" for create and drop failures"
use arel `master` and update activerecord to depend on arel `5.0.0`.
use `4-0-stable` arel branch to get bundle working again.
Improve reading / style of hashes in AR guide
Revert last two commits mistakenly changing join/include syntax
[ci skip] `apropriate` => `appropriate`, spaces added
`skiping` => `skipping`
Arel master is 5.0.0
syntax error joining/including models
syntax error joining tables
Do not count query for all_constraints and all_tab_cols in Oracle
Address test_merging_where_relations failure by adding `order("posts.id")`
Add description for db:create and db:drop test tasks in AR
Properly require database tasks so we have access to the raised constant
Drop unused param `should_be_quoted` to `PostgreSQLColumn#array_to_string`
added test cases to find notes in a file with .builder extension
[ci skip]updated documentation: added sass and less extensions
rm minitest monkey patch
pass the pk to compile_update
explicitly pass the pk to compile_update
Build fix for ruby 1.9.3 syntax
Checks to see if the record contains the foreign_key to set the inverse automatically
Instrument each load config initializer
avoiding iterations and calling of underscore on all elements of array
[ci skip] typo in ArgumentError exception
[ci skip] Update gem versions for 3.2 and 3.1. Also change some words.
test should clean up after themselves
The option is called encode_big_decimal_as_string [ci-skip]
Change Relation#all to Relation#load [ci skip]
Use `set_backtrace` instead of `@backtrace` in ActionView error
Remove tests for not swallowing exceptions.
Update action_controller_overview.md [ci skip]
explain how `to_param` wil truncate long values. [ci skip] refs #12900.
added one test case and example for ActiveRecord::Base.to_param method
Remove broken Commmand Line guide link
Add 3.0.3 to CHANGELOG entry [ci skip]
Update History for previous releases
Unify `cattr_*` interface: allow to pass a block to `cattr_reader`.
Avoid hash lookups for building an array of required defaults
Get rid of useless temp variable
Set values instead of building hashes with single values for merging
Take Hash with options inside Array in #url_for
document id prefixed String usage of `.find`. refs #12891 [ci skip]
Allocate one less object using html_safe during content_tag construction
Remove short circuit return in favor of simple conditional
Invert conditional to avoid double checking for Regexp
Only check that the option exists once instead of doing on each conditional
Remove argument that is accessible as attribute
Cache regexp source on format validation to avoid allocating new objects
Make code simpler to read by using a case statement
Avoid a new hash allocation
Use a simple conditional rather than short circuit with next
Simplify number parsing logic in numericality validation
Avoid creation of extra hash with merge just to set a value
Set branch for arel in Gemfile so that we can use bundle local config [ci skip]
Improved compatibility with the stdlib JSON gem.
Revert "Used Yield instead of block.call" -- this causes all of atom_feed_helper_test.rb to fail with "SystemStackError: stack level too deep".
avoiding next statements
Used Yield instead of block.call
class methods moved to already defined class<<self block
Add AR::Base.to_param for convenient "pretty" URLs derived from a model's attribute or method.
#presence used
Clean up `require â€˜active_support/deprecationâ€™` and remove circular require
Ruby's new Hash syntax applied in actionmailer
Get rid of unused  variable
Updated guides link for 3.2.x to latest stable version 3.2.15 [skip-ci]
Use rescue with a splat rather and catching all and filtering
Beef up #grapheme_length tests
Support extended grapheme clusters and UAX 29
Rename multibyte_conformance.rb to multibyte_normalization_conformance.rb
Refactor Unicode.unpack_graphemes slightly
Make it clear that require 'active_support' is required [ci-skip]
fix weird Emacs auto indentation. [ci skip]
tests for merging Relations of different classes.
move Relation#merge tests into separate file.
Ensure that a column added in a test is being removed after all
Remove outdated guide on using rack builder w/o rails middleware
Revert "`remove_column` does not take a type argument. [ci skip]. Closes #12864"
Correct guide relating MiddlewareStackProxy with Enumerable
add #no_touching on ActiveRecord models
`remove_column` does not take a type argument. [ci skip]. Closes #12864
[ci skip] Replace #=> with # =>
Move `SchemaCreation` to its own file instead of `AbstractAdapter`.
Remove the unused, undocumented SQLite3Adapter#supports_count_distinct?
Drop a sqlite_version check because we only support SQLite 3.6.16 or newer.
Include URL helpers in TestController in bug report templates [ci skip]
Change syntax format for example returned values
Make static error pages responsive
Allow Pathnames to be added to eager load paths
updated documentation for Integer
documentation updated for Hashes [ci skip]
Prevent the counter cache from being decremented twice
Don't load test env by default
Unifies mysql and mysql2 casting of booleans.
test cases to describe the MySQL boolean behavior.
Explicitly exit with status "1" for create and drop failures
Do not count "SHOW CREATE TABLE" queries when testing against mysql
tidy Active Record CHANGELOG. [ci skip].
Avoid sorting an Array including objects from different Classes
Load test fixtures where data are needed
A tiny grammatical fix
Refer to Rails.env only when Rails is defined
Speed up Array#split Ruby 2.0.0p247 Rehearsal --------------------------------------- old  10.670000   0.150000  10.820000 ( 10.822651) new   8.520000   0.050000   8.570000 (  8.571825) ----------------------------- total: 19.390000sec
Array#in_groups: documentation updated
Remove deleted file by 9cbfc8 from gemspec
Array#split preserving the calling array
Remove order attribute from collector
Don't test against Ruby 1.9.2
Update tzinfo dependency to ~> 1.1
Remove deprecated calls to `SelectManager#wheres` with no replacement
Remove deprecated calls to `SelectManage#insert` with preference to using `compile_insert`
Remove deprecated calls to using `where_clauses`
Remove deprecated calls to using `UpdateManager` without setting `UpdateManager#key`
Remove deprecated calls to `update` with preference to using `compile_update` and then calling `to_sql` on the resulting object to execute the SQL
Remove deprecated calls to `insert` with preference to using `compile_insert` and then calling `to_sql` on the resulting object to execute the SQL
Remove deprecated calls to `delete` with preference to using `compile_delete` and then calling `to_sql` on the resulting object to execute the SQL
Use the method provided by minitest to make tests order dependent
use complete Relation API and not only `Model.all.merge!`.
Change array check for better aesthetics / reading the code
Make the method name the first argument
Drop one more string allocation
improve Active Record Store docs when using PG types. [ci skip].
Changed message for Model.inspect
Require the top file and autoload Base class
type casted PG bytea values are represented as a Hash.
Document the bind return
Avoid shot circuit return.
Also dup `column_types` in AR::Result `initialize_copy`
Improve changelogs formatting [ci skip]
Don't use Active Support where we don't need to
log bind variables after they were type casted.
Add :encode_with for proper YAML serialization
Extract common code from number helpers to new delegator method.
Skip test which is broken on jruby
Update security.md
Start Running tests on Stable JRuby
:scissors: fix broken url [ci skip]
Mark broken test as pending
Remove more skip
fix simple_format escapes own output when sanitize is set to true
Don't skip tests if we don't need to.
removes redundant curly brackets in example code [ci skip]
Extract common database defaults; better use of YAML
Add section for command_tasks in initialization guide
Update commands.rb content in initialization guide
Update README.rdoc [ci skip]
Removed unused require
Warning removed for ruby-head
Added platform dependent gems
sub! can return nil
Standardize all JSON encoded times to use 3 decimal fractional seconds
revised changelog comment to be less than 80 chars
add autoload :TransactionState to fix Marshal.load issues
Aesthetics
only ask for these ivars if the target responds to them
Move the JSON extension require statements to the right place.
Do not expose internal state in the public encoder API (i.e. as_json)
Moved AS::JSON::DATE_REGEX as it's only used for decoding
Stop using method missing for singleton delegation.
drop one more string allocation
drop string allocations in the log subscriber
calculate the ivars to remove in advance as a set and cache them in a constant.
Move interrupt information to print_boot_information method
use a set and reject to avoid array allocations
each_with_object on the view_assigns hash
use slice to avoid range allocation
these variables are also private
instance_variables returns symbols, so we should use symbols in our list
Extract method refactoring for Rails::Server#start
Add +capitalize+ option to Inflector.humanize
bring back constant to expose the enum mapping as HWIA.
Update Rails initialization guide to explain how bin/rails is executed
refine usage docs of `store` in combination with `hstore` and `json`.
update the AR enum docs to match the actual behavior. [ci skip]
Eliminate `JSON.{parse,load,generate,dump}` and `def to_json`
Don't swallow exceptions in transctional statements
store enum mapping using `Strings` instead of `Symbols`.
direct enum assignment rasies ArgumentError for unknown values.
Clarify HTML Safe Translations [ci-skip]
define enum methods inside a `Module` to make them overwritable.
Remove private API test
Improve Errors when Controller Name or Action isn't specfied
Use 1.9 Hash syntax consistently
Refactor File.expand_path usage to remove additional File.join
ask the fixture set for the sql statements
The enum value constant isn't used, so rm it for now.
stop doing the same calculation over and over
oops, template replay needs to happen after bundle. :orz:
application template respects Gemfile entries
gems can be added or skipped from the template
fix copy & paste test-case naming. [ci skip]
document `BACKTRACE` env var usage in testing guide. [ci skip]
Convert schema file to ruby 1.9 style hash
Style fixes on test schema file
Refactor logic to grab the max time of the list of timestamp names in #cache_key
Respect cache timestamp format when giving timestamps to #cache_key
Remove extra whitespace
:scissors: [ci skip]
Replace `class_eval` with `define_method` for enum
BACKTRACE environment variable to show unfiltered backtraces.
No web-console for now
Line up the comments for aesthetics
Aesthetics
Code style for privacy indention
Ensure backwards compability after the #deep_munge extraction
Add test for ActiveRecord::Relation YAML serialization, for #5303 issue
Add test verifying that you can only sort ARs of the same type
Revert "ActiveRecord::Base#<=> has been removed.  Primary keys may not be in order," -- will be replaced with a check to ensure that the keys used for comparison are integers, and only fail if they are not.
Delegate #rewhere to all on the class like all other relation methods
Move documentation around a bit
Explicit mapping for enum
Added ActiveRecord::QueryMethods#rewhere which will overwrite an existing, named where condition.
unscope now works on default_scope after 94924dc32baf78f13e289172534c2e71c9c8cade
Add a test case for the scope enum adds
Extend ActiveRecord::Base#cache_key to take an optional list of timestamp attributes of which the highest will be used.
Added Numeric#in_milliseconds, like 1.hour.in_milliseconds, so we can feed them to JavaScript functions like getTime().
Use an already existing fixture
Improve wording in AC::ParameterMissing error message
Update guides welcome page to point to version 3.2.15 [ci skip]
Added ActiveRecord::Base#enum for declaring enum attributes where the values map to integers in the database, but can be queried by name
remove warnings on ruby trunk
exists? is deprecated in ruby trunk [ci skip]
Test with the right association
:bomb:
Use consistent order of the arguments
Set the destination_root for plugins
shadowing variable warning removed
More Warnings removed for ruby trunk
Passing args for gemfile entry
Remove "circular require considered harmful" error
Added rubysl-rexml to Rubinius deps.
Warnings removed for ruby trunk
gemfile entries can be added to the app builder
Added Rubinius 2 specific dependencies.
Updated Rubinius version to 2.1.1
forgot to add the test. orz :cry:
clean up some warnings on trunk ruby
add filters for gemfile entries
Save has_one associations only if record has changes
Add Rdoc document for Array#forty_two
Require time before monkey-patching it
AS guide: errata
Require bigdecimal before monkey-patching it
[ci skip] Make all tables have Controller#Action, change a tense in sentence.
show javascripts can be disabled in generators
We need to fix Sam Ruby's tests.
golf down rc file reading
add a test for whitespace separated args in the rc file
avoid object creation if there is no rc file
no need to dup, argv is never mutated
no need to shift
functionally build the argv
there is no reason for ARGV[0] to be nil
return argv from the insert method
return argv from more methods
return argv from each method
pass argv to each method that mutates it
add a comment to people of the future
adding a test for --help defaults
change the test to make argv a little more realistic
adding a test for the current behavior
add a test for the rc commandline option
remove useless assertions
test some of the rc specification
forgot the test, oops!
stop mutating ARGV
prepare! should return argv
rename AppPreparer
:cut: whitespace
Raise an error when AS::JSON.decode is called with options
use a thread local rather than a queue so events are in the right order
no need for a CHANGELOG entry. [ci skip].
fix code typo in `MysqlAdapter` .Closes #12647.
Hstore and JSON fields are not supported with store
session#fetch doesn't behave exactly like Hash#fetch.
Update pull request instructions as per the new Github UI
short arrays in inspect
add the fetch method to sessions
Convert CDATA input to string before gsub'ing
Clarify that visiting http://localhost:3000 should be done in a browser.
Update testing.rake with more accurate description of test task.
Minor doc fix of ActiveModel::Naming.
Revert "add active model basics wip to guides/documents.yaml"
Add failing test for preloading with a polymorphic association and using the existential predicate
Remove confusing generated-code commentary
fix template Gemfiles
always call set_default_accessors from create_root
use a queue rather than a list. fixes #12069
fix typo in comment [ci skip].
Remove warning of shadowing outer local variable
Assert the return value in the test
Remove dead code after the skip_jbuilder option removal
remove the skip_jbuilder option, just rm it from the Gemfile
add comments and fix variable name. oops, forgot to add this. orz!
remove unused methods
add an option to skip jbuilder
fix variable name
add jbuilder web-console and sdoc to the GemEntry list
Skip `include_values` from through associations chains for building target scope
fix the class name
refactor Gemfile template
use the GemfileGem object for more entries
add the database gem
get a list of gems when filling out the gemfile
Removal of javascript related gems when creating an app
set accessors in the set_accessors! method
Add a note about ensuring the version is right for the adapter (since you might well have specified the right gem, but locked it to too low of a version)
add include_hidden option to collection_check_boxes helper
Add a changelog entry for #12656 [ci skip]
added schema_migrations_table_name to ActiveRecord::Base in order that the name of the schema migrations table can be configured.
don't mutate hash with fetch
Make remote_ip detection properly handle private IPv6 addresses
Remove surprise if from show_exception middleware
cast json values on write to be consistent with reading from the db.
prevent `time_zone_aware_attributes` test leak. follow-up to #12633.
only warn on leaked time zone state instead of rasing an error.
prevent global timezone state from leaking out of test cases.
Improve usage example for model generator
`ActiveRecord::Store` works together with PG `hstore` columns.
`stored_attributes` need to be specific to a subclass.
test to verify the `ActiveRecord::Store` behavior with PG's json type
Save association when primary key is manually set
Avoid unnecessary catching of Exception instead of StandardError (converting Exceptions into StandardErrors)
Improve the test code for #8422
Add CHANGELOG entry for #12635 [ci skip]
always check to see if methods exist after calling define_attribute_methods
Improve the CHANGELOG entry [ci skip]
fix typo introduced when searching in markdown document with vim
rephrase the overriding views part about the view path
update CHANGELOG
slice! should not remove default hash value/proc
pass app config to controller helper proxy
Correct error in Utils.normalize_path that changed paths improperly
[ci skip] second parameter of asset-url is depricated
Let validates_inclusion_of accept Time and DateTime ranges
warning about saving models with dirty attributes
Release 4.0.1
Try arel master
Update workaround for "Outside the Scope of Strong Parameters"
this should be private, no other instances of Root should call it
do not search through the keys array twice
use the provided block to filter lists
stop using `send` so that method privacy is respected and we get a small perf increase
Update 4_0_release_notes.md
ActionController#translate also lookups shortcut without action name
Make the application name snake cased when it contains spaces
minor Active Record CHANGELOG cleanup. [ci skip].
move helper class to the top
build the association graph functionally
@base_klass is not used
join_type isn't used on the node anymore
make joins generation method look similar
remove node duping code
refactor outer join generation
add outer joins for matching nodes
construct joins by walking the outer join tree
Escape the parentheses in the default function regexp
Update docs on Tilt::Template in Asset Pipeline guide
remove trailing whitespace added with b057765 [ci skip].
Allow unscope to work with `where.not`
Raise an exception when model without primary key calls .find_with_ids
pass the outer joins to join_constraints
disconnect join_constraints from the instance
pass in scope chain so reflection is not needed
pass the foreign table and class to the join_constraints method
pass the join type to the join_constraints method
Process sub-query relation's binding values
Update 3_2_release_notes.md
Instrument the generation of Action Mailer messages
Remove extra variable creation and merge.
In Relation#empty? use #exists? instead of #count.
Update I18n guide to note the additional features of the `translate` view helper
Updated 3.2.x link [ci skip]
[ci skip] avoid deprecation warning in sample code
Make define_non_cyclic_method simpler
Add Sass gobbling info to asset pipeline docs
Ensure the state is clean after one failure
add a new local variable to track if digests are being stored, to ensure the cleanup works correctly
Rephrase ActiveRecord transaction rollback warning
Removing unused fake models from actionpack tests
use the node as cache so we can avoid accessing the table
apply tables to the whole tree from the outside
apply table aliases after the AST has been built
stop reversing tables until we absolutely must
pass the chain the join_constraints
use the cached arel table
Don't remove the select values to add they back again
grammar fix (reverted in e9a1ecd)
Revert "fixed a doc bug in the CHANGELOG.md s/does no longer depend on/no longer depends on/"
Pluck on NullRelation accepts a list of columns
Add missed require making `enable_warnings` available
update digestor code based on review
Prepare generated Gemfile for Capistrano 3
Added --model-name option scaffold_controller_generator.
fix one deprecation warning
move column_names_with_alias on to the alias cache object
this method does not exist anymore
keep a cache on the alias object
move alias building to the table node
let the Table class build the ARel alias nodes
store aliases in a better structure
remove delegation to `chain`
rm JoinHelper from JoinAssociation
read the association instead of sending
we should have unique sponsorable ids in the fixtures at least
update changelog
Ensure ActionView::Digest.cache is correctly cleaned up when ActionView::Resolver.caching = false.
Add 2 tests, 1 of which fails, to isolate the digest_caching behaviour causing #12521
simplify populating the ordering hash
the preloader for the RHS has all the preloaded records, so ask it
only calculate offset index once. #12537
Remove size alias for length validation
Minor Refactoring to `NumberHelper#number_to_human`
`$SAFE = 4;` has been removed with Ruby 2.1
scope_chain should not be mutated for other reflections
Remove `default_primary_key_type`  and extract contains of `native_database_types` to a constant since they aren't conditional now in SQLite3Adapter. Makes it more like other adapters.
cleanup changelog entry format. [ci skip]
Extract a function to determine if the default value is a function
Push default_function to superclass to avoid method check
Dump the default function when the primary key is uuid
Support `columns_for_distinct`
unhook `join_constraints` from the @tables ivar
remove delegate methods that are not used
push the node->AR cache up one level
newline at end of structure.sql file
eliminate single use method
eliminate duplicate code from to_sql
calling construct_relation_for_association_find is no longer necessary
push up `select` exclusion
JoinDependency will take care of making things unique
Add a note to the changelog for #9499
add inversed accessor to association class
inversed instance should not be reloaded after stale state was changed
Add nodoc to method
Generate subquery for Relation passed as array condition for where
Make missed association exception message more informative
Stop accepting `options` for `Relation#average`, `Relation#minimum`, `Relation#maximum`, `Relation#calculate`, `perform_calculation`, `NullRelation#calculate` as they isn't used anymore.
Make logging to stdout work again with implicit `development` env
`Relation#count` doesn't use options anymore.
Change `map` to `map!` to save extra array creation on new array
Drop unused iterator var
Some fixes in docs [ci skip]
remove dead code
remove useless code
the parent hash keeps the records unique already
keep track of AR objects we've made as we walk the tree
push up the loaded target checking
we always have a model now
extract conditional to the caller
we always have a reflection and it is on the node
fix variable name. we're constructing a model, not an association
reflections know if they are collections, so ask
belongs_to can be treated the same way as has_one
cache the primary key / typcast lookup on the stack
remove dead code / make duplicate code more obvious
pull parent and alias tacker from the nodes.
decouple the `join_constraints` method from the parent pointer
no reason to do this column addition and subtraction business
No need to require rbconfig as we are using Gem.ruby
flatten and flatten! methods for ActiveSupport::Duration
refactor a little so we can remove some methods
the parent node is on the stack, so use it
pass the parent node to the construct method
nodes do not need to be sorted
delete unused code
merge JoinDependency as outer joins
stuff the join dependency object in the "anything goes" hash.
stop splatting things back and forth
simplify each method.
Keep code consistent with previous code blocks.
Use bcrypt's public cost attr, not internal constant
Respect `SCRIPT_NAME` when using `redirect` with a relative path
stop creating a bunch of relation objects when we can slap all the joins on at once
Method visibility will not make difference here
Remove builder instances
Extract the scope building to a class method
Remove unneeded reader
Move wrap_scope to class level
Move macro to class level
Make validate_options a class method
Make valid_options a class method
no need to to_sym
remove dead code
add some convenient methods for avoiding array allocations
hide join_constraints inside the JoinDependency object
speed up match?
expose the root node and call it
just skip the join if it's already there
speed up finding existing nodes
make node search more efficient
remove == so we can see where walking up parents occurs
Modifies the initialization guide to make the initializers process clearer and remove a TODO. [ci skip]
push parent up to the superclass
convert JoinBase to a tree and remove the Node class
Moved viewpathstest into actionview/test/actionpack/controller
FakeController is not required in AV
[Validations Guide] Add full stop to the end of sentence [ci skip]
Added ActionView in rake about [ci skip]
Minor align BR tags with HTML void - with reference to the generators code change - https://github.com/rails/rails/commit/f038d4cc5fe1ac21f92c7e32c61ff85a0c816f3f
Using flat_map instead of map and flatten
Typo fix [ci skip]
observers are not part of ActiveModel [ci skip]
Expose MiddlewareStack#unshift to environment configuration.
Define the association extensions without need to have a builder instance
:scissors:
Push define_accessors to class level since we don't need anythig from the instance
Use the reflection name instead of the accessor
Move add_counter_cache_methods to class level
Move define_constructors to class level
Move define_writers to class level since we don't need anything from the instance
Move define_readers to class method since it doesn't need nothing from the instance
names are guaranteed to be symbols
eliminate function that is only used in one place
we will always detect the same node, so just pass the node in
we do not need to to_s the name all the time
parent is guaranteed to be the same
reduce number of comparisons and array allocations
Add documentation for after_touch [ci skip]
rename the variable to make more sense with a tree
walk the tree rather than generating a hash and walking it
do not convert the tree to a list just for the first node
generate the association hash from the top down
store join parts in a tree
join parts in `build` are *always* new, so don't bother checking
stop looking up the reflection multiple times
cache join associations and join base on the stack
use the API rather than accessing underlying data structures
associations is always a hash
keys are always symbols
we can get a list of reflections from the join parts, so let's remove the @reflections ivar.
transform the association input so we can avoid type checks later.
we know the keys are scalars, so avoid some typechecking
this method is only ever called with a reflection
don't access the reflections hash
build association tree thing on demand.
adding load_path to include active_model in the load path of example similar to activerecord/examples/simple.rb
hide join_parts internals from other classes
decouple JoinAssociation from JoinDependency
@associations can never have an array, so remove the dead code
typecast records returned from the db rather than to_sing everything
Call `rails plugin new yaffle` in the plugins guide. [ci skip]
Allow methods arity below -1 in assert_responds.
Assert presence of "frozen" in error message, not the full MRI message.
extract the string handling part to a method.
remove more dead code
this code is never used, remove it
Just change ENV and restore it afterwards.
instrumenter can't be cached because the app could be called from different threads.
log the statement name along with the SQL
log every sql statement, even when they error
prepare the statement inside the begin / rescue block
rm LogIntercepter
stop adding singleton methods to the SQLite3 connection
stop adding singleton methods to the mysql2 adapter
stop adding singleton methods to the PG connection
wrap logging around the actual query call itself.
add regression test for set_inverse_instance on add_to_target
[ci skip] Add explanation on Rack::Sendfile and fix serve static files setting.
Directory name in RUNNING_UNIT_TESTS.rdoc [ci skip]
inject down the hash cache
hashes are ordered, so we do not need to sort
Always pass parameters to `build`
Set the join type on construction
simplify the JoinAssociation constructor, check validity *before*
parent is always passed in, so make it non-optional
require the files we need so the classes are stand-alone
Port test from cf1904f to avoid future regression
map the association chain to table names
`intiantiated` => `instantiated` [ci-skip]
fix the variable name
preheat habtm column cache
add missing require
remove some duplicate code
add a note to the changelog
remove HABTM associations
remove HABTM special cases from reflections
remove the HABTM preloader
remove HABTM special cases from associations classes
remove HABTM special cases from the fixtures
repurpose the HABTM builder class
goodbye has_and_belongs_to_many1, we will miss you!
keep track of the left and right reflections and expose those
have the builder create the middle reflection
copy-edits the new guide with our maintenance policy [ci skip]
call the class method to define the callbacks
we can define callbacks without a builder instance
push methods that don't depend on the instance to the class
get the name from the reflection
cache the name and options on the stack
decouple belongs_to callback definition from the builder instance.
add_before_destroy_callbacks doesn't depend on the instance, so push it to the class.
valid_options doesn't depend on the instance, so push it to the class
use the information on the reflection to determine whether callbacks should be added
Running all isolated test for actionview
association builder is no longer needed for counter cache, so remove it
push constructable? on to the reflection
Adds the Rails maintenance policy to the Guides
name is on the reflection, so just use the reflection
decouple define_callback from the instance
move habtm translation to a builder class
get the left and right association names from the join model
define the join model without using closures on the methods
Added activemodel as a explicit dependency
improving `reload` doc wording. #12418 [ci skip]
Update AR reload doc for the case of manually set primary key attribute [ci skip]
decouple the HABTM builder
only pass options to the habtm builder
Squashed commit of the following:
guides: configuring: fixing explanation of :after_initialize hook
revises the docs of require_dependency [ci skip]
registers 0b0beb7 in the CHANGELOG [ci skip]
require_dependency should allow Pathname-like objects, not just String
extract adapter savepoint implementations into `abstract/savepoints.rb`.
change the savepoint interface to allow passing the name.
Make `.next_migration_number` reusable for third party AR generators.
Add changlog entry for #10844
fix `test_sqlite3_mem` test run.
fixes incorrect spelling of `action_on_unpermitted_parameters`
Use ActiveRecord::Base#update! instead of #update_attributes!
fixed a doc bug in the CHANGELOG.md s/does no longer depend on/no longer depends on/
Make GTG::TransTable thread safe.
Use TS::Cache instead of Mutex + Hash.
Replace global Hash with TS::Cache.
Cleanup identitymap logger from LogSubscriber
Removed where_values_hash from AR::NullRelation
Migrations Guide: Add semicolon to sentences before code block [ci skip]
Renamed generated_feature_methods to generated_association_methods.
adding a test to demonstrate how to use STI subclasses on the far right side of a hm:t association along with preloading.
Getting Started Guide: Update sentence in Chapter 5.8 [ci-skip]
Add new line after create action on CommentsController code example
Adds template dependencies rake task from cache_digests gem.
Strong parameters should permit nested number as key. Closes #12293
[ci skip] Update scaffold output and change some words.
[ci skip] escape unintended url in docs
Getting Started Guide: post.rb -> Post
[ci skip] Add missing periods and update link name and some wording.
quote `false` reference in querying guide.
Getting Started Guide: update link_to string argument to use single-quote mark, following document style [ci skip]
Move Rack::Cache after AD::Static in the stack
changelog entry
fix .find when inverse is set
update changelog for #12359
Make sure inverse_of is visible on the has_many callbacks
remove initialize method
extract association resetting to a method
hash insertion order doesn't matter anymore, so only loop over the owners once
always populate the preloaded records instance variable so we can remove the @associated_records_by_owner ivar
keep preloaded records in a list rather than extract from a hash
Getting Started Guide: posts_controller -> PostsController [ci skip]
[ci skip] Correct the explanation of the example for find_or_create_by when used with create_with in ActiveRecord Querying guide
ActionController#translate supports symbols
Added missing active record configurations.
Getting Started Guide: Hello Rails! -> Hello, Rails! and wrap code tag
added "id: false" to HABTM join table example
push slice loading to it's own method so we can remove the type casting code
Add CHANGELOG entry for #12344
Add regression test to #12343
guarantee that `klass` is not nil inside the preloader objects
[Documentation] Add a missing validation to I18n docs
Use the given name in html_options for the hidden field in collection_check_boxes
eliminate unused ivar
all records have a preloaded, so eliminate that conditional
eliminate the `loaded?` conditional
push preloaded test up to the factory method so we can eliminate conditionals from the individual preloaded classes
assign_attributes should return if argument is blank.
No need the else clause
Use join to concat the both side of the AST
Add a CHANGELOG entry about Web Console inclusion
added column type to example in section 2.3
Include web-console in new projects Gemfile
ActiveRecord::ConnectionAdapters::Column.string_to_time method respects string with timezone. Closes #12278.
add test_scoped_root_as_name
Getting Started Guide: update RubyGems Guides link [ci skip]
Deprecate unused quoted_locking_column method.
we can't sort by lhs since the middle records have difference classes and possibly different rules for finding those objects
adding a test for sti on middle tables with sorting on RHS
pass the preloader down so we only have to construct one
Update references to wycats/thor to erikhuda/thor.
reuse the same preloader object for each association
remove state from the preloader
pass the scope all the way down to the constructors
only do the should_reset test once
fix variable names and speed up relation ordering
hm:t preloading will respect order set on the RHS association
bcrypt-ruby v3.1.2 supports Ruby 2.0 on Windows
We shouldn't override PostgreSQLAdapter's superclass inheritance while monkeypatching
Expand select documentation to tell about the block
Use ERB in the CHANGELOG [ci skip]
No need to abbreviate ActiveModel
Document reset_changes since it is part of public API
Ability to pass block to AV#select helper
Changelog entry for pr #11474
Only output Server logs in Development
handle `:namespace` form option in collection labels
use active voice and use more descriptive terms
Give the credits [ci skip]
Add notes about database connection pool [ci skip]
[ci skip] Add missing migrate step in generating comment resource section.
[ci skip] Add a type modifier in migrations.md.
Add back options argument in the ActiveRecord::Base.initialize method
[ci skip] Add some comment about downcase url encoded string.
Removes redundant into text
cache associated target records hash
combine methods so we can reuse preloaders
return a list rather than hash
preserve order on the RHS query
split up construction and mutation
fix method name
access preloaders independently of model mutations
push running the preloaders up
push `run` up to preload
the hash should only ever be length one, so decompose it
stop depending on preloader interals so we can create fewer preloader objects
lhs preload is always a single preload, so just preload one
just read the attribute rather than `send`ing
extract exception raising, clean up group_by statement
generate fewer objects when grouping
do not access internal data structures
exposing target records on the preloader
Allow attaching to AS::Notifications namespace up front
mention controller test base class in testing guide. [ci skip]
Initializing Codepoint object with default values
Drying up method_missing code
Allow failures in jruby-head
Run Tests against JRuby master
Bust the template digest cache key when details are changed
Remove 1.8 compatible code
NullSessionHash#destroy should be a no-op
remove unused variable
support objects with blank string primary keys
ActiveRecord::Base#<=> has been removed.  Primary keys may not be in order, or even be numbers, so sorting by id doesn't make sense.  Please use `sort_by` and specify the attribute you wish to sort with.  For example, change:
do what the superclass does in the case that objects do not match
Add params option for button_to
There's no need to do this
Remove tzinfo dependency from Action Pack
`skiping` => `skipping`
[ci skip] Improve readability of 4.3's NOTE in migration.md.
Removes unused code related to DatabaseTasks.
incorrect url
incorrect urls
surplus : in attachment_fu plugin
[ci skip] Consistency wording of 9.6 in form_helpers.md
Remove HelperyTestHelper not used in any test
Remove unused AV helper fixtures from e10a2531
[ci skip] Update plugins.md
Removing ActiveSupport::Concern, it's not needed
EncryptedCookieStore => CookieStore [ci skip]
asset_url => asset-url in sass-rails docs [ci skip]
Removed doc of diff method [ci skip]
Updated guides with latest method [ci skip]
Updated the file path [ci skip]
Updated with latest method [ci skip]
Don't require using application_name before options
Collapse where constraints to one where constraint
Custom flash should be defined only for the class that defines it and it's subclasses.
Moved all JSON core extensions into core_ext/object/json
Missing destroy command
Update 3_2_release_notes.md
Add CHANGELOG entry for #11698
Add CHANGELOG entry for #12149
Use the Rails binary when generating task
Remove unnecessary loop
"generates" applies to "collection radio" so it should be singular
Revert ""generates" applies to "collection radio" so it should be singular"
take out reference to previous versions of Rails
"generates" applies to "collection radio" so it should be singular
Add CHANGELOG entry for #10879
Removed semicolon and added space
remove outdated docs
Enabled quirks mode on JSON.parse, fixes broken test in af9caae
Write the right CHANGELOG entry for #11603
Wrap the guides in 80 columns [ci skip]
Update 4_0_release_notes.md
Disable prepared statements in the unprepared_statement block
Added quotes when defining the precision for the `decimal` fields
Remove unused raw email fixtures
these are not real developer objects, so counting them doesn't make sense.  Let's load the object to ensure it's an array and count the array.
Remove conditional adding a new method
Replace JSON.load with JSON.parse, also removed the proc parameter
Remove invalid comment
Check if the SQL is not a prepared statement
Whitespaces
Revert "Add meta tag with charset information to application layout."
Avoid empty transaction from setting has_one association on new record.
fix deleting join models with no pk
remove sentence err
Reduce Duration#inspect to a single series of transformations
Relation#merge should not lose readonly(false) flag.
Reduce allocations when extracting AR models
Perf: avoid dupes add fallback logic for coders
[ci skip] 'previous version of Rails' is gramatically incorrect
Add meta tag with charset information to application layout.
add a comment for sanity of other people to come
ask the association for records rather than calling `send`
Use Ruby 2.0 caller_locations instead of caller if available
Update Rails 3.2.x guide link [ci skip]
Be sure to restore the default I18n.locale after changed its value in a test
More unused associations in AR test models
:scissors: [ci skip]
change function def self.table_name to self.table_name
Clean up unused associations in AR test model
Reset ActionView::Base.logger instead of AC::Base.logger
Plural of Deer not deer
Refactor handling of action normalization
Don't mutate the Base settings by merge!ing the given value
Make AC standalone rendering work
use assert_empty in activemodel conditional validation test cases
Removed unused modules and classes
[ci skip] Documentation on how to create custom rake tasks.
Removed unnecessary require
let the class cache object clean up user input
make @bitsweat happy. :heart:
stop using deprecated api in the tests
Remove helper fixtures not used in any test
Make CollectionAssociation first/last with integer fetch with query
Remove BasicRendering tests
[ci skip] Add missing setting locale code snippet.
Remove remaining coupling with AV in MimeResponds
Remove BasicRendering and remove template functionality from AbsC::Rendering
html generated for a search form
Back AV description in gemspec
grab executable from rubygems
Improves a sentence in guides/security
[ci skip] Change link name of Rails i18n wiki.
form_for - fix :namespace and :as options clash
Typo in Changelog.
Change documentation to consistently refer to the same object The documentation in this section is referring to a profile, so the resource that's created should probably also be a profile of some sort.
Blacklist refferenced in docs is actually whitelist The docs refference a blacklist, but really what's being described is a whitelist. Anything that matches the constraint gets through to the path.
Allow Relation#from to accept other relations with bind values.
do not break params filtering on nil values
Use MiniTest::Unit::TestCase instead of Minitest::Test
hm:t join tables may not have a primary key
use polymorphic proxies to remove duplicate code
Use Ruby on Rails Coding Conventions for code examples in the guides
reduce duplication somewhat
make the duplicate code more similar
auto link hm:t fixture join tables like habtm
don't depend on object state when reading fixture files
ensure @model_class is initialized
Cleanup of excerpt helper
Do not use instance variables if they are not reused elsewhere
no need to dup
push constant lookup in the a cache object
added # or comment
fix actionview and activemodel test cases typos
Add a test case for exists? with multiple values
Review the changes made on 90155b4e28a3887dce9428e9df150ede3d6c7465
Client.exists?(1,2,3) and Client.exists?([1,2,3]) does not work
render_to_string shouldn't play with response_body
Document a difference between pluck and select [ci skip]
Example of Join models
Extracted from `order` processing of arguments, and use it for `reorder` to be consistent.
Deprecate the delegation of Array bang methods in ActiveRecord::Delegation
Pull the RelationMutationTests from cases/relation_test to cases/relation/mutation_test.
adding a hm:t test for singleton ar objects
support anonymous classes on has_many associations
Add regression test for IpSpoofAttackError issue
Move BasicRendering to AbstractController
Make Mime::TEXT default format in AbstractController
Move skeleton methods from AV to AbsC
`export AR_JDBC=true` on travis-ci as a *before_install* (but on jruby only)
allow to test AR master against AR-JDBC master (with `ENV['AR_JDBC']`)
Return to using protected_instance_variables in AV
Revert "Port all remaining self.protected_instance_variables to class methods"
`implemention` => `implementation`
`attibutes` => `attributes`
Be assertive about adding `[ci skip]` message
4.0 Release notes should point to 4.0 Changelog
fix the typo [ci skip]
Remove useless comment and white spaces :scissors: [ci skip]
Adjusting 4.0 release notes to show more appropriate replacements for dynamic finders [ci skip]
Reuse variable to avoid symbol usage
Remove unused delegate
clear all connections before forking
Revert "Do not dup the binds when visiting the AST"
Don't need to check if the scope respond to call
Revert "reconnect after the fork returns"
Do not dup the binds when visiting the AST
upgrade jruby dependencies
Using indent method to refactor controller generator.
Update mapper documenation for match helper [ci skip] This piece of documentation is out of date. The use of match without any via option is prevented, now the HTTP verbs have to be explicitly set. If they're not set then the error message in normalize_conditions! (around line 186) is shown.
Don't use Enumerable#next in pluck since it is very slow
reconnect after the fork returns
reduce relation allocations
remove unused variable
no need to fully qualify
move the cache to the AR models and populate it on inherited
add a failing test for marshal + cache problems
no need for the const_get since we lock
require a class for cache computations
Don't create fibers just to iterate
cache misses should return self
add missing fixtures file
support :unless_exist for FileCache
FIX reload! within rails console --sandbox causes undefined method rollback upon exiting [https://github.com/rails/rails/issues/11834]
Added partial days support to `DateTime`'s `advance` method.
Improve performance of #uniq across a large number of nodes
Stop messing up with instance variables, use protected as it was meant for
Remove not necessary AR changelog entry, fix markup [ci skip]
make sure there are actually some categories when running the test
pk should not be required for hm:t associations
Add documentation for rake db:setup task
Note functional equivalence in reset task
Port all remaining self.protected_instance_variables to class methods
Small refactoring changes to generators.
Enable number_to_percentage to keep the number's precision by allowing :precision to be nil
Perf: micro optimised Result column hash_row creation
Test that PostgreSQL adapter includes `usec` when quoting `DateTime`
correctly typecast keys, remove conditionals, reduce object allocations
no need to to_a the scope
remove extra flat_map array
avoid extra empty array allocation
extract owner id calculation to a method
only call to_a when we have to
Refactoring Generators::Base.
Add :nodoc: to ActiveModel::SecurePassword.min_cost
Mention the fast `test_sqlite3_mem` option in `RUNNING_UNIT_TESTS.rdoc` [ci skip]
Rewrite journey routes formatter for performance
Update Test::Unit to Minitest
use consistent keys between cache get / set
remove intermediate variable
cache association reset calculation
query the association rather than send the method for the association name
Comply with current umask when generating new app:
Improve CHANGELOG entry [ci skip]
Remove gist link from the code
 #11803: Move Forbidden attributes description before show post section
adding more finder migration information to upgrade guide [ci skip]
check class hierarchy with is_a? in PredicateBuilder.expand
Ensure all-caps nested consts marked as autoloaded
Improve AP changelog regarding AV extraction [ci skip]
Perf: memoize serialized column list and time zone column list
Perf: avoid array allocation where not needed
Perf: fields in pg gem causes an allocation, cache it
Remove whiny_nils config from the rails guides
Add config to method calls in fixtures.
Updating README.md [ci skip]
Add note about features vs. bugs.
Flesh out feedback portion of contributing guide.
Soften wording about knowing other devs.
Warning on doc for assets under lib|vendor not precompiling
Add Finder API changes to upgrading guide [skip ci]
fix typo in the credit section of the guides. [ci skip]
PG adapter deals with negative money values formatted with parenthesis.
Make AV dependency for ActionMailer
Change description of BasicRendering#render
Simplify if statements
Move abstract's controller tests to AV
Move actionpack's controller tests
Describe BasicRendering shortly
Extend basic rendering, test it in railties
Load HTML in ActionView not ActionPack
Update AP changelog
Basic rendering test
Move AP's capture tests to AV
Move remaining layouts tests to AV
Add AP tests to runner
Cleanup & reorganise rake tasks in AV
Remove unused fixtures and models from AP tests
Split rendering tests between AP & AV
Move render_test to AV
Fist stab on basic rendering
Do not include action_view/layouts
Add #rendered_format method to controllers
Add --skip-action-view to app generator
Include AV railtie when we're not loading full rails stack
Missing AV requires in railties tests
Include AV railtie in railties isolation tests
Add missing requires inside AV
Add AV as development dependency for railties
Remove hard require to ActionView from ActionMailer
Do not load AV inside AP
Require log_subscriber
Remove dependency on AV
Add missing require
Revert "Move setting content_type to AV"
Change documentation of metal anonymous class
Move setting content_type to AV
Use concat to avoid allocating additional array
Pass args to render's super method
Improve AV::Rendering docs
Include AV::Layouts before setting view_paths
Load AV::Layout to AM::Base in railties
Do not silance mail gem warnings.
Don not require AC::Caching
Remove RenderERBUtils from AP (only AV use it)
Remove AV::TestCase from AP
Remove ApplicationController & RoutingTestHelpers
Remove unused ActionDispatch::RoutingVerbs
Remove unused in AV fixture-controllers
Indent protected methods
Remove view_assigns from AV
Load AV::Layouts dynamicly via railties
Code formatting & typo fixes
Move anonymous class to the top, add documentation
Remove abstract_controller load hooks
Move protected_instance_variables & view_assigns to AbstractController
Include AbsC::Rendering interface in ActionMailer
No need for .rb extension
Remove 'api plugin' from docs
Create AbstractController::Rendering interface
Revert "Rename abstract_controller/rendering. to errors.rb"
Rename abstract_controller/rendering. to errors.rb
Do not include AV::Rendering
Integrate ActionMailer with ActionView
Revert "Require only path_set && lookup_context instead of whole base"
Hook up AV::Rendering on AV intialization
Move layouts to AV
Add loading 'action_view' as part of rails/all
Move rendering from AP to AV
Require only path_set && lookup_context instead of whole base
Move view_paths from AP to AV
Changing deprecation_horizon to be Rails 4.2
Removing instances of string class_names in fixtures.
Adding deprecation assertions for proper_table_name.
typo [ci skip]
Deprecating passing strings as class name in fixtures.
cleans the guides sources from fancy non-ASCII stuff
Adds Akshay Surve to Rails Guides credits list
remove unused instance variable
Add a note about edge guides in the feedback section[ci skip]
Making proper_table_name take in options.
Creating options for schema dumper.
Display exceptions in text format for xhr request
Add examples of AR order method's hash notation to Rails Guide [ci skip]
Stray nodoc causes rest of file not parsed [ci skip]
Use infinity const
Add error message for including nokogiri in Gemfile for rake doc:guides [ci skip]
Avoid compiling regexs in AR::Base.respond_to?
Document ability to run a single test.
Removing merge conflict remnants in the guides.
Added bug report template for ActionController
Updated bug report templates
Define jruby_skip to skip test on JRuby
Skip tests involving $SAFE, it's not supported on Rubinius.
Added method to skip tests on Rubinius to AS/abstract_unit.
Escape the message of an exception in debug_exceptions to avoid bad rendering
Moved "`mod_expires` to be enabled" to new line.
Skip few of the ActiveSupport'sinflector test on JRuby
Remove set_primary_key, replace with primary_key=
write changelog entry for #11922. [ci skip]
fixed a typo
ensure freeze on Thread freezes locals
Use each_with_object
Organize normalize_encoding_params' conditionals a bit better and use a case statement for it
Change the wording to explain following methods skip callbacks [ci skip]
documents 565c367 in the CHANGELOG
let AR::FinderMethods#exists? return singletons in all cases [closes #11592]
explain how to contribute to the documentation.
clarify instructions in contributing_to_ruby_on_rails.md for committing [ci skip]
oops, I missed this in 7193f75
duration is called multiple times in dev, so lets cache it
Rename @locals to @_locals in Thread to avoid conflict with Rubinius. Closes #11831
Dont' check for any order in hash since we aren't sorting it and this is determinated only by the used interpreter
blorgh_engine to blorgh [ci-skip]
Refactor serialization test for hash order
Fail informatively in #respond_with when no appropriate #api_behavior renderer is available.
Split the 1200+ line mime_responds_test into 3 more focused and manageable test files.
Stop interpreting SQL 'string' columns as :string type.
update Rails::Railtie::Configuration and ActionDispatch::Response#respond_to? to accept include_private argument
Add note about installing and running Memcached for Rails test suite tests that depend on it. [ci skip]
Use binary mode to write uploaded files [ci skip] See: http://stackoverflow.com/a/4988984/129798 for an explanation for why this is required for Ruby 1.9.
[getting started] Don't define resources :posts a second time + clarify messaging around 'Showing Posts' section
fix build error caused by #11900.
Adding LESS to rake notes
Normalize file parameters in same place as other parameters (ActionDispatch::Http::Parameters#normalize_encode_params)
Cache visitor dispatch on a per-visitor basis
Added new line [ci skip]
Added docs for 'remove' method [ci skip]
Rescue invalid ip address exceptions on assign.
Removed redundant asserts for assigns attribute operation
document `assert_not_XYZ` in place of `refute_XYZ`.
test-case for fixed issue #11870.
guides should tell people to write ruby code, not output
Add String#remove(pattern) as a short-hand for the common pattern of String#gsub(pattern, '')
Updated outdated initialization guide [ci skip]
 #11804: Add description of action in Getting Started Guide
using assert_not instead of refute
Add plural form example for AR I18n section [ci skip]
renames the :abort deprecation behaviour to :raise
fixes typo in CHANGELOG
defines a new :abort deprecation behaviour that raises
Refactor Duration#inspect
Use chop instead of singularize in Duration#inspect
Add events reference link to the text about jquery-ujs [ci skip]
Added comment to a guide about necessity of `:dependent` option for associations with NOT NULL constraint
Use assert_not rather than refute
Rely on NoMethodError#name when deciding to raise DelegationError.
Refactor NestedAttributesWithCallbacksTest for clarity
Restore the use of `#add_to_target` for nested attribute updates on existing records, and don't bother updating the association if the update is going to be rejected anyway.
drop extra variable
Upgrade ActiveRecord-JDBC-Adapter to master branch
chmod -x
only reconnect if there was already an active connection
additional note about routes in functional tests for engines [ci skip]
Remove sqlite specific`supports_autoincrement?` which always defaults to true
Execute conditional procs on controller filters only for current action.
Add author_name field to post_params to the engines docs
Remove extra case.
Make 'enable_extension' revertible
Remove redundant `string_to_binary` from type-casting
Avoid Skip in test, have a unified test for order
Add tests for ActiveModel::Serializers::JSON#as_json ordering
Remove using of suffix with term. [ci skip]
Set field encoding to client_encoding for mysql adapter.
cast hstore values on write to be consistent with reading from the db.
use `skip` so we can see what tests are not run
let the sqlite task run without rails
Minor align BR tags with HTML void - with reference to the generators code change - https://github.com/rails/rails/commit/f038d4cc5fe1ac21f92c7e32c61ff85a0c816f3f
Add tests to ActiveSupport:XmlMini to_tag method
Remove AS::TZ.lookup(name).
Unify AS::TZ's lazy init maps.
Added method `#eql?` to `ActiveSupport::Duration`, in addition to `#==`.
Use TS::Cache instead plain Hash in TimeZone.
document how to deploy to a subdirectory. #2992 [ci skip]
Avoid defining multibyte method names in JSON decoding test for JRuby Compat
skip `test_unicode_column_name` for `MysqlAdapter`.
RDoc tweaks
Bump ruby version [ci skip]
Bump ruby version [ci skip]
Revert "Removing obsolete html tags in favor of markdown code block"
Removing obsolete html tags in favor of markdown code block.
test to express that we can't turn non-array columns to array columns.
Only cache template digests if config.cache_template_loading
"Naked" rescue clauses only catch StandardError subclasses.
Add a missing require.
Use the proper encoding comment on the file
asakusa.rb hack night!
Add CHANGELOG entry for #11767
adding a weird test case
#11759: Update Assets Pipeline Guide
be more specific about csrf token and ajax - not whitelisted outside of jquery-rails [ci skip]
added String#to_date documentation to Rails 4 upgrade guide
config[:database] should be a string
Remove deprecated branch on the scope method.
Use the right instrumentation name
load fixtures from linked folders
Create sqlite3 directory if not present
Removed confusing statements about routes in getting started guide [ci skip]
Free result_metadata directly instead of freeing 2nd, redundant call.
migrations guide: fix and edits [ci skip]
getting started guide: pass the resource to the URL helper [ci skip]
Added data for permit array into scalar value
Add tmp dir in actionview/test/
Pass assert_dom_equal message arg to underlying assertion
Add CHANGELOG entry for #11665
Added to 'Security' section; especially reference to 'Ruby on Rails Security Guide'. [ci skip]
No need to use blocks here
Remove "Using Action View outside of Rails" section from AV overview guide
:scissors:
No need to abbreviate application
Add note that you must be in the rails app directory when starting up the server.
Removed an unnecessary loop - it kills performance on large texts.
used flat_map instead of map.flatten in /guides/rails_guides/helpers.rb
fix for postgresql failing test in local
Changing the def self.table_name to self.table_name in the column_name.rb
Add "extname" option to javascript_include_tag
Using URI.parser.unescape
Avoid calling define_method with non-english chars in InflectorTest
Updated the guide to say that the localisation file for validation messages is in activemodel, not activerecord
use flat_map
Revert "Isolate railties Generators Tests"
Isolate railties Generators Tests
add a test for concat on hm:t associations
As we are doing debug mode on
Added Action View in 'rake about' [ci skip]
Add timeout to test_async_stream
Added action_view in Rails::Info
Define enable_extension method to prevent undefined method error
fix a gramatical mistake
Use assert_nil instead of testing for equality
map => map! for stopping extra array creation
Replaced quotation marks for term by apostrophe
Use map! to avoid an extra object creation
Remove useless begin..end
Removed redundant xml override from pg adapter
fix the changelog typo[ci skip]
extract habtm handling to a method
use drop and avoid a range object
Make current_page? compare binary strings
Change test_registering_new_handlers and test_count_on_invalid_columns_raises tesetcases assertion to case insensitive because Oracle database adapter handles table name in uppercase.
remove intermediate assignments
push option handling "chrome" outside `initialize`
remove `valid_options` class method
Enable rubinius on travis too
association builder classes no longer need the model
remove more mutations from the `build` method
make mutation method apis more consistent
push more mutations outside the factory method
push module building to the constructor
users should be warned if clobbering constants
no need to define the constant twice
this code is dead, removing
Allow jruby on travis allowing failures
defning extensions happens once, no need to cache
assert that constants have been set rather than the names
remove dead code
pushing out more callback definitions
push more mutations out of the builder
remove dependency on @model when defining callbacks
extract more mutations to the caller
separate some mutations from reflection construction
Added missing closing bracket for markdown url in guides [ci skip]
Minor optimization and code cleanup in query_methods.
oops! :bomb:
do is_a? tests on assignment so runtime is faster
Revert "all `scope_chain` methods allocate new arrays, no need to dup"
callback should always have a value
no need to to_sym
pass the mixin in to the code generation methods
we should not allow invalid objects to be constructed
push some validation up to the factory method
use bind values for model types
Refactor Date, Time, DateTime timezone methods
remove language about configuring digest method [ci skip]
Moved README into action_view [ci skip]
Remove duplication from date_time calculations
Change from `map` => `map!` and `collect!` to save creation of extra array.
all `scope_chain` methods allocate new arrays, no need to dup
Improve documentation for controller how to get included helpers [ci skip]
update guide to reflect default HMAC SHA1 in MessageVerifier used in SignedCookieStore [ci skip]
Add retry to `gem install bundler` for Travis
fix tests
Rails.logger should have level specified by config.log_level.
assert_no_queries should ignore certain sqls
AV::Digestor thread safety fixes.
Don't mutate the original inflections instance in the tests
Add CHANGELOG entry for inflection removal
assert_no_queries should allow to ignore some queries
Creating an SSE class to be used with ActionController::Live.
Don't have a cow, man!
Revert change on ActiveRecord::Relation#order method that prepends new order on the old ones
only calculate the klass once
Add installation instructions for FreeBSD [ci skip]
Move changelog entry to the top [ci skip]
Improved the doc about showing posts in getting started guide [ci skip]
Added SanitizeHelper to rails guide docs [ci skip]
interceptor should mimick original method
use method with_active_record_default_timezone
remove duplicate method
Add Time#to_s(:iso8601) for easy conversion of times to the iso8601 format for easy Javascript date parsing
Added Time#middle_of_day
Add ability to specify how a class is converted to Arel predicate
Avoid "uninitialized constant ActiveRecord::PendingMigrationError::Rails"
Revert "fix order dependent test related to migration"
Properly repair validations when dynamically added
Clear class ivar before testing
Unneeded assertion
Don't rewrite AR connection#commit_db_transaction method globally
Typo fix
Cleanup of class_name
Using markdown-style code quotes
Changed stylesheet load order in the stylesheet manifest generator.
make test not depend on order
reset default timezone and make test order independent
make test order independent by resetting timezone
fix order dependent test related to migration
fix order dependent test
Minor refactor - Uses Enumerable#to_a instead of iterate and add to an array
Update of 'The Asset Pipeline' guide for Rails 4. [ci skip]
Update Rails 3.2.x guide link [ci skip]
Use hyphenated version of assert_url [ci skip]
Add a SQL example for `not` [ci skip]
Refix my misreading of the diff
Removed excluding vendor from API doc [ci skip]
Excluding action_view/vendor in API [ci skip]
grab executable from rubygems
Refactor handling of action normalization
Refactor `ArrayParser`
Be sure to restore the default I18n.locale after changed its value in a test
Don't mutate the Base settings by merge!ing the given value
Remove $VERBOSE = nil from tasks.rb
Reset ActionView::Base.logger instead of AC::Base.logger
grab executable from rubygems
used flat_map instead of map.flatten
:scissors: [ci skip]
change function def self.table_name to self.table_name
Typo fix
More unused associations in AR test models
Clean up unused associations in AR test model
Use Ruby 2.0 caller_locations instead of caller if available
Privatize non-test method
Allow overriding of all headers from passed environment hash
Cleanup task for informing about hstore
AM Guide: Should be "different formats".
rake -> bin/rake
Add packages list for ArchLinux [ci skip]
Simplify select_one method.
Removed doc of removed method diff [ci skip]
Updated guides with latest method [ci skip]
fixed file name references [ci skip]
text_area should handle nil value option like text_field
Refactor to use flat_map
oops!
eliminate conditional in JoinHelper
acually get the actual source reflection :cry::gun:
stop relying on side effects of const_missing
add a specific factory method rather than using new
factory methods should not have side effects.
extract mutation from generation method
Updated guides with latest method [ci skip]
habtm can only ever be an association reflection
add the missing middleware in command line guides rake about [ci skip]
use the predicate method
Stop reading the same file twice for testing different content
AR::Base does not need to know how to create reflection objects
remove unnecessary reader
only flatten one side
extend by adding relationships rather than monkey patching
decouple extensions from association object state
add active model basics wip to guides/documents.yaml
don't convert mailer default values to procs
Uses mysql2 0.3.13 or later
Leave the knowledge of boolean tag values to content tag
Use merge! to avoid a new hash and change some spots to 1.9 hash style
Added some usage about ActiveRecord::Result [ci skip]
Defines the return type of select / select_all method.
Move #11546 changelog to the top [ci skip]
Add info about placing a new CHANGELOG entry to contributing guide
Revert "Match Dev/Prod parity for Index Page"
 syntax fix for f.select doc. [ci skip] .
Removed random dot in code sample [ci skip]
Don't allow `quote_value` to be called without a column
Tidy up the "Specified column type for quote_value" changes
Specified column type for quote_value
rescue from all exceptions in `ConnectionManagement#call`
remove useless duplication in include test
Update note about declarative etags in release notes
Improve comment about ActiveModel::Model
metal is no longer mentioned on rack guide
Clear named routes when routes.rb is reloaded
Add logging performance [ci skip]
Rails 4.0 release notes. Explain major features added and removed. [ci skip]
Match Dev/Prod parity for Index Page
Removed information about creating database[ci skip]
add support for html attributes to grouped_options_for_select
Extract verbs array from helper to a constant
Upgrade guide. Renaming Indexes on tables. [ci skip].
Disable ability to iterate over a Range of TimeWithZone
use strong_params in example
fix typo in Active Record Validations guide. [ci skip].
use the superclass implementation
remove duplication in test
use the appropriate RDoc code markup
document the Rails::ConsoleMethods#helper and #controller methods
Use the canonical router on the CHANGELOG entry
Add licences to gemspec
fixes the test case of that plugins
Use latest mysql2.
grammar fix in upgrade documentation
Improve ActiveRecord::QueryMethods#includes docs
fixes plugin test for tutorial
New output for scaffold generate [ci skip]
bcrypt-ruby stable is 3.1
Guides fixed typo in index.html.erb file [ci skip]
Refactor to reduce number of loops
Added some description to generate actionview gem [ci skip]
Added routing in test for actionpack
Enhancing readability of options for delegate method
parent_table is only used internally
decouple the manager class from building join constraints
cache the klass member of the reflection
cache the scope chain on the stack and eliminate `i`
just push on to the scope chain items. Oops! (thanks @carlosantoniodasilva)
use Relation#merge to combine scope chain items
make sure scope_chain_items has consistent types
removes the obsolete private method column_methods_hash [Closes #11406]
Skip Rack applications and redirects when generating urls
Move initializing process for query cache to ActiveRecord::ConnectionAdapters::QueryCache module.
Unifies mysql and mysql2 casting of booleans
`change_column` for PG adapter respects `:array` option.
Added generated unit test for generator generator and new test:generators rake task included in test:all rake task.
Lock mysql2 version to 0.3.11 since 0.3.12 is failing right now. Check #11457 for details
save another array allocation
removing useless assingment
reorder bind parameters when merging relations
use arel rather than slapping together SQL strings
Do not re-save destroyed association on saving parent object
Remove deprecation warning from attribute_missing
Added Rack::Sendfile in rake about [ci skip]
Added CheckPending middleware in default
No need to add config for x_sendfile_header
Rack Sendfile is coming as default now
Rack::Sendfile is now included in middleware by default, change tests to reflect that
Revert "Don't use Rack::Sendfile middleware if x_sendfile_header is not present"
Using ruby 1.9 syntax [ci skip]
re-introduce `select_for_count` private method.
Blacklist->whitelist for reference scans in order!
 #4566: Remove extra decrement of transaction level
Removed unused require from Rakefile
Removed unused broken task for update README [ci skip]
memorized -> memoized typo fix [ci skip]
Added actionview in API generation [ci skip]
This is not needed anymore, before_initialize block can access config
[ci-skip] Update link, tweak UglifyJS
it's xml, not json
ActionController::Live documentation in the guides.
Reset @column_defaults when assigning .
Added missing actionview in list for release
Removed unused file! Moved to actionview
Remove block argument from callback example.
Remove update:application_controller rake task.
Removing Gem.source_index [ci skip]
Remove ambiguity with pluralizations and I18n keys used for association restrict_dependent_destroy errors
Typo fix [skip ci]
private method doesn't work for singleton methods defined this way
add test-case to verify `error.path` when a helper was not found.
move `MissingHelperError` out of the `ClassMethods` module.
Improve Active View Overview guide. [ci skip]
Documment config.log_formatter added on 51aeae91
Add missing require
Array#to_formatted_s does not call each element's to_s anymore
Only raise DelegationError if it's is the source of the exception
 #11381: Ignore config.eager_load=true for rake
Add documentation for add_flash_types [ci skip]
Add missing require so that DateTime has the right superclass
Add failing test for #9562
Better not mutate the given options Hash
Remove accidentally committed vi .swp file.
Simplify Array#in_groups_of code
Speed up Array#split
Speed up String#truncate
Speed up AS::Inflector.underscore
Show real LoadError on helpers require
Speedup AS::Inflector.camelize
Speedup AS::Inflector.deconstantize
Speedup String#to
Avoid creating an extra Range instance
Add documentation for FileStore#increment and #decrement [ci skip]
Add documentation for #clear on certain Store classes [ci skip
Update the filestore documentation for clear [ci skip]
Remove unnecessary string interpolation
fix visibility of the relation construction methods
pass arel to select_all rather than depend on method_missing
Make sure that a joins Relation can be merged with has_many :through + association proxy
Return local time for backwards compatibility
Retain UTC offset when using Time.at_with_coercion
Creating a class to handle preparing ARGV.
Using the instance variable for argv.
link break added after the Travis CI link
Remove redundant test about `push_with_attributes` removal.
close our connection when we are done
remove dead code
if we remove the connection from the pool, we should close it
use latches rather than mucking with the scheduler
Removed unused require from actionview rakefile.
actionview should be able to install using install.rb [ci skip]
refactor to_sql so it does not depend on the to_sql implementation of the connection
handle notes in *.sass files
Added cursor pointer for 'More Ruby on Rails'
1.9 Hash Syntax
params keys are Strings
Update 'Active Record Migrations' guide [ci skip]
Creating a class for carrying out rails commands.
Explicitly test for true and false.
cache.exists? should return true/false
Use Request#raw_post instead Request#body
Run login_procedure only when the auth_scheme is valid
Use helper method to get ENV['CONTENT_LENGTH']
Add CHANGELOG entry for #11348
Include block in a argument shift
Refactored strong paramters usage and updated Gemfile.lock with Rails 4
Added an `enforce_utf8` hash option for `form_tag` method
Check authentication scheme in Basic auth
Removed unused test for DateTime.local_offset
Cleaned up wording and tags.
Some performance benchmarking for take vs limit
Running isolated test for assertions and journey
actionpack not having activerecord tests [ci skip]
RUNNING_UNIT_TESTS file is in rdoc [ci skip]
fixes Rails version for the stable API [ci skip]
Remove action view test duplication
Extract common query to a constant.
Remove conditional, since results are always an instance of `ActiveRecord::Result`
Make HashWithIndifferentAccess#select always return the hash.
Adding back deprecation require in all.rb
 #11288: Removed duplicated touching
Cleanup ul_encoded_params_parsing_test
Revert "remove string based terminators for `ActiveSupport::Callbacks`."
explain how to extend application templates. [ci skip]
fix typo in Active Support CHANGELOG. [ci skip]
remove string based terminators for `ActiveSupport::Callbacks`.
Space is not required for Set-Cookie header
removed markdown code markers which were rendering in the generated AR querying guide
Cleanup belongs to tests
Specify request method in guides [ci skip]
Added link to Form Helper article from getting strated [ci skip]
Removed deprecated `Rails.application.railties.engines`.
Remove deprecated `ActiveRecord::Base.disable_implicit_join_references=`.
Removed unsued deprecation require
SQL Keywords to be in UPPERCASE
Replaced older rocket sign to new :
Removed redundant upgrade docs on new cookies.
remove leftover if after deprecation removal (68563128).
remove useless `env.merge!(env)` from ActionDispatch::IntegrationTest`
build fix: railties tests used deprecated `SchemaCache` methods.
Remove deprecated nil-passing to `SchemaCache` methods.
replace artificial space with RDoc markup (follow up #11285). [ci skip]
Remove deprecated block filter from `ActiveRecord::Migrator#migrate`.
[ci skip] Separated full stop from the Optimistic_concurrency_control wiki link d4e3f8ba826cd42aa3c242149
Remove deprecated String constructor from `ActiveRecord::Migrator`.
Missing closing + in documentation [ci skip]
Remove deprecated `Arel::Table#columns` with no replacement
Remove deprecated `Arel::Table.table_cache` with no replacement
Remove deprecated `scope` use without passing a callable object.
Remove deprecated `transaction_joinable=`
Remove deprecated `decrement_open_transactions`.
removed deprecated increment_open_transactions
method transplanting between modules isn't supported on 1.9
Removed unused deprecation requires.
Added missing CHANGELOG from PR #11279 [ci skip]
Removed deprecated threadsafe!
cleanup, remove trailing whitespace from guides/CHANGELOG
remove deprecated `PostgreSQLAdapter#outside_transaction?` method.
refactor the method cache objects to have a superclass
keep a cache of writer methods
move the reader method cache in to the read module
keep a cache of the reader methods so we can reuse them
Remove deprecated `String#encoding_aware?`
Remove deprecated `Module#local_constant_names`
Remove deprecated `DateTime.local_offset`
Remove deprecated `ActiveRecord::Generators::ActiveModel#update_attributes` in     favor of `ActiveRecord::Generators::ActiveModel#update`
Remove deprecated Logger core extensions (core_ext/logger.rb)
Grammar fix debugging rails applications [ci skip]
Add patch level to Ruby version information
Remove deprecated `Time#time_with_datetime_fallback`, `Time#utc_time`     and `Time#local_time` in favour of `Time#utc` and `Time#local`
use American English: "favor" not "favour" [ci skip]
Removed deprecated method `columns_for_remove`
Remove deprecated Hash#diff with no replacement.
Remove deprecated Rails application fallback for integration testing
Remove deprecated constants autoload
Remove the deprecated include_seconds argument from distance_of_time_in_words
reduce the amount of code Ruby has to parse
freeze the constant value so it isn't duped when used as a hash key
making the comment more accurate
stop storing multiple copies of a particular attribute name
eagerly assign the attribute name cache, remove const_missing
initialize generated modules on inclusion and on inheritence
push attribute constant cache in to the attribute methods module
fix to_sql output on eager loaded relations
lock around mutating the generated methods module
remove private attribute reader
define attribute methods in a thread safe manner
we don't need to use active support *everwhere* common.
Remove deprecated SchemaStatements#distinct
initialize ivars so we don't have to constantly check them
[doc] fixed printing of code samples
eagerly initialize the attributes module to avoid check-then-set race conditions
remove wrong documentation from a :nodoc:'d method
Adding actionview in Rakefile to run test
remove unused `ActiveRecord::TestCase#sqlite3` method.
deprecated `ActiveRecord::TestCase` is no longer public.
Dropped deprecated option `:restrict` for `:dependent` in associations
Removed support for deprecated `delete_sql` in associations.
no need to to_sym the column name, leave it as-is
resolve aliases before passing the hash to the predicate builder
Removed support for deprecated `insert_sql` in associations.
use extract_options!
fix indentation
Removed support for deprecated `finder_sql` in associations.
Add CHANGELOG enty for #11235
Removed support for deprecated `counter_sql`
update test names in testing guide [ci-skip]
Removing not useful test related to reflect_on_all_associations
Remove deprecated `Date#to_time_in_current_zone`
Remove deprecated `config.whiny_nils`
Use block instead passing as argument
Remove `page_cache_extension` deprecated method
calling default_scope without a proc will raise ArgumentError
Remove deprecated AR::Connection#clear_stale_cached_connections! method
Removed deprecated method type_cast_code from Column
Remove deprecated `Proc#bind` with no replacement.
Remove deprecated Array#uniq_by and Array#uniq_by!
Remove deprecated AS::BasicObject, use AS::ProxyObject instead
Remove deprecated constants from Action Controller
avoid intermediate zipped array
make the identity type a singleton to save on object creation
only deal with strings internally
build an AST rather than slapping strings together
Removed deprecated options for assocations
Remove deprecation messages about protected_attributes and rails-observers
stop exposing the underlying alias datastructure
we don't need to to_s the column
Add missing require
the data structure used to store attribute aliases should not be exposed
remove deprecated `ActiveRecord::Base#connection` method.
Remove `FormBuilder` deprecation warning about block argument and associated tests
remove auto-explain-config deprecation warning
remove deprecated `BufferedLogger`.
Remove deprecated `:distinct` option from `Relation#count`.
remove deprecated `assert_present` and `assert_blank`.
Removed deprecated methods partial_updates and family
Removed deprecated method scoped
Extract ActiveSupport::NumberHelper methods to classes
Removed deprecated method default_scopes?
Using ActiveSupport::Concern instead of plain regular Ruby hooks in railties/lib/rails/generators/migration.rb file
Further clean-up of ActiveSupport::Callbacks
Remove redundant escapes from xml serialization test
Document where `column` param gets utilized in `substitute_at`.
s/plugin_new/plugin
Allowing multiple rails applications in the same ruby instance.
Using preferred find_by syntax in guides
unified the param names across all callbacks manipulation methods _ Rename the define_callbacks params to `names`   - in order to match the naming conventions for `get_callbacks` and `set_callbacks` at https://github.com/rails/rails/blob/master/activesupport/lib/active_support/callbacks.rb#L736-743   - `define_callbacks` just register names(events), not define the real callback functions. - Rename the `reset_callbacks` params
Adding find_by in guide to methods that trigger after_find
fix typo in ActiveModel::Error docs [ci skip]
Removed params permit step from 5.6 section [ci skip]
don't shadow `through_scope` method name with local var.
remove evals from AM::Validations::Callbacks follow the same refactor at a63a964a5d1ed02cf0df1b1a33a96ed2a9fa987b
Complete a sentence in i18n guide's introduction
Synchronize PostController#create code from 5.6 to others sections. [ci skip]
updated AS:Callbacks doc for terminator option in define_callbacks method The change is commited at ba552764344bc0a3c25b8576ec11f127ceaa16da
Do not invoke callbacks when delete_all is called
Clean the code a bit
store a symbol directly inside DISPATCH_CACHE for extra roflscale
Typo in Active Record Migrations Guide [ci skip]
Added clarification for destroy link_to description in 5.14 [ci skip]
Remove a duplicated section [ci skip]
doc for more input tag types
cookies are encrypted starting Rails 4
provide a more sementicthe local variables name for ActiveModel::Validations::Clusivity#include? method the original name `exclusion` is a bit confusing when using with the method `inclusion_method` rename it to a more logic neutral name.
Update a broken link into the fixtures' template
Add few information about missing steps [ci skip]
fetch value(s) from stringified options
remove deprecated implicit join references.
use bytesize rather than force encoding
writing the new body can cause the response to be committed and the request thread to return up the stack before the instance variable is assigned.  Synchronize so that the ivar is assigned before the other thread can activate.
Verify that route constraints respond to the expected messages instead of silently failing to enforce the constraint
Omit turbolinks configuration completely on skip_javascript generator option
Remove order_values argument now that default_scope is simplified
find_in_batches should work without logger
Simplify/fix implementation of default scopes
Apply default scope when joining associations.
adding additional plugins for debugging [ci skip]
Remove depreacted finders
Remove deprecation warning from AttributeMethodsMatcher
Asking user to declare post resource in guide [ci skip]
Review AV changelog [ci skip]
Remove deprecated attr_protected/accessible
Remove passing the prompt to grouped_options_for_select as an argument, because it was deprecated.
Prettied up the README with syntax highlighting.
Re-remove deprecated API.
Removed "to:" from root directive and fixed typo ":to"
activerecord/examples/simple.rb use master branch activesupport gem
fix grammar, change 'an' to 'a' [ci skip]
Use activerecord 4.0.0 for reporting bugs using the template[ci skip]
Improved grammar and replaced 'dbs' slang with 'databases'
Removing deprecation message and silencing method.
Review railties changelog [ci skip]
Move delegation error constant to inside Module
linking small rails 4 features image to a bigger one [ci skip]
Add DelegationError class. Rasied by delegation to a nil object
mention the removal of `--builder` in 4.0 release notes.
fix activerecord/examples/performance.rb#L101 syntax error
Remove a comment related to 920753f
Adding documentation to the Rails initialization guide. [ci skip]
remove trailing whitespace from `config/routes.rb` template.
Minor changes to actionpack/actionview Rakefile
Moving the `pluck` and `ids` methods to their own delegate line.
Raising an error when nil or non-hash is passed to update_attributes.
Add changelog entry for database tasks removal #10853 [ci skip]
Refactor cache fragment handling with read/write methods
Move the write portion of fragment_for to its own method to allow for easier creation of custom cache methods.
change id="errorExplanation" to id="error_explanation" to match the generated files
Improve the testing guide [ci skip]
Comment typo
removed unnecessary mapping for on options
We are now rails 4 [skip-ci]
restore correct scaffold generation
Change reference to all to scoped instead.
fix deprecation warning in scaffold controllers
Making the rake file for tests easier to read.
"Relational Database Managements systems", not "Relational Database Managements System systems"
remove trailing whitespace from Active Record CHANGELOG
Clarify what arguments are passed to redirect blocks - fixes #11056
test-case => failing
Mention Content-Type for JSON params parsing.
Add CHANGELOG entry for #10971
Improve js written for guides
Added markdown tag for highlight
Removing deprecated rake tasks.
Flag cookies as secure with ignore case in ActionDispatch::SSL
test-case to prevent regressions described in #10901.
replace all older rocket sign to new ":" from examples of active record and active models
ActionDispatch:SSL: don't include STS header in non-https responses
Setup env and seed_loaded for DatabaseTasks outside load_config
Change a way ActiveRecord's config is prepared for rake tasks
[doc] Info added for tmp:create [ci skip]
Missing mention about a generated file [ci skip]
test-case to prevent regressions on `Association#build` with an Array.
make default value for `:message` on `AM::Errors` explicit.
add explicit AS dependencies for ActiveModel::Naming
flatten merged join_values before building the joins
Remove code related to the rails test command
do not load all child records for inverse case
fix bad test by making number that fits for integer
Adding verbose in isolated test.
Adding verbose mode to test_with_ar_integration
fix the path of action view from actionpack/lib/action_view => actionview/lib/action_view
Saying gemcutter => rubygems [ci skip]
Update the feedback instructions [ci skip]
Don't remove trailing slash from PATH_INFO for mounted apps
 #10428: Added tests for config.assets.precompile
Check if malformed fixture exists first
Restore mistakenly removed malformed file fixtures
Rename AP to AV in info about running tests
Bump up version, fix module name
Adjust changelog for AV & AP
Remove heading from AV's CHANGELOG
Change from 'actionpack' to 'actionview' for locales path
Add ActionView to CI
Template test were moved to AV
Remove require to AP stuff that left
Remove digestor fixtures from AP
Copy company test fixture to AV (fixes failing test)
Remove unneeded test fixtures in AV
Add actionpack as actionview's development dependency
Remove unneeded files
Move template tests from actionpack to actionview
ActionView version should be 4.1.0
Move actionpack/lib/action_view* into actionview/lib
Add bare actionview gem to the root directory
fix "will be ran" and "has began" typos in configuration guide
`inspect` for AR model classes does not initiate a new connection.
ActiveModel::Model inclusion chain backward compatibility
[doc] Update return false if record is invalid
add forgotten CHANGELOG entry for #10884.
Handle single quotes in PostgreSQL default column values
add documentation for `ActiveSupport::Testing::SetupAndTeardown`.
log the sql that is actually sent to the database
When .find_each is called without a block, return an Enumerator.
better documentation for `AS::Testing::Declarative#test`. [ci skip]
Remove duplicate letter 'a'. [ci skip]
do not load all child records for inverse case
Change Result#each to return an Enumerator when called without a block.
It takes 4 spaces or some backticks to have this code displayed as code in the changelog.
Add `respond_with` `location` option to the docs
`CollectionProxy#include?` returns `true` and `false` as documented.
Removing a repetitive comment and removing a deprecation warning.
we only support 1.9+, so just check for a name
be consistent about parameter types passed to new_constants_in
load the file rather than evaling
just construct real objects rather than mock and stub
Use Colspan in th Tags
rewrote render tag using more succinct and idiomatic way
Added test for link_to_unless to make sure the result consistency.
Escape the string even when the condition of link_to_unless is not satisfied.
Add CHANGELOG entry for #10969
Use a case insensitive URI Regexp for #asset_path
Removing a repetitive comment and refactoring the Application class in Railties.
Creating a class to build the default middleware stack.
collection tags accept html attributes as the last element of collection
change rails verison to 4.0.0 in command line
Rewind StringIO instances before be parsed again
Use xml instead already parsed xml
reorder finder methods list alphabetically
Updated the doc for const_regexp [ci skip]
fix quotes and ruby old hashes
Use markdown quotes instead <tt> tag
reword the docrails info [ci skip]
Update contributing to rails guide to depict new contributing to documentation info
Change documentation about contributing to Docs
Make test name descriptive and add reference to original regression commit
fixture setup does not rely on `AR::Base.configurations`.
regression test + mysql2 adapter raises correct error if conn is closed.
cleanup, remove trailing whitespace from AR changelog
'json' gem is no more required under JRuby
Change "." to ":" for formatting purpose
fix typos
date_field docs for action view
`dasboard` => `dashboard`
replace version 3.2.3 by 4.0.0.beta in command line
`existant` => `existent`
Update the HTML boolean attributes per the HTML 5.1 spec
Changing const_regexp to check for constant name.
valid_app_const? -> valid_const?
Add CHANGELOG entry for #10740
Properly namespace DatabaseTasks
correct documentation about active_record behavior
Use DatabaseTasks.env instead of Rails.env in databases.rake
Added an example of the query without except before the example with except
more guidelines for command line
 `initialize_on_precompile` is not used anymore.
quoted table name is also cached
table name is cached on the class, so stop caching twice
calculate types on construction
only cache the primary key column in one place
these methods are never called, so remove them
This test does not test anything that happens in the real world.  If you recreate the models without mucking with internal caches of the relation objects, then the test fails.
Don't set X-UA-Compatible header by default
copy editing AS guide [ci skip]
copy edits [ci skip]
Revert "Add detailed steps on how to squash multiple commits into a single detailed commit"
Revert "Whitespace trimming in guides generation"
oops. step away from the keyboard aaron. :cry:
fix caching of automatic inverse of. :bomb:
let the object stay in charge of internal cache invalidation
refute the predicate for better failure messages
reduce automatic_inverse_of caching logic
active_record should always be set. Do or do not, there is no try
push ambiguous reflection warning down to reflection name calculation
clean up ivar assignment
Ambiguous reflections are on :through relationships are no longer supported. For example, you need to change this:
Adding documentation to +polymorphic_url+ concerning the options that it inherits from +url_for+. The way that +polymorhpic_url+ is built allows it to have options like +:anchor+, +:script_name+, etc. but this is currently not documented.
Add missing nsec test for 17f5d8e
Keep sub-second resolution when wrapping a DateTime value
Moving add_column_options! up to SchemaCreation
sometimes singularize does not work, so we get a list of two strings. just uniq them
no need to cache hash lookups
split aggregates from association reflections to avoid is_a checks later
remove unnecessary is_a check
Using 1.9 syntax for edge guides
we should apply the default scope before querying
Use sprockets-rails 2.0.0
Grammar nazi at work [ci skip]
Warning removed for Minitest
minor doc changes to `ActiveSupport::BacktraceCleaner`.
Refactor of ::Rails module
Drop extra variable from test
bind values should not be merged between scopes
stop adding a new method for touch callbacks
expose a few attribute changed methods
push the touch method outside the eval
remove unused variable
check whether the association is constructible rather than checking constants
use attribute methods for finding key values rather than generating method names
push belongs_to counter cache method to a single method
push before_destroy counter cache method to a single method
remove evaled belongs_to counter cache method
adding callbacks should be private
indentation
remove evals from the association
reduce evals in depdendent associations
remove some evals from callback conditionals
Calls to the application constant have been refactored to use Rails.application when drawing routes and creating other configurations on the application.
Use symbols instead of strings
rename method `find_first_records` to `find_first_with_limit`
fix ActiveModel::Validations.validators_on doc
Don't blindly call blame_file! on exceptions in ActiveSupport::Dependencies::Loadable
Refactored ActiveRecord `first` method to get rid of duplication.
Image optimized for web view
Remove fall back and column restrictions for `count`.
cleanup whitespace in relation.rb
Testing CheckPending middleware
doc: renaming table name to follow the file's standards
instructions for variations and alternatives for ActiveRecord#find
explaining ActiveRecord#first in rails 3 and 4
Getting rid of the +automatic_inverse_of: false+ option in associations in favor of using +inverse_of: false+ option. Changing the documentation and adding a CHANGELOG entry for the automatic inverse detection feature.
change format example to read better when rendered with full_messages
Describe ActiveSupport core extensions for BigDecimal, JSON support, and instance variable names.
fixed typo in action_view template
Middleware in guide updated [ci skip]
Hash#deep_*_keys(!) recurse into nested arrays.
Override Time.at to work with Time-like values
â€™ -> ' [ci skip]
Update Getting Started Guide - Strong Parameters 	modified:   guides/source/getting_started.md
Added a warning about #1769 to the routing guide.
Added bang method versions to association basics guide
ActiveRecord::Relation#blank? should `LIMIT 1`
Docfix: Use public interface instead of setting instance variables
lists the options for find_each and find_in_batches
using Model.all.find_each in rails 3 raises an error and should not be recommended
As we have moved to rails/docrails from lifo/docrails
registers recent patch in the railties CHANGELOG
Add info about contributing to docs to CONTRIBUTING.md
Stub logger for tests
correction standr => standard of commits @0435d0e
add test for 9041454def79d8e61cabe49e7c5cb72cef29138b
fix serialization type cast when value is already unserialized
Remove FirebirdDatabaseTasks was deprecated, because this was provided by 3rd-party.
Remove SqlseverDatabaseTasks was deprecated, because this was provided by 3rd-party.
Remove OracleDatabaseTasks was deprecated, because this was provided by 3rd-party.
only check pending migrations if there are new files
the typecast value should be passed to the serializer.  fixes #10830
adding a test for #10830
make sure both headers are set before checking for ip spoofing
Refactor ActionDispatch::Http::Parameters#normalize_encode_params
Dry-up ActionDispatch::Routing autoloads
Removing use of subclassed application constant and instead using the more agnostic Rails.application syntax. This means tests will be more portable, and won't rely on the existence of a particular subclass.
Replace comment about Sprockets stub directive with a link to README about all directives
The behavior we had in place in rc1 was actually to convert to DateTime and use <=> from there. Restore that.
Allow Date to be compared with Time (like it was possible to compare Time with Date)
Improve upgrade guide documentation about the PUT->PATCH change
No need to load 'rake/packagetask' as it's already
wonderfull => wonderful
Remove unnecessary testcase for instance level stored_attributes.
Remove instance level serialized_attributes setting was deprecated.
Remove instance level attr_readonly setting was deprecated.
Remove behavior that deals with a string as third argument of `add_index`, because this was deprecated.
Raise ArgumentError to fix Rails 4.1 deprecation warn message.
Remove Mime::Type#verify_request? and Mime::Type.browser_generated_types were deprecated.
Remove ActionView::Template#mime_type was deprecated.
Remove #sum with a block was deprecated.
Remove ActionController::RecordIdentifier was deprecated.
Remove action_controller/vendor/html-scanner.rb was deprecated.
Remove :confirm and :disable_with options from ActionView::Helpers::FormTagHelper were deprecated.
Remove link_to_function / button_to_function from ActionView::Helpers::JavascriptHelper were deprecated.
Remove :confirm and :disable_with options for ActionView::Helpers::UrlHelper#link_to and #button_to were deprecated.
Remove active_support/testing/pending.rb was deprecated.
Remove ActiveSupport::Benchmarkable#silence was deprecated.
Remove active_support/json/variable was deprecated.
revises the documentation of ActiveRecord::Relation#find_or_create_by [ci skip]
Add detailed steps on how to squash multiple commits into a single detailed commit
reword for grammar and clarity
add cache_if and cache_unless on caching doc
rewrites AR's reload documentation
Add propery docs to ActionDispatch::Response [ci skip]
Extract ActionDispatch::Request#deep_munge
Revert "change additional 'RESTful' routes to 'resourceful' routes as the additional actions may potentially get you farther away from RESTfulness"
change additional 'RESTful' routes to 'resourceful' routes as the additional actions may potentially get you farther away from RESTfulness
`RoutesInspector` deals with routes using regexp as `:controller` option
Adding a test to make sure that using rake routes with the CONTROLLER environment works correctly.
correct no-replay@example.com to no-reply@example.com
Prevent side effects in `Hash#with_indifferent_access`.
use grep over select for consistency and efficiency pass block directly to grep
Running isolated tests
No need changelog entry
condition simplified
Whitespace trimming in guides generation
Consistent one-spaced bullets in guides release notes
Remove references to deprecated test tasks
Remove double spaces in guides
Remove double spaces in code examples
Consistent use of one space only after punctuation
End-of-line whitespace hunt
test cleanup, replace `define_method` and `remove_method` with stubs.
Use Range#cover? for Numeric ranges (tests via endpoints) and use Range#include? for non-numeric ranges
DirtyModel uses a hash to keep track of any changes made to attributes of an instance. When using the attribute_will_change! method, you must supply a string and not a symbol or the *_changed? method will break (because it is looking for the attribute name as a string in the keys of the underlying hash). To remedy this, I simply made the underlying hash a HashWithIndifferentAccess so it won't matter if you supply the attribute name as a symbol or string to attribute_will_change!.
`implicit_readonly` is being removed in favor of calling `readonly` explicitly
minor comments cleanup
cleanup whitespace in `active_record/relation.rb`.
removes forgotten avatar
Correct the assertion that join table columns have no options, mind context.
Minor refactor of ActiveRecord::SchemaMigration to remove references to Base, override table_exists method, and switch to preferred style for class method definitions.
add test-case for `Array#to_sentence with blank items.
compatability => compatibility
add notice to server boot messages if using default 0.0.0.0 binding
Add note about decorator loading in Engines guide.
Add note about upgrading custom routes from `put` to `patch`.
correction on cache.fetch race_condition_ttl
enhanced comments for foreign_key_present? method
HashWithIndifferentAccess#select working as intended
deprecate Validator#setup (to get rid of a respond_to call). validators do their setup in their constructor now.
Add CHANGELOG entry for 99860582b2b1c0fc42bf84c52aac57b243d42678
Require only minitest.
Refactor AR's counter_cache_test.rb test
Add test for AR::CounterCache.update_counters
Added an example for primary_key option
Compare with the parsed result from REXML backend
remove code duplication
Add ActiveModel requirement to application.rb
In rails 4 there are much more ways to retrieve a single object
Extract AR::Persistence#becomes's test code out from base_test.rb
reverse comparison because of strange AS behavior
just set the default argument, a nil parent should be an error
fold the collection rather than multiple assigments
use drop rather than calculate the array length
adding set_binds
avoid creating a set if no where values are removed
remove bind values for where clauses that were removed
push partitioning up so bind elimination can get the removed wheres
push partion logic down and initialization logic up
Extract AR::AttributeMethods#attribute_for_inspect's test code out from base_test.rb
Extract AR::Core#inspect and AR::Core.inspect's test code from base_test.rb
the rake task `db:test:prepare` needs to load the configuration
In batches test @total was assigned but not used. Use it in tests instead of Post.count
Documentation: Notifications queue does not run in a thread.
update_counters accepts a hash, not an array of hashes
partition the where values so we can access the removed ones
eliminate some conditionals
change method name to reflect what it actually does.
save the where values in variables so we don't need to look them up all the time
pass where values to the helper function rather than rely on internal state
push binds through relation objects
record who created the node when $DEBUG is true
Spelling correction in Upgrading Guide
Add has_named_route? to the mapper API
No need CHANGELOG entry for a test fix
Missing ending ``` at 14.2 Merging of scopes
Update configuration docs for assets.enabled, as it's set true by default in the configuration and doesn't appear in the config files anymore.
Update filter_parameters related docs, as they have been moved to initializers.
copy edits[ci skip]
Revert "Corrected documentation and added some more for the classify method in inflectors"
Revert "Changed the CHANGELOG for active_support and improved the doc for inflector method classify"
Revert "ActionMailer::Collector should be nodoc'd"
Revert "nodoc ActionMailer module from lib/action_mailer/*.rb"
Revert "Document Rails::Generators::MailerGenerator"
Changed the CHANGELOG for active_support and improved the doc for inflector method classify
Fxied some typos
Add test to AR's counter_cache_test.rb
Don't autorequire mocha to avoid deprecation warnings
stop swallowing exceptions in assert_queries.  Methods that raise an exception are unlikely to pass this assertion, but since the assertions raise an exception, the original exception is lost.
Bug fix: Evented notification subscribers can handle published events
call super from initialize
stop doing assingments in an iterator
experiment
include bind values from the default scope
more testing
just a test
Eliminate minitest warnings
make "rails dbconsole" work with activerecord-postgis-adapter
"normalize_callback_params" doesn't require name param
plugin new missing license spec
let Ruby do the is_a check for us
Mocha 0.14.0 was released with MT5 support. Switch back to gem
Revert "just call the class method since we know the callbacks are stored at the"
test refactor
Add more data to AR::UnknownAttributeError
Raise when multiple included blocks are defined
Corrected documentation regarding validation errors
Revert "Integration tests support the OPTIONS http method"
restore whitespace in Gemfile between sqlite3 and sprockets
Revert "Add the options method to action_controller testcase."
Check if APP_RAKEFILE is defined
Remove trailing line break
tiny types should only be integers when the length is <= 1. fixes #10620
add failing test exposing mysql adapter tinyint bug
Use `Base.strict_decode64` instead of `Base.decode64` just as we do in encoding;
Corrected documentation and added some more for the classify method in inflectors
require things we need
just call the class method since we know the callbacks are stored at the class level
this variable is used, so we don't have to use double assignments
remove dead code
remove deprecation notices
stop keeping a reference to the options hash
conditions are guaranteed to be arrays by initialize
simplify the condions lambda generation
use unless instead of if!
Rewrite `activerecord/RUNNING_UNIT_TESTS`
Initial commit for select statements bindparam implementation
Maintain proleptic gregorian in Time#advance
restore ability to return nil from asset_host proc, add test
Added some more documentation for define_readers and define_writer of the Association and its inherited classes
Added some more documentation for ActiveRecord::Associations::Builder::Association class
Added documentation for ActiveRecord::Associations::Builder::Association class
change to destructive `deep_symbolize_keys` after https://github.com/rails/rails/commit/df24b8790f22384a068fece7042f04ffd2fcb33e which allows to do so. This helps to avoid extra hash object creation, by symbolizing inplace
Document Rails::Generators::MailerGenerator
nodoc ActionMailer module from lib/action_mailer/*.rb
Removed incorrect warning from application.js templates and replaced it with stub command description
Document ActionMailer::MailHelper
Document ActionMailer::LogSubscriber and ActionMailer::DeliveryMethods::ClassMethods
ActionMailer::Collector should be nodoc'd
Remove unnecessary code, because this extension is created on demand in hstore_test.rb.
Also support extensions in PostgreSQL 9.1, because this has been supported since 9.1.
only dup the options once, the Callback object does not mutate them
make the compile method thread safe
use inject rather than multiple assignments
deprecating string based terminators
inspect the filter when displaying error messages
use public api for testing rather than grabbing instance variables
halting lambda must be instance execed
fixing arity2 test
fix shadowed variable warnings
polymorphic around callbacks
polymorphic after filter
rename terminal to halting, try to keep naming consistent
push the before filter lambdas to factory methods
polymorphic before callbacks
Use new hash syntax
private callback methods should work
Added a blank space and removed to_sym
Support array as root element in JSON
improved doc for ActiveRecord#find_by_sql method (Refs #10599) [ci skip]
Update mail to minimum version 2.5.4
use a singleton end node
Revert "we never pass blocks, so remove this"
if there is nothing to compile, then do not bother compiling
Arrays are no longer supported
we never pass blocks, so remove this
raise an argument error if the filter arity is greater than 1
adding more callback type coverage
extract getting an setting callbacks to methods
call extracted method from callback manipulation methods
extract callback param munging
no reason to make these defaulted, we always pass values in
Removed Class Eval and used define_method instead for the SafeBuffer
pass the actual filter, not a string
Added documentation for model migration generation
Added documentation for Rails::Generators::NamedBase.template
add tests for reset_calbacks
fix grammar
emphasize that callbacks are called in destroy_all
Adding notes on PATCH to the upgrade guide.
add test for skip_before_filter with condition
exit with non-zero to signal failure
Extract variable out of loop
Updated comment to Rails 4
Document ActionMailer::Base#set_content_type
better error message when app name is not passed in `rails new`
Code cleanup for ActionDispatch::Flash#call
Add CHANGELOG entry for #10576
Some editorial changes on the documentation.
respond_to -> respond to in a message from AM::Lint
specify that dom_(id|class) are deprecated in controllers, views are fine
copy edits [ci skip]
Replace multi_json with json
ruby -> Ruby
Adding documentation to the automatic inverse_of finder.
Improve CHANGELOG entry [ci kip]
Call assume_migrated_upto_version on connection
Clean up unused method for `rake doc`.
added docs for InheritedOptions class [ci skip]
read_attribute_before_type_cast should accept symbol
do not keep a reference to the chain in the callback objects
fix deprecation test
push merge code to the callback itself
Rather than raising ThrowResult when construct_limited_ids_conditions comes up empty, set the relation to NullRelation and rely on its results.
dup the callback and set the chain
remove klass because it is not used
rename instance variables
push duplicates? logic to the instance
Make NullRelation a bit more like a real relation by returning 0 for #calculate(:count)
No point in memoizing a simple literal string.
callback chain is in charge of the cache, so remove method based cache
__define_callbacks method is not necessary anymore
just run compiled callbacks since they are cached
Removed jruby-openssl gem from default template Gemfile
cache compiled callbacks
use delegation over inheritance so we can figure when to cache / bust cache
fixing activemodel tests
Give credits to all the envolved people [ci skip]
Add coverage for the fact that pluck without an argument returns all the table's columns.
use an environment object to hold state about the filter calls
object based callbacks cannot be duplicated
pass the run block as a normal variable to the rest of the callbacks
fixing more variable names
fix variable name
reduce the number of lambas
callback sequence is no longer used
no need for variable assignments, just pass the values in
make_lambda is never called with an Array
callbacks are wrapped with lambdas
remove dead code
fix method names
using lambas for the callback bodies
wrap all options in lambas
conditions in callbacks return consistent lambdas
Extract JoinDependency#join_relation to DRY the repeated application of the #join_associations.
In #apply_join_dependency, we can apply the #where in-place because relation is always a new object.
DRY-up join dependency creation by extracting construct_join_depdency
Pull the excepts into apply_join_dependency, for the sake of DRY.
Simplify conditions within apply_join_dependency
Move the except(:select) inside the construct_limited_ids_condition method to pair it closely with its motivation.
Reject blank order_values within #columns_for_distinct, as the orders aren't used at all on non-postgres adapters.
Move #proxy_association method to AssociationRelation
Don't try to EXPLAIN select_db calls
Set the inverse when association queries are refined
[ci skip] document protect_against_forgery? method
sort => sort! on new array
Remove unnecessary require from active_support/inflector/methods.rb
RDoc style for ActionMailer::Base#mail
Document ActionMailer::Base::default, ::mailer_name, and #mailer_name
Added documentation for ActiveRecord::Generators::MigrationGenerator.next_migration_number
Added documentation for ActiveRecord::Base#next_migration_number
changed rails -> Rails at two places
remove variable and fix warning
remove redundant var
Added escaping of U+2028 and U+2029 inside the json encoder.
rails -> Rails [ci skip]
oops. I should have only required minitest, not minitets/autorun. muscle memory.
Require different core extensions correctly.
"rails" -> "Rails" [ci skip]
minor rdoc cleanup for reflection methods
tweak dependencies
use public send on the scope parameters
add test for object conditional with scope
using strings as scopes is not used anywhere, so remove it
adding a class conditional test
adding tests for lambdas as conditions
separate identification computation
extracted piece of code into a method
separate filters from source code
if the callbacks are not the same class, they cannot be duplicates
fix object comparison case
polymorphic comparison operator
we need to indicate the type of callback
Using define method instead of class eval when defining model callbacks. Based on my benchmark results, this change improves performance substantially when defining callbacks.
adding more tests around callback inconsistencies
refactor tests for more points
adding test to demonstrate inconsistencies in the AS::Callbacks api
Use ruby's Encoding support for tidy_bytes
dependency ActiveSupport::Deprecation
Changed spelling of Busines to Business
cleanup, assert on warning from postgres adapter
cleanup, switch arguments in assert_equal calls
Created a method to automatically find inverse associations and cache the results. Added tests to check to make sure that inverse associations are automatically found when has_many, has_one, or belongs_to associations are defined.
Remove current_adapter? from test_sanitize_sql_hash_handles_associations
add changelog entry for fix-10502-skip-object-filter
fix issue #10502, do not recompute method name for already-stringified object filter
Test that #fresh_when accepts an array
according to @fxn it's ERB not ERb.
Handle other pk types in PostgreSQL gracefully.
Allow numbers in partial name for digesting
Improve CHANGELOG entry [ci skip]
Confirm a record has not already been destroyed before decrementing counter cache
Updates to make rails 4 happy with minitest 5:
XML-files isn't a word
fix failing test caused by 3771e4d511
raise IrreversibleMigration if no column given
remove unused variable
Instrument template compilation
Allow fetching multiple values from the cache at once
Improve model generator USAGE grammar
2.15.1 is the first release that supports Rails 4.
use canonical #controller_path logic in controller test cases
use destructive sort on array in Hash#to_param for performance gains. Check https://gist.github.com/vipulnsward/6aad158c06a22f931a71 to see the gains.
use nokogirisax as a backend
Updated link to to GitHub article about ignoring files [ci skip]
Github -> GitHub [ci skip]
Added missing `require` to ActionView::LookupContext
fix to remove warning on postgres adapter test.
Changing method call according to coding conventions
dir -> directory [ci skip]
dir -> directory
Use Ruby 1.9 syntax
Review the CHANGELOG entry [ci skip]
generate 'app/assets/images' directory when creating new rails app
Changing the wordings in a few places
comments in the callbacks description are in present tense
Update CreateComments migration to reflect the output from Rails 4.
Remove unopened closing brace.
Relaxed jbuilder dependency in Gemfile template
Squashed commit of the following:
Add a test case for comparing Rails versions https://github.com/rails/rails/commit/558d402472b49c4c99bf6753d341d7aef2e25dd4
Add some documentation for AM.mailer_name
Do not overwrite manually built records during one-to-one nested attribute assignment
replace apostrophe with backquote for matching [ci skip]
Work around change in how MiniTest detects SIGINFO
Capitalizing internet to Internet. [ci skip]
added to rdoc for unscope that default_scope wins
Simple grammar updates
Improving the performance of callbacks by keeping a hash of the callbacks in the CallbackChain, so you don't have to iterate over all callbacks when checking for duplicates.
Add parameter :sslcompression to PostgreSQL adapter.
Add styling to h1
Refactoring the creation of TestTasks to remove code duplication.
rake:db:test:prepare falls back to original environment after execution.
fix typo
Add test for `AR::Base#to_param`
destroys association records before saving/inserting new association records
document String#to_time exception
Use faster Array.new instead of []*padding
Remove not used module from initializable test
Clean up the wording in a few places
Add a few overview bullet points
Extract tests code out from AR's base_test.rb to integration_test.rb
Convert ActiveModel to 1.9 hash syntax.
Improve docs for postgresql with uuid primary keys [ci skip]
use constant for encoding
Handle aliased attributes in ActiveRecord::Relation.
allow override of uuid_generate_v4() default by passing default: nil
Make railties version match RAILS_VERSION
Rails 4 has deprecated :order in has_many to use a lambda instead, update the guide accordingly
Revert the guide after removing varargs from `in?`.
Revert "Consistent use of code syntax formatting for boolean values"
Revert "Correct formatting for remaining booleans"
Revert "Object#in? also accepts multiple parameters"
copy edits [ci skip]
routes.rb should teach how to use concerns
Correct formatting for remaining booleans
maintain return value for recreate_database
Mute psql output when running rake db:schema:load
Added :nodoc: for private methods
Removing the app constant and replacing it with Rails.application syntax. This helps removing the class level abstraction of an application.
add missing semicolon to journey parser.y
mysql needs to reconnect after recreate. Thanks @mperham
Abort a rake task when missing db/structure.sql like `db:schema:load` task.
more naming fixes.
it's Active Record not ActiveRecord
Moved update_record logic to relation.rb
add test asserting that 2 letter tlds with 3 letter domain names work when option specified
Consistent use of code syntax formatting for boolean values
add missing :nodoc: marks to ActiveRecord::Delegation [ci skip]
Removing Railtie::Configurable from the base Railtie object and making Railtie itself abstract. This stops the weird behavior of forcing subclasses of Railtie to include the Configurable module.
Minor code duplication removed
rails/master is now 4.1.0.beta
Bump version to rc1
Make visitors threadsafe by removing @last_column
StatementInvalid takes WrappedDatabaseException's place
Delegate #unscope query method
Move 2 images to getting_started folder. All other images in getting started guide already in this folder.
New rails welcome screen
Use new hash syntax in module delegation docs [ci skip]
Making the retrieval of the cache store class a method, also wrote comments for the expand_cache_key method.
Use instance variables in redirect_to
fixes a test, and explains why AR::AttributeMethods checks defined?(@attributes) in some places
pass over the code comments
Don't reprocess the options hash on every request
adding test for the symbol refs
Module#delegate checks nilness rather that falsehood if :allow_nil is true, and avoids multiple evaluation of the target method
fix travis links in readme
formatting
Delegation method bug Add documentation and test to delegation method that make sure we're aware that when a delegated object is not nil or false and doesn't respond to the method it will still raise a NoMethodError exception.
better document `next_week` functionaility closes #9568
ActiveRecord -> Active Record
fixes warning in the AR test suite
remove unused require
Add support for extra options to `force_ssl`
AV Digestor correctly passes format to LookupContext
Use `request.fullpath` to build redirect url in `force_ssl`
Review DatabaseTasks docs [ci skip]
Minor AR changelog review [ci skip]
Move method used only in the test to the test code itself
Use env == 'development' instead of env.development?
refactor number helper
Move CHANGELOG entry for db.rake improvements to 4.0.0
Don't require Rails.env in order to use AR::Tasks::DatabaseTasks
Add some documentation to ActiveRecord::Tasks::DatabaseTasks
Use DatabaseTasks.fixtures_path instead of FIXTURES_PATH in db.rake
Added testcase for #10067 and a CHANGELOG entry about this change.
Remove code duplication
Lookup the class at runtime, not when the association is built
Removed unused associations
Reset the primary key for other tests
added test cases for #10197
Revert "Revert "`belongs_to :touch` behavior now touches old association when transitioning to new association" until a proper fix is found for #10197"
Don't require having Rails.application to run database tasks
fixed missing comma in example
Add test for `format: false` with resources - closes #10323
Add changes based on recommendations in Issue #9793
Remove calls to action: and make use of named routes for consistency.
Move use of named routes to beggining of the guide
Moved the check for the rails test environment into rails/test_unit so that you can select frameworks separately when running rake test.
Added missing ')' on routing_filter link
Remove test case also related to the belongs_to touch feature
Revert "`belongs_to :touch` behavior now touches old association when transitioning to new association" until a proper fix is found for #10197
refactor initialization of array
When empty options passed to having clause having_values was [nil] but should be empty.
Update assets_pipeline with config.assets.precompile location
Adjust for daylight savings in String#to_time
Remove superfluous `self.` in Action Mailer mail method documetation
Cosmetic fixes in AM::Base docs. Missed spaces in OpenSSL constants enumerations.
Mention that Dynamic finders have been deprecated in Rails 4
ActiveRecord -> Active Record
applies documentation guidelines
extract arrays to constants in Mapper
remove redundant variable
Return a 405 response for unknown HTTP methods
Created a registry based on the +PerThreadRegistry+ module for subscriber queues. Helps limit the number of thread locals.
Added instructions of latest bundler install + modified the on: :save option description in validations
Make AM readme example more consistent
extract no content response codes to a constant
corrected a typo related to on: :save option in validations
corrected a line related to on: :save option in validations
also assign nil in dirty nullable_datetime test. #10237
Move CHANGELOG entry to top
extract array to a constant
Update counter cache when pushing into association
extract path into variable
fix README links in the main README.md
fixes typo in testing guide
Updates list of assertions in testing guide
Refer to 37signals blog post for alternative
fix wrong test description and failure message
Added tests for if condition in Active Model callbacks
Removing tests for deprecated options in active support. The +use_full_path+ option was removed in 3b3790a4 and passing the template handler to render was deprecated in 43d27e91.
Make guide description more concise
fix typos
Increase readability of ternary statement in build method
if singletons belong to the contract, test them
Rewrites a CHANGELOG entry.
There are now 6 request methods including PATCH
Simplify ERB example code
fix respond_to? for non selected column
fix HashWithIndifferentAccess#to_hash behaviour
destroys association records before saving/inserting new association records
symbolize_keys => symbolize_keys! on new hash;
Improve the error message
MiniTest::Unit is used instead of Test::Unit
rubygem -> RubyGem
Grammar
Be more specific about the root directory.
Remove versions from gems listing
Reorganize MessageEncryptor
Adding documentation to actionview so that the big picture of the renderer is clearer.
fixed typo in select_tag docs
Unindent attributes iteration in scaffold index template
Alignment
Indent around the scaffold loop
HTML5 breaks
Better ordering
Use sprockets-rails 2.0.0.rc4
Use sass-rails 4.0.0.rc1
Use the same uglifier version that the generated applications
Use latest coffee-rails release
Revert "sprockets 2.9.x doesn't work with uglifier 2.0 yet."
Bump arel to 4.0.0
Release 4.0.0
Updage Gemfile to use https URL
Add CHANGELOG entries - closes #10180, #10185
Refactor ActionDispatch::Http::URL.build_host_url
Add url generation tests for #10185
Duplicate options before mutating them
Passing subdomain: '' to url_for removes the subdomain (instead of adding a leading .) Adding a boolean route constraint checks for presence/absence of request property
Avoid leak into controller's action_methods
Support transactions in Migrator.run
stdlib -> standard library
Use secure source for rubygems in engine tests
The increment and decrement commands in the local cache are exactly the same, so their logic is being refactored.
bump the rails version in bug report template
readonly info for save and save!
Document the fact you can add_index on new columns
Refactored the storage of a temporary version of the local cache into its own method.
activerecord-deprecated_finders 1.0.0 has a bug with has_many :through associations
Add nodoc to LocalCacheRegistry
add :nodoc: mark to *Registry classes [ci skip]
adding a test for root path in the app
Adding a local thread registry to store local caches.
Don't need to add activerecord-deprecated_finders on edge and dev applications
Bump activerecord-deprecated_finders to 1.0.0
more descriptive NameError's messages for class attributes
documentation fixes for Array.wrap and AR::Validations::AssociatedValidator
updated rdoc to reflect info about readonly attribute
without autosave option updated records not save
let EXPLAIN use a thread locals registry [John J. Wang & Xavier Noria]
switch (and lazily convert) ivar names to 3.x
fixes gemspec
Ruby On Rails -> Ruby on Rails [ci skip]
Copy-edits in the ActiveSupport::Subscriber documentation.
Extract a base class from ActiveSupport::LogSubscriber
editorial touch, remove these dots
converts the project README to Markdown
replace match with get verb in ActionController::Metal
The third argument of deprecation_warning is always optional
Use db:test:load instead of db:test:load_schema
took out unnecessary wordage, changed "number" to "amount"
Change 'validates_presence_of' to 'presence: true'
asset guide, match application.rb snippets to the generated file [ci skip]
make [] method in router more readable
Add OID::Bit for supporting bit string.
Revert "fixing bit string test"
interpolate instead of string concat
more Ruby 1.9 Hash syntax in our guides
Ruby 1.9 hash syntax for action controller guide
Document collection.create! on has_many associations in ActiveRecord
fix for the bytea/binary nil value bug
added a test suite for the postgres binary type this shows a problem with nil values
Align table of HTTP status codes with set supported by current Rack
Clarify arguments of head method
ARel -> Arel
ActiveRecord -> Active Record
Tried to make the response status code table more readable
Updated link to peepcode Git screencast
Added description for mtime
ARel -> Arel
Changed grammar for better readability
use define_singleton_method instead of class_eval
Add :nodoc: mark to PerThreadRegistry#method_missing [ci skip]
Corrected paramter to parameter
update git links
hides the per thread registry instance, and caches singleton methods
remove unused variable
removes calls to AR::Runtime.instance
simplifies the RDoc of AR::RuntimeRegistry
complete rewrite of the documentation of AS::PerThreadRegistry
fix :nodoc: mark on AR::AttributeMethods::Serialization [ci skip]
Added tests for `eager_load` config option to do not eager load for rake tasks if `eager_load` is `true`
Extract method declaration regexp into a constant
Add Chatham Islands Time (UTC+1245) support.
align the result of expressions vertically [ci skip].
use unified and clean formatting in CHANGELOGS. [ci skip]
Update to Ryan's new book per his suggestion
minor edit on StatementCache documentation [ci skip]
replaces Pathname#(dirname|realpath) with File.$1
add wip for the action view guide [ci skip]
Revert "added details to section 4.1.2 of the Asset Pipeline guide, describing how to configure Apache to serve the gzipped version of the precompiled assets"
refactor order hash test
Switched to new naming conventions
initialize instead of assert to fix warning
Use strip_heredoc where possible
Address ORA-00979: not a GROUP BY expression error
fixes app_rails_loader_test.rb in Mac OS X
cleanup statement cache test
fixes remaining lowercase "rails"
application loader refactor and test suite complete rewrite
options_from_collection_for_select helper takes html attributes
Unabbreviate AP to ActionPack
Updated Singular Resource shorthand to mention shorthand without controller name.
Remove warning
Editorial pass over generated Gemfile
converge three lines into one
rdoc for some of the methods in JoinDependency
remove_duplicate_results! should be protected
Added statement cache
While merging relations preserve context for joins
code review of 22e5ab3
Searching for rails executable correctly
Using public send instead of send for the PerThreadRegistry module. Prevents you from accidentally calling a protected method.
Removed unused setup
Return nil for Mime::NullType#ref
Reverts rendering behavior when format is unknown
Add failing test case for #9654
Changed the ScopeRegistry and the InstrumentationRegistry to use the PerThreadRegistry module.
Created a runtime registry for thread local variables in active record.
Creating a module so that per thread registries can be easily created as thread local variables.
Explain how to upgrade bin/ for Rails 4
Use camelize instead of capitalize on error screen
improve accuracy of simple_format documentation. span doesn't get sanitized.
copy-edit pass in AM changelog [ci skip]
get the Action Mailer guide ready. [ci skip]
Removed unused setup
changed variable name active_record => base_klass
change array of array to hash
fix AP warning; remove unused variable
JoinPart is no longer an abstract class
Creating an object to consolidate thread locals which hold the instrumenters for the AS::Notifications module.
Mark unused variables and make some style fixes
Delegating the value getter and setters in the ScopeRegistry to the current ScopeRegister object.
Grouping thread locals in the ActiveRecord scopes so that the current_scope and ignore_default_scope locals are brought together under a registry object.
User is not part of the Blorgh domain, so user_class doesn't make sense.  This commit changes it to author_class.
Add TEST_DIRS enviroment for constrain test directories in rakefile
Changed ActiveRecord::Associations::CollectionProxy#select to take multiple arguments.
Remove unused block parameters
Remove unecessary variable call, `#sort!` always returns an array
Minor AR changelog improvements [ci skip]
Here was a 404 error: Active Record Validations
Avoid iterating over records hash when not necessary
each to each_value; remove unused vars
Getting Started Guide: add missing PATCH
Added a bang to the end of +raise_nested_attributes_record_not_found+ method to signify an exception possibly being raised.
Added documentation to the FormBuilder class, should help clarify issue #10115. Also made the field_helpers an explicit list of methods.
Added a table of html status symols
Forgot to lock the uglifier version in our Gemfile
sprockets 2.9.x doesn't work with uglifier 2.0 yet.
change some more merge to merge! on new hashes
Deprecate ActiveRecord#Base.default_scopes?
Add option to Class#class_attribute for skipping the query method
Bring back ActiveRecord::Base#connection_handler removed by mistake on b37399ab
remove unused variables
Improve some variable naming for the integration test in the testing guide. [ci skip]
Corrected model test directory to be test/models instead of test/unit.
`fast_xs` support has been removed.  Use 'String#encode(xml: :attr)`.
Typo fix
Grammar
updating the guide
add integration test for shorthand rake tests
rake test app/model/foo.rb and rake test models/foo works
extract test info from the command line and set up the test task
add a class for splitting up rake commands
just use ruby to run tests
removing `rails test`, updating docs to show how to use `rake test`
Update Rake tasks to call `rails test` instead
Remove extra whitespace
do not blow away the test database on every run
Removed space and unused class
just check pending migrations in the current environment
Removed unnecessary class
Improve the changelog entry [ci skip]
Remove deprecated attr_accessible mention
Change deprecated validates_presence_of
Refactoring some reused code into a method (inside of the routes mapper) and adding a constant for all the possible scopes.
Correctly parse bigint defaults in PostgreSQL
Move changelog to the top [ci skip]
failing test for #9869
correct image for unknown_action_create_for_posts.png
Improve `belongs_to touch: true` timestamp test
Sort modules in alphabetical order.
update ActiveRecord::AttributeMethods::Serialization documentation [ci skip]
mark ReversibleBlockHelper as :nodoc: [ci skip]
fix Array#uniq_by! docs [ci skip]
Avoid an attempt to fetch old record when id was not present in touch callback
Use the correct pk field from the reflected class to find the old record
Refactor mail_to to not generate intermediate hashes when adding href
Ensure mail_to helper does not modify the given html options hash
Use inspect when writing the foreign key from the reflection
Use a space after the comment sign when showing the result of commands
add documentation to Benchmark#ms [ci skip]
Exclude template files for rdoc API [ci skip]
template should have generic name
fix broken format in Array#to_sentence [ci skip]
use | to have more intent revealing code
fix broken format in ActionView::Helpers::AssetTagHelper [ci skip]
mark ActionView::Helpers::Tags as :nodoc: [ci skip]
stop depending on callbacks
expanded rdoc for chain and reflection_names
has_many through obeys order on through association
Model generator USAGE doc improved
fix private attribute warning
Update Ryan Bigg's occupation and credentials.
Add Action View Overview to guides listing.
Basic Layouts overview w/ link to guide
Further simplify enumerable group_by test
Replaced inject with map
Removed unused comma after loop variable
expanded rdoc on source_reflection method
describe Action Mailer I18n subject lookup
[layout/rendering guide] move sentence to new line to follow convention in other guides.
fix warnings in railties test
[layout/rendering guide] remove redundant wording
fix broken format in ActionView::Helpers::NumberHelper [ci skip]
add require to suppress warning; remove variable
Remove duplicated require from AR base test
Add missing require to inheritance test
check pending migrations against the test db
Changed rspec/model directory example to spec/models
Move changelog entry to the top and fix conflict [ci skip]
only match the default task
test no longer makes sense after requiring all test files
switch the testing tests to use rake
a test file can be provided to rake, e.g.:
switch to Rails::TestTask
default task should also be in the test env
ensure the schema checking is done in the dev connection
Revert "Update Rake tasks to call `rails test` instead"
Revert "Warning removed unused variable task_name"
apps that depend on active record should load fixtures
optimize some code around merge
Typos/grammar fixes
Remove comments about removing LegacyKeyGenerator in 4.1
Avoid running bundler on tests that don't need it
fix regression in Mapper when `format:` was used in a `scope`.
Move alias method near to the aliased one in collection proxy
fix formatting typo, + should be `
add `(association)`_type to schema convetions in AR basics guide.
link the Active Record pattern to the EAA Catalog
remove trailing whitespace from AR Basics guide
remove broken links from reference section in debugging guide.
adjust config.ru tempalte used in the rails on rack guide
Add block support for the  helper
Added a section on Rails Controller naming conventions.
Per #9999 revert the revert changing so columns are only tested for empty? as opposed to blank?
true/false => truthy falsy
Getting rid of a few other vestiges of rails.png.
CHANGELOG entry for rails.png removal.
We don't need to remove index.html any more.
.gitkeep -> .keep
mark relation mutator as :nodoc: [ci skip]
Rename DummyKeyGenerator -> LegacyKeyGenerator
:scissors: spacing after private
Be consistent when talking about cookies, key -> name
Refactor CollectionProxy#scope to avoid calling #extend.
adding .gigkeep to default app/assets/images
Escape multibyte line terminators in JSON encoding
Remove rails.png.
Prefer find_by over dynamic finders in rdoc
show name of the klass that has missing association
each_with_index  => each as we dont use index
not a relation. it's an arel select manager
Changed the guides to use distinct instead of uniq for associations (see commit a1bb6c8b which changes the naming). I've also provided an example of how distinctness when inserting into an association can be achieved.
Add CHANGELOG entry about extracting and deprecating Firebird/Sqlserver/Oracle database tasks.
Show deprecated messages only when target database adapters defined
write sql queries to terminal
Suppress deprecation messages for deprecated database tasks, when executing rails's testcases.
Add deprecation message on Firebird / Sqlserver / Oracle database tasks.
Extract Oracle database tasks.
Extract Sqlserver database tasks.
Extract Firebird database tasks.
Remove all error masking when decoding serialized data fails?
no need to invoke to_s before applying intern
replace #merge with relation API calls in calculations_test.
Use released sdoc
Added missing assert
change merge to merge! in AS on new hashes
Revert "Use jquery-rails from github"
Revert "Use jquery-rails from github (fix Gem::Version error)"
Updated the error message for +find+ on an inverse_of association so that it is consistent with the error thrown for +find+ without an inverse_of association.
Revert more Rails.version changes
Throwing a RecordNotFound exception when a record is scanned using the inverse_of option. I've also refactored the code for raising a RecordNotFound exception when searching for records with ids.
:scissors:
Remove CHANGELOG entry for #10002
:uniq is still a valid relation option since it was only silently deprecated
Make references with index:true pass Hash options to add_index.
Proofreading tweaks to the Mailer guide
Improve documentation around the cookie store auto-upgrade to encryption
Move the class methods to above the protected section
fix inverse_of association in block of new child
typo recomend -> recommend
Turning on warnings in "rake test" for railties
fix detect column type of enum
gist for Active Record issues [Neeraj Singh & Xavier Noria]
fixed a article link at sitepoint
as of Rails 3.2.13 it appears that importing an engine's migration into the host app is achieved by rake blorgh_engine:install:migrations
Break down  Rails::Generator::TestCase into modules
Remove unnecessary / confusing code in example
fix request methods test
cleanup railties test; fix typos
remove unused variable and assignment
remove unused match variables in selector
fix wrong argument error message
fix binstub typo
Make comment about uglifier in generated Gemfile consistent between branches
Improve AP changelog entry about layout method with nil return
Refactor index algorithm lookup so that it only builds the available options once
Minor doc improvement about index algorithms [ci skip]
Review some tests from AMo::Errors to remove "should" usage
Improve changelog entry for ActiveModel::Errors#full_messages_for [ci skip]
Do not calculate values if they are not going to be used
Make docs a little bit more consistent with colons [ci skip]
Use new hash style in doc examples [ci skip]
Minor reviews in AR changelog [ci skip]
Use last released version of thor
minor copy editing
configure API generation lazily
be lazy configuring the RDoc files
be lazy loading SDoc
fix upgrading guide [ci skip]
Revert "Using American English spellings over British style spellings"
fix some typos in AS
Refactored to remove unnecessary setup
split relation_scoping_test.rb's default scoping tests into another file
rename named_scope_test.rb to a proper file name
move tests for NamedScope and DefaultScope under test/cases/scoping/
reverts changes to Rails.version made in #8501
adds the API home page to the gemspec, needed for doc:rails
typo
registers the new doc:rails behaviour in the changelog
rdoc is no longer a gem dependency, sdoc becomes a runtime dependency
unifies API generation
moves RDOC_MAIN.rdoc to railties
encapsulates API generation in Rails::API::Task
changes the RDoc title of the API
More typo / wording fixes
Proofreading tweaks
explain method invertible_for [ci skip]
Do not use deprecate method [ci skip]
fix broken sentence [ci skip]
change merge to merge!
removes bindir from the rails gemspec
removes activerecord/examples/associations.png
info that Gemfile *group :assets* was removed
improve readability
Update Gemfile since group assets doesn't exist anymore in Gemfile
Update Bundler require in getting started application
Update the call to Bundler.require in application.rb since assets group doesn't exist anymore in Gemfile
Add better comments to assets gems
Allow transparent upgrading of legacy signed cookies to encrypted cookies; Automatically configure cookie-based sessions to use the best cookie jar given the app's config
added comments to test_invalid_type in sqlite3 adapter test and added valid_type? method to abstract_adapter.rb and removed unnecessary method from sqlite3 adapter
Improve poor security recommendation in docs
contrib guide: documents guidelines for running the test suite
contrib guide: documents how to generate a --dev application
anual_salary => annual_salary
Raise an exception when unserialization fails due to a missing class
Removed unused variable in proc
Use snake case variable names, stick with the convention
Refactored to remove unused variable
determine_constant_from_test_name does not swallow NoMethodErrors [Yves Senn]
Add coffee-rails and javascript runtime to gemfile if skip_javascript is provided
Add support for FULLTEXT and SPATIAL indexes using the :type flag for MySQL.
need to delete bin, not binstub, update wording
script/rails could never be from bundler
Minor proofing
Dump the 'using' options for a SQL index into the schema.
Remove unnecessary hyphen.
Extraneous syntax on guides path.
Add regression test for TZ grep
Revert grep to select since they are not the same
Remove buggy and unnecessary logic
Cosmetic cleanup of generated Gemfile
entirelyby => 'entirely by'
Provides standard layout lookup behavior for method and proc cases
drop errors constant
mention strong parameters in complex forms section of the guides.
Use thor master since 0.18.0 has a regression
drop variable assignment in validations
Make connection_handler overridable per thread
ReCAPTCHA plug-in link now points to Github repo. Plug-in is no longer available at the previous location
Combine tests and restore columns dropped by hstore testing
respect auto_increment in rename_column for mysql
s/and and run/and runs/
Checks :algorithm argument for valid values
routing shorthand syntax works with multiple paths
bugfix, when matching multiple paths with `get`, `post`, ...
default RAILS_ENV to test if we're in a test task
Adds support for concurrent indexing in PostgreSQL adapter
The sql_type method called here is from ActiveRecord::ConnectionAdapters::Column
use relative links inside guides [ci skip]
move mailer testing examples into the testing guide.
Move away from column.sql_type in untested code too
Make Postgres point type correspond to ruby array with two floats inside
Bump TZInfo version to 0.3.37 based on version v2013b of the underlying tz data.
Created a layer of abstraction for the valid type checking in schema dumper. Now, connection handles the check for valid types so that each database can handle the changes individually.
localised => localized
if cookie is tampered with then nil is returned [ci skip]
s/Textmate/TextMate/
s/Github/GitHub/
Skipping test for OpenSSL::PKCS5 JRuby
Controller name pluralized
Update tests for #9704, named route collisions
Tender love for #9909 :heart:
Put coffee-rails in top-level of generated Gemfile
Relaxed jbuilder dependency and bumped version number
Remove â€œSweepersâ€ from Caching TOC and mention Page/Action caching are removed
Introduce UpgradeLegacySignedCookieJar to transparently upgrade existing signed cookies generated by Rails 3 to avoid invalidating them when upgrading to Rails 4
fix some typos
Updated docs due to removal of serializer accessor
Use jquery-rails from github
correct some typo in earlier commit.
correct test command's typo
view/views, asset/assets
Add a method full_messages_for to the Errors class
s/app\/model\//app\/models\//g
Use jquery-rails from github (fix Gem::Version error)
Ignore all pkg folders (including also top level one)
Typo: Migration class name would use plural
Ignore pkg folders
add changelog entry
Custom index type support with :using.
Changed 'args' to 'arguments' in test description
Reverted change in activemodel/CHANGELOG.md introduced by d45145acdc576e46a1f1719d69bec96b5bf07b0a
Better styles for the CSS [ci skip]
Reverted code change introduced in d45145acdc576e46a1f1719d69bec96b5bf07b0a
enhance unscoped tests
Changed 'args' to 'arguments' when used in places other than code with fixing few more typos
unscoped works with named scope [ci skip]
Review some CHANGELOG entries [ci skip]
Autoload the AlterTable class
Don't use hash fragment for travis link
Spelling 'PostgreSQL' correctly
Refactoring validate_missing_parameters to validate_required_parameters.
squelch an unused variable warning
add uuid primary key support
separate primary key from column type
push the mysql add_column up to the abstract adapter
allow multiple add columns
pull add_column_options! off the pg connection class
add a pg visitor for dealing with schema modification
push alter table add column sql in to the schema modification visitor
there is no reason to check for an already defined column
push column initialization down to the factory method
@columns list is no longer necessary
keep ivars private, do not manipulate them outside their owner object
factory methods should not alter object state
push SQL generation inside the schema creation object
mostly decouple TableDefinition from the database connection
remove to_sql from TableDefinition
decouple column definition from the database connection
stop depending on sql_type in pg
remove knowledge of SQL from the column definition object
Remove exception variable from rescue block
Don't kill the console
test-case to prevent resetting associations when preloading twice.
StringIO is not required by default in JRuby
When we pass id to update_attributes it will try to set new id for that record
Add minitest-spec-rails to guide's testing options
Removed unnecessary block
Send SIGTERM, not SIGQUIT.
Delete failing test
Removed unused loop variable
fix the initializer block example and clarify
Change Standard error when is required bcrypt-ruby and fails
Allows setting fixture_path to a Pathname
failure to parse params should trigger a 400 Bad Request
Remove duplicated accepts_nested_attributes description
Adding a bang to method name of raise_on_type_mismatch.
Using American English spellings over British style spellings
Added link to Turbolinks Railscast
remove references to *::VERSION, replace with *.version
Add version method to top level modules
rails commands even if bin/rails is a gem stub
Update other counter caches on destroy
Don't generate a scaffold.css if no-assets
Tidying up some require : removing useless sort and homogenizing with the rest of the code the wat the includes are done
use `connect_poll` on pg so that reaping does not hurt the connection
Revert "default the reaping frequency to 10 seconds"
Tweak exception message to avoid giving potentially misleading suggestions
Removed unnecessary block
Properly named variable inside block
Raise an ArgumentError when a clashing named route is defined
Commas aren't comas.
Changed the call to .sort.last to .max when computing the migration version. You do not actually need to sort everything (incurs more cost than just a simple max).
Remove mentions of "app" from http request docs [ci skip]
Update documentation for Where chained modifiers.
Calling find() on an association with an inverse will now check to see if the association already holds that record in memory before checking the database for the specified ids.
fix introduced `:` ; fix another typo
Undo bad change in cf0931166be13dbbe660
more typos in guides
fix sentence [ci skip]
remove unused payloads in blocks in caching instrumentation
The repair_validations helper was not working correctly before because it only cleared the validations that created :validate callbacks. This didn't include the validates created by validates_with, so I've added a method to clear all validations.
drop an unused hash; change slang to SPECIAL
Initialize @app_env_config now that the var name has changed
Use @app_env_config instead of @env_config
"overwritten" is one word
change from blank? to empty? on obvious string values  to save extra method calls
Use define_method when method name contains weird characters.
1. Change from each to each_value since we did not use key 2. drop assignment of value to sum in test
Digest auth should not 500 when given a basic header.
fix typos in AR. lots of them.
More helpful message when starting server
`TimeWithZone` raises `NoMethodError` in proper context.
Exception handling for controllers using ActionController::Live
remove ancient TODOs [ci skip].
fix repeat of test; remove unused variable by use of each_key
refer to the contributing guide on how to create issues.
SQLite3 3.6.8+ supports nested transactions [ci skip]
fix some typos found in activemodel
The default route has been removed
The HTTP method helpers are preferred over match and should be explained before named routes
The default route has been removed
Using match without via is deprecated
Capitalize the first letter of sentence
move tests out from base_test.rb
`rake db:create` does not change permissions of root user.
sets limit 191 for schema_migrations#version in mysql2 if the encoding is "utf8mb4"
refactor test to drop unnecessary hash creation, test directly instead
extra lines from Rakefile removed, which also threw warning
Allow pass multipart option to form_for
remove unused parameter passed to assert_query_equal method
Refactor Person/Friendship relationships to be more intuitive
Include I18n fallbacks in :locale lookup context
Getting Started Guide: typo fix. [ci skip]
Remove :all from *args options in AbstractController.helper
Update image in Getting Started Guide [ci skip]
revises the CHANGELOG entry from 26aa265 [ci skip]
Added Inflector#underscore fix to the changelog
fixes markup of the CHANGELOG entry from 455d710
Capitalize first letter in sentence
fix protocol checking in sanitization [CVE-2013-1857]
JDOM XXE Protection [CVE-2013-1856]
fix incorrect ^$ usage leading to XSS in sanitize_css [CVE-2013-1855]
stop calling to_sym when building arel nodes [CVE-2013-1854]
nodoc AR::ConnectionHandling for adapters [ci skip]
Update action_controller_overview.md
fix markup of controllers guide
Update test_oracle.rb
Revert issue #99 fixes
fix typo in form helpers guide
Unmatched parenthesis fix
Revert "make new rails apps log to STDOUT"
added details to section 4.1.2 of the Asset Pipeline guide, describing how to configure Apache to serve the gzipped version of the precompiled assets
make new rails apps log to STDOUT
config.ru uses the effective Rack app
make it possible to disable implicit join references.
Refactored to reuse method
Cache the association proxy object
Deprecate the `:distinct` option for `Relation#count`.
rename `Relation#uniq` to `Relation#distinct`. `#uniq` still works.
Warning removed unused variable task_name
`#reset_counters` verifies counter names.
document request simulation methods in functional tests.
`Http::Headers` directly modifies the passed environment.
ask column if it is a pk
fix hash duping on 1.9
Small typos here and there.
clean up pk delclaration in `create_table`
bumping arel
bumping to beta2
oops!
just access the ivars rather than rb_iv_get
hide more data in the schema cache
safely publish columns and columns hash info
call the columns hash method
Should be a symbol not string to defer the choice of layout. [ci skip]
Getting Started Guide: 3.2.9 -> 4.0.0. [ci skip]
dup and set the default proc to nil rather than looping through everything
you can provide uuid_generate_v4 as the default value for uuid columns
UTF-8 encode all keys and values in nested params hash.
make the headers consistent
pg is the only adapter that supports the xml type, so push the method down
Apparently people were mutating this array. :'(
hashes are ordered, so just use the columns_hash ivar
use the method so we do not depend on internal ivars
extract factory method and push common code up to abstract adapter
Modifies belong_to touch callback to touch old associations also #9091
+ Add test for auto timestamps update of both old & new parent records
Handle conditional get in live requests - this will prevent error when using stale on live streams(issue #9636)
MOAR cleanups.
do some typo fixing
Add extra clarifying line in docs. [ci skip]
fix missing to
Add support for generate scaffold password:digest
Move some railties changelog entries to the top [ci skip]
`Http::Headers` respects dotted env vars, symbols, headers with numbers.
allow headers and env to be passed in `IntegrationTest`.
refactor, `Http::Headers` stores headers in env notation
Http::Headers respects headers that are not prefixed with HTTP_
fix absence validator doc for boolean field
absence validator doc
Add documentation to ActionDispatch::Request
fix typo in Active Record CHANGELOG [ci skip]
Add regression tests for #9678
Change from each to each_value in http/parameters since we don't use key
clarify verbiage
removing out of date comment.  :heart::heart::heart::heart::heart::heart::heart::heart::heart::heart::heart::heart: @pixeltrix
drop memory consumption and startup speed by switching to define_method
Document change to clashing named route selection from journey commit 98a9802a
Also quote extension name in disable_extension
Align indentation in comments
Document nested attributes as hash of hashes
Cast number to string in Postgres
Stop calling "super" twice in Rails::Server#app
Remove manual "return true" from AS::TZ match method
Uniq cannot be used directly on an ActiveRecord model. 'DISTINCT field' is the only pluck query that translates into the aforementioned SQL
Pass column to quote when copying a sqlite table.
dependent: :destroy should call destroy_all
update README since email-service isn't a word
promotes change_column_null to the migrations API
quick pass over the RDoc of schema_statements.rb [ci skip]
documents how to DROP DEFAULT [ci skip]
Minor copy editing
Show warning message if delete_all is firing callbacks
Replace assert_(no_)match args from regexps to strings to remove warnings
Skip fetching path if the iteration is going to be skipped
There's no need to install test group in travis
Move benchmark-ips to test group
Use platforms instead of conditionals in Gemfile
Make sure that the test case is run under test env
Mention that debugging can be slow.
default the reaping frequency to 10 seconds
debugger does not work on trunk
I think "uniq" is more Rails-y than select("distinct(categories.id)")
Change ActionController::Parameters#require behavior when value is empty When the value for the required key is empty an ActionController::ParameterMissing is raised which gets caught by ActionController::Base and turned into a 400 Bad Request reply with a message in the body saying the key is missing, which is misleading.
add an missing assertion to inheritance_test.rb
Cleanup tests for unused variables
Change from each to each_value on hash to avoid unused variable warning
Address ActiveRecord::StatementInvalid: OCIError: ORA-00979
document habtm join-table name with custom prefix [ci skip].
Make sure that debugger isn't included in production environment.
Make sure that `rails test` load test in test env
Update Rake tasks to call `rails test` instead
Change uniq validation with conditions examples to use where with hashes
Uniqueness validation uses a proc to specify the `:conditions` option.
included "Montevideo" in list of time zone aliases (closes Issue #9628)
Improve wording for rails test command
Load fixtures only when running suites, or `-f`
Add support for MiniTest flags in TestRunner
Update testing documentation
Add `rails test` command to run the test suite
Deprecate #connection in favour of accessing it via the class
copy edits [ci skip]
Update documentation for collection<< to reflect << on new records.
Bump up timeouts
Renumbering the comments in the application boot process.
ensure response.stream is closed
Remove extra whitespace and fix a comment
fixed typo in strong parameters example
strong parameter example for hashes with integer keys.
Preserve magic comments and content encoding of copied migrations.
fixes enable_extension bug in postgresql_adapter
Adding a note for :body option in `mail` method.
Refactored nested associations so they are more readable. Added comments which make it clearer about what's going on.
The console --sandbox transaction should not be joinable
Make sure options is a hash
Avoid short-circuit return
Refactored test case with standard variable naming
fixing typo in the merging scopes section
Explained how merging of scope works
Update test name to reflect change in how scopes merging works
Write a more comprehensive CHANGELOG message [ci skip]
Some copy edit and formatting for upgrading guide.
Unprepared Visitor + unprepared_statement
remove the new metadata note in Rails 4 upgrade guide
If an index can't be found by column, use the index name.
SQLite3 3.6.8+ supports savepoints
Combine scope conditions using AND
Move AP changelog entry to the top [ci skip]
fixes active_record_querying #pluck example
test case for `serialize` default values.
Refactored and removed unnecessary lines in the test case
replace non-breaking spaces with normal spaces [ci skip]
Remove regression test added in 0268b5d8cdc3c5a1337462135f0a326a2654ba1a
Use the instrumentation framework to instrument Strong Params
debugger 1.4.0 works in Ruby 2.0
Update capture_helper.rb
Change useless tr to gsub
rake db:structure:dump warns when `mysqldump` is not in PATH.
`Connection#structure_dump` is no longer used. #9518
Typo in comment to ActionView::Resolver#find_all
CHANGELOG entry for improved singularizing of singulars.
Add missing require to debug helper test
Add DebugHelperTest
Use gsub intead of tr when the to_str is longer than the from_str
Typppo
Added License block to README.md
Remove unused return value, because collecting_queries_for_explain isn't public API.
transactions can be turned off per Migration.
change useless gsub to tr
transactional migration test-case was broken.
Updated minitest to 4.6.2 and RDoc to 4.0.0
assigning '0.0' to a nullable numeric column does not make it dirty
Routing match `via` option requirement exception message made more explicit
example for `accepts_nested_attribtues_for` and strong parameters.
strong parameters example for default values using `fetch`. [ci skip]
change useless gsub to delete
Remove reference to BugMash. Link hasn't been updated in 4 years.
avoid extra method calls for appending newlines
Use ActionView::OutputBuffer#safe_append= from templates
Call String#gsub with Hash directly
adds guides/.document to tell rdoc not to process this directory
`ActiveRecord::Base.include_root_in_json` is `false` by default.
rewrite tests to have no side-effects on `include_root_in_json`.
only calculate next_id when we need a new method defined
`has_secure_password` is not invalid when assigning empty Strings.
`validates_confirmation_of` does not override writer methods.
Remove .all usage from unscope doc examples [ci skip]
Use 1.9 hash style in changelog and doc examples [ci skip]
add prompt to 422 page to check logs
Small Typo
Created an unscope method for removing relations from a chain of relations. Specific where values can be unscoped, and the unscope method still works when relations are merged or combined.
Bring config.allow_concurrency back
Use custom visitor class for optimized url helpers
More helpful error message when instantiating an abstract class
fix the sql that is generated from scoping
integrate the strong params README into the AC guide.
Remove hard coded references to Active Record in railties
:scissors: extra blank line
Add explanation of :dependent => :restrict
deal with `#append` and `#prepend` on association collections.
Reverting commit regarding public/index.html (no longer in Rails 4.)
Restore note about nested SCRIPT_NAME handling.
New beauty pages(404, 422, 500)
Clarified removal of public/index.html file
Clarified need to remove existing code in welcome index.
don't use non-ascii ' chars in documentation
Allow use of assert_template with the :file option. This worked in Rails 3.2, but was a regression in 4.0.0.beta1
Support creating a table migration generator
Wordsmithing @trevorturk's upgrade notes
Document introduction of ActionDispatch::ParamsParser::ParseError
Document that scopes require a callable object
fix broken links to README docs in intro
Document common deprecations
Document the deprecation of ActionView::RecordIdentifier
change log4r link to most recent, updated location
Document change in routes using match
Improve the CHANGELOG entry
Document removal of assets:precompile:primary
Improve the CHANGELOG entry
Document sass-rails asset_url deprecation
Document caveat from 5b3bb61 which fixed handling SCRIPT_NAME from within mounted engine
Document rails-observers extraction
Document the switch from memcache-client to dalli
Improve docs for UpgradeSignatureToEncryptionCookieStore
Document extraction of actionpack-xml_parser
Document introduction of the ActionController::UnknownFormat exception
Ensure plugins generated with plugin new can boot the dummy application
Wrong exception is occured when raising no translatable exception
Support PostgreSQL specific column types when using `change_table`.
Minor changelog improvement [ci skip]
update docs, change_table does not use TableDefinition.
Remove redundant method
Enforce i18n version >= v0.6.4
`format: true` does not override existing format constraints.
Improve docs for AbsC::Rendering
There's no need to access Railties through self.class
fix db_runtime attribute  value after raising ActionView::MissingTemplate exception
cleanup AP number_helpers_test
remove duplicated number_helper tests in AP. They are already in AS.
remove private attribute? warning
allow non-String default params in the router.
the router allows String contraints.
Move AS CHANGELOG entry up.
We want i18n >= 0.6.2 but < 1.0
Add routing guide doc on root with namespaces.
Move the CHANGELOG entry to the proper place
Make ActionDispatch::Journey::Path::Pattern#new raise more meaningful exception message.
Add tests for #9441
Update CHANGELOGS
Use less hyperbole in the language re: allowed parameters
Allow both a path and an option on root in config/routes
cache_key consults updated_on timestamp if present
No need to send public methods
JRuby does not support racc, include it only in ruby platform
Apparently we can't get away from adding lib to the load path
Plugins can use a similar bootscript to Rails apps
small typo
Bundler 1.3.0 released. We prefer it for new binstub behavior.
Bump i18n version to 0.6.2
Are was release
Bump sass-rails and coffee-rails to 4.0.0.beta1 in Gemfile
bumping to beta1
No need to test against 1.8
removes redundant require
Remove sprockets-rails from the Gemfile generator
typo
AR loads activerecord-deprecated_finders, no need to add it to the Gemfile
sprockets 2.0.0.rc3 is in rails gemspec already
ar-deprecated_finders is already in the gemspec
I released 0.0.3 some time ago
jquery-rails 2.2.1 was released
Remove rack-test git dependency
Change default root route helper
New CHANGELOG entries always on top [ci skip]
Do not override attributes on `dup` by default scopes
Do not use --local option when installing the gems
Preparing for 4.0.0.beta1 release
Revert "Use sass compressor as the default CSS compressor"
Use sass compressor as the default CSS compressor
:scissors:
Improve `rake stats` for JavaScript and CoffeeScript.
Typo fix
some minor AR changelog modifications [ci skip]
Keep second fraction when DateTime#change is called.
update 4.0 release notes to reflect the removal of auto explain.
Added documentation about how touch now throws an error when one tries to use it on an unpersisted object.
BELONGS TO ASSOCIATION | Typo fix
Raising an ActiveRecordError when one tries to use .touch(name) on a new object that has not yet been persisted. This behavior follows the precedent set by update_columns.
Revert "Simplify code in AS json encoder"
Improve AR changelog [ci skip]
Add more information to the CHANGELOG entry [ci skip]
Added `ActiveSupport::TimeWithZone#to_r` for `Time#at` compatibility.
Remove warning
Make explicit the method will raise an exception
did a pass over the AS changelog [ci skip]
don't apply invalid ordering when preloading hmt associations.
update the example for `after_commit` in the guides.
did a pass over the AM changelog [ci skip]
Remove `--builder` option from `rails` command
remove AR auto-explain (config.auto_explain_threshold_in_seconds)
Use sprockets-rails 2.0.0.rc3 in new apps
Mention the extraction of Active Resource in the upgrading guide
Mention the removal of attr_accessible and attr_protected in the upgrading guide
Updated doc to clarify about update_all and delete_all
Skip connection url test when the machine is using socket configuration.
Do not type cast all the database url values.
Revert "move config.assets.precompile into config/application.rb"
fix respond_to without blocks not working if one of the blocks is all
test case to prevent duplicated associations with custom PK.
Update guide doc to use migration shortcuts
Wrap `around_action` word with <code> tag
Oracle enhanced adapter shortens its name if it is longer than 30 bytes because of Oracle database index length spec.
also rename the test-case class inside columns_test.rb
Revert "prevent minitest from printing a --seed run option"
prevent minitest from printing a --seed run option
registers the encrypted session store in the AP changelog
guides/rails_guides moved up and out of the railties directory
adds a missing LIMIT 1 in #take docs
rename_column_test.rb -> columns_test.rb to reveal intent.
forwardport #9388 rename/remove column preserves custom PK.
Move number_to_human test from AP to AS
Changelog improvements, use 1.9 style hash in examples [ci skip]
Correct comment for (beginning|end)_of_minute
Added documentation for beginning_of_minute and end_of_minute to Active Support Core Extensions guide
Address edge case for number_to_human with units option.
document setting custom datetime attribute for time_tag helper
fix time_tag helper and update tests to not rely on dynamically generated values
Link is not relevant anymore
Added beginning_of_minute support to core_ext calculations for Time and DateTime
completes pass over the AP changelog [ci skip]
tweaks to the AP changelog [ci skip]
This cache is not needed
Use composition to figure out the forgery protection strategy
determine the match shorthand target early.
Use #grep to filter priority zones when a regexp is given
Use Array Difference to calculate the zones array, instead of iterating
Remove not necessary changelog about time zone array mutation
tweaks to the AP changelog [ci skip]
Update railties/lib/rails/application/configuration.rb
Removed template_root as a configuration option
Update railties/lib/rails/application/configuration.rb
Typo fix.
remove assigned but unused variable warning
multiple actions for :on option with `after_commit` and `after_rollback`
Rack::Test::UploadedFile is a permitted scalar
remove uncommented railties boot_test.rb
Indent comment block by two spaces.
Add more documentation for create_join_table.
ActiveRecord -> Active Record [ci skip]
removes relation bang methods from the AR changelog [ci skip]
removes some remaining relation bang methods documentation [ci skip]
puts a lambda around a default scope [ci skip]
adds an example in the docs of #not with multiple conditions [ci skip]
database.yml -> config/database.yml [ci skip]
Skip failing test and add a FIXME note
unify AR changelog entries [ci skip]
also rename indexes when a table or column is renamed
Renaming the check_empty_arguments method to something more descriptive. The function is now called has_arguments? so that it's easier to tell that it's just checking to see if the args are blank or not.
moves the new :nsec date format to the Active Support changelog [ci skip]
revises the documentation of AR::Base.cache_timestamp_format [ci skip]
reserve less chars for internal sqlite3 operations
reserve index name chars for internal rails operations
make type_cast_value a class level method
Added comments about the check_empty_arguments method which is called for query methods in a where_clause. Also, modified the CHANGELOG entry because it had false information and added tests.
Reduced memory leak problem in transactions by lazily updating AR objects with new transaction state. If AR object has a callback, the callback will be performed immediately (non-lazily) so the transaction still has to keep records with callbacks.
Register trackers on extensions, not handlers
Rename ErbTracker to ERBTracker
Return an empty array if no tracker is found
Use a thread safe hash
Allow registering custom dependency trackers
Extract dependency tracking from Digestor
move config.assets.precompile into config/application.rb
update changelog
run the load_structure test in the test environment
test DATABASE_URL without database.yml around
standardize database_configuration to a hash
Remove XML Parser from ActionDispatch
Whitespace :heart: and hash syntax change
Update the "upgrading" guide for people coming from 3.0 and 3.1. The latest versions for 3.1 and 3.2 are now 3.2.12 and 3.1.11 respectively.
descriptive error message when AR adapter was not found. Closes #7313.
improve grammar describing ActionDispatch::Cookies::CookieJar#delete
Improve upgrading guide with ActionDispatch::BestStandardsSupport removal
Better not use tab chars in the generator template
improve grammar describing ActionDispatch::Cookies::CookieJar#delete
added more accurate test for add_on_empty
Support Float::INFINITY in ranges
s/revertible/reversible/
fixes a typo in the migrations guide
moves a CHANGELOG entry from AR to AP
small tweaks in the AR CHANGELOG
Raise an error when query methods have blank arguments, and when blank arguments are meaningless.
Corrected link anchor and added colons for continuity
delete duplicated tests in AR base_test.rb
InvalidMessage is in ActiveSupport::MessageEncryptor namespace
Add missing require to routes inspector
Require AS deps in ActionDispatch::Http::URL
Remove config.autoload_paths from config/application.rb
Don't unhook autoloading in production
Revert "Deprecate the `eager_load_paths` configuration"
Duck typing is hard. Add header to HtmlTableFormatter.
editorial tweaks
Use strip_heredoc in the tests as well.
use strip_heredoc to keep indentation consistent.
Add message when you have no routes defined.
Add headings to rake routes table
Document changes in #7968
Update guides/source/active_record_querying.md
Bump up minitest dependency and remove our own reinvented version of ParallelEach
Gist URLs are now namespaced
clarify singular and plural routes
Return false on toggle on error pages
add tests for ActiveRecord::Base#create
Add CHANGELOG entry for 41ff6a10216f48f43605a1f9cd6094765cab750f
copy-edits RDoc in fba496f
Removed an old require of an MD5 digest which is no longer used.
Remove valid_type? method
copy edits [ci skip]
Revert "Make valid_type? public"
Revert "checking in the abstractions for valid type checking:"
Added extra comment when a migration already exists of the same name. User should know that he can overwrite the previous migration. This comes in handy especially when generating models which were previously created then removed.
don't cache invalid subsets when preloading hmt associations.
Bump rack-test dependency to 0.6.2
Make valid_type? public
9253: Before writing a numeric attribute value, ActiveRecord does an implicit conversion of boolean types (true => 1 and false => 0). If the numeric value being assigned is a BigDecimal, then ActiveRecord compares a BigDecimal to true and false. This is known to be very slow in Ruby 1.9.3.
Don't call after_commit when creating through an association and save fails, fixes #5802
Revert "incorrect content of models/comment.rb after 'rails generate'"
incorrect content of models/comment.rb after 'rails generate'
Avoid to_sym calls
Correct bullet content line wrapping
Detail Ruby 1.8 ships with TestUnit and Ruby 1.9 with MiniTest
checking in the abstractions for valid type checking:
reverted back our changes and added in the new define_method
test for regression from a712e08ebe21f6d8653a0e6602df2e0f5d40d9ca
fix the example code in the engines guide. closes #8583.
remove trailing whitespace from engines guide
define Active Record Store accessors in a module
Improve changelog entry from #9221 [ci skip]
Add changelog entry for #9177 [ci skip]
Changed update_record to use prepared statements.
fixing bit string test
fix a typo on the engine guide
Supress warning about method redifinition
Remove method redefined warning
Update to latest Unicode data.
added compress options for gzip
Improve img alt attribute for screen readers
Prefer Ruby 2.0; require 1.9.3+
the `:controller` option for routes can contain numbers. closes #9231.
Added notice message for destroy method in scaffold
Update activerecord/CHANGELOG.md
Use IN operator like arel for empty hash in where clause
Clarify ActiveModel::Validator initialization in docs.
Validations guide: validates_with init clarification.
Add missing require to AP
Reverting e170014113 (Change behaviour with empty hash in where clause)
We don't need a CHANGELOG entry for an issue of something that was not released yet
Bump rack dependency to 1.5.2
Reverting 16f6f25 (Change behaviour with empty array in where clause)
Improve changelog entries in AR
Change behaviour with empty array in where clause
Change behaviour with empty hash in where clause
Add example for ActiveRecord::Base.joins using a string as argument
Add example for ActiveRecord::Base.group using a string as argument
Add documentation for ActiveRecord.select when use strings as arguments
Add ActiveRecord.count documentation when used on group relations
Skip schema dumper extensions test if connection does not support it
active_record: Quote numeric values compared to string columns.
Run schema dumper extensions without creating real extensions
Do not print anything related to extensions when they don't none exist
Add blank line after extensions to separate from tables in schema
Call super to use the abstract adapter implementation instead
Add changelog entry for #9203 about schema dumper with db extensions
add ActiveRecord::AbstractAdapter#extensions and ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#extensions to allow dumping of enabled extensions to schema.rb, add ActiveRecord::SchemaDumper#extensions to dump extensions to schema.rb
improve tests to check for existence of extensions method, and skip testing dumped extensions if they are unsupported by the database
Add some tests to enumerate how extensions should be stored in the schema output
Change Class#subclasses doc example
Update changelog from #9128 with author name
Update actionpack/CHANGELOG.md
ruby constant syntax is not supported as routing `:controller` option.
Update .gitignore
Enable hstore extensions on tests if it is not enabled and database supports it
Ignore .ruby-version
Added unit test for the mysql2 bind substitution
Update upgrading guide with ActionDispatch::BestStandardsSupport removal
Added test:all and test:all:db tasks to speed up full test runs.
Add --rc description on the command line
Use --rc= instead of --rc
partials inside directory work with `assert_template`
descriptive `assert_template` error when partial wasn't rendered
Take care of whitespaces and changing the hash syntax
Put .rdoc at the end of the files named RUNNING_UNIT_TESTS
Add --no-rc description on the command line
Revert "Detail middleware initialization points in the initialization guide [ci skip]"
Refactor --rc option
test for issue 8931
Add --rc option to support the load of a custom rc file
Remove BestStandardsSupport references
Added extra note about when to email other rubies to RELEASING_RAILS.rdoc
Prefer File.read over File.open.read
--no-rc in the railties tests
Missing require hash/keys
Missing or unneeded require extract_options
Add --no-rc option to skip the loading of railsrc file
CHANGELOG review
Strict regexp
Extract the value casting to a method
DATABASE_URL parsing should turn numeric strings into numeric types, and the strings true and false into boolean types, in order to match how YAML would parse the same values from database.yml and prevent unexpected type errors in the database adapters.
Use \A in Regexps
Missing require extract_options
Missing require extract_options
Modify TimeWithZone#as_json to return 3DP of sub-second accuracy by default, since it's allowed by the spec and is very useful.
class_eval should use __FILE__ and __LINE__
fixing bind param visiting in the dot visitor
Raise a specific exception with a useful message if a rake task is requested for an unknown adapter
remove dead code
change parameter name for positional args
nodoc the helper classes, cache stuff for optimized helper
cache path parts in the instance
stop evaling a string every time
moving helper classes outside the private block
pushing specialization down to the optimized class
use polymorphism to remove conditional
move conditionals to instance
pull stuff out of the caller and hide in the instance
moving more stuff on to the instance
move optimize_helper? to the helper instance
moving more stuff to the instance
moving some stuff to the initializer
moved more evald code
factored out some of the dynamic code
Remove pre-emptive adapter name check from databases.rake so third party adapters can register rake tasks
reloading type map on extension changing
fixing comment
Changelog about BestStandardsSupport removal
Add 'X-UA-Compatible' => 'chrome=1' to default headers
Denied the quoting of SqlLiterals
Remove BestStandardsSupport middleware
Typo in code
Only search for enabled extension if the PostgreSQL version supports extensions
'minitest/parallel_each' might not always be available
Needs to explicitly require 'minitest/parallel_each'
Remove yaml Proc param parser test
s/ERb/ERB/
Send paths argument as an array rather than converting it internally
Refactor to use each_key, remove extra spaces
add API to pg for enabling / disabling hstore
revamps the RDoc of Object#try
Move AS changelog entry to the top, improve AP changelog a bit
no need for \Z, \z is more concise
Added a Changelog entry for fixing HEAD requests.
Make current_url? work with a HEAD method
Remove caching_allowed? from ActionController::Caching
updates a dynamic method heredoc doc
explains why the query cache checks arel.locked
Use Encoding::UTF_8 constant :do_not_litter:
Use already defined Encoding constants rather than creating one-trip Strings
add fetch to CookieJar
Prevent Relation#merge from collapsing wheres on the RHS
Detail middleware initialization points in the initialization guide [ci skip]
Use `silence` instead of `quietly` to silence the `CheckPending` middleware.
Simplify type casting code for timezone aware attributes
generic pass before merging docrails
document the behavior of `ActionMailer::Base.delivieries` in tests
`#count` in conjunction with `#uniq` performs distinct count.
Remove mass-assignment line from guide summary
avoid using alias in generators
:scissors: "raise" duplication
fix Active Record/Action Pack Changelog links
Add keys/values methods to TestSession
Integrate Action Pack with Rack 1.5
Remove obsolete test file
Deprecate the `eager_load_paths` configuration
use the helpers list rather than getting the methods from the module
module_eval is not necessary here
don't need to eval everything
reduce the number of queries on IN clauses, fix relation queries in `where`
stop converting strings to symbols
Allow passing interpolations to `#default_i18n_subject`, e.g.:
Default dead_connection_timeout to 5
Describing the reason for defining BlankTopic#blank? which will never be called
Revert "Unused methods, module, etc."
Unused methods, module, etc.
Set Thread.abort_on_exception for the whole AS, AP, and AR tests
Unused test model
Goodbye there, very special rubbish!
[engines guide] reformatted some stuff
[engines guide] reworded a run on
proxy_{owner,reflection,target} are no more available
Unused model DeprecatedPostWithComment
Depend on thor >= 0.17.0
ActionDispatch::Http::UploadedFile is a permitted scalar [Closes #9051]
Add new DB rake tasks to the contributing section.
Remove warning by using a custom coder
Add postgresql range types support
Made indentation consistent.
A test case name needs to start with "test_"
Test String#dasherize
Test that rescue_from accepts a class name in String
Test Kernel#quietly
Test try! with a block
Test that DeprecatedConstantProxy does not warn when accessing its class
Missing AS::Deprecation::DeprecatedObjectProxy test
Test that a DateTime acts_like_date
Adding the route_key and param_key tests
Typo, grammar, and comma love.
Improve String#squish whitespaces matching
Typo fix in guides/source/engines.md
Added request.head? to forgery protection code
Remove old asset tags API from docs, reflecting changes from #7900
Added a test that shows that a HEAD request does not normally pass CSRF protection
Less strict activerecord-deprecated_finders version
Revert "Round usec when writing timestamp attribute."
Add failing test case for #8460
Lets kepp using Ruby 1.9 syntax
Only check for unpermmited parameters if action_on_unpermitted_parameters is present
Revert "Set the default timezone after the initialization since the configuration"
Revert "updating i18n guide with locale config location."
avoid creating an object in every call
Remove unnecessary require
Re-do Getting Started application with Rails 4.
fixing link to validations guide in getting started guide
Getting Started Guide: strong_parameters
Remove tabs, use spaces :scissors:
Whitespaces :scissors:
Just ignore all PRAGMA queries
Reset SchemaMigration after updating
Restore I18n.locale after running tests
Stylistic pass at form_helper_test
Capture block so content won't leak.
Update actionpack's CHANGELOG for 445f14e
Make sure to reset default_url_options
Preload some join table schemas
Ignore schema queries on SQLite 3 as well
Be sure to clear schema cache
Ignore "SHOW search_path" when counting PostgreSQL queries
Reset table_name_{prefix,suffix}, and table_name after each test
Missing repair_validations
copy-edits 7e6e4f2 [ci skip]
document how to create custom rails environments
Refactored transaction state into its own object. Each transaction creates a new transaction state object upon initialization.
Duplicate possible frozen string from route
resistance is futile
slices less, reads better
adding comma to separate clauses
Added AR integration tests for form helpers
Use `DateTime.parse` inside `String#to_datetime`
Standardise the return value of `to_time`
Remove extra sort from test
In Browser Path Matching with Javascript
Review #translate docs [ci skip]
Refactor grep call to remove .each
Add missing assert calls
Use 1.9 hash style in docs/comments [ci skip]
Added a changelog entry.
added db:drop task that executes mysql:drop_databses and postgresql:drop_databases
Removed reflects_transaction_state.
Add documentation for abstract controller #translate and #localize method.
removed the puts statement and simplified the execute statement
added rake db:create that executes mysql:build_databases and postgresql:build_databases
Add documentation to ActionDispatch::Response
Created state for a transaction and added tests.
Removing warning: shadowing outer local variable
strong parameters filters permitted scalars
Removed ActionController::Base dependency from abstract controller translation tests.
Test abstract controller's localize method.
Don't use anonymous classes in connection tests
consistently inherit from ApplicationController in guides exemples
Anonymous class is not allowed. For reference see #8934 and bc43763247e25
fix anonymous class issue
Added test case to prevent regression of chained, preloaded scopes. (#7490)
Remove warning: shadowing outer local variable
Updated version of jQuery rails in gemfile
Refactor ActiveSupport::Cache::Store#fetch.
Replacing plugin to gem
Restore and adapt the implementation reverted at https://github.com/rails/rails/commit/cc1c3c5be061e7572018f734e5239750ab449e3f
Added ability to raise or log on unpermitted params.
Replaced documentation for config.action_controller.raise_on_unpermitted_parameters with documentation for config.action_controller.action_on_unpermitted_params.
Improve relation docs about to_sql and where_values_hash
Remove "Application" section title from routes
fix broken examples format in image_tag helper [ci skip]
The test setup is not threadsafe. Wrap in a mutex.
MiniTest already defines a ParallelEach class
"Asynchronous Mailers" will not be available in 4.0
User Rails 4 find_by
Undeprecate the :extend option
CollectionProxy should be default scoped
Remove useless number sign
s/it's/its/
script => bin
use tap with block parameter
iterates the RDoc of update_column(s)
Refactor predicate builder when receiving empty hash
for recommended Apache configuration of asset pipeline, use <Location> instead of <LocationMatch>, to avoid unnecessary reg ex parsing and code <http://httpd.apache.org/docs/2.2/mod/core.html#location (recommended by @jja). - @erikj
repeating documentation for option form helpers
repeating documentation for date and time form helpers
Don't change the original i18n data
Remove i18n symbol dependency
spelling correction for AM interceptors
Remove useless || operation
Removing : warning: ambiguous first argument;
fix example of setting DEFAULTS in fixtures
clarify awkward sentence re: email testing
Deprecate direct calls to AC::RecordIdentifier.dom_id and dom_class
clear specific logs when using rake log:clear
document Intercepters in ActionMailer guide
replace regexp global in #url_for
Don't rely on Hash key's ordering
Remove warnings: "(...) interpreted as grouped expression"
adding regression test in master for #8631
More documentation for ActionDispatch::Response
Document ActionDispatch::Response#body method
strong parameters exception handling
Remove header bloat introduced by BestStandardsSupport middleware
removes spurious file pushed in cc585c8
revert to 814c9875ec4cf01e1348d1ab1c9d12eee5a9adac
Revert "fix history"
allow :dirs option for .enumerate
Revert "Improves documentation about Fragment Caching. [ci skip]"
use case statement
fix history
Change the behavior of route defaults
Add support for other types of routing constraints
Ensure port is set when passed via the process method
Raise correct exception now Journey is integrated.
Update guides/source/active_record_validations.md
Cleaning up ActiveModel::Dirty tests
Revert "log at debug level what line caused the redirect_to"
Improves documentation about Fragment Caching. [ci skip]
Improve mysql database tasks handling to ensure we always rescue from an exception
ActiveRecord <-> Active Record [ci skip]
Use Rails 4 find_by in README [ci skip]
Account for ignored cookie set by turbolinks
test for ActiveModel::Conversion#to_partial_path and namespaced models
Address test_create_when_database_exists_outputs_info_to_stderr failures
Rename :value option to :selected, in line with other select helpers Add tests for time & datetime. Add documentation.
Revert benchmark helper regression. Use a #capture within a #benchmark block. Breaks benchmark calls that return non-String values otherwise.
rake railties:install:migrations respects the order of railties
fix reference to ActiveSupport::ProxyObject
Test to allow Range including DateTime and DateTime::Infinity
Add regression test to #8907
Allow value to be set on date_select
Remove WIP from Working With JavaScript Guide.
Associaton -> Association
Adding tests for ActiveModel::Model
`CollectionAssociation#empty?` respects newly builded records
Collection radio buttons and collection check boxes through FormBuilder render the provided block.
Deprecate `Rails::Generators::ActiveModel#update_attributes`
Bring back "database already exists" messages when running rake tasks
Update engine application layout file path
remove_possible_method -> remove_method
Add changelog entry for scaffold generator and jbuilder changes
Update guides/source/active_record_basics.md
All green with Ruby 2.0 :green_heart:
Use thor master to make rails work with Ruby 2.0
thread_safe is a dependency of active_support
More consistent quotes in scaffold generator
Changed if ! to unless
Specified jbuilder version
Covering untested methods for ActiveModel::Errors
Updating Array access docs more consistent [ci skip]
clearer conditional in constraint match check
Relax bundler dep until 1.3.0 is actually released.
Include jbuilder by default and rely on its scaffold generator to show json API. The default scaffold will now just create HTML if the user actively opts out of jbuilder
mention performance test extraction in 4.0 guide
remove the rails guide on performance testing
remove performance tests from the default stack
extract PerformanceTest into rails-performance_tests gem
Clarified the minute option on DateTime#change
add asset pipeline guides section on implementing & registering own engines
update assets guide code styling
Remove redundant double quotation marks
fire a notification when the request stops / starts
adding missing requires
extract logger and development checks to methods
adding start / finish on the instrumenter, adding tests for the class
s/messqage/message/ in message_encryptor_test.rb
adding small mention one single line blocks in contributing to rails [ci skip]
use multiline do-end blocks and rearrange definition for clarity
Set default value to ActiveModel::Validator initializer attribute
Correcting the command 'rake rails:update:bin' in the release notes.[ci skip]
remove 'update' duplications
Remove :yaml related tests and fix other related to parsing empty arrays
Add CHANGELOG entry for YAML parsing removal
remove yaml as a param parser :burn:
mv README README.rdoc as app template file
improved different_target conditions
target_reflection_has_associated_record? refactoring
CVE-2013-0156: Safe XML params parsing. Doesn't allow symbols or yaml.
* Strip nils from collections on JSON and XML posts. [CVE-2013-0155] * dealing with empty hashes. Thanks Damien Mathieu
CVE-2013-0156: Safe XML params parsing. Doesn't allow symbols or yaml.
evaluate the dependency blocks at the instance level, not class level
view_cache_dependency API
Revert "unpermitted params" exception -- it's just not going to work. See the discussion on https://github.com/rails/strong_parameters/pull/75.
Never treat action or controller as unpermitted params
Add oracle paging optimization discussed in issue 99
Bump rack dependency to 1.4.3
Eliminate Rack::File headers deprecation warning
set 'alt' attribute for image_submit_tag
Do not generate local vars for partials without object or collection
Ignore binds payload with nil column in AR log subscriber
Use absolute path
Revert cb3181e - no longer required.
change unless !blank? to if blank? in get_primary_key
Don't configure Turn output, we aren't using it since 3.2.0
Avoid Rack security warning no secret provided
Correct method notation for #acts_like? [ci skip]
* Strip nils from collections on JSON and XML posts. [CVE-2013-0155] * dealing with empty hashes. Thanks Damien Mathieu
Initialize instance variable to remove warning
Reset test data, and fix bug that the inserted data were not actually selected
Reset AR::Migration.verbose change to avoid depending on test run order
new README generated for new apps
doc/README_FOR_APP is no longer generated
let the rails gem ship with the README
Revert some warning removals related to Ruby 2.0
improve StrongParameters documentation [ci skip]
Update guides/source/getting_started.md
Don't require 'turn' from rails/test_help
Instance_variable_names are strings. That is the most important information IMO
access `@path` and `@routes` via reader methods in journey
refactor ShowExceptions' #call to use def-rescue instead of begin-rescue
more woring improvements to the engines guide
improve wording of the engines guide
Use similar comment style
prefer american spelling of 'behavior'
Take the heat :fire:
Introduce ./bin for your app's executables: bin/bundle, bin/rails, bin/rake. Executable scripts are versioned code like the rest of your app. To generate a stub for a bundled gem: 'bundle binstubs unicorn' and 'git add bin/unicorn'
Use whitelist to pass valid connection parameters to PGConn.
remove begin-rescue in favor of def-rescue
Remove the configuration key in the correct place
refactor DebugExceptions by combining two conditionals into one
return multiple assingment and response variable
Reduce number of Strings a bit
Namespace HashWithIndifferentAccess
Needs to reset SchemaMigration first, or the tests fail in sqlite3
refactor Journey::Routes
fix for rbx
Missing require
These are already required through AS/rails
Simplify code in AS json encoder
Require 'active_support/core_ext/module/aliasing' in the infinite_comparable module
Needless requires
Missing requires
These are already required through AS/rails
Rescue from LoadError when trying to load the debugger gem for console
Rename route_wrapper partial layout to table
Move table routes formatter class to the inspector and rename it
Refactor the logic that checks whether or not to emit the hidden id field
Move the hidden :id field logic to where it belongs to
Eliminate the usage of parent_builder option from form_for
Do not call fields_for from form_for, to avoid instantiating two builders
Refactor to not call path.ast twice
refactor Route#ast to use or-equals and block, instead of return with a cond
Improve javascript in welcome page [ci skip]
This is not that common of a change to warrant top-line billing and you should read more about the consequences than just toggling a boolean to make best use of it
Include the standard reminder that you need to restart for changes in config/initializers to take effect
delegate to :class rather than 'self.class'
Update generated app's README [ci skip]
Remove unnecessary begin..rescue..end, use only rescue
The controller generator invokes assets generator in addition
Update mailer generator USAGE
The plural of apparatus is apparatuses
prefer do-end for multiline block
place article name in the beginning of guides page title
fix guides' warning bottom padding
Remove the content_tag_for change from CHANGELOG since it was reverted
HTTP 302 means Found, not Moved
Update some code examples on the "Working with JavaScript in Rails" guide.
Move config.filter_parameters to you own initializer file
wrap terminal prompt marks in a pre tag
Needless fancy structure that did not anything
Assert config.filter_parameters should be able to be set in a initializer
fix img width in guides
deprecate `assert_blank` and `assert_present`.
proper article in the getting started guide
No need to give an example where there is generated code right there to serve as the example
Make sure assets is disable when --skip-sprockets is used
config.assets.enabled is now true by default
allow toggling about env, not just showing
Remove warning, remove not used variable, and make methods private
Remove suggestion that Procs can be used as session secrets.
Close container div tag in routing error page
Move style to head to make routes page valid html5
Redirect using action hash instead of hardcoding full route
Change Rails Info controller to use the new table routes formatter
Action Pack changelog improvements [ci skip]
display mountable engine routes on RoutingError.
split formatting concerns from RoutesInspector
Remove warning "ambiguous first argument"
Use better variable names for ltree tests, remove instance variable
Rename the last occurrence of UnexpectedParameters
Wrong copy and paste :bomb:
Rename raise_on_unexpected_params to raise_on_unpermitted_parameters on the guides
Add documentation to raise_on_unpermitted_parameters option
Rename the configuration to raise_on_unpermitted_parameters
Ensure that raise_on_unexpected_params configuration will work
Revert "[#8743] Test case"
Don't use Rails.root since it is not available at this point
Allow developers to enable raising of exception when unexpected params are provided.
[#8743] Test case
Add join table migration generator to usage help.
beginrescueend has ended
Don't use layout when requested from xhr
Document new configuration option action_controller.raise_on_unexpected_params.
Remove unnecessary begin..rescue..end, use only rescue
Move class method to instance in dbconsole
Move changelog entry in railties to the top
added marshal_load and marshal_dump for ProxyTestResult. Behavior of method_missing with Marshal.dump and Marshal.load is changing in ruby 2.0.0 later.
Small typo fix in railties/CHANGELOG.md
Support for PostgreSQL's ltree data type.
fix failing test broken in 15fb7889c5566ddade1d8f74f49bbbc1c0be6057
misleading error message that prompts non-existing command
get rid of unused .empty_directory files in the app generator
Better error message for String#to_date
Allow use of durations for ActionDispatch::SSL configuration
Remove unnecessary `ERB::Util::h`
removed dangling whitespace in generated database yml
ERB::Util::h is no longer generated in scaffold
This commit fixes issue #8628
Suppress warning about IO#lines in Ruby 2.0
Remove the fallback onto `ActiveXObject("Microsoft.XMLHTTP")`.
undecorated_table_name was moved and refactored
replace use of MissingSourceFile with LoadError
Apply `var` keyword to js at welcome#index
Ruby 1.8 support had gone
get rid of outdated "`server` with Different Backends" section
update the example of generated postgresql config
Set the default timezone after the initialization since the configuration now lives in the application initializers.
Refactor infinite comparable definition a bit
Remove unnecessary requires
Remove assert_nothing_raised
Added ability to compare date/time with infinity
extract alert= and notice= examples to FlashHash#now [ci skip]
Readd deleted section of caching rails guide
Use bundler --pre for travis builds
Bump bundler dep to 1.3.0.pre.4+ to introduce 'bundle binstubs <gem>'
Reuse the Column integer converter
Change duplicated test name
A Relation is not a collection of records. So let's not use the term "record"
Revert "TODO typo fix"
TODO typo fix
No such feature in Rails anymore. That's Bundler's business
Add examples `alert=` and `notice=`, using memes
Change `Example for` to `Example of`
no, call <%= yield %>
Add documentation to ActionDispatch::Http::UploadedFile#headers
update directory tree in the generated README
we don't have public/index.html anymore
update the scaffold generator outputs
.all does not return an Array
move error page js into script tag
Adding a usage message to install.rb script
deliver_ is an old API
`Model.all` alone does nothing
need to to_a the Relation to execute SQL here
Adding Back Rails::Engine::Railties#engines
Remove a useless TODO comment
Add Changelog entry regarding update_attibutes being renamed to update
Updating default application templates to use update instead of update_attributes
Change guides to use update instead of update_attributes
Change docs to use update instead of update_attributes
Rename update_attributes method to update, keep update_attributes as an alias
Typo and grammar fixes in the ActionPack CHANGELOG
remove meaningless use of Relation#all
fix env toggling, improve error page styling
PUT => PATCH
let's get started with PATCH method rather than PUT
test PATCH method for update action in generated scaffold controller test rather than PUT
refactor Routing::Mapper
Pass in `--local` when doing `gem install` for local gems.
Remove action/page caching from Rails guides
Add documentation for BacktraceCleaner#remove_filters!
Explain the possible precautions
Restore original remote_ip algorithm.
Changelog improvements [ci skip]
missing changelog entry for #8682
make symbol reference in docs appear as code
CVE-2012-5664 options hashes should only be extracted if there are extra parameters
do not append a second slash when using
take into account multipart when calculating tag attributes
ask the form builder for form tag attributes
do not mutate the options hash (when we do not need to)
remove another unnecessary dup
remove unnecessary #dup
Link to the right fork of country_select.
replace #flatten with Array()
Cleanup some unnecessary CSS on the new error page and reformat some lines.
refactoring to_sym of Symbol in preload
add source line padding
allow toggling dumps instead of just showing
No need to pass a empty block to content_tag_for anymore
Make content_tag_for work without block
Add missing changelog entry for #8676 [ci skip]
remove meaningless AS::FrozenObjectError
Standardize the use of current_adapter?
Address a failure test_remove_column_with_multi_column_index with Oracle database
s/ERb/ERB/
PUT => PATCH or PUT
wrong model name
Observers was extracted from Active Model as `rails-observers` gem
find + conditions is deprecated in AR 4
unused scope
find_or_initialize_by is deprecated in AR 4
find_or_create_by is deprecated in AR 4
find_last_by is deprecated in AR 4
find_all_by is deprecated in AR 4
scoped_by is deprecated in AR 4
Add entry in Releases Notes about changes in exceptions page
Model.scoped is deprecated in favour of Model.all
a bit of inline code tags
no more supporting 1.8
correct raw GitHub URLs
"SSL everywhere" for GitHub URLs
Add CHANGELOG entry for changes in exception pages
update rake tasks output [ci skip]
fix alignment in rails info properties page [ci skip]
New hash syntax works only with symbol keys
Add -B alias for --skip-bundle
fix wrong hash syntax
remove unnecessary always-nil var from #compact
small fix in js guide [ci skip]
Add more documentation to TimeWithZone
copy edits [ci skip]
Inflector irregular singularize rules
Improve English
Add rake test description
Add documentation for TimeWithZone methods
Add documentation for the TimeWithZone#dst? method.
formatted_code_for should be private
Summary and Details HTML elements aren't supported in all modern browsers
Add style to AV::Template::Error exception page
Updated copyright notices for 2013
Improve line-height to have better line spacing in exception message
Add new style to Routing Error page
Styling for exception page
Only call MiniTest.autorun if the dependecy is present
Add source extract to detailed exception page
Revert "Do not install debugger in the pathlevel 362"
refatctoring of some code repetition in spawn_methods
Use ActiveSupport::TestCase in the journey tests
Do not install debugger in the pathlevel 362
Add note on the contributing guide to not use the refute methods
Alias refute methods to assert_not and perfer assert_not on tests
Do not use the same tests description
Remove unneeded tests
Add active_support/testing/autorun
Inherit from MiniTest::Unit::TestCase instead of MiniTest::Spec
Revert "minitest provides "it" and "describe""
charset should not be appended for `head` responses
Update guides/source/rails_on_rack.md
Define [], []=, permanent, signed and encrypted as the only allowed methods for the non Raw Cookie classes
fixed inconsistent `require 'test_helper'` in testing guide
Revert "Rails 4.0 is going to depend on Rack 1.5.x so let's test against Rack master"
Point to guides.rubyonrails.org instead of edgeguides.rubyonrails.org
Improve secret_token deprecation message
Update guides/source/layouts_and_rendering.md
warning removed: shadowing outer local variable
Rails 4.0 is going to depend on Rack 1.5.x so let's test against Rack master
Update documentation for yml usage
Update documentation for yml usage
Document JoinTable migration generator
add missing require and fixtures
fix time typcasting on group counts in PG
mysql does not return alias names, so fall back
Test that assert_not returns true. Use assert_raises instead of doing begin/rescue/else.
fix PG typecasting errors
small refactoring, added blob_or_text_colum? in AbstractMysqlAdapter
work off FIXME comments in AR rename_column_test.rb
Revert "Install binstubs by default"
Revert "Detect rbenv and update the shebang"
Revert "Add rake test description"
Revert "Add rake default to description"
Revert "reminder to run bundle after setting up rails-dev-box"
Remove 'assigned but unused variable' warning
Introduce assert_not to replace 'assert !foo'
Consistent punctuation for @jaroslawr :bowtie:
rewrite order dependent test case. #8185
Ruby 1.9 style hash in Route Inspector
Make test logs easier to read.
Extract the component rendering of collection_radio_buttons and collection_check_boxes to a private method.
removed TIP: :allow_nil/:allow_blank is ignored by the presence validator These tips were documenting an inconsistency issue https://github.com/rails/rails/issues/8621. That issue is resolved by https://github.com/rails/rails/issues/8622.
This change doesn't need a CHANGELOG entry.
Add CHANGELOG entry for #8622
Revert the change at ActiveModel::Errors#add_on_blank and fix in the right place.
Tests and fix for validates_presence of :allow_nil, :allow_blank
Test nested fields with AssociationProxy mockup & fix AssociationProxy support in form helper
Note about migration timestamps.
Consistent use of single and double quotes
quote column names in generated fixture files
We need to check explictly that env['action_dispatch.show_exceptions'] is false.
more descriptive return parameters
Revert "Ignore /bin on new apps" -- given the move to default binstubs, we want you to check those in!
validate :on option on after_commit and after_rollback callbacks
replace AS::BufferedLogger doc mentions with AS::Logger
deprecation warning when BufferedLogger is instantiated
ActiveSupport::BufferedLogger can be subclassed
minor grammar fix
silences "possibly useless use of :: in void context" warnings
fetch highlighter option only when needed
chmod -x from non-script files
reminder to run bundle after setting up rails-dev-box
Add rake test description
Add rake default to description
"warning: ambiguous first argument; put parentheses or even spaces"
we're not supporting SQLite 2
Explicit options should have precedence over railsrc on the `rails new` command
remove duplication from Rails::Application docs
Remove warning of intance variable not initialized
adds kindlerb to the :doc bundle group for guides generation
Ignore /bin on new apps
Forgot to check in railties fixture for binstubs
Add --no-html to scaffold generator
Detect rbenv and update the shebang
Install binstubs by default
return Mime::NullType if format is unknown
Digestor explicit dependency should not contain trailing whitespace
Move background jobs to the 'jobs' branch until fully baked. Not shipping with Rails 4.0.
Refactor Hash.from_xml.
Correctly shows RAILS_ENV=development even when ENV['RAILS_ENV'] is not set (e.g., in Pow)
Revert "Make sure that RAILS_ENV is set when accessing Rails.env"
Remove duplicated methods in command recorder and duplicated test name
Updated security guide to reference secret_key_base instead of secret_token, with a little information about the change from CookieStore to EncryptedCookieStore.
Remove CHANGELOG entry for ActiveModel::Errors#add_on_present
Use :present as key for the absence validatior message
Remove ActiveModel::Errors#add_on_present method.
Updated security guide with information about secret_token.rb and to suggest securing sensitive files like database.yml and secret_token.rb
BufferedLogger is deprecated too.
Update Migration and 4.0 Release Guides, Changelogs [#8267]
Make execute, change_column and remove_columns methods actually irreversible [#8267]
Make change_table reversible when possible [#8267]
Migration generators use `change` even for destructive methods [#8267]
Factorize methods that are easily reversible [#8267]
Make remove_index reversible [#8267]
Differentiate between remove_column and remove_columns. Make remove_column reversible. [#8267]
Make drop_table reversible [#8267]
Add drop_join_table [#8267]
Add Migration#reversible for reversible data operations [#8267]
Allow revert of whole migration [#8267]
Extract exec_migration  [#8267]
Allow reverting of migration commands with Migration#revert [#8267]
Split ridiculously long line
Simple replacement of variable name for consistency
Simplify change_table and avoid duplicated logic
Revert "Make sure that ActiveSupport::Logger includes the Logger extensions from core_ext/logger" (some confusion over deprecation)
Make sure that ActiveSupport::Logger includes the Logger extensions from core_ext/logger
Add ActiveSupport::Logger#silence that works the same as the old Logger#silence extension
Serialized attribute can be serialized in an integer column
copy edits in assets guide [ci skip]
Wrap table creation in a transaction.
update AD::Journey to follow Rails coding conventions
Eager loading made to use relation's in_clause_length instead of host's one (fixes #8474)
Prevent callback from being set twice.
Remove Reference to Ruby 1.8.7
change spy of  after invoked controller action. because ruby-2.0.0 waned unused variables
Improve AMo changelog example to not rely on AR [ci skip]
:nodoc: Journey because is not part of the public API [ci skip]
remove code for Ruby 1.8.x support
Remove the actual extension file as well [ci skip]
Remove obsolete Hash extension needed for Ruby 1.8.x support
Integrate Journey into Action Dispatch
Move changelog entry to the top [ci skip]
attempt to fix slow runner name method
Revert "Add test to deprecation of Path#children"
Keep index names when using  with sqlite3
Remove obfuscation support from mail_to helper
Address test_binary_data_is_not_logged with Oracle database
update concerned tests
fix railties CHANGELOG [ci skip]
Revert "use File.basename to get the filename minus .yml"
#5523 Add ability for postgresql adapter to disable user triggers in disable_referential_integrity.
Add app/models/concerns and app/controllers/concerns to the default directory structure and load path
Extract some methods
Change relation in place
Simplify value logic by always typecasting
Avoid unnecessary hashes with error options
Remove prepend_and_append requirement from AS
Refactor uniqueness validator logic a bit
Minor js review [ci skip]
handle protocol option in stylesheet_link_tag and javascript_include_tag
Explain controller specific assets more thoroughly
Format routes as html on debug page
HTML formatting to Rails::InfoController#routes
Make conditional_layout? private and update documentation
 fix AS::BasicObject :nodoc: [ci skip]
Add script_name option description and example for #url_for options
Add missing requires to core_ext/integer/time
DebugExceptions `File.join` => `File.expand_path`
Restored 'Working with Validation Errors'
AR supporting new intrange data type on PostgreSQL >= 9.2
Refactoring the token_and_options method to fix bugs
Add `ActiveModel::Validations::AbsenceValidator`, a validator to check the  absence of attributes. Add `ActiveModel::Errors#add_on_present` method. Adds error messages to present attributes.
Remove blank lines from generated Gemfile
make an editing pass through the upgrading guide [ci skip]
copy editing [ci skip]
bullets have fullstops too [ci skip]
Revert "Add quotes to Numeric Passwords to force string(sqlserver)"
Revert "Add quotes to Numeric Passwords to force string(jdbcmysql)"
Revert "Add quotes to Numeric Passwords to force string(jdbcpostgresql)"
Revert "Add quotes to Numeric Passwords to force string(MySql)"
Revert "Add quotes to Numeric Passwords to force string(Postgres)"
AS::BasicObject can be inherited from
Remove unicode character encoding from ActiveSupport::JSON.encode
Skip binary data with binds test for mysql2, fix build
Convert changelogs to 1.9 hash style and fix some formatting [ci skip]
Do not log the binding values for binary columns.
remove a cache we do not need
Remove AR gem pushed by mistake
Improve the documentation of cache_if and cache_unless
Removed :if and :unless from fragment cache option in favour of
Clear url helper methods when routes are reloaded
Revert "Clear url helpers when reloading routes"
Replace some global Hash usages with the new thread safe cache.
Change method is default since rails 3.1 [ci skip]
Make GROUP BY example more accurate and complete.
Elaborate using `inverse_of` with presence validation
Add missing require.
Add migration example to Association Basics [ci skip]
Add a small note about the compressing the file, and how that helps the application.
Bring back helpers_path attr accessor
Refactor helpers code in Action Pack a bit
recognize migrations, in folders containing numbers and 'rb'.
don't include debugger gem if jruby is used since it doesn't work on jruby.
Trimming the in resource listing; Tutorial book moved [ci skip]
General refreshment of the Active Record Basics guide
Shush deprecation warning due to initializing a Migrator with migration paths rather than migrations. Use Migrator.open(paths) instead. Thanks @rubys!
Output routes in :html format
Add #destroy! as a method that triggers callbacks
Remove deprecated Time methods from the guides [ci skip]
Remove deprecation message from Action Pack
Remove not used variable warnings from AM and AC
Improve test name related to cache timestamp format [ci skip]
Backport thread-local variables from Ruby 2.0
Deprecate obsolete Time to DateTime fallback methods
Beef up tests for String#in_time_zone and Date#in_time_zone
Only call `in_time_zone` on Time or DateTime instances
Clean up 'active_support/time' requires
Remove changelog entry from #8441 [ci skip]
Update guides/source/routing.md
Deprecate Date#to_time_in_current_zone
Add missing at_end_of_* aliases
Explain how to supersede the new dynamic welcome page
Add String#in_time_zone method
Match the controller and path names defensively.
Make sure that no extra spaces are created with a non-polymorphic attributes
Update railties/lib/rails/info_controller.rb
Use Rails to Render Default Index Page
remove attr_protected reference from AS Core Extensions guide [ci skip]
remove Mass Assignment reference from Form Helpers guide [ci skip]
remove Mass Assignment reference from Security GuideÂ [ci skip]
Document adding member route without the  option
Add CHANGELOG entry for #6376.
Allow users to choose the timestamp format in the cache key
Make sure the tests pass in the case closer to described in #8195
Added regression test for #8195.
Move new CHANGELOG entry to the top
Prevent raising EOFError on multipart GET request.
Add multipart: true to form for file upload.
`config.action_mailer.async` is no longer used
The return value from mailer methods is not relevant.
Ensure the scaffold tests will pass when using references attributes
Add GeneratedAttribute#column_name to get the name of the column in the database
Extract a attributes_names method to avoid duplication
Deal with polymorphic attributes correctly in the generators
Make references and belongs_to attributes to generate the _id column in fixtures
Put the reference and belongs_to attributes in the scaffold tests.
Use `File.expand_path` instead of `File.join`
Revert "Omit directories from gemspec.files for RubyGems 2 compat."
Move to the schema-migrations-metadata branch.
Added test to ensure that DescendantsTracker does not leak memory on singleton classes
repeating documentation for form helpers
Add quotes to Numeric Passwords to force string(sqlserver)
Add quotes to Numeric Passwords to force string(jdbcmysql)
Add quotes to Numeric Passwords to force string(jdbcpostgresql)
Add quotes to Numeric Passwords to force string(MySql)
Add quotes to Numeric Passwords to force string(Postgres)
Use the references and belongs_id ids in the scaffold_controller generator
Add test case for scaffold_controller generator without attributes.
revise block on kindle guides [ci skip]
Remove the spaces after the open bracket and before the close bracket.
Include command to create mysql user
Revert "API reader should look elsewhere for helper instructions"
Globalize2 is only compatible with Rails 2 so link to Globalize3 instead
Make code statistics rake task handle new test locations properly
use default_options= instead of default to avoid confusion
Omit directories from gemspec.files for RubyGems 2 compat.
Security Guide: removing Mass Assignment.
update release notes [ci skip]
Session variables for mysql, mysql2, and postgresql adapters can be set in the new 'variables:' hash in each database config section in database.yml. The key-value pairs of this hash will be sent in a 'SET key = value, ...' query on new database connections.
copy edits [ci skip]
Revert "Introduce Bundler and Gemfiles in a NOTE"
Updated 3 gems:
Improve where.not docs [ci skip]
use _action callbacks in actionmailer
Update AR Changelog with correct example using includes
Fill out API Documentation Guidelines 'you will learn' list.
Fill out Active Support Core Extensions 'you will learn' list.
Remove reference to background queue in mailer guide.
Remove references to Rails versions.
update guides to use _action callbacks [ci skip]
fix scaffold controller generator tests
Update activesupport/lib/active_support/deprecation/proxy_wrappers.rb
use :only instead of :except callback option in the controller template
Punctuation, capitalization, grammar fixes in rails guides
add tests to aliased _filter callbacks
use `_action` instead of `_filter` callbacks
update documentation and code to use _action callbacks
Let the scaffold example use the "set shared record" pattern to explain callbacks
fix prepend_before_filter documentation [ci skip]
Rename ActiveSupport::BasicObject to ActiveSupport::ProxyObject
Rollback where.like and where.not_like
Rename all action callbacks from *_filter to *_action
Document the types of arguments accepted by AR#not
Added overview items to Guides Guidelines prologue
revises a RDoc example to make it idiomatic
let @version be always externally set in guides generation [fixes #8221]
Update #where rdoc to match 6ba0f97 [ci skip]
Revert "Invert precedence of content in ActionDispatch::Static"
Move where with blank conditions test to the correct where tests file
Ensure there won't be any regression with where(nil) calls
Stop shelling out more than necessary
Unscope update_column(s) query to ignore default scope
Improve AR changelog
Remove method redefined warnings
Use CURRENT_TIMESTAMP since it has apparently better cross db support
changing tense, since Rails 3.2 has been released
Run rake tasks all at once in rake dbs test for a speed up
CHANGELOG for 78d5d6f.
Change the encrypted campfire notification token
Oracle needs table to check index existence
Invert precedence of content in ActionDispatch::Static
convert time to string
Refactor tests that switch RAILS_ENV and RACK_ENV
Add comment about implementation of class_attribute
adds a couple of items to the check list for stable releases [ci skip]
API reader should look elsewhere for helper instructions
complementary options guidelines for f.file_field and file_field_tag
adding example for f.file_input
adding example for f.file_input
correct bad jquery syntax
Introduce Bundler and Gemfiles in a NOTE
dump schema.rb without :version option
Revert turbolinks load order requirement
Add ENV['RACK_ENV'] support to rake runner/console/server.
silence warning: possibly useless use of a constant in void context
Allow fragment cache to accept :if and :unless options
Extract method refactoring in ActionDispatch::Routing::SingletonResource.
Adding filter capability to ActionController logs
Replace comments' non-breaking spaces with spaces
Define a generator before referring to it
Correct bad English
Improve the Active Model guide [ci skip]
add a notice about loading assets in production mode
Updated 4.0 release notes
copy edits [ci skip]
Revert "Add documentation to TransactionIsolationError [ci skip]"
pg_namespace table isn't used.
Track the default application.css/js files for turbolinks as per version 0.6.0
Do not instantiate intermediate AR objects when eager loading.
style cleanup
Bump mailer to quiet the stdout log messages
Locate `=require turbolinks` at the bottom of application.js
Use send in Time marshal extensions since the methods are now private
fix some formatting
Try to get back the campfire notifications
Add migration history to schema.rb dump
grammar improvements for increment_counter and decrement_counter docs
increment_counter and decrement_counter can accept and array of ids as an arg
added full file path in all file references
removed an extra slash before the 'app' dir
Standardize use of "route globbing" and "wildcard segments" [ci skip]
Add counterexample for regex [ci skip]
Convert parragraph about security to a NOTE [ci skip]
Add clarity to static segments docs in non-resourceful routes [ci skip]
Correct grammar [ci skip]
Convert a section to a tip to highlight it [ci skip]
Normalize use of colon before code examples in routing guide [ci skip]
Show equivalent routes definition without using concerns [ci skip]
Clarify section titles [ci skip]
Move note to a meaningful section in the guides [ci skip]
Use correct conjunction and connector words [ci skip]
match text with translation file example
Capitalize all table column titles in routing guide
List instructions in the order to be executed
Add shallow nesting to the routing guide
More descriptive error when rendering a partial with `:layout => true`
Add metadata to schema_migrations
Remove nodoc from FlashHash #[]= [ci skip]
Actually test that ActiveModel::Errors#add defaults to :invalid.
Call `full_messages` instead of `to_a` in its spec.
Quote ~ in git config global excludes command.
Add periodical-style TOC and navigation to Kindle version of guides
Only take the date parts from Time.zone.now
Use attr_accessor for Rails.{application,cache,logger}
ensure original encoding doesnt change
Cleans and removes 'Examples' tag [ci skip]
Add db to the list of default annotation folders
Cleans and removes useless 'Examples' tag [ci skip]
nodoc AS::Testing::ConstantLookup::ClassMethods [ci skip]
Add documentation for Hash.from_xml [ci skip]
Add documentation to AssetTagHelper#image_alt [ci skip]
update AR::Schema docs [ci skip]
Cleans documentation from Helpers [ci skip]
Add Mailer Callback section to Mailer guides
Remove not used variable warnigns
Reset attributes should not report changes.
Migration Guide: General fix-up
Here's a few updates to the validations guide. A bunch of small changes, plus:
Revert "Remove trailing whitespaces"
Remove trailing whitespaces
Add documentation to TransactionIsolationError [ci skip]
Improves documentation of Capture helper [ci skip]
Removes :nodoc: tag on AtomFeedHelper [ci skip]
Removes unneeded 'Example' tags and whitespaces [ci skip]
nodoc AD & AV railties classes
Remove :nodoc from SanitizeHelper module [ci skip]
nodoc AS::Testing::Pending because is deprecated [ci skip]
Removes :nodoc: label [ci skip]
Improves documentation on favicon_link_tag
remove unneeded Examples tag [ci skip]
Update documentation for javascript_include_tag [ci skip]
copy edits [ci skip]
copy-edits the docs of 9ee0ffb
Patched Marshal#load to work with constant autoloading (active_support/dependecies.rb) (issue #8167)
Make `Time.zone.parse` to work with JavaScript date strings
Remove references to AR::Observer from docs
hash filters should be accessed with symbols or strings
Use separate Relation subclasses for each AR class
Simplify keys order test for as_json in Active Model
Mark Relation mutators as :nodoc:
Split Validations and Callbacks into separate guides.
Normalize on 'After reading this guide, you will know:'
nodoc AS::Deprecation::InstanceDelegator class [ci skip]
add documentation to CollectionProxy #length and #size methods [ci skip]
add documentation to CollectionProxy#empty?
Gemfile source url for plugins updated
Relation.where with no args can be chained with not, like, and not_like
Move instantiation responsibilities from Inheritance to Persistence. Have Inheritance#discriminate_class_for_record handle STI lookup duties.
Asset Pipeline: add 'the'
Command Line: remove 'A Guide to'
Migrations: add 'Active Record' to title
Associations: s/A Guide//
Remove 'This guide is based on ' warnings.
Add periods to the bullet points in guides.
ActionView -> Action View
ActionController -> Action Controller
ActiveSupport -> Active Support
ActionMailer -> Action Mailer.
ActionPack -> Action Pack.
ActiveRecord -> Active Record
Migrations: move massive paragraph out of intro.
Getting Started: Improve instructions on opening a terminal
Getting Started: remove reference to attr_accessible
Getting Started: mac -> Mac OS X
User assert_kind_of, invert assert_equal expectations
Getting Started: Rails 3.2 -> Rails 4.
Tiny refactor
augment the rails4 guide with links to PRs
add list of extracted plugins to rails4 guide
Added STI support to init and building associations
Add #seconds_until_end_of_day to DateTime and Time
Add CHANGELOG entries for the observes extraction
added examples when options is string
Gracefully handle upgrading apps with observers
Remove observers and sweepers
Simplify String#mb_chars and stop proxying #class
Ensure that associations have a symbol argument.
Specify type of singular association during serialization
Revert "rails gem has no lib directory to require"
Add comment to a table without model.
Use assert_nil instead of assert_equal
Revert "correct css selector for the display of validation error messages: changed #error_explanation to #errorExplanation"
Clarifies the cookie store docs a bit and uses correct Markdown syntax for preformatted text
Use "refute" instead of "assert !"
prevent Dependencies#remove_const from autoloading parents [fixes #8301]
Cleanup CacheHelper changes allowing opt-out of cache digests
Add CHANGELOG entry for opt-out option of automatic template digesting
Adding a note about :inverse_of for validations.
default source in Gemfiles to :rubygems rather than hardcoding the URL
No sort Hash options in #grouped_options_for_select
correct css selector for the display of validation error messages: changed #error_explanation to #errorExplanation
unshift html-scanner into $LOAD_PATH rather than append
Unused variable warning removed
Set fixed-width style where appropriate on Getting Started guide.
rails gem has no lib directory to require
Remove warning of circular require
Remove useless check of AR being defined from teardown fixtures
Refactor generators tests to include test helpers in the parent class
Use File.join to better integrate fixture_path in fixture_file_upload.
Accept symbols as #send_data :disposition value
@steveklabnik can't spell 'distance.'
Add changelog for #7997.
log output from activemodel's railtie_test directly to STDOUT
Don't run explain on slow queries for database adapters that don't support it
Corrects typo in test name
Improve clarity of routing tests
Require active_model/railtie directly instead of rails/all
schema cache already has the columns as a hash, so use that
speed up fixture loading by querying the schema cache for column names
Update guides/source/active_record_validations_callbacks.md
Add explicit opt-out for fragment cache digesting
assert_template: validating option keys
Revert "Updated with where functional/helper tests go"
cleanup, removed dispensable `require` statements from `ActiveModel`
cleanup, remove broken whitespace
Don't call will_change! for datetime nil->"".
Reword Post model to note there are lines not shown
We should use post_path, not post_url
Updated with where functional/helper tests go
Moved position of has_many
Added new line to make it more readable
Changed the Using Partials section to read a little better
Modified "Allowing the update of fields" section
Update version numbers of Ruby and Rails
Updated link to RubyGems site
document :hidden_field_id option for fields_for
Refector a bit to remove extra slice iteration and splat call
Use merge! in some places to avoid creating extra hashes
Simplify scope options recovery by using merge!
Normalize scope recovering :blocks option name
Simplify constraints condition in scope when checking for Hash
Move initialize_copy method around to let new method / build alias closer
`assert_template` fails with empty string.
`assert_template` fails with empty string when a template has been rendered
Indent changelog markdown code to highlight correctly
prevent mass assignment of polymorphic type when using `build`
Allow setting a symbol as path in scope on routes
Remove private partial/template renderer methods
Remove the #sum method from CollectionAssociation
Deprecate Relation#sum with a block.
Revert "Yield only one argument instead of splatting."
Don't allocate new strings in compiled attribute methods
Move migration test together with other join table tests
Use secure password min cost option in its own tests for a speed up
Coerce strings in create_join_table.
Typo
Refactoring, testing and documenting pg_connection.distinct
Remove return guard and use code convetions
Initialize accessors to remove some warnings in Ruby 2.0
Postgresql doesn't accepts limits on text columns.
fixed a minor spelling error
fix guide with field_with_error proc example
embed code example using backticks in caching guide
remove previous commit
bug in example '<%= form_for ...' should be '<% form_for ...'
Better Error handling when parsing database.yaml
Correct the use of params options when given to url_for
Refactor request tests, remove #with_set method
Be a bit less conservative with mysql in adapter
render every partial with a new `PartialRenderer`.
Explicit multipart messages respect :parts_order
Add UpgradeSignatureToEncryptionCookieStore to upgrading_ruby_on_rails guide
Remove not needed begin..end from AR#save
Initialize accessors to remove some warnings in Ruby 2.0
Refactor config abort message a bit for dbconsole
displaying error message(p tag was missing) and adding output as comment
Add rename_index to change_table.
Properly deprecate #pending from AS::TestCase
Ensure ordering to make the test pass with postgresql
refactor the naming within plugin new generator
require bundler groups to include rake-tasks in engines
cleanup, remove whitspace from railties CHANGELOG
Point user to strong_parameters as the new protection model [ci skip]
make ActionMailer::QueuedMessage autoloadable
Add test to ensure preloading works as expected with "select" and "includes".
Upgrade mail dependency to 2.5.2
Remove not used require and some useless test comments
Bump mysql gem version to the newly 2.9.0, fix build.
Upgrade mail dependency to 2.5.0
Initialize #min_cost to avoid warning in Ruby 2.0
Extract #in_time_zone helper method duplication to a module
Simplify helper method in attribute methods test
Remove return guard
AR::Base.becomes should not change the STI type
Add a deprecation before removing find_table_name
Remove some test warnings
Add Ruby 2.0 to .travis.yml.
Please use assert_equal instead of diff directly
Removed extra call to #diff in #assert_recognizes. assert_equal calls it for you and shows the diff. Also delayed message calculation so the cost of the diff on success is now gone.
Adding sqlserver.yml template to satisfy "-d sqlserver" being given invocations of "rails new".
Revert "Debugger gem doesn't work with patchlevel >= 327"
Test for has_many bug on unsaved records
Revert "mysql does not build on Ruby 2.0.0 at the moment"
Improve UpgradeSignatureToEncryptionCookieStore docs
Remove old comments about using our own sdoc fork [ci skip]
copy edits and fixes [ci skip]
remove kindle link from guides index [ci skip]
Revert "Switch to 1.9 hash syntax"
Revert "add AR deep dive video links to guides"
Add UpgradeSignatureToEncryptionCookieStore
Call get_cookie to allow the method to be overriden by subclasses
Add missing env param to get_cookie
Remove duplicated get /foo/write_session
Remove unused config option
Switch to 1.9 hash syntax (guides)
Switch to 1.9 hash syntax (guides)
Depend bundler from `=> 1.2.2` to `< 2.0`
Update the middleware stack to reflect the current Rails output
Move changelog entry from #8235 to the top [ci skip]
Remove config.threadsafe! from production env template
Refactor url methods a bit
Remove unnecessary whitespace
Add link to the Application Templates guide
Remove unnecessary whitespace
Switch to 1.9 hash syntax (guides)
Switch to 1.9 hash syntax (guides)
Switch to 1.9 hash syntax
Switch to 1.9 hash syntax
Add a consideration note
Switch to 1.9 hash syntax & remove some parentheses when it reads nicer
Simplify (and optimize)
Use Integer#div instead of Integer#/ to avoid side effects from mathn
Introduce `ActionView::Template::Handlers::ERB.escape_whitelist`. This is a list of mime types where template text is not html escaped by default. It prevents `Jack & Joe` from rendering as `Jack &amp; Joe` for the whitelisted mime types. The default whitelist contains text/plain.
Updated dependency for bundler to ~> 1.2.2
Add a consideration note and a WIP note
Remove the ActiveRecordHelper section
Remove extra whitespace
Add docs for CachingKeyGenerator
Add nodoc to DummyKeyGenerator since it's a private thing
Switch to 1.9 hash syntax
Switch to 1.9 hash syntax
Switch to 1.9 hash syntax
Switch to 1.9 hash syntax
Switch to 1.9 hash syntax and remove unnecessary punct.
Switch to 1.9 hash syntax plus minor fixes
arel columns can be used for grouping so that "weird" column names are usable
stop hardcoding FrontBase adapter conditionals
stop passing *args to generate aliases
create fewer relation objects
Switch to 1.9 hash syntax
Properly align some example comments
Switch to 1.9 hash syntax
Switch to 1.9 hash syntax
Switch to 1.9 hash syntax plus minor fixes
Switch to 1.9 hash syntax
Add links to TryGit & official documentation
Some minor improvements
Minor improvements & fixes
Update links to API documentation & add a TODO
Minor improvements & fixes
Minor improvements & fixes
Update table of contents as a result of #bf63c4971d73e80739c9f2619a9fa0dfb2223435
Improve the starting sentence
Move "Using Action View outside of Rails" at the bottom
Some minor fixes & improvements
Add a consideration note
Make XmlMini.with_backend usable with threads
Some minor fixes
Remove unecessary word
Slightly improve the syntax & grammar
Add a note for the example in Setting Custom Headers
Wrap before & after words in quotes when they're referring to filters
Slightly improve the syntax
Replace "name" with "author" in the Cookies example
Minor punctuation improvement in ActionController guide
Use the more compact syntax in the example
let remove_constant still delete Kernel#autoload constants [rounds #8213]
dependencies no longer trigger Kernel#autoload in remove_const [fixes #8213]
Avoid using Integer#/, as it is redefined by the 'mathn' stdlib
Use BCrypt's MIN_COST in the test environment for speedier tests
add AR deep dive video links to guides
asset compilation should not require a database connection
lazily calculate name in the options object
move include calculation to include method on the options object
model name is lazily evaluated in the options object
move the controller class to the options object
attribute_names will always return a list, so just use any?
wrap up hash conversion in the constructor
use the options object in the wrapper defaults
start using options object
only do hash lookups on options once
replace present? with any? to reduce dependency on AS
add details on password confirmation used with has_secure_password
backporting Struct#to_h from ruby 2.0
Add ChangeLog entry.
Assert the query result instead of checking for nothing raised
Regression test for #7238
Use new mocha version and add changelog entry for #8180
Add a regression test on #8195
Ruby 2.0.0 defaults source encoding to utf-8 so we need to specifically tag this file with us-ascii
only clear caches if we are actually connected to the database
Updated the preformance_testing guide to reflect the fact that prof-rails no longer needs to be fetched from github
depend on voloko/sdoc again
Update production.rb: Split long comment in two lines
Update production.rb documentation: only files in app/assets are in config.assets.precompile
`#pluck` can be used on a relation with `select` clause.
Debugger gem doesn't work with patchlevel < 327
cleanup, removed whitespace from CHANGELOG
`#as_json` isolates options when encoding a hash. Closes #8182
Simplify code by taking advantage of latest mocha (v0.13.0).
Remove duplicated ConnectionHandling extension in AR::Base
Match classes without to_s conversions.
Test Hash#diff deprecation, also prevent deprecation message in AS tests
Removing warning : ambiguous first argument
use em-dashes instead of two minuses in guides
Make ActiveRecord::Delegation#method_missing threadsafe
make comments fit the comment boxes (mostly) in API doc guides
1.9 hash syntax in activesupport
Rake test:uncommitted finds git directory in ancestors.
recent railties changes added to the release notes [ci skip]
update turbolinks readme link [ci skip]
1.9 Syntax related changes
Do not create useless database transaction when building `has_one` association.
Removing warning : assigned but unused variable
Keep the code related to serialization in Serialization module.
Update guides/source/rails_application_templates.md
Update guides/source/rails_application_templates.md
Trivial documentation fix for ActiveModel::Naming comment.
Use get in the redirection doc examples
update syntax and add note about prompt use of HttpHelpers [ci-skip]
Gracefully handle upgrading apps with mass assigment configs
correct link syntax [ci-skip]
change rdoc syntax for adecuate render [ci-skip]
Deprecate Hash#diff.
Remove not used load hooks for active_record_config
fix warnings
Properly deprecate ConnectionHandler#connection_pools
Further explain the CDN and caching situation.
Add note about asset pipeline and CDNs.
Removing duplication in callback normalization.
Delegate all calculations to the scope.
Store FlashHashes in the session as plain hashes rather than custom objects with unstable class names and instance variables.
CollectionProxy#pluck issues no query for a new_record? owner
Nullify the relation at a more general level.
Relations built off collection associations with an unsaved owner should be null relations
delegate PathSet's enumerator methods
Add note about squashing in contributor guide.
implement to_a and to_ary so that the Array() call in template.rb will not raise so many exceptions:
make the extremely useful logs debug level
copy the log level from the config settings
rm dead code
Clean up gemspecs
correct double quotes for interpolation in routing guide [ci_skip]
change match to get and add single quotes in routing/redirection [ci-skip]
Remove free usage of #tap
Action mailer can take an array for template_dir
1.9 hash syntax changes
fix bugs in rails_on_rack [ci-skip]
Add test to avoid regression of 58e48d5292242f000dc8a87fdbb1c0ccdcf286d8
Add CHANGELOG entry for #8108 on master too.
make syntax of select.map(&:field) same as pluck
`plugin new` adds dummy app tasks when necessary.
Actionmailer to 1.9 hash syntax
update syntax in routing guide [ci-skip]
Remove not used indifferent_access requires from Base and FinderMethods
Use cached quoted_table_name instead of going through the connection
Remove block given check from private find_with_ids
Hash Syntax to 1.9 converison
Do not strip code blocks, otherwise we may get misaligned output
stop raising so many exceptions
adding requires for constant dependencies
cleaning up constantize tests
fix warnings in Ruby 2.0
Set @permitted on new instance when slicing parameters hash
Test that permitted? is sticky on accessors, mutators, and merges
Test that not permitted is sticky on #except
Current tests are testing stickiness of non-permitted parameters
Update mocha github repo to new one
mocha_standalone is now deprecated. Switch to mocha/api.
Revert "fix white spaces"
fix white spaces
Make the tests pass with minitest 4.2
use Array() instead flatten
Remove AS::Concern extension from Testing::TaggedLogging
Minor css style improvements
Restore index link states to the way they are in current guide
Use flat_map when building AR order
Add ensure block to make sure the state is properly restored
Remove some line breaks between array items that make the assert file tests harder to read
Refactor Inflector#ordinal to avoid converting the number twice
:counter_cache option for  to support custom named counter caches. Closes #7993
routing prefix slash replacement is no longer necessary
test case to lock down the behavior of #7842
Raise ArgumentError when no attribute is given to AMo::EachValidator
Set hash value instead of using merge!
Use `tag!` instead of `method_missing` in `to_xml` conversions.
Ensure nested attributes is restored in case of a test failure
Simplify query conditions a bit in nested attributes test
Remove #permitted attr accessor from Parameters
Disallow ability to use EncryptedCookieJar with DummyKeyGenerator
Rename secret_token_key to secret_key_base
Move ensure_secret_secure to DummyKeyGenerator
Cache generated keys per KeyGenerator instance using salt + key_size
Allow users to change the default salt if they want, shouldn't be necessary
Use derived keys everywhere, http_authentication was missing it
Add encrypted cookie store
Add cookie.encrypted which returns an EncryptedCookieJar
Warn config.derive_keys will be true by default in 4.1
Sign cookies using key deriver
Check if the options value is present before to send the deprecation message
Store FlashHashes in the session as plain hashes rather than custom objects with unstable class names and instance variables.
Support :multiple option on input tags with :index
Remove old comment
Deprecate passing a string as third argument of `add_index`
Clear url helpers when reloading routes
Raise an ArgumentError when passing an invalid option to add_index
Add test to avoid regression of 1bfc5b4
copy edits [ci skip]
Revert "Updated activerecord test comments to new hash syntax"
Revert "dont encourage AC::Parameters#permit_all_parameters usage [ci skip]"
memoize calculated ip without additional variable
This is comment for singular association.
Add test to ensure data attributes are properly escaped with tag helpers
Kernel#capture replaced by version which can catch output from subprocesses
Small change to remove warning unused variable.
Make sure that RAILS_ENV is set when accessing Rails.env
1.9 hash syntax changes to docs
Revert "Don't allocate new strings in compiled attribute methods"
No need for the debugger
Allow #permit to take its list of permitted parameters as an array
Revert "if format is unknown NullMimeTypeObject is returned"
Remove extre count, preheat already happens during setup
if format is unknown NullMimeTypeObject is returned
Revert "Support `Mailer.deliver_foo(*args)` as a synonym for `Mailer.foo(*args).deliver`."
Revert "The debugger gem isn't compatible with 1.9.3-p286 yet. Omit it for now."
include_root_in_json allows inheritance.
Make caller attribute in deprecation methods optional
Remove not assigned variable warning from sqlite3 adapter test
Add test for code change introduced in this commit f20032f
Provide a call stack for deprecation warnings where needed.
Add test to deprecation of Path#children
Hash Syntax to 1.9 related changes
3.1 and up, in configuring guide.
atomicc.rb: Don't assume we may chown/chmod a file.
SQLite3Adapter#type_cast should not mutate arguments
dont encourage AC::Parameters#permit_all_parameters usage [ci skip]
ActiveRecord::Relation#none! method.
loaded relations cannot be mutated by extending!
Enable update_column(s) for the primary key attribute.
Do not render views when mail() isn't called. (NullMail refactoring)
raise `ArgumentError` when redefining the primary key column. Closes #6378
refactor `SQLite3Adapter#copy_table` to prevent primary key redefinitions. #6378
AR::AttributeMethods#[] raises AM::AttributeMissingError for missing attributes.
Don't log on pending migration check
Add syntax highlight to code blocks in javascript guide [ci skip]
Add backticks around link_to example in javascript guide [ci skip]
fix typo in button_to helper example
Changed comment section to be more explicit. I had an issue with rolling back a migration and couldn't understand why 'rake db:reset' didn't work.
Multiple changes to 1,9 hash syntax
Replace flow-control exception with explicit test.
USe the released version of sprockets-rails in a new Rails 4 application
Use the MySQL varbinary type when appropriate in migrations.
Improve the deprecation message of link_to_function and button_to_function
Add the Working with JavaScript Guides in the guides home as WIP
cleanup, remove trailing whitespace within actionpack
fix failing isolated tests
fix AM::Serializers titles [ci skip]
AM::Serializers::Xml depends on AM::Naming
Job consumer logs to Rails.logger by default
Job worker thread logs failed jobs too
Job worker thread logs to stderr if no logger is provided
Organize README
Use a better word
Decode attributes pulled from URI.parse
update AR::ImmutableRelation documentation [ci skip]
Implement replace method so key? works correctly.
remove unused config option
Remove ActiveRecord::Model entry from 4.0 Release Notes [ci skip]
Remove ActiveRecord::Model consant from AS::TestCase
Remove REE GC stats since master is 1.9.3
Remove ActiveRecord::Model
Add missing require for minitest assertions. Breaks calling 'app' in console otherwise. See 94248ffe1e6f815b8ffab4eb752b60c1e4459d25.
Update redcarpet dependency
minor edits and remove mixed titles in AM::Validations docs [ci skip]
encourage use of Ruby 1.9 syntax [ci skip]
remain backwards compatible, exception can be constructed with no arguments
give access to the original exception raised in case of a parse error
do not lose backtrace information from the raised exception
fix uninitialized ivar warnings
AJAX -> Ajax in layouts_and_rendering guide.
Revert "Improve grammar a bit"
Revert "Explain where the acronym AJAX stands for & replace "JavaScript writer" with "JavaScript developer""
Revert "Improve "request response" term typing & fix a minor typo"
Revert "fix a typo"
Revert "Consistent headlines & ToC"
With the Asset Pipeline the :cache and :concat options aren't used anymore
Update Upgrading Guide with removal of :cache and :concat options
Update upgrading notes: users should stop using :concat and :cache options in asset tags
fix a typo in comments to ActiveRecord::Associations::Association.stale_state
Adding a missing parenthesis in the doc of String#parameterize.
make the cache test more @tenderlove(ing) and not depend on internal implentation
Migration of docs to 1.9 hash syntax
JS guide: applies guides casing guidelines for titles [ci skip]
registers the JS guide in the CHANGELOG [ci skip]
JS guide: AJAX -> Ajax
renames the JS guide file name to match the new title [ci skip]
adds Rails to the title of the JS guide [ci skip]
Updated activerecord test comments to new hash syntax
Another batch of hash syntax changes to comment, this time around, I tried to keep 'output' messages untouched.
changed test case name
pass the key to the block in cache.fetch on misses
frozen state should be restored after txn is aborted
fix output messages - docs [ci skip]
Add tests to make sure that the I18n taken message can be overrided in the activerecord scope.
convert comments to 1.9 hash syntax
Changeing some code-styles of the examples & fix a typo on dependent option
read_attribute is publicÂ [ci skip]
add docs to AR::AttributeMethods::BeforeTypeCast [ci skip]
improve AR::AttributeMethods documentation [ci skip]
More changes around 1.9 hash syntax
fix error in AssertTagHelper documentation [ci skip]
fix typo and improve example [ci skip]
update AR::AttributeMethods::BeforeTypeCast docs [ci skip]
update AssetTagHelper documentation [ci skip]
Remove extra line in Gemfile under turbolinks.
fix StrongParameters example [ci skip]
Wrap a piece of code to a code block
Improve grammar
Improve grammar a bit
Explain where the acronym AJAX stands for & replace "JavaScript writer" with "JavaScript developer"
Improve "request response" term typing & fix a minor typo
Consistent headlines & ToC
fix a typo
fix a couple of typos in the js guide [ci skip]
copy edits [ci skip]
minor edits in AM documentation [ci skip]
update AR::AttributeMethods documentation [ci skip]
nodoc AR::Generators [ci skip]
Rotate the debug.log on each 100MB
check_box value can be not only an object of Array class
Revert "Get rid of the ActiveRecord::Model::DeprecationProxy thing."
Hash Syntax changes to 1.9 format
We don't need this anymore since we had a sprockets-rails release
Changed scope for "taken" error message translation to decrease precedence
Add i18n scope to disance_of_time_in_words.
Revert "truncate debug.log on each test run"
ActiveRecord Callbacks ordering examples
Get rid of the ActiveRecord::Model::DeprecationProxy thing.
truncate debug.log on each test run
Update rails gemspec to use sprockets-rails 2.0.0.rc1
Rename the partial_updates config to partial_writes
include serializers in ActiveModel::Serialization example
better examples in ActiveModel readme
nodoc the first_or_create methods and document alternatives
fix test :/
The default value of a text/blob in mysql strict mode should be nil
Add Relation#find_or_create_by and friends
Corrected the logic in production.rb comment.
remove assert_valid method from testing guide [ci skip]
synchronize on param filter cache.
add another singleton for environment filtering
oops, forgot the default parameter
keep a singleton filter around that we can use when no filter is set
move compiled filters to their own class so that recursive calls don't need to check for the length of @filters
nil isn't a valid filter
prevent people from accidentally modifying the filter word
simplify filter enabled checking
if no filters are supplied, default to an empty list
initialize required instance variables for this mixin
There is already a Set of non-hidden action_names lying around.
eagerly populate the http method loookup cache so we don't need locks
move cache inside the instance so we do not need locking
add test for fetch with a block
prefer composition over inheritence
Change 'branches' to 'branch' [ci skip]
fix assertions
Make DescendantsTracker thread safe and optimize the #descendants method.
some ruby interpreters don't have ruby-prof so just skip the tests rather than exiting the process.
add a nested attributes example into Strong Parameters documentation [ci skip]
Remove warning setting eager_load
Don't use action_controller.perform_caching to enable rack-rack.
Extend date_select helper functionality.
add credit to committer of pull request #6569
Don't use test environment by default when running rake db:structure:load; #7951
remove some non-breaking spaces [ci skip]
remove non-breaking spaces [ci skip]
active_model/validations requires necessary files to run
cleanup, replace non-breaking spaces with spaces
Now the Sprockets railtie lives in sprockets/railtie
Permit string and float values in the multiparameter  attributes
Typecast to string and array are not supported in multiparameter attributes
Change back to official sprockets-rails
Add changelog entry for precompile config
Add more CHANGELOG entries from #7927
Add CHANGELOG entry for #7927
remove unused variables.  Oops!
use columns hash to look up the column for the count field
fix Digestor to be thread safe.
use the tmp filesystem rather than our own thing.
Revert "Change with start of translation in internationalization, this time with pt_br."
Revert "divided into folder with the language"
divided into folder with the language
Change with start of translation in internationalization, this time with pt_br.
Only compile non-js/css under app/assets by default
Call super to nullify the reference to the original errors object in the dup'ed object (call ActiveModel::Validations#initialize_dup). Closes #7291
redcarpet gem will not work with JRuby!
Revert "remove unnecessary object/conversions file"
Adding reference a few Time and Date aliases
Moving code base to 1.9 hash syntax
Switch to new sprockets-rails plugin
Move changelog entry from #7439 to the top [ci skip]
ActiveRecord: sum expression returns string '0' for no records, fixed
use `setup` for setting up the test
Ignore asset url query string or anchor when appending extensions and computing public path
avoid extra string objects in the inner join case
buckets hash isn't public, so use symbol keys to avoid string allocations
Move two hotspots to use Hash[] rather than Hash#dup
Use sprockets-rails master
Extract compute_asset_extname and allow extname to be disabled
Sprockets-rails branch
Use sprockets-rails branch for now
Remove old asset_path from rails config
:fire: Rails asset id support
merge! default asset tag options
Just check request instead of controller.request
ruby-prof isn't compatible with ruby trunk after 36925
Removed useless "extend SanitizeHelper::ClassMethods"
Minor cleanup, helper method was only used once
fix link bug in contributing page
Working With JavaScript guide.
Hash syntax to 1.9 style
refactoring of uniqueness validate_each
The debugger gem isn't compatible with 1.9.3-p286 yet. Omit it for now.
Use Ruby 1.9 Hash syntax in railties
remove 'then' from conditional statement
#7914 Remove code for unsupported postgreSQL version.
#7914 Using a better way to get the defaults from db.
#7914 Add change of previous commit to CHANGELOG.md
#7914 get default value when type uses schema name PostgreSQL adapter properly parses default values when using multiple schemas and domains.
Update guides/source/contributing_to_ruby_on_rails.md
Replace double quotes with single quotes
Test that a Rails.queue consumer is automatically started in production
1.9 hash syntax changes
Allow asset url config to be undefined
Add a few more compute_asset_path tests
Backpedal from class-oriented config.queue. Set an actual queue instance.
Tighten up asset precompile tests
Remove the queue container. Premature consolidation. Set up and maintain queues in the classes that use them instead.
performance improvements to joins!
Speed up relation merging by reducing calls to Array#-
more roflscaling strings in the visitor
adding some roflscale to the sql visitor
Prompt to run rake when accidentally typed rails
All asset url helpers should pass options
JAVASCRIPTS_DIR, STYLESHEETS_DIR, ASSETS_DIR don't even exist anymore
Ensure AssetUrlHelper can be mixed into AC::Base
Refactor AssetUrlHelper to make it friendly for plugins and extensions
trailling whitespace cleanup in query_methods.rb
Add asset_path and asset_url helpers
Split asset url helpers into seperate AssetUrlHelper
ActiveSupport::SynchronousQueue doesn't have the drain method.
Move the TestQueue tests to the proper file
Add .rake to `rake notes` and `rake notes:custom`
learn ActiveRecord::QueryMethods#order work with hash arguments
Immediately run queued jobs in tests. Otherwise you have to explicitly drain the queue to actually deliver your emails.
warning removed: shadowing outer local variable - value
Don't allocate new strings in compiled attribute methods
specify path to CommentsController again inline
Revert "Key the attributes hash with symbols"
Cleanup trailing whitespaces
update AC::Parameters#permit documentation [ci skip]
When executing permit with just a key that points to a hash, DO NOT allow all the hash
adding a test for b21f24d9807bd161af947cf0f0cc440c9adffb73
1.9 hash syntax changes.
Padding expires_in by 5 minutes on dalli key write to facilitate :race_condition_ttl working correctly.
Allow for deep directory path for view templates.
1.9 hash syntax for guides, work-in-progress
refactor `ActionView::TestCase` internals to track rendered locals
recognizes when a partial was rendered twice. Closes #3675
No need to test for rack-cache present in Gemfile
Eager autoload Preloader classes
Upgrade to a jquery-rails that doesn't expect config.action_view.javascript_expansions to exist
Expand caveat about models in migrations (rails guide)
fix github url [ci skip]
copy edits  [ci skip]
copy-edit the email delivery errors comment
Ensure expires_in and created_at timestamps aren't nil when attempting to upgrade cache
Add changelog entry for killing the asset tag concatenation
Remove expansion config
Added clarity to update_column(s)
Remove old asset tag concatenation
Offer instructions for pg gem when installed via Homebrew
migrating guides to new hash syntax
Use a 1.9 Hash syntax in README files (fixes thanks to @vijaydev)
Add missing CHANGELOG related to addition of callbacks to mailers.
Revert "Add changelog/release note entries for missing ActionMailer super feature related to inclusion of callbacks in mailers"
Add changelog/release note entries for missing ActionMailer super feature related to inclusion of callbacks in mailers
gradually moving documentation to new hash syntax
warning fixed: ambiguous first argument; put parentheses or even spaces
fix typo in "The Rails Initialization Process"
Update test locations
moving to new hash syntax, for discussion before I take the time on full folders
let (array|hash)/conversions.rb load the extensions in object/to_(param|query).rb
remove duplicated require statements in AR test cases
adds a missing require
Add missing entry in CHANGELOG about config.assets.cache change
Remove duplicated test
Minor test refactoring: Use add_to_env instead of an initializer
adds missing require
copy-edits ae9b3d7 [ci skip]
Rails.config doesn't exist, it should be Rails.application.config instead
AS guide: revises the description of #monday, and #sunday [ci skip]
keys.include? -> key?
Remove duplicate 'the' article in commented line
remove unused `expand_range_bind_variables` method
updating i18n guide with locale config location.
Closed unclosed <tt>, working on a complete solution for docrails, but testing push process first
There is already an invitation to use rack-cache in config/environments/production.rb
Moving locale stuff from app.rb to an initializer.
Cleanup comments a bit and fuck 80 characters
Inline comment
Encoding already defaults to utf-8 per lib/rails/application/configuration.rb:23
Everyone is running bundler, no need for defensive programming shit
Not precompiling your assets for production is a bad idea -- do not encourage it
Should use app.paths instead of specific path.
Correct and clarify `--full` and `--mountable` options to `rails plugin new`
add more testcases and doc about Hash#extract!
make Hash#extract! more symmetric with Hash#slice
update Rails::Generators docs [ci skip]
nodoc JS::Generators [ci skip]
nodoc Erb::Generators [ci skip]
nodoc CSS::Generators [ci skip]
Move/rename files to follow naming conventions
nodoc TestUnit::Generators [ci skip]
Update actionmailer with new hash syntax.
explains why these requires are in an unusual place
adds a CHANGELOG for guides and registers the new responsive design
Gotta log each spacer line separately to ensure each is tagged
Tag the blank log line between dev requests so it's easier to filter out entire requests with grep -v without leaving a stray newline behind. Example:
Remove unneeded attr_reader
Ruby 2 compat. CGI.escapeHTML has changed the way it escapes apostrophes a few times, so fix up the test to work with however it chooses to escape.
Ruby 2 compat. Hash[] now raises on bad elements rather than ignoring them. No sense over-testing this MRI-specific behavior. See ruby/ruby@8d6add973ebcb3b4c1efbfaf07786550a3e219af
More Ruby 1.9 hash syntax.
We don't need to check blank? here.
Update some code styles.
Remove unneeded require
Move multiparameter attributes related tests to its own file
Accept :remote as symbol in link_to options
Update railties/lib/rails/generators/rails/app/templates/config/environments/production.rb.tt
[Guides] Format content for small devices
[Guides] Navigation styling for small devices
Update guides/source/action_mailer_basics.md
can't pass :locals to #assert_template without a view test case. Closes #3415
rename private method to avoid overriding
We don't need the each call since grep take a block and yield each match to the block.
use Rails backtrace in tests
bump minitest version ~> 4.1.0
add AC::Parameters#permit_all_parameters config option [ci skip]
remove old AR Mass Assignment config optionsÂ [ci skip]
delete removed page cache options [ci skip]
use default_static_extension instead of page_cache_extension deprecated option [ci skip]
update caching with rails guide to reflect action and page extraction [ci skip]
Allow parameter filters to match multi-parameter attributes
fix Example: Rename tools/profile_requires -> tools/profile
Revert "Use flat_map { } instead of map {}.flatten"
Use flat_map { } instead of map {}.flatten
Add CollectionAssociation#destroy to ActiveRecord::Association::ClassMethods code docs
PostgreSQL, quote table names when fetching the primary key. Closes #5920
Add CollectionAssociation#destroy to association guide
Update CHANGELOG entry about rack-cache extract
Comment rack-cache entry on Gemfile
config.action_dispatch.rack_cache should set explicitly to enable Rack::Cache
Use String#exclude? to make sure that Active Support is not loaded when bare is true.
Remove action cache related tests
Strip heredoc to not generate the Gemfile with trailing spaces
Add turbolinks as development dependency
Remove unneeded CHANGELOG entry.
ActionController::Parameters#permit! is recursive
Do not set removed option
Turn turbolinks on by default for new apps
Update activerecord/lib/active_record/persistence.rb
add an entry about AP page and action extraction in the upgrading guide [ci skip]
add CHANGELOG entry for AP page and action caching extraction [ci skip]
Add nodoc to now public fragment_name_with_digest
Count returns 0 without querying if parent is not saved
rename page_cache_extension option to default_static_extension
extract AP Page and Action caching to actionpack-deprecated_caching gem
Refactor
Use the `flat_map` method.
Don't use tap in this case.
Make `.validators_on` accept `:kind` option
Make Rails.public_path return a Pathname
fix warning: method redefined
Add command before bash output
add command line $ tip for new programmers
improve wording over `change` method docs
instructions for running migrations in another ENV
Add /rails/info/routes method to getting_started
explain how to check if the server has returned on *nix systems in getting_started guide
Explain that command line commands have $
change `#` to `$` in bash section
Space between "every" and "time"
remove unnecessary object/conversions file
Failsafe exception returns text/plain.
Add the CHANGELOG entry that Guillermo forgot :P
Add rack-cache to default Gemfile
Use Rack::Cache middleware only if is in Gemfile
New CHANGELOG entries always in the top
use <url> markdown syntax instead of [url](url) [ci skip]
prefix TemplateAssertions ivars (#7459)
resource and resources do no longer modify passed options
warning fixed: (...) interpreted as grouped expression
remove non sequitur NOTE on :include
fix broken cache tests
fix cache store test
Provide access to the application's KeyGenerator
fix example in Migration docs [ci skip]
Add ActiveSupport::KeyGenerator as a simple wrapper around PBKDF2
add change_table transformation to Migration docsÂ [ci skip]
Add a changelog entry for asset aliasing update in sprockets-rails. Supports referencing foo.js as foo/index.js and vice versa.
fix order of assertions.
Optimize log subscribers to check if the log level is sufficient before performing an operations.
updates latest Rails version number
Optimize ActiveSupport::Cache::Entry to reduce memory and processing overhead.
Make strong_parameters example simpler
Whitespaces :scissors: [ci skip]
`assert_template` no more passing with what ever string that matches.
small refactoring of build_relation in uniqueness
Update minitest dependency to ~> 4.0
Changed test names to match proper context
Assets cache shouldn't be shared between different environments
Change query pattern case insensitive because Oracle adapter uses upper case attribute/column name.
revise commandline guide [ci skip]
copy editing [ci skip]
Revert "add documentation to generated routes"
Add missing CHANGELOG entry removed by mistake at 7f3b475 [ci skip]
Add an explicit test for hot compatibility
Support for partial inserts.
Add #update_columns entry to AR Changelog.
Support `Mailer.deliver_foo(*args)` as a synonym for `Mailer.foo(*args).deliver`.
move metal/caching_test into controller/caching_test
remove method redefinition warnings
Is not needed to wrap name inside an array here
Improve documentation for subscribe block
Change key not found to param not found
Add #update_columns entry in Rails 4.0 release notes [ci skip]
bleakhouse is no longer useful for rails and outdated.
typo fix: remove duplicate period
Move the CacheHelper#fragment_name_with_digest to be public so custom fragment caching can benefit from it.
Removing dead code. attribute_cast_code is not called.
ConstantLookup is not needed in every TestCase decendant
Also includes ConstantLookup dependency for controller and mailer tests
Adds missing dependency to ActionView::TestCase::Behavior
Tune up Rails::Rack::Logger. Only put space between requests in development logs.
Tests tag the Rails log with the current test class and test case
Allow wrapping a logger that hasn't set a formatter. Default to our SimpleFormatter. Otherwise we try extending nil with the tagging API.
Add logger.push_tags and .pop_tags to complement logger.tagged
Remove readonly notice.
Log newlines separately to ensure the 'Started GET ...' line has a tag on the same line
fixing most tests on Ruby 2.0
Revert "Use plaform mri_19 for debugger gem"
Add missing inflector dependency
Use plaform mri_19 for debugger gem
Skip tests for non-supported isolation levels
update image_tag output in examples to actual
change ^ and $ anchors in regexp to \A and \z respectively
allow to pass numerical value to size option in image_tag
Update guides/source/routing.md
Skip tests for non-supported isolation levels with Oracle
add documentation to generated routes
depreacte unused Mime::Type#verify_request? and Mime::Type.browser_generated_types
remove misleading comment in Rakefile
some copy-editing I did in passing
gives credit to Aaron in the CHANGELOG entry for AC::Live
Register AD::IntegrationTest for minitest's spec DSL
Support helper tests using spec DSL
remove duplication
update Security guide to reflect mass assignment protection with StrongParameters [ci skip]
Only apply log tags if the logger supports it
Register helper and view tests for minitest's spec DSL
Support mailer tests using spec DSL
add a note about DynamicForm in error_messages_for section [ci skip]
Register mailer tests for minitest's spec DSL
Add register_spec_type test coverage
Allow strings in the controller test describe blocks
Support controller tests using spec DSL - fixes #7743
Create ActiveSupport::Testing::ConstantLookup
String.to_time documentation along examples.
make clear that expired db/schema_cache.dump are ignored
adds the release notes for Rails 4.0 to the guides index
Remove of an extra line in template configuration file.
[ci skip] Update Performance Testing guide.
Add CHANGELOG entry and update the guide
Switch to using include? on validation callbacks
Update test to match new non-sorting of attributes.
Removed sorting of attribute names in controller generator.
Removed duplicate line describing "default_options". [ci skip]
update AC::ConditionalGet documentation [ci skip]
update AC::Caching documentation [ci skip]
[ci skip] Update Debugging Rails Application guide.
remove added indentation from the last commit [ci skip]
update AR::Validations documentation [ci skip]
fixes the suite for uploaded files
to_sql: add support for emitting SQL subqueries
documents ActionDispatch::Http::UploadedFile
Put the new CHANGELOG entries always in the top [ci skip]
Accept parameters in methods delegated to tempfile
active support core extensions guides updated with config.beginning_of_week info
nodoc AR::Railtie [ci skip]
remove AC::Parameters reference [ci skip]
update AR::Scoping documentation [ci skip]
fix AR::Coders::YAMLColumn nodoc [ci skip]
update AR/attribute_methods documentation [ci skip]
Better docs for overriding inheretance column
fix AR::AttributeMethods::Dirty :nodoc: [ci skip]
fix AR::Associations::CollectionProxy#delete broken documentation [ci skip]
Update asset test to match one in sprockets-rails
update AR::Associations::CollectionProxy#loaded? documentation [ci skip]
fix typos in AC::StrongParameters documentation [ci skip]
Use debugger gem if we are not Travis and Ruby < 2.0
Add debugger to mri:test section of the Gemfile
start could be a string
Raise the same exception the code is handling
Remove .rb from require sentences
add note about AR#include_root_in_json default in Upgrading Rails guide [ci skip]
Revert "update ActionMailer::Base documentation [ci skip]"
Style: remove hash noise
Correct default charset/collation for mysql dbs
Update action_mailer_basics.md to ruby 1.9 syntax. [ci skip]
Use default charset/collation only if *neither* is specified. Otherwise we set utf8_unicode_ci collation on latin1 table.
some edits in 4.0 release notes [ci skip]
Update examples in action_controller_overview.md to ruby 1.9 syntax. [ci skip]
fix some md syntax errors and general revisions [ci skip]
Update examples in AS::Concern to use correct scope syntax. [ci skip]
remove nodoc [ci skip]
Updated description of what engines are used for
Make the serializable test much looser
Support for specifying transaction isolation level
GH-138: add Arel::SelectManager#projections method
Add extra note about :dependent => :destroy.
GH-139: some aggregations lacked DISTINCT emission
Update CHANGELOG.md
Get rid of global variable in AR transactions test
correct a typo
Add  missing "m" char
fix two typos in the associations guide
fix a small typo
Update delegate docs with new hash syntax [ci skip]
Add changelog entry and docs about class delegation using the symbol :class
remove unnecessary entry and make minor edits to AR/CHANGELOG [ci skip]
rename AR::Model::Tag to AR::Tag - fixes #7714
add :nodoc: to AMo::DeprecatedMassAssignmentSecurity::ClassMethods [ci skip]
change AMo::ForbiddenAttributesProtection#sanitize_for_mass_assignment to protected
update AMo::ForbiddenAttributesError documentation [ci skip]
fix typos and improve AC::StrongParameters documentation [ci skip]
add :nodoc: directives to AMo::DeprecatedMassAssignmentSecurity [ci skip]
Remove the environment variables in the Gemfile
Freeze columns only once per Result
Delegate ActionDispatch::Http::UploadedFile#close to tempfile
Freeze columns just before using them as hash keys
update AC::StrongParameters documentation
define permitted? method instead of use an alias to fix rdoc
update AC::Parameters documentation [ci skip]
update AC::ParameterMissing documentation [ci skip]
update AR::AttributeAssignment documentation [ci skip]
update AC::ParamsWrapper documentation [ci skip]
AR::Base#attributes= is just an alias for AR::Base#assign_attributes
Allow to use a local copy of sprockets-rails during development
Remove highly uncommon `config.assets.manifest` option for moving the manifest path.
Optimize log subscribers to check if the log level is sufficient before performing an operations.
Update changelogs to add entries about strong_parameters integration
extracts manual development dependencies installation to a new non-promoted guide
Load the environment after creating the database
Revert "Make sure :environment task is executed before db:schema:load or db:structure:load
"
Set AC::Parameters.permit_all_parameters explicitly to false when config.action_controller.permit_all_parameters is not present
Improve the CHANGELOG entry for #6971
fix querying with an empty hash
Since in sprockets-rails uglifier's version doesn't matter do the same in rails
Use last version of sprockets-rails and syncing tests for assets.
Remove unused private method AR::NestedAttributes#unassignable_keys and reference to mass_assignment options
fix :nodoc:s in AR::Timestamp [ci skip]
fix Hash#slice code example [ci skip]
Update AR::Base.create and AR:Base#update_attributes docs to remove references to mass assignment options
Update docs for AR::Base#new to remove references to mass_assignment_options
Correct parameter access.
In development and test we drain the jobs in the same thread.
No need to defensively work jobs in another thread
fix shadowing outer local variable warning
let .md be the only supported extension for guides
Update 3.0 -> 3.1 session information.
add some kindness
Stronger wording in Contributing file
the contributing guide should be mentioned upfront
Date.beginning_of_week thread local and beginning_of_week application config option added (default is Monday)
Remove 'assigned but unused variable' warning
spurious space I saw in passing
ActiveRecord -> Active Record
added a visitor for Set objects
copy edits 137e5d9
Add extra documentation for password_field
Expanded note about poly associations.
update ActionMailer documentation [ci skip]
show love to contributors
fix rdoc task for Action Mailer documentation
Change #id generation rule
No more Textile guide generation support
Convert legacy release notes to Markdown
Move all the legacy guides to Markdown
Update Guides Guideline for Markdown
Retain heading styles in the page chapters list
Make sure that styles in NOTE block got converted
Convert image tags to Markdown syntax
Convert all tables to Markdown syntax
Convert all the links into Markdown format
Convert all inline codes to Markdown syntax
Enable table
change shell to bash
Convert inline code tags to Markdown
Convert heading tags and heading section
Convert code blocks into GFM style
Update Markdown renderer to be more flexible
Rename the rest of the guides to Markdown
Skip kindle's readme file on generation
Reuse parent's id if it's already exists
4.0 release note now renders correctly with index
Start rewriting 4.0 release note into Markdown
Rename 4.0 release note into Markdown
Add note about inheretance and poly associations.
Roll contrib guide link into feature request guidance
removes spurious quote
edits a little bit CONTRIBUTING.md [ci skip]
update ActionMailer::Base documentation [ci skip]
Improve CONTRIBUTING.md
Oops, rdoc -> markdown.
GitHub isn't rendering Markdown for CONTRIBUTING.md. Rely on autolinked URL instead.
Point to the contributing-to-Rails guide
cleanup, remove whitespace from CHANGELOG
log 404 status when ActiveRecord::RecordNotFound was raised (#7646)
removes unnecessary self
revises the RDoc of AC::Base.without_modules
documents the request and response methods in AC::Base
revises RDoc in AC::Metal [ci skip]
removes unnecessary self
Rename .rb template handler to .ruby to avoid conflicts with mustache views classes
allowing pass couple extension to register_template_handler call
Use the CHANGELOG convention [ci skip]
Remove unncessary code.
Use synchronous queue by default. Separate queued message delivery jobs from the queued message wrappers so the queue itself needn't be marshaled (due to queue reference QueuedMessage).
Always run jobs using a consumer, even in synchronous & test queues, to ensure shared behavior.
update code examples to 1.9 hash syntax in the AR/README [ci skip]
update AS docs [ci skip]
fix AS::OrderedOptions documentation [ci skip]
Set primary key with id= only if primary key exists
Remove mass_assignment_options from ActiveRecord
AC::ParameterMissing inherits from KeyError since it's more appropiated than IndexError
attr_accessible and attr_protected raise an exception pointing to use plugin or new protection model
Support fields_for attributes, which may have numeric symbols as hash keys
Add config.action_controller.permit_all_attributes to bypass StrongParameters protection
Change tainted/untainted wording to permitted/forbidden
Don't use assert_nothing_raised when assert_equal is used
Change scaffold_generator: Don't use #require or #permit in scaffold if attributes list isn't given
Rename ForbiddenAttributes exception to ForbiddenAttributesError
config.activerecord.whitelist_attributes isn't used anymore, remove reference from abstract_unit
Remove configuration test for config.activerecord.whitelist_attributes
Remove attributes whitelist tests from AppGenerator tests
Change scaffold_controller to generate and use private method to encapsulate permissible params
require abstract_unit in parameters tests
Remove integration between attr_accessible/protected and AC::Metal::ParamsWrapper
Remove all references to attr_accessible/protected and old mass_assignment_sanitizers
Change AMo::ForbiddenAttributesProtection tests to use a subclass of Hash instead of monkey patch permitted? method in regular hashes
Add tests for ForbiddenAttributesProtection in ActiveRecord
Remove mass assignment security from ActiveRecord
Remove MassAssignmentSecurity from ActiveModel
Integrate ActiveModel::ForbiddenAttributesProtection from StrongParameters gem
Integrate ActionController::Parameters from StrongParameters gem
Add missing entries in AP changelog
improve AR/CHANGELOG [ci skip]
Remove debug code :bomb:
Don't preserve SELECT columns on COUNT
set up config_accessor with a default value by block
Update "Getting Started" guide
Don't explain except normal CRUD sql.
Doc typo: depenent -> dependent; trailing ws.
Clarify the documentation on the Rails::Application#call method
Check if etag exists before to do the gsub
fix the build
Query for sequence info also should be markd as SCHEMA.
Query for loading index info should be marked as SCHEMA.
Improve Process::Status#to_json
Support for multiple etags in an If-None-Match header
simplify rescue
Few more warnings removed.
Improve documentation about :dependent and callbacks.
update AS/values and AS/xml_mini docs [ci skip]
update AS/notifications and AS/testing docs [ci skip]
update AS/log_subscriber and AS/multibyte docs [ci skip]
update AS/json docs [ci skip]
update AS/inflector docs [ci skip]
update AS/deprecation docs [ci skip]
add :nodoc: to AS::Autoload#extended [ci skip]
Deprecate ActiveSupport::Benchmarkable#silence.
Ensure disconnecting or reconnecting resets the transaction state
Remove our use of #outside_transaction?
Remove the transaction_open variable
Move transaction joinability into the transaction object
Alter the naming structure a bit
Split Open into Real and Savepoint
DRY
Don't do the rollback in #commit
Store the transaction number in the transaction object
Start to tease out transaction handling into a state machine
Revert "create a transaction object and point AR objects at that object during a"
Move queue classes to ActiveSupport
update CHANGELOG
Moves column dump specific code to a module included in AbstractAdapter
use presence method instead of checking for blank
warning removed: shadowing outer local variable - message
Build fix for ActionMailer
Freeze columns before using them as hash keys
Allow passing block to deep_merge and deep_merge!
Remove redundant 'the'.
Copy-edit deprecation relared documentation [ci skip]
refactor store_accessor
Implement :null_session CSRF protection method
Change ActiveSupport::Deprecation to class.
extend ActiveSupport::Deprecation with self, allow other objects to extend/include it also.
update ConnectionAdaptar::Column#type_cast_code to be compatible with 3.2 branch
change app/plugin generators to be more SCM agnostic
fix AS/core_ext examples [ci skip]
update AS/core_ext docs [ci skip]
Pass in the model class rather than engine
Refactor to remove some duplication
Update documentation for CollectionProxy
Remove the queue configuration from the environments templates since the default is the SynchronousQueue.
Updating the documentation to ActionMailer::Base.queue
update some AS code examples to 1.9 hash syntax [ci skip]
Define a SynchronousQueue for test in Action Pack.
Allow users to configure the queue for the mailers
Update action_controller_overview.textile to ruby 1.9 syntax [ci skip]
Use the SynchronousQueue as default in production and development.
Added additional comments on how to use the "type" column without single-table inheritance by overriding it in your ActiveRecord Model.
remove '.rb' from require call
warning removed.
fixed support for DATABASE_URL for rake db tasks - added tests to confirm establish_connection uses DATABASE_URL and   Rails.env correctly even when no arguments are passed in. - updated rake db tasks to support DATABASE_URL, and added tests to   confirm correct behavior for these rake tasks.  (Removed   establish_connection call from some tasks since in those cases   the :environment task already made sure the function would be called) - updated Resolver so that when it resolves the database url, it   removes hash values with empty strings from the config spec (e.g.   to support connection to postgresql when no username is specified).
Nice and easy delegation to the class
Action Mailer async flag is true by default using a Synchronous impl
More concise flash output
Accept belongs_to assoc. keys in ActiveRecord queries
Use configuration['encoding'], because database configuration use not charset but encoding.
Use native mysqldump command for 'rake db:structure:dump'.
ConnectionPool, unify exceptions, ConnectionTimeoutError
Add .rb template handler
Rake assets:precompile shouldn't fail quietly. We should show to user original issue if rake task will be aborted.
Support MySQL SSL in rails dbconsole.
Revert "Changelog entry for PR #7560"
Changelog entry for PR #7560
Remove expired comment. This method is used from other place.
fix punctuation in Getting Started prologue [ci skip]
Improve exception message for HasManyThroughAssociationPolymorphicSourceError
&#39 dates back to SGML when &#x27 was introduced in HTML 4.0
indent fix [ci skip]
minor fixes and edits [ci skip]
Use internal instance variable naming scheme for mounted URL helper proxies
removed warning: shadowing outer local variable
Raise MissingAttributeError on query methods
set default_headers to nil after use it to avoid order dependent tests
add :nodoc: to AR::Store::IndifferentCoder [ci skip]
add note about using block form of unscoped in AR Querying guide [ci skip]
improve AR CHANGELOG [ci skip]
Tidy up excerpt separator logic a bit
Improve latest AR and AP changelog entries
Refactor some date helpers to use merge!
Refactor nested attributes limit logic to lookup :limit option only once
Add a separation option for the excerpt function
Add integration tests for reset_session in cookie store
Add test for clear in ActionDispatch::Request::Session
Dump schema using new style hash
Add changelog entry for #7545: map interval with precision to string
Minor refactor in ActiveRecord#initialize_dup
create a transaction object and point AR objects at that object during a transaction.
Improve error message for memcache session store when dalli isn't loaded in app
default scope should return an ActiveRecord::Relation [ci skip]
Bump builder dependencies in Active Model and Action Pack
Update Active Model xml serialization test to reflect a change in builder
How to use default_scope as a class method
Use merge! to merge additional options onto default options
Remove 3.2.x entries from Active Record changelog [ci skip]
Add Changelog entry for #4976: fix eager load associations without pks [ci skip]
Add Changelog entry for #7560: deprecate #filter in AS::Callbacks [ci skip]
AS::Callbacks: deprecate monkey patch of object callbacks
Added forgotten :message option to ActiveModel validates documentation
extended example
fix tests on Ruby 2.0.0
Dalli doesn't support autoloading of unloaded classes
Use dalli 2.2.1 or prior to fix failing tests in memcache session store
More fixes for action pack tests with Dalli.
Let's run action pack tests with Dalli
Added information about dynamic delivery options to action mailer guides
Update Active Record CHANGELOG for #7419
Dynamic Delivery Method Options
fix bad changelog example
add mini-validator on creating migration
postgres, map scaled intervals to string datatype (#7518)
Redirect block with arity of 1 is deprecated.
we already have the module objects, do not constantize
restores awesome comment
no more const_missing combinatorics
Put the create_table block in a transaction.
ActiveRecord support to PostgreSQL 9.2 JSON type
Doc: sweepers only work on Active Record Models
Add CHANGELOG entry for #7532 [ci skip]
Define just the cattr_reader.
Use the same logger that ActionView::Base for the Digestor
Use the 'mysql' binary for 'rake db:structure:load'.
correctly flag changed attributes in AR::Store, combine multiple calls to store_accessor
Add giant belongs_to 'please don't pluralize me' note
Remove unneeded requires
Update changelog with time column type casting fix
Modularize postgresql adapter
Extend HashWithIndifferentAccess#update to take an optional block
Refactor `Mime::Type`
We dont need to include the name and the format in the digest -- source is authoritative enough
Allow delivery method options to be set per mail instance
update caching guide: stale? can also figure out last_modified on its own
revised the exception message "Expected #{file_path} to define #{qualified_name}"
Update caching guide: memcache-client was replaced with dalli
test cleanup, remove ruby_type because it's no longer needed
rewrite inheritance tests with a custom inheritance_column
Make enhanced routing Concerns more tell-don't-ask
Allow routing concerns to accept a callable
set the configured #inheritance_column on #become (#7503)
Add section about tagged logging
Underscore in _attr_readonly method name is back (Upgrading RoR guide) [ci skip]
Force reloading of the session after destroy
Override rack's destroy_session in cookie store
Assign a new session_id to session options hash
copy edits [ci skip]
require bundle in the app generator
Revert "added .DS_Store to .gitignore"
Remove unneeded require
Sprockets-rails tests fail
reverting changes from commit b0896c38
Properly reset the session on reset_session
Require bundler 1.2
Don't use Gemfile in test application in railties
Use Bundler.with_clean_env instead of custom code
Revert "Revert changes related to `bundle install` fixes in `rails new`"
Avoid #fetch for non-nil values.
Key the attributes hash with symbols
Cache the connection pool for a given class
One hash is enough
Refactor connection handler
Make connection pool retrieval faster
Revert "Add missing require"
there is no "delete" action in a controller
In example about params naming conventions use params[:person]  [ci skip]
Instrumentation requires RackDelegation
in section 4.1 acts_as_yaffle_test was incorrectly failing due to assertion incorrectly using symbol instead of string
added .DS_Store to .gitignore
Added example of using options_for_select() with select_tag()
Removed spaces between name and asterisks in example CHANGELOG entry [ci skip]
Further improve RENDER_DEPENDENCY regexp comments
Improve RENDER_DEPENDENCY regexp comment to keep the doc editor happy.
`Digestor` can now parse old style hash syntax for `render`
`Digestor` ignores most whitespace when parsing `render` invocations
documents after_(commit|rollback)
Expand documentation for change() method in Time, Date, and DateTime
Revert "Grammar"
Grammar
Use class_attribute so we dont bleed
Update actionpack/lib/action_dispatch/routing/mapper.rb
Added controller-level etag additions that will be part of the action etag computation *Jeremy Kemper/DHH*
Add automatic template digests to all CacheHelper#cache calls (originally spiked in the cache_digests plugin) *DHH*
added a touch more information to the apache configuration instructions
fixes a regexp
Added missing require. When performing rake test:isolated, test/base_test.rb was break.
Add a test to make sure preloading properly merges association and default scope conditions
CHANGELOGs are now per branch
detect circular constant autoloading
Remove unused require.
refactor route_set `generate_extras` functionality
Add Missing Keys from Journey on failed URL format
fixes a bug in dependencies.rb
removed :  warning: `*' interpreted as argument prefix
Add missing require
Change generators controller help from singular to plural example.
Update AP's CHANGELOG with user facing changes
Deprecate AV::RecordIdentifier in controllers
No need to use included hook for include
Deprecate Template#mime_type
Add deprecation horizon to html-scanner
Implement ActionView::Template::Types
Don't require action_dispatch in ActionView::UrlHelpers
Use ActionView::Base.logger instead of AC::Base.logger
Add ActionView::Base.default_formats
Remove Mime::Type translations from Action View
Deprecate mime types lookup in auto_discovery_link_tag
Remove comment about getting rid of old AV::Base.new behavior
Remove stubs from LogSubscriber tests
Move action_controller/vendor/html-scanner to action_view
Deprecate ActionController::RecordIdentifier
Add ActionView::ModelNaming
Move ActionController::RecordIdentifier to ActionView
Remove dependency on actionpack in ActionView::AssetPaths
Added clairifications for default security headers.
Make ActionDispatch::ParamsParser::ParseError#original_exception return the original exception.
ensures that the test repairs the validation setup
fix order dependent test in AR::BasicsTest
default headers init
Update guides/source/rails_application_templates.textile
Minor update for usage of git command
More fixes for action pack tests with Dalli.
Let's run action pack tests with Dalli
fix order dependent test in AggregationsTest
Remove unused variable
Add test to ensure that save will raise SerializationTypeMismatch if the serialized attribute value is not from the same class
We don't need this reload
Use the Topic class in the attribute serialized tests
Use teardown hook to return the initial state of the object
Move the serialized attribute tests to their own file
Move test to the correct file
Remove some entries from the 4.0 release notes
Remove CHANGELOG entry for the update_attribute removal.
Use verify_readonly_attribute in the update_columns method
Revert "Remove private verify readonly attr method"
Revert "Remove update_attribute."
Create variable only in the test that uses it
changelog #7449
allow to pass Symbol or Proc into :limit option of #accepts_nested_attributes_for
correct handling of date selects when using both disabled and discard options
Guide: improvements to "The Flash" section.
simplifies yet another regexp
instead of returning $& if =~ succeeds, use String#[]
simplifies a regexp
use Hash#fetch to eliminate conditional
call methods on AR::Model after ClassMethods module is defined
Raise more helpful error message on missing gem
Remove meta Sesion Migration generator
Update guide/release note about AR::SessionStore
Extract ActiveRecord::SessionStore from Rails
Accept a symbol for `:in` option on inclusion and exclusion validators
Raise generic ParseError exception when ActionDispatch::ParamsParser fails parsing request params.
Add exception handling to rake guides:validate
simplifies a regexp
ivar will always be defined, so stop checking
mysql does not build on Ruby 2.0.0 at the moment
Model.select takes a variable list of arguments.
Update the documentation for the :autosave option
Revert "Use join without default separator"
Update the ducumentation about the before_eager_load callback [ci skip]
before_eager_load only runs when eager_load is true
skip the memcache tests if the memcache server is not up
revises a brittle test in Active Support
edit secret token template comment [ci skip]
copy edit the time_ago_in_words helper docs
remind user a good way to generate a secret code.
giving a pause usually made for e.g. in sentences [ci skip]
Add CHANGELOG entry for #3578 [ci skip]
Remove app building setup/teardown for remote ip railtie tests
Set eager load option in "make_basic_app" for railties tests
Clarify and correct the description for the --full option of the plugin_new generator
Use a model without counter cache to test read-only attributes
add Rack::Lock for webrick
Deprecate config.threadsafe!
Get rid of config.preload_frameworks in favor of config.eager_load_namespaces
Make ActiveSupport::Autoload local
Remove allow_concurrency as a flag
Allow users to choose when to eager_load the application or not.
reset_counters() was crashing when there were multiple belongs_to associations with the same foreign key.
Add CHANGELOG entry for #7410
option_tags coerced to "" instead of nil
Refactor AR::Result or inherits. Because we have redundant codes about
Rename to test_mysql_strict_mode_disabled_dont_override_global_sql_mode
Use instance_accessor: false instead of instance_writer.
Add CHANGELOG entry for #6986
Round usec when writing timestamp attribute.
Minor refactoring in Active Record model schema methods
removing dead code
define singleton methods rather than adding and removing methods
remove dead code
initialize instance variables for transactions to remove conditionals
This method is useless without a block, so remove test
remove unused variable
initialize instance variables to avoid conditionals
fix whitespace errors
Revert "removes unused optional argument in AS::Dependencies::Loadable#load"
removes unused optional argument in AS::Dependencies::Loadable#load
Revert "association_basics, updated how inverse_of works"
fix punctuation in config templates
Make sure :via works with mount
Extended documentation for `time_ago_in_words` helper
Access @rs only through attr_accessor
association_basics, updated how inverse_of works
use template0 option for creating activerecord test databases in postgres build_database task
removes the second argument of the AS const_missing hook
Remove private verify readonly attr method
no need for AS::Dependencies.(hook!|unhook!) to return anything in particular
Update manifest
Add equality to ALL THE THINGS (that matter)
Added X-Content-Type-Options to the header defaults.
Use inversed parent for first and last child of has_many association
Get rid of some arguments by using the accessors
Move multiparameter attribute logic to a class
Some more cleanup to use Hash#values_at, and some method docs
Use cached column information to instantiate time object
Refactor blank date parameter validation
Refactor missing parameter validation based on position
Reuse already fetched column to check for :time
Refactor some code in multiparameter assignment
Extract nested parameter assignment to a separate method
Add test to cover increment/decrement of non-existing key in MemCacheStore
Replace deprecated `memcache-client` gem with `dalli` in ActiveSupport::Cache::MemCacheStore
Update to activerecord-deprecated_finders on generator
Pull more serialize code into a lazy included module
don't call method unless we need to
align them assignments
Optimize for the happy path
Avoid #any?
The default value can be set once in #column_defaults
Optimize instantiation for models which don't use serialize
Avoid deep_dup when intantiating.
column default extraction should handle newlines.
Increase benchmark time to 20 seconds.
Use benchmark/ips to measure AR performance
Renaming active_record_deprecated_finders to activerecord-deprecated_finders
Remove the active_model require from action_dispatch.
Make a doc example output in match actual output
remove reference to humans.txt from release notes
copy edits [ci skip]
tiny formatting fix in i18n guide [ci skip]
Remove duplicated changelog entry [ci skip]
Move changelog entry to the top [ci skip]
Minor language fix. [ci skip]
Add Request#formats=(extensions) that lets you set multiple formats directly in a prioritized order
corrected grammar [ci skip]
revises the contributing guide to document and encourage using the Rails development box
raise ArgumentError if list of attributes to change is empty in update_all
We don't need to require AS::TestCase
Some release notes love :heart:
add breathing to reading sentences for flow, cut down the run-ons [ci skip]
Following the false issue reporting I did here : https://github.com/rails/rails/issues/6958
Add CHANGELOG entry and documentation for Routing Concerns
Extract common controllers to abstract_unit
Implementing Routing Concerns
Indentation should consider line number character count.
oops, should be directory
push header merge down to a private method so that live responses can have their own header object
live response headers can be merged with a hash
speed up cache directory creation
Add support for start_hour and end_hour options in select_hour helper
space for stack overflow; not when you get into things [ci skip]
Grammar fix in ActionView docs/comments
Add mini-profiler to performance testing, useful links
Missing closing tag
Minor punctuation fix in api documentation guide [ci skip]
Restore state on create when ActiveRecord::RecordInvalid is raised
Evented notifications take priority over Timed notifications
Ensure option_html_attributes does not modify the given option hashes
Simplify html attributes generation for options_for_select
Refactor model name logic and make it a real private class method
Sync CHANGELOGs [ci skip]
Add CHANGELOG entry for #7314
Added changelog entry for table name prefix fix [ci skip]
[guides] Add info about CHANGELOGs to contributing guide
proper casing in pronouns; relocate the pro git book [ci skip]
Ensure I18n format values always have precedence over defaults
Fallback to :en locale instead of handling a constant with defaults
Bring back changelog entries for Active Support
check for nil or empty record in form_for
Add doc for config.action_dispatch.default_headers
Further refactor build_conditions in route set
Move AD default_headers configurations to railtie
fixup guides in light of :dependent changes
Use method compilation for association methods
remove some artifacts of dependent_restrict_raises that I missed
DRY up handling of dependent option
Unprivatise all the things
move dependency logic out of generated methods
Clean up dependent option validation.
Remove the dependent_restrict_raises option.
Add 'X-Frame-Options' => 'SAMEORIGIN' and 'X-XSS-Protection' => '1; mode=block' CHANGELOG entry
RouteSet: refactor internals
Test actual content of permanent cookie
set the controller under test so we no longer need the reset! method
Add html_escape note to CHANGELOG
Do not mark strip_tags result as html_safe
push drawing once to it's own module
refactor the before_setup hooks to a module
switch callbacks to minitest hooks
initialize instance variables
Document the namespacing of controller actions per this discussion:
some tests
introduce default_headers config
use a sized buffer to prevent the queue being too large
Remove highly uncommon option for moving the manifest path
Allow data attributes to be set as a first-level option for form_for, so you can write `form_for @record, data: { behavior: 'autosave' }` instead of `form_for @record, html: { data: { behavior: 'autosave' } }` *DHH*
Naming helpers should first check if passed object responds to model_name
Modernize the documentation for view caching somewhat
Added a note for smtp_settings.enable_starttls_auto
Deprecate `button_to_function` and `link_to_function` helpers.
Remove antiquated example code
Remove outdated examples and feature highlights
Observers are no longer important enough to get this configuration option called out at the top level
Add back missing require
Deprecate ActiveSupport::JSON::Variable
add around_create callback documentation for ActiveModel::Callbacks
make assertions easier to track down
Revert "The application generator generates `public/humans.txt` with some basic data". I dont consider this something most people is going to want most of the time. If you want to add it in your own app, knock yourself out. But it doesnt belong in Rails imo
defines String#indent [closes #7263] [Xavier Noria & Ace Suares]
Restoring the '%' trim mode for ERb templates, allowing for a leading percent sign on a line to indicate non-inserted Ruby code.
For adding non css/js files to precompile array
Update list of finder methods
Rearrange example output of javascript_include_tag
Do not include application.js if it doesn't exists
add changelog for #7202
let ruby decompose the tuples in the iterator
Add AS::StringInquirer#respond_to? method
AM::Validation#validates: ability to pass custom exception to `:strict` option
Don't use `html_escape` to test the escaping
Add CHANGELOG entry for 3c731a4ad62430100ba0b65bc966aa6dc6280c5f
Update changelog
removes usage of Object#in? from the code base (the method remains defined by Active Support)
Changing AR:CollectionAssociation#empty? to use #exists?
Remove warning: `*' interpreted as argument prefix
edit of previous content  explains how to add/override engine classes in the main rails app via 1) Class#class_eval 2) ActiveSupport::Concern
Refactored common date and time calculations.
Add extra documentation to the locale file.
Revert "polymorphic_url with an array generates a query string"
Revert "Refactor passing url options via array for polymorphic_url"
Document default_options configuration in ActionMailer guide [ci skip]
RouteSet: cleanup some unneeded compexity
Renamed _path_segments to _recall
Simplify logical statement
Refactor passing url options via array for polymorphic_url
copy edits [ci skip]
Corrected info about asset pipeline default paths
Update Migration Docs: Defaults for Boolean Fields
polymorphic_url with an array generates a query string
added info about an error that mysql gives when rails@localhost has a password; removed reference to activerecord/test/connections, which isn't there anymore
Update guides/source/asset_pipeline.textile
Make ActiveRecord::Model::DeprecationProxy work better
Update the docs to reflect the new association API
calculate errors_options one time in validate_each
Add test select_tag escapes prompt
Use content_tag here instead of manually building HTML
Don't eager load all this
Remove ActiveRecord::Base.to_a
reinstate changelog that seems to have been accidentally deleted o_O
Allow Relation#merge to take a proc.
make sure the body finishes rendering before checking response closure
Collapsed dual checks (one for content headers and one for content) into a single check.
Remove `:rails_env` task since it is not needed anymore.
Changelog entry for Digest Auth fix (#2301)
load active_support/deprecation in active_support/rails
load active_support/core_ext/module/delegation in active_support/rails
load active_support/core_ext/class/attribute in active_support/rails
load active_support/concern in active_support/rails
load active_support/dependencies/autoload in active_support/rails
load active_support/core_ext/object/inclusion in active_support/rails
load active_support/core_ext/object/blank in active_support/rails
defines a private require-hub active_support/rails
Check validity of options[:as] just once
Audit the usage of the word "JavaScript"
Do not consider the numeric attribute as changed if the old value is zero and the new value is not a string.
fixed wrong route for creating new post [ci skip]
s/scoped/scope/
Add CollectionProxy#scope
Use explicit delegations
Refactor a bit
Add `Relation#load`
Deprecate :finder_sql, :counter_sql, :insert_sql, :delete_sql.
Revert "Remove :finder_sql, :counter_sql, :insert_sql, :delete_sql."
Change AR's CHANGELOG, because it is related to e35c67ae0f920011a2440210041e96659a8de985
The use_schema_cache_dump configuration moved to ActiveRecord.
Refactor dependency check validation
move method for dependent option check
Restoring documentation for env_config per #7070
Updated scaffold_controller generator docs #7146
html_escape should escape single quotes
has_secure_password should not raise a 'digest missing' error if the calling class has specified for validations to be skipped.
fix punctuation in #resources and #match documentation [ci skip]
Update #match documentation [ci skip]
Update #resources documentation [ci skip]
update ActiveModel::Observer documentation [ci skip]
Update I18n guide with details on multilingual Inflector [ci skip]
fix ActiveRecord::Associations::CollectionProxy documentation
fix typo in collection proxy
Update activesupport/CHANGELOG.md
AR::Relation#order: make new order prepend old one
Make ActiveSupport::Inflector locale aware and multilingual
update ActiveModel::ObserverArray documentation [ci skip]
add :nodoc: to ActiveModel::Observing#inherited [ci skip]
update ActiveModel::Observing documentation [ci skip]
update ActiveModel::Serializers documentation [ci skip]
add documentation to ActiveModel #from_json method [ci skip]
Add 'Writing Rake Tasks' subsection to Command Line Guide
fix nodoc in metal/live
update coding conventions in metal/live
fix typo in metal/live [ci skip]
allow perform deliveries to be set within mailer action
fix #after_validation example [ci skip]
Remove the deprecation of update_column.
add mysql authentification command to chapter 2.Running the Test Suite
Revert "DRY class_attribute code"
Refactor ActionDispatch::Http::Cache::Response#cache_control_headers.
updated changelog
close the response when the response body is set so that normal render calls will work
header hash is duped before being sent up the rack stack
freeze the header object
make sure set_response! sets the correct response object
adding a more docs on closing response streams
pushing Buffer up to Live
adding some docs
Controller actions are processed in a separate thread for live responses.
raise exceptions on header set after response committed
make sure appropriate headers are set and deleted
added live responses which can be written and read in separate threads
update AR::Validations::AssociatedValidator documentation [ci skip]
update AR::Validations::UniquenessValidator documentation [ci skip]
add :nodoc: directives to ActiveModel Sanitizers [ci skip]
fix class reference in AM::MassAssignmentSecurity documentation [ci skip]
update ActiveModel::Validations::Callbacks documentation [ci skip]
ActionController::DataStreaming::FileBody doesn't respond to #close.
update #validates and #validates! documentation [ci skip]
update ActiveModel::Valdations#validates_with docs [ci skip]
update ActiveModel::Validations docsÂ [ci skip]
flushing output should write to the stream rather than mutating the response object
remove dead test
adding a buffered stream to the response object
initialize ivars, refactor recycle! to call initialize
Remove warning renaming the test classes to use the test convention
Remove deprecation warning, since scoped waas deprecated
update ActiveModel::Validator docs [ci skip]
fix incorrect usage `require mysql` in the activerecord/test/.../mysql_rake_test.rb
update ActiveModel::SecurePassword docs [ci skip]
DRY class_attribute code
More polite cleanup for sqlite tests
issue a warning when we cannot construct a controller
this test is not a controller test, so switch to AS::TC
Explaining a bit better about the default behaviour of dependent
removes the AR session store from eager loaded code [fixes #7160]
add example to ActiveModel::StrictValidationFailed [ci skip]
fix failure test 'test_can_wait_until_commit(ResponseTest)' in actionpack
missing require: the AR session store depends on the AP abstract store
Refactor to reset_table_name
add example to ActiveModel::MissingAttributeError [ci skip]
update ActiveModel::MassAssignmentSecurity docs [ci skip]
add example to ActiveModel::Naming#model_name [ci skip]
fix AM::Naming examples [ci skip]
update to_param docs [ci skip]
adds a missing require from Active Support
threads can wait on responses to be committed
Revert "Removed reference to composed_of."
Revert "Removing composed_of from ActiveRecord."
Don't test language-level exception messages
Modity the :json_data_empty attribute from `:null => false` to `:null => true` to address ORA-01400 errors with Oracle enhanced adapter.
use 'HTTP_AUTHORIZATION' instead of :authorization as key when dealing with HTTP Token authentication in integration tests
Add Object#try! with the old NoMethodError raising behavior
 will now return nil instead of raise a NoMethodError if the receiving object does not implement the method
Changelog and doc updates for the previous changes.
Deprecate Relation#all.
Deprecate ActiveRecord::Base.scoped.
ActiveRecord::Base.all returns a Relation.
Only require the `:rails_env` task where is needed.
Modify the preference attribute from `:null => false` to `:null => true` to address ORA-01400 errors with Oracle enhanced adapter.
* Do not convert digest auth strings to symbols. CVE-2012-3424
fix typo in documentation
Refactor ActiveRecord::Inheritance.base_class logic
Missed extend for eager_autoload
Update activerecord/CHANGELOG.md
Switched update_column recommendation in changelog to update_columns
Eager autoload ActiveRecord association helpers
Use string datatype for the setting attribute to make store works all database adapters.
remove duplicate build runs in travis.  These extra runs were used to test identity map and not fully removed when the feature was removed.
Deprecate update_column in favor of update_columns.
Use update_columns to implemente the update_column
New #update_columns method.
Replace the flush parameter with a Hash.
This pull requests addresses ORA-01400 errors and also supports #6115 issue tested.
Update performance testing guide [ci skip]
fix typo in callbacks test
Make sure :environment task is executed before db:schema:load or db:structure:load
Add CHANGELOG entry
Remove ActionDispatch::Head middleware in favor of Rack::Head
Removed reference to composed_of.
Bump Journey requirements to 1.0.4
fix removed ruby tag in commit 890b9dd [ci skip]
added 2 strategies for extending engine models
tiny mistake in description
add :nodoc: directive to AM::ObserverArray internal methods [ci skip]
Add one more test case to make sure that data attributes are being escaped
Restore connection_id on error.
don't escape options in option_html_attributes method
fixing :nodoc:s in AS::JSON::Encoding
Remove deprecation warnings
Add back `:disable_with` and change deprecation horizon to 4.1
Add back `:confirm` and change deprecation horizon to 4.1
+"foo"+ doesn't generate code tag [ci skip]
Lets be consistent with whitespaces at documentation
Copy-edits at Rails::Queueing documentation
update 4.0 release notes [ci skip]
improve NullRelation docs [ci skip]
minor copy edits [ci skip]
Revert "Make it clear that you can also pass a full url to assert_routing."
makes a pass over the API of ActiveSupport::HashWithIndifferentAccess
Hash#fetch(fetch) is not the same as doing hash[key]
copy-edits 9674d2c
AR has a subclass of AM:PresenceValidator.
rm unnecessary test
rm redundant test
remove unused method
remove references to :finder_sql, :counter_sql, :delete_sql, :insert_sql from guides
we don't need this arg
Remove :finder_sql, :counter_sql, :insert_sql, :delete_sql.
Remove obsolete line.
Update documentation and change the range method name to delimiter.
Don't pass `:within` option to the i18n
`validates_inclusion_of` and `validates_exclusion_of` now accept `:within` option as alias of `:in` as documented.
Convert association macros to the new syntax
Avoid options ever being nil
Clean up Sweeper controller accessor when an Error is raised
Don't assume resource param is :id when using shallow routes
Support constraints on resource custom params when nesting
Make it clear that you can also pass a full url to assert_routing.
Use join without default separator
adding Rails::Queueing::Container
Create default join table name using a Symbol
Use attributes instead of table names in migration example
Clarification to doc of ActionController::MimeResponse.respond_to
Add fkey attributes to `join_table` migration generator
revert Default timestamps to non-null
Remove `:confirm` in favor of `:data => { :confirm => 'Text' }` option
Update changelog for migration generator change
Don't use default separator
add lazy look up in abstract controller's translate method
Common behavior with adding formats to lookup_context for TemplateRenderer and PartialRenderer
Add nodocs to delegation module and docs for merge!
Update batches docs
Improve docs for AR Relation
AR::Integration must be included after AM::Conversion
Add join table migration generator
Add support for optional root segments containing slashes
Log query plan when we use count_by_sql method.
Add docs for Relation initialize, create and create!
Don't link to edgeguides in docs
Typo
Add documentation for query_methods bang methods
Add nodoc to create_with_value
Add documentation for arel and build_arel
Add documentation for create_with
Stop being silly with formatting of method aliasing.
Simulated & actual (manual/skipped) PostgreSQL auto-reconnection tests.
Don't crash exception translation w/ nil result attribute.
A more informative comment for config.asset.debug
adds a missing require [fixes #6896]
session_id column is string in default
Avoid to call send(store_attribute) twice.
Added time related req files to AS core_ext #6896
teaching the mysql adapter how to typecast strings returned from the database
fixing tests to deal with data differences between prepared statements and non-prepared statements
Only use prepared statements when bind variables are present
fix association :extend option
Remove duplicated unique index name.
Remove instance level quote_value method. This method is private and also exists in class method.
revises RUNNING_UNIT_TESTS to delegate stuff to the contributing guide
move the deprecated options into active_record_deprecated_finders
stop using class_attribute where methods/inheritance will suffice.
Remove duplicated code in the AR::Store.
Add link to relevant rails guide to Active Record unit test docs.
add note about requiring gem dependencies before initialization [ci skip]
Add note about needing mysql superuser for unit tests.
Add documentation for ActiveRecord::Observer.
extract deprecated association options to active_record_deprecated_finders
Added note about feature requests and rails-core list.
Represent association scope options as AR::Relations insternally.
fix assertion arguments order
Allow associations to take a lambda which builds the scope
support relations created with a table alias
Add Nodes::TableAlias#engine
Remove ArgumentError.
Updated with_routing example to 3.x syntax [ci skip]
Change Assertion language to Expected/Actual from obj1/obj2
testing guide: start of a pass
add second t to overwritten
Add teardown method to AR::Mig::RenameTableTest
Don't raise an error if http auth token isn't well formatted
Raise a helpful error message on #mount misuse
[getting started] update a code listing
use 'use_zone' method in example, instead of reimplementing it
AM::Validations: remove documentation duplicates
Add info note about sass/coffeescript use in engine assets to guide
deprecate `describe` without a block.
It's better to pass strings to assert_match - it converts them to regular expressions, escaping special chars like '.'. It seems email.encoded contains some unexpected line breaks (due to encoding), it's better to assert_match email.body.to_s.
Revert "Select missing formbuilder typo."
Select missing formbuilder typo.
Remove AS declarative extension from erb tag test
we still need `describe` as the implementation differs from minitest
Update migrations guide
Add references statements to migration generator
Document building complex forms using accepts_nested_attributes_for
minitest provides "it" and "describe"
minitest is a gem dep, so remove this conditional
Improve and fix AP changelog, sync release notes [ci skip]
Rename RouteInspector to RoutesInspector
Remove RoutesInspector from railties, since it was moved to AP
fix broken bleak_house link
Add few information on Fedora and CentOS
show routes while debugging added to changelog
Add docs for having, lock and readonly
move route_inspector to actionpack
show routes while debugging RoutingError
Add doc for joins and improve includes doc
Add docs for eager_laod and preload
minor text change [ci skip]
Revert "Add nodoc to relation methods"
Refactor locked? method in query cache
Load all records in Relation#inspect
Use "instance_accessor" for flash types class attribute
fixup changelog
Relation#inspect handles doesn't perform a new query on an already-loaded relation
Simplify Relation#inspect
Added support add_flash_types
Update master
Added *instance_writer: false* for stored/serialized attributes.
Remove unused code.
Improve docs, changelog and release notes for Action Mailer default_options=
Add nodoc to relation methods
update test_help to config properly turn natural language option
update performance test template to use test method
Added failing test for generating namespaced table_name_prefix in engines
Prevent conflict between mime types and Object methods
Limit the number of records in Relation#inspect
Disable query cache for lock queries
Update release notes with AR::Relation#inspect change [ci skip]
Remove mention to csv fixtures from test_helper in guides [ci skip]
Show the records in Relation#inspect
add :nodoc: to internal implementations of AM::Validator [ci skip]
update ActiveModel::Serialization documentation [ci skip]
Made ArgumentError messages consistent.
Add order docs
Add group documentation
Add documentation for includes
Update list of AR Relation methods
Bump query guide to latest version
Revert "push parameter instantiation to one method"
fix syntax of AM::Validations::HelperMethods examples [ci skip]
Add documentation for inheritance_column method
Change JoinPart test from an integration to a unit test
Use ArgumentError vs. RuntimeError, which is more precise.
update ActiveModel::Validations::HelperMethods documentation [ci skip]
CSV fixtures aren't supported by default anymore, update generated test_helper.rb to reflect that
update ActiveModel::Conversion documentation [ci skip]
fix quoting for ActiveSupport::Duration instances
activesupport gem dependencies should reflect the versions we actually use
Add few information on the field types
fix link and add activeresource link in release notes page [ci skip]
Add the options method to action_controller testcase.
Update 4.0 Release Notes
There is only task for installing migrations when using engines
push parameter instantiation to one method
add Mime.fetch so we can have default mime types
make the default environment have actual defaults
assing the request on the response only once
group things that are alike
push functional test specific methods to it's own module
Kill not used constant since removal of runner method
test should be testing to_param not to_s, remove Array subclass
Introduce config.action_mailer.default_from=
push the cookie writing stuff out of the controller
extend the controller with special logic on recycle
push req / res setting to the test runner
extract response setting to a method
remove duplicate requires of mocha.
remove the runner method copied from minitest
hook mocha in through m/t before_setup, after_teardown hooks
remove test/dummy from gitignore when "plugin new -T"
Don't need to use delete in the options hash
Add changelog entry for references statements
Refactor references schema definitions
Make references statements reversible
Add references schema statements
small refactoring of as_json method
Make TestQueueTest work with marshalling queue
Ensure jobs do not refer to the queue
Ensure test jobs are marshallable
Track queue threading with named classes
observer update refactoring
Don't mark the store as changed if an attribute isn't changed.
Update 4.0 Release Notes with changelogs [ci skip]
explains why the file update checker ignores mtimes in the future, plus a little refactor for the same price
push response creation down since third param is never used.
Made file name and class name consistant
Improve performance of DateTime#seconds_since_unix_epoch
remove :nodoc: of AR::Scoping#unscoped [ci skip]
Use strings for the table names
Revert "Use strftime to convert DateTime to numeric"
Unify the collation API for the database adpters
Refactor migration test_helper
Make Time#change work with offsets other than UTC or local
Remove rescue clause from ActiveSupport::TimeZone#to_f
Remove DateTime#to_time override
Use strftime to convert DateTime to numeric
Changed attr_accessible example to reflect grouped roles
ActionDispatch::ClosedError no longer is raised. See d142572567 for more info.
use config.action_controller instead of ActionController::Base in example code for asset_tag_helper
Persist glob when replacing a path
Update AR and AP changelogs [ci skip]
fix AR::SchemaStatements#column_exists? exampleÂ [ci skip]
update AR::SchemaStatements#column_exists? documentation [ci skip]
Add more options to column_exists? method
Remove ActiveModel dependency from ActionPack
Extract collation tasks to database tasks.
Remove ActiveRelation#inspect
make sure the inflection rules are loaded when cherry-picking active_support/core_ext/string/inflections.rb [fixes #6884]
Remove another missing test related to draw external routes
Remove more tests related to draw external routes files
Revert "Allow loading external route files from the router"
fix FileUpdateChecker when file has wrong mtime (from future)
Remove unused responsibilities and add a few load definitions to engines
Remove unnecessary Railties structure now that plugins are gone
Depend on thor 0.15.4
Rename RouteInspect to RoutesInspector for consistency
removing the AV::Base.helpers class attribute as it is not needed.
Added an entry about fda24312d3 in the CHANGELOG.
remove AV.prepare and move all helper-related logic into the controller. this decouples the view since it no longer knows about routes internals. this is a result of an ongoing discussion at https://github.com/rails/rails/pull/6826.
Remove mention of `convert_key` now that it's been taken out in 1eecd9483b0439ab4913beea36f0d0e2aa0518c7
Rails now uses the ActiveSupport BufferedLogger class
update AR::FinderMethods#exists?(false) example [ci skip]
fix ActionMailer::Async docs and update to follow coding conventions
Require URI
Support collate and ctype on the PostgreSQL.
fixing typo in from documentation
Remove some aggregation tests related to composed_of
Move newly added multiparameter tests to base_test file
Bump minitest to 3.2.0
Skip test_setting_time_attribute because Oracle database does not have TIME data type.
Speed up Hash#transform_keys using Hash#each_key
Mention effect of accepts_nested_attributes_for on association autosave option [ci skip]
fix: limit of enum columns of mysql
Update psql adapter to rename a default pkey sequence when renaming a table.
Add changelog entry for polymorphic option in model generator
Address test_basic_model test error with Oracle enhanced adapter which ids start from 1000 as a default.
Add polymorphic option to model generator
Refactor attribute method matcher to use Hash#fetch
Cleanup attribute methods a bit, use map! when accepting *args
Use default + merge! instead of reverse_merge
Set hash value instead of merge a single key, and use flatten! if possible
Ensure Array#to_sentence does not modify given hash
Guide update for Async ActionMailer
corrected URLs and controller benchmark method call
Remove file added by mistake at 88230b7cf77181c2088cce3314493caa9b3ac1fb
AS::Callbacks: deprecate monkey patch code
:update_details method no more exists on @lookup_context
Use args.flatten! in query methods when applicable
Ensure Arel columns are typecasted properly when grouping with calculation
Add missing require.
Move to db:structure namespace, because these methods are global.
Remove session_table_name method because this is global and used only once.
Add a description about ENV["SCOPE"]
Change the behavior of db:test:prepare task when schema_format is sql for consistency.
Change the behavior of db:test:clone task when schema_format is sql for consistency.
Change an order of methods for readbility.
add :nodoc: to internal implementations [ci skip]
Make internal callback model definitions private in AMo
update ActiveModel::Name documentation [ci skip]
exists?(false) returns false
Rails 4 will be 1.9.3+ only [ci skip]
fix punctuation in activemodel/errors [ci skip]
Get rid of the clear_i18n hack by using a different locale
Move number helper i18n related tests to AS
Refactor AV number helper tests with invalid numbers
Move constants to the top, remove freeze
Do not propagate the :raise option to AS number helpers
Remove some not used variables and improve code a bit
Some final syntax fixes
correct line numbers for reader and writer methods
Better documentation for ActionMailer.async
Added a feature to add a database task. e.g. OracleDatabaseTasks
Stop assuming strings for grouped calculations
Better documentation for ActionMailer.async
Forcing the message sending is no longer necessary
Support for custom queues on the mailer
update ActiveModel::Naming documentation
Removed unecessary splatting
update ActiveModel::Model documentation [ci skip]
Use Delegator for a cleaner QueuedMessage class
add description ActiveModel::StrictValidationFieldÂ [ci skip]
Updated Changelogs
Force message delivery despite async
Add commented out ActionMailer async config option
AsyncMailer documention
Asynchronous ActionMailer
Move tasks(rake) tests to under the tasks dir.
format the 4.0 release notes [ci skip]
ruby 1.9 hash syntax for generated code
Add test cases for 46492949b8c09f99db78b9f7a02d039e7bc6a702
fixed another typo in edge guides
fixed a typo
eliminating another string subclass
fix some accidental nils
update ActiveModel::Lint documentation [ci skip]
update ActiveModel::Errors#include? documentation [ci skip]
add :nodoc: to internal implementations [ci skip]
add documentation and examples to ActiveModel::Errors [ci skip]
Allow precision option for postgresql datetimes
change param name to improve documentation
update ActiveModel::Errors documentation and minor fixes [ci skip]
update ActiveModel::Conversion documentation [ci skip]
fixes a few mistakes in api docs [ci skip]
copy edit the assets guide[ci skip]
made dynamic finders alias_attribute aware
Add changelog entry and guide updates for pluck with multiple columns
Refactor pluck with multiple columns
ActiveRecord#pluck now accepts multiple columns
Add some coverage for AR serialization with serializable_hash
disallow mutating a relation once loaded
It's AR::Reflection not AR::Relation
Don't paramify ActionDispatch::Http::UploadedFile in tests
update ActiveModel::Callbacks documentation [ci skip]
Improve the derivation of HABTM assocation join table names
Set the hash value directly instead of using merge!
add description to ActiveModel::MissingAttributeError [ci skip]
add :nodoc: to AM::AttributeMethods#instance_method_already_implemented? [ci skip]
add example to ActiveModel::AttributeMethods#undefine_attribute_methods [ci skip]
use mutex_m rather than use a delegate system
add docs to AM::AttributeMethods#define_attribute_method [ci skip]
add :nodoc: to AM::AttributeMethods::AttributeMethodMatcher [ci skip]
stop subclassing string
fix ActiveModel::AttributeMethods#alias_attribute documentationÂ [ci skip]
update ActiveModel::AttributeMethods documentation [ci skip]
Removed warnings.
Small typo in Backporting instructions.
Adds missing inflector tests to ensure idempotency
changed the firm of changes_from_zero_to_string?
logger is a singleton, just flush the singleton
explain listener does not care about time, so use evented listener
use thread local queues.
raise an error if no implicit mailer template could be found
Refactor testcase codes. It's repeated.
Remove duplicated codes.
Refactor db:structure:load task.
just specify what's to be done, not what's not to be.
Add prev_quarter and next_quarter method in Time/Date/DateTime
switch to prototype also modifies application.js [ci skip]
Bump minitest to 3.1.0
remove deprecated methods [ci skip]
update Built-in Rails Helpers section [ci skip]
Correct the AP testã€‚
fix typo [ci skip]
Run the logger tests in isolation
CORES needs to be a integer
run the notes tests in isolation
run railties tests in parallel, default to 2 cores
Remove unneeded code since pluck is respecting joins now
Extract conditional to a method to avoid duplication
handle joins/includes correctly for pluck and calculation.
add :nodoc: to AV StylesheetIncludeTag, JavascriptIncludeTag and AssetIncludeTag
join any extra args to the tmp path
expand the tmpdir to the realpath so tests on OS X pass
move fanout back to a global variable, add a mutex for safety
use system tmpdir rather than our own
make logger a singleton on the class
listeners are per thread, so remove nested hash
add documentation to AS::TestCase#assert_nothing_raised
Add missing require
update AS::Testing::Assertions docs
fix typo [ci skip]
Typo in documentation.
Remove extra test case. Make the test description better reflect what is happening
subscribers are per thread, so remove the nested hash access
documenting concurrency rules for the Fanout class
remove global cache
reduce thread locals
make the fanout notifier local to the current thread
Rename testcase name. It's wrong in the context.
Rename MySQLTestPurge to MySQLPurgeTest for consistency.
Refactor db:structure:dump task.
Refactor db:charset task
Added test for case when view doesn't have logger method when using ActionController::Metal controller.
Refactor the conditionals
Validates_numericality_of is skipped when changing 0 to to non-empty string
Refactor and use class_attribute
Remember the stored attributes in a config attribute.
Improve the CHANGELOG entry [ci skip]
Use map! instead of replace + map
Refactor Relation#update a bit to avoid an extra Enumerator instance
Make DatabaseTasks a module with real private methods
Ensure that cache-control headers are merged
make events not use date and time to determine parent_of. fixes #5932
add example to AS::Deprecation#deprecate_methods [ci skip]
Add CHANGELOG entry to composed_of removal
Removing composed_of from ActiveRecord.
Add ensure Joke.reset_sequence_name to avoid ORA-02289: sequence does not exist for `SELECT "BLACK_JOKES_SEQ".NEXTVAL FROM dual`
Change minimum (default) log level in PostgreSQL to warning.
Require thor 0.15.3 onwards
Documentation for where and where! methods on relations.
fix invalid syntax and sqlite rake failing tests
add :nodoc: to AR::Tasks and update to follow the coding conventions
check if sqlite3 file exists before remove
Rails is the default (but now override able) source for environment and path.
Cleaning up after some warnings, adding slightly higher-level tests.
Rewrite some parts of the Rails initialization guide
Add initialization section
Rewrite rails command section
Add tip for browsing source code on Github
Not focusing on Passenger for now
bump AS deprecation_horizon to 4.1
add example to AS::Deprecation#silence [ci skip]
One line db:create/db:drop tasks.
db:drop and some of db:test:purge.
Bump tzinfo gem.
db:create for PostgreSQL pulled out into a class.
db:create for MySQL now much cleaner.
Confirm connection is not established if file exists.
Avoid unnecessary catching of Exception instead of StandardError.
Adding `load_config` task as dependency.
A beginning of sorts.
change not valid syntax [ci-skip]
fix example with data: { disable-with: '' } [ci skip]
update DOM and HTML vs AJAX communication [ci skip]
unnecessary reference to link_to_remote method in rails 4.0 [ci skip]
Add documentation for ActiveRecord::QueryMethods#reverse_order [ci skip]
Add documentation for ActiveRecord::QueryMethods#offset [ci skip]
update AJAX guide intro [ci skip]
Add documentation for ActiveRecord::QueryMethods#limit [ci skip]
Don't read csv file during executing db:fixtures:load.
Respect absolute paths in compute_source_path.
Documentation: make it clearer that subscribers are not notified asynchronously, but saved for later use.
Extend assets cache store section in Assets Pipeline Guide [ci skip]
Add rdoc to phone_field
TestCase does not need to be loaded when loading the framework
no need to define methods in included hook
Simplify AR configuration code.
refactor
add example to ActiveModel::Validations#validators [ci skip]
included another upgrading pinfall - accidentally having duplicate js files
Support unicode character route in config/routes.rb.
Use status, content_type, body method signature for render too
Refactor public exceptions to reuse render format method
Remove unneded tests.
Add CHANGELOG entry to the uuid datatype support to PostgreSQL adpter
registers the removal of update_attribute in the CHANGELOG
adding a test for #6459
fix some formatting [ci skip]
Revert "AV::TestCase does not need to be loaded when eagerly loading the"
modify middleware docs [ci skip]
we raise a subclass of LoadError, so rescue that
Add docs about how to remove some middleware
move the info about cosmetic changes to a diff location [ci skip]
moar copy edits [ci skip]
copy editing [ci skip]
Remove update_attribute.
Revert "Add a note about JavaScript runtime"
AV::TestCase does not need to be loaded when eagerly loading the framework
i suck, fixing error message
prevent users from unknowingly using bad regexps that can compromise security (http://homakov.blogspot.co.uk/2012/05/saferweb-injects-in-various-ruby.html)
Add server.run example
Wrap up missing helper exceptions
Add uuid type support to PostgreSQL adapter
removes item in the Active Record CHANGELOG
using hax to fix tests on Ruby 2.0
Do not generate NOT IN (NULL) when empty right
Show how to add attributes to options
ActionController::Caching depends on RackDelegation and AbstractController::Callbacks
Show when Rack middlewares are executed
Add initialize! explanation
Close explanation of config/environment
These lines don't help to mitigate CVE. They only turn [nil] into nil, w/o them [nil] turns into [] and that is quite innocent. generated  SQL - `IN (NULL)` compact! did all the job.
raise the same exception in order to keep path info
fixing security email address
Array parameters should not contain nil values.
Need a assert here in tests
Adding note about cosmetic changes not being accepted
content_type is already a Mime::Type object
This consider_all_requests_local doesn't make sense
fixed http token authentication formatting
Create hstore extension when building PostgreSQL databases.
fix method redefined warning in Ruby2.0
Stop relying on mutable structures in the FileUpdateChecker
Remove warnings and unused code
No need to cache table metadata in advance now that #6683 was merged.
Return proper format on exceptions
current AR::ConnectionAdapters::SQLite3Adapter supports only SQLite3 ~> 1.3.6
ignore .gitignore'd files in rake test:uncomitted
TimeZone format is always /[+-]\d{2}:\d{2}/ in Ruby 1.9
Range#cover? is not implemented in AS now
both string and sumbol will be interpolated as string no need to convert to_s
Proc always respond_to :binding
Added a testcase for #6690.
fix warning in Ruby2.0.0
Address ORA-00911 errors because of the heading underscore.
Remove initialization explanation for each framework
Add config/application to initialization guide
Rewrite Rails server initialization section
Refactor Action Dispatch description to be more concise
Change initialization guide introduction
Remove bundle exec from the exception message
Add test to column alias in `exists?` SQL.
Minimal change to query generation of exists? that makes SQLServer and others happy that do not work without a column alias. Conflicts: 	activerecord/lib/active_record/relation/finder_methods.rb
Ensure that mass assignment options are preserved
Build fix broken here 03f2249153ae4d2078646e6796d8b9e5ef747fba
Use . instead of :: for class methods, add CHANGELOG entries
removes the obsolete require_association method from dependencies
add prompt to 404 & 500 pages to check logs
Add files required by action_dispatch
Add missing requires for rails/commands/server
Make observer enable/disable documentation more informative.
test errors for pending migrations
raise error for pending migration
Remove conditional committed by accident
Use each_with_object instead of each here
fix stylesheet template dir
A blank line is required before code blocks. The generated output breaks otherwise.
Don't add sqlite3 to gemspec with -O on rails plugin new
We should not include engine.rake file into rake
Removed protected as we already doing it above.
Don't assign the attributes if the list is empty.
Skip two tests with polymorphic if current adapter is Oracle Adapter. because Oracle Adapter does not support foreign keys if :polymorphic => true is used.
Compact array of values added to PermissionSet instance
on CSRF whitelisting the argument for :if must be a symbol
fix typos on the CSRF whitelisting doc
Document the CSRF whitelisting on get requests
+ ActiveRecord::Base#destroy!
reduce number of Strings
MiniTest::Spec shipped with Ruby >= 1.9.3 always responds_to __name__
no need to to_s here. Both String and Symbol can be interpolated into String
Symbol responds_to :upcase & :downcase in Ruby >= 1.9
stop `to_s`ing method names
fix meaningless test case
Make method name consistent with existing methods
change AMS::JSON.include_root_in_json default value to false
Document ActiveSupport::JSON.parse_error [ci skip]
add :nodoc: to AS::NumberHelper private methods [ci skip]
Eliminate dependency on Rails::VERSION::STRING
bundle exec rake assets:precompile shouldn't fail quietly.
add instance_accessor option to ActiveSupport::Configurable#config_accessor
One-liner code for logger in ActionView::Helpers::ControllerHelper
Metal controller doesn't have logger method, check it and then delegate
add example to AS::Gzip
remove double hyphen that doesn't allow properly parsing
Add a note about JavaScript runtime
accept a block in button helper.
bundle exec is needed even if running a single test.
Add failing test for 3.2.5  datetime attribute regression
The resolver tests fail if the mysql gem is not installed; this breaks being able to run the sqlite3 tests without that gem. This fix ensures the tests will only run if the mysql gem is installed.
remove unnecessary text
add convenience methods for checking migrations
Updated guide to say Rails 4.0 requires 1.9.3 or higher, not Rails 3.2.
AR::Relation#model would be a better API than AR::Relation#klass
a test case that ensures AR::Relation#merge can merge associations
starting with the Rails 4.0 release notes
copy edit AS guide [ci skip]
copy edit routing guide [ci skip]
fix up the example app for getting started guide [ci skip]
better explanations for acts_like?, try and deep_dup
Revert some ActiveSupport::Callbacks changes.
Allow to use mounted helpers in ActionView::TestCase
minor comment revision
Sync CHANGLOG with the 3-2-stable branch
Include routes.mounted_helpers into integration tests
remove unneeded blank line from !namespeced? controller generators
improve readability of AR explain result
change welcome_helper.rb to home_helper.rb
Update guides/code/getting_started/test/functional/home_controller_test.rb
the file name should be changed to home_helper.rb
Update guides/code/getting_started/app/controllers/home_controller.rb
Update guides/code/getting_started/config/routes.rb
routes are viewable in browser (update guides)
Revert "Only include Rake::DSL if it's defined."
unused method arguments
modulize AR::NullRelation
Rake::DSL should always be available
Explicitly require rake so its DSL is available
Rake is in 1.9 stdlib, no need for gem dep
Psych is always available on 1.9
Extracted redirect logic from ActionController::Force::ClassMethods.force_ssl
Reduce warning messages when running Active Support tests
Simplify link_to using content_tag
Make link_to arguments explicit
Make button_to arguments explicit and refactor a bit
Simplify logic to initialize valid conditions in RouteSet
Add code statistics for Javascript and
update ActiveModel::Dirty documentation
Work around undiagnosed bug that's draining a relation's bind_values
Set RACK_ENV to nil in the dbconsole test
Changed symbol platform to platforms for the commented out call to gem 'therubyracer'.
Strip [nil] from parameters hash. Thanks to Ben Murphy for reporting this!
predicate builder should not recurse for determining where columns. Thanks to Ben Murphy for reporting this
Remove support for rails server RAILS_ENV=env-name
Update manifest.
accept a block in button_to helper
no need to pass an empty block to button_to helper
Remove deprecated ActiveSupport::JSON::Variable.
remove unused route reloading code
cut down spaces [ci skip]
Revert "Revert "[AR querying guide] Add examples for take(limit), first(limit) and last(limit)""
copy edit the batches docs [ci skip]
let's not add too much details upfront in the introduction [ci skip]
Revert "[AR querying guide] Add examples for take(limit), first(limit) and last(limit)"
some copy edits [ci skip]
Add a changelog entry about runner hook.
Unused variable warning removed.
More assert_match warnings fixed.
Warnings removed for "assert_match /".
True, False, and Nil should be represented in as_json as themselves.
fix typo in render_template [ci skip]
Revert my own commit, didnt notice that this was intentional. [ci skip]
Routing guide: route constraints are anchored by default, remove ^ character. [ci skip]
Make File#atomic_write tests pass with umask
fix typo on ActiveSupport instrumentation guide [ci skip]
copy edits the upgrading guide
Use runner hook to load ActiveRecord::Base.
Add support runner hook.
SchemaMigration should be loaded lazily.
Add a testcase for #5847.
JRuby return different Array for module contents.
Avoid dependency on MiniTest::Unit::TestCase::PASSTHROUGH_EXCEPTIONS.
update Gemfile template to 1.9 hash syntax
fix example format and add markup in Module#mattr_accessor documentation [ci skip]
fix typos on migrations guide [ci skip]
decoupling activesupport performance testing from actionview and adding tests
Add tests to delete by fixnum or string id with has many through associations
Add note about CollectionAssociation#delete change to upgrading guide [ci skip]
Review requires from number helper
[contributing guide] add instructions to update fork [ci skip]
Yield only one argument instead of splatting.
Allow blocks for count with ActiveRecord::Relation. Document and test that sum allows blocks
Parse float value only once in number helpers
Added information regarding the schema_migrations table in Active Record Migrations guide.
Exceptions like Interrupt should not be rescued.
[guides] fix reference to railties directory, guides are no longer there
[guides] guides:generate:kindle is the new interface to generate .mobi file instead of using KINDLE=1
[guides] get rid of any reference to the generator script since rake tasks are now the new interface
make AS::Multibyte::Chars work w/o multibyte core ext
remove unnecessary require
[AR querying guide] Add examples for take(limit), first(limit) and last(limit)
change example on CollectionProxy#delete to accept multiple values
Don't enable validations when passing false hash values to ActiveModel.validates
Updates Array conversions method documentations and clean ups
Adds to Batch processing documentation [ci skip]
add ActiveSupport::JSON.decode documentation [ci skip]
add example to ActiveSupport::JSON.encode [ci skip]
fix typo and remove 'examples' noise [ci skip]
Updates examples for FinderMethods [ci skip]
fix empty lines [ci skip]
Adds examples to FinderMethods#first [ci skip]
Updates documentation with cleaner examples and texts [ci skip]
remove :nodoc: from Class#subclasses [ci skip]
[command line guide] Use actual output of a Rails 3.2.x app
Updates validations examples to be more attuned on the new Rails 3.0 conventions
add :locale option to Array#to_sentence documentation [ci skip]
add examples to Array#to_sentence [ci skip]
update documentation of array/access methods [ci skip]
[security guide] use info, note and warning where applicable
[guides] update generator.rb to refer to guides:generate instead of generate_guides
[guides] update guides guidelines with the new generation and validation rake tasks
Moving NumberHelpers from ActionView to ActiveSupport
"a sql" -> "an SQL" per API documentation guidelines
some asset path changes and formatting fixes in AV overview [ci skip]
copy edits [ci skip]
update Module#mattr_accessor documentation [ci skip]
remove unnecessary ruby 1.8 reference from active_record/core [ci skip]
add CollectionProxy#uniq documentation
update Hash documentation with 1.9 syntax [ci skip]
add examples to Hash#deep_stringify_keys and Hash#deep_symbolize_keys [ci skip]
Add some information about handle_unverified_request to guides.
Update initialization guide [ci skip]
[guides] Add rake task to show help and make it the default one
[guides] Add :guides namespace and :html and :kindle tasks to Rakefile
Revert "Small correction to contributing_to_rails in the section for testing ActiveRecord
"

This reverts commit 0cfbaa030a0684aaa89d3d3c85528e80c1995836.
Sorry did not see the section on MySql and PostgreSQL

# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
# On branch master
# Changes to be committed:
#   (use "git reset HEAD <file>..." to unstage)
#
#	modified:   guides/source/contributing_to_ruby_on_rails.textile
#
Add `:escape` option for `truncate`
Update the documentation and add CHANGELOG entry
Small correction to contributing_to_rails in the section for testing ActiveRecord
Test that the block used in truncate is escaped if it is not HTML safe
add small note about how to get the full list of options for rails plugin new
Truncate now has the ability to receive a html option that allows it to call rails helpers. This way if my text is long I don't have to do something like this:
some small corrections & wrapping changes in the initialization guide
fix mention of ruby versions that rails 4 won't run on [ci skip]
make it explicit that bundle install at the time of app creation installs only the gems that are already in the gemfile
[routing guide] Add mention of get '/:username' route
add :nodoc: to CollectionProxy#initialize
add CollectionProxy#== documentation
add CollectionProxy#count documentation
add CollectionProxy#to_ary documentation
add CollectionProxy#delete documentation
Reorder deep_symbolize_keys methods
Make connection pool fair with respect to waiting threads.
Cache metadata in advance to avoid extra sql statements while testing.
Update paths in action_view_overview raislguide to reflect asset pipeline conventions.
[getting started] Update Setting the Application Home Page to show the get "welcome/index" route
[getting started] specify which kind of temporary files are stored in the /tmp folder
[Guides] Add missing file descriptions
[Guides] Add inflector example
[getting started] specify what # and $ denotes in the prompt in unix-like OSs
[getting started] specify that rails new blog executes bundle install
Add comment for attr_accessible/attr_protected :as option. [ci skip]
Clean Date#beginning_of_month description
references to the old behavior removed
Update examples of Array #in_groups and #in_groups_of
Remove implicit dependency on pathname
remove unnecessary test from route_inspect_test
do not set the ENGINE_PATH to nil
`name` should be public.
Add missing requires for deep_dup and hash ext test
Use deep_dup in the deep_transform_keys tests.
Properly discover a connection is closed in postgresql_adapter
Rails::InfoController tests passing
/rails/info/routes path shows routing information
[Guides] Update rack example
[Guides] Add core_ext/object section
[Guides] Rewrite Rails application section
[Guides] Add extract_options section
[Guides] Update ruby version check
[Guides] Add sprockets to list of loaded frameworks
capitalize HTML5 in Getting Started Guide
grammar fixes in a tip in Rails routing guide
use File.join rather than depend on Pathname
Revert "require the constants we use. ensure that root always returns a Pathname"
require the constants we use. ensure that root always returns a Pathname
removing more pathnameisms
use File.join to decrease dependencies on Pathname
typos
Whitespaces :scissors:
PGconn doesn't accepts :checkout_timeout option.
Add Hash#deep_transform_keys and Hash#deep_transform_keys! Also convert deep_*_keys to use deep_transform_keys.
Added instructions for backporting changes to guides.
copy edits in collection proxy docs [ci skip]
Revert "Remove Obsolute root specifiying short syntax"
Revert "Remove blank trailing comments"
copy edit[ci skip]
Add license field to gemspecs, by Matt Griffin
ConnectionPool wait_timeout no longer used for different types of timeouts. #6441
[Guides] Rewrite server start section
[Guides] Rewrite server start section
Adding deep versions of stringify_keys and symbolize_keys (plain and bang) for nested hashes
Add Hash#transform_keys and Hash#transform_keys! and refactor *_keys methods to use them.
changed xml type datetime to dateTime, fixes #6328 XmlMini define the xml 'datatime', but according to http://www.w3.org/TR/xmlschema-2/#dateTime could be better change this to 'dateTime' with upper case letter 'T. So 'DateTime' and 'Time' are redefined from 'datetime' to 'dateTime'
Remove unnecessary comment.
use ActionDispatch::MiddlewareStack instead of ActionController::MiddlewareStack
update loaded middlewares and use of Rack::Server instead of Rack::Builder
Added ActionDispatch::Request::Session#keys and ActionDispatch::Request::Session#values
use ApplicationName::Application instead of ActionController::Dispatcher.new since Dispatcher class no longer exists
Add tests for time_field and date_field helpers
Refactor date related helpers
I guess we have to return a pathname object. o_O
use File.realpath and avoid making Pathname objects
use RUBY_PLATFORM in case of cross compiled ruby
initialize instance variables
initialize our instance variables
clarified how file naming affects load order of initializers
add CollectionProxy#length documentation
add CollectionProxy#size documentation
add :call-seq: to +first+ and +last+ CollectionProxy methods
add CollectionProxy#create! documentation
add CollectionProxy#create documentation
add more examples to CollectionProxy#find
adding :call-seq: to CollectionProxy methods
add CollectionProxy#build documentation
[Guides] Update rails commands section
[Guides] Change bundler section
[Guides] Review bin/rails section
[Guides] change rails bin section
The initialization guide will cover Rails 4
remove repeated documentation in CollectionProxy#clear
require active_support/lazy_load_hooks where is needed
Move root method at TOP of routes file
Convert Hash to HashWithIndifferentAccess in ActiveRecord::Store.
Remove Obsolute root specifiying short syntax
refactor lazy_load_hooks load position
Improve the readability of the Resolver change detection code
Use new hash syntax for generators gem method
Use require_dependency in generated controllers
remove useless require
Remove obsolete comment from generator gem method
Use relative path to sqlite3 db in `rails db` command
update CollectionProxy#clear documentation
update CollectionProxy#delete_all documentation
add CollectionProxy#delete_all documentation
using __method__ for the command method calls
Remove not used variables from connection poll test
Refactor aggregation writer method
Add instance_accessor option to class_attribute
Add several HTML5 input helpers
Add HTML5 input[type="color"] helper
More granular locking of the Resolver template cache
Make the Resolver template cache threadsafe  - closes #6404
Prevent concurrent compilation of templates - closes #6400
More granular locking of the Resolver template cache
Make the Resolver template cache threadsafe  - closes #6404
fix CollectionProxy documentation markup
add CollectionProxy#reload documentation
improve CollectionProxy#destroy documentation
Refactoring: turn unless/else into if/else
add CollectionProxy#destroy documentation
More info on commit messages in contributing guide
Make connection pool fair with respect to waiting threads.
update CollectionProxy#destroy_all documentation
fixed typo in word finiding
Escape the extension when normalizing the action cache path.
Return 400 Bad Request for URL paths with invalid encoding.
Raise ActionController::BadRequest for malformed parameter hashes.
Correct order of expected and actual arguments
fix closing tag [ci skip]
Raise Assertion instead of RoutingError for routing assertion failures.
Improve docs for `try` by adding note on `BasicObject`
Show in log correct wrapped keys
Remove blank trailing comments
Update documentation for AbstractController::Base
add CollectionProxy#select documentation
add CollectionProxy#find documentation
Revert typo
Typo
Getting started guide has been completely rewritten and edited.
Synchronize read and modification of @reserved_connections hash to avoid concurrency error.
Don't use assert_block method. It will be deprecated.
Include Predications in Grouping
Add CHANGELOG entry for constantize - closes #6165.
Handle case where ancestor is not the end of the chain
Make constantize look down the ancestor chain (excluding Object)
copy edits [ci skip]
add CollectionProxy#last documentation
Add CHANGELOG entry for #6369 & #6391
add CollectionProxy#first documentation
Clarify grouped_options_for_select method API, add changelog entry
Remove delegated methods from generators test case
Remove warning in namespaced generator test
copy edits [ci skip]
Revert "You can add a custom primary key to a table"
Ensure that CollectionAssociation#replace returns proper target
Improve `rake routes` output for redirects - closes #6369.
fix typo. probem => problem
improve CollectionProxy#concat documentation
fix CollectionProxy#<< documentation
Make AC::LogSubscriber#send_file like #send_data
add CollectionProxy#<< documentation
add CollectionProxy#clear documentation
add CollectionProxy#include? documentation
Increase `AR#cache_key` precision to nanoseconds
minor fix wrapper tag documentation
Tidied and standardised text_helper implementations.
More DRY route inspect tests
You can add a custom primary key to a table
Minor fix to the wrapper tag documentation, the options hash is the last one, added blank hash before that in the args list
Added wrapper tag documentation to the simple_format method
move docs from CollectionAssociation to CollectionProxy
fix #delete_all with habtm with :delete_sql
no longer need #delete_all_on_destroy
add explanation of raising errors when a limit scope is supplied in Relation#delete_all
Perf: Don't load the association for #delete_all.
reverting decoupling of NumberHelper from safe_join and adding tests for escaping of delimiters and separators
port some mocha to minitest/mock
Refactor migration generator
Call undefine_attribute_methods only when defining new attributes
Add oscardelben to authors
Revert "Add oscardelben to authors"
fix typo [ci skip]
doesn't modify params in SafeBuffer#%
add changelogs about deprecated stuff [ci skip]
quarantine more deprecated stuff
quarantine deprecated tests
respect nsec in TimeWithZone
The middleware stack is compliant with Enumarable and bits of Array
AS::Callbacks: fix run_callbacks for objects with negative id
Add the #unshift method to the middleware stack
remove incorrect example of CollectionAssociation#empty?
add docs to CollectionAssociation#empty?
add docs to CollectionAssociation#any?
add examples to CollectionAssociation#concat
fix CollectionAssociation docs
Add HTML5 input[type="time"] helper
add example to CollectionAssociation#destroy_all
add more explanation to CollectionAssociation docs
add CollectionAssociation hierarchy
add docs to CollectionAssociation#many?
[engines] initializer method call needs an argument for initializer name
Render img tag with empty src if empty string is passed to image_tag.
Add oscardelben to authors
Removed old text_helper apis for highlight, excerpt and word_wrap
fix CollectionAssociation#replace docs
update AS docs
Revert changes related to `bundle install` fixes in `rails new`
MiniTest deprecated #assert_block in favor of calling #assert with a block
Add docs to CollectionAssociation#replace
Update actionpack/CHANGELOG.md
Created a Raw handler for templates.
Make MockLogger work with blocks.
Don't destroy readonly models
fix word_wrap eg output [ci skip]
copy edits assets guide [ci skip]
copy edit and remove nodoc on instance_values method [ci skip]
Revert "Update docs in sqlite3 adapter"
[getting started] remove two more beginningruby links
[getting started] add comma in 'First we will make a comment partial'
[getting started] remove another beginning ruby link
[getting started] briefly explain form_for with array parameters
[getting started] Remove beginning ruby link in posts/show
[getting started] generating routes manually was done as a learning exercise, fix typos
[getting started] split up section about rake routes after 'resources' call
[getting started] dialog box is not automatic, is provided through jquery_ujs, which is necessary to have in application layout
[getting started] dabase -> database
[getting started guide] more explanation around the delete routing method:
[getting started] explain :as option
explain why we also add attr_accessible in the model
AS::Callbacks: simplify logical statement
Remove special cases for duplicable? on Class and Module
Ensure blocks given to subscriber are properly yield
wrap time ranges with timezones, closes #6179
Don't need to force size to nil
Document the usage of grouped_options_for_select with divider option
Make :prompt work as documented
Test deprecation and fix the documentation of grouped_options_for_select
Relation#from to accept other Relation objects
log at debug level what line caused the redirect_to
Load all the env files available in config.paths (closes #6335)
Call methods on the correct instance in AR::Schema.define
Improve logging of ActiveModel::MassAssignmentSecurity::Sanitizer
assuming there is only one column, we can simplify the type cast loop
MySQL returns "SUM(DISTINCT(credit_limit))" as the column name unless an alias is provided.  Without the alias, the column cannot be found and properly typecast.
remove stray text in getting started guide [ci skip]
document the AR::Base#ids method introduced in 9307616 [ci skip]
update AS:OrderedHash docs
fix bad formatting [ci skip]
remove unnecessary require
fix safe string interpolation with SafeBuffer#%, closes #6352
remove image_tag onmouseover option docs [ci skip]
fixing removed empty lines and examples
fixing validates_with docs
AS::Callbacks remove useless code, improve performance
Integer limit out of range should be allowed to raise. Closes #6272
[guides] add note about cosequences of option changes
[getting started] explain that posts_path exists due to how we defined routes earlier
[getting started] Split up refactoring of new and edit templates
[getting started] don't call it 'a _form partial', just 'a partial'
[getting started] remove tab in form partial
[getting started] Prefix users templates with 'users' to show that's where they're coming from
[getting started] split up adding link for edit to index and show templates
[getting started] grammatical changes at beginning of update action section
[getting started] some more handholding around where exactly the error would appear when a post is invalid
[getting started] fix weird linebreak when talking about pluralize
[getting started] re-add new action back to PostsController, explain that it'll be explained in a short while
[getting started] Explain the create action check for validations better
[getting started] add attr_accessible to Post model
[getting started] split up addition of links to index/show/new area
Remove unneeded tests
better format and fixes to validators docs
improve #6318
removing 1.8 reference
better example format in validates_exclusion_of docs
Update AR has_one association example
Remove useless check of adapter
Update docs in sqlite3 adapter
Rename test file so that the test suite matches it, implement `persisted?` for SqlBypass as expected by tests and convert session_id to string before using on queries to get correct quotes on postgresql (avoid casting error).
Bumo sqlite3 gem
SQLite3 doesn't actually support the 'time' type.
Update action view context docs.
Changing the indentation level of the block comment close for SASS
[getting started] add segue at the end of posts/index section
[getting started] indent iteration in posts/index template
[getting started] Split up creation of route, action and view for PostsController#index
Remove unnecessary calls to primary_key on sqlite3_adapter
update docs on String#at about ruby version
remove backported string interpolation
Add separator argument to grouped_options_for_select
Expand and improve #pluck docs
Restore support for Model.pluck('sql fragment')
Make the 'Using Models in Your Migrations' example code more concise by using update_all method
Kill whitespaces :scissors:
Remove unnecessary assertions. We should only test the before_seq isn't same to the after_seq when using sequencer.
corrected some misspelling
Revert "corrected some misspelling"
corrected some misspelling
Remove extra `end` in arel_table docs. [ci skip]
Revert "Revert "Remove `:disable_with` in favor of `'data-disable-with'` option from `submit_tag`, `button_tag` and `button_to` helpers.""
Revert "Remove `:disable_with` in favor of `'data-disable-with'` option from `submit_tag`, `button_tag` and `button_to` helpers."
missing dot [ci skip]
copy edit asset guide [ci skip]
prevent using already loaded Gemfile for 'bundle install', fix #6314
Removing ==Examples and last blank lines of docs from actionpack
code-format italicized 'production' env [ci skip]
s/aff/add [ci skip]
Add documentation for arel_table
add tests and external file backtrace for Routing::Mapper#draw
Minor editing of getting started guide
Use merge! instead reverse_merge! here
Remove `:disable_with` in favor of `'data-disable-with'` option from `submit_tag`, `button_tag` and `button_to` helpers.
remove docs on Range#step
updating define_attribute_methods documentation
allow define_attribute_methods to pass multiple values
Removing ==Examples and last blank lines of docs from railties
Remove not used date variable and another test warning
Remove assertion on date from humans.txt tests
Remove dates and environment variables from humans.txt
Added the wrapper tag option to simple_format
simple_format refactoring
'Netherlands locale' does not make any sense, it's Dutch locale [ci skip]
Improved the readability of some sentences [ci skip]
fix format in getting started guide [ci skip]
Since escape_html_entities_in_json was moved to 3-2-stable, make it true in AS, closes #6287
adding examples to deep_dup method
Missed colon
removing unnecessary 'examples' noise from activesupport
MySQL doesn't allow default values for blobs.
Remove `:mouseover` option from `image_tag` helper.
Copy edit [ci skip]
Remove dependency on safe_join from number helpers
mispelling asset_tag_helper
Correct code wrapping around content of welcome/index.html.erb
Wrap 'Missing template posts/new' error message in a blockquote for better formatting
Rails actually has one root route defined
Separate CR out in CRUD explanation, explain each letter one at a time
Re-enforce/re-explain what happens when you go to root route (Welcome#index) better
Briefly explain static file routing in the getting started guide
Autoload ActionDispatch::Request::Session to avoid circular require.
marking self in Hash#symbolize_keys!
use const_defined? with second argument in AS::Dependencies
added example to Hash#symbolize_keys
unnecessary 'examples' noise in Hash#assert_valid_keys docs
added example to Hash#stringify_keys
adding examples to Hash#deep_merge method
remove useless tests for Range#step
fix `alias_attribute` will raise a syntax error if make an alias on a column that named as a ruby keyword
Refactor App Generator Test
Remove blockless_step leave all that up to Ruby
Remove remaining require 'rubygems'
Need to include "OutputSaftyHelper" here to prevent
Update docs to public_send for Object#try
require "rubygems" is obsolete in Ruby 1.9.3
update docs on Object#try
mailer can be anonymous
fix todo: use minitest skip instead of return nil
Copy edit the documentation
Do not add `:include_blank` option if prompt is present
Only set `:include_blank` if the value of this options is not present
`:include_blank` should be true if the size option is nil
[guides] add local precompilation section
Improve and cleanup a bit partial renderer
Changed the changelog and documentation about the select method (tag select) forces :include_blank  if is required and no multiple and display size is one
Update manifest
Remove tailing spaces :scissors: [ci skip]
Move AS set configs to AS Raitie
copy-edits a recent CHANGELOG entry [ci skip]
update example outputs of some asset helpers
fixes a nodoc which swallowed the documentation for the rest of the methods [ci skip]
missplelling error in abstract_mysql_adapter
s/wether/whether [ci skip]
copy edits [ci skip]
fix incorrect example [ci skip]
copy editing [ci skip]
Remove wrong rack/utils dependency from AS
mispelling errors in render_text_test.rb and sqlite_specific_schema
Object#try can't call private methods
mispelling error in actionpach changelog
remove docs related to ruby 1.8 from Array#wrap
Add commas missing in performance tests
Update railties/lib/rails/generators/rails/app/templates/config/application.rb
Remove prepared statement from system query in postgresql adapter
added examples to Integer#multiple_of?
removing trailing spaces
Better document the difference between #clone and #dup. Add #nodoc to initialize_dup and use :method: to document the #dup method. Relates to issue #6235
Remove #=== quirk
added docs to String#to_datetime
Add test directory to TestTask's libs
added docs to String#to_date
Remove useless load path modifications
Lazy load I18n
Move require to where it's needed
Remove ruby/shim
added examples to String#exclude?
remove unnecessary 'examples' noise
this stuff can all be handled by Relation
extract deprecated code
set_owner_attributes is covered by the scoping
CollectionProxy < Relation
Use respond_to?(:to_ary) rather than is_a?(Enumerable) to detect collection-thing.
update engines guide to show how to have an engine's ApplicationController inherit from the main application's ApplicationController
fix String#last example
fix String#last example
added docs to String#last
improve String#first docs
fix typo in String#first
added docs to String#first
added docs to String#from
improve String#to docs
added docs to String#to
Clarify expire_action with namespaced controllers
added docs to String#at
better wording
Update railties/lib/rails/application/bootstrap.rb
missing 'with'
Move HTTP Token auth docs above the Token module
Test Hash#except can receive more than one argument.
Update guides/source/configuring.textile
Update guides/source/configuring.textile
In robots.txt, User-agent should be all downcase except for the first 'U', according with http://en.wikipedia.org/wiki/Robots_exclusion_standard
Copy literal route constraints to defaults - fixes #3571 and #6224.
Failing test for #6251
Return false for exists? with new records - fixes #6199.
Don't ignore nil positional arguments for url helpers - fixes #6196.
Refactor the handling of default_url_options in integration tests
remove unnecessary 'examples' noise [ci skip]
Modified template in sample is new.html.erb, not index.html.erb
remove duplicate usage of Rack::Utils.status_code in LogSubscriber#process_action
add unless_exist option to memory store
Remove key argument from run_callbacks to fix build
removing key argument from run_callbacks - fix build
AS::Callbacks#run_callbacks remove key argument
deleting empty lines in docs parts
Postgresql doesn't accept limits on binary (bytea) columns.
Allow to run `connection_adapters/quoting_test.rb` independently
remove inappropriate comma
Rename some variables
Custom coders support for ActiveRecord::Store. JSON, YAML, Marshal can be used out of the box.
make both cached and record_updated accessors in one line
after_commit :on => :update should be called when save is
Consistent CHANGELOG entry indentation.
Add CHANGELOG section for unreleased Rails 3.2.4; document addition of #beginning_of_hour and #end_of_hour to Time and DateTime core extensions.
Refactor Generator class to not rely on in-place editing the controller
Remove unused private method in fixtures.rb
Remove unused parameter in ::instantiate_fixtures
fix a couple of formatting issues [ci skip]
Updated tests for has_secure_password.
has_secure_password shouldn't validate password_digest.  It should also take options to turn validations off.
registers ceb1dcc in the CHANGELOG
update some examples in asset tag helper docs [ci skip]
Removes NetAddr dependency
remove redundant and stray line [ci skip]
simplify the alias_attribute example [ci skip]
cut some duplication and minor edits [ci skip]
Add example for image_submit_tag with confirmation. [ci skip]
Adding test for humans.txt
add humans.txt
Add annotaion for class_eval in AbstractController#helper_method [ci skip]
Add failing test re #3436 which demonstrates content_type is not respected when using the :head method/shortcut
If content_type is explicitly passed to the :head method use the value or fallback
Improve readability of metaprogramming annotations at AbstractController callbacks.
added docs to alias_attribute method
added docs to cattr_reader
better docs for cattr_accessor and cattr_writer
added docs and examples to cattr_writer method
Add passing tests for generating URLs with nested SCRIPT_NAMEs
Changes for numeric api for Time because Time.current works different
Added tests for comparsion operator for Range
added docs to cattr_accessor method
Compressed all images from the guide through ImageOptim which saves sometimes up to 74.6% in size [ci skip]
adding example about using cattr_accessor with subclasses
Revert "fixing active model links in readme"
Revert "Compressed all images from the guide through ImageOptim which saves sometimes up to 74.6% in size [ci skip]"
removing the surrounding +s in active model readme
Compressed all images from the guide through ImageOptim which saves sometimes up to 74.6% in size [ci skip]
Converts inet and cidr columns to NetAddr::CIDR
Locking ruby-prof for now.
Doc for ActiveRecord::Result empty? method
Remove accidentally pasted NOTE section during introduction of +beginning_of_hour+ and +end_of_hour+ documentation.
Corrections to +beginning_of_day+ and +end_of_day+ example dates.
Added documentation for +beginning_of_hour+ and +end_of_hour+ to Active Support Core Extensions guide.
Initial proof reading of getting started guide
note that WIP guides are not in the index menu [ci skip]
fixing marked actived model classes in readme
marking some active model classes
fixing active model links in readme
adding observer example
Ensure that Rails.env is equal to "test" by default when running tests.
are ran -> are run
[guides] Add comments to deep_dup example, fix second example [ci skip]
Remove obsolete deep_dup requires
More faster rails dbconsole
Use deep_dup in aciverecord default columns assignment
Keep all  methods in object/deep_dup
Updated CHANGELOG entry for `deep_dup`
Reword guide entry for `deep_dup` method.
Change unless + else into if + else
Guides for deep_dup
Nice logic for deep_dup in rails
doc edits [ci skip]
Add missing public method doc to TimeWithZone.name
Update actionpack/CHANGELOG.md
remove .new from raise ActionController::UnknownFormat
added an integration test that checks ActionController::UnknownFormat renders 406 :not_acceptable
Raise a rescuable exception when Rails doesn't know what to do with the format, rather than responding with a head :not_acceptable (406)
SpawnMethods#merge returns the intersection when passed an array, and not the union. Update the documentation to reflect this.
Prevent creating valid time-like objects from blank string from db
Make RedCloth not convert double hyphens to emdashes. Closes #5292
Revert "Play nice with some lint patterns"
some corrections in the AR query guide [ci skip]
Adds migration and schema dump support for INET, CIDR, and MACADDR
check checkboxes with array of strings as :checked option
Update `first`, `last` and `take` in guides
Use `take` instead of `first` to avoid unwanted implicit ordering (fixes #6147)
Switch token_tag if block
Changelog entry regarding mysql(2) STRICT_ALL_TABLES
Add config option, rdoc, tests for mysql(2) STRICT_ALL_TABLES mode.
Try to convert object passed to debug_hash to hash
Default to 'strict mode' in MySQL
Modify test schema.rb to use a VARCHAR rather than a TEXT when a default is required to keep MySQL happy.
Use respond_to_missing for TimeWithZone
Use respond_to_missing? for Chars
Use respond_to_missing? for OrderedOptions
Give more detailed instructions in script/rails in engine
Duplicate column_defaults properly (closes #6115)
Change unless + ! into if
need to dup the default options so that mutations will not impact us
make sure the superclass matches so load order does not matter
Use Hash#fetch instead of has_key? check
Improve assert_template layout checking
fix doc [ci skip]
session creation methods to a module
Force given path to http methods in mapper to skip canonical action checking
update invalid partial error message as per 04202a3f8d66c0675eac41fbf63309f4be356e81
create a request session in the cookie stores
create a request::session object in the memecache store middleware
Adjust error message for partial names starting with an uppercase letter.
Added reference to I18n.localize, as discussed here: https://github.com/rails/rails/issues/4027
Play nice with some lint patterns
Editing log levels to reflect this doc: http://api.rubyonrails.org/classes/ActiveSupport/BufferedLogger/Severity.html
enable tests for beginning_of_* and end_of_* within time zone tests; enable test for future_with_time_current_as_time_with_zone; fix beginning_of_month test.
added beginning_of_hour support to core_ext calculations for Time and DateTime
Update documentation for button_to.
extract deprecated dynamic methods
Add some docs and changelog entry
Allow overriding exception handling in threaded consumer
Allow configuring a different queue consumer
actually don't need to expand the aggregates at all
#to_sym is unnecessary
de-globalise method
extract code from AR::Base
clean up implementation of dynamic methods. use method compilation etc.
Allow ActiveRecord::Relation merges to maintain context of joined associations
mention database mapping in getting started guide
Remove vestiges of the http_only! config from configuring guide
Remove content-length as well
Make ActionController#head pass rack-link
bread AD::Request::Session to it's own file, consolidate HASH OF DOOM lookups
RouteSet: optimize routes generation when globbing is used
allow the :converter Proc form composed_of to return nil
refactored extracting :size => 'XxY' into an extract_size! method
Allows assert_redirected_to to accept a regular expression
use extract_options!
No need to force conversion to Symbol since case ensures it's already one.
No need to work around 1.8 warnings anymore.
Update command line guide
cache_store has an extra option of :null_store.
I found it strange that this guide is redirecting questions to a specific person. Heiko Webers' (@hawe) last blog post is a year and a half old, so it's not obvious that he's still active with Rails security. If he is, feel free to revert.
Add CHANGELOG entry
Corrected the name of the module that should be included to get the url helpers.
extract options finding to a method
testing session store behavior
Use arel nodes instead of raw sql
Use Array#first instead of Array#[0]
Adding note about `first` and `take` to the changelog
Introducing `take` as a replacement to the old behavior of `first`
Document `last`, check for primary key on default order and use quoted table and column names
Made `first` finder consistent among database engines by adding a default order clause (fixes #5103)
Add backtrace to development routing error page
Reset the request parameters after a constraints check
initialize instance variables
converted session hash to delegation
session hash imported
oops, forgot some semicolons
remove unused ivar
use hash fetches to populate the :id value
imported options, switched to object composition
added proc evaluation for action cache's layout parameter
* move exception message to exception constructor * save original exception * keep original backtrace
Enable ActionDispatch::Http::Headers to support fetch
RouteSet: remove some code dups
ActionPack routes: remove some useless code.
build fix for SharedGeneratorTests
Gem cont presence checking has been removed
Typo
Rakefile executable attributes and shebang lines has been removed
Mention mac os x installation tools on getting started guide
Remove tags from getting started guide and adapt some of the content to the new guide
Rewrite refactoring section in getting started guide
Rewrite comments action in getting started guide
Changed code examples to have a consistent code styling [ci skip]
Use new hash syntax in generated Gemfile
Add note about image_tag('') issue in Asset Pipeline guide (see rails issue #3080)
ActionPack: remove tests for hash_for_* methods
Refactored remove_column
BigDecimal string wrapping in JSON serialization can now be opted-out, fixes #6033
Add Rails::DBConsole tests
Build fix for plugin new generator change
Use :github option in Gemfile and make hashes consistent
copy-edit guide [ci skip]
remove unused pguides rake task from railties
Add empty rows to improve readability. [ci skip]
Removing unused local vars in Queue tests
Add few lines to describe how aggregation part caching works. [ci skip]
simpler wording and explanations
Lowercase.
changelog fixes. Closes #3911
more edits [ci skip]
copy edit AS deprecation/behaviours docs [ci skip]
Revert "Added Short 1 line note about connection pools. 
"
Add line which gives a little bit more information how *_will_change! works.
Add documention for utc_offset method
Bump Rails version in action mailer guide.
Getting Started Guide Code Cleanup
JSON: encode BigDecimal NaN/Infinity as null.
notify_observers should be public
Minor English fix.
remove useless assertions
return value of block is returned
only yield to finder block if something is found
Allow extra arguments for Observers
Don't type cast values that don't respond to to_i to 1
distance_of_time_in_words: Add/tweak comments to understand time intervals better
distance_of_time_in_words: 45-60 days is about 2 months, not about 1 month
Add ActiveRecord::Base#ids
delete_all raise an error if a limit is provided - fixes #4979
Remove empty lines.
Added Short 1 line note about connection pools.
Add documentation to command_line.textile explaining how to use additional notes directories
Add ability to specify custom annotation directories
Add test coverage for rake notes
split CDATA end token in cdata_section helper
Dont stream back cookie value if it was set to the same value
Dont set cookie header for deletion of unexisting data
Simplify matching with array of possible domains
Use more appropriate one-liner for class declaration
add ActiveRecord::RecordInvalid to exceptions sort the exception names alphabetically
Improve changelog of new :silence deprecation behavior
build fix for observing_test.rb
Rails 4.0 upgrade note for the ConfirmationValidator change
Replace boolean argument with an options hash.
Update activesupport/CHANGELOG.md
Failing test for #6034
no need to dup options in send_data
allow send_file/send_data to skip disposition header, closes #2973
Rewrite adding a second model section of Getting Started Guide
wrap translate defaults to use translate helper features, closes #1102
Add note about using 303 See Other for XHR requests other than GET/POST
Build fix for observed_classes
Reword polymorphic routes + mounted engine rdoc
Remove `button_to_function` and `link_to_function` helpers
Add missing require when helpers are used in isolation
railties variable is not required here.
Observer: simplify tests
Remove unused ivars left from close checks
Support cookie jar options for all cookie stores
Restore interpolation of path option in redirect routes
Remove repeated word
Remove scaffold explanation from getting started guide
Escape interpolated params when redirecting - fixes #5688
Close #3886 - Add THEAD and TBODY to scaffold markup
Add failing test case for #6053
Change check_box to work inverting the checked and unchecked value
Remove unused assignments
Document ActiveSupport::Deprecations.behavior
Add changelog entry and some docs for collection + layout
Move layout logic with collection to be handled only with explicit template is given
Allow access to current object_counter variable from layout when rendering with partial + collection
Allow layout to access current object being rendered when using render partial + object
Allow layout rendering to access current object being rendered when using partial + collection
Removed extraneous .present? check for AR::Base#reload
Removed deprecation warning for #find as a result of AR::Base#reload
Remove unused assignment in actionpack date helper test
Remove unused assignments from activerecord tests
Add changelog entry for jsonp mimetype change, fix failing test
Removed unclear doc in AR querying guide [ci skip]
Tests for regexp separator in String#truncate https://github.com/rails/rails/commit/5a7513593f64e0ff7e4de1ee37bac5eeddfae270
Don't convert params if the request isn't HTML - fixes #5341
Revert "Make non English title indexable (such as Chinese or Japanese) using MD5."
Avoid calling content type multiple times
Make non English title indexable (such as Chinese or Japanese) using MD5.
Lazy load `default_form_builder` if it's passed as a string
Document exception handling inside resce_from handlers
Generate appropriate error more judiciously
fix typo in ActiveSupport::Inflector#titleize
String quotes and trailing spaces
Indentation for private methods https://github.com/rails/rails/commit/e7d55f734aae204115d0a04a2db774ac364c1312
AS core_ext refactoring pt.2
AS core_ext refactoring
Allow Thor 0.15 and 1.0, to be released shortly
Don't create new directory for tests
Engine#routes? method has been fixed
Add a failing test for #5764
Add test for default silence and stderr deprecation behaviors
Document #behavior= and update CHANGELOG
Add a "silence" behavior to completely turn off deprecation warnings.
Refactor RoutesReloader a bit to avoid creating extra hash objects
Remove Declarative module extending, it is already part of AS::TestCase
Define only writer method for queue, as reader is declared
Refactor human attribute name
Do not modify options hash in human_attribute_name, remove reverse_merge
Remove unnecessary ).
Add REST section to getting started guide
fix the Flash middleware loading the session on every request (very dangerous especially with Rack::Cache), it should only be loaded when the flash method is called
Correct small consistency issue in AR querying guide
Use Rails::Queueing::Queue instead of Queue so people can build their own consumers around stdlib's Queue
Code-format references to config settings
Update guides - run single test for AR testing
Update contributing guide - run single test
Update AM example
More using <tt>x</tt> instead of +x+ when the latter renders improperly.
removed deprecation warnings
Create plpgsql language if not available
Add parentheses to hide Ruby warning
Refactor AMo::Errors
Return earlier if attribute already changed in *_will_change! methods
Log the exception from the ThreadConsumer
ensure that draining the queue will raise exceptions
adding the `jobs` method to the test queue for getting a list of test jobs.
oops!
Extend stdlib queue for the test queue
do not depend on time
clean up empty lines
fixes run order in Rails::Queueing::TestQueue
made a few changes and fixes in getting started guide [ci skip]
update docs - disabling prepared statements is not connected to managing connections externally [ci skip]
add a factory method for queue construction so that apps can have multiple queues
Removed the sanitize_dom_id method because HTML5 doctype let's us use anything except nothing and whitespace for id's
remove deprecated calls
Add delete post section to Getting Started guide
more deprecations manually fixed
find and replace deprecated keys
allow AssociationProxy#scoped to take options so that API is the same as Base#scoped
%s/find(:\(first\|last\|all\), \([^()]*\))/scoped(\2).\1/gcI amongst other things
remove unnecessary test code
find_by_sql actually triggers after_find
AS::Callbacks optimized to reduce call backtrace
Use <tt>Foo::Bar</tt> instead of +Foo::Bar+
fix tests for SQLite3Adapter
renamed class SQLiteColumn to SQLite3Column
removed tail of old sqlite versions
fix SQLite3Adapter doc
Upgrade sqlite3 version to 1.3.6
fix tests for sqlite3
merged sqlite and sqlite3 adapters
Missing git add :trollface:
Initial queue implementation
Active Support Core Extensions guide: reworded "on one hand" and similar to "for one thing"
remove calls to deprecated find(:first) in actionpack test suite
Minor typo.
refactor content_tag_for helper
use safe_join in number helper
don't need this test
remove unnecessary else statement
remove calls to find(:first), find(:last) and find(:all)
remove deprecate #all usage
remove deprecated #first calls
remove deprecate #calculate calls
remove deprecated #find_in_batches calls
EXPLAIN only for sqlite3
Namedspaced generator indent method test refactoring
remove deprecate #update_all usage
fix #scoped deprecations
remove deprecated scope stuff
default_scope with a hash is deprecated
fix number_to_human docs [ci skip]
minor docs improvements
Add documentation for validate options
Enhance validations documentation
Shadowing variable warning removed
Routes reloader knows how to reload external files
Make files in paths consistent
Allow loading external route files from the router
remove unused method
remove tests for #with_scope (it's now deprecated)
adds a mention of the fact that an engine's lib/assets directory is also on the load path
Copy Edit
add missing test
extract #with_scope and #with_exclusive_scope to active_record_deprecated_finders
extract deprecated code
Extract deprecated code
fix interpolation for hash merging
allow merging a single where value
extract to active_record_deprecated_finders
giving a hash to default scope should not be deprecated (well, not for this reason)
Remove blank line at the end of routes.rb
Add partials section to getting started guide
copy edits [ci skip]
Revert "Added warning that require_tree includes files in unspecified order. So, that people may know the order of their scripts might be the reason that their scripts work in just fine in development but not in production. "
removing changes made in ccd0b511c933d3e2c7f3e345622ad2cc17728de5 and 189a1728b561c19404f814979fd73adc5bea554d [ci skip]
Refactor Observer.observed_class
Add partials explanation to getting started guide
Valid ips v4 and v6. Right logic for working with X-FORWARDED-FOR header and tests.
Remove unnecessary empty line
Add screenshot to updating post section
fix code syntax
Add include documentation to serialization
cleanliness in method parameters
Minor refactor of serializable hash
improve serialization doc
already defined in quoting
Don't indent blank lines in named base generators
Remove lonely number sign
for get -> forget
Clean up some straggling build failures
Restore .to_s to escape_hstore
Remove default match without specified method
Always quote hstore keys and values
and one more time
Added notice on how to enable gzip compression.
Added notice on how to enable gzip compression in rails app using Rack::Deflater. it is disabled & commented out by default.
Remove references to 'vendored plugins' except to note they used to exist but are deprecated. 'gemified plugin' is the only supported option now.
Added warning that require_tree includes files in unspecified order. So, that people may know the order of their scripts might be the reason that their scripts work in just fine in development but not in production.
Added some useful methods to the generators.textile
Correct documentation of SecurePassword
Refactor SecurePassword#authenticate
ActionDispatch::HTTP::Url#url_for refactor method
Deleting insecure and "bad practice" code. related: http://homakov.blogspot.com/2012/04/whitelist-your-routes-match-is-evil.html
Refactor hash creation in routeset
make sample code more compact
Add update post section to getting started guide
Use leap years trick in distance_of_time_in_words only for distances between real date points
fixed non matching documentation behaviour with method semantics on distance_of_time_in_words
Distance of time in words should work correct if from time > to_time
RouteSet: decomplecting a way to handle positional args
Upgrading mocha 0.11.2
RouteSet: simplify routes helpers generation code
Missed checked in Form Helper example
Support i18n attributes for confirmation
Reordered changelog entry
Updated CHANGELOG
confirmation validation error attribute
Only include Rake::DSL if it's defined.
Add missing requires in routes
Make it explicit that Symbol-s are not officially supported.
Refactor GeneratedAttributes
`rake notes` and `rake notes:custom` now support css, scss and css.
Adds favicon to guides layout
Add distance_of_time_in_words example for seconds
Improve signed cookies documentation
Revert "in feedback solicitation text, correct that docrails is fork, not branch"
Add validation code to getting started guide and improve validation section
Add model validation section to Getting Started guide
Remove circular require of time/zones
Comma missed
Freeze the middleware stack after it's built
in feedback solicitation text, correct that docrails is fork, not branch
Add index and links section to Getting started guide
Add show action in getting started guide
New Getting started guide wont have tags
Adapt "Getting started guide" code sample
Add "Saving data in the controller" section
removed extra "you"
be sure to currectly fetch PK name from MySQL even if the PK has some custom option
Add model creation step to getting started guide
Add Ruby 1.9.3 recommendation
Put warning on getting started guide back
Add "Using the change method" title back to make it stand out
Regenerate Gemfile for getting started guide
Update guide for rails 3.2.3, fix code download link.
Add to guides info how to disable prepared statements
Remove unused generator options. This was added for the removed rails new --http
Add hook for add_resource_route
Remove unused code. We should use 'active_support/time'.
Define array methods in ActiveRecord::Associations::CollectionProxy
Add missing dependency for active_record_deprecated_finders
Improve observers documentation
Add documentation to the SpawnMethods#merge method.
another attempt at the language
the index option is always created if the type is one of references or belongs_to. Refactoring it to a simpler form and fixing the build
review changes for #5875
let's not use `and` in place of `&&`
let's keep the slash in the return value instead of the path variable [ci skip]
Warn about do end syntax in redirect option
stamp out ruby-debug19 with extreme prejudice :)
Remove unused test code.
Changes b tag to strong
converting some tests to assert_raises, and DRY'ing retrieve_variable changes
catch nil.to_sym errors in partial_renderer, and raise ArgumentError instead
remove autoload for OrderedHash, usages removed already
Relax multi_json dependency to allow any 1.3 -> 1.x instead of just 1.3.x
Make log_level explicit in production.rb template
fixed broken build after multi_json upgrade
Update Rails 3.2.3 release date in changelogs as March 30, 2012
fix scaffold_generator_test.rb and model_generator_test.rb
opening a connection will block if the pool is full
Require for time_with_zone should stay in core_ext/time_zones :bomb:
Add missing require in Active Support time zones (fixes #5854)
fix ActiveModel::Validations::Callbacks doc
Automatically create indexes for references/belongs_to statements in migrations.
remove extra new line from generated Gemfile
fix bad format [ci skip]
Rename notify_observers argument *arg to *args to make it more clear that the method accepts multiple arguments
Rename Observing#count_observers to Observing#observers_count
Improve example in initializer
Correcting some confusion. Pago Pago is part of American Samoa, not Samoa. Further, Samoa and Tokelau jumped across the IDL from Dec 29 to Dec 31, 2011 switching from UTC-11 to UTC+13. American Samoa did not make the change and remains at UTC-11. Pacific/Fakaofo and Pacific/Apia are in TZInfo and documentation about the dateline change is in austalasia at IANA.
Hey, let's just make it easier for everyone and dump the unmaintained ruby-debug19 and move to debugger. Whats the consensus here? If we want better adoption on ruby1.9, please lets just use this fork.
SQL query formatting
extract deprecated code for #find, #first, #last, #all
extract deprecated #calculate code
move code out to active_record_deprecated_finders
fix tests
move some of the update_all implementation to active_record_deprecated_finders
now we can just manipulate the values hash in #only and #except
use a hash to store relation values
doesn't make sense for select! to take a block
remove apply_finder_options call from AssociationScope
Make Relation#extending work like other value methods
Add Relation#merge!
assert valid keys
Allow Relation#merge to take a hash
we have no need for the ASSOCIATION_METHODS constant
we don't need to test that constant assignment works
refactoring
Extract clusterfuck method for surgery
mention that coercion only happens when the primary key is an integer and use +to_i+ formatting
Documents that ActiveRecord's find by id uses to_i to coerce its arguments to integers
Revert "Added documentation to explain what happens if you don't set any values for the dependent option on has_many"
Added documentation to explain what happens if you don't set any values for the dependent option on has_many
Add documentation to detail passing of an object as the second parameter passed to the ActiveSupport::Notifications.subscribe method instead of a block
Remove obsolete code
@stale_state should be nil when a model isn't saved.
Add bang versions of relation query methods.
#send_file leans on Rack::Sendfile to X-Accel-Redirect the file's path, so opening the file to set the response body is wasteful. Set a FileBody wrapper instead that responds to to_path and streams the file if needed.
avoid autolinking by rdoc [ci skip]
Some refactor for association.
Provided fix for calling rake tasks within mountable engines
move apply_finder_options to active_record_deprecated_finders
add active_record_deprecated_finders as a dep
Remove the addition to the guides
Add changelog entry
Remove Module#delegate!
Add back the old `deprecate` method as `deprecate!`
Document the changes to delegate in the guides
Change API docs regarding delegation to non-public methods
Optimize the performance of #delegate
Add index method to FormBuilder. Useful when you use field_for and need to know the index number into the iteration.
Grammar fix in 3.2 Release Notes guide
don't duplicate default values in text helper
copy editing [ci skip]
Revert "add instructions for adding additional manifests"
fix bad format [ci skip]
Override AR::Relation methods in NullRelation. So a NullRelation (Relation#none) is chainable with database methods.
Corrected grammatical errors in schema_dumper and scoping/default
no need in temporary array in number_to_phone helper
"rails new -h" shows message in rails directory
rewords the section about default_url_options in the Action Controller Overview guide
add instructions for adding additional manifests
Adding itemscope to list of boolean attributes.
Document that default_url_options must return a hash with symbolized keys
default_url_options does not receive one argument anymore
Inline the symbolize_keys/stringify_keys methods
Added instructions on port number
fix doc for ActiveSupport::Callbacks::Callback#define_conditional_callback
refactor configuration of insert_returning
update stdlib doc urls in comments - active_support/core_ext/[integer|numeric]/time.rb
adds a new test case for titleize
revises the regexp used in titleize
fix markup error [ci skip]
avoid empty api pages
use extract_options! in cycle helper
Don't use arel_table in published_and_commented example in querying guide
Revert "Documents that ActiveRecord instances also support []/[]= methods for reading/writing attributes"
Revert "Where migration can get wrong help added"
copy editing [ci skip]
pass default value as argument to fetch
Documents that ActiveRecord instances also support []/[]= methods for reading/writing attributes
Better class name
Update Custom Exception Handler section of Internationalization guide
Class variables has been fixed to Singleton instance variables at Rails module
revises requires of some AS deprecation files
documents the contract for the argument of AD::Routing::RouteSet#url_for
Where migration can get wrong help added
Improvement to migration guide
Make url_for work when option is nil and default_url_options has stringified keys
Initialize variables in file update checker to avoid warnings
Remove not used require from as to avoid circular requires
lets not show too much output and shadow the intention [ci skip]
minor fixes [ci skip]
fix boolean value in guide [ci skip]
Revert "Update activemodel rdoc links"
url_for: avoid a nil check.  unroll a loop.  handle most common case 1st.
Remove unnecessary in HTML 5 type attribute with default value
Optimistic locking: lock_version needed type information.
Add AC record identifier example with not-persisted object
carefully and quickly merge url_for options
Small improvements added to getting started
Revert "update ActionPack README links"
update ActionPack README links
Update activemodel rdoc links
Updated migrations.textile to change :integer on line 807 to :boolean, as it was earlier in the example. :flag is a boolean, not an integer. (defaults to false)
Improve config.assets.initialize_on_precompile guide.
Add better errors reporting for ActiveModel::Configuration
No need to extend ActiveSupport::Extend here
removed deprecated methods and middlewares
Revert "update ActionPack README links"
added example, removed blank lines
update ActionPack README links
Revert "rails 4 will support ruby version 1.9.4 or higher"
Use the more idiomatic tap method
the file update checker now also detects removed files
DATABASE_URL allows omission of database.yml
use File.binread to pull in the schema cache
typo mistake fixed
rails 4 will support ruby version 1.9.4 or higher
Adds test to check that circular preloading does not modify Model.unscoped (as described in #5667)
minor elsif/else typo fix
also <text> replaced by <plain>
Get a properly aliased_table_name, when we use a polymorphic association.
Removes caching from ActiveRecord::Core::ClassMethods#relation
Changed engines guide not to use a css tag. <plain> will do just fine. https://github.com/lifo/docrails/commit/bb23d6fb005edaf25f5b294f9215429fb44b3f3d
Updated/changed useless tr/gsubs
Remove non-obligatory params in AC respond_to examples
Remove unnecessary articles.
Unnecessary uniqueness & force mapping has been removed at BacktraceCleaner#add_gem_filters
removed unnecessary block when using fetch
update purpose of middleware
fix formatting in engines guide; also removed a couple of non-existent images [ci skip]
Revert "parse <css> block as code (used in engines guide) "
wrong link to getting started guide
update to current rack middleware stack
parse <css> block as code (used in engines guide)
Correct invalid route example [ci skip]
pick better names and add a little documentation
Usage file in generators shouldn't be fetched only based on source_root
add type option to atom feed entry builder
copy editing [ci skip]
:success includes the whole 200 range, not just 200.
Useless/Confusing method definition removed
Small #label method refactoring, thanks @rafaelfranca
Tests :if option of force_ssl method
Block version of label should wrapped in field_with_errors in case of error
improve test coverage
Don't include deprecation in AM::Naming anymore
refactor
update mysql for new exec_insert signature
use undef_method to avoid NameError exceptions all the time
add use_returning as a postgresql connection config
Update travis.yml to use the proper rbx build names
Remove not needed requires
warning removed: `&' interpreted as argument prefix
no more deprecation required.
No more BufferedLogger so it can be LoggerTest
Reorder bits in the Layouts and Rendering guide
warning removed: (...) interpreted as grouped expression
Remove sort on attributes.keys
use tsort_each to avoid intermediary array
Remove obsolete reader from AC::MethodNotAllowed exception class
Remove AC::RenderError class second declaration
Remove the leading \n added by textarea on assert_select
clear up duplication between Persistence#destroy and Locking#destroy
fix test
whitespace :scissors:
fix typo. thanks @nertzy
validate attribute names in class and module attribute accessors
Update guides to reflect 0a12a5f8169685915cbb7bf4d0a7bb482f7f2fd2
remove irrelevant references to ARel
Add Relation#find_by and Relation#find_by!
recurse in read_attribute we get caching / don't duplicate code
use `symbolize_keys` instead of `dup.symbolize_keys!`
Introduce minor spelling corrections and fix broken markup tag.
Deprecate Column#type_cast_code
Properly typecast id attribute when using custom primary key
CHANGELOG entry for AR#slice
Add ActiveRecord::Base#slice to slice method calls
Make body background white for Lion scrollbar to be dark
Define Paths::Root#[]= in terms of #add.
Drop Paths::Root initializer check of #path as it isn't checked in the #path= or anywhere else
Drop unnecessary require in Rails::Paths
Change the example for habtm association to use proc according to changelog
prevent the cache sweeper ignores NoMethodError
Make controller namespace partial prefix optional
Test that render gets correct exact template name
Nested attribute setters can be overridden.
Remove code duplication in InclusionValidator and ExclusionValidator.
Set proper rendered_format when doing render :inline
CSRF messages are no longer controlled by 422.html because InvalidAuthenticityToken is not raised
Routing guide: document lambda constraints and request argument.
clarification to prevent confusing newbies; Passenger/Unicorn are app servers, Apache/Nginx are the web servers along with thin a la Heroku etc.
datetime_select should work with -/+ infinity dates
Add a test case for layout nil.
Allow ActiveModel::Name to duck type
Cover one more case in auth_token and remote forms
config.action_view.embed_authenticity_token_in_remote_forms is true by default
Added config.action_view.embed_authenticity_token_in_remote_forms
much code can be deleted thanks to @tenderlove's refactoring
Add test for default_url_options[:port]
Changed the config.assets.manifest to nil in the comments in the production config template.
Improved the comment for config.assets.manifest in the asset_pipeline guides.
Changed the config.assets.manifest path in the comments to nil.
remove redundant variable
Check if the options hash already exists and merge it with the another hash.
Rails.initialized? can be called at any time without raising an exception [Closes #2507]
Remove Arel::Relation constant from PredicateBuilder.
Don't break Haml with textarea newline fix.
adds delegetion for eof? to AD::Http::UploadedFile
attributes are cached by string keys, so to_s to support symbols. fixes #5549
minor edits in testing guide [ci skip]
add missing do [ci skip]
Revert "[ci skip] updated bin/rails code in Rails Initialization Process guide"
Remove deprecated Relation module
If partial is rendered in controller, grab format from template
removed unused variables
change number_with_precision to not return negative zeros
Proc objects for caches_page no need controller object
favor composition over inheritance
Don't ignore non Enumerable values passed to sanitize (closes #5585)
favor composition over inheritance
Remove warning added by my own commit :fire:
still need to ensure the path is a directory
eliminating a branch we do not need. thanks @jeremy
Return the same session data object when setting session id
stop using *args in order to simplify our constructor
added shallow_prefix option description in documantation
Missing generated query for pluck method. (and changed the use of true for a more database agnostic example).
Don't depend on ivars. Thanks @fesplugas
ActiveRecord::Coders::YAMLColumn#dump should raise an error
sprockets-rails 1.0.0 was released, remove git dependency from Gemfile
apply form_for namespace option to date_select
no need to freeze things all the time
test against ruby features in order to fix tests on Ruby 2.0
String#titleize works properly with smart quotes, closes #5584
ActiveModel::Name does not inherit from string
Made it a bit more clear where to run rails/server
Remove 'needless boolean casting'. "Predicates in Rails rely on standard Ruby semantics for boolean values and guarantee no singletons whatsoever." - @fxn
Allow a defining custom member field on resources
Remove useless conditional.
restores example depicting the use of true or false in regular font
Revert "Return an actual boolean from xml_http_request?"
document `-e` argument for rails console
Testing layout gotcha when view renders partial
Small layout correction
Testing Template and Layout Example
[#5559] Do not black out the system timezone DST jump hour if Time.zone differs from that.
Use one 'be'.
ActionController caching small String#split optimization
[ci skip] updated bin/rails code in Rails Initialization Process guide
spacing fix in guide [ci skip]
removed warning: shadowing outer local variable - exception
Return an actual boolean from xml_http_request?
[getting started][ci skip] fix link to the code
fix HashWithIndifferentAccess.[] method
oops, forgot to commit the tests! :bomb:
chdir before globbing so that we don't need to escape directory names.
Use the new scope syntax
Properly deprecate the block argument in AV FormBuilder
:foreign_key option should be on has_many side of association
properly namespace the fixture exception
deprecate Proc#bind that can cause symbol memory leak
match rails console environment support, to server
Adds visit_Arel_Nodes_InfixOperation to Arel::Visitors::DepthFirst
Adding documentation for ActiveRecord::Base.abstract_class to clarify a particular usecase for this feature (to allow you to use inheritance in ActiveRecord without using the STI table name
Update config.assets.initialize_on_precompile warning to include engine side affects
[engines] [ci-skip] Add example of precompiling engine assets
improvements in "caching_with_rails" guide
remove duplicate requires. thanks @atambo
evented listeners can subscribe to any message
evented subscribers work
start / finish events are sent by the instrumenter
push the autoloads up to requires
Avoid another blank line in generated migration and remove assertion as per @spastorino request
Deprecate eager-evaluated scopes.
Avoid obscure &Proc.new thing
Remove valid_scope_name? check - use ruby
no need for cast
no need for lvar
split subscribers based on pattern type
Allow manual rollbacks in after_save to reset object correctly
Generate Migration Thats Adds Removed Index
fix rails server support of RAILS_ENV variable
Remove blank line from generated migration
Added a generator option to remove the public/index.html file when generating a new Rails application
We dont need to merge in the parameters as thats all being reset by the rack headers (and its causing problems for Strong Parameters attempt of wrapping request.parameters because it will change in testing)
probably should require the objects we monkey patch.
[ci skip] Make guides more readable & consistent
search private and protected methods for convert_key
bigdecimal can be duped on Ruby 2.0
guides location has changed [ci skip]
Add missing require
Correct description of ['migrated_at > ?', 1.week.ago] from "more than a week ago" to "more recently than a week ago."
Updates ActionMailer Base summary and fixes space in code example.
Remove code duplication
Adding comma to correct syntax in comment.
Remove exclude option from ActionDispatch::SSL
-h also shows help options.
Provide access to logger instance within TaggedLogging blocks
changed all.map to pluck
Increase minimum version of mail.
Removed ActiveSupport#load_all!
time_tag support for blocks
respond_with description: changed 'response' to 'format'
Revised comments for respond_with
Build fix for app_generator_test.rb
Revised description for responds_with
[getting started] Explain what the create action is accomplishing after params are output
[getting started] [ci skip] Explain in better terms what we are doing with render and params[:post] inspection upon first use
[getting started] [ci skip] Just want to get post params
[getting started] Add images
Rubyracer does not work on ruby, so add it to Gemfile with :ruby platform only
Update the guides and CHANGELOG
Whitespaces :scissors:
Some refactoring and update ActionDispatch::SSL code to use the Rack 1.4.x
Rack::SSL -> ActionDispatch::SSL
Add missing require
Remove unused require
moves the guides up to the root directory
Updates 'modyfing' typo to 'modifying'
Should use an argument in http_digest_authentication_test.rb
using pluck
use consistent explicit module inclusion
switch rack-test in Gemfile to using git protocol
Moved squawk method into LocalInstanceMethods module, so it would not be added to every ActiveRecord::Base object.  Changed acts_as_yaffle so it will include the LocalInstanceMethods module.  Now only models that call acts_as_yaffle will get the squawk method, instead of pushing them into every ActiveRecord::Base.
Changed unit tests so they refer to yaffle_test_field as symbol. acts_as_yaffle expects a symbol, so the string was causing the tests to always fail.
use empty? on the hash to avoid another method call
removed unnecessary calls to "freeze"
remove some mocha stubs
make stubbing Time.now easier
test relation presence fix
fixed - warning: instance variable @controller not initialized
tests for Relation .present? and .blank? are check cases and shouldn't force sql-count
fixed - warning: ambiguous first argument; put parentheses or even spaces
Speed up mass assignment by avoiding extra loops.
Remove deprecation from AS::Deprecation behavior, some minor cleanups
fixed - warning: assigned but unused variable - checker
relation .present? and .blank? should not query SELECT COUNT(DISTINCT id)
fix typo in redirect test
strip null bytes from Location header as well
allow zero-arity proc for AbstrController::layout
when using a preloaded array and the uniq flag is set then return the size of the uniq array
errors should probably be logged as errors
Address the dump file format for hstore
Revert "AM::MassAssingmentSecurity: improve performance"
Add missing quotes on AS::Notifications examples
escape commas in paths before globbing to avoid infinite hang in Dir[]
[ci skip] Add examples of subscribing & creating ActiveSupport::Notifications
[ci skip] Add examples to instrumentation guide
ActiveRecord::Core#initialize: improve performance
Simplify helpers handling. Ensure Metal can run AC hooks.
Remove ActionController::TestCase#rescue_action_in_public!
[getting started] Round out 'Laying down the ground work' section
[getting started] rename initial 'meat' section of guide to 'Laying down the ground work'
[getting started] correct typo in welcome/index.html.erb template path
[getting started] Improve explanation around initial controller generator usage
[getting started] remove indentation for get 'posts/new'
Allow you to force the authenticity_token to be rendered even on remote forms if you pass true
Do not include the authenticity token in forms where remote: true as ajax forms use the meta-tag value
Remove remaining http_only? calls.
[getting started] Reworking beginnings of the 'meat' of the guide
[getting started] Default root route in config/routes.rb is for a welcome controller. Let's make it easy by creating a WelcomeController, not a HomeController, in the guide
[getting started] add warning that guide is being worked on (just for edge)
Remove --http.
[getting started] Link to Bundler website when explaining Gemfile[.lock]
[getting started] Improve prose for initial routing section
[getting started] mention generators early on, when rails new is mentioned.
[getting started] briefly explain what a controller and view are
[getting started] more line lengthening
[getting started] fix lines that are too short.
[getting started] update Rails version to 3.2.2
[getting started] *THE* way to install Rails is by running +gem install+. You should not run this as the root user.
[getting started] Remove super-early mention of REST from Getting Started guide.
Move database configuration section from Getting Started Guide into Configuration guide
use content_tag in button_to helper
Add API apps CHANGELOG entry
Update railties/guides/source/api_app.textile
Do not generate app/views and sprockets entries on http app
Generate special controller and functional test templates for http apps
Rename http-only app generator option to http
Move http only option to AppGenerator
Add test to ensure setting config.generators.http_only actually disables the generator options
Allow generator configs from http_only! to be overriden by app
Remove duplicated tests from shared generator
Refactor http_only, remove reader method
Disable template, helper and assets options when using http_only!
Create generators http_only! setup and hide some common namespaces for now
Generate middleware http_only! config when running http only app generator
Add http-only option to Rails app generator
Add ActionController::HTTP
AM::MassAssingmentSecurity: improve performance
Remove key_value helper now that master is 1.9 only and we always use the 1.9 hash syntax in the generators.
Minor clarification in documentation language and spelling
Update API guide with latest decisions.
[engines guide] Add information about running and reverting specified migrations [skip ci]
Expand changelog and upgrading rails guide with IdentityMap info
Remove IdentityMap
Add sprockets-rails to generated Gemfile. This should be reverted after sprockets-rails release on rubygems
Depend on sprockets-rails v1.0
The sprockets railtie was moved to sprockets/rails/railtie
Remove ARes from the list.
Remove remaining sprockets tests
Remove sprockets dependency on actionpack
Add sprockets-rails to rails project Gemfile
Remove tests and fixtures for Sprockets on ActionPack
Remove sprockets integration on ActionPack
Added missing end to example
Check for existence of exactly the called `fixture_path=` method
add include_hidden option to checkbox tag
Environment in engines tests is required on boot_rails, no need to require explicitly
Don't need to share engine's tests anymore, plugins are gone
Ensure that engine can be mounted at root (#4314)
Remove Active Resource source files from the repository
fix typo in AP CHANGELOG [ci skip]
mark engines guide as wip [ci skip]
copy-edit contributing guide [ci skip]
Refactor the test_unit scaffold generator to use the key_value method
add 'include_hidden' option to select tag, closes #5402
Use the attributes hash explicitly
Actually commit the change!
Undo unwarranted change to coding conventions. I am not a fan of the aesthetics of private/public at the root but more importantly, we should not be changing coding conventions with almost a decades worth of history at a whim. The conventions are there to have a consistent coding style, that is their primary purpose. When there is so much existing code with the existing style, any change will have to lift an enormous burden of proof as to why its overwhelmingly superior. That is not the case here, so this is being reverted.
'module' is reserved word. Sample of code with error - not cool.
Added documentation for the ActionController::MimeResponds::Collector class.
Updated description of #retrieve_collector_from_mimes
[config guide] Add mass_assignment_sanitizer to Active Record config options
Do not use the attributes hash in the scaffold functional tests
use AS::Logger so we are consistent
allow people to specify custom formatters, use the default formatter in production so that PID and timestamp are logged. fixes #5388
Advise to keep secret token private
Advise to keep secret token private
Remove unused method
make sure connections returned after close are marked as in_use
make the tagged formatter extend the existing formatter
Allow retrieve_cache_key to work on collections such as ActiveRecord::Relation.
deprecated clear_stale_active_connections! can call #reap instead of no-op'ing, #reap does the same thing
Add documentation for find_or_create_by_{attribute}! method.
Add dynamic find_or_create_by_{attribute}! method.
Improved ActiveSupport::Autoload performance.
Add engines guide to documents.yaml
[instrumentation] Add further action placeholders
[instrumentation guide] Cover deliver.action_mailer event
[instrumentation guide] Cover receive.action_mailer event
Documented the removal of size from text_field based helpers and cols, rows from text_area helper.
Add ability to define callbacks in ActionMailer using AbstractController::Callbacks.
ensure u2029 is escaped in escape_javascript helper
attr_accessor_with_default was deprecated and removed.
Squash commits into a single commit
Revised explanation of fields_for usage.
added clarification stating the counter_cache attribute needs to be created on the associate class via a migration
assert_template matches against Regexp
Remove ActiveModel::Naming#partial_path
@controller already includes url_helpers in with_routing method
Add missing require
AbstractController.action_methods should return a Set
Added clarification to description of how initial form values are derived.
Removed max-stale from the tests since it's a request cache-control directive, just for clarity sake.
Change api_only to http_only
Add some docs for MiddlewareStackProxy methods and api_only!
remove unused require from AS/core_ext/class/delegating_att.rb
fix fragment portion of some links
Revised explanation of form_for usage
Rename variable to avoid using name "include"
Remove Array#wrap usage in AMo serialization
Make sure serializable hash with :include always returns string keys
Install latest bundler on Travis.
Bump bundler dependency.
configure how unverified request will be handled
Document validations and callbacks Array support for :if and :unless options
Close string quotes
In AR depths use &:to_i before :uniq to process mixed arrays likes ["1", 1] correct
Minor changelog fixes [ci skip]
Added missing ActiveModel::Naming dependency.
Remove warning of unused variable
Additional preamble comments in form_helper.rb.
ensure that released connections move between threads
make active_connection? return true only if there is an open connection in use for the current thread. fixes #5330
Use one system call whenever possible, group rake and Dir.chdir calls
Small correction to the description of the role of the form builder. (endpoints are generated by form_for without reference to the form builder)
fix incorrect changelog headings [ci skip].
changelog updates for Rails 4 [ci skip]
Revert "Add rails glossary of common terms & concepts"
fix ArgumentError being raised in case of invalid byte sequences
Update CHANGELOG to fix wrong extension.
Tests for removing a HABTM association when optimistic locking is enabled.
Not need to pass join attributes to association build
Revert "let the connection pool of new applications have size 1 rather than 5"
Revert "updates the new default pool size in some additional places"
Add tests to test that through associations are not readonly, and we can update the records we retrive from the association
Adds #create/drop_schema on the PostgreSQL Adapter.
Correct grammar in documentation
copy edits [ci skip]
Don't reset inheritance_column when setting explicitly.
Change syntax to accept an AR::Relation instead of old conditions hash/array.
Change the string to use in  test case.
Set the rendered_format on respond_to.
Just change the formats on first render, closes #5307, closes #5308.
Add :conditions option to uniqueness validator
Add test case for #5307
fixes #4506 [ci skip]
attribute_present? should return false for empty strings
Add #schema_names to PostgreSQL Adapter.
Improve docs for attr_accessible|protected related to Hash#except|slice
Add some docs for ActionController::Base.without_modules
Left off a : when specifying the :namespace option for a :controller path segment
In a nested resource route, the parent resource param is <resource_name>_id
Adds line to change log and update documentation.
Removed flag attributes.
Correct it's/its usage.
Refactor AD::UploadedFile, and raise sooner if tempfile is not present
Ensure load hooks can be called more than once with different contexts.
Remove unused ActionController::SessionManagement
Avoid ImplicitRender just call render directly
Clean up module docs [ci skip]
warning fix : mismatched indentations at 'end' with 'case'
Revert table_name= needs connection now, so just stub table_name
Don't ignore call to undefined method in Sweeper
Adds :layout option to render :partial when a collection is given.
Use latest rack-cache.
Increasing minimum version of mail due to security vulnerability found in Mail 2.4.1 for sendmail or exim
refactor Hash#slice and Hash#extract!
Always passing a respond block from to responder
Failing test for mime responder respond_with using a block.
Compute asset paths from the request if ENV["RAILS_RELATIVE_URL_ROOT"] is not set.
Refactored method arel_attributes_values.
[instrumentation guide] Add introduction + basic outline
Add rails glossary of common terms & concepts
Added parsing of arbitrary media type parameters.
Add test case to has_many through association when mass_assignment_sanitizer is :strict
Add config.middleware.api_only!
force response body to be read in assert_template
Tweak activerecord/test/cases/validations/i18n_generate_message_validation_test.rb
minor corrections in AMo::Model docs [ci skip]
document the shortcut to the root route helper [ci skip]
Test that RecordInvalid exception's translation falls back to the :errors namespace
Small typo fix
Add a new guide for API-only applications
Now all the models need to explicitly declare the accessible attributes
Only add the whitelist_attributes option if ActiveRecord is present
Allow translations of activerecord.errors.messages.record_invalid to be looked up in errors.messages.record_invalid
Whitelist all attribute assignment by default.
Bump "latest version" from 3.2.1 to 3.2.2 in upgrading rails guide
remove troll
tidy up formatting
wow how come I commit in master? O_o
AS/kernel/reporting no where used in ts_isolated
Initialize @stale_state to nil in association
Added test case for new_record round trip with associations problem
Don't clear sequence name when we explicitly assign it.
Remove unusused variables
typo
Route root helper shortcut
[engines guide] Add more concrete example of conflicts when not using isolate_namespace
Handle files from ActionDispatch::Static with Rack::Sendfile (fixes #5225)
remove usages of AS::OrderedHash
copy edits [ci skip]
Use public_send instead of send in ActiveModel::Model initialize
Add docs with usage examples for ActiveModel::Model
Refactor and cleanup in some ActiveRecord modules
Add ActiveModel::Model, a mixin to make Ruby objects to work with AP inmediatly
Turn off verbose mode of rack-cache, we still have X-Rack-Cache to check that info
Unset association when existing record is destroyed.
simplify namespace assignment in fields_for
only log an error if there is a logger. fixes #5226
Can't cache url_options on a controller level
Maximum wait_timeout on Windows is 2147483
Made documentation of config.assets.precompile slightly more explicit.
don't pass unnecessary argument
Stop SafeBuffer#clone_empty from issuing warnings
Optimize url helpers.
Removed max-stale from the setting the cache-headers in the response as max-stale is a cache request header.
Optimize path helpers.
revert setting NOT NULL constraints in add_timestamps
Add documentation for IndexDefinition.
Allow fieldsets to be created without a block.
Add release dates to documentation
Tap, tap goes the middleware
Ensure [] respects the status of the buffer.
Patch Informix Visitor so that it includes joins
fix api doc [ci skip]
adds a nodoc [ci skip]
Add entry for schema cache dump to CHANGELOG.md.
Support judgement expired schema cache dump.
Load db/schema_cache.dump duaring boot time.
Add db:schema:cache:dump and db:schema:cache:clear tasks.
Add support schema cache dump and load.
Improve header hierarchy.
Include a comment as to why ETag header should be removed from the response.
Changed asset_host config to more specific
Some cleanup on the upgrading guide
reduced localhost check to two method calls
remove unnecessary memcache equire in ActionDispatch::Session::CacheStore
Modified comments explaining what the update_only option does.
Inflector/constantize - inject method lets us to avoid using another variable
minor edits [ci skip]
move the strict validations to an appropriate section and some edits [ci skip]
copy edits [ci skip]
Change asset_host config language to be more helpful and accurate
Revert "only mutate the scope object in the `bind` method"
remove unnecessary code
Add brief summary of strict validations added in 3.2.
force datetime attributes to be changed, fix GH #3965
Correct NullStore cache store name in caching guide
call binmode on the tempfile for Ruby 1.8 compatibility
only mutate the scope object in the `bind` method
bind value creation refactoring
removing dead code
use bind values for join columns
Add a new line after the textarea opening tag.
ruby19: no need to rescue when requiring 'rdoc/task' in Ruby >= 1.9
logger.silence is deprecated
document how to create non show paths from an array of parameters
Add documentation to object method of CollectionHelpers::Builder
Move all the helpers to protected section
updates the new default pool size in some additional places
let the connection pool of new applications have size 1 rather than 5
reverted regular expression fix
layout affects views not methods
fixed regular expression in Specifying Constraints section
content_tag used instead string for option
Adding tests for non-optional glob parameters
fix inflector bug where -ice gets pluralized into -ouse
use content_tag instead strings
A guide for upgrading Rails [ci skip]
copy-edits [ci skip]
Remove NULLS FIRST/LAST. closes #5152
Update changelogs with rails 3.0-stable branch info
Remove wrong and redundant code.
put and patch both are allowed for update
fixes a test: rake routes now includes PATCH for resources
use regular ruby for fewer method calls. we do not need :gift:s!
consistently mention first patch, then put
uses PATCH for the forms of persisted records, and routes PATCH and PUT to the update action of resources
decouples the implementation of the inflector from its test suite
removes the reconnect key from the database.yml generated for MySQL
explains why reconnect is false by default in the database.yml generated for MySQL
removes verify_active_connections!
Added guide to updating engines built in previous versions of Rails
correct fetching :name option in form fields
Update with new task names for building mysql and postgresql databases
Document the :host option for force_ssl
Update documentation for force_ssl - closes #5023.
SSL should not be disabled by default in any environment.
Must support aliases for OVER operator.
Add #extract, which produces ANSI SQL function EXTRACT(<field> from <expr>).
Use consistent whitespace for commented options.
Move config.autoflush_log to correct template.
Remove unused implementation of next_migration_number
Avoid inspecting the whole route set, closes #1525
Remove unused global variable in controller filters test
Remove skip_filter block param
Cosmetic fixes in AM changelog
Always default to flushing enabled
Advertise autoflush option in production template
Make log autoflushing configurable
Revert "Remove meaningless code from the examples" of AutosaveAssociation
Minor fixes to ActiveRecord::AutosaveAssociation's docs
updates CHANGELOGs to register changes in 002713c
add some tests, yay!
Only set ActionView configuration inside the on_load block
Add config.default_method_for_update to support PATCH
AS::Callbacks: deprecate rescuable option
Support ANSI SQL2003 window functions.
format lookup for partials is derived from the format in which the template is being rendered
#read_entry in ActiveSupport::Cache::FileStore should log details of the exception when an exception is thrown.
Prefer || over 'or' for boolean operations
bumping up arel
prepared statements can be disabled
bumping version and spec
added a module for visiting and transforming bind values
Adding :last_week, :last_month, and :last_year aliases to Time and Date core extensions
more ruby 2.0 respond_to? changes
ruby 2.0 makes protected methods return false for respond_to, so pass true as the second param
fix bad docs from f373f296 [ci skip]
Don't wrap the raise with ensure
ordered_options will work if inherited from Hash, remove OrderedHash usage
refactor option_text_and_value and option_value_selected? methods
Testcase for GH #5114.
Refactored two methods to use delete with a block
Restore lookup formats to the previous value after searching for the failing view
refactor time_zone_options_for_select
suggested changes.
Bug: cache_path.size doesn't return length of filename but size of file if cache_path is Pathname.
Added database pooling sub-section to the 'configuring' guide
use Hash#delete on styelsheet_link_tag
tag bind params with a bind param object
bumping to 3.0.1
bind parameters can be differentiated from sql literals
delete vulnerable AS::SafeBuffer#[]
use AS::SafeBuffer#clone_empty for flushing the output_buffer
add AS::SafeBuffer#clone_empty
fix output safety issue with select options
use Hash#delete with a default block
refactor options_for_select
refactor grouped_options_for_select
Use the right format when a partial is missing.
search private / protected methods in trunk ruby
removed commented line. 3434 tests, 10531 assertions, 0 failures, 0 errors, 31 skips
Restored ability to identify ID and Sequence from tables relying on a nonmatching sequence default value for PK.
AM::Errors: allow :full_messages parameter for #as_json
Remove fixture files with Windows incompatible filenames
Integration tests support the OPTIONS http method
Update activerecord/CHANGELOG.md
fix some typos [ci skip]
Remove reference to rails_legacy_mapper, which isn't compatible with 3.2 #5022
Documenting the :inverse_of option for associations
add selected and disabled option to grouped select
assigns(:foo) should not convert @foo's keys to strings if it happens to be a hash
Add note about Rails 4.0 changes
Add a note about :dependent => :restrict on has_one and has_many's options
Update Time#change docs to reflect the options it uses
Correctly print names of non-timestamped migrations with db:migrate:status
Simplify regexp
let expires_in accept a must_revalidate flag
Oracle limit and offset issue when query is ordered, issue #99 solved.
use Process.pid rather than $$
database connections are automatically established after forking. Connection pools are 1:1 with pids.
Refactor Rails::Console to make it easier to test and add tests for it
Allow to set custom console type with Rails.application.config.console=
Remove console --irb deprecation notice
escape static file path to prevent double unescaping
move id_before_type_cast to PrimaryKey module
ActionDispatch: add missing test for callbacks
[engines guide] basic revision/review work
[engines guide] Clean up explanation for routing methods
[engines guide] Elaborate on isolate_namespace functionality
update engines guide to explicitly reference relative-to-engine-root-path for db/seeds.rb
[engines guide] Revise draft of guide, add testing, assets and dependencies sections
Rails::Engine docs should use helper method, not helpers
Autoload various constants effectively in abstract connection adapter.
Revert "No need to pass options which is never used"
fixing AP tests
Cosmetic fixes in block_format AM helper method + test
adding tests to document behavior for #4817
Rack body respond to each and not to join
CSS fix for guides. Closing #5028 [ci skip]
"Or" was not meaningful anymore, per dad7fdc5734a3813246f238ac5760b2076932216
Remove double test for header inheritance leaks
thanks to @jurriaan
sync __run_callbacks with ruby-trunk
Always reenable _dump task in AR databases rake. Closes #5030
Remove not used button translation from av locale
Update f.button docs to reflect real label implementation
A test case for GH #3544 to ensure that a field named field works fine
Rename field_changed? to _field_changed? so that users can create a field named field
remove unnecessary require core_ext/string/encoding
Allow ActiveResource subclasses to inherit headers from parent
Allow collection helpers with block to access current object in the collection
Use Hash#fetch instead of testing for #key?
Refactor sprockets compressors module
remove unwanted require for string encoding
Make sure serializable hash with :methods option returns always string keys
Cleanup extra spaces
prefer tr to gsub for replacing characters
inflection regexp are meant to be applied once
removes redundant argument
boosts inflections
Removing old Controller test
fix spacer template example
Add HTML5 input[type="date"] helper
Adding documentation to clarify usage of attributes hash.
Revert PR#5001 "removed unuseful require for reply as we are not using require model"
fix build 5001, model reply is required in cases/primary_keys_test too!
fix build #5001 reply model required in relations_test
Cosmetic fix in AM readme
Alias reconnect! to reset! for Mysql2 adapter since they have same behavior.
Cleaning Route generation tests
handle id attribute in PrimaryKey module
removed unuseful require for reply as we are not using require model
say unshift when you mean unshift (modulus prepend)
say goodbye to #with_test_routes :axe:
fixes a regression introduced by 532cd4, and a bogus test in AP the regression uncovered
PG column consults oid types when typecasting
dynamically populate casting objects via the pg_type table
fix associations when using per class databases
added test for #3732
make Range#overlaps? accept Range of Time
Refactored code
Borked the tests, so I'm reverting for now.
fixing indentation, moving class methods together
removing dead code
typecast columns based on the returned types
Change AR validation guide to remove ordered hash mention related to AMo::Errors
fixing the list of cached columns
improved test case for partial indices
only exclude serialized columns from cacheable columns
Bump tzinfo. 0.3.31 was released on November 6, 2011.
moving ordered hash to normal hash because ruby 1.9.3 hash defaultly ordered one
Refactored the OrderedHash related stuff
Replaced OrderedHash usage with Ruby 1.9 Hash
Replaced OrderedHash with Hash for ruby 1.9 series
removed unnecessary code
replacing the orderhash with hash for ruby-1.9
Also support writing the hstore back to the database
Hstore values are all strings
string_to_hstore / hstore_to_string, serializing
don't test schema where hstore not installed
schema dumper tests for hstore
Additional hstore tests, supporting null values, better compliance with postgres docs
add hstore to postgres native types and defaults
Made schema dumper recognize partial indices' where statements
Added where option to add_index to support postgresql partial indices
Clean up some wording.
removed unnecessary translator object
use the key name yielded to the fetch block
return early if the cast attribute has been cached
always call `read_attribute` from the reader method
test title changed corresponding to the test
replaced active support ordered hash to ruby hash on active resource
use the pg column to cast values
PostgreSQL does not work in the same way of the other adapters
AR::Relation#pluck: improve to work with joins
cache attribute if it is supposed to be cached
Update README to mention lint.
only unescape bytea after it has been read from the database
pgcolumn knows how to typecast binary columns
give each PG type a `type` method and decortate tz attributes
hstores can be typecast
columns are lazily typecast, so no more calls to `result_as_array`
taking column width in to account when fetching decimal fields
return early from typecasting if the value is nil
mapping more oids
postgresql correctly typecasts back to Ruby, so change assertions
many of the OIDs mapped and implemented
Trim down Active Model API by removing valid? and errors.full_messages
moving column types to an ivar on the result
copy over columns hash on reload
wrap and cache columns for typecasting
column_types hash is used for doing typecasting
column types are passed from the result set to the instantiated AR object
moved attribute translation to an object
moved most of the evald code in to regular ruby code
copy the columns hash to the active record instances, typecast using columns looked up on the instance
always flush all logs. fixes #4277
no need to check for this constant
replacing ordered hash to ruby hash
Added unit test to cover changes to RouteSet.url_for
The first IP address in the X-Forwarded-For header is the originating IP
Trusted proxies is replaced with a Regexp or appended to with a String
Always use content_tag for audio/video tag
Correcting ActiveRecord::Core#encode_with docs
use appropriate words for docs of Model.none
Failing test case that shows issue #736 should still be open.
adding a comment for myself
delegate attribute typecasting to the column
pg supports real booleans, so handle the case when `true` is returned
Change FILENAME_MAX_SIZE in FileStore to 228.
Changing active model dirty module helper method to more appropriate method with helper #4903
minor tidy up of none relation query method
allow mass-assign version attribute in AR::SchemaMigration
Note the ways #match may be called
Revert "Deprecated multi args to http route methods"
Get ActiveRecord::TestCase back on its feet, despite deprecation. It requires SQLCounter which was moved to AR internal tests only.
Highlight defaults to HTML5 `mark` element
Display annotations from .coffee files in `rake notes`
Optional start_day argument for Time#all_week. Closes #4883
Stop referring to Atom as "ATOM"
Remove assert_select_feed from assert_select_encoded documentation
Update fixtures testing help
Add testcase for non english filename. Related to #2982.
AS::Callbacks: remove unused code
Add *_url helpers to get the full assets URL
add handling for backwards-compatibility and update documentation
Clean up a bit default_response handling and cache format negotiation.
Document Integer#ordinal available in PR #2072.
Add ActiveSupport::Inflector.ordinal and Integer#ordinal
remove unasserted line in test
make the ONLY env variable used in guides generation work with kindle guides
mention how to generate guides for the Kindle [ci skip]
AS::Callbacks: rip out per_key option.
document config.active_record.dependent_restrict_raises in the configuring guide [ci skip]
let automatic EXPLAIN ignore CACHE notifications
prevents the database.yml template option from being passed to PGConn
To infinityâ€¦ and beyond!
AS::Callbacks: :skip_after_callbacks_if_terminated option
Added note about new Unicode version.
Update Unicode database to recently-released 6.1.
Verbose output for tests.
AC::Callbacks: remove usage of :per_key option from filters
Add convenience method to hide a generator from the available ones
Allow store to be a not null column.
*args is already an array. :'(
columns method doesn't have name argument
removed whitespace errors :yellow_heart::blue_heart::purple_heart::heart::green_heart:
Remove default class to collection_check_boxes and collection_radio_buttons
Allow collection radio_buttons/check_boxes to access current text/value
Add changelog, docs and guides entries
Allow proc for value/text method in collection_select
Remove useless argument in #columns.
Move collection radio buttons / check boxes back to FormOptionsHelper
Extract common collection helpers to a module to avoid too much inheritance
Create a Builder factory class to use with collection helpers + block
Refactor collection helpers to extract radio/checkbox/label calls
Remove collection_wrapper* and item_wrapper* options
Refactor value sanitization logic
Cleanup options helper methods a bit
Refactor option groups to use content_tag
Add basic documentation to collection_check_boxes and collection_radio_buttons
Use @output_buffer variable instead of concat in tests
Implement skipped test
Add collection_radio_buttons and collection_check_boxes to FormBuilder
Refactor the methods to use instance variables
Change Tag class to Category since there is another Tag class
Refactor render_collection method
Move collection_check_boxes and collection_radio_buttons to they our module
Add collection_check_boxes helper
Create collection_radio_buttons helper
Replicate :form html5 attribute to hidden field for check_box
use the class method to (un)escape binary values
Possibly clearer way of getting rid of ` and "
updating documentation for register_template_handler
Refactor define_restrict_dependency_method using reflection
fixes rake db:test:prepare when using postgresql with sql db structure file and specifying a template in database.yml
Use https://rubygems.org source for default Gemfile
Remove the dependent_restrict_raises configuration if activerecord is not preset
Use human attribute name to show the dependent destroy message
fix has_one, has_many restrict error message
revise docs [ci skip]
document the AR none method [ci skip]
fix a typo [ci skip]
fixes the plus sign properly [ci skip]
Revert "fixing text to match what is being displayed"
escape plus sign in "Rails 2.3+" to fix markup
Generate strict validation error messages with attribute name
No verbose the output for tests.
Build fix when running isolated test
Move escaping regexps to constants
Move escape_once logic to ERB::Util, where it belongs to
Remove ruby_debugger_gemfile_entry from app_base, we can just put ruby-debug19 commented directly in Gemfile
Added as_json method for multibyte strings
Added test to illustrate bad binary blobs.
Do not serialize nil in serialized attribute.
QueryCache will just dup an AR::Result, AR::Result can deep copy
always return the result set from select_all
made the result set object act more like an array
Added `none` query method to return zero records. And added NullRelation class implementing the null object pattern for the `Relation` class.
check_box with nil as unchecked value should be HTML safe
Remove slash from favicon_link_tag method attribute
Remove eval calls, use send.. eval is evil
Refactor select tag form helpers
Remove deprecation warnings from tests
Put spaces between the words at deprecation warning
warning removed: mismatched indentations
test_get_ids_for_ordered_association fixed
Don't run bundle install when passed with --pretend option
to_proper_path -> to_partial_path
Only add ActiveRecord configuration if it is present
Update actionpack/lib/action_view/renderer/partial_renderer.rb
Improve readonly examples and optimistic locking docs
reflection test fixed
warning removed: shadowing outer local variable - klass
Improve ar associations habtm docs a bit
Dont do underscore and camelize, only camelize is fine
There is an "inherit" option on const_get too, why not use it?
ids_reader method fixed, test added to has_many association
fix assets test
suggested fixes for :dependent => :restrict deprecation.
Same method for has_many and has_one associations
Easy dependent_restrict error message
Use conditional instead of try
fixing text to match what is being displayed
query cache instrumentation should included the bindings in the payload [closes #4750]
rewrites a couple of alternations in regexps as character classes
merge MRI performance methods into one file
Used block to make sure file get auto closed after use
Update .travis.yml
https://github.com/lifo/docrails/blob/master/.travis.yml
Sorry for editing this file.
Update README.rdoc
fix for Issue 4718
remove ruby 1.8 support code
Use block form of 'File.open' so that File object is auto closed at end
Replaced all 'for' loops with Enumerable#each
Add 'image/pjpeg' format used by IE
Set default_timezone explicitly for a test in activerecord/../base_test.rb
tiny refactoring
Remove initialize variable columnn, not needed
remove autoload UrlWriter, no longer exists
has_many/has_one, :dependent => :restrict, deprecation added.
Decouple finding matching class from instantiation
failing test case for Issue 4718
Improve active record associations guide a bit
run direcly $0 if rake invoked by Windows batch file.
Whitespace only: Use single newline at end of file.
Move argument validation into match
Extract different DynamicFinderMatch subclasses
Reverted build_original_fullpath method, as per discussion at https://github.com/rails/rails/pull/4470/files#r393461
Remove not used env[] call in routing_test.
Inline the prefix assignment so it doesnt look so daft
fix a small typo [ci skip]
Add `create_join_table` migration helper to create HABTM join tables
Remove redundant instance_variables (@colorize_logging)
fix example code in documentation for has_secure_password
Add Inflection test (and fixes) to ensure singularizing a singular actually give you the correct singular in more cases
Disagree with @spastorino, @jonleighton, @tenderlove on 51ccb7f59c83120bf6869f1febfebaec44bcface
Do not generate label for attribute when giving nil
Updates documentaton to indicate that :expires_in can be used with all cache stores.
Revert usage of safe constantize
Removed unwanted intializer and replaced with ruby default collect method
bumping journey to 1.0.1
global variables may not be set depending on the match. fixes #4703
syncs 3-2-stable CHANGELOGs in master
disable automatic explain if there is no logger [closes #4671]
Add :password_confirmation as a filtered param by default.
Add release date of Rails 3.2.0 to documentation
fix fixtures test as table_name is a string now
call to_s on value passed to table_name=
Use content_tag_for with array by default on scaffold.
Use `:rubygems` shortcut as standard Gemfile's `source` instead of explicit URL.
[ci skip] More docs for ActiveSupport::MessageEncryptor
The primary key is always initialized in the @attributes hash to nil (unless another value has been specified).
reuse common video/audio tags code and do not modify options
do not modify options in image_tag
allow to pass multiple sources to audio/video tags without using array
Deprecate DateTime.local_offset
Refactor button_to to avoid calling method#to_s twice
Change OrderedHash with array options to simple hash usage
Revert "Added Apache configuration for dynamic gzip content"
minor text change [ci skip]
use fetch rather than both Hash#key? and Hash#[]
Do not mutate given options hash in number helpers
Refactor percentage helper
Refactor float number parsing
Improve getting translations for number helpers
Improve field error proc example in validations guide
Change ActiveRecord::Errors to ActiveModel::Errors in guides
Make audio_tag able to receive multiple sources
Make path_to_video in video_tag apply to each source
remove extra 'the'
Handle nil in add_index :length option in MySQL
Remove unused variables to avoid warnings
no need in separate MiniTest modules
Removing unwanted method and adding to accessor for getter history
deprecated AR::TestCase in favor of AS::TestCase
Moving AR::TestCase in to the AR tests directory
fix some examples - method names can't start with a number
quote fix ` to ' in the ArgumentError message
code improved
initialized the @segment_keys instance variable
Use instance_eval instead of Proc#bind
Added Apache configuration for dynamic gzip content
Only show the type if column is present
moved the `get` testing method to a module
updated the warning signature
Deprecated multi args to http route methods
Remove not used if..else clause
alias_method added
Unused var removed
ActionDispatch::Cookies::CookieJar#deleted? predicate method.
Raise a better error if anyone wants to create your own ActionView::Helpers::Tags::Base child and do not implement the render method
properly memoize {field_type,select_type} as class variable
no need to module_eval here anymore
Use ActiveSupport::Autoload to autoload the tags
use CamelCase convention for "tag" model name
use rack 1.4.1
Clean up http config
Clean up SSL client cert example
Prefer to document with https:// example URLs and no port numbers
Describe Basic and Digest authentication. Document how to set auth_type to :digest.
One space separates sentences, not two
example bracket error
"will be used throughout all the views for posts." could suggest, that code's modification is somehow related to posts, while it's application-wide
Raise exception when date.order includes invalid elements
remove unnecessary AS::Concern usage
remove obsolete code as old actionmailer api was removed
Documented the :use_two_digit_numbers option
Support decimal{1,2} and decimal{1-2} and decimal{1.2} so it works fine with bash, zsh, etc, closes #4602
some modifications in action_mailer/base.rb
uniformizes the punctuation of comments in some files generated for new apps
Split Basic and Digest authorization tests
Remove not used requires from csrf helper file and test
Remove unused argument.
Bump rubygems required version to 1.8.11 (default version in 1.9.3-p0)
Remove ActiveSupport::TestCase#pending, use `skip` instead
change AR default_timezone to :utc since it's the default for AR::Railtie
Replace regexp matching with a simple string manipulation.
Why do we even need a constant here? A variable is fine.
TaggedLogging wraps an object, not a class.
Do not use the same Logger constant for class (from stdlib) and for instance (from the example)
stop splatting so much. We don't need :star:args everywhere
broadcasting to the console and remove file tailing middleware
pushed broadcasting down to a module
let AR::Relation pretty_printed like an Array
defined the actual logger signature
restored logging to the log file and display on the console
fixed test for more informative message
made the broadcast logger quack more like a logger
added the backtrace so errors can be found
add a broadcasting logger so we can split logs
Refactor translations retrieval
Remove code duplication
Don't type-cast unknown types to YAML.
Revert "just use an alias.  The target method is public, so make this one public"
No need to check html_safe? twice
Removed unused assigns from ActionView::Template::Error
document `:raise` option support for several helpers [ci skip]
while using activerecord-sqlserver-adapter 3.1.5 with Rails 3.1 with Arel 2.2.1 we encountered the error   uninitialized constant Arel::Nodes::Visitors::DepthFirst apparently Arel was trying to call a relative namespace with   Visitors::DepthFirst.new(block).accept self we fixed this by making it call an absolute namespace with   ::Arel::Visitors::DepthFirst.new(block).accept self
Bump mail
Added format to percentage
push ivar initialization down to a common method
adding tests for previous_changes hash
just use an alias.  The target method is public, so make this one public too.
remove unused captures
avoid useless is_a checks
move tagged logging to a module, stop proxying every method call
Use performed? instead of checking for response_body
do not do reverse lookups on incoming requests for webrick. fixes #4542
update release notes [ci skip]
Do not deprecate performed.
add uglifier version info in the 'what to update' section
fix duplicate ids for the headers [ci skip]
document AR::Base#with_lock in release notes [ci skip]
update the getting_started guide code [ci skip]
Don't instantiate two objects in collection proxy / find_or_instantiator_by
revising release notes [ci skip]
select doesn't take multiple arguments - fixes #4539 [ci skip]
Extract method_tag
Refactor button_to helper to use token_tag method
Convert URI.parser.parse to URI.parse, and remove ruby 1.8.x code.
update release note: timestamps is non-null as default
refactor RAILS_CACHE deprecation
Add ActiveRecord::Base#with_lock
revise wording [ci skip]
Refactored class methods on address render test
Adding Action Mailer section to 3.2 release notes
Update Release Notes: sprockets-rails section should be inside of ActionPack section
Test::Unit::Collector::ObjectSpace is not present anymore
Exclude rack.request.form_vars from request.filtered_env
Remove delegation to ActionController::Base
Revert "Remove redundant mention of escape_javascript alias."
updates to 3.2 release notes
remove ruby 1.8 related code
ActionView now has its own logger
Update docs for config.assets.logger
Refactor FormBuilder arguments and default config
Update time zone offset information
Silent Sprockets logger when config.assets.logger is set to false
Cleanup Post model, no need to require fake_models
Refactor content tag to not detect options Hash always
Do not mutate options hash
Cleanup persisted setup for model
Mimic AR models yielding when building new records, avoid using tap
No need for concat as well
Add test for content tag with prefix and extra html options
Remove capture.
Always treat the object passed to content_tag_for as an array.
No need to call html_safe since concat two SaffeBuffers always results in a SafeBuffer
Use block syntax to avoid code duplication
simplify some TaggedLogging methods
remove unused requires
No need to create a SafeBuffer since form_tag_html always rerturn a SafeBuffer
Extract input_checked? to a module
Do not need of ActionView::Helpers scope since we are inside ActionView::Helpers
disable transactions for this test
Add documentation to config.assets.logger
Deprecate RAILS_CACHE constant.
Add option to configure Sprockets logger
Update changelog
race_condition_ttl should be an integer
Bring back rendering templates that start with / in nested structures
Move protected instance variables definition, kill compatibility module
Remove deprecated default_charset= from AC::Base
Move render_to_body logic to return a spaced string to AC::Rendering
Remove method missing handling when action is not found, use action missing instead
Refactor render nothing/text => nil logic, and move to right place
Move render :nothing and :text => nil options to AC::Rendering
Rename test class and fix tests to keep consistency
Remove deprecated logic to render templates starting with /
Remove relative url root setting from ENV var
Remove rescue_action from compatibility module and tests
Remove other old compatibility constants
Remove constant already defined in exceptions module
Remove old compatibility methods not being used
whitespaces
validates method should not change options argument
AS::Callbacks: Refactor :per_key option
Remove redundant #to_sym
Remove redundant mention of escape_javascript alias.
validate related records in the same validation context as parent.
Remove unused code
Do not need each here anymore
Extract DatetimeSelect
Extract TimeSelect
Extract DateSelect
Cleanup
Extract TimeZoneSelect
Extract GroupedCollectionSelect
Extract CollectionSelect
Extract Select
Remove unused code
Extract RangeField
Extract NumberField
Extract EmailField
Extract UrlField
Extract TelField
Extract SearchField
Remove code duplication between CheckBox ans RadioButton
Extract RadioButton
Extract CheckBox
Extract TextArea
Extract FileField
Extract HiddenField
Adding one test case for label with block
Extract PasswordField
Rename classes
Extract duplicated code to a class
Extract TextFieldTag
Extract LabelTag
stop more ddl changes
stop ddl modifications for another test
use one based indexes for the mock migrations
stop making ddl changes for migrator tests
use thread variable in TaggedLogging
actually use the variable I created. :bomb: thanks @exviva
move another migrator to use sensors
Make it more explicit that the feature is deprecated, not removed.
Deprecate inferred JOINs with includes + SQL snippets.
infer references from Relation#order
store references as a string
Avoid sanitize_sql when we can use Relation#where instead
automatically add references when we can
Make referencing an included item trigger eager loading
Add ActiveRecord::Relation#references (#950)
Revert "Deprecate implicit eager loading. Closes #950."
moving verbosity tests to the migrator test, removing ddl changes
silencing migrator tests, refactoring the migration test helper
fix tests on sqlite3
prefer method sensors over actual ddl changes
testing the current version method
test that migrations have connections, and method missing delegates
making sure the temp connection and the real connection are different after dup
minor edits in getting started guide
copy editing asset pipeline changes
Add ActiveModel::Errors#delete, which was not available after move to use delegation
use rack from master branch
use Rack::BodyProxy in activerecord middlewares
use Rack::BodyProxy in AD::Reloader
ActionController::UrlEncodedPairParser is deprecated. Replaced the url parsing example with Rack::Utils.parse_query
show stats for app/mailers
Try to create schema migrations table in schema dumper test
[docs] Update pipeline asset organization section.
change class to id per scaffold change
Improve description of :allow_destroy option for nested attributes in getting started guide
fix a broken test
Upgrade mail dependency to 2.4.0
Refactored watchable_args and build_original_fullpath methods in railties/lib/rails/application.rb
Bump Sprockets to 2.2.0
Don't hardcode assets route skipped in route inspector
changelog entry for deprecated ActionController::Integration, ActionController::IntegrationTest, ActionController::PerformanceTest,ActionController::AbstractRequest, ActionController::Request, ActionController::AbstractResponse others
Delegate clear_active_connections to handler as well
Extract index and uniq index options to constants
Deprecate ActionController::Integration, ActionController::IntegrationTest, ActionController::PerformanceTest,ActionController::AbstractRequest, ActionController::Request, ActionController::AbstractResponse, ActionController::Response and ActionController::Routing
refactor response_body= method
Add begin/ensure block since we are returning.
Stub ip method of alternative request class
Mention how use config.assets.prefix to avoid conflicting with an existing "/assets" route
make sure the migration table is alive and empty
refactor schema migration table creation to the schema migration model
stop depending on the filesystem for interleaved migration tests
convert the migration list to a Set, remove duplicate code
deprecate the block argument to Migrator#migrate
refactor the migrate method to filter migrations before running them
move schema dumper tests to the correct class
use the schema migration model to dump schema info
move another migrator test, use schema migration model
use the model to delete records
move another migrator test to the correct class
use the schema migration model to create a new record
moving more migrator tests to the right test case
test code that finds migrations
removing migration files as they are no longer needed
moving migrator tests to a migrator test class
fixing test class name
adding a test class for table renaming
moving more column renaming tests
moving more renaming tests to the proper test case
moving rename column tests to their own class
moving column attributes tests to their own class
remove unused code
use ruby rather than mocha
move another index related test case
move tests regarding index modification to their own class
decoupling more tests from AR::Base
use skip rather than conditionally define tests
skip openbase test
move more schema modification tests
add a migration schema model
instantiate our own broken migration rather than relying on the filesystem
use skip so we know what tests are being skipped
remove dependency on the filesystem
moving logger test to its own file
construct a migrator with a list of migrations rather than a list of paths
Use a BodyProxy instead of including a Module that responds to close.
config.force_ssl should mark the session as secure.
removed unnecessary test_pass test from form_tag_helper_test.rb
Remove MRI 1.8 specific gems
Getting Started Guide: Update reference about JavaScript runtimes
Cache (FileStore) clear should keep .gitkeep
remove unused private methods
use Rack::Utils.escape_path
revise wording [ci skip]
Update railties 3.2.0 changelog
Update Railties section of 3.2 release notes
Add therubyracer gem commented in default Gemfile
Do not check if record is an Array twice
Refactor url_for helper to check for nil in the case statement only
Delegate data tag option to tag option for escaping
Remove value argument from boolean option
Return faster when no option is given
Refactor and improve readability
warns against using temporary subscribers
Split tag options helper in smaller methods
to_date, to_time, and to_datetime Time methods present in ruby 1.9
Remove deprecated and not used method
Extract asset paths uri regexp to a constant
fix rails binary path when using --dev [ci skip]
Added note about [ci skip] tag to contributing guide
deprecates Module#local_constant_names
add info about kindle guides in the release guide
prepare for 3.2 guides release :)
remove hidden link in guides layout
moving to arel 3.0.0
depend on journey 1.0.0
moving the table and index test to it's own file
bumping to 3.0.0
When force redirecting to SSL, make sure that the session is kept. As we're moving from a non-secure to secure environment, it's safe
add 3.2 release notes to the guides index
minor edits
fixes in api docs
First attempt at providing a 'what to update' section for Rails 3.1
minor revision in 3.2 release guide
Changed 'proc' to 'Proc.new' in ActionController::Caching::Actions description
Delegate subdomain method to the URL module, removing duplication
Simplify named host logic and missing host condition check
Extract ip host regexp to a constant
Handle leading spaces in protocol while sanitizing
AS::Callbacks: remove unused runner
Add CHANGELOG entry
html_escape already handles nil
on and ON are type casted to a true boolean column
Tiny refactor
changing self.attribute to @atrribute to follow one kind of value assignment through out the file
add some missing formats in the release guide
Some revisions to the release notes guide
Revert "Base#[] and Base#[]= are aliases so implement them as aliases :)"
Test that #[] and #[]= keep working when #read_attribute and #write_attribute are overridden
Test ActiveRecord::Base#[]= as well as #write_attribute
Update Active Support Constants guide for 1.9.
all tested database support migrations, so stop making the tests conditional
adding missing require
move column ordering tests to it's own class
deprecate the subdirectories parameter to `migrations`
Add "What to update in your apps" section to the release notes guide
refactoring migration test
dropping support for `schema_info`.
Remove dead code
Add CHANGELOG entry
Rails initialization with initialize_on_precompile = false should set assets_dir
migrate(:down) method with table_name_prefix
AC:TestCase::Behavior#head only accepts parameters as second argument
Whitespaces :scissors:
Add missing end
no need for extra method calls inside the framework
add documentation explaining reorder behavior
Substitute "gem" for "plugin" in contributing guide
Added the release dates for rails 3.1.1, rails 3.1.2, rails 3.1.3
Add build and dependency status images to README
Extend the set of compressible files by some common types.
Enable to handle over in options the regexp determining which files to gzip.
No need to check for 'draw do |map|' anymore
Add Gemfile entry when creating a plugin in application's directory
Ensure @last_column is cleared after visiting object
Symbol#[] method presents in Ruby 1.9
instance_variables method returns symbols in 1.9 ruby
get rid of using instance_variable_names method from AS
add benchmark helper that works in erb
if turn available then MiniTest::Unit.respond_to?(:use_natural_language_case_names=) available
Whitespaces :scissors:
Remove unneeded code
Test constant is not defined anymore
Use MiniTest::Assertions instead of Test::Unit::Assertions
remove reference to Test::Unit
spec class names can possibly be nil in mt/s < 2.6.1, so work around that
allow association as 1st uniqueness validation arg
allow an association as a scope parameter
register spec subclasses for people who spec
require minitest rather than test/unit
backport assert_not_same
require test/unit and sort test order
started converting AS::TestCase to minitest
Whitespaces :scissors:
Use ActiveModel::TestCase instead of Test::Unit:TestCase
MiniTest is always defined in this case
Test::Unit::Util::BacktraceFilter is never defined
use stub instead of redefining method to suppress warnings
make sure the test case name is nil
Made an example a little more realistic
removing unnecessary requires
just mix the run method in for minitest
rescue the assertion exception
add the class name to the assertion message
use a regular expression for the number of passes.  We only care that all tests pass, not the number of tests.
revert "fixing some tests on ruby 1.9.3 SHA 33f222b"
convert build_message to sprintf
use assert_equal and assert_operator
use sprintf rather than build_message
Just use assert_equal
refactor assert_response
test response assertions
no need for assert_block
stop using build_message for creating a string
use assert_includes rather than calling includes? specifically
just use assert and refute rather than building messages
removed unnecessary require for activesupport/core_ext/array/wrap
Remove more references to Test::Unit
removed unnessary require active_support/core_ext/array_wrap
don't set the hidden checkbox value if it's nil
No need to check if MiniTest::Assertions is defined
Remove unneeded tests
We should finalize the routes as soon as possible and not wait for the controller to be loaded.
Do not stub id here
Improve doc consistency
Implement Chars#swapcase.
Don't fork a process when assets:precompile:nondigest is invoked in assets:precompile:all. Improve GH #3694.
Array.wrap is an overhead as there is already check for class
use Kernel#Array instead of Array.wrap in Rails::Generators::Actions
Revert "Revert "More 1.9 way""
Remove deprecation warning from test related to old process api
Expanded rdoc about primary keys being protected from mass assignment.
gemspec assumes that user kept all generated files
Revert "Regexp.union seems to have different results in 1.8"
Revert "Add return for 1.8.7"
Add test path to LOAD_PATH to fix load error
Require ActiveSupport::TestCase form ActiveSupport isolation tests
Whitespaces :scissors:
Remove Array.wrap calls in ActiveSupport
Remove Array.wrap calls in ActiveRecord
Remove Array.wrap call in ActiveModel
convert railties to use AS::TestCase
use AS::TestCase as the base class
activeresource tests use AS::TestCase
Revert "More 1.9 way"
AP tests should inherit from AS::TestCase
test cases should inherit from AS::TestCase
test a subclass so that the removed method does not imact other tests
Update actionpack/CHANGELOG.md
Revert "remove deprecated API"
check_box helper with :disabled => true generates disabled hidden field. fixes #1953
remove deprecated API
fix some whitespace errors
More 1.9 way
Use 1.9 way
remove use of Multibyte.clean as it's no-op in ruby 1.9
remove obsolete commented asserts in TextHelper tests
Whitespaces :scissors:
Refactor extract_selected_and_disabled
Change more Array.wrap to Kernel#Array
Use friendlier method name
Use friendlier method names for upcasing/downcasing
Use more descriptive method names
Move include to top of class for clarity
Remove unnecessary requires/encoding comment
Use Kernel#Array in ActionController::Helpers
Replace Unicode.u_unpack with String#codepoints
Use Kernel#Array instead of Array.wrap in view_paths
remove ruby 1.8 example from Array.wrap documentation
Remove multibyte utils
Array.wrap is no longer needed in AbstractController::Callbacks
Remove "_codepoints" from compose/decompose
Remove unused code.
Document method definition
remove useless call to mb_chars
Just use Ruby's String#[]=
Array.wrap is no longer needed here
Assume Encoding support
Update to Unicode 6.0
Remove useless parens
do not require a file that is not used
Moved all the logger methods to active support logger
Just delegate a few methods directly to @wrapped_string
removed warning because logger.warn differentiate the warings
delete reaping frequency from the db config
deleted duplicated line
Update activerecord/lib/active_record/base.rb
ActiveSupport::Testing::Pending support for MiniTest only
support only MiniTest run with Isolation test
parse only minitest results in isolation test
refactor AS::Multibyte::Chars
Make return value from bang methods match Ruby docs
Revert "active record base class test case should not be public"
Override #slice! to ensure proper return value.
Remove overidden slice and slice! methods.
Nano seconds fraction of time is copied properly in Time#advance
Postgresql: restore previous behaviour regarding to nil values in connection specification Hash
call super from setup
just use the list of formatting keys we care about
call super
clear the sql counter on teardown so the GC can do it's thing
fix some formatting
use regular expression or statement. loltargetrichenvironment
active record base class test case should not be public
use logger.warn for warnings
Update ConfirmationValidator docs, correct when the validator runs
push exception message formatting to the exception class
push target down to the classes that care about it
just implement the delegate method
Array.wrap no longer needed
Revert "AS::Callbacks: remove __define_runner"
Remove more references to postgres on the release notes
Postgres is on travis right now, don't need an special mention here
refactor String#truncate not to use mb_chars
simplify Class#descendants using singleton_class method
removed unnecessary +1 from assert_difference because default difference is 1
No need to require psych since require yaml does that.
No need to override to_yaml and yaml_initialize methods in ActiveRecord::Core
No need to override to_yaml method in ActiveSupport::TimeWithZone
No need to override to_yaml method in ActiveSupport::OrderedHash
No need to override the to_yaml method in ActiveSupporte::SafeBuffer
No need to override the to_yaml method in BigDecimal
using the active support logger
No need to use rescue block to require psych
No need to check if YAML::ENGINE is defined since ruby 1.9 does that
Whitespaces :scissors:
Make sure that check_box helper return a safe buffer
Add test to make sure that add two safe buffers always return a safe buffer
Infer currency negative format from positive one.
refactored tests -- assert_diffrence instead of checking directly with count
copy edits
updates to 3.2 release notes
Postgresql: add test case for setting custom libpq connection parameters
No need of html_safe here tag helper always return a html safe string and concat two html safe strings always return a html safe string
use File.basename to get the filename minus .yml
use correct variant of checking whether class is a singleton
correctly handle order calls after a reorder
Pass extensions to javascript_path and stylesheet_path helpers. Closes #3417
Override respond_to? since we are also overriding method_missing.
Clean up routes inclusion and add some comments for the next soul that decides to adventure on this code.
Add font_path helper method
actually disconnect from the database at the end of each test
do not rewrite log during application bootstrap
Postgresql: Allow setting of any libpq connection parameters
Use -e option instead of -c option (rake rdoc task).
Rails::Plugin has gone
moving test_test.rb to test_case_test.rb for consistency.
allow sending documents in AC::TestCase#post and friends.
fix base64 require
remove ActiveSupport::Base64 in favor of ::Base64
fix use of FormBuilder.field_helpers
improve doc in number helper options
fix a warning about grouped expressions
use #to_s to convert Range to json
rename ruby-debug to ruby-debug19
General editing pass over assets pipeline guide
Updated copyright notices for 2012
DRY up guides index page
remove wiki link
fix a couple of formatting issues
removes comment obsoleted by 18ed37b
MiniTest condition removed
updating the reaping frequency documentation
rename start to run and use Thread.pass rather than sleeping to schedule the watchdog
connection pool starts the reaper
just dup the spec now that it will deep copy
connection specification will deep copy the config
each connection pool has a reaper
introduce a timer class for reaping connections
raise a pull full error when the connection pool is full and no connection can be obtained
connections are only removed if they are inactve
connections can be reaped via the `reap` method
Minor readability improvements
SCSS processor is provided by the sass gem
deal with removing connections associated with the current thread
connections can be removed from the pool
queue and signal no longer needed
refactor checking out the connection
remove more conditions for Fiber available in ruby19
infinite loop is no longer necessary
fiber is available in ruby19
connections must be checked in at the end of a thread
remove condition since to_time always available in ruby19 DateTime
ruby 1.8 ActiveSupport BasicObject no longer available
be explicit about where helpers are installed
adds a comments that clarifies why Range#include? chooses the comparison operator
Test case: fixture table name is defined in model
Use foo/bar instead of foo_bar keys for fixtures
Test fixtures with custom model and table names
AS::Callbacks: remove __define_runner
just add the writer rather than adding both and removing one
stop using __send__ and just module eval in the extensions
we know the classes will be a list, so *tell* it to respond to each rather than casting
don't need the begin / end
avoid extra method calls by just defining the delegate
content_for with flush parameter
don't use instance eval, just reference variables so we don't have to worry about "inspect" marshalling
removing dead code.
revise some doc changes
decouple initialize from clear!. Initialize ivars in initialize, clear ivars in clear!
modules don't have any instance methods
Deprecate implicit eager loading. Closes #950.
remove ruby 1.8 checking in constantize method
refactor Range#include? to handle ranges with floats
simplify sweep now that discard and flashes are in sync
mutations on the underlying hash should also mutate the discard set
rename @used to something a bit more meaningful
mutations can't be done without the consent of our proxy object.  This is one benefit of choosing composition over inheritance.
again, use Set#subtract
Use Set#subtract and Set#merge for keeping track of used / unused keys
fix method visibility
no need for bang bang :bomb:
app code in general wants Time.current, not Time.now
Documented about using :path option for resources
Delete some stray lines
refactor AR::PredicateBuilder.build_from_hash
Update railties/lib/rails/generators/actions.rb
Avoid deprecation warning
Support establishing connection on ActiveRecord::Model.
Support configuration on ActiveRecord::Model.
Add CHANGELOG entry
Further simplify singleton_class checking in class_attribute
Refactor AS::Callbacks
allow reorder to affect eager loading correctly
typo
Bump to rack 1.4.0
Use the correct table name from fixture
where(foo: [1, nil]) becomes "WHERE foo = 1 OR foo IS NULL"
no need to compact an already compacted Array
deprecate Base64.encode64s from AS. Use Base64.strict_encode64 instead
Document that index names are made up of all columns, not just the first.
Revert "This conditions is required to work with database create task. 1.9.2 is having a bug with "Calling return within begin still executes else". "
Removed RUBY_ENGINE checks for ruby18
remove conditions for GC::Profiler in ruby19
refactor Range#include? for range value
Remove unnecessary comma.
GC::Profiler available in ruby19
remove ForClassicTestUnit support for ruby 1.8
remove rexml security fix for rubies 1.8
Align rake notes.
Refactor RouteInspector
Correctly display rack apps with dynamic constraints in RoutesInspector
AS::Callbacks: improved __define_runner performance
Test::Unit::Util::BacktraceFilter not available in ruby19 test/unit
remove File#to_path alias
removes the compatibility method Module#method_names
removes the compatibility method Module#instance_method_names
::BasicObject always defined in ruby 19
ruby 1.9 returns method names as symbols
Module#name returns nil for anonymous class in ruby 1.9
add back the version info to the title in guides index page
remove date methods that are present in 1.9 ruby
remove useless 1.8 ruby code from Range#step, because Range#step without block always returns enumerator
Some fixes in rails guides generation
AS::Callbacks: improve __define_runner perfomance
fix kindle apps link in edge guides index
Clarify what persisted? returns.
Mip Earson -> Michael Pearson in changelog.
Remove extra 'be'.
fixes credit in changelog entry
registers guide generation for the Kindle and Kindle apps in the Changelog
download guides for the Kindle and Kindle apps from the home page
guides generation for the Kindle looking good now [Mip Earson & Xavier Noria]
remove checks for encodings availability
gem ruby-debug19 for console error if ruby-debug19 not found
(draft) guides for the Kindle and Kindle apps [Mip Earson & Xavier Noria]
remove Time._dump and Time._load patching for ruby 1.8
Use 1.9 hash syntax instead.
don't call an extra method if options[:tokenizer] is not present
remove deprecated Module#synchronize from ActiveSupport
remove deprecated whiny nil related code
remove deprecated define_attr_method from ActiveModel::AttributeMethods
use Range#min and Range#max to reduce extra statement
assert_not_match -> assert_no_match.
add latest changes to 3.2 release notes
Intercept sends in Model::DeprecationProxy
use Array#uniq in AM instead of deprecated Array#uniq_by
deprecate String#encoding_aware? and remove its usage
minor edits in caching guide
A few doc changes
Add some doc for ActiveRecord::Model
Add test to ensure AR::Model initialization works correctly
Add deprecation for the change to the active_record load hook
Support nested AR::Models
auto_explain_threshold_in_seconds should be a global config option so it can be shared between AR::Base and AR::Model
Don't include anything else if AR::Model has already been included
Make PredicateBuilder recognise AR::Model
Ensure attribute methods are included after all the AR stuff
Make generated_feature_methods work with ActiveRecord::Model
Deal with global config better between AR::Base and AR::Model
Add test for inheritance from a non-AR superclass
Extract common logic into a method
I herd you like modules.
Start work towards making AR include-able.
Remove Rescue middleware that was never used by Rails.
Update CHANGELOGs
Tidy up migration types.
Revert "Changelog release dates fixed according to rubygems.org"
added ability to specify from cli when generating a model/migration whether particular property should be an index like this 'rails g model person name:string:index profile:string'
Remove unecessary config_accessors.
Provide a class optin for page_cache_compression.
Gzip files on page caching
Changelog release dates fixed according to rubygems.org
Remove broken #compute_source_path
stop test resetting global state
remove checking for non-empty string before calling to_sym
add ability to set a prompt string in include_blank option for date helpers, closes #4143
Final grammar checkup on 3.2 release notes.
Grammar in 3.2 release notes.
Finished implementation of MIT license linking.
[docs] make it clear that the methods in a generator are executed sequentially
remove Rails application fallback from AD::IntegrationTest
Rails 3.2 Release Notes
Moving to logger methods to ActiveSupport Logger
 change Log
Doh, remove debugging line
remove ruby 1.8 stuff skip hack from AR
serialize fails on subclass
removes Enumerable#pluck from the AS guide
AM::MAS.attr_protected: rework usage example.
remove Enumerable#each_with_object again
Reconnect to the first database after db:create
Added link in MIT license for Action Mailer README. I think this seems appropriate but commentary on this is not a bad idea.
Added link to MIT license. Would love commentary on whether this seems appropriate.
Readability in Action Mailer README.
Correct grammar on Mailer generator -- passES. Working on enhancing conventional readability in README and USAGE files.
[docs] pluck docs reverted for activesupport
adding an integration test for splat regexp substitutions. fixes #4138
Delete unnecessary line that was necessary before I changed the code and it became no longer necessary.
Reset postgreSQL search path in db:test:clone_structure.
Update activesupport/lib/active_support.rb
remove AS whiny nil extension and deprecate config.whiny_nils
[docs] Added missing "}" fixes #4126
remove Proces.daemon from core_ext
just require things once
append puts the routes after the default, which causes a 404. instead use prepend
just use def setup
DeprecatedUnderscoreRead does not exist anymore
adding integration test for journey #7
switch to git journey
added failing tests for has_many, has_one and belongs_to associations with strict mass assignment sanitizer, fixed build_record to not merge creation_attributes, removed failing nested attributes tests (that feature was broken anyway) #4051
Move SubTestTask. Soften up tests.
raises an ArgumentError if no valid options are given to TemplateRenderer#determine_template
remove status_code from AD::ShowExceptions and useless requires
remove deprecated set and original methods for table_name, primary_key, etc
Action pack logger methodschanged to active supoort Logger methods
remove deprecated underscore versions of attribute methods
caches should not be global, so no need to clear in the teardown
removing deprecated methods
Changed the old logger to new active support logger
Restore `rake TEST=test/unit/foo_test.rb` support.
Rails::SubTestTask warns on test failure and moves on. Renamed from TestTaskWithoutDescription.
sync AS guide with the Ruby 1.9 related deletions in master
remove requires of core_ext/array/random_access that no longer exists
remove Enumerable#each_with_object from core_ext as it is present in ruby 1.9
remove Kernel#singleton_class from core_ext as it is present in ruby 1.9
removed warning "warning: ambiguous first argument; put parentheses or even spaces"
remove Array#sample from core_ext
rails version order fixed and formatted in railties changelog
Changed the require path for logger
removed  deprecated loggers
We don't need a special html_escape for 1.8 anymore
Using uuid which is supported in 1.9
remove check for string from request body setter
More tests deep including through habtm
'with_kcode' removed.
Removed test which works only < 1.9
added :other_than => :!= option to numericality validator
Doc fixes on Rails::Generators::Base.hook_for.
remove dead code as ruby 1.9.3 has Base64 module
remove support for ruby 1.8 in AS String extensions
Remove unused conditions for 1.9
Remove some of the ActiveSupport core extensions related to 1.8.
No Ruby 1.8 stuff. No more checks in code.
Updated gemspec for ruby 1.9.3
Add original_fullpath and original_url methods to Request
Add ORIGINAL_FULLPATH to env
Check for response to `#last` instead of `#first`.
Ensure option for select helper responds to `#first` before comparison.
skip hstore tests on PG databases that do not have hstore
do not compile regexp on every call
making sure updates work
hstores can cycle
can create hstore records via AR API
multiple key / values work
PostgreSQL hstore types are automatically deserialized from the database.
pg columns should understand the hstore type
remove more uses of deprecated loggers
No need to check here now for < 1.9.3
Removal dead code from my side :-)
Added Capistrano to the development group in Gemfile
It should be README.rdoc fixes #4067
requiring enumerator is not nessessary in ruby 1.9
NullStore cache belongs in Active Support
Remove dead code from AMo.
Remove more dead code from AS.
[docs] Ruby upgrade
4.0.0.beta now :-)
fix adding field_with_errors to date selects, closes #3487
Initial pass at removing dead 1.8.x code from Active Support.
Added failing test to demonstrate digest authentication failure
Get rid of more 1.8.x dead code
This test is rubbish.
Get rid of --old-style-hash
remove unnecessary link. This is already mentioned in section 3 of the guide
wrong link markup
fix default_i18n_subject comment in ActionMailer::Base
adds deprecation warnings to the RDoc of Array#uniq_by(!)
removes some unnecessary selfs
rack bodies should be a list
refactoring routing tests
Remove 1.8 backport
remove conflict marker
Make ActiveRecord::Relation#pluck work with serialized attributes
Make read_attribute code path accessible at the class level
Revert "Added Enumerable#pluck to wrap the common pattern of collect(&:method) *DHH*"
Depend on 4.0.0.beta gems. Use https for github urls.
deprecate Array#uniq_by and Array#uniq_by! in favor of Array#uniq and Array#uniq! from ruby 1.9
no more need to make Time#to_date and Time#to_datetime public
Update ruby_version_check.
rails/master is now 4.0.0.beta and will only support Ruby 1.9.3+
Add db/*.sqlite3-journal to .gitignore
Remove deprecations from Active Support.
Remove deprecation warnings from Action Pack.
Remove deprecated layout lookup.
remove warnings about @variable_for_layout
Check if source is encoding aware.
Do not hard code encoding to UTF8
Remove i18n dependencies from AP and AMo since they are in AS.
remove more uses of deprecated logger methods
don't encode an UTF-8 encoded template
Revert "Update .travis.yml"
Revert "Updated RUNNING_UNIT_TESTS" cp is not a valid command in DOS systems. This reverts commit 7d11c12958acf28ffb27d7e11a9c7f5b1418e77f.
Updated RUNNING_UNIT_TESTS
Update .travis.yml
* BufferedLogger is deprecated.  Use ActiveSupport::Logger, or the logger   from Ruby stdlib.
Party like its R-C-UNO!
Add an invitation to use jbuilder, since we are not going to bundle it in 3.2
adding tests for #4029
handle not only strings in date type cast
Removed period in comment regarding Levenshtein Wikipedia article to make a valid URL.
add failing tests for issue #3487
Don't notify campfire when the build keeps passing
fix a minor typo
Update activerecord/lib/active_record/railties/databases.rake
Rename STRUCTURE to DB_STRUCTURE, update dump task description and add simple testcase.
Revert "Update master changelogs with rails 3.0-stable branch info"
Update master changelogs with rails 3.0-stable branch info
Improve doc for ActiveRecord::Base.unscoped.
Warning removed in test
bypass preloading for ids_reader
No need 'abstract_unit' here. It's already in 'generators_test_helper'
add help text to routing error
Add campfire notifications for travis
Add test for register_alias
Rake tasks generator with test
Add test for type aliases
Allow symbols to be passed for extension aliases
Use gem versions of sass-rails and coffee-rails.
call scope within unscoped to prevent duplication of where values
warning removed "warning: instance variable @variable_for_layout not initialized"
AS::Concern is not really needed for AR::Explain
Make structure file configureable in db:structure:dump analog to SCHEMA in db:schema dump and clean up a bit.
Delete obsolete comment
Should clear the primary keys cache also
Don't store defaults in the schema cache
Defaults hash can go on the model
Cache columns at the model level.
Wait a full second so we have time for changes to propagate
Update CHANGELOGs and guides.
Show detailed exceptions no longer returns true if the request is local in production.
Do not raise an exception if an invalid route was generated automatically.
ShowExceptions should understand X-Cascade responses from exceptions app.
Improve the specs on exceptions app.
Allow a custom exceptions app to set.
Extract the rendering of public exceptions pages into a Rack app.
Get rid of the close checks since we cannot reliably close the session anyway.
Warning removed "warning: (...) interpreted as grouped expression"
removes Ruby constraint in RedCloth dependency
it's -> its
Move DefaultScope and NamedScope under Scoping
Let AttributeMethods do its own including etc
Split out most of the AR::Base code into separate modules :cake:
Set up delegations also for to_a and arel branches.
Move delegation reponsibilities of Relation to a module. Also precompile method missing calls for rofscale.
Make with_scope public so we stop using send :bomb:
Improve delegate list to avoid method missing.
Clean up the cache before the request in case we are running in the reload_classes_only_on_change schema.
There isn't a column_hash. It was being invoked by method missing.
Added .sass-cache/ directory to the genrated gitignore in engines.
Remove autoload for non-existent file.
seed file was already tested for existence. à² _à² 
escape assigns[:person], assigns[person] etc in actioncontroller testcase
updating arel and journey dependencies
updating the gemspec
let sdoc say which version of rdoc we depend on
updating to rc1
fix separator insertion in date_select helper
Remove that there copy/pasted code :bomb:
Update activerecord/lib/active_record/reflection.rb
Cache column defaults on model. ~30% on Model.new due to avoiding repeatedly fetching connection.
Avoid super; speeds up Model.new by about 12%
Close the response body on cascade pass, closes #3975.
Stop the build asploding on 1.8.7
Use a separate module for 'external' attribute methods.
dbconsole: Use the app's database_configuration instead of duplicating code.
Add return for 1.8.7
Unfluff the CI.
Clean up details keys before some tests to expire the cache.
Revert naive O(1) table_exists? implementation.
dup the details hash if a key has already been set for this object
copy edits
log exception backtrace when all backtrace lines silenced
locale and default_locale may be the same, so uniq the array
stop freezing the details hash
stop freezing hash value
typo in textile markup
FileUpdateChecker should be able to handle deleted files.
missing require in buffered logger
Clean up FileUpdateChecker API.
Move hooks back to initializers (we need an API that allows hooks to be replaced).
Add config.file_watcher so developers can provide their own watchers (for instance, hooking on fsevents).
Revert "Provide a unique point for running initializers."
missing require in activesupport test
commented whitelist mode enforcement for mass assignment
logger adds a newline for us
use the schema cache when asking for the primary key
Include TagHelper but don't explicitly require it
Speed up development by only reloading classes if dependencies files changed.
Provide a dir => extension API to file update checker.
strip whitespace errors from the generated Gemfile
Add ActiveSupport::Cache::NullStore to expose caching interface without actually caching for development and test environments.
Allow reloader to be configured.
Update checker returns a boolean if callback was executed or not.
Use rubygems https endpoint for the Gemfile on new apps
changed :finder_sql example to select * because with select p.* you can no longer use count(). Using count will result in an SQL error message.
Make quotes in Gemfile consistent (use single quotes)
Use HTTPS rubygems source
Give hooks the flexibility to choose the type of callback.
fixed example for :finder_sql people.* will not work when the alias is named p
Provide a unique point for running initializers.
Improve docs for Rails::Application and add routes_reloader_hook and app_reloader_hooks.
Allow FileUpdateChecker to work with globs.
Composition > inheritance.
disambiguate "and not" when explaining "&& return"
Remove duplicate html_escape docs
Use 1.9 native XML escaping to speed up html_escape and shush regexp warnings
Added :use_two_digit_numbers option [Lennart FridÃ©n & Kim Persson]
Overrode Hash#nested_under_indifferent_access in HashWithIndifferentAccess to return self.
update command line guide: generated README is now an rdoc
revising doc
Add button_tag support to ActionView::Helpers::FormBuilder.
Skip assets options in environments files when --skip-sprockets is used
ensure @fixture_connections is initialized in case an exception happens during setup
Errno::ENOENT error makes more sense when a file cannot be found
Try to keep people from calling the deprecated flush method.
Ensure that files that compile to js/css are not compiled by default with `rake assets:precompile`
Use ProcessedAsset#pathname in Sprockets helpers when debugging is on. Closes #3333 #3348 #3361.
Clarify the default assets.precompile matcher behavior
Skip assets groups if --skip-sprockets option is given
Add test to verify that therubyrhino isn't included when JRuby isn't used
revises some stuff that was out of sync with the recent generated README.rdoc
Update partials documentation, partial_path is no longer generated using RecordIdentifier
*   ActiveSupport::BufferedLogger#silence is deprecated.  If you want to squelch     logs for a certain block, change the log level for that block.
Add the .rdoc extension to the README that Rails generates for a new application
Allow to run migrations with given scope, with SCOPE=<scope>
Allow to filter migrations by passing a block
Use `table_exists?` from the schema cache.
don't need a begin / end.
squelch table exists? queries.
only load converter if the encodings are different
Make ActiveSupport::Benchmarkable a default module for ActionController::Base, so the #benchmark method is once again available in the controller context like it used to be *DHH*
Compare migrations for copying only by name and scope
Add suffix for migrations copied from engines
String#to_a is not available in 1.9
Deprecate implicit layout lookup in favor of inheriting the _layout config.
Simplify path traversal logic
Run also migrations in subdirectories.
Ignore origin comment when checking for duplicates on Migration.copy
load the encoding converter to work around [ruby-core:41556] when switching encodings
Exceptions should read from the spec configu
Replacing vague mention of an unspecified section above with a link to the actual section containing Asset Organization.
Move symbolize keys to the inner options as we can assume url_options will be properly symbolized.
fix nodocs
add haml and slim to the list of extensions supported by rake notes
fix comments
minor text change
Remove NilClass whiners feature.
Improve cache on route_key lookup.
fixing eval'd line numbers.
Regexp.union seems to have different results in 1.8
Revert accidental change from cattr_accessor to class_attribute.
Add dependency status (a la build status) to the README
Just use the proc if there is a chance of layout lookup.
Optimize layout lookup to avoid double calls.
Some small optimizations and improvements to benchmark code.
Add performance scripts from wycats/rails-simple-benches to actionpack.
Remove rb-fsevent from Gemfile.
Typo in list
updates the host and port of publish_docs, and changes the release instructions to use the task rather than curl (thanks to Vijay Dev for spotting this one)
use our own fork of sdoc while Vijay's fix is not applied to voloko/sdoc
releasing instructions: updates the URLs that triggers stable docs generation and publishing
Add information to the changelog about the changes to ActionController::ParamsWrapper
Remove dead broken code from AD::Request
ParamsWrapper only wrap the accessible attributes when they were set
moving ignored regexp to the instance
speeding up ignored sql testing
Use a hash to look up column definitions
try to normalize the objects passed to column()
automatically add the column definition to the columns list if creating a new one
stop calling String#to_s so frequently
the required sqlite3 adapter responds to encoding, so stop checking.
Remove #:nodoc: from partial renderer.
Use freezed string constant. Some string literals is used repeatedly.
Moves migrations tests from railties/test/application/rake_test.rb to railties/test/application/rake/migrations_test.rb
Move rake notes test to railties/test/application/rake/notes_test.rb
Update source_annotation_extractor comment.
reversible migration example had missing block parameter
Add annotation to haml and slim template.
Assign config.encoding to AD::Response.default_charset at the initialization time.
Use default charset when we read content type without charset.
Allow layout fallback when using `layout` method
Just track "require" if we have something in the watching stack.
avoid deprecated methods
add prefix and suffix to renamed tables, closes #1510
Revert "Added link to ActiveResource::Base documentation"
use textile syntax in links
rxml and rhtml are no longer searched for source code annotations
copy edits in layouts guide, change links to be relative
Sync AP CHANGELOG with 3-1-stable
Ensure length validator also works on 1.8.7.
Added link to ActiveResource::Base documentation
Added link to ActiveResource::Base documentation
Added git --rebase option for pulling rails master
Added wiki link to REST
Allowing string as url argument for expire_action
Added wiki link for REST
make method signatures match the superclass signature
return value is never tested, so stop calling `presence`
Let's do the same trick for asset_path that we do for [image,javascript,stylesheet]_path to avoid namespace conflicts on named routes. Closes #3427
Quitoting the table name before querying.
Use do end for multiline block.
Remove .rxml, .rjs and .rhtml from source annotation regexp.
Speed up table_exists? for databases with a large number of tables
.rhtml and .rxml was removed in Rails 3.
use classify in ParamsWrapper to derive model name from controller name
Named Routes shouldn't override existing ones (currently route recognition goes with the earliest match, named routes use the latest match)
Namespaced attribute lookup now works as 'model/association.attribute'.
changes in the way of how the stylesheets_link_tag works
Remove redundant or
Minor enhancement by not unnecessarely escaping forward slashing within a curly regexp and by mentoining the protocol relative scheme in the internal comment
Don't tokenize string when counting characters
Do not validate associated records marked for destruction
moves some auto explain logic to the subscriber [JosÃ© Valim & Xavier Noria]
simplifies ActiveRecord::ExplainSubscriber [JosÃ© Valim & Xavier Noria]
implements a much faster auto EXPLAIN, closes #3843 [JosÃ© Valim & Xavier Noria]
form_for with +:as+ option uses "action_as" as css class and id
Refactor readonly attributes conditional
copy edits in the migrations guide
SQlite3 Bump
Be explicit about where to add/remove stuff to the migration
Be explicit of where the constraints are.
Improve readability
Be more friendly than "shut up"
A table format makes this section easier to read
This section is more about changing the output of running migrations
Improve readability
Readability improvements
Move this into a section so that "Resetting the database" will show up in TOC
Change wording to be more explicit on what migrating with a version does
Migrations can also run the "change" method
Reword section to make it more readable.
We're using methods, not writing them
Change wording to be more understandable
We're using the method, not writing it
Change The other... to Another...
Reword confusing section
Correct grammatical errors
It's more that Rails needs to know how to recreate the columns
Added "also" to read better
Explain the t.timestamps method a little better
Re-word confusing section
Rollback is used elsewhere in the tutorial
Alphabetize fields to make reading easier
Improve wording, fix some formatting issues
Constrained to 80 chars per line
Update layouts and rendering guide javascript_include_tag to bring it in line with Rails 3.1
Add missing require
Enable postgres on the CI :heart: :beer: :sparkles:
Avoid postgres 9.X syntax
Simplify load and require tests
Test that require and load raise LoadError if file not found
Test return value of ActiveSupport::Dependencies::Loadable#load
Test return value of ActiveSupport::Dependencies::Loadable#require
removes the convenience instance version of AR::Base.silence_auto_explain
Simplifying test in app/generator
Restore performance of ERB::Util.html_escape
fix a typo in query guide
yield > block.call
two small details from the previous patch
implements AR::Base(.|#)silence_auto_explain
fix typo in railties changelog
revises Enumerable#pluck in AS guide
rephrase doc on explain threshold
Added doc about pluck for active_support core ext
indentation fix warning
Use show create table.
revises some details in the previous explain patch
Revert "Roflscaling!" (for now)
implements automatic EXPLAIN logging for slow queries
Added Enumerable#pluck to wrap the common pattern of collect(&:method) *DHH*
Try to play nice with plugins doing monkey patches.
[Docs] Information about ActionDispatch::DebugExceptions in rake task
Adding information about ActionDispatch::DebugExceptions
Fewer string allocations in attribute method
Roflscaling!
Create method with known identifier then alias into place.
Remove some unnecessary code etc
Add test for read_attribute(:id) with non-standard PK.
Remove the need for type_cast_attribute.
Get rid of the underscore versions of attribute methods!
Don't rely on underscore-prefixed attribute methods.
Remove unnecessary *args
[docs] removed last-modifed line from examples
Remove unnecessary test setup.
Split and improve show and debug exceptions middlewares.
Split ShowExceptions responsibilities in two middlewares.
Revert "Added ActiveRecord::Base#last_modified to work with the new fresh_when/stale? conditional get methods from Action Pack"
Add a deprecation to old show exceptions API (even though it was not public).
Add an ExceptionWrapper that wraps an exception and provide convenience helpers.
Added ActiveRecord::Base#last_modified to work with the new fresh_when/stale? conditional get methods from Action Pack
Allow rescue responses to be configured through a railtie.
Allow fresh_when/stale? to take a record instead of an options hash [DHH]
fixed finger-dyslexia in active_support core extensions guide
Update CHANGELOG.
Leave default_asset_host_protocol unset
don't alter global state in test
If the table behind has no primary key, do not ask again and just return nil.
consistency
Don't check column type, you might implement a custom coder that serializes to a different type
omg computer science!
Don't need second param
No longer need to undef id as we are defining it ourselves
Move some serialization stuff out of Base
Extract attribute serialization code into a separate module
Use inheritance to avoid special-case code for the 'id' method
#id is an alias for whatever the primary key is
fix indent
reintroduce patch from #726 to handle nested eager loading via associations
expand on pluck docs
minor typo fix
s/is is/is
typo in the performance testing rails guide
fix bad nodocs
fix exception page when template contains utf-8 and parameters contain utf-8
switch WatchStack to use composition, tighten up API
Revert "Implement ArraySerializer and move old serialization API to a new namespace."
Revert "avoid hundreds of thousands of calls to (Symbol|String)#to_s" Test coverage isn't comprehensive enough to catch what this breaks. :( This reverts commit 45dad592e47944704ab6951351b2fa29d4a2385f.
avoid hundreds of thousands of calls to (Symbol|String)#to_s
`run_test` method conflicts with newer minitest, so change the name
Using InstanceMethods in a Concern is deprecated
fix method redefined warning in activemodel
fix deprecation warnings in activeresource
fix method redefined warnings in tests
fix warning in tests when using render_erb helper
test helpers in erb using erb
ActiveRecord::Relation#pluck method
Log 'Filter chain halted as CALLBACKNAME rendered or redirected' every time a before callback halts.
Update sprockets which theoretically fixes the regression we have seen.
Module#synchronize is deprecated with no replacement.  Please use `monitor` from ruby's standard library.
push synchronization in to each method. Reduces method calls and makes it clear which methods are synchronized.
Automatic closure of connections in threads is deprecated.  For example the following code is deprecated:
AbstractAdapter#close can be called to add the connection back to the pool.
Start implementing @reserved_connections in terms of connection leases.
Rename `checked_out` to more descriptive `active_connections`
Use connection lease to determine "checked_out" connections
expire will set in_use to false
last_use is set on connection lease
Leased connections return false on second lease
Adapters keep in_use flag when leased
namespace the adapter test
Deprecated `define_attr_method` in `ActiveModel::AttributeMethods`
Deprecate set_locking_column in favour of self.locking_column=
Deprecate set_primary_key in favour of self.primary_key=
Make sure the original_foo accessor still works (but deprecated) if we are using self.foo=
extract method
Deprecate set_sequence_name in favour of self.sequence_name=
Add tests for set_sequence_name etc
Deprecate set_inheritance_column in favour of self.inheritance_column=
Deprecate set_table_name in favour of self.table_name= or defining your own method.
respond_to? information of AR is not the responsibility of the spec resolver.
don't change class definition in test case
splited a long line to shorter ones
Handle correctly optional parameters for callable asset_host.
remove unused instance variable
just check in all connections
remove useless class_eval
Move connection resoluion logic to it's own testable class.
clean up string => hash conversion for connection pool
pools are 1:1 with spec now rather than 1:1 with class
break establish_connection to smaller methods
added information about callbacks created by autosave association (#3639)
update guides
put backtrace_cleaner to env
there is no need to repeat about possibility of using -h option to get full help
completed documentation for the rails server command
Update information about foreign key plugins support in the guides
fixed a typo in a message when there is no failuresin a build
global variable `$rails_rake_task' not initialized Warning removed
Revert "use any? to check for size"
Revert "Use any instead of length"
Revert "Used any? instead of length call"
* A `/` is required if you want to explicitly skip the assets directory. This is important because `public/assets` is typically git-ignored. * The asset id is no longer generated.
Revert "fixed typo in getting started form_for for comments"
fixed typo in getting started form_for for comments
update CHANGELOG
Used any? instead of length call
avoid warnings
changelog & docs for GeneratedFeatureMethods
Test case and fix for rails/rails#3450
add namespace options to form_for
use GeneratedFeatureMethods module for associations
Use any instead of length
fix label with block in erb
Call a block passed rake_tasks method in the self context
Update Object#in? description for https://github.com/rails/rails/pull/3767
avoid absolute path for the rails.png in index.html
[Docs] Adding RequestId middleware in configuring middleware
Documentation about config.log_level config options
Cosmetic fixes in AM validatations docs
Object#in? also accepts multiple parameters
added tests, replaced classify with constantize - using classify here cuts the last 's' in ORM name
add more tests for monday and sunday methods
documenting monday and sunday methods
Tests added for monday and sunday
Adds Time#sunday method
Convert aliases monday and sunday to methods
Let's say this 3.1.3 instead of 3.1.1 in docs
s/end_on_week/end_of_week
minor doc changes
allow using orm_instance without invoking orm_class first in generators
Warning removed unused variable
rephrased ef38c3089e1269e2b315aff503e61c0b23c95f00 and mentioned about OS X and windows usually having a JS runtime
use any? to check for size
removes a Serialization constant left in the previous revert
finders guide: adds some pointers to help users interpret the output of EXPLAIN
add the query to AR::Relation#explain output
some tweaks to PR#3547. [Closes #3547]
API docstrings updated with default value info
beginning_of_week extended in both Time and Date so that to return week start based on start day that is monday by default
Revert the serializers API as other alternatives are now also under discussion
Updating newline fix to maintain existing linebreaks and indentation and test for b/eol on inserts
load has_many associations keyed off a custom primary key if that key is present but the record is unsaved
what's -> that's
Remove unnecessary comment.
I suck, forgot to also change rake's task description
Display mounted engines in `rake routes` by default
middlewares should use logger from env
Add docs to serializers. Update CHANGELOGs.
Added tests for #3751
Add a hook for serializers in the scaffold generator (off for now).
Add generators for serializers.
Allow to display engine's routes when running `rake routes ENGINES=true`
make ActiveModel::Name fail gracefully with anonymous classes
Forgot to add CHANGELOG entry for config.railties_order
comma
Move JS runtime instructions to where the error would be encountered, remove gem install.
Rename UserSerializer to DefaultUserSerializer in tests.
Rely solely on active_model_serializer and remove the fancy constant lookup.
Add step to getting_started to install JS Runtime.
Remove listings from the serialization guide that won't make 3.2.
Implement ArraySerializer and move old serialization API to a new namespace.
Add safe_constantize to ActiveSupport::Dependencies.
configuration option to always write cookie
Allow to change engine's loading priority with config.railties_order=
Rely on a public contract between railties instead of accessing railtie methods directly.
Optimize cache expansion by skipping rails cache id in nested keys.
Remove unreachable code, and add additional testcases.
Warnings removed. (ambiguous first argument)
improved code stats calculation, check on multiline comments and rewrite regexps according to a class naming convention
- Avoid using .first since it will create an additional query. - Handle scenario where @posts is empty.
fix Helpers::DateHelper with :use_hidden - hide separators
Make explicit the default media when calling stylesheet_tag and change the default generators.
Revert "Added links to the 'Rails Initialization Guide', marked as a work in progress"
deprecation warning, changelog entry
javascript_include_tag should add '.js' to sources that contain '.'
Bump Mysql2!
remove nodoc on OrderedHash
move show_detailed_exceptions? to Rescue module
refactor show exceptions tests
add ActionController::Metal#show_detailed_exceptions?
tests predicates according to the boolean interpretation of their return value, not expecting specifically true or false
Deprecate InstanceMethods namespace handling in ActiveSupport::Concern.
Revert "tests predicates according to the boolean interpretation of their return value, not expecting specifically true or false"
tests predicates according to the boolean interpretation of their return value, not expecting specifically true or false
cache entry: options[:compressed] is a regular flag, no need for !!
adds a comment to clarify an edge case
a couple of spurious spaces I saw in passing
Remove the -h option to dbconsole which is the shorter form of --header
postgresql adapter handles quoting of not a number (NaN) and Infinity
oops! I suck! :bomb:
fixing tests on ruby 1.8
Bump Arel
removing deprecated methods
regenerating the spec
Revert "copy options keys to the right place so that undo will work correctly"
adding visitors to the respective adapters
pushing caching and visitors down to the connection
calling cache methods against the connection
bumping version
Minor grammar, typo & readability fixes for beginning of Rails Initialization guide
Added links to the 'Rails Initialization Guide', marked as a work in progress
fix warning about instance variable in plugin generator
fix rails plugin new CamelCasedName bug
Perf fix
Add missing CHANGELOG entry for #3678. Closes #3678.
Bump sprockets to 2.1.1
Verify that #3690 has been closed by previous changes to the mysql adapters.
Small docs fix in Active Model callbacks module
Warning removed for shadowing variable
Some fixes on RELEASING_RAILS.rdoc.
Use `show index from`. We could fix `pk_and_sequence_for` method's performance problem (GH #3678)
Add config.active_record.identity_map to the configuration guide.
Revert "make sure to require the right deprecation warning file"
Refactoring the redirect method for the router api.
moving redirection to objects
remove the :path feature to redirects, since it cannot work
make sure to require the right deprecation warning file
arity check has been pushed up, so no need for proc wrapping
require that all blocks have arity of 2
copy options keys to the right place so that undo will work correctly
no need for type checking
cleaning up variable names to match method parameter names
stop doing is_a? checks on the resource type
move constants to methods since nothing else is using them
pushing hash validation up
breaking match down to smaller methods
some refactoring of the match method
remove unneeded params from issue tracker url
put back the removed eg
Only used detailed schema introspection when doing a schema dump.
Update variable's name in the test case to reflect the class we're testing
release instructions: new section about docs generation
_html translation should escape interpolated arguments
Revert "warn the user values are directly interpolated into _html translation strings"
allow people to set a local .Gemfile so that things like ruby-debug are not required for regular development
warn the user values are directly interpolated into _html translation strings
updating API docstring so that user can infer default value
update guide: db:structure:dump produces structure.sql now
Cleanup of databases.rake psql env variables
Guides: better example to find the last sent email
Move schema_format :sql config setting from test.rb to application.rb
It should be @calculated_ip not @calculate_ip
No need to `readlines` then `join`, just use `read` :heart:
Initialize our instance variables.
No need to `readlines` then `join`, just use `read` :heart:
"denoted" instead of "donated" "parentheses" instead of "use brackets"
Adding a deprecation warning for use of the schema_info table.
Join method uses empty string by default, so remove it
dbfile isn't supported anymore, so remove
Reduce schema format tests
Move conditionals to separate tasks so they can be reused.
`ActiveRecord::Base#becomes` should retain the errors of the original object.
the object itself isn't the IP, #to_s is the IP
:facepalm: Request#remote_ip has to work without the middleware
removing some useless conditionals
fixing tests on PG
bundler treats trunk ruby as ruby 1.9, hack around that for now
Substituted RailsCommands for Rails::Commands
Changed Commands module to RailsCommands.
add test for super-ing to association methods
association methods are now generated in modules
added comma
refactor test_multiple_of
made url to a github issues a bit shorter - no need in a page param when it's a first page
AS::Callbacks::Callback refactor
Unused variable removed
Failing test case for issue #3483
GetIp#to_s should never return nil. That's icky.
add test for bug fixed in 4f2bf64
Return the calculated remote_ip or ip
memoize the relatively expensive remote IP code
cleaner names
Speed up attribute invocation by checking if both name and calls are compilable.
Add a note to REALEASING_RAILS about testing the gem locally before releasing
rake release should push the tag
use any? instead of !empty?
Sync changelog entry
Add note about checking postgres tests before release
Added therubyrhino to default Gemfile under JRuby
Add note about syncing CHANGELOGs
Sync CHANGELOGs from 3-1-stable
Upgrade Sprockets to 2.1.0
remove ignored flag, fixes warnings
turns out the tests expect remote_addrs.first
correctly raise IpSpoofAttackError message
change tests to expect X-F-F over REMOTE_ADDR
Move tooltip on re-running rails new with a different --database option
copy edits in getting started guide
Revert "Move Tip up higher so users who are fine with SQLite can skip to the next section"
Revert "Use rails help new instead of rails new -h"
Revert "Update guide to use Ruby 1.9 hash syntax"
Update guide to use Ruby 1.9 hash syntax
Add output for add_index command
Convert tables to table format
Grammar change
Be explicit on where the show.html.erb is located
Make the guide more friendly
Be explicit about changing code
p.errors.full_messages is a little more human readable
Add link to AR Validations and Callbacks to further explain validations
Update wording to read better
Update wording to be more explicit on what the timestamp fields track
Update order so they show up in the order they do in the scaffolding output
Update wording to flow better
Move Tip up higher so users who are fine with SQLite can skip to the next section
Updated wording to read better
Updated wording on what 'rails new blog' did for the user
Use rails help new instead of rails new -h
Move paragraphs to flow better
Add Tip about skipping to Section 3 if they want to come back to the philosophy later
Clearing cache in action caching is not "the exact same way" as with page caching.
Suggest a workaround for page caching and parameters instead of an unhelpful warning.
Allow to use ruby-debug in 1.9.3
Unneeded require memoizable
defer calculating the remote IP until requested
refactor RemoteIp middleware
For what it's worth; Update `memcache-client` gem name
AS::Callbacks::Callback#_compile_option refactored
Prevent multiple SHOW TABLES calls when a table don't exists in database.
Update Memcached website to its new one at http://memcached.org/.
change_table bulk test case should check if the connection supports bulk alter
Modify change_table to remove the need for the block argument.
update ci file name in contributing guide
fixed example code indentation
Checking the arity of the block passed to create_table
AS::Callbacks.__run_keyed_callback: remove unused cache
self.class.name -> self.name (we are already inside a class).
AS::Callbacks#_define_runner refactored
Cosmetic fix in number_to_currency docs
A test case to ensure that AC::Metal#response_body= always wraps the given value in an Array in both Ruby 1.8 and 1.9 (refs #3581)
Don't marshal dump twice when using encryptor.
Deprecated ActiveSupport::MessageEncryptor#encrypt and decrypt.
Extend IRB right before starting IRB to remove dependency on IRB from Rails::Application
Use head :no_content on the guides as well.
Modulize Rails console methods so that other console libraries such as Pry can include these methods
CHANGELOG => CHANGELOG.md
Remove j alias for ERB::Util.json_escape
Refactor test:uncommitted task.
exclude ORDER BY clause when querying Relation#exists?
Updated Rakefile as CHANGELOG has been renamed to CHANGELOG.md
Replace example with SQL placeholder syntax. This works just fine, is less code, and reduces the risk of someone implementing a SQL injection vulnerability.
Should be checking if file exists or not.
Warnings removed.
CHANGELOG to CHANGELOG.md
fix typo again (Thanks Phillip Oertel)
DrbStore removed from cache backends
fix incorrect code example
added remove_method core_ext tests
replaced remove and define method calls to :redefine
adds trailing +s to the output of EXPLAIN for MySQL
revises EXPLAIN tests for SQLite3
Remove redundant blank line at the bottom
document fix: remove_column takes multiple column_names
self.up, self.down => up, down
Removed argument throwing warnings when running tests.
fix typo
Added the test case for #3537
fix markups for plus in AR guide
RUBY_ENGINE is not defined on 1.8
Implement a workaround for a bug in ruby-1.9.3p0.
Revert "Skip test_default_external_works on the CI for Ruby 1.9.3."
Refactored pluralize and singularize into a common method.
Docs cosmetic fixes in Action View form_helper.rb
Update ActiveRecord#attribute_present? to work as documented
implements AR::Relation#explain
Add arel to Gemfile on apps generated in edge Rails
bumps up sprockets
fixes typo
implements AS::Notifications.subscribed, which provides subscriptions to events while a block runs
expands the documentation of AS::Notifications
make class name consistent with the filename
Skip test_default_external_works on the CI for Ruby 1.9.3.
Use uniq instead of manually putting a DISTINCT in the query
Add ActiveRecord::Relation#uniq for toggling DISTINCT in the SQL query
Revert "outline two ways to invoke a custom active model validator"
Revert "make the inline text a comment in the code block"
schema_format :sql should behave like schema_format :ruby
AR changes to support creating ordered (asc, desc) indexes
add tests for the case where size is explicitly passed to number_field helper
Add SelectManager#distinct to set/unset the Arel::Nodes::Distinct.new quantifier
Synchronize the gemspecs since CHANGELOG has been renamed to CHANGELOG.md
Convert CHANGELOGs to Markdown format.
Allow the :class_name option for associations to take a symbol.
make the inline text a comment in the code block
outline two ways to invoke a custom active model validator
Remove 'size' attribute from number_field form helper fixes #3454
Added bundle exec to rake test.
move Rails console top level methods to IRB context
Stub find_template so that when handle_render_error is called in ActionView::Template, we get to see the actual underlying error rather than a NoMethodError.
CSS fix to prevent error output from being breaking out of body element.
Memoize through association
Remove all revelant through records.
minor edit
minor edits in AR validations guide
treat USAGE as an ERB template
Revert "Disable 1.9.3 builds until upgraded from -preview1 to -rc1"
use relative urls for linking to sections in the guides
[config guide] mention that config methods are to be called on Railtie subclasses
[engines guide] add 'General engine configuration' section
this should never return nil, so no use for "try"
Ensure that the format isn't applied twice to the cache key, else it becomes impossible to target with expire_action.
assert_match takes a regexp and a string in that order
dump_schema_information: explicitly order inserts into schema_migrations table
Ensuring a HTTP Date header when setting Cache-Control's max-age with #expires_in
Added accessor methods for Date header
Added test for setting of HTTP Date header when calling #expires_in
Update routing guides, root route should be at the top of the file
Removed trailing space on the test sql string statement.
Added a failing test for a non-table alias as rhs relation name
Allow using non-table alias as a rhs relation name, fix for #84 and #59
Refactor ActiveSupport::Cache::FileStore. used  method and deleted duplicate code.
fix a document for :compress_threshold. DEFAULT_COMPRESS_LIMIT is 16K.
prefer qualified constant "name" to "reference expression", much simpler
fixes a typo (thanks to Alexey Vakhov)
defines Module#qualified_const_(defined?|get|set) and String#deconstantize
Removing db/seeds.rb is fine. Don't blow up.
avoided to call  twice
fix a document for race_condition_ttl. ActiveSupport::Cache::MemoryCache isn't exist
removed reference to SynchronizedMemoryStore and CompressedMemCacheStore (the remaining code from 9cafc28874)
On inpsect routes, show :controller and :action to indicate dynamic.
method redefined warning removed!
let demodulize do less work, and add tests
ActiveRecord is no more in controller directory.
Updated links to authentication plugins.
Add missing type to number_field_tag documentation
clear statement cache when tables are altered
Added failing test case for changing schema in migration not clearing the prepared statement cache
More checks for instance writers.
Adding more checks for instance_writer false
Test fix Allow instances to disable record_timestamps
scumbag 1.8: strings are enumerable :'(
Allow instances to disable record_timestamps
correct documentation on initialize method to accept a single parameter
Responders now return 204 No Content for API requests without a response body (as in the new scaffold)
Scaffold returns 204 No Content for API requests without content. This makes scaffold work with jQuery out of the box.
properly handle lists of lists. Thanks @adrianpike for reporting!
Clean up .gitignore and make a note about using global ignores
Revert "Ignore .rbx directories (rbx compiled bytecode files)"
safeguard against configs missing environment or the database key
Adds missing closing regex slashes.
add namespacing when referring to ActionController::RedirectBackError
Added a note that optimistic locking also needs a hidden field to function across web workers.
note that after_initialize is run for rake tasks
Remove needless to_param in scaffold functional test
Unused variable removed
minor revision to some new code in databases.rake
registers PR #2419 in the CHANGELOG
ActionPack test fix for RBX
Ignore .rbx directories (rbx compiled bytecode files)
edge doesnt provide turn gem in the gemfile anymore
Remove Turn from default Gemfile.
minor fixes in the composed_of doc
No need to check ruby version here
Using middleware name to show proper name in the info
Warnings removed from RequestIdTest
Updated rack version in docs for 3.2
Rails version to 3.2.0.beta in docs
Middleware details updated for 3.2
preserve decimal column attributes after migration
Add ActionDispatch::Session::CacheStore as a generic way of storing sessions in a cache.
Checking blank if tag might coming nil or blank
Add some note on adding index to HABTM table
Use new migration style in HABTM join table
Correct ActionMailer subject i18n lookup scope.
[engines guide] explanation of overriding views + referencing routes from an engine within an application
Adding ActionDispatch::RequestId in middleware test
Remove the unneeded `\d` when sanitizing `X-Request-Id`.
[engines guide] some fixes for the author id migration including proof of not copying over other migrations again
[engines guide] add missing end for to_s method
Don't use :path in Gemfile for --dev except for Rails.
[engines guide] wrap up 'Configuring an Engine' section
[engines guide] Rather than calling name, require a to_s method to be defined on the 'User' class
[engines guide] mention that we cover similar ground to the Getting Started Guide
Encourage use of tagged logging even when using a different logger
Removed mention of deprecated ActiveModel::Errors#on
Unify logger and taggedlogging middleware as both address logging concerns.
Ensure TaggegLogging is thread safe.
Load object/blank and make use of presence.
Make tests run on 1.8.x, add integration setup.
Programatically define the log level methods and use the Logger constants instead (SyslogLogger didnt define them as I expected)
Blah, SecureRandom#uuid is not supported in 1.8.7 -- cant wait for Rails 4.0 to drop compatibility with 1.8.x
New #added? method on ActiveModel::Errors
Require missing string access dependency.
Require securerandom as it is the proper dependency.
Simplify TaggedLogging symbol shortcuts (thanks Jose!)
Added X-Request-Id tracking and TaggedLogging to easily log that and other production concerns
Use toplevel Rack::ContentLength
only use now() on pg!
Remove superfluous assignment in cookies
reset prepared statement when schema changes imapact statement results. fixes #3335
Use again Rack's ContentLength middleware part 2
Use again Rack's ContentLength middleware
use now() for dates in pg
Added test for rake environment in an engine
Added environment rake task to engines
Added test case for postgresql database
Bump Rack to 1.3.5
Bump sprockets
Exclude _destroy parameter in :all_blank check (issue #2937)
use variables from test setup
fix a typo and slightly reword has_secure_password comment
Clarified that the config.assets.initialize_on_precompile directive needs to be set in application.rb
[engines guide] missed a spot in the 'Using a class section' + further text for 'Configuring an engine' section
[engines guide] Point out that we need to run rake db:migrate after creating user model
ActiveModel::Errors#generate_message without i18n_scope, and more test cases for #add
[engines guide] [reviewing] remove excessive 'Now'
[engines guide] Complete section about using an application's class
[engines guide] beginning to cover using application's classes
[engines guide] Add 'Engine setup' section in 'Hooking into an application' section
[engines guide] improve intro to 'Hooking into an application' section
fix to remove warning in test cases
[layouts and rendering] Copy editing
Remove 1.9 Hash syntax - tests passing on 1.8.7
HTMl -> HTML: html scanner comment fix
more doc changes on railties README
railties README change to make consistent like others eg:activerecord
Add initial support for embed API
Add support for the root attribute
Add association_ids
Add support for overriding associations, mostly used for authorization
Add support for implicit serializers
Added has_one and has_many
Don't unnecessarily use String eval.
Don't require serializable_hash to take options.
minor edits in serializers guide
Initial implementation of ActiveModel::Serializer
Refactor to make renderers a Set
Initial commit of serializer support
[layouts and rendering] Copy editing to improve readability
Update AC::RecordIdentifier example
Default timestamps to non-null
Consider attempted action in exception message of ActiveRecord::StaleObjectError
Includes stale record in StaleObjectError
[engines guide] WIP for explaining how to hook engine into application
[engines guide] complete comments resource generation
[engines guide] Add heading for comments
[engines guide] make clear that the comment generator command is just one line
[engines guide] make it clear that the scaffold generator output isn't part of the actual command
[engines guide] correct render line is blorgh/comments/form
[engines guide] improve wording for sentence describing comments/form partial
Symbol captures may generate multiple path segments, so don't escape / -> %2F. Test splat escaping.
/ is allowed in URI fragments
Leave escaping up to Journey
Failing tests for path parameter escaping
security reasonS should be plural
Rails 4 is just around the corner. Stuck with 1.8 until then.
Tests gotta run in 1.8 too
fix inconsistent alignment in Gemfile generator
Added ActiveRecord::Base.store for declaring simple single-column key/value stores [DHH]
improved ActiveResource's .element_path and .new_element_path methods documentation by specifing how .site should be declared in order to use prefix_options
[engines guide] don't show actual timestamp in migration generation
[engines guide] change comments resource generation
Added test to check that the vendor/assets/stylesheets directory is created
remove user-specified delimiter from start when no area code is present (in number_to_phone)
refactor guide example
change activerecord query conditions example to avoid 'type' as column name
quoting 'and' to make it more distinct.
Add some implementation docs. closes #3298. closes #2509.
status is a number in Rails 3
Treat 303 See Other as a redirect response, too
activeresource should treat HTTP status 307 as redirection, same as 301 and 302; added missing test cases for statii 301 and 302.
Runtime conditions for associations should use procs
Heavy copy editing of the find_each and find_in_batches section
Use .add instead of << to add errors
Support symbol and string actions in AC#respond_to options
Add ActionController#head example
Added test to check that the vendor/assets/javascripts directory is created
Added method to create vendor/assets/javascripts, added it to methods called within vendor method
Corrected typo
allow shorthand routes with nested optional parameters
[engines guide] add TODO for RedCarpet example
[engines guide] cover generating the comment resource
[engines guide] amend two TODOs for further things in this guide
[engines guide] finish covering what the scaffold generator does within an engine
[engines guide] final line change
[engines guide] Add TODO for mentioning rails s and rails c
[engines guide] begin explaining what the scaffold generator outputs within an engine
[engines guide] reword first two dot points in prologue
[engines guide] Credit where credit is due + explaning directory structure
[engines guide] Credit where credit is due
Active Record changelog mistakes
ambiguous first argument; put parentheses or even spaces Warning removed!
JSON responder should return errors with :error root
Copy editing to improve readability, consistency, and tone
Minor copy editing
Remove stray whitespace
Only use LOWER for mysql case insensitive uniqueness check when column has a case sensitive collation.
fix invalid regex
Copy editing: s/Rails guesses/Rails assumes/g
ActiveRecordStore is now called SessionStore.
Corrections to the ajax guide recent changes. This guide is very outdated and will need a lot of changes to make it useful for Rails 3+
Warnings removed when running with 1.9.3
Add note about how Sass & Sprockets don't match
URI.escape is obsolete : warning removed
Copy editing to improve readability and remove any potential ambiguity
improving the docs for ajax_on_rails
copy editing
copy editing
accept optional :host parameter to force_ssl
Isolate rake action tests that should be run under default env
Test utf8 assets filenames with request instead of manifest lookup
The generator invokes rake with either the :env option, ENV['RAILS_ENV'], or development. So if Travis has exported RAILS_ENV=test, it'll be used instead of development, breaking these brittle expectations.
Skip broken asset precompilation test on Macs. Issues with NFD vs NFC normalization on the asset filename. Major red flag with asset lookups!
Revert "Revert "updated the ajax_on_rails.textile for rails3" because of invalid git user"
copy editing
Don't notify IRC on every single build, just failures and first success after a string of failures
Disable 1.9.3 builds until upgraded from -preview1 to -rc1
Add comments to our generated .gitignore, including a note about when to use a global gitignore. Remove .sass-cache since we use /tmp/sass-cache, which is already ignored.
Sqlnet should also be ignored into the app gitignore
Correct stylesheet filename and remove reference to old stylesheet compilation location
Remove unnecessary dup in expire_page
sqlnet.log file to gitignore. Generates when running with oracle!
just check to see that the first item in the list is an array
fix bad formatting in the assets guide
testing.rake should set the default task, closes #2564
closes #3241 - partial doc fix
use https for github url
Correct formatting
Replace the reference to the annotate_models plugin (unchanged since 2008) with more current annotate_models gem
One of the activemodel naming tests wasn't asserting anything.
asset pipeline guide: removes Apache config for serving pre-compressed assets, and expands the information about nginx support for this
use thread locals and an instance variable within QueryCache#BodyProxy to maintain appropriate linkage with AR database connection across threads
More understandable warning in the local_constant_names section
Clarifying ambiguous description of require_self in the asset pipeline
fix require
Undid previous change which violated the convention regarding output (use "# =>") used in these guides. Corrected typo in previous correction. (Thanks for pointing this out, vijaydev.)
fix an example
fix a space in the assets guide
revises the precompilation section of the asset pipeline guide (web server configuration for gzipped assets pending)
Grammar fixes for the routing guide.
[config guide] Show example of defining initialization hooks
[config guide] mention that to_prepare hooks are called upon every request in dev, but only once in production
use Rails.root.join for assets guide
Transactional fixtures enlist all active database connections.
Revert "don't raise NoMethodError the tried method doesn't exists"
[engines guide] More explanation for 'Generating an engine'
[engines] Expanded 'What are engines?' and 'Generating an engine' sections
Some small corrections and improvements to the text.
Correction of code snippet tag from shell to ruby.
Raise an exception on unknown primary key inside AssociationReflection.
Revert "Raise error on unknown primary key."
Update Rails routing guide to mention that `redirect()` is a 301 permanent redirect
refs #3232. Prepared statements and postgreSQL schemas.
stylesheet_link_tag('/stylesheets/application') and similar helpers doesn't throw Sprockets::FileOutsidePaths exception anymore
Use the schema_search_path in prepared statements.
Do not require railtie as it messes up Rails.application setup.
copy editing
s/help/helper/
Corrections to Active Record Validations and Callbacks guide.
Change one more place for JSON string to Hash
ruby193: String#prepend is also unsafe
override unsafe methods only if defined on String
Raise error on unknown primary key.
Ensure default_asset_host_protocol is respected, closes #2980.
Encapsulate common rake invocation logic in a method.
added comment about why nondigest assets requires a reinvocation
only reinvoke if necessary
only execute the nondigest task if needed
don't munge the environment, let rake do that for us
assets compilation task refactoring
[engines guide] initial layout
correct path used in "digested assets are not mistakenly removed" test
add failing test: "digested assets are removed from configured path"
Bump sprockets to 2.0.2
More corrections and clarifications to the Active Record Validations and Callbacks guide.
to_formatted_s is an instance method for a Range not an Array
Clean up subdomain code a bit.
Changing rake db:schema:dump to run :environment as well as :load_config, as running :load_config alone will lead to the dumper being run without including extensions such as those included in foreigner and spatial_adapter.
:subdomain can now be specified with a value of false in url_for, allowing for subdomain(s) removal from the host during link generation. Closes #2025
Quoted path to <Rails.env>_structure.sql file in db:test:clone_structure task.
Require rack-cache 1.1.
Test demonstrating #3053: If-Modified-Since gets swallowed up by rack-cache.
Several small corrections and clarifications to the Active Record Validations and Callbacks guide.
add failing test for #3198
Rescuable spelling error
Several small corrections and improvements to the Migrations and Active Record Basics guides.
normalize arg for ActionView::TestCase tests method
normalize arg for ActionMailer::TestCase tests method
Ensure that enhancements to assets:precompile task are only run once
Replace calls to capture(:stdout) with quietly in assets tests
normalize arg for AC::TestCase tests class method
missed underscore in AV::TestCase helper_method documentation
use safe_constantize instead constantize in AC::TestCase
To support ActiveRecord unit tests for IBM DB2
:group => :assets should only run in the assets environment.
rewords the docs of config.assets.initialize_on_precompile in the asset pipeline guide
documents config.assets.initialize_on_precompile in the asset pipeline guide
Precompile properly refers files referenced with asset_path test
capture was commented out
Provide initialize_on_precompile which, when set to false, does not initialize the app for precompilation. Defaults to true.
TestCase should respect the view_assigns API instead of pulling variables on its own.
Update CHANGELOG.
Improved testing so that it tests the real functionality and not the private method.
Print information about .railsrc to users
Read extra args for 'rails new' from ~/.railsrc
Several other small corrections.
Several small corrections and clarifications.
Use of :: in void context Warning removed
Small typo corrected.
Modified how to handle if ActiveRecord is defined.
Provide read_attribute_for_serialization as the API to serialize attributes.
Set the default options value for as_json in the encoder object.
warning removed : '&' interpreted as argument prefix
possibly useless use of :: in void context Warning removed
Added fix so that file store does not raise an exception when cache dir does not exist yet. This can happen if a delete_matched is called before anything is saved in the cache.
Add CHANGELOG entries
Don't call self.class unless necessary. Closes #3171.
Honour RAILS_ENV environment variable when running rake.
When running "rake db:drop" also drop test database in development environment.
Class name specified in example is Person, not AttributePerson.
javascript_path and stylesheet_path should honor the asset pipelining
partial pass over the assets guide
Modified String#pluralize to take an optional count parameter.
Make button_to helper support "form" option which is the form attributes.
fixing typo in assets guide
Corrected a typo.
Make case in configuration document consistent
the infamous detail only spotted in GitHub diffs no matter how careful you were before pushing
partial pass over the asset pipeline
add missing require to html sanitizer
copy edit d47c2c4
Make the Rack::SSL middleware configurable
partial pass over the asset pipeline guide
fixing docs for delete_sql where quotes should be used in this example.
Alert about the new Bundler require for asset gems
update ActionMailer example using last truncate helper method signature
fix ActionMailer readme example
Don't require a DB connection when setting primary key.
Refactor image_path to use asset_path directly
Copy assets to nondigested filenames too
Correctly override image_path in sprockets rails_helper
Just assert_equal here
Encapsulate assets initialization in its own rake task.
image_tag should use /assets if asset pipelining is turned on. Closes #3126
Give precedence to `config.digest = false` over manifest.yml asset digests
Make serializable_hash take attr values directly from attributes hash.
Clarify that the Active Record config should just work automatically
add some notes on setup for Active Record tests
fix deprecation warning in cookie_store_test
Implement Mime::Type#respond_to? (consistently with #method_missing)
escape options for the stylesheet_link_tag method
Add public API for register new js and css compressors for Sprockets
Revert "Make process reuse the env var passed as argument"
remove superfluous to_s in ERB::Util.html_escape
Avoid using pathnames and automatically create the manifest directory if one does not exist yet.
Add test for belongs_to? and group initializers.
Remove the ENV flag, yagni.
`rake assets:precompile` loads the application but does not initialize it.
Remove Sprockets compute_public_path, AV compute_public_path can be used directly
Minor doc fix to String#constantize
Update CHANGELOG for safe_constantize.
Use safe_constantize where possible.
Ensure that constantize just rescues NameError that applies to the constant being currently loaded.
Added ActiveSupport::Inflector.safe_constantize and String#safe_constantize; refactored common constantize tests into ConstantizeTestCases
pluralize "locales" since that's what's used in other parts of the document, and add a missing "on"
Update CHANGELOG.
Using #extract_details in PartialRenderer, too!
Allow both sym and array for details options in #render. using LC#registered_details to extract options.
added tests for render :file/:template and the :formats/:handlers/:locale options.
Refactor AMo as_json.
fixed a bug with the json serialization when the class setting is set to not include the root, but an instance is serialized with the root option passed as true
set env to let rails know we're precompiling
AR wants sqlite3 1.3.4
No need to create a range object
Deprecate passing the template handler in the template name.
Make handlers a registered detail.
Get rid of update_details in favor of passing details to find_template.
it is now possible to pass details options (:formats, :details, :locales, ...) to #render, #find_template and friends. this doesn't change anything in global context.
Add rake test:template.
No need to recalculate the @details_key after update_details.
Not checking for nil is apparently a lot faster.
Updated existing test that fails with this fix (8d63678d1406c5518d437709af0fde717c0248d7).  Before the fix the test was giving a false positive, because file_store.key_file_path would return an empty filename (i.e. test/tmp_cache/4D0/F4D rather than test/tmp_cache/4D0/F4D/xxxxâ€¦).
Changed "en-UK" to "en-GB"
Add jquery-rails to Gemfile of plugins, test/dummy app uses it. Closes #3091
Slightly reorganize lookup context modules in order to better isolate cache responsibilities.
fix incorrect comment
Revert "add a missing "on" and remove the "endprologue" text"
indentation fixes
add a missing "on" and remove the "endprologue" text
add a '.' to etc
add "the" to mirror the structure of the other two points
Move precompile task to Sprockets::StaticCompiler
Add a missing require for 'active_support/deprecation' in Module#deprecate
copy edits 302e5707
copy edits 908f2616
remove unnecessary markup
fix test error when running with postgresql. This Sqlite3 should be in if block. Was giving error because sqlite3 is not loaded
to_xml should also rely on serializable hash.
Locale code for Czech is ":cs"
Document ActiveRecord::QueryMethods#select
Bump AR-JDBC version. THis version is compatible with 3.1 and above
sass-rails helpers - hyphenated in Sass, underscored in Ruby.
Default precompile regexp that properly matches application.js and application.css
Proper lines numbers for stack trace info
minor edit
"Passing variables into the translation" section added
Add reference about --skip-sprockets to Asset Pipeline Guide
config.action_controller.asset_host shouldn't set to nil during precompile
Test deprecation warning when not using an options hash as second parameter.
Use an options hash to specify digest/cipher algorithm and a serializer for MessageVerifier and MessageEncryptor.
Add some documentation for the new serializer property of MessageVerifier and MessageEncryptor.
Implement API suggestions of pull request.
Custom serializers and deserializers in MessageVerifier and MessageEncryptor.
update guides, use html safe translations in i18n
Allow asset tag helper methods to accept :digest => false option in order to completely avoid the digest generation.
No more changelogs inside guides
Mention that old fixes are to be done on 3-0-stable
minor edit
change first_or_new to first_or_initialize as per 11870117, and some edits
update 3.1 release date in changelogs
forgot to sign my name to the Changelog
Removed mention of deprecated proxy methods in favor of using proxy_association.
remove info about guides hackfest
Revert "Provide a way to access to assets without using the digest, useful for static files and emails"
Add equivalent nginx configuration
Removed lib/arel/sql/engine.rb because it's not required anymore.
Add missing changelog entries for actionpack
Add documentation for the extending method in ActiveRecord:QueryMethods
Don't mount Sprockets at config.assets.prefix if config.assets.compile is false.
Stop trying to be clever about when to define attribute methods.
Generate attribute method unless it's already in the module.
We don't need to build a set for DangerousAttributeError.
Provide a way to access to assets without using the digest, useful for static files and emails
[:class_name] option in belongs_to should mention belongs_to and not has_one
Rename first_or_new to first_or_initialize.
delete stray backup files from guides sample app
Move asset tests to assets_test file
always rewrite_relative_url_root
fixed the failing generators_test
removing backwards compatibility module
point rails at Journey for dev and edge
partially expand the parameters to `match`
unfactor the Route class to private factory methods
reduce dependencies of external objects in the Route class
delete unused code, pass path explicitly to journey
adjust route inspection to work with Journey
all routes can be stored in the Journey Routes object
clear! does not need to be called from initialize
reuse the route collection and formatter by clearing them
Instantiate each part of our routing system:
stop freezing the routes
stop using a hash for parameterizing
Switching rack-mount to journey.
Deprecate using method_missing for attributes that are columns.
Add an attribute_missing method to ActiveModel::AttributeMethods.
Avoid double super call in some cases.
Let Ruby deal with method visibility.
Reset column info when messing with columns.
Always generate attribute methods on the base class.
Raise error when using write_attribute with a non-existent attribute.
Make protected method public so we avoid method_missing.
Add deprecation for doing `attribute_method_suffix ''`
refactoring
Use an empty AttributeMethodMatcher by default.
Alias id= if necessary, rather than relying on method_missing
Remove odd asignation
fix https://github.com/rails/rails/issues/2947 (with testcase)
Delete contribute.textile now that its contents are merged to the contributing_to_ruby_on_rails guide
change GH issue tracker url
Use the proper executable on tests.
fix https://github.com/rails/rails/issues/2582 (with testcase)
Just provide the executable for railtie. This should be fine since Rubygems now warns before overriding them.
Added getting_started code, updated guide with link to rails github repo and path to code
Slight change to reflect current 'destroy' code generated by scaffold in 3.1 release.
ActiveResource shouldn't rely on the presence of Content-Length
merged the contribution guides and changed the link in the layout accordingly
Use ensure instead of rescue
clarify that documentation bugs have to be reported as Rails issues. [Closes #2858]
Add test for warning and CHANGELOG entry
Change log level for CSRF token verification warning
Update to conform to rails 3.1 generated caode
added test for db migrate:redo
No need to use </form> here. It's already in whole_form block
Not used variables removed. Warnings removed.
railties depends on actionpack, so put actionpack in the include path
rake already ships with a ruby command
move route inspecting to an object so that we can more easily test it
Failing test: ActiveResource shouldn't rely on the presence of Content-Length
Silence Ruby warnings about uninitialized instance variable.
Add missing require in base_test.rb, fixes isolated test
Tests for rake db:migrate:status.
Added test for obj.errors.as_json
Add ability to get an individual full error message + test for full_messages.
Test polymorphic record with optimistic locking and counter cache should be destoyed without catching the ActiveRecord::StaleObjectError.
Travis-ci build image should link to the rails travis ci build page rather than to the image.
Pull up a method we only use once.
Conditions must never be equal
Remove failing test which was wrongly introduced.
revert the changes from c60995f3 - related to marking sub,gsub as unavailable to use with safe strings
delete the CHANGELOG entry re SafeBuffer and sub/gsub, since it has been reverted
Revert removing gsub and sub from safe buffer.
some copy-edits
mention the issue number for future reference
registers removal of sub and friends for safe strings in the CHANGELOG
this should have gone with the previous commit
copy-edits a couple of exception messages
better method documentation on disable safe string methods
remove support of symbols on classify and camelize
make gsub and sub unavailable in SafeBuffers - Closes #1555
getting_started.textile section 6: Correct file names in table
LRU cache in mysql and sqlite are now per-process caches.
fixing file name
LRU should cache per process in postgresql. fixes #1339
Thanks to the hard work of Ken Collins ( @metaskills ) on the ActiveRecord SQLServer Adapter ( https://github.com/rails-sqlserver/activerecord-sqlserver-adapter ), AR SQLServer Adapter works for Linux, OSX and Windows. Thus the sqlserver adapter should include so that users may use it with the new application generator:
Use Travis https build status image in order to prevent GitHub from caching the http version.
fixing view queries
use the supplied bind values
Revert "Rails.root is a Pathname, no need to use File.join first."
copy edit assets guide
Add tests for fixes to Time.===
Rails.root is a Pathname, no need to use File.join first.
Add ROWNUM to test first and last to support Oracle.
Make sure require_tzinfo only calls Kernel#require if TZInfo isn't already present.
Don't include any of includes, preload, joins, eager_load in the through association scope.
Refactor assets tests to use add_to_config instead of creating initializers with config values
Eliminate newlines in basic auth. fixes #2882
Database adapters use a statement pool.
Revert "Use https for travis-ci build status image to prevent Github from caching the failed build image. [ci skip]"
Use https for travis-ci build status image to prevent Github from caching the failed build image. [ci skip]
adding a statement pool for mysql and sqlite3
Added note about adding a javascript runtime to Gemfile for production environment.
add has_key? to ActiveModel::Errors
config.action_controller.perform_caching isn't used anymore in assets pipeline, instead we are using config.assets.digest now
Change hyphen to underscore.
Make the logic easier to read
Disable active record marshalling tests on Ruby 1.8.7 on Travis CI, as they have been failing intermittently for a long while due to what appears to be a Ruby bug. If anyone has the skills/expertise/time to debug this, please speak to the Travis guys.
#first doesn't take an order in this test
Using more precise method signatures for AR::Relation#first_or_create family of methods.
Adding first example with no arguments to AR::Relation#first_or_create and removing examples that create several users at the same time (this is confusing and not really helpful).
Bump uglifier up
first and last orders the records by id
Remove unused config variable from test.rb template
Make sure that result from content_tag_for with collection is html_safe
Use LIMIT sql word in last when it's possible
use LIMIT SQL word in first - Closes #2783
Uglifier bump
getting_started.textile: fix minor typo
add blanks between methods
Sort here to make sure the order is ok.
Remove empty test
Tests shouldn't produce warnings
Add reference about "bundle install --without assets" in Precompiling Assets section.
Add CoffeeScript example to JavaScript and ERB section
Add JavaScript and ERB section to Asset Guide
Add entry about Asset behaviour fix to ActionPack ChangeLog
AssetNotPrecompiledError should be raise when config.assets.digest = false, config.assets.compile = false and manifest file isn't present
* is not allowed in windows file names. Closes #2574 #2847
clarify where the branch name will exist
We need to recorder here. Need to drop the order from default scope.
No need to use a begin block there
if ... nil? is more expensive than unless
minor fixes in assets guide
We can't simply check the first line of the backtrace, because JRuby reports the call to __send__ in the backtrace.
Add gem_group support to generators
Make `content_tag_for` and `div_for` accepts the array of records
Added |t| to create_table block
Remove useless parens
Modified content in guides and comments for "assert /" warnings. Removed because if somebody will use this code they will get warnings!
Warnings removed for "assert_match /" Please do not add more.!
Warnings removed for using shadow variable.
add some missing dots in the docs
fix helpers behavior description
Need to add here to pass the test As in previous commit it's removed.
Make `ActiveSupport::OrderedHash` extractable when using `Array#extract_options!`
Add comments about bcrypt-ruby gem to SecurePassword
Add bcrypt-ruby to Gemfile template
fixes CSS example in the asset pipeline guide
document send_file guesses content type from the file extension and remove info about x_send_file option to send_file
fix YUI description
some of the changes for validation earlier reverted from d20281a
Change photos_path to photos_url in Using redirect_to
debug option to js, stylesheet tags are ignored when debug mode is off
Remove hard dependency on bcrypt.
When a collection is empty, render returns nil.
current_page? returns false for non-GET requests
fix indent for generator environment method
Change the styling of '<ruby>initialize</ruby>' to '+initialize+' (the former breaks the HTML generation).
make sure encoding_aware? is available
fix some minor omissions in pipeline docs
CookieJar is enumerable. fixes #2795
Add #update_attributes as another alternative to #update_column.
Edited activesupport/lib/active_support/core_ext/time/calculations.rb via GitHub
Modified ActionMailer Basics doc with the following change: * Changed the lines that said <tt>config/environments/env.rb</tt> to <tt>config/environments/$RAILS_ENV.rb</tt>.  People were mis-interpreting the filename to literally be env.rb.
Do not use objects that don't respond to to_sym (integers, floats, dates...) as parameters
Change "SCSS" to "Sass" in sentences where it's referred to as "language", because Sass is the language (SCSS is one possible syntax within the Sass language), as per documentation on sass-lang.com.
docs formatting changes
Move css data URI into css/erb section
pipeline docs improvement
assets:precompile should not append asset digests when config.assets.digest is false
Add missing changelog entries for 3.1.1
Move references to Rails.application.config out of Sprockets AssetPaths
pipeline docs - spelling and some whitespace
Adding reference about ExecJS for CoffeeScript
Add reference to ExecJS in JavaScript Compression section
Giving info about what are the defaults for test environment
update pipeline docs to reflect new defaults
Review config.assets options.
Improve examples: use each instead of for...in
should be using a / in this route rather than a #
Instructions for nginx and apache added
Added new asset config options to guides
Update wording surrounding template file extensions to include Rails 3 and above.
make code example agree with text just above
Add section to pipeline docs to help people upgrading
Set default location of manifest with config.assets.manifest
Backport f443f9cb0c64 to master
Backport b0f30631662 to master
Read digests of assets from manifest.yml if config.assets.manifest is on
Revert "Ruby 1.8.7+ provides to_date/to_datetime, AS just makes them public." to support date implementations without private to_date/to_datetime on Time (home_run).
Always enable digest and compile in the Rake task
syncs assets guide with what's in 3-1-stable
release notes: adds a couple of blank lines to get the markup right
adds the release notes of 3.1 to the index
don't need edgeapi now that we are on 3.1
Bump sprockets up
Adding `first_or_new` documentation to the AR Querying guide.
Ensure correct ordering of results in test_update_all_with_joins_and_offset_and_order
Adding first_or_create, first_or_create!, first_or_new and first_or_build to Active Record.
adds the asset pipeline guide to the index
Document the Sprockets compressors
let SDoc add a link to the source code in GitHub for each method
Proposed fix for issue 79 - https://github.com/rails/arel/issues/79 - Pass the connection_pool to the ToSql initializer, rather than the engine itself.
Move clear_timestamp_attributes into Timestamp module
Move the bulk alter table code into the abstract mysql adapter, hence it is supported for mysql2 as well now.
Extract simplified_type into the abstract class
Create an AbstractMysqlAdapter to abstract the common code between MysqlAdapter and Mysql2Adapter.
Split long string into multiple shorter ones
Avoid extra recursive call in Sprockets helpers
Documentation fixes
fixing typo
Bump rack-cache, rack-test, rack-mount and sprockets up
clear and disable query cache when an exception is raised from called middleware
Refactor ActionDispatch::Http::UploadedFile
deletes spurious arrow
doc fixes
remove misleading line on 500 error page.
fixed 500 error message which is misleading by suggesting all rails apps have exception notifications by default
use sdoc to generate the API
incorporate feedback from vijaydev and dasch to rephrase this to sound more natural, and some grammar fixes.
stop messing with the load path, load path should be adjusted in the test task
Support locking by default and disable it only for SQLite.
Support locking in Oracle
Removed Unused Variable.
Force binary data inserted for a string data type to utf-8 and log an error.  Strings tagged as binary will be stored in sqlite3 as blobs.  It is an error to insert binary data to a string column, so an error is emitted in the log file.  People are highly encouraged to track down the source of the binary strings and make sure that the encoding is set correctly before inserting to the database.
Revert all the stuff to do with disallowing non-public methods for Module#delegate
Removing redundant stringify_keys in Sprockets helpers
Don't require a specific value for the ?debug flag
Yes we need this to pass the test. we are using config.log_level.
Moved strict validation changelog entry to right place
Update Debugging Assets section of Assets Pipeline guide
Add missing CHANGELOG entries for Railties
Tiny refactor
Typo fix
Make Sprockets::Helpers::RailsHelper#debug_assets? more readable
Move asset debugging tests into a separate test case
fix ambiguous * and remove unused variable
fix ambiguous use of *
stop circular require warnings
only backport the to_d method if it does not exist
only define the encoding reader since we define the writer later on
we are *sure* we want to set the encoding, so silence warnings around it
the command line guide is good to go
Preserve stylesheet_link_tag and javascript_include_tag options on debug
Use super in javascript_include_tag and stylesheet_link_tag instead of generate tags manually
Remove redundant join and call to html_safe
bumping bcrypt-ruby requirement
dealing with some -w warnings on startup
Adding missing autoload
Revert "Simplify JavaScriptHelper#escape_javascript" This commit broke the build without any improvement.
Bring in sprockets precompile task
Add config.allow_debugging option to determine if the debug_assets query param can be passed by user
do not compute table names for abstract classes
Simplify JavaScriptHelper#escape_javascript
remove useless rescue
Add change log entry on strict validation
Add strict validation example to guides
Remove extra word from sentence in initialization guide.
Debug assets shouldn't ignore media type for stylesheets. Closes #2625
`load` should also return the value from `super`
require needs to return true or false. thank you Ryan "zenspider" Davis
Make ActionController::TestCase#recycle! set @protocol to nil
Add failing test case for #2654
Ensure regexp and hash key are UTF-8
removed the link to my blog to help stop endless comments
Revert "Removed my name from the changelog as the amount of blogspam became ridiculous.
"
added missing require array/wrap in serialization
Remove trailing whitespace
added more tests for only-include and except-include options in serialization
Don't modify params in place - fixes #2624
Add destroy alias to engines
Travis status image added to GitHub README, excluding API pages.
Refactor Sprockets::Helpers::RailsHelper#performing_caching?
Add Destroy Alias
From @dasch's recommendation.
Allow to debug assets by config.assets.debug
Removed my name from the changelog as the amount of blogspam became ridiculous. When will docrails be back? :-p
fix escape_javascript for unicode character \u2028.
Use typewriter styling on url_for in documentation
Bump sprockets to 2.0.0.beta.14
Add .rbenv-version to .gitignore
params wrapper docs correction
Updated the docs for the has_many :finder_sql option to reflect changes made in #a7e19b30ca71f62af516, i.e. the use of Procs when interpolation of the SQL is required.
minor change in the 3.1 release notes
actionpack/lib/action_controller/base.rb: docs typo
ActionController::Redirecting : fix docs typo
Document debugging assets set by default for dev and test envs in the asset_pipeline guide.
mailer guide: fixes indentation, and use fixed width fonts wherever necessary
Do not try to use as a parameter elements that are not acceptable
Debug assets by default in development and test environments
minor details revised in a gsub
fixes generation of the AR querying guide
Implemented strict validation concept
Updates to remove extra whitespaces and notably fix a whitespace issue with ajax_on_rails causing a code block not to render the entire block properly.
Cleanup application.css
making the order more clear, adding linux distros mailing lists to our cc
adding lessons learned so I do not make the same mistake twice
Properly escape glob characters.
properly escape html to avoid invalid utf8 causing XSS attacks
Tags with invalid names should also be stripped in order to prevent XSS attacks.  Thanks Sascha Depold for the report.
prevent sql injection attacks by escaping quotes in column names
When a route references a missing controller, raise ActionController::RoutingError with a clearer message
generating a Gemfile, using the hoe-bundler plugin
adding security email address
Use lazy load hooks to set parameter wrapping configuration. This means that it doesn't force Action Controller / Active Record to load, but it doesn't fail if they have already loaded. Thanks @josevalim for the hint.
prefer ends_with? over slicing
AS guide: document in Module#delegate that the method must be public in the target
Don't reference ActiveRecord::Base in initializers/wrap_parameters.rb. Use config.active_record instead. This yields about a 20% decrease in startup time because it means that the connection is not created immediately on startup. Of course, this is only useful if you are not going to immediately use the database after startup.
In 1efd88283ef68d912df215125951a87526768a51, ConnectionAdapters was put under eager_autoload. Due to the requires in that file, this caused ConnectionSpecification to be loaded, which references ActiveRecord::Base, which means the database connection is established. We do not want to connect to the database when Active Record is loaded, only when ActiveRecord::Base is first referenced by the user.
document Array#append and Array#prepend methods in AS guide
Remove unused require.
Be more lazy about creating time zone objects. Decreases startup time by about 10%. (#734)
Don't refer to ActionController::Base in the wrap_parameters initializer - use config object instead. Cuts about 15% off the load time. (#734)
Document Hash#extract!.
Updates to Asset Pipeline Guide
Bump arel dependency
Use new SelectManager#source method
Use new SelectManager#projections= method
use update.key instead of update.ast.key. make better use of select manager.
Use a SelectCore rather than a full SelectManager
Refactor building the update manager
Support for multi-table updates with limits, offsets and orders
Added Array#prepend as an alias for Array#unshift and Array#append as an alias for Array#<< [DHH]
Requiring delegate.
Removing unnecessary require, solve 'circular require considered harmful' warning.
rake assets:precompile executes in production environment as default if RAILS_ENV was not provided
updating the gemspec
version bump
updating gem manifest
Update travis config on @joshk's instructions
Unused variable removed.
assets guide - add info about require_directory, minor rephrasings
Document Object#public_send
Add a test for delegating a method ending in '=' as this is a special case.
minor changes in app templates guide
Need to include public_send
Split up the definitions in Module#delegate depending on :allow_nil, and don't use exceptions for flow control in the :allow_nil => true case.
Just do the method call directly in Module#delegate, if we can (we cannot for method names ending in '='). Two reasons: 1) it's faster, see https://gist.github.com/1089783 and 2) more importantly, delegate should not allow you to accidentally call private or protected methods.
Backport Object#public_send to 1.8 so that we can implement Module#delegate such that non-public methods raise
JSON: Encode infinite or NaN floats as null to generate valid JSON.
Ensure changing RAILS_GROUPS will load the proper dependencies.
Typo
Action Mailer guide: mention how to use :cc and :bcc parameters.
Action Mailer guide update: the :to parameter now supports both String and Array values to indicate recipients.
Methods like status and location are interfering with redirect_to [Closes #2511]
rephrase how the verbose methods in a migration work
document alias for rails runner
added a few more items in the release notes
fix misleading comment (originally made by Tate Johnson, we lost this commit while porting to the rails repo)
Use mysql_creation_options inside rescue block
Active Model instead of ActiveModel.
Use fixed-width font where necessary.
"suits" is correct here, not "suites"
Typo fix
Some fixes on the 3_1_release_notes guide.
update abstract_controller callbacks to document meta-programmed filters
ActiveModel::Validations basic guide
Document exclamation point on dynamic finders
update rails on rack guide, section 2 needs to be changed or maybe deleted
Revert "update rails on rack guide, section 2 needs to be changed or maybe deleted"
update rails on rack guide, section 2 needs to be changed or maybe deleted
comma is more appropriate here
[asset pipeline] update snippet to reflect patch
[asset pipeline] update to reflect new sendfile header default
3.1 release notes: fixed font changes
Point to current, official upgrade plugin
[asset pipeline] Update Capistrano info
3.1 release notes: organize action_pack notes
prototype switch
expand tmp:* tasks, and a few more additions in the command line guide
indentation fixes
Dirty object methods added to active model basics
ActiveModel::Conversion basic guide
ActiveModel::Callbacks basic guide
ActiveModel::Callbacks basic guide
[asset pipeline] fixed example
Rubygems => RubyGems
capitalize RubyGems properl
rephrase "like to be"
AttributeMethods refector suffix method added some usages
ActiveResource::Validations module basics updated
ActiveModel::AttributeMethods basic guide
Adding Basic file for ActiveModel. @vatrai and @sukeerthiadiga is going to take care other detailed stuff.
we should not ignore all gems in here
Add git push and git push --tags to RELEASING_RAILS.rdoc
moving CI and Sam Ruby to the top of the list.  I :heart: CI and Sam
add section about notifying implementors
fixing assert_difference issues on ruby 1.8
fixing wrong words.  thanks @jbrown
ActionView::Helpers::TextHelper#simple_format should not change the text in place. Now it duplicates it.
adding my brain dump of the release process
fix stringify_keys destructive behavior for most FormTagHelper functions add four new tests to verify that the other three methods that called stringify_keys! are fixed. verified that the tests break in master without the code patch. Closes #2355
Quote these dates to prevent intermittent test failure. Suppose local time is 00:50 GMT+1. Without the quoting, the YAML parser would parse this as 00:50 UTC, into the local time of 01:50 GMT+1. Then, it would get written into the database in local time as 01:50. When it came back out the UTC date from the database and the UTC date of two weeks ago would be compared. The former would be 23:50, and the latter would be 00:50, so the two dates would differ, causing the assertion to fail. Quoting it prevents the YAML parser from getting involved.
make assert_difference error message not suck
accept option for recreate db for postgres (same as mysql now)
Don't require assets group in production by default, you can change this default in the application.rb anyways
This dep is already defined in activerecord.gemspec
initializing @open_transactions in the initialize method
add a migrate class method and delegate to the new instance
Ensure that .up and .down work as well.
Support backwards compatible interface for migration down/up with rails 3.0.x.
use File.directory? as Dir.exists? is only 1.9.2+
Pass options in ActiveSupport::Cache::CacheStore#read_multi through to the delete_entry call.
Remove unnecessary require (happened after fcbde454f6)
MassAssignmentProtection: consider 'id' insensetive in StrictSanitizer
Rename new method to_path to to_partial_path to avoid conflicts with File#to_path and similar.
Removing extra requires from the test. Already loaded in abstract_unit.
remove extra require for 'active_support/dependencies' as it is required in abstract_unit.rb
remove extra require for 'stringio' as it is required in helper.rb
fixes #2368. rake about not showing the middleware, db adapter and db schema version
remove_possible_method: test if method exists
magic comment test only if encoding_aware?.
Covering more files in test for plugin new generator.
Resolve warnings by instantizing @attrubtes as nil
remove redundant calls to stringify_keys
Change ActiveSupport::Cache behavior to always return duplicate objects instead of frozen objects.
delay backtrace scrubbing until we actually raise an exception. fixes #1936
default writing the schema file as utf-8
dump IO encoding value along with schema.rb so the file can be reloaded. fixes #1592
Instead of removing the instance variable just set it to nil, resolves the warnings because of a missing instance variable
Reset @dirty to false when slicing an instance of SafeBuffer
Test add for plugin new generator generate mailer
Include empty app/mailers directory in mountable and full plugins
Tidy up
We don't need to require erb here.
Make use of the inherited initializer.
There is no need to be destructive with the passed-in options.
Give attribution to Peter Jaros for the patch we paired on.
pluging generator test fix
Tidy up a bit plugin new gemspec
Moved dependencies from Gemfile to gemspec to eliminate redundant declarations.
Extracted version from gemspec and placed it in its own file. This is consistent with the approach taken by "bundle gem", and is expected by gems such as svenfuchs/gem-release which can be used to bump / tag versions of gems.
Expanded meta-data in gemspec to include author, email, etc.; Defaults include "TODO" to prevent gems from being built without review.
Update CHANGELOG.
Move the cache to a nested hash which performs better than a hash with array as keys.
Rename class method to_path to _to_path and make it explicit that it is an internal method.
Let ActiveModel instances define partial paths.
Make Rails.application.assets available in initializers
contrib app minor tweak
Handle the empty array correctly.
Improve performance and memory usage for options_for_select with Ruby 1.8.7
Add a proxy_association method to association proxies, which can be called by association extensions to access information about the association. This replaces proxy_owner etc with proxy_association.owner.
fix some types in schema_test.rb
simplify conditionals by assuming hash values will never be `false`
use regular ruby rather than clever ruby
fixing wildcard path matching when wildcard is inside parenthesis
Replace unnecessary regexp in Dependencies#load_missing_constant
Constantize a regexp in Dependencies#load_missing_constant
Remove blank line
refactored 'assert_redirected_to': local call to validate_request! will be called in assert_response already. changed names of local variables in order to recognize the semantics a bit easier.
Remove cruise files
added test case for fix to issue #2094
fixed problem in which options[:html][:remote] would be overridden in form_for() - fixes #2094
remove unused variables warnings removed
enable Travis CI irc notifications to #rails-contrib on irc.freenode.org
remove deprication warning: ambiguous first argument; put parentheses or even spaces
fixing tests on ruby trunk
fixing whitespace errors
remove deprication warning for ruby 1.9.3-head for unused variables
use sprocket's append_path and assert_match
Revert "allow select to have multiple arguments"
allow select to have multiple arguments
Simplify the test by using id and name. `id` will be the only real sort criteria in any case as it's unique.
use_sprockets is not used anymore
Bump sprockets up
Check that Rack::Sendfile is not included unless config.action_dispatch.x_sendfile_header is set
Bump rack up. Closes #2107
Add documentation for :format => true
Allow a route to have :format => true
Remove unused use_sprockets config
Don't use Rack::Sendfile middleware if x_sendfile_header is not present
Revert "Explicitly included hashes in sentence regarding SQL-injection-safe forms"
Revert "grammatical changes"
The trailing '/' isn't being picked up by Github anyway, and the link works as is.
The trailing '/' isn't being picked up by Github anyway, and the link works as is.
grammatical changes
typo fix
minor changes in migrations guide
fixed incorrect tags
Active Resource - guide for destroy
Active Resource - guide for update/save
Active Resource - guide for create
Active Resource - guide for reading and writing data
typo in "wont"
3.1 release notes Active Record changes, Architectural changes and organizing sections.
Adding more info as rake about is fixed
Rack::Sendfile is no more default middleware.
"blog" is more common than "weblog" these days.
3.1 release notes - added AP and Railties sections
3.1 release notes draft
prefer to use if..end unless the condition is simple/compact
remove some parts of the section on shortcut helpers, document custom validators
make the warning clear about the effect of using validates_associated on both sides on an association.
usages of active resouce
configuration for active resource
Introduction for active resource
Active Resouce guide initial load
'/' was outside of anchor tag.
Superfluous "the".
extra '/' removed from url, which was not linked
Update History.txt
Perf: don't mess around with thread local vars unless we actually need to
Work around for lolruby bug. (Read on for explanation.)
We need [] method here. previously it's an array.
Allow ActiveRecord observers to be disabled.
moving test_generate to an integration test with one assert per test
We actually don't need a reverse_merge! here. dup removed was giving error with nil class.
fix assert_select_email to work on non-multipart emails as well as converting the Mail::Body to a string to prevent errors.
Add SelectManager#source method to get the source of the ctx
Add SelectManager#projections= method to overwrite projections
add UpdateManager#key method to access the key
when calling url_for with a hash, additional (likely unwanted) values (such as :host) would be returned in the hash... calling #dup on the hash prevents this
fix destructive stringify_keys for label_tag
Remove 'parameters_for_url' parameter from 'form_tag' method signature
add the gem requirement for sqlite3
fix exists? to return false if passed nil (which may come from a missing URL param)
Remove lame comment.
rake assets:precompile defaults to production env
adding missing require to fist railties tests
Okay, the new incompatible arel is now called 2.2 and the sun shines upon thee once more
bumping to 2.2.0
deprecating process_view_paths
avoid object creation via useless duping and freezing
just use map and case / when rather than modifying the iterating array
only typecast what we need to typecast
Favor composition over inheritance.
Array#+ automatically dups, no double duping
Just remove the sort_locals method
the freeze trick does nothing on arrays used as hash keys.
use functional style to build a list of template objects
Add Ruby trunk (1.9.4dev) to TravisCI matrix
refactor the optimized build_query a bit
reduce file stats by improving our dir glob pattern
hash on the template directory in order to improve cache hits
use meaningful names with our variables
use binread to read the files
backporting IO#binread for 1.8 users
be explicit about arguments passed around
Remove TODO comment I didn't mean to commit
Test against multiple rubies, add IRC notifications
Bump arel version
updating version
updating changelog
Make it the responsibility of the connection to hold onto an ARel visitor for generating SQL. This improves the code architecture generally, and solves some problems with marshalling. Adapter authors please take note: you now need to define an Adapter.visitor_for method, but it degrades gracefully with a deprecation warning for now.
Make it the responsibility of the connection to hold on to a visitor for generating SQL, rather than the TreeManager. (There is a related commit coming in Active Record.)
Ignore Gemfile.lock
Further monkey-patching to avoid deprecation warnings
Initialize config.assets.version the same way it's done in Sprockets
Support update statements containing joins
guides generation: apparently this workaround for RedCloth is not needed anymore
Added irregular zombie inflection, so zombies no longer gets singularized into zomby
edit changelog to mention about x_sendfile_header default change
x_sendfile_header now defaults to nil and production.rb env file doesn't set a particular value for it. This allows servers to set it through X-Sendfile-Type, read https://github.com/rack/rack/blob/master/lib/rack/sendfile.rb for more info. Anyways you can force this value in your production.rb
Test against 1.9.3 as well.
sqlite transactions now logged
Use rake >= 0.9.3.beta.1 in Ruby 1.9.3
use assets.version in asset checksum to allow user to easily override
Refactored to more closely resemble idiom applied for on_nil
Avoid generating app/views/layouts/application.html.erb on mountable engines, just generate the namespaced one
Revert "Test against Rubinius"
Test against Rubinius
Revert "to_key on a destroyed model should return nil". Closes #2440
pg does not allow aliases in the having clause, but functions are fine
Clear out tmp/cache when assets:clean is invoked.
generate environment dependent asset digests
Clear out tmp/cache when assets:clean is invoked.
Revert "Explicitly included hashes in sentence regarding SQL-injection-safe forms"
Revert "grammatical changes"
The trailing '/' isn't being picked up by Github anyway, and the link works as is.
The trailing '/' isn't being picked up by Github anyway, and the link works as is.
grammatical changes
typo fix
minor changes in migrations guide
fixed incorrect tags
Active Resource - guide for destroy
Active Resource - guide for update/save
Active Resource - guide for create
Active Resource - guide for reading and writing data
typo in "wont"
3.1 release notes Active Record changes, Architectural changes and organizing sections.
Adding more info as rake about is fixed
Rack::Sendfile is no more default middleware.
"blog" is more common than "weblog" these days.
3.1 release notes - added AP and Railties sections
3.1 release notes draft
prefer to use if..end unless the condition is simple/compact
remove some parts of the section on shortcut helpers, document custom validators
make the warning clear about the effect of using validates_associated on both sides on an association.
usages of active resouce
configuration for active resource
Introduction for active resource
Active Resouce guide initial load
'/' was outside of anchor tag.
Superfluous "the".
extra '/' removed from url, which was not linked
Extra "l" removed before h2.
document meta method
Removed trailing slash of 'Download and installation' Github URL as per convention
Explicitly included hashes in sentence regarding SQL-injection-safe forms
Association and Callbacks guide: Added section on shortcut syntax 'validates'.
move the note after the scaffold files listing
sync the getting started guide with master
we should not ignore all gems in here
Add git push and git push --tags to RELEASING_RAILS.rdoc
Make rails gem build directory consistent with actionpack, etc.
moving CI and Sam Ruby to the top of the list.  I :heart: CI and Sam
add section about notifying implementors
fixing assert_difference issues on ruby 1.8
fixing wrong words.  thanks @jbrown
adding my brain dump of the release process
ActionView::Helpers::TextHelper#simple_format should not change the text in place. Now it duplicates it.
fix stringify_keys destructive behavior for most FormTagHelper functions add four new tests to verify that the other three methods that called stringify_keys! are fixed. verified that the tests break in master without the code patch. Closes #2355
Remove short circuit evaluation and leave AST as it is
Add nodes for boolean constants
Quote these dates to prevent intermittent test failure. Suppose local time is 00:50 GMT+1. Without the quoting, the YAML parser would parse this as 00:50 UTC, into the local time of 01:50 GMT+1. Then, it would get written into the database in local time as 01:50. When it came back out the UTC date from the database and the UTC date of two weeks ago would be compared. The former would be 23:50, and the latter would be 00:50, so the two dates would differ, causing the assertion to fail. Quoting it prevents the YAML parser from getting involved.
make assert_difference error message not suck
Don't require assets group in production by default, you can change this default in the application.rb anyways
accept option for recreate db for postgres (same as mysql now)
This dep is already defined in activerecord.gemspec
initializing @open_transactions in the initialize method
Test added to check mass_assignment_sanitizer is not present if --skip-active-record provided.
add a migrate class method and delegate to the new instance
Ensure that .up and .down work as well.
Support backwards compatible interface for migration down/up with rails 3.0.x.
use File.directory? as Dir.exists? is only 1.9.2+
Pass options in ActiveSupport::Cache::CacheStore#read_multi through to the delete_entry call.
Remove unnecessary require (happened after fcbde454f6)
Rename new method to_path to to_partial_path to avoid conflicts with File#to_path and similar.
Removing extra requires from the test. Already loaded in abstract_unit.
Remove warnings by calling remove_method
remove extra require for 'active_support/dependencies' as it is required in abstract_unit.rb
fixes #2368. rake about not showing the middleware, db adapter and db schema version
remove_possible_method: test if method exists
remove extra require for 'stringio' as it is required in helper.rb
magic comment test only if encoding_aware?.
Resolve warnings by instantizing @attrubtes as nil
remove redundant calls to stringify_keys
Change ActiveSupport::Cache behavior to always return duplicate objects instead of frozen objects.
delay backtrace scrubbing until we actually raise an exception. fixes #1936
default writing the schema file as utf-8
dump IO encoding value along with schema.rb so the file can be reloaded. fixes #1592
Covering more files in test for plugin new generator.
Reset @dirty to false when slicing an instance of SafeBuffer
Test add for plugin new generator generate mailer
Instead of removing the instance variable just set it to nil, resolves the warnings because of a missing instance variable
Include empty app/mailers directory in mountable and full plugins
Tidy up
document meta method
Make use of the inherited initializer.
There is no need to be destructive with the passed-in options.
Removed trailing slash of 'Download and installation' Github URL as per convention
Give attribution to Peter Jaros for the patch we paired on.
We don't need to require erb here.
pluging generator test fix
Tidy up a bit plugin new gemspec
Moved dependencies from Gemfile to gemspec to eliminate redundant declarations.
Extracted version from gemspec and placed it in its own file. This is consistent with the approach taken by "bundle gem", and is expected by gems such as svenfuchs/gem-release which can be used to bump / tag versions of gems.
Expanded meta-data in gemspec to include author, email, etc.; Defaults include "TODO" to prevent gems from being built without review.
Explicitly included hashes in sentence regarding SQL-injection-safe forms
fixed test case test_render_json_with_callback to use content_type application/javascript
Change mimetype to Mime::JS if JSONP is used
MassAssignmentProtection: consider 'id' insensetive in StrictSanitizer
Update CHANGELOG.
Move the cache to a nested hash which performs better than a hash with array as keys.
Rename class method to_path to _to_path and make it explicit that it is an internal method.
Association and Callbacks guide: Added section on shortcut syntax 'validates'.
Make Rails.application.assets available in initializers
contrib app minor tweak
Handle the empty array correctly.
Improve performance and memory usage for options_for_select with Ruby 1.8.7
Add a proxy_association method to association proxies, which can be called by association extensions to access information about the association. This replaces proxy_owner etc with proxy_association.owner.
fix some types in schema_test.rb
simplify conditionals by assuming hash values will never be `false`
use regular ruby rather than clever ruby
fixing wildcard path matching when wildcard is inside parenthesis
Replace unnecessary regexp in Dependencies#load_missing_constant
Remove blank line
Remove cruise files
remove unused variables warnings removed
enable Travis CI irc notifications to #rails-contrib on irc.freenode.org
remove deprication warning: ambiguous first argument; put parentheses or even spaces
fixing tests on ruby trunk
fixing whitespace errors
remove deprication warning for ruby 1.9.3-head for unused variables
Constantize a regexp in Dependencies#load_missing_constant
use sprocket's append_path and assert_match
Revert "allow select to have multiple arguments"
move the note after the scaffold files listing
allow select to have multiple arguments
Oracle does not allow ORDER BY/LIMIT in UPDATE queries.
refactored 'assert_redirected_to': local call to validate_request! will be called in assert_response already. changed names of local variables in order to recognize the semantics a bit easier.
Simplify the test by using id and name. `id` will be the only real sort criteria in any case as it's unique.
use_sprockets is not used anymore
Bump sprockets up
Check that Rack::Sendfile is not included unless config.action_dispatch.x_sendfile_header is set
Bump rack up. Closes #2107
prepping for 2.1.4 release
sync the getting started guide with master
Remove unused use_sprockets config
Don't use Rack::Sendfile middleware if x_sendfile_header is not present
Add documentation for :format => true
let TIP and friends handle a multiline paragraph
Let ActiveModel instances define partial paths.
Allow a route to have :format => true
Revert "aligment issues fixed"
aligment issues fixed
Ensure the constraints block is only applied to the correct route addresses issue #1907 - any routes that follow a route with a constraints   block are inheriting the previous route's constraints.
Simplify the way default DATABASE_URL works.
no need for an anonymous class on every setup call
Use shorter class-level File methods instead of going through File.stat.
provide more explicit test names
Revert "Add in a tip about opening two command prompt windows"
Revert "Update the TIP formatter to handle multiline tips"
Make polymorphic_url calls go through application helpers again.
Bring back the ability to provide :order for update_all.
add test checking that precompiling assets performs caching
Improve ch. 1 of the Form Helpers guide
Add in a tip about opening two command prompt windows
Extend description of rails generate scaffold and what it's options accomplish
Simpler brief explanation of Rails and REST
Update the TIP formatter to handle multiline tips
Updated migrations.textile to clarify Using Models in Your Migrations
Make the rails not found tip more explanatory.
Updated rails_welcome.png to latest Rails welcome page.
Update wording of TIP about --database option for rails new
Remove "bundle install" section, as rails new ______ runs bundle install for you
Add a note about the fact that the Windows prompt will look different than the linux/osx prompt
Use top level Rails constant
Reformatted to 80 chars.
use existing model for testing Base.create with #after_initialize
Rewrite apart of the REST section to be in the present tense
Wrapped text content to 120 chars
Provide consistant indentation for the example code
little details seen while reviewing
help the next guy with explanations - See bb3b3e306
Moved ActionController, ActionView and ActionDispatch sections under ActionPack
Add link to the Layouts and Rendering guide to explain more on view templates
Modified the content based on vijaydev's comment
Update guide to be based on Rails 3.1.
Added link to the RubyGems User's Guide
Added explanation to Components of Rails to help users not get hung up on details
Update "Getting Started" for Rails 3.1
Added some context for rack apps, linked to the Rails on Rack guide.
Clarified notes in 3.2 Creating the Blog Application
Changed wording of paragraph 2.1.1 Models to clarify table/model relationship.
Duplicable test is looking fine now.
Bringing back the jquery-rails. One test is dependent.
Revert "Tests now require MySQL2 adapter in order to run"
Missed a few instances of British English spelling in the last commit oh and obviously I meant according to Webster, not Weber
Changed a few instances of of words in the API docs written in British English to American English(according to Weber)
Ordering with extra spaces was raising a SQL exception
simplify and be more explicit about create and after_initialize tests
fix after_initialize edge case (close #2074 and close #2175)
just use normal ruby for stubbing
- added ActionView::PartialRenderer#merge_path_into_partial(path, partial)   fix issues/1951
- added test case for issue:   https://github.com/rails/rails/issues/1951   Namespaced model partial_path is wrong in namespaced controllers
simplify singleton_class? method
Simple fix to the NoMethodError noted in #2177.
rake assets:precompile should always perform caching - Closes #2199
Remove unused gems from Gemfile
Remove unneccesary map chaining
Trivial optimization for Enumerable#each_with_object
Insure that Enumerable#index_by, group_by, ... return Enumerators
Make Enumerable#many? iterate only over what is necessary
Make Enumerable#many? not rely on #size
Test using generic Enumerables instead of arrays.
Make tests more precise
Changing Textile emphasis underscores to em tags; the link with underscores that follows is causing the emphasis underscores to be parsed incorrectly.
registers the recent change to date multiparameter handling in the CHANGELOG
Changed several instances of British English to be American English
Replaced â€˜ with ' in the guides.
Tests now require MySQL2 adapter in order to run
now the documentation reflects the actual returned value for a missing translation
Improve rails:template undefined LOCATION variable error message fixed
checked all .rb files in the project tree for missing magic comments, one was missing
adds a couple of missing magic comments [fixes #1374]
Revert "notextile tag has been placed with ascii quotes"
little details seen while doing a pass through what's new in docrails
For svn files also spilt required
Small missing information added to command description. --help also works like -h.
minor refactor in the template guide
document the change in edge rails which makes a more strict check on the arity of the dynamic finders
corrected sentences to make them consistent in command line guide
minor corrections in caching guide
forgot to add this test case
remove ruby-prof for rubinius in Gemfile
lazy load ConnectionAdapters remove require.
use rake tasks to set the default environment variables. fixes #2126
removing inline source option from rdoc task. fixes #2169
adding changelog entry for connection urls
adding more tests around database uri parsing
grammatical changes
move around tests
alias added for rails generate guide
alias added for rails runner guide
grammatical changes
typo change
fixed type
Download and installation, License and Support sections added for activemodel
use the doc conventions for arguments in all cases
This conditions is required to work with database create task. 1.9.2 is having a bug with "Calling return within begin still executes else".
fix postgres connection url test
Add documentation for URL connection strings.
Provide database connection settings as a URL.
no need to sort the values
assign_nested_attributes_for_collection_association should work with Ruby 1.9 [Closes #2106]
Revert "this fixes a brittle test in fixtures_test.rb which fails when you are in a timezone which is ahead of UTC but UTC is in the previous day still."
bigdecimal should be typecast to a float on sqlite3. fixes #2162
oops, forgot source
adding Gemfile
supressing nested parenthesis in multiple unions on mysql. thanks jhtwong. fixes #58
documents the changes to String#blank? in the AS guide
registers the changes to String#blank? in the CHANGELOG
missing require of string/encoding to have access to encoding_aware?
fix String#blank? on binary strings.
Documentation fix: adding missing equal sign in code sample for ActiveModel::Dirty.
this fixes a brittle test in fixtures_test.rb which fails when you are in a timezone which is ahead of UTC but UTC is in the previous day still.
Changed the year of a date used in a test which fails when using 1.8.7 on a 32bit machine (ArgumentError: time out of range)
Check Accept and Content-Type headers before evaluating them in xhr requests. Closes #2119
Update form helper documentation to match code.
add entry for submit helper change removing object_name_id
avoid Symbol#to_proc
image_url documentation in asset_pipelin doc
spacing fix
reword select_date's behaviour clearly when an incomplete options array is passed
minor corrections in form helpers guide and api docs
some corrections in assets pipeline guide
Capitalization compliance for asset_pipeline doc
Explicitly require Active Support dependencies
Revert "notextile tag has been placed with ascii quotes"
notextile tag has been placed with ascii quotes
notextile tag has been placed with ascii quotes
Ensure that status codes are logged properly
Complete another review of asset pipeline guide
make tzinfo a development dependency
Refactor test case to use anonymous class - Thank you @tenderlove
[asset pipeline] update capistrano task code
Refactor the code a bit to reduce the duplication
Raise an ArgumentError if user passing less number of argument in the dynamic finder
Add seach, tel, url and email inputs as 'Other Helpers of Interest'
examples for telephone_field, url_field and email_field
document options to search_field
Checking with to_s. As regexp fail with 1.8.7
ActiveModel support for the :include serialization option
Move to_xml tests to xml_serialization_test.rb
We already have the record; no need to retrieve it again
Replace map+compact with select
Add a test
serializable_hash(:only => [], :methods => [:foo]) should work
use correct in description
This fixes an issue when bundling to a local path (eg. /vendor/bundle).
As we are adding db folder in it. Required in test also.
[asset pipeline] Correct CSS section and include Gem details
[configuring] add doc for missing assets attribute
we're talking about days here, not hours
wording between select_second, select_minute and select_hour should be consistent and correct
fix typo
make documentation agree with test expectations and behaviour
document that second tags are also returned by default
there is no Time.today method, use Time.now
remove stray character
disambiguate uses of post/POST by using "article" for the related variable passed to  date_select, time_select and datetime_select
clarify that classes that include DateHelper can also manipulate times
clarify that DateTime objects are allowed arguments to distance_of_time_in_words
use minute instead of second in description of select_minute
show correct helper in description
use 'hour' instead of 'minutes' and 'second' for select_hour
Made attribute_method_matchers_cache private + doc
Switch Tilt link to Textile format
[asset pipeline] A few corrections and some new material
indeed, if we are going to remove everything in public/assets on assets:clean, just do that
if we are cleaning all files, we are cleaning all gz files
Improve formatting of route to Rack application in rake routes.
Added gem helper to rake task for engines, as per pull request from 3-1-stable, #2103
added test case for fix to issue #2094
[asset pipeline] Add section on sendfile option
Issue #2075 Optimization of ActiveModel's match_attribute_method?
Added db to gemspec files so migrations are correctly packaged
fixed problem in which options[:html][:remote] would be overridden in form_for() - fixes #2094
Better formatting of route requirements in rake:routes.
Should be "match" instead of "map"
convert multiple Date parameters into a nil if any of its bits were blank
Added a .travis.yml config and travis specific ci script.
[asset pipeline] Added information about data uri helper
Optimization of ActiveModel's match_attribute_method?
assert nothing raised for setting a cookie value to nil in ActionDispatch
Minor grammar mistake
need magic comments
Modified Migrations file
Bump rack up
treat fullwidth whitespace as a blank character
Added view template invalid name check, along with tests. No merges in commit.
documentation fix: wrong result
[asset pipeline] add capistrano task
Replaced appropriate word.
Use cache/assets instead.
assets.cache_store now defaults to filesystem. You will want to share tmp/assets_cache between deploys.
remove extra space since comment_if already returns the space.
grammar correction for rails/paths #add method arguments
misc grammar and clarity changes for rails/engine docs
grammar/tense correction to rails application doc
Ensure Dir.glob is sorted
Generate valid default fixtures for models with a type column
Grouped select helper
Require assets in all environments by default and provide a way to opt-out from uglifier.
Mention about acronym inflection in config/initializers/inflections.rb
fixed paths, more consistent helpers and paths examples
#many? uses count instead of select - a bit faster
Rails.application#env_config is now public API. [Closes #1924]
[asset pipeline] more updates to docs
TODO fix explicitly loading exceptations, autoload removed
Issue #636 - Parsing an xml file with multiple records and extra attributes (besides type) fails
use simpler words in docs
Make Rails.groups accept arrays.
Include TagHelper within AssetTagHelper
to_key on a destroyed model should return nil
Add more examples to #titleize
Make #extract_schema_and_table an instance method in Utils
formats
fix AR having() not to raise NoMethodError when the given argument does not respond to empty?
Foo.joins(:bar).includes(:bar) should result in a single query with :bar as a join. Related: #1873.
Documentation fixes for rendering partials
Add section about debugging assets
Clarify that per-controller asset files are not 'magically' loaded by the controller, but rather need to be required
config should always be an AS::InheritableOptions object. Closes #1992
ActiveRecord::Base should pass ActiveModel::Lint.
Updated active_record_querying.textile: intro paragraph of 'Conditions' to change 'find method' to 'where method'
update Rails version. (rails console didn't exist in 2.1)
Changed the value that log_level takes to match the examples in the paragraph above
Refactor PostgreSQLAdapter a bit
Use Enumerable#with_index. We're on Ruby > 1.8.7 (part II)
Use Enumerable#with_index. We're on Ruby > 1.8.7
Properly cache value when it is "false"
minor document edit
use Zlib.crc2 rather that bytes.sum, as per Aaron's suggestion
Move config.default_asset_host_protocol to the railtie.
Don't raise on mass assignment for test
:conditions => where
:joins => joins
:include => includes
find(:first) => first
find(:all) => all
removing brittle assertion
Using the sum of bytes instead the hash of the path when replacing the wildcard of the assets path because in ruby 1.9 is not consistent
Just generate AR options if AR is enabled
Add require ActiveSupport delegation to ActiveRecord::Relation class.
document HashWithIndifferentAccess#extractable_options?
Make `ActiveRecord::Batches#find_each` to not return `self`.
remove the warning when testing whiny_nil
Rails app template: setup different mass assignment sanitizer for envs
Ensure the engine_path is there (it may make CI happy).
Updated rake:notes to search app, config, lib, script and test dirs
Give higher priority to assets.cache_store.
Make compressors lazily load.
Don't construct association scope in initializer. This yields a big performance gain for cases where the association is never used to load the target, for example with preloading. Related: #1873.
Remove stream at the class level.
Remove case statement changes from 2e0840d and 56ac32a. Inheritance FTW.
updating pg supported versions docco. fixes #1959
rails text been added before version
Remove attachment_fu, add CarrierWave to suggested uploader libraries
fix engines rake tasks
minor edit in 7896ac3
Only call set_owner_attributes for has_one association if target exists.
Revert "The rails gem doesn't have a lib directory - closes #1958."
The rails gem doesn't have a lib directory - closes #1958.
add w3c_validators gem to the doc group to fix failing validation of guides
Use an instance variable to store the current masss assignment options
Load the generators test helper and properly load it's test case
Edited railties/guides/source/asset_pipeline.textile via GitHub
document meta methods
all numerics should be html_safe - Closes #1935
[asset pipeline] expand section on configuration
[asset pipeline] More updates
[asset pipeline] Add resources to fingerprinting
Add documentation for asset_prefix and asset_environment
[asset pipeline] what is fingerprinting section
[asset pipeline] spelling !
[asset pipeline] Add new rationale section
Reversing the changes done in c278a2c while still resolving #1857. The changes broke bulk migration tests and were fixed in 4d256bc6; however that brought back the issue of #1857 and so this commit goes back to the original scenario and just adds change_table to the list of methods which are to be recorded in the CommandRecorder. The method_missing now delegates all calls to the underlying connection as before.
provide a more explicit message when using url_for with nil
document handle_unverified_request method
Revert "fix a typo"
Enable passing root: false to #to_json
a few minor performance improvements: fewer strings, fewer range objects, fewer method calls
require 'thread' before using mutex
calling super is super. if the other object is exactly equal, we can return early
remove unused codes
It's autoload all the way down
fix a typo
Don't require ActionView::Context as it's autoloaded
Revert "Add missing require for ActionView::AssetPaths"
Add missing requires for ActionView::Context and Module#instance_method_names
Add missing require for ActionView::AssetPaths
Add assets_gemfile_entry.
Revert "Add method fields_for_with_index to FormHelper"
reduce calls to owners_by_key and to read_attribute, respond_to? etc
general grammar cleanup of cache docs
general formatting cleanup, and clarify that passing true as third option for benchmarking will stop output OTHER THAN the timing output itself
Create a test case for disable_referential_integrity
Add tests for alternate asset prefix/environment
[asset pipeline] refactor docs and add new content
Now accepting css/js files in deeper directory structures by default. This is useful for engines with own application.{js|css}-files. See: https://github.com/rails/rails/issues/1520
Refactor sprockets asset paths to allow for alternate asset environments
Remove AssociationReflection#create_association and AssociationReflection#create_association! - they are not called from anywhere.
match method signature of the superclass
call super rather than delegating to the other objects equal? method
just alias eql? to == for frewer method calls
only calculate method name once
cache the plural name on the reflection so we do not pay pluralize costs on joins
Depend on edge version of sass-rails
Depend on edge version of coffee-rails
update doc about resetting the session in case of authenticity token mismatch
Document the change to Array.wrap's behaviour that was made in b4d8c7d148c6b44eea6701687ca2a97df9088747
Make sure respond_with with :js tries to render a template in all cases
Master version is 3.2.0.beta
Bump up rack-cache and tzinfo
Allow CI to use the latest rubygems version
Update CI config
Add has_key? and key? methods to CookieJar removed in 0ca69ca65f83b4bb34f8
Revert "Included w3c_validators gem and modified Migrations file"
Included w3c_validators gem and modified Migrations file
Move Coffee generators and templates to Coffee Railtie and create javascript_engine ("js") for apps that remove Coffee gem
Array.wrap should follow Kernel#Array semantics when the object's to_ary is nil. In this case, the object should be wrapped.
Define to_ary on ActiveRecord::Base to return nil. Improve performance of Array#flatten under 1.9, see comment for details.
sub suffices here
Revert "Delegate to @flashes with 'delegate' instead of manually."
fix depth first visitor to support ascending and descending nodes
Delegate to @flashes with 'delegate' instead of manually.
Add test to rake test for error messages
[IMPORTANT] Make "sprockets/railtie" require explicit.
Make "rake test" display not only task name but also exception message.
changing an attribute multiple times retains the correct original value
correct invalid HAVING query
correct invalid GROUP BY query
fix test when running Jruby. If Jruby Platform is available the gem will change.
Update reverse order with new Arel Nodes
Using not effected timezone in tests.
Add more test cases
Add failing test
remove useless assignment
lock_optimistically is typically true, so evaluate the common failure case first
reduce object allocation during AR instantiation
No need to register again. As it's default now. Removing gif from here because when it got unregister it start failing other places.
Update railties.gemspec
Copy the bin to railties so it also works if you don't have the rails gem.
Edited actionpack/CHANGELOG via GitHub
Make send_file guess content-type from file extension, if type wasn't supplied (Issue #1847). Update tests & documentation.
Register some commonly used mime types (png, jpeg, pdf, zip etc.) per default
remove the check for needs_type_condition? because ensure_proper_type will pick up the type column
stop using && for the short circuit side effect
let strings be converted to symbols inside the interpreter
avoice paying hash cost if there are no serialized attributes
cache column defaults for AR object instantiation
AR object instantiation is ~30% faster in the simple case
[asset pipeline] Add production assets section
[asset pipeline] Add examples of javascript_include_tag and stylesheet_link_tag
[Asset pipeline] Move external assets section down to 'Adding assets to your gems' section
[asset pipeline] production assets covered later in the guide
[asset pipeline] sections at the bottom of the asset pipeline guide should all be toplevel
[asset pipeline] Mention that hashed files are also picked up by Sprockets
[asset pipeline] Cascade -> Cascading
initialize instance variables
oops! remove debugging codes
default create_with_value to a hash so we can eliminate conditionals, add test surrounding create_with(nil) behavior
the generated ALT attribute for images no longer contains the digest, if any
Added a configuration setting:
Bump ARel to 2.1.3
Move the config bootstrapping to initialization to minimize access to the Rails.application global.
Stylesheet link tags should use the request protocol to avoid duplicate download of stylesheets in IE7 and IE8.
Add asset_url helper and refactor the asset paths so that asset hosts can be used during asset precompilation.
fix javascript case
OrderedOptions must implement respond_to? if it implements method_missing.
generating a spec
fixing broken gem build
fixing manifest
bumping spec
version bump
updating history file
visitors can define their own cache strategy for dispatch. fixes #57
Add JavaScript Runtime name to the Rails Info properties (thanks Sam Ruby)
clarify which url would be used to cache a page when options are not provided to #cache_page to determine that url
elaborate on how web server configuration to check for static files on disk enables page caching to work without hitting the app server stack
correct error message for failed creation
minor changes
minor indentation fixes on a6293ff
comparing different classes returns nil
allow comparison on model objects - Closes #1858
Update changelog for querying guide
Querying guide: add mention of scoped, unscoped and default_scope to querying guide
Refer to sprockets + jammit as libraries, not gems
replace find(all) with all
Get the fixture_path from self.class instead of ActiveSupport::TestCase.
fix typo in method name
Revert "add missing methods supported by reversible migrations using the change method"
record unsupported methods in CommandRecorder instead of letting the unsupported methods go through to the underlying db causing errors like duplicate columns to occur when rolling back migrations
StringToParameterizeWithNoSeparator: dashed parameter will not change.
registers support for acronyms in the CHANGELOG of Active Support
make the logs a little simpler to view, put the render message inline with other events, pull processing to char[0] and add a new line to the completed. looks more like a block now, which is useful for serial actions like test/dev
Improve ordering of multiple columns on postgresql
Edited railties/guides/source/asset_pipeline.textile via GitHub
add missing methods supported by reversible migrations using the change method
Minor formating fix
Follow rails convention by using Array.wrap
Action Mailer Basics Guide: Added example on using mail(:template_path => ..., :template_name => ...) to specify custom template files.
Update SQL Server db related rake tasks.
Edited actionpack/actionpack.gemspec via GitHub
Using slice for instead of gsub to pass with 1.8.7
updated rspec link
Allow to specify mass-assignment roles as array
Minor refactor
fixtures :all is already included in test_helper.rb
Log instrumentation name for exists? queries
Revert "Bump sprockets requirement"
Tests only after filters in cache sweepers
Update CHANGELOG.
grammar changes in named routes description and clarity around possibilities for options
font style changes in perf guide
grammar changes to log subscriber docs
calling unsafe methods which don't return a string shouldn't fail
move example code to be above reconfiguring discussion; add clarity about silencers and filters; misc grammar changes - for backtrace cleaners
Tests added when no option is given with #jruby. It should generate sqlite3 based app
Making tests according to the changes #jruby
Test added for jdbc-adapter
Use real hash model in nested fields_for with hash model test
Use non-'jdbc*' names so that db:create and db:drop work
Convert database names to ones appropriate for JRuby
Add generic 'jdbc' database option
Remove superfluous pg driver install instructions
use present tense on examples
Stop find_in_batches using the records after yielding.
Require helpers so autoload is properly setup.
Railties: added tests for rake assets:clean
Bump sprockets requirement
rake assets:clean also removes directories
Don't use deprecated stuff.
Use uglifier from rubygems instead of git repo
Adds a test to check link_to with method & rel options
more detail on how the flow between redirect and show works, and minor grammar
Assign Rails.cache to sprockets
remove extra space and clarify how an exception is made for controller wide layouts
reorder layout selection examples to occur in the order that the code does, and provide more detail on why each selection is made
Create an :assets group in the Gemfile.
Rename AV::Helpers::AssetPaths to AV::AssetPaths to solve autoload mess.
Add Rails.groups to encapsulate  available groups for require.
singularize module and be explicit about what is delivered
grammar (missing "a") and formatting
clarify why the only_path => false option is needed when default :host has been set for mailers
elaborate details on why to use _url instead of _path in mailers
Added Gzip to Asset Pipeline via GitHub
Sprockets itself doesn't compress
Edited railties/guides/source/asset_pipeline.textile via GitHub
Allow additional link relations when using method attribute with link_to
Removed tests for rescue branch for Rails 2.x compatibility
Support reversal of ARel orderings in reverse_sql_order
Only mark the sliced buffer as safe, if it was safe to begin with.
Streamline fragment_for SafeBuffer logic to make it more concise.
Removed rescue branch for Rails 2.x compatibility
Do not change a frozen text passed to simple_format text helper
Removed shadowing variable warning in activerecord railties
Removed warnings about shadowing variables
Closing </yaml>
Add missing require 'set'
Test for extractable_options? within nested fields_for.
assets:clean task now cleans up images
Call super here to allow SessionHash initialize new stuff for us
document Active Record's reverse_order method
AR: use where in place of find
minor changes in getting started guide
document the instance_reader option for class_attribute
explains why links are gsub'ed, and changes the regexp delimiters
Removing require_relative gem. Linecache new version 0.46 is out and it's loading rbx-require-relative > 0.0.4
typo changes
Ugh, the class_attribute pull request broke the build. fix it.
Make PostgreSQL adapter view-compatible
Add option to omit creating an instance reader method on class_attribute
Consistency issues with pre-processor
Changed the default value for the options argument on ActiveRecord::ConnectionAdapters::Table#column_exists? from nil to an empty Hash {}.
Edited railties/guides/source/asset_pipeline.textile via GitHub
Let the reader know what JS and CSS stand for. Slight rewording as well.
To solve the problem of links being broken in GitHub for the sake of api site, have them replaced at runtime during rdoc generation
edit assets guide for cases & minor wording changes
Sprockets itself doesn't do this, it's uglifier and other gems, Sprockets is just the puppet master.
Edited railties/guides/source/asset_pipeline.textile via GitHub
Edited railties/guides/source/asset_pipeline.textile via GitHub
File needs to be at public/assets, not public/images
Revert changes done in c56618ec, 51cb7459 and 030950a. The links are pointing to files/*/*.html for usage in api.rubyonrails.org and as a result are broken in GitHub blobs. This is unavoidable (at least for now).
Flesh out the asset pipeline guide with information learned from today's research
copy-edits 7c2db6c, cbf2af1, and f391f94
Added 'Configuring Assets' section to configuring guide
Change ActiveRecord and ActionPack links to point to the right place
Change ActiveRecord and ActionPack links to point to the right place
Change ActiveRecord and ActionPack links to point to the right place
Update remove_index documentation
Attributes on scaffold and model generators default to string.
Bump to mysql2 0.3.6
Add require 'pathname' as it has not already been required in some circumstances
Select tag helpers: remove some code dups
AS guide: expands safe string docs regarding destructive methods, coercion, copying, etc.
Change version of nokogiri gem
Patch for #1458 - [3.1.0.rc1] App plugins initialized before engines and plugins inside engines
Perf fix - Use an instance variable instead of a class_attribute. Thanks @josevalim and @jhawthorn for the prompting.
safe_concat should not work on dirty buffers.
Typo.
Make the API for compression consistentÂ between JS and CSS. By default, users just need to say whether they want compression or not, and a default will be chosen by a Railtie. In the case of CSS, this default is already chosen by the sass-rails gem.
Cherry-picking patch for https://github.com/rails/rails/issues/1460 from 3-1-stable to master
minor clean up generators section
add info that plugin installs need git or svn installed
replace dev.ror.com plugin url with a dummy one
Use html_safe
Using lib/assets only. Javascripts/Stylesheets people can fill later.
Remove usage of memoizable from ActionPack.
Update CHANGELOG, improve message.
document doc:* rake tasks
Also change the default route comment
Improve the legacy wild controller route in app templates
Bump mysql2 to 0.3.5
typo changes fixed
fixed typo chnages
Bump mysql2 up
Deprecate memoizable.
load_generators from engine should also handle self automatically.
add details on how to use specific annotations in rake:notes
document how rake notes work
The name for the plain text template in Rails3 appears to be method.text.erb, not, method.text.plain.erb.  Updated the doc to reflect this change.  Also fixed a reference to an example that was incorrect.
form => form_for
Break Ordering into Ascending/Descending nodes, allow reversal
Tweak linebreak in ActionController::Redirecting doc
Clarify importance of *_attributes= writer methods for nested fields
Updated railsÂ´s guides on the config.serve_static_assets and itÂ´s settings in production mode using WEBrick. This documentation has itÂ´s roots in #issue1657. You have to set config.serve_static_assets to true in production mode with WEBrick as only this includes ActionDispatch::Static.
Use assert_equal instead of assert in uploaded file test.
Improve documentation around status code argument of redirect_to
simplify to only one condition
allow boolean last argument in memoized methods - Closes #1704
Failing test to show problem when last argument of a memoized method is true
minor copy edit 0bdeddb
Jruby => JRuby, Mysql => MySQL
Moving hint down. As required after all database examples.
Using "Finally" at the end of database section.
Added Doc for Postgresql database with Jruby Platform. #jruby
Added doc for Mysql database with Jruby platform #jruby
Adding doc for Sqlite3 database for Jruby platform #jruby
Make MissingTranslation exception handler respect :rescue_format
typo changes
Removed warning while running test with ruby 1.9.2
all requests are utf-8. Don't use the external encoding.
Prefer Time.current over Time.now on example code
Add Time#all_* to AS guides.
encode the uploaded file's name in the default external encoding - Closes #869
Added instance_accessor: false to Module#mattr_accessor
Add Gemfile dependency for require_relative on mri18. This is a dependency of linecache which is a dependency of ruby-debug. However, the latest release of linecache (0.45) omits the dependency from its gemspec, causing the build to fail. I have emailed the maintainer so we should remove this when it's fixed upstream.
fix minor errors in nested model guide
document the instance_accessor option for cattr_accessor
Remove obsolete compatibility module
Rename Time#whole_* to Time#all_* [thanks Pratik!]
Added Time#whole_day/week/quarter/year as a way of generating ranges (example: Event.where(created_at: Time.now.whole_week)) [DHH]
Added instance_accessor: false as an option to Class#cattr_accessor and friends [DHH]
fix two typos: and array -> an array
Pass mass-assignment options to nested models - closes #1673.
Rename tests to reflect associations
Remove "is_assed" with something more meaningful
cycle: make an odd number be marked as odd.
namespace engine assets
Add support for using an ARCONFIG environment variable to specify the location of the config.yml file for running the tests
Oops, this should have been in the last commit :zap:
Make assert_no_queries literally enforce that there are no queries. As in, not a single line of SQL should be sent to the database, not even stuff that is ignored by assert_queries. The argument being that if you write assert_no_queries, you really do not want there to be any queries.
If we're going to use a global variable, let's at least namespace it
Replace inline lambdas with named methods
Refactor tests to be less brittle
Move BEGIN and COMMIT into IGNORED_SQL rather than having them as a special case in assert_queries
Don't wrap operations on collection associations in transactions when they are not needed, so the connection adapter does not send empty BEGIN COMMIT transactions blocks to the database.
Remove trailing whitespaces
Define ActiveSupport#to_param as to_str - closes #1663
backslash insertion for RDoc main page ignores code blocks, also adds comments to explain what's this hack about
assets are in app now and not in public
Make i18n tests more robust.
revises the pattern that excludes generator templates in API generation
Add example for rails server port option.
fixed typo for a methodname
with -> will
document server options
more command guide changes
make some changes to the command line guide
Update changelog with #1552 feature: add hidden field before select[multiple=true]
removed duplicate code
Update CHANGELOG.
minor changes in templates guide
Get rid of the alternate namespace lookup.
No need for a configuration option here.
add missing end in example
favor includes over old AR way
fixed incorrect command usage. (This section needs to be updated in any case).
minor fixes in action view guide
make extract_schema_and_table a private method
Remove utf8_enforcer_param config option
Make utf8_enforcer_tag an overrideable method
Make utf8 enforcer param customizeable
There are no snowmen here
Add acronym support to Inflector; Issue #1366
Refactor
Test retain delimiter in parameterization inflector
remove meaningless assert true
expected message should come first
try not to use assert_blank when nil will would be considered as failure
Revert "Make sure that we don't perform in-place mutation on SafeBuffer string"
Remove unused variable causing warning in 1.9.3
s/Bundle/Bundler/
Make sure that we don't perform in-place mutation on SafeBuffer string
Update CHANGELOG to mention the json_escape change, and rearrange stuff a bit.
shell out to run bundler on app generation, see rationale in the comment
remove table quoting in primary_key method
Allow the connection pool's #table_exists? method to give the connections #table_exists? method a chance.
apply private method indentation convention
Improve PostgreSQL adapter schema-awareness
make 'rails runner' show usage when run without any options
Updated test to ensure correct sequence when copying engine/plugin migrations.
Ensure engine migrations are copied in the same sequence that they are required.
Ensure number helpers can handle HTML safe strings - closes #1597.
shallow_path example updated
removed the unnecessary back slashes from the regular expression
add missing ensure
replaced and with && as per coding guidelines
The test name is misleading. It says test_should_cache_with_trailing_slash_on_url
remove unnecessary guarding agains literal
ensuring that json_escape returns html safe strings when passed an html safe string
don't reinitialize the arel_table unless the table_name changes
Print out information about whether the identity map is on or off when running unit tests
Update the RUNNING_UNIT_TESTS file
Make sure `escape_javascript` return `SafeBuffer` if the incoming argument is already html_safe
update palmist link on performance_testing
MemcacheStore: deserialize the entry reading from local_cache when using raw
LIMIT and OFFSET support for MS SQL
Match tone already established
Describe the user name 'variable' in a way that doesn't confuse the textile parser.
Simplify boolean logic into ternary.
remove unused user_controller from test
Remove unused 'y' variable.
Remove unused 'quoted_column_names' variable.
class WithSymbolReturningString is not used anywhere in the test.
Indention style + whitespace for readability
If you set a js_compressor, it means that you want shit compressed -- we dont need a second option to turn that on
require_tree is pretty simple
Allow a Date to be frozen more than once without an error in Ruby 1.8.x
No need to create a new Arel::Table, as the arel_table method already creates a new one
Added acronym and reference link for Modelâ€“viewâ€“controller
Update CHANGELOG to mention the new SafeBuffer change
Make escape_javascript happy to handle SafeBuffers
Make test meaningful
minor corrections in configuring guide
Brought back alternative convention for namespaced models in i18n.
remove generators section from command line guide in favor of the separate generator guide
Do not hardcode :id as it was ignored by mass assignment filter
test name should reflect the name of the method that is actually being called
remove unused class from test
Add proper fix to `mail_to` helper.
Adapt [823aa223efbac6ad4d31ea33402892267bb77cb4] to make sure we perform cloning before manipulation only on `OutputBuffer`.
remove warning: assigned but unused variable
ruby-prof doesn't work in 1.9.3
Don't operate on the safebuffer, operate on a string and convert.
Fragment caching needs to operate on the pure output, not the safebuffer.
fix generators guide url
Prefer 'each' over 'for in' syntax.
Ensure that the strings returned by SafeBuffer#gsub and friends aren't considered html_safe?
use git: rather than https: in git remote urls; else, github asks for passwords everytime we push
When you add a record to a polymorphic has_one, you should be able to access the owner from the associated record
minor fixes from 5acf76d
fix incorrect validation examples
fix typo
fix spacing
fix typo
Update asset helpers to use `config.assets.prefix`
Add action_mailer observer and interceptors configuration options
add missing generator configs
proof reading and fixes in configuring guide
fix indents and a code error in caching guide
mention assets:clean in railties CHANGELOG
sprockets gzips assets now
This way asserting that updated_at was changed in touch look more obvious.
Do not use default_scope in ActiveRecord::Persistence#touch.
rafactored the regex related code in the mapper class
Prepend bundle exec to get the correct Rake version
Use RAILS_ISOLATED_ENGINE and fix namespaced generators tests
adds missing require
Use mattr_accessor :namespace
Don't create full Rails application if RAILS_ISOLATION_COMMAND equals engine
Use namespace if it's a mountable engine
Added regression tests
Move test/engine/generators_test.rb to test/railties/generators_test.rb
Add test for helper generator
Clean up engine's generator test and use bundle exec for invoking generators
Clean up engine generators_test code and add test for models correctly namespaced
Add beginnings of test for generators within the context of an engine
make sure AR isolated tests set the environment variable
Added missing assert to test checking form with namespaced isolated model and fixed helpers to work correctly in such case
oops! add parens so the block is properly bound
set the environment variable from the rake file
more oracle fixes
do not muck with the load path, that is the test task responsibility
updating configs for oracle
add test to the include path
please use ruby -I lib:test path/to/test.rb, or export RUBY_OPT
add info about docrails policy on changelogs
Don't ensure all keys in build_results are only written once, otherwise we get false positive builds reported.
Make sure that the build/drop database rake tasks take account of the test/config.yml config
Revert "updated Changelog "
comment the recorder methods
up and down are no longer class methods in a migration
rearrange sections of the commandline guide giving more importance to rake tasks
document assets related rake tasks
remove call to source index
Use Latest Sprockets beta
Solve the RAILS_ENV problem in the railties tests in a more generic way
Validations guide: order of :after_save callback was incorrect.
Change http://api.rubyonrails.com to http://api.rubyonrails.org
Edited railties/guides/source/asset_pipeline.textile via GitHub
minor edits in migrations guide
loading_test.rb with RAILS_ENV=development
framework_test.rb also dependent on RAILS_ENV=development
load_path_test.rb is also dependent on RAILS_ENV=development
annotate class_eval method for active resource schema attributes
Remove trailing white-spaces
Move CHANGELOG entry to future version
Add backward compatibility for testing cookies
Ensure cookie keys are strings
Allow multiple sources in Sprockets helpers
Bring back oracle specific crap
Refactor Active Record test connection setup. Please see the RUNNING_UNIT_TESTS file for details, but essentially you can now configure things in test/config.yml. You can also run tests directly via the command line, e.g. ruby path/to/test.rb (no rake needed, uses default db connection from test/config.yml). This will help us fix the CI by enabling us to isolate the different Rails versions to different databases.
Force RAILS_ENV=development in rackup_test.rb. This fixes a problem on the CI server. For some reason the RAILS_ENV on the CI server is production, which means that the ActionDispatch::Static middleware is not used, and so the request in 'config.ru can be racked up' returns a 404 rather than a 200.
adds Vijay Dev to the new Rails Guides Reviewers team
correct code indendation in the initialization guide
s/ActiveRecord/Active Record according to api guidelines
minor corrections in generators guide
fix incorrect module name for wrap parameters
some grammatical corrections
fix incorrect output
move Ryan up, since the list is ordered by surname
adds Ryan Bigg to the credits page of the guides, he is the author of the new configuring guide
specify image dimensions for pictures in the guides credits page
Add missing require for cookies middleware
Refactor ActionController::TestCase cookies
Upcoming version of Rails is upon us so no need to refer to it. [API DOCS]
use clearer variable name in examples
add a missing "the" and normalize the use of periods.
Revise documentation indentation from [79990505e5080804b53d81fec059136afa2237d7]
updated Changelog
added more tests for update_column
Double assignment of attributes on a collection association occurs fixed for the issue issue #1467
Don't double assign attributes - closes #1467.
FIXED: error with url_for & link_to when we have nested resources.
remove stray (
use 'bundle exec rake'
fix indentation, fixed-width for nils
Make String.to_time respect timezones
Test added for namedscope target.
Change hashrocket spacing to match conventions.
add alias info for runner command
styling changes
Edited activerecord/lib/active_record/transactions.rb via GitHub
Adding comment
AttributeMethodTest test fix #jruby
The URL http://dev.mysql.com/doc/refman/5.0/en/savepoints.html is no longer available
Require attr_internal before using in ActionView::Helpers
fix creating an empty route on 1.8. Closes #1210
s/a/an/
s/an/a/
Add missing require to fix the CI
Removing trailing white-spaces
Don't add .rb in requires
Isolated PostgreSQL test into PostgreSQL folder
Raise NameError instead of ArgumentError in ActiveSupport::Dependencies
added an alias for new to build to the AR collection proxy, this corrects an issue where the collection proxies were not consistent
The example in the API docs incorrectly indicated that form_for would use the same default route for both new and previously persisted records.  The default path given in the example would have generated a routing error for new records.  form_for actually uses polymorphic_path to determine which route to use based on the state of the record.  The example has been updated to reflect the method's actual behavior.
Make MemCacheStore work with Ruby 1.9 and -Ku
Revert "[activerecord][postgresql] verify if table has a schema(not public)". This caused a test breakage. See #1410 for details.
no need for .rb
string inflections are needed for running tests in isolation
standarize documentation (and indirectly code) to use American English as discussed in 4f234bf
revises commit from pull request 1408
revises commit from pull request 1409
Modified generated text to explain where .js and .coffee files can be located and that there shouldn't be blank lines in manifest per this issue  http://groups.google.com/group/rubyonrails-talk/browse_thread/thread/effb868290c2c0b8
changed text to be more explicit about where stylesheets can be located
Failing test for aggregating on default_scope with select
Tests for issue #1360
Implementing @dmathieu's cleaner fix from #1425. Unfortunately he deleted the branch so I cannot just merge it.
Reduce test noise
sprockets gem update to beta9
Update CHANGELOG.
Transform the symbol into a constant lookup.
Update Rails coding conventions link.
Opening class CascadedEagerLoadingTest at once.
Adding comment to work with 1.8.7. Nested Attribute fix.
Remove autoload for a couple of constants which don't exist anymore
Stubbing and some content addition and changes
What is the asset pipeline?
properly require javascript libraries when generating mountable engine
ActiveModel::MassAssignmentSecurity.mass_assignment_sanitizer method
refectored assets:clean task
Spelling corrections in the guides.
Adding assets to a gem
avoid creating range objects
Corrected some typos and American vs. Queen's English issues
Typo and sentence restructuring
Typo in the asset pipeline guide.
removed references to old remote_* helpers; add info about 3.1 adding multipart option to a form with file_field automatically
Changes wording to make it a bit eaiser to understand
Why should you use the asset pipeline?
#drop_table accepts no options now.
fix typo
No need to pass options which is never used
No need to override for just calling super
document aliases for commands and update rails versions
Use change in place of up and down in sessions table migration
ActiveSupport CHANGELOG entry moved to correct place
Update CHANGELOG for ActiveSupport::OrderedHash change
fixed asset_paths when called from sprockets for relative_url_root
minor typo in the rdoc about Interceptor.
minor spacing fix in code example in ActionMailer::Base.
Disable IdentityMap by default for ActiveRecord testing
stop using boolean expressions because of the side effects
delegate connection and column_hash calls directly to model
close statment only if its not closed
Include Arel::Predicates to Arel::Nodes::Function so you can do table[:id].count.eq(2)
work around bug in the sqlite3 bindings.  fixes #1289
[activerecord][postgresql] verify if table has a schema(not public)
find sequences with pg schemas properly
fixing test for mysql2
rename task and Rake::FileList used
We moved engine commands to rails/engine/commands
Add destroy to engine's commands
Generate script/rails only if --full is given
Refactor identifying generator's destination root
We're using module not class for namespacing
Add rake task to implement assets:cleanup, fixes Github Issues # 1284
Move requiring engine out of the switch case
Copy edits 64148ab96b47a9904fdd839bc69971b4e156bb04 (previous commit). Please squash at will.
Improve 'Joining Tables' section with additional examples and explanation.
Don't you lie to me!
adding a test for #1322
Adding tests for file_from_xml for XmlMini_JDOM #jruby
Adding __content__ into XmlMini_JDOM
Removes a now needless test - via Github
Introducing engine commands
Move load_generators from Rails::Application to Rails::Engine
We're now using generators directly
Don't merge base opts into includes when serializing ARs
Correct TESTOPTS specification in activerecord/RUNNING_UNIT_TESTS
Failing test - JSON serialization shouldn't merge base opts into include opts.
Added missing quote in grouped_options_for_select example
MassAssignmentSecurity: add ability to specify your own sanitizer
added assertion for non-standard primary_key on models used in the primary_key test
Use global namespace Rails
Use plugin name consistently
don't raise an exception if the format isn't recognized
use association_primary_key in AssociationScope#add_constraints
Removes the restriction on primary key when joining in a habtm && test that it was properly removed
Stop linking Rails guidelines to GitHub wiki
Stop linking API Guidelines to GitHub wiki
On "contribute" guide: remove mention of LH
Updating Railties changelog
Added a space to the comment_if helper for formatting purposes
Revert this, commited by mistake.
Accidentally added extra IDE files, removed them.
Removed unnecessary space in application.rb for formatting
Removed deprecated methods and related tests from ActiveSupport
action_view/template/handler has been removed
Typo; changed 'Febuary' to 'February'
Typo; changed 'colour' to 'color' & 'analysed' to 'analyzed'
Typo; changed 'enviroment' to 'environment'
prefer validates :x in place of validates_x_of
fixed minor errors
Renaming helper in the Rake task, but why is this needed in the first place? (paging JP)
fix indentation
changes validates_format & numericality to newer syntax
changes validates_inclusion & exclusion to newer syntax
changes validates_length_of to newer syntax
changes validates_confirmation_of to newer syntax
changes validates_acceptance_of to newer syntax
changes validates_uniqueness_of to newer syntax
changes validates_presence_of to newer syntax
fix incorrect textile syntax
Ensure RDoc::Task exists even if 'rdoc/task' was not required
require 'rake/rdoctask' if failed to require 'rdoc/task'
Add the MIT-LICENSE to the Active Support gemspec
Add the MIT-LICENSE to the Active Resource gemspec
Add the MIT-LICENSE to the Active Record gemspec
Improve test assertion
Remove whitespaces from empty line
Add test files to engine's gemspec
Replace old wording about http requests
Test AR::Base#inspect on an allocated object not yet initialized
fix Rails::Paths::Root document
Database.rake file fixed for load_generators
Using load_generators
Use load_generators instead.
update language env variable name
Adds outline draft#1 for the Asset Pipeline, please comment if you have thoughts about it!
Removing deprecated config.generators in Rails::Railtie
Remove deprecated plugin generator
Removing Deprecated Path API tests
Removing deprecated config.paths.app.controller API
load_generators_from_railties was removed, remove failing test_load_generators_from_railties
fixed test_deliver_is_notified need base_mailer
removed deprecated methods, and related tests, from ActiveRecord
Everyone receives app as argument for consistency.
Actually this file may be invoked directly as well with --dev.
Streamline generators initialization flow.
Update default Gemfile to point to sass-rails, not sass
Hide css:* and the default stylesheet from rails g
Update generator config to support hiding namespaces and pass the app into generator blocks
Move SCSS generators and default templates from Rails to the Sass Railtie (d435726312601edb3ba6f97b34f562221f72c1f8).
Change compressor API so that plugins can register default compressors for their stylesheet or JS engines and still allow the user to turn off compression
corrected the ActionMailer tests which broke due to some code removed from ActionPack
Failing tests for #1233.
removed deprecated methods, and related tests, from ActionPack
Also use double quotes for #source
Use quotes consistently in Gemfile
fixes Rake::RDocTask deprecation warnings from rake 0.9.0
rescue record invalid exceptions and return false from the save method. fixes #796
add tests surrounding behavior of save and save! for associations that have validation errors
fixes Rake::GemPackageTask deprecation warnings from rake 0.9.0
adding a test for create! with invalid associations
do not bother with assert_nothing_raised, the test will fail and we get a better trace without it
Add failing test case for issue 796
Addresses an inconsistency in the ActiveRecord::Base.method_missing handling of dynamic finder methods and the passing of the &block parameter for :find_by_attributes.
Removed deprecated ActionMailer API and related tests
Added a test to check for correct behaviour with no options in add_index command recorder
changed http://api.rubyonrails.com to  http://api.rubyonrails.org in readme files
Remove asserts for js ext stuff thats not used any more
Redundant condition in compute_asset_host is redundant.
The asset pipeline is always on for new apps, dont need the legacy js ext stuff
Add test for shebang in engine's script/rails file
create the dummy app if there's no test_unit but there's a dummy_path
Remove shebang from the template since it's already added by the generator
properly reference yml alias nodes
Remaining cleanup from changes to AssetTagHelper
Add test for gemspec of the generated engine
Add folders app and config to the engine's gemspec if they're available
Ignore :includes on through associations
Prefer each instead of for on activesupport
fix minor spelling mistakes in comments
Removed extra white-spaces on config/environment/test.rb template
Removing extra white-spaces on config/environment/development.rb template
import to java_import.
Using java_import instead of import. Need to do this with rake 0.9.0 #jruby
Prefer each instead of for in activeresource
Not loading file if PLATFORM not available.
Update the MVC explanation in the main README.rdoc file
Parenthesize arguments when the first one is a Regexp literal. This fixes 'warning: ambiguous first argument; put parentheses or even spaces'.
Make sure that Sprockets::Helpers::RailsHelper can be found
Remove extra white spaces on ActiveSupport docs.
Remove extra white spaces on ActiveRecord docs.
Remove extra white-space on some exception messages.
Move the last pockets of Sprockets stuff into the Sprockets directory
Move javascript/css helpers into the Sprockets helper and just have them override the old behavior
Start moving some logic from being embedded in AV into the Rails Sprockets extensions
Remove extra white spaces on ActiveModel docs.
Remove extra white spaces on ActionMailer docs.
Remove extra white spaces on ActionPack docs.
fixing 1.8 support for new fixture tests
removing CSV fixture support
fixture file will validate fixture format
return an empty array for empty yaml files
use top level file constant for join, etc
Use set data structure to speed up circular reference checks on large/deeply nested objects
Using .try to test for the existence of a method option in a nil-resistent manner. Inlined the determination of the options hash for reversing using a ternary operator. Shortens the method in a way that keeps the code neat
NOTE: doesn't handle newlines.
Removed ActiveSupport::SecureRandom in favour of SecureRandom from the standard library. (It has been deprecated in the 3-1-stable branch.)
Replace references to ActiveSupport::SecureRandom with just SecureRandom, and require 'securerandom' from the stdlib when active support is required.
active resource instalation instructions and Licence
rails request has been moved from Lighthouse to Github, contribution link has been changed
removed require_library_or_gem from the AS core extensions guide
Neatened up the invert_add_index method as per suggeston
Removed the AS core_ext/kernel/debugger breakpoint method as this method is added by ruby-debug and should be left as is. Missing tests added.
Removed AS core_ext/kernel/requires as it's not used and is bad practice.
Add entry to AP changelog
Simple fix for correctly inverting an add_index migration when a name has been provided
Take into account time spent in AR even if a redirect occurs or if it is after the render
Move content length to the server, this brings the same behavior as in rack 1.2.
Require rubygems (chill out, just for rails internal tests).
Bump Rack version
Eliminate uninitialized instance variable warning
Prepare the context in URLHelperTest so that there are no required uninitialized instance variables
Always initialize @title in caching test to avoid uninitialized instance variable warning
Restructure TemplateAssertions-related code to eliminate circular requires.
Make :status an attr_reader to avoid unnecessary warning when replacing status=
We don't need to load version any more as Sprockets.beta8 is included.
Minor typo describing engine helpers
Require sprockets beta 8
Revert "Take into account time spent in AR even if a redirect occurs or if it is after the render" because it's causing test failures about missing db_during_render.
Following proper naming conventions while referring to Rails, Bundler
Make sure that we're able to run Action Pack test standalone.
Add debug_asset support
Lock to stable sprockets beta
Take into account time spent in AR even if a redirect occurs or if it is after the render
remove require active_support/tzinfo as file dosent exists #TODO fix
use to_param (and change method to name accordingly)
has_many :dependent => :restrict raises an exception but is not documented appropriately. has_one also has :dependent => :restrict but is not documented at all.
require 'time'
Depend on I18n ~> 0.6
Move I18n dependency back to ActiveSupport.
Edited actionpack/lib/action_view/helpers/form_helper.rb via GitHub
Remove superfluous whitespace from ActiveModel::SecurePassword
Let's load jruby-openssl now for all. #jruby
Stringify param values in controller tests.
test fix jdom_engine_test
Adding pluralize_table_names change to CHANGELOG
Bump versions for rc1
Removed the `enginex` plugin reference which is broken -- rails 3.1.0.beta1 has that functionality now.
make sure missing method does not fail with arguments
don't raise NoMethodError the tried method doesn't exists
Not loading ruby-debug specially.
Loading action_controller twice removed.
No more need rubygems here.
Remove extra white spaces on guides.
Remove extra white spaces.
Removal require again from tests.
Now that we are compatible with Rake 0.9.0, lets allow it back in
Uglifier works properly now with 0.5.4
Bind to Rake 0.8.7 until a fix for Rake 0.9.0 is released
Add support for passing mass assignment roles to dynamic finders. Closes #1170.
Add method fields_for_with_index to FormHelper
Handle polymorphic_type NOT NULL-able columns as well.
fix connection not established error while running rake task db:schema:dump
Check for Module.new.dup as well in https://github.com/rails/rails/blob/master/activesupport/lib/active_support/core_ext/object/duplicable.rb
ActionMailer deliver method Documentation corrected Ticket #761
fixed failing tests of ActiveSupport for deprecation test
Correct example and expand on description of :shallow option for resources
corrected a minor ruby19 variable name reuse warning
fixed some ruby 19 warnings, including circular requires and variable name reuse
attr_accessor_with_default is deprecated, so lets not use it in ActiveResource
AliasTracker.pluralize use pluralize_table_names of model
Make Rake::DSL methods available within Railtie rake_tasks block
Add more doc to #update_column.
Temporarily ship with ContentLength middleware.
Remove duplicate words.
Specify the name to be used for ActiveModel::Name fixes #1168
Not updating rubyforge for new versions. Result of "gem list -d rails" is not useful.
Refactoring test_has_many_with_pluralize_table_names_false test
Allow pluralize_table_names for individual model
Changin 'for' with 'each' on FormHelpers guide
Using each instead of for in actionview guide
Replacing 'for' with 'each' in actionmailer guide
for => each in model migration template
Tests for new create_table DSL
Changing examples: use 'each' instead of 'for in'
No "t." for the migration DSL!
Syntax cleanup:  for in => each
Use sprockets prepend_path if its available
fixes code highlight in shallow_path example
Remove extra white spaces.
Remove extra white-spaces.
Sprockets version update.
Use Rack::ContentLength.
renamed the wrap_parameters :only and :except options to :include and :exclude to make it consistent with controller filters
adding test
fixing sym and string cookie name, two cookies to browser bug.
Prefer each instead of for in
Closes GH #1032
Example Usage updated for actionpack and actionmailer.
README updated for for => each
Attributes with :string type should not be given the type passed in model serialization options. Closes #1058
updated the ActiveResource changelog
updating spec
on.upcase!
Update Rack::Mount to 0.8.1
be sure to parenthesize the arguments when the first one is a RegExp literal
parenthesize the arguments with splat
initialize @inside_template
for ... in => .each
set log encoding to BINARY, but still use text mode to output portable newlines
why not use JOIN statement for joining tables? (vol. 2)
remove unused table from FROM clause
why not use JOIN statement for joining tables?
always enable `pp` on the Rails console
Explicitly use ActiveRecord::IrreversibleMigration
Test that HWIA.with_indifferent_access does not return self
add some missing requires for AS core_ext/numeric/time. Closes #1038
corrected some further tests and docs for the ARes change to json change
removed a contrived ARes example
updated all the tests in ARes to work with json
move the ARes conn test to the correct location
remove a circular dependency
Putting back mysql2 and sqlite3 in database.yml docs. In case people use "--skip-gemfile"
Prevent duplicable comments from being the opening paragraph for Object docs
don't include 'turn' gem in Gemfile if test unit is skipped.
add tests for ruby-debug gem in Gemfile and make sure that ruby-debug19 is used as long as RUBY_VERSION > '1.9'.
add test case for turn gem for testunit.
Add missing require
Better doc styling in ActiveRecord::Locking
Use dup to preserve previous behavior
Run bundle install once when using plugin_new --full --mountable. Closes #555
bumping arel requirement
zomg prep release
make sure thread runs
do not cache sql literal values
no longer use this instance variable
Ensure Set-Cookie is not set on assets.
Don't pass a block as we are yielding
Dump and load rack-cache stuff.
Bump sprockets dependency
Remove old call to sprockets context
Add block setting of attributes to singular associations
Add a test case for issue #476.
Pass the attribute and option hashes to build_association
Use anonymous? that works on both Ruby 1.8 and 1.9.
instruct user to install using Gem file in database.yml templete issue #1103
Updated seeds.rb file.
Don't print deprecation warnings every time the user reads or writes an inheritable attribute.  The warnings on declaration is enough.
fix coding error in readme reported in rails GH #980
add more robust test for wrapping params with anonymous class
Add fix for error when an anonymous controller subclasses ApplicationController
better test name
add failing test for https://github.com/rails/rails/issues/1089
Optimize parts of HashWithIndifferentAccess
Year 0 should fall to nil only if month and day are also 0
Adding missing require
Using the correct CSS compressor for the yui-compressor gem.
configuratin guide: finished a pass to the "Rails General Configuration" section
Link changes lighthouse to github
Deprecate attr_accessor_with_default.
generate HTML5 number_field tag for integer fields
Added an additional test since skip/limit can not be used in reverse order
Removed some old dev code
Added a basic test for the informix visitor
Added initial informix visitor support
Remove unneeded merge with default false options
Don't add DEFAULT_TOKENIZER to every instance of LengthValidator. Just use it only when needed.
Mailer example has more sense calling to deliver method
Add doc to #attribute_names
Make ParamsWrapper calling newly introduced `Model.attribute_names` instead of `.column_names`
Add ActiveRecord::attribute_names to retrieve a list of attribute names. This method will also return an empty array on an abstract class or a model that the table doesn't exists.
reviewed the first ~70 lines of the configuration guide
Use more English language
Do not try to call `column_names` on the abstract class.
Use record_name to make fields for methods more consistent
Refactor fields_for to make the api more clear, and fix usage with non nested attributes and without object
Clean up redundant backslashes
Cleanup instantiate builder method definition
These extra array operations appear to be unnecessary. Reasoning:
CollectionAssociation#merge_target_lists should write to the underlying attributes when copying, rather than using the assignment method
An attempt to make CollectionAssociation#merge_target_lists make more sense.
Added some docs to controller runtime.
Reset ActiveRecord::LogSubscriber runtime at the start of each request
Escape regex in controller_runtime_test to actually check that the ActiveRecord message appears
minor edits after going through what's new in docrails
[GUIDES] Changed the `LANGUAGE` variable to `GUIDES_LANGUAGE` to minimize conflicts with regular environment variables (eg. in Ubuntu)
securerandom ships with 1.8.7+, so just use it
asking the user whether he is "offline" rather than "online" seems more natural as reaction to a potential missing network connection
removes now unused method Rails::Generators::AppBase#dev_or_edge?
application and plugin generation run bundle install unless --skip-gemfile or --skip-bundle
typo
Instead of doing find(:all) which does scoped.find(:all) which does scoped.all, just do scoped.all.
Remove pointless rescue (it doesn't happen anywhere in the tests, and I can't see a way that it would happen ever)
Update Mailer generator to use 1.9 styled hash when run on Ruby 1.9
move bundler loading down to #bundle_command
backport skip to the AR base class
supporting infinity and -infinity for timestamps in PG. fixes #544
run bundler programmatically rather than shelling out
minor corrections
Link the API documentation to non-edge instead
Adding guide for wrapping JSON/XML parameters, which also links to the API documentation.
rack_mount upgrade to new version 0.8.0
Using new hash syntax in wrap_parameters initializer under Ruby 1.9
Update for sprockets/master context class api
Test added for getting route segment values
rack-mount gem updated.
Prefer topic branches instead of master branch for users contributions
use #quietly in a few places, and s/silence/capture/ where intention is capture
eliminating the noise
new reporting method Kernel#quietly
silences stderr to prevent an expected error message in the test suite from being echoed
say something when running bundle commands
say silence when you mean silence
application and plugin generation run bundle check unless --skip-gemfile
removes duplicate tests
Revert "Delegate everything to the generator"
remove update:javascripts rake task
The new release supposedly fixed things, but it is still b0rked -- comment out for now pending JPs investigation into whats up
Proper fix
Remove a circular require in AS deprecations. This is safe as AS deprecations is autoloaded as needed.
added an example for AC::UrlFor usage to make usage simpler.
added docs for AbC::UrlFor and AC::UrlFor.
updated AR#create! to accept an options hash so the mass-assignment security role can be passed in, also updated the Changelog to mention the change to some of the AR method signatures.
Depend on master uglifier for now
Bug fixes: - If doing a count on a relation that has an :include and a :join, it does a distinct even though it should not. - When doing a count on a relation that has an :include, it always falls back to a old style left join when performing the count.  Looks like it was broken here: https://github.com/rails/rails/commit/b9599502c9e738a5a1513e75d08f8d40ed408265
Remove extra line at end of development config file.
fix spellings
indentation fixes
Add missing requires
add missing require for ordered_hash dependency
Don't remove the target if it has already been destroyed
updated the ActiveSupport changelog
Modified NamedScopeTest to use CollectionAssociation.
Modified CollectionAssociation to refer to the new class name.
fix bug in usage example of #unscoped
Test csrf token param name customization
fix bad encoding on contributing to RoR page
refactoring to a method
updating History
Follow code conventions on some tests
Follow code conventions on docs
Make ToSql more thread safe.
Adding .sass-cache to gitignore template
Use quotes for command substitution
Remove extra whitespace.
Add test to specify that attributes from an association's conditions should be assigned without mass-assignment protection when a record is built on the association.
Remove unnecessary '|| {}'
Get around weird missing constant error caused by AS instead of simply raising NameError, closes #477.
make sure log file is written in binary mode. fixes #497
impact guides with no CSV fixture support
Need it declared too
Include lib/assets for sprocket paths
minor cleaning with new api method
deprecating CSV fixture support
deprecating read_csv_fixture_files method
minor cleaning
Use all in place of find(:all)
Merging 3.0.x CHANGELOGs
Some readme fixes as required.
Replace LH with GitHub url for filing issues
Update sprocket comments
Methods that return nil should not be considered YAML
s/javascript/JavaScript
minor fix in assets usage
typo fix
Explain the implication of using :ignore_date on time_select
Puts ActiveRecord::SessionStore attributes in white list, fixes #483
Document identity map inconsistency with associations, closes #474.
Revert "b9ea751d0e56bd00d341766977a607ed3f7ddd0f".
Add failing tests according to #479.
Add failing tests, according to #480.
:touch => :symbol also updates the updated_at attribute
Ensure assign_attributes and update_attributes do not fail on nil, closes #478.
Add tests for content_for() for read, closes #475.
removed redundant metric support check (and print when it isn't)
remove forgotten puts
ruby-prof's awesome call stack printer is now used by default
Missing an end in routing docs
benchmarker and profiler now use the new performance testing tools (support for Rubinius and JRuby and high configurability)
more fixed-fonts here
added some fixed fonts
benchmarker and profiler now use the new performance testing tools (support for Rubinius and JRuby and high configurability)
Update copyright year in Active Resource and Active Support
Disable identity map by default. Detailed documentation will be pushed later.
fixed a typo in the guide
contemplate unsupported metrics
use a null byte as a bind parameter substitute as it is not allowed in normal SQL. fixes #411, #417
removed an unneed AS::Concern from AR::IdentityMap
fixes github fork url
Warn if we cannot verify CSRF token authenticity
xml_mini.rb:_dasherize() replacement 20 to 25% faster
Oops, missing autoload, closes #466
Optimize the most common resolver case.
No need for replace.
Interleave db_list and file_list.
Sort migrations by the migration ID.
Just a minor fix in A.S CHANGELOG
- Moved foreign key parameter to correct location for self join on a model example
added a note about profiling options to the generators
Include examples for negative ordinalize in the guide
improve comment in wrap_parameters template
adds code examples for negative ordinalize
included examples for negative ordinalize
Don't quote ID's as Arel will quote them -- follow same conventions as the delete method.
Documentation fix. Corrected a copy/paste mistake for link_to_if documentation.
renamed mass-assignment scopes to roles, updated code, tests, docs and security guide
Better use #remove_possible_method here
Lighthouse ticket # 6334; added tests to verify that spaces in key are dasherized.
prepend the assets route instead of appending, closes #436
indifferent access should recurse Hash subclasses
Revert to use === only here because of perf. :(
Included more details on Rails coding conventions (from LH Source Style page)
explicitly return from run() under minitest (metrics were printed with the previous solution)
Add alias `r` for rails runner
Added activesupport requires for Array.wrap in previously modified files
Rename duplicate tests.  There is now one failing test that was failing before the rename but was never getting run.
New test: setting response_body to a Proc should be supported.
Always expand */*
xml_mini_test.rb now runs.
ordinalize negative numbers patch
remove unnecessary use of 'Example'
update readme to reflect app/assets
Updated change log for jdbc* adapters template.
replaced eg using old router api with the one in the guides. Add info on nesting with_options
Class.new.name returns an empty string on 1.8
Revert "Revert the merge because tests did not pass."
minor fixes
Update CHANGELOG.
fixes incorrect error message for sample method
use new AR calls in examples
fix comment alignment
ADdd missing requires (thanks to @arunagw)
Logs should show overridden method; Issue 426
revises comment for blank? method
Use .ref instead of .to_sym.
adds comments clarifying the role of SharedGeneratorTests
fix yield not working from around filter of observers, fixes Github#329
Revert the merge because tests did not pass.
Remove redundant check for is_a?(String)
Made language consistent with the rest of the comments in the file.
Added a test for MissingTemplate change, and changed to use Array.wrap() as requested by josevalim.
Made ActionView::MissingTemplate#initialize optionally accept a single string prefix to be converted to an array as in ActionView::PathSet#find_all.
better styling on #available_action? docs
Adding base method symbolized_sti_name to activerecord base to be used on identity map. Identity map now considers the inheritance when creating the caching keys
Add documentation for new observer enable/disable feature.
Revert to old semantics, use available_action? instead of action_method?.
Add test to verify production rake tasks flush logger on exit
Always flush logger at exit
be consistent
Revert "Small edit to the if statement simplification for blank? on the Object class. An Object doesn't need to be nil and empty to be blank? just one or the other."
review fixes
Small edit to the if statement simplification for blank? on the Object class. An Object doesn't need to be nil and empty to be blank? just one or the other.
Don't pluralize, camelize.
default orm and test_framework to false; change application.rb template accordingly
More updates to ivars list.
Move variables to underscore format, update protected instance variables list.
When skipping skip active record, mark config.generators.orm to false; LH 5796 remainder
strip space
Take leap years into account more seriously when calculating year distance [#6074 state:resolved]
Update the description of the :path option to #resources to reflect that it sets the actual path, not a prefix. Most instances were already fixed.
Take into account the Rack::Server :SSLEnable option when building the application's URL
Ensure params wrapper settings are not inherited and calculated each time.
Update CHANGELOGs.
Restore emphasis on 'application name'.
Add a test for outer joins with conditions where value IS NULL
Grouped the ruby-prof into test.
Removing from duplicate places. Only in Ruby platform needed.
adding ruby-prof gem for ruby platform only #jruby
Add join conditions to JOIN clause, not WHERE
Added info on using Ehcache as cache store.
Rails 3 requires the "new" command to create a new project.
Test: identity on inherited classes should behave the same when turned on or off
Testing identity map on inherited active record classes.  Distinct models that use the same database table shouldn't be retrieved as the same object when there is not a type attribute.
Display custom asset routes in `rake routes`
Multiparameter POLA, time_select fixes. See LH4346
Update respond_with docs to deal better with collections.
add tests for performance test
minitest/ruby19 compatible performance test
Tidying up the language in wrap_parameters.rb
Adding jruby-openssl in Gemfile by default. #jruby
No longer need to reference mysql2 from git
Improve doc styles for ActiveModel::Conversion
Prepare for beta1
Only show dump of regular env methods on exception screen (not all the rack crap) [DHH]
Dont show the assets mount in rake routes
ensure query cache is cleared when Rack body is closed, fixes bug reported on 951e18abea9c116fc5d6b330ca1dcd2890abe006
minor correction to the ActionDispatch::Http::URL subdomain docs
Bump up rack-cache, tzinfo and thor
Use #remove_possible_method instead here
commented meta code
formatting results in comments
Use #remove_possible_method instead
Use remove possible method here.
Relax this dependency a bit.
Let's run those precious tests against the gem.
Move sandbox to AR and pass the sandbox as a value. This way, other ORMs like Datamapper can also have their own sandboxing in rails console.
Remove defined?(ActiveRecord) and use the railtie hook instead.
fixes typo in railties/CHANGELOG (spotted by Vijay Dev)
More AV::Base cleanup.
Move prefixes to view paths as they are now a lookup context dependency.
restores the -j option, but now it accepts the name of any library
removes the :update_ujs task in railties
jQuery is no longer vendored
Also allow prefixes as third argument to lookup context.
Remove extra whitespaces
Improves Mysql2 adapter docs
Added #recreate_database docs
no @controller dependency in Renderers.
fixed test to assert initialization value.
initialize prefixes in LookupContext.
controller's prefixes are now added to LookupContext.
added :prefixes accessor to LookupContext.
Use latest rack-test.
added the mysql schema test to mysql2 adapter, and fixed the corresponding failures
make sure IM repository is cleared after body is closed
proxying the body in the IM middleware so that IM is available for streaming ERb
adding a test case for the identity map middleware
cache strings in the AST for faster comparison than include?
Add a shared entry point for AV and AC render which can be used as extension in the future.
fix select_tag to have the same behavior of select
raise an error if the old router draw method is used, along with a message advising them to either upgrade their routes or add rails_legacy_mapper to their Gemfile
Sets the HTTP charset parameter for rescue response.
Rescues template HTML5 doctype and the utf8 charset meta tag, and better font choices for Mac users.
Add static_cache_control as configuration option and set a default for test. Should improve performance in acceptance tests.
We no longer depend on those git repos.
No need for a regexp here.
Static middleware accepts cache control.
Multipart is now fixed in Rack.
Update Action Pack to depend on Rack 1.3.0
Use require_self from latest Sprockets
More performance optimizations.
fixed-fonts on SchemaDefinitions
Improve performance for filtered parameters and add tests.
Instrumentation should have callbacks.
Move most processing to load time for performance and improve test suite.
Update CHANGELOG.
removing auto_link and moving it to the rails_autolink gem.  :bomb:
favor collect over each in mysql* adapters
Flunk makes a lot more sense, doesnt it (hat tip @tenderlove)
Koz asked to test something crazy.
Allow ignore_accept_header through configuration option.
Add ignore_accept_header config to AD::Request.
Add `ActionController::ParamsWrapper` to wrap parameters into a nested hash
Update CHANGELOG file to mention my name
introduce a body proxy to ensure that query cache is enabled during streaming
more tests around caching
add a couple test cases surrounding query cache middleware
InfixOperations are valid value expressions per SQL99 BNF, and should support ordering
Remove extra whitespaces
removed reference to verify method
removed verify docs (feature removed in Rails3)
Use sprockets beta gem
Optimize ActiveResource::Base.new(attributes)
Update security guide with #new and #create respect mass-assignment
Make the identity map use the instrumentation infrastructure so we can style the messages nicely with colors (FIXME: Can someone look into why the test is not working?)
Remove schema noise from logging (TODO: Deprecate/remove the name attribute to all these methods -- will take a pull request!)
made a copy-edit pass on the streaming RDoc
singular and collection relations in AR can now specify mass-assignment security options (:as and :without_protection) in build, create and create! methods.
Added mass-assignment security :as and :without_protection support to AR.new and AR.create
convert strings to lambdas so we can use a consistent interface to the objects in the collection
Added some docs on ActiveResource::HttpMock
assert_difference can take a callable piece of code rather than just evaling a string
Documented ActiveResource#observing
Remove extra whitespaces.
Tidy up pending TODOs after discussion with Mr. Gatoz (@wycats).
Bring this back on the contributing guide.
Streaming docs.
log errors when an exception happens when streaming.
Add a test for rendering from the controller context.
Introduce view renderer.
Remove view dependency from AV::Renderer.
More cleanup and moving responsibilities around.
Remove more dependencies from the view.
Remove dependency from _template.
Start abstracting the renderer.
(temporary hack) generate a main file for RDoc escaping "Rails"
remove info about adding verified tag
fix GitHub guides url
fixing more test warnings in 1.9.3
fixing test warnings
using bind parameters for updates
fixing arel requirements for released arel
fixing spec
increasing version to 2.1.0
merging old history, adding release date
Improved ActiveModel Observing docs.
Change from LH to github way of autoclosing issues
Prototype and Scriptaculous are no longer vendored, but provided by prototype-rails from now on, also the -j option of the application generator is removed
making sure the `create_fixtures` method works to prevent regressions
make sure we flatten the fixture path list
shorten up our fixture path resolving code
Removed so info about assigning to specific devs and adding tags.  I don't believe that you can do that in GitHub issues.  Remove state:committed notes as they also don't exist in GitHub issues.
Update jquery-ujs and prototype-ujs
Make update_ujs task update the right files
Added missing word on guide
Include CSRF token in remote:true calls
table name needs to be classified when instantiating fixtures
Upload patches is for LH, we use pull requests on GitHub now
update contributors guide to reflect GitHub use
JavaScript expansions are ignored if the application uses the asset pipeline, warn the user
convert query results to a list of lists
requring pg ~> 0.11, so remove conditional code for supporting older versions of the gem
No need for &block here.
Make postgresql faster on development (thanks to @tapajos).
Stop calling to_s on aliases, require them to be strings already.
updating manifest and spec
Move #as to AliasPredication, stop overriding Function's #as.
lean on rubygems to provide error messages about missing gems
supporting delete with bind parameters in mysql2
refactor exec_delete to reuse the statement cache from exec_query
statement cache for deletes working on mysql
sqlite3 supports prepared statement deletes
postgresql supports prepare statement deletes
Added test for empty CDATA bug in from_xml
supporting nil when passed in as an IN clause
Test that passing nil member of array in conditions retrieves records with nil value on a selected field.
replace 'LIMIT n' with 'FETCH FIRST n ROWS ONLY' when using ibm_db
DRY this baby up
fix typo
:if should not fire on validations when not in context with :on
add more documentation; remove unused assignment
Allow AM/PM in datetime selectors
removing the aliased orders method from the pg visitor
updating manifest and gemspec
clearing statement from cache on exception in order to support older versions of mysql
removed the default_scope deprecations and updated the docs and tests to reflect its use cases
Add additional tests for AM::ObserverArray that I had missed yesterday.
Revert "Revert "Handle enabling/disabling observers at different levels of the class hierarchy.""
upgrade rack-mount
Updated manifest, gemspec
Add support for ordering on expressions
Tidy up previous commit.
Revert "Handle enabling/disabling observers at different levels of the class hierarchy."
Edited railties/guides/source/routing.textile via GitHub
Allow a label with the value option to have value-specific translations.
Handle enabling/disabling observers at different levels of the class hierarchy.
Allow observers to be enabled and disabled.
Wrap line that is over 200 characters long.  Now it's much easier to read.
added a :prefix option to number_to_human_size
requiring a newer version of the mysql2 gem
some test renaming to avoid collisions, and some annoying issues between dbs
document the reorder method(fb215110401c70cfc7013c6e2ad5753fa4e374e9)
prevent errors when passing a frozen string as a param to ActionController::TestCase#process
final corrections to the mass-assignment security tests
Minor fixes in databases.rake
update the Array#from behaviour changes - returns [] if index exceeds array length
fixed a small bug with Array#from core_ext
Relevant options closer together
minor changes
minor git sources formatting change in railties app_base.rb
using @tenderlove's suggested implementation to speed things up
enable uglifier gem as new version of execjs is relased
Allowing jdbcsqlite3 to drop database, clone structure. #jruby
Rephrased Dirty#changed? docs
Removed extra whitespace
Better formatting on ActiveModel::Translation
fix mass-assignment security tests, this was due to a string column limit which doesn't cause issues on sqlite
fixing Array#from to return consistent results
Re-factored database.rake to allow Jdbcpostgresql. #jruby
moving check fo scheme-relative URI into is_uri?
Prem fixes 1.9 engine test issue
added the list of reversible commands in the newer migrations
minor changes in migrations guide
simplifying buffered logger for easier and slightly more performant codes. pumpkin
asset helpers should understand scheme-relative URLs
Change from `self.(up|down)` to `(up|down)` method
Update guide to use `change` method in various places after migration generator has changed.
AR update_attributes api is updated to reflect the addition of assign_attributes
bump multi_json dependency
Change examples in guide to reflect changes from XML -> JSON
bump the i18n gem to 0.6.0beta1 and update docs for the i18n exception handler [#6739 state:committed]
Updating to use Mail v2.3.0
Added tsvector Datatype Support
Revert "asset helpers should understand scheme-relative URLs"
asset helpers should understand scheme-relative URLs
test "Escapes special HTML/XML characters" do ...
deprecated the use of the guard_protected_attributes argument with attributes= in AR in favor of assign_attributes(attrs, :without_protection => true)
Using sass directly as new version is out.
added test for number_to_phone with an empty string and area code true
Database creation for jdbcpostgresql #jruby
jdbcpostgresql support added into template.
Do not use SQL LIKE operator for case insensitive uniqueness validation
adding attribute#lower for lowercasing an attribute
add a factory method for production LOWER functions
bump AS deprecation_horizon to 3.2
Make ActionController::Base.modules_for_helpers and ActionController::Base.all_helpers_from_path public methods
Explicitly define main_app proxy
Add Engine#helpers method which loads all the engine's helpers
Go with latest Sass directly
rename test case to better describe use case
No need to check for both full and mountable.
Add `app/assets/images` directory to plugin new generator
Temporarily disable uglifier until a new version depending on execjs 0.2.0 can be released (tomorrow?)
proper reset all inflector scopes
Better formatting here
Use existing #empty_insert_statement_value for an insert with no columns.
minor correction to the AMo mass-assignment security docs
added config.active_record.whitelist_attributes which creates an empty whitelist of attributes available for mass assignment for all models in your app
updated the security guide on the updated mass-assignment security scopes addition, and assign_attributes in AR
Added assign_attributes to Active Record which accepts a mass-assignment security scope using the :as option, while also allowing mass-assignment security to be bypassed using :with_protected
AM mass assignment security attr_accessible and attr_protected now allow for scopes using :as => scope eg.
rename test case to better describe use case
indentation fixes
Adding jdbcsqlite3 name in comment.
Looks more friendly.
document HTML::Selector's :has(string) pseudo class
jdbcsqlite3 support added into template. #jruby
Stop adding actual dummy tests (they clutter up the real ones in a new app), just show how its done
Added missing docs to mysql2_adapter
Better docs formatting
Added docs for #version on mysql_adapter
Added some docs on SQLite adapter
Make this docs more consistent with the rest of the docs present
dot missing here
Added doc for #table_exists?
Added docs for #rename_table on some adapters
Added docs for #columns on some adapters
Added docs for #indexes on adapters
copy-edits 0e2644c
copy-edits e2656e0
copy-edits 3d45964
copy-edits 2f0dca5
Added docs for #drop_database on MySQL adapter
File watcher won't make the cut for 3.1. Maybe on 3.2.
Grammer fix on note about wildcard routes
The example uses erb
fix block alignment
Use .erb in the test.
fix indentation
add examples for array access methods
updating to_xml example to new AR api
split indexes and column types on money / binary iteration
fetch result row arrays from pg in C and return early if there are no money or binary columns. :heart:
set the backtrace to prevent AR exceptions from lying to us
show http method in routing error message
Start Adding jdbcmysql support to new rails template.
Images path fixed in test.
Need this for testing
We cant use assert_block because its buggy in MiniTest and wont actually show you the failure message you provide -- instead you just always get a "Expected block to return true"
removing incorrect comment and string concatenation
Added test case and fix for proper eager loading associations
bumping the pg requirements
The #substitute_at gets an ActiveRecord::ConnectionAdapters::Column in #insert to match replacement in #exec_query.
Turn on JS/CSS compression by default
Added docs for #disconnect! on adapters
Added missing docs for clear_cache! on adapters
Add shorthand for js and css compressors
Added missing docs for +supports_primary_key?+ on some adapters
Added missing docs for +support_migrations?+ on some adapters
Have a more connection specific rdoc for +supports_statement_cache?+
Removed ON() on distinct comment
Remove HTML escaping from Record Tag Helper docs.
Move #exec_insert to abstract adapter's database statements.
minor correction to the Active Model instantiate_observers doc
Grammar fixes for Object#in? documentation.
stop using distinct on for the unique id queries. [#6450 state:resolved]
raising not implemented exceptions for distinct on where it is not supported
adding Distinct ON node
adding a DISTINCT node
Only include SprocketsHelper into assets context
Replace example hostname with "example.com". The hostname used in these comments actually exists, which is undesirable. See also RFC 2606.
document the Active Support extension - String#inquiry
Exception got moved to ActiveModel with Rails 3
NilClass is a singleton
correction to the i18n locale filter examples
Use initialize_copy! to proper initialize now on clone.
Don't reuse a closed flash when using now
Actually add an abstract class, so it is easier to get rid of old asset paths in the future.
Include modules to the context in the railtie.
Revert "Better formatting"
Let's use inheritance here, shall we?
remove unwanted Example headers as per the guidelines, s/instaces of NilClass/nil/ and friends, completes some rdocs
commit copy-edit: simplifies blank? rdoc and revises formatting
Revert "Formated docs"
brings a #:nodoc: back
Undocumented :openssl_verify_mode option for smtp_settings
Add app/assets/images and include the rails.png as a sample there
Add note about the option to add other precompile targets
Set a default precompile target to be the application.js, application.css, and all non-css/js files (images etc)
Give assets access to asset_path during precompilation
Switch to asset_path and make it available in the Sprockets::Context (now you can do asset_path("logo.png") in a stylesheet.css.erb file and get fingerprinting)
Cleanup compute_sprockets_path -- when you are reaching for code comments, the method could be simpler
let this regexp be stricter
All assets, including images, audio, and video, now uses the asset pipeline when its on
Let's not dup because value may not always be duplicable.
Avoid define_method if possible.
remove MultiJson from the Gemfile and instead add the current rc to the AS gemspec
Do not stream on HTTP/1.0.
Output a redirect to the 500 page if something happens when streaming. Currently, we output:
Do not inherit from Rack::Response, remove a shit-ton of unused code.
Update link to Rails 2.3 guides from 2.3.8 to last release 2.3.11. Maybe someone could regenerate the guides
Be sure to not store the closed flash in the session.
docs for ActionMailer::Base.default_i18n_subject
Bring back support for passing a callable object to the default_scope macro. You can also just use a block.
Un-deprecate using 'default_scope' as a macro, but if you are calling the macro multiple times that will give deprecation warnings, and in 3.2 we will simply overwrite the default scope when you call the macro multiple times.
AS Json parse_error makes a return for backwards compatibility, although it will return MultiJson::DecodeError
adding a rake task to help generate changelog notes for release announcements
removed AS backends and instead rely on MultiJson for json decoding
Use proper coffee comments
adding a spec to demonstrate subqueries
fixing Table tests
Improve performance of grouping_any/grouping_all
File should be open in read/write mode. When doing lock on a file.
Formated docs
oops fixed typo
Test explicit skip.
Just define the controller if fibers are defined.
Add description to assets:precompile such that it shows up in rake -T
Add String#inquiry as a convenience method for turning a string into a StringInquirer object [DHH]
Body... wanna *stream* my body? Body... such a thrill my body!
Rename it to DataStreaming.
Add missing dependency.
Slightly reorganize rendering stack.
best-of-bread -> best-of-breed
Formatting docs
Docs for +duplicable?+
Docs for NilClass#try
Formatting examples
Documented String#blank?
Documented Hash#blank?
Documented Array#blank?
Documented TrueClass#blank?
Documented FalseClass#blank?
Documented NilClass#blank?
What a lovely surprise, controller_generator_test was also failing.
Bring back some bits of documentation for scopes which were removed as part of the reversion in 256b363
Revert "Deprecate defining scopes with a callable (lambda, proc, etc) via the scope class method. Just define a class method yourself instead."
Test failing with Jruby "uninitialized constant TestJSONEncoding::JSON"
make our constructor signature match the superclass
Remove 2.3 since guides are supposed to be for Rails 3
Bypass IdentityMap in PostgreSQL geometric tests.
Lazily load sprockets.
Make generators more modular, add hooks and improve test suite.
Move app initializers to sprockets railtie.
Move controller configs to sprockets own railtie.
Generate app/* stubs directories for full plugins to show ththat it is possible to extend them.
Added CHANGELOG entry for new section additions on ActionView guide
Better formatting
Added Templates section on ActionView guide.
Added information about grouping conditional validations
Added Spacer Templates on Partials section of ActionView guide.
Added Partials section to ActionView guide.
Added Using Action View with Rails guide section.
Updating mail to 2.2.16
Class docs.
Docs.
content_for should work with provide.
Add more tests, ensure we never yield outside the fiber context and that we swap buffers when moving from parent to child.
Basic tests for streaming. Basic tests for provide.
The magic medicine worked.
Yo dawg, I heard you like streaming. So I put a fiber, inside a block, inside a body, so you can stream.
Removing incorrect example results
Making spacing consistent
Negative format example should use a negative number
Buffer should be an option passed down to template rendering.
Days are never approximated using 'about'
Making example result match actual result
Including actual usage in example
Initial work on fibered layout.
switch to using comments to comment things
render :once, YAGNI.
Make static faster as we don't have to serve multiple paths anymore.
Remove the ability for engines to serve assets from the public directory.
Added an example of exception situation on Array#sample docs
Improved Array#sample documentation
Booya, sprockets now works from Engines.
Add some very simple docs.
Remove rescue as it was clobbering the real error.
Return nil from read_attribute(:foo) if 'foo' is not present in the @attributes hash, but the _foo method has been defined. This brings the behaviour into line with the 3-0-stable branch and the master branch before 93641ed6c8c684f6b4db02b6c8a22fa9bc7f0eaf (there were previously no assertions about this which is why the change slipped through). Note that actually calling the 'foo' method will still raise an error if the attribute is not present.
Undo performances regressions I introduced in bbe0a507f287c20ab4ae8a244fbfc810665deda5 and add test for an edge case. Add comments to explain the intent of the code.
attribute should be attributes
Edited actionpack/lib/action_view/helpers/form_helper.rb via GitHub
Test for stripping tags from a frozen string.
Refactor test to avoid hackery
Remove unnecessary code from define_read_method and add assertion to make sure the underscored version is actually generated
Added more detailed use of the +list+ command on debugging guide
Remove extra whitespaces from guides
Use JS comments, please
bcrypt will encrypt anything, so validate_presence_of would not catch nil / blank passwords.  Thank you to Aleksander Kamil Modzelewski for reporting this
sort insert columns for better cache hits
generated session ids should be encoded as UTF-8
refactoring inserts to use the same method on the connection
mimic prepared statements in the exec_insert for mysql2
mysql type cast should return integers when typecasting true / false
using the database adapter to typecast before executing prepared statement
inserting big decimals as strings works consistently among dbs, so use string form
insert statements are prepared, but values are not escaped properly
adding a type cast method for prepared statements
ruby 1.9.2 and other ruby implementations may not return the same hash value for the same string each time. This can result in your static assets being served from different asset hosts, which makes browser caching less effective. Use md5 or some other digest method instead.
Extract the constraint-building for joins in JoinAssociation into a separate method to make it easy to change/override (requested by Ernie Miller so that MetaWhere can add to it easily)
Update guide mentioning that +in?+ may raise an +ArgumentError+ exception
Only rescue a thrown NoMethodError, don't preemptively check for #include?; added tests
added an exception to Object#in? to match the methods documentation
Update scaffold controller to generate scss file if Sass is available
for escaping HTML can be treated as normal XML
properly escape "'" to "&apos;" for XML/HTML (BTW Erubis does that as well)
Move [#ticket_number state:commited] to the end of the commit message
change to use the Sass file extension .scss
Remove extra whitespace
Update guides with controller generator producing asset stubs
Update Contributing to the Rails Code guide for automatically change the status of LH tickets
The controller and resource generators will now automatically produce asset stubs (this can be turned off with --skip-assets). These stubs will use Coffee and Sass, if those libraries are available. [DHH]
files are a special case and need whitespace to be significant
gsub is not needed (thanks @fxn!)
Bring back tmp/cache for the default local cache to work
Declaring the attr_accessor for password_confirmation is not necessary as the confirmation validation already adds that attr_accessor
attributes no longer disappear if a tag contains whitespace
Add tests for InheritableOptions.
Making colon usage consistent
Remove trailing whitespace
Aligning table cells
Making identifiers consistent in example
Documented +ActiveSupport::Notifications+ module.
Its assets.enabled, not assets.enable
Moving note out of prologue to match other guides and so it'll display correctly
ActionView::PathSet# accepts String or Array
Cleanup the Gemfile and compute whats needed depending on whether we are on 1.8 or 1.9
Update guides with new scaffold.css path
do not depend on to_yaml being called, but rather depend on YAML being dumped
use index based substitution for bind parameters
Generate scaffold.css to app/assets/stylesheets (next step, SCSSify it if SCSS is available)
Includes have to be in the first comment
Use driver_ujs now that we no longer have to depend on a shared name and insert all prototype dependencies if thats specified
Use driver_ujs now that we no longer have to depend on a shared name and insert all prototype dependencies if thats specified
Blah, assets cant be turned on from initializers either
Cleanup comments
Not needed
Require asset pipeline targets by default
Require everything by default
Dont need to make application.js into coffee since it will mostly be a manifest file anyway
Move json requirement to user Gemfile -- still need to do better than this, though
Use Sass from git until the final gem is out
Move the asset template engines to the user-generated Gemfile
Generate CoffeeScript stub by default
Include CoffeeScript in Gemfile
Add default require directives for jquery
Blah, identity_map has to be setup in application.rb to work
Clean up the generator, switch to assets usage, use vendor/assets for the default scripts, and more
Removed Object#among? from guides
Move to app/assets in anticipation of image support being added as well. Also add vendor/assets to default load path
Until the latest sprockets gem is released, we need new apps to reference it directly
Remove `#among?` from Active Support
updates AP CHANGELOG
updates railties CHANGELOG
renames response_from_page_or_rjs -> response_from_page, and extracts the RJS in it
fixes the name of a test
removes some remaining .rjs occurrences
removes reference to RJS from AC::RecordIdentifier docs
removes a remaining reference to .rjs in template resolver's RDoc
removed references to RJS from the AP README
removes RJS documentation from AV::Base
removes mentions to RJS in the security guide
removes debug_rjs from ActionView::Base
removes render :update from views
removes ActionView::Helpers::PrototypeHelper
removes ActionView::Helpers::ScriptaculousHelper
removes the RJS template handler
removes support for render :update
let the default function in button_to_function be nil
applies API guidelines to example
removes support for RJS in button_to_function
removes assert_select_rjs
removes support for RJS in link_to_function
jQuery is the new default
Aligning comments
common @jonleighton :bomb:
Index sprockets environment if perform caching is enabled
Deprecate defining scopes with a callable (lambda, proc, etc) via the scope class method. Just define a class method yourself instead.
ActiveRecord::Base.scopes hash is not needed
Evaluate default scopes at the last possible moment in order to avoid problems with default scopes getting included into other scopes and then being unable to remove the default part via unscoped.
Deprecated support for passing hashes and relations to default_scope, in favour of defining a 'default_scope' class method in the model. See the CHANGELOG for more details.
Removing the scope-caching which happens on association proxies, because the query is already cached by the query cacher. For formalised proof see http://www.youtube.com/watch?v=wDefXLb-FDs
Update test name to the corresponding method name
Changed Object#either? to Object#among? on guides
Corrected dbconsole usage message.
Update guides reflecting that scaffold_controller generator generates now code for JSON response instead of XML
Updated AS guide with new Object#in? and Object#either? methods
stop using deprecated methods in arel
deprecating SelectManager#wheres method
Revert "Edited railties/guides/source/active_support_core_extensions.textile via GitHub"
Change Object#either? to Object#among? -- thanks to @jamesarosen for the suggestion!
remove so many nested if statements
wrap the pg_get_serial_sequence function and reuse it for the default sequence name
Edited railties/guides/source/active_support_core_extensions.textile via GitHub
cache table exists queries in prepared statement cache
only use the primary_key method, refactor schema and table name parsing
use prepared statements for primary key queries
last insert id can never be called, so remove that code path
Added missing </tt>
Edited README.rdoc via GitHub
Rewording
we know the table and pk, so we can calculate a default sequence name
always look up pk and sequence unless both are provided
pg does not know the insert_id in advance, so super will never return true
updating the docco for ActiveRecord::Result
implement exec_query on mysql2 adapter
make sqlite insert_sql more consistent with other adapters
adding exec_insert for postgresql
fixing variable name in mysql test
properly name schema queries for the logger
adding mysql adapter test case
adding client_encoding method for discovering the encoding set for this client, testing exec_insert on a string
properly name schema queries for logging
adding exec_insert to sqlite3
adding a case_sensitive_modifier for forcing comparisons to be case sensitive
adding a Bin node to emit mysql BINARY keywords
updating the readme a little
only support pg >= 8.2, so no need to check
Remove code duplication.
No need to rescue here. Invoking the wrong method in an object can happen anywhere if you are not careful. In other words, test your shit.
Revert "Add :use_include option to allow user to explicitly use `Range#include?` method in Ruby 1.9"
Keep the same API semantics for update/delete as we had for XML (just return 200 OK, no body)
Cant use inclusion in commands/application.rb as the frameworks havent all been required yet
pg should define insert_sql so that query cache actually works for inserts
adding pg support notes to the changelog
community support for pg < 8.2 has ended, so we can drop support for those versions
Refactored uniqueness validator to use Arel instead of hardcoded SQL
Using Object#in? and Object#either? in various places
Add support for Object#in? and Object#either? in Active Support [#6321 state:committed]
Remove dead branch code that appeared back in a merge.
Add :use_include option to allow user to explicitly use `Range#include?` method in Ruby 1.9
Add support for proc or lambda as an option for InclusionValidator, ExclusionValidator, and FormatValidator
removed :nodoc: from ActionController::MimeResponds
Add --old-style-hash option to force creating old style hash on Ruby 1.9
Rails will now generate Ruby 1.9 style hash when running app generator on Ruby 1.9.x
Rails will now generate Ruby 1.9 style hash when running scaffold_controller generator on Ruby 1.9.x
Make scaffold_controller generator generate code for JSON response instead of XML
moving sqlite_adapter_tests to sqlite3_adapter_test so that the tests are actually run. :bomb:
make turn a soft dependency. generate a Gemfile that contains turn and require turn if it is available
Make csrf_meta_tags use the tag helper
Cache flash now
Revert "Use freeze instead of close!"
Revert "Eagerly load Signed and Permanent cookies"
cookies here
Eagerly load Signed and Permanent cookies
many args does not make sense with the current implementation because of how `use` works
getting the flash hash under test
favor composition over inheritance, have FlashHash delegate to a Hash
Use freeze instead of close!
CookieJar should prefer composition over inheritance
Delete useless arguments
Delete useless env variable
Add tests to verify that signed and permanent cookies raises if someone tries to modify the cookies when it was already streamed back to the client or converted to HTTP headers
Make process reuse the env var passed as argument
raise if someone tries to modify the cookies when it was already streamed back to the client or converted to HTTP headers
Add ClosedError message to the initializer
fix example query
do not return html safe strings from auto_link
added find_zone and find_zone! to AS timezones and changed the AS Railtie to use find_zone! as well as adding Railtie tests
Raise on invalid timezone
Disable IdentityMap in log tests, it's not important and when running tests rake task it logs more messages in the tested buffer.
AM register_interceptor and register_observer only constantize if the argument is a String
Rename test directory to match code directory
raise if someone tries to modify the flash when it was already streamed back to the client or converted to HTTP headers
Destroying records via nested attributes works independent of reject_if:
Correct documentation on url_for. It doesn't call to_s, but rather to_param
Made the defaults section a little more readable and more to the point, giving a overview of the possibilities.
Added information about default values
remove AM delegating register_observer and register_interceptor to Mail and instead implement smarter versions allowing for string class names, also added proper Railtie support with tests.
Add log message when loading records from Identity Map.
Use IM when trying to load records using ID.
Add railties to the LOAD_PATH if running from a Rails checkout
added .'s to headings in the initialization textile page
s/ERb/ERB/g (part II)
s/ERb/ERB/g
Bump up erubis to 2.7.0
Implicit actions named not_implemented can be rendered
don't use internal profiler methods on Rubinius and JRuby since we're only measuring wall clock for now (and the APIs will/can change, respectively)
removed unused class declaration
profiling enabled under JRuby. Added documentation for workaround described in JRUBY-5650.
Gem::Specification#has_rdoc= is deprecated since rubygems 1.7.0
default_executable is deprecated since rubygems 1.7.0
Enumerable should pass encoding options to children in #as_json/#to_json.
Trivial fix to HTTP Digest auth MD5 example
Moved Turn activation/dependency to railties
fix typo
Direct logging of Active Record to STDOUT so it's shown inline with the results in the console [DHH]
Add using Turn with natural language test case names if the library is available (which it will be in Rails 3.1) [DHH]
require turn only for minitest
Use Turn to format all Rails tests and enable the natural language case names
Improve docs.
pass respond_with options to controller render when using a template for api navigation
only try to display an api template in responders if the request is a get or there are no errors
when using respond_with with an invalid resource and custom options, the default response status and error messages should be returned
Explain in the method doc that you need to call respond_to at the class level in order to use respond_with.
Grammar tweaks to the guides guidelines
Delegate pending to skip if Minitest is available
Unify sprockets config options
Switch to sprockets/master
use assert_equal so we get normal error messages along with our custom failure message
Symbol to proc is preferred over longer form of map
Cleanup of named_scope documentation
add space to conform with style
Documented undocumented feature: Class methods on your model are automatically available on scopes
Bring back AMo#i18n_key method
TableAlias leg ordering has changed, so change accordingly
use TableAlias nodes for aliasing subselects
fixing the leg order of TableAlias nodes
Make action_method? public and change implicit rendering to override it instead.
Precompile configured assets
Seperate asset directories
updated documentation because of the benchmark/profile improvements
check if there is support for the specified metric when profiling
Rename option to config.asset_pipeline
Move sprockets initializers back to application
test against AR class rather than the relation (thanks Andrew White!)
order is not guaranteed by this select, so add an order and call first!
oracle stores this with microseconds, so convert to seconds before comparing
Change back to /assets prefix
fixed a bug where rubinius was creating the profiling files as directories
make sure that active connections are not cleared during test when an exception happens
don't allow decimal places on the amount of objects and gc runs
clearing active connections in the ConnectionManagement middleware if an exception happens
proxy body responses so we close database connections after body is flushed
Only add fingerprints if perform_caching is on
performance tests inherit from AD::PT and not AC::PT, fixed performance test generator invocation (guide)
Copy use_sprockets config
Use sprockets helpers if config.use_sprockets is set
Add sprockets to Gemfile for testing
Tests for SprocketsHelper
Pass the proper method_name instead of hardcoding to action_name.
Quote find_in_batches ORDER BY clause [#6620 state:resolved]
Delegate first!, last!, any? and many? to scoped
Dont call authenticate_or_request_with_http_basic twice
Remove 'warning: ambiguous first argument' when running ActionPack tests
Change exists? so that it doesn't instantiate records [#6127 state:resolved]
Move mapper_test to the appropriate location
Update the wildcard route to be non-greedy by default, therefore be able to match the (.:format) segment [#6605 state:resolved]
Minor rephrasing to improve grammar and readability.
Add docs for ActionController::Metal class methods
Added back the Callback debugging section by interrogating the _*_callbacks method
Updated Basic Authentication guides to reflect new Base.http_basic_authenticate_with method
Added Base.http_basic_authenticate_with to do simple http basic authentication with a single class method call [DHH]
make sure we have an active database connection before running each connection management test
adding active_connections? to the connection pool for finding open connections
adding active_connection? to the connection pool
testing app delegation from the ConnectionManagement middleware
namespacing connection management tests. :heart:
sql logger ignores schema statements
Update sprockets path generation method
Add SprocketsHelper
Remove sprockets exception from main asset helpers
Add use_sprockets flag
Logger isn't set here
Add route for assets
Bring #reorder back
Engines that use isolate_namespace with nested modules should set correct module prefix for their routes.
Minor typo correction.
improved detection and feedback of supported/unsupported metrics
fixed a couple of hidden bugs
improved options handling in performance tests
we need test-unit on mri 1.9
added profiling and benchmarking capabilities to jruby (profiling is crippled because of a jruby bug)
Added new #update_column method.
benchmarking metrics are also implementation-specific
warn the user about unsupported benchmarking metrics he might have asked for
let these heredocs flow with the code
removed duplication in rubinius' benchmark code
fix a bug where the GC wasn't being triggered at the start of the MRI benchmarks
:min_percent only makes sense in a RubyProf context
remove deprecated documentation
Make edge and dev options use edge mysql2
Revert "Removed #update_attribute method. New #update_column method."
AR validations and callbacks guide: put update_attribute back
Add controller-specific `force_ssl` method to force web browser to use HTTPS protocol
s/with/when/
Add `config.force_ssl` configuration which will load `Rack::SSL` middleware if set to true
fixes a couple of regexps, the suite showed warnings about them
A little minor rephrasing for improved readability.
Minor typo fix.
cleaning up typecast test a little
refactoring tz to a variable rather than repeating it
Allow FormHelper#form_for to specify the :method as a direct option instead of through the :html hash [DHH]
added basic structure for jruby
adding a test for attributes after type cast. thanks nragaz. :heart:
Make JavaScriptHelper#j() an alias for JavaScriptHelper#escape_javascript() -- note this then supersedes the Object#j() method that the JSON gem adds within templates using the JavaScriptHelper [DHH]
added support for profiling under rubinius
Updated guides for new #update_column.
Removed #update_attribute method. New #update_column method.
Proc objects for cache_path for caches_action no longer need controller object, nor to use send when calling routing helpers
impact recent updates to #first! and #last! methods
removes unnecessary selfs, and mentions that first! and last! take no arguments in their API docs
Update AR querying guide with #first! and #last! new methods
No arguments for first! and last!
comment typo fix
fixed time and size units (should be seconds / bytes), fixed typo when counting memory allocations under rubinius
fixing whitespace errors. :bomb:
added gc info (runs, time) to rubinius' benchmarks
added memory size and allocations to rubinius' benchmarks
added time (wall, process, cpu) to rubinius' benchmarks
added missing require
removed leftovers from the copy-paste from mri
rubinius returns "rbx" for RUBY_ENGINE, not "rubinius"
added basic structure for Rubinius
divide the ruby interpreter into mri and yarv for improved modularity
renamed "mri" to "ruby", for consistency with RUBY_ENGINE
check whether the user is using a supported ruby interpreter for benchmarking
using number_helper to pretty print some results
extracted more generic methods, added a note for methods that need to be overridden by each implementation
initial separation of RubyProf-specific code
ruby-prof only makes sense in an MRI context
move "check for ruby-prof" from AD/testing/performance_test to AS/testing/performance, where it is actually required
check if RubyProf's WALL_TIME and PROCESS_TIME are available before using them (similarly to other constants)
correction to the outputted controller name in the diagnostics error template, test included
Make SelectManager#as act like node predications
Generate more sqlish queue.
Use Arel to build subquery.  Adapt tests to changed fixtures.
add #first! and #last! to models & relations
supporting any node in SelectManager#from
Add a failing test case for an implicit action with a before filter.
Make clearing of HABTM join table contents happen in an after_destory callback.
Failing test case to show that habtm join table contents are removed when a model is destroyed but the destruction is blocked by a before_destroy.
parse dates to yaml in json arrays
test json decoding with time parsing disabled with all backends and respect ActiveSupport.parse_json_times when converting to yaml
use class_eval with a string when it's possible
Allow to read and write AR attributes with non valid identifiers
Do not in place modify what table_name returns
Update 'Getting Started on Windows' tip to go to one-click Rails Installer
Change static root to /public
Caching guide: Capitalize 'Note' so that it's rendered as a proper note
Use sprockets precompile
Move app/javascripts and app/stylesheets under app/assets
Add sprockets md5s to asset tags
Remove ensure_fresh_assets flag
Install rb-fsevent gem if ENV[RB_FSEVENT] is set
adding missing require
Do not show optional (.:format) block for wildcard route [#6605 state:resolved]
pushing id insertion and prefetch primary keys down to Relation#insert
Assign sprockets static root
allowing sql literals for values in insert statements
added a factory method for creating values nodes
adding create_insert method
Querying guide: mention that performing a where on an relation that contains an includes statement will generate a LEFT OUTER JOIN rather than an INNER JOIN or another query
Querying guide: mention that performing a where on an relation that contains an includes statement will generate a LEFT OUTER JOIN rather than an INNER JOIN or another query
use prepared statements to fetch the last insert id
Need to load assets task file
Add sprockets task to compile assets
Add sprockets environment to Application
escaping binary data encoding when inserting to sqlite3. Thanks Naruse! [#6559 state:resolved]
schemas set by set_table_name are respected by the mysql adapter. [#5322 state:resolved]
Reapply extensions when using except and only
SJIS is an alias to Windows-31J in ruby trunk. Use SHIFT_JIS for this test
Beef up Rails::Railtie::Configuration docs
Improved resolver docs a bit
[action_view] docs for FileSystemResolver
[action_view] added custom patterns to template resolver
Add order clauses to fix some tests which were failing under 1.8 on oracle and postgres
remove bank line
define_attr_method should be able to define methods that returns nil
remove misleading comment
dup strings on return so that in place modifications do not break anything.  I am looking at you "compute_table_name"
define_attr_method correctly defines methods with invalid identifiers
Add a define_attr_method test
Add test for define_attr_method using as name an invalid identifier
Add test for define_attribute_method using as name an invalid identifier
oracle, y u defy me
fixes an issue with number_to_human when converting values which are less than 1 but greater than -1 [#6576 state:resolved]
remove to from to to :)
Add link to mailing-list
Remove incorrect comment that a default value of NULL cannot be set with change_column_default.
Add messages to plain assertions.
doc :anchor option for #match in routes
use a list to represent the supported verbs for a route object
stop splatting arguments so that we can understand wtf is going on
RegexpWithNamedGroups is only used for path_info, so only apply to path info
be be -> be
move the tips about :allow_(nil|blank) near their explanations, also no need to say these are options for all validators if they are not
Removed some redundant Time#change time options from beginning_of_ methods in Date and Time
silence @dummy_path not defined warnings
use parens and silence ambiguous args warnings
Revert "Revert "It should be possible to use ActiveSupport::DescendantTracker without getting ActiveSupport::Dependencies for free.""
Refactored AS::DescendantsTracker test cases so they can be tested without AS::Dependencies.
Missing dependency in MultiByte test.
Add missing dependency string inflection test.
Missing dependency for duration test.
Adjust unique constraint comment to include info about the RecordNotUnique exception
Remove invalid test
Change ActionView::ViewPathSet to ActionView::PathSet
Removed double texts
Revert "It should be possible to use ActiveSupport::DescendantTracker without getting ActiveSupport::Dependencies for free."
Refactor length validation
length validation for fixnums
Prevent callbacks in child classes from being executed more than once.
It should be possible to use ActiveSupport::DescendantTracker without getting ActiveSupport::Dependencies for free.
Add additional text to NotImplementedErrors [#6328 state:resolved]
adds a couple of missing AS dependencies
Resolve some TODO comments which I decided did not need anything done
Make as factory method convert alias name to SqlLiteral
Just define methods directly on the class rather than use the module indirection.
zenspider says we do not need these lines
do not automatically add format to routes that end in a slash
remove some blanks
Add missing require 'thread' to BufferedLogger.
Add require 'date' to use Date.today in plugin template MIT-LICENSE
Simplify implementation of ThroughReflection#chain
Abstract some common code from AssociationScope and JoinDependency::JoinAssociation into a JoinHelper module
Refactor JoinAssociation
Filter sensitive query string parameters in the log [#6244 state:committed]
Rename Reflection#through_reflection_chain and #through_options to Reflection#chain and Reflection#options as they now no longer relate solely to through associations.
Move the code which builds a scope for through associations into a generic AssociationScope class which is capable of building a scope for any association.
Minor formatting changes and remove a comment
update plugin urls to reflect official maintainers
Added note re: functional tests and HTTP methods.
publicise ActionMailer::MailHelper.format_paragraph
expose ActionMailer::MailHelper in the RDoc
move the conditional definition of Float#round down
copy-edits 532b770
Use Rubys own Float#round method in versions 1.9 and above
Filter params that return nil for to_param and allow through false values
Add a note to discourage users from using presence validators with allow_(nil|blank)
revises links to the API websites of individual components (no longer maintained), and rewrites the section about after and around filters in the controller guide
refactored Engine.#find by giving an explicit name to a variable and reducing calls
stop being clever and just call methods on the Route object
test/unit in ruby trunk adds a new instance variable. YAY!
Rename conflicting ActionMailer::MailHelper#simple_format method
Replace MathOperation with InfixOperation to support more operators
The root route example was the only using double quotes; switched it to single quotes for consistency
Add better test scenario for around callback return results
Allow access to a callback event's return result from around callbacks
removing stubs. 1.9.3 implements Date.today in C so mocking the return value of Time.now does nothing
fixing some tests on ruby 1.9.3
reorganizes the RDoc of Hash#to_param
formatting changes
do not test explicit equality of predicate methods, they should be allowed to return truthy or falsey objects
refactor calls to to_param in expand_key method
Referencing a table via the ON condition in a join should force that table to be eager-loaded via a JOIN rather than via subsequent queries.
cleaning up math operations on attributes
Referencing a table via the ON condition in a join should force that table to be eager-loaded via a JOIN rather than via subsequent queries.
Refactor ThroughAssociation#join_to to be much smaller, and independent of construct_owner_conditions.
Improved docs for Hash#to_param method
Configuration options are symbols
Remove Example headers. Code just flows with the text. 6ce844a3
remove unused assigned variable
more "SSL everywhere" for GitHub URLs
"SSL everywhere" for GitHub URLs
s/a/an/
fix typos
removes merge conflicts
Refactor ThroughAssociation#tables to just be a flat array of tables in the order that they should be joined together.
removes Examples headers introduced in 9b96de6
Report the correct value of nil.id in the exception message as different ruby implementations may have different values, for example Rubinius returns 53 for nil.id.
Improve testing of cookies in functional tests: - cookies can be set using string or symbol keys - cookies are preserved across calls to get, post, etc. - cookie names and values are escaped - cookies can be cleared using @request.cookies.clear
more style changes
Some style changes
style changes
Revert "style changes"
Raise ArgumentError if route name is invalid [#6517 state:resolved]
style changes
Allow model to be inherited from Hash [#6487 state:resolved]
styles applied for usage
added failing test for fields_for with a record object that inherits from Hash
use sort_by instead of sort()
Use Base#type_condition in JoinAssociation
Push source_type and polymorphic conditions out of ThroughAssociation and JoinDependency::JoinAssociation and into the reflection instead.
Add a test for STI on the through where the through is nested, and change the code which support this
use Arel::Table#alias rather than passing the :as parameter
wrong SQL statement
merges rails
revises the RDoc of Hash#reverse_merge
copy-edits 819762c
copy-edits 108561f
typo changes
Railties typos.
Action Pack typos.
Active Record typos.
Active Support typos.
Active Resource typos.
Active Model typos.
Properly escaped a + in the dynamic segments TIP
Adds link to Object.blank? from Object.present?
fixes a missmatched column in example
Spelling mistake
Correct spelling for Base64 in action_mailer
Removed link to un-existing Issues page on Github
Added some new advice on applying patches
Pointing out that dynamic_form plugin must be installed to be able to use error_messages and error_messages_for view helpers.
Clean up wording.
use resources in place of map.resources
Clarify comment by removing french reference ('a la'). Should improve readability for non-native english speakers.
Warn people that these methods are deprecated.
Correct example that did not do what it claimed. Rework explanation.
added information about TEST_DIR env variable
commas to set off expressions that interrupt sentence flow
typo changes
typo changes
implements ActiveRecord::Base.connection_config to be able to check the configuration of the current connection at runtime
When preloading has_and_belongs_to_many associations, we should only instantiate one AR object per actual record in the database. (Even when IM is off.)
Stop identity-mapping the through records in the preloader since I fixed the underlying problem in the habtm preloader.
When preloading has_and_belongs_to_many associations, we should only instantiate one AR object per actual record in the database. (Even when IM is off.)
Make CI test with and without IM
reverted tests deleted by 080345baca1076a9788d, refactored implementations should not invalidate the validations
refactored Time#<=> and DateTime#<=> by removing unnecessary calls without losing performance
Add an option to FormBuilder to omit hidden field with id
log and readme should respect --quiet
Railties typos.
Action Pack typos.
Active Record typos.
Active Support typos.
Active Resource typos.
Active Model typos.
Change behavior of count(:limit => x, :offset => y) to limit/offset before counting.
Adds link to Object.blank? from Object.present?
Properly escaped a + in the dynamic segments TIP
Add an #table_name method to Table and TableAlias, which always returns the actual table name, not the alias. Then fix ToSql#column_for to use this table name when checking whether the table exists (rather than before, where it was checking whether a table with the alias name exists, which was incorrect).
fixes a missmatched column in example
Spelling mistake
Correct spelling for Base64 in action_mailer
only compute path.to_s once
remove to_s implementation so that inspect is helpful
* LocalCache strategy is now a real middleware class, not an anonymous class posing for pictures.
No need of instance variable
require deprecation so that we can deprecate methods!
anonymous classes have blank names on ruby 1.8
make sure string keys are always looked up from the class cache
Ruby 1.8: Y U NO FUN?
use newer class cache api
adding deprecation noticies to deprecated class cache methods
adding backwards compat for class cache references. <3<3
yo dawg, directly use the class cache rather than the cache of the cache
refactor Reference to a ClassCache object, fix lazy lookup in Middleware so that anonymous classes are supported
initialize ivars
Move ActiveModel::AttributeMethods#attribute_methods_generated? to ActiveRecord, so it's flexible now
Enumerable gives us include?, so remove include?
prefer composition over inheritance with AD::MS
fixing test case test on 1.9.3dev
Remove warnings about redefined test methods
Revert "compute ext in initialize, and use an attr_reader"
no need to pass a regex to Regexp.compile
compute ext in initialize, and use an attr_reader
use a subclass of AS::TZ for testing html output
Removed link to un-existing Issues page on Github
reduce two method calls per request, 1 to method_missing and one to send
Move JoinDependency and friends from ActiveRecord::Associations::ClassMethods to just ActiveRecord::Associations
Rewrote AssociationPreload.
Updated the AS guides with some information on the difference between Date.today and Date.current.
updated Time, Date and DateTime current methods in AS to use Time.zone and not Time.zone_default.
revises a few details in public/index.html
Remove redundant to_sym call.
skip this on oracle
Make ActiveSupport::Configurable work with modules
added activesupport/test/tmp to gitignore
javascript_include_tag shouldn't raise if you register an expansion key with nil value
Add tests for register expansion methods with key = []
Added some new advice on applying patches
Revert "Properly interpolate i18n keys in modules [#5572 state:resolved]"
failing test for i18n key collision with namespaced models
Make sure the Thor generator LoadError does not output --dev twice [#6431 state:resolved]
Pointing out that dynamic_form plugin must be installed to be able to use error_messages and error_messages_for view helpers.
Clean up wording.
use an attribute rather than a SQL literal
use resources in place of map.resources
Clarify comment by removing french reference ('a la'). Should improve readability for non-native english speakers.
Warn people that these methods are deprecated.
Correct example that did not do what it claimed. Rework explanation.
added information about TEST_DIR env variable
removing limits and offsets from COUNT queries unless both are specified. [#6268 state:resolved]
assinging nil to an offset will remove the offset from the AST
Adding SelectManager#limit= and removing limit nodes when nil is assigned to limit
only take the limit if there is a limit to take
Always use ActionDispatch::ShowExceptions middleware [#6462 state:resolved]
Make sure that we set `env["action_dispatch.show_exceptions"]`
standardize all shell commands with the $ prefix
fixes: ActiveRecord::Base.scopes includes all scopes defined in all subclasses
one more spec update
updating gemspec and manifest
observers leak across tests, so rather than modify the object, we should just count the number of times the observer was called
Removing redundant File.expand_path from generators test
ActiveModel::Validator#validate must receive have a record parameter.
We're in 2011, let's update our license
Prepend the CSRF filter to make it much more difficult to execute application code before it fires.
expectations change when using IM. Change oracle tests to reflect that
Relation will delegate to AR::Base which already uses the Dynamic finders, so eliminate duplicate calls
alteracao de HTML para HTTP
adding a test case for custom locking
refactoring custom lock logic to use sql literals
Lock should be a unary node
adding failing tests for rails #6384
copy-edits 8d96b89
copy-edits 6d7a826
copy-edits 34316d8
Docs: Update to_xml documentation to match as_json docuemntation
Adding new examples for update_all method
Adding examples
Specifying :partial is required when passing additional options such as :layout
cleans up PS1. Sorry lifo :)
minor rephrasing
Documentation: Added small comments to Observering module
Tpyo: fixing several cases of the the
Typo: fixing the the
Edit a few lines for readability.
Add info about I18n::Backend::Chain to I18n guide
session is reset on token mismatch
Add a forgotten word.
Improve clarity of example. Make it follow guidelines for output display.
Add a clearer example for with_options (lifted from the Active Support guide).
improve language and examples in Railtie docs
Clarification of ActiveRecord ActiveModel validation documentation
Gem.cache is going to be deprecated, use source_index instead
Use proper objects to do the work to build the associations (adding methods, callbacks etc) rather than calling a whole bunch of methods with rather long names.
Rename target_klass to klass
Delegate through_reflection and source_reflection to reflection
Delegate Association#options to the reflection, and replace 'reflection.options' with 'options'. Also add through_options and source_options methods for through associations.
Singular associations no longer use a proxy, so no need to check for the proxy type on assignment.
Associations - where possible, call attributes methods rather than directly accessing the instance variables
copy-edits 8d96b89
copy-edits 6d7a826
copy-edits 34316d8
Added .rvmrc to gitignore
Docs: Update to_xml documentation to match as_json docuemntation
Documentation: Added small comments to Observering module
Adding new examples for update_all method
Adding examples
Specifying :partial is required when passing additional options such as :layout
cleans up PS1. Sorry lifo :)
minor rephrasing
adds Range#cover? to the CHANGELOG
documents the backported Range#cover?, and related stuff
Allow tests to proceed as soon as the payload changes, instead of always having to wait for a timeout
Add tests for an FSSM backend for the file system watcher using the FSSM polling support.
Tpyo: fixing several cases of the the
Typo: fixing the the
refactored ActiveModel::Validations::InclusionValidator#validate_each
added Range#count? for Ruby 1.8
Edit a few lines for readability.
Add info about I18n::Backend::Chain to I18n guide
session is reset on token mismatch
Add a forgotten word.
Improve clarity of example. Make it follow guidelines for output display.
Add a clearer example for with_options (lifted from the Active Support guide).
improve language and examples in Railtie docs
Clarification of ActiveRecord ActiveModel validation documentation
instance_methods includes public and protected, so reduce funcalls and object allocs
oops, no need for puts!
AR::AttributeMethods does not need to be included in an AR::Base class.
fixes a merge conflict
We really don't care about IM middleware order, the important is that it gets included.
merges docrails
removes indent from guides example
Revert "Created a new Troubleshooting section in the migrations guide."
removes unrealistic example (authentication plus gender?), that it is not needed anyway
Change validates inclusion to use cover? for Ranges in ruby 1.9 [#6453 state:committed]
Clarify Example in ActiveRecord base
Don't use skip, just don't run anything, we don't have skip in Ruby 1.8
Remove nbproject form gitignore. This shouldn't be here in the first place.
WeakHash is not used, remove it.
No need to have reinit_with inside an InstanceMethods module.
Initialize @target instead asking if it is defined.
Remove test which was broken on 1.8. This test is now irrelevant since singular associations no longer return a proxy object.
just use the list of column names to generate attribute methods
Should use "=" instead "replace" after this commit: 1644663ba7f678d178deab2bf1629dc05626f85b
No need to test agaisnt target.
Reindent and remove wrong line left in merge by mistake.
Use to_a instead :load in test, since :load changed.
No need to test against target anymore.
Remove awkward phrasing from Ajax on Rails guide
fix type: remove extra period
Created a new Troubleshooting section in the migrations guide. Added a bullet point there showing how the Uninitialized Constant (missing migration class) error looks like.
Split AssociationProxy into an Association class (and subclasses) which manages the association, and a CollectionProxy class which is *only* a proxy. Singular associations no longer have a proxy. See CHANGELOG for more.
Add :nodoc: to ThroughAssociation and HasOneAssociation
Allow building and then later saving has_many :through records, such that the join record is automatically saved too. This requires the :inverse_of option to be set on the source association in the join model. See the CHANGELOG for details. [#4329 state:resolved]
Ensure that association_ids uses the correct attribute where the association is a has_many :through with a :primary_key option on the source reflection. [#6376 state:resolved]
commas to set off expressions that interrupt sentence flow
Remove unused line in test setup.
Add description of transaction callbacks to ActiveRecord callbacks guide.
update caching guide with the changes to ActiveSupport::Cache from the 3.0.0 release.
fix typo
fix typo
explicitly allowing lolqueries
add note about observer config for rails apps
use the arel table rather than generating strings
no need for Array.wrap
fixing whitespace problems
removed an unnecessary second query when passing an ActiveRecord::Relation to a where clause.  And added ability to use subselects in where clauses.
handle double pluralization for irregular plurals
Remove unused code.
fixture methods can be overridden and super() is useful
fixing variable names to reflect reality
this is in the AR namespace, so AR must exist
GcTime incorrectly checks GC.respond_to?(:total_time), it should check GC::Profiler.respond_to?(:total_time)
Optimization for postgres adapter for add_column method. Set default and not null in one query
removing unused variable
Added RDoc info for accepted options for simple_format in TextHelper.
Don't shadow outer local variable.
Run tests without IdentityMap when IM=false is given.
Remove identity map from benchmark script.
ActiveResource validation tests did not test ActiveModel validations. Adjust the test to be done the Rails3 way.
fixed broken link to postgresql docs
Correct bad wording in description.
bad tests are bad
remove accidental raise!
removing irrelevant test
remove unused methods
extract rows that should be inserted to a method
fixtures will return a list of tables that may be effected, delete existing fixtures will delete those tables
Add test to prevent regression on namespace root nested in a resource
Add a transaction wrapper in add_to_target. This means that #build will now also use a transaction. IMO this is reasonable given that the before_add and after_add callbacks might do anything, and this great consistency allows us to abstract out the duplicate code from #build and #create.
Inline ensure_owner_is_persisted! as it is only called from one place
@target should always be an array
Rename add_record_to_target_with_callbacks to add_to_target
Don't pass the block through build_record
Move create and create! next to build
Get rid of create_record as it is not only used in one place
Get rid of AssociationCollection#save_record
Add interpolation of association conditions back in, in the form of proc { ... } rather than instance_eval-ing strings
Add notes on how to override the default :id constraint [#5994 state:resolved]
Added --sandbox option to rails console explanation.
Remove incorrect assert_recognizes example
Added simple demonstration of has_many :through
Remove incorrect assert_recognizes example
change plugins guide to favor gem based plugins, clean up to reflect the state of Rails3 plugins, remove information not compatible with Rails3.
Add missing require
Add Date#rfc3339 and Date#iso8601 to AS
Remove Relation#& alias for Relation#merge
switch over to Mysql2::Client#ping for the mysql2 connection check
Make gem "ruby-debug19" require ruby-debug
the shell prompt for non-root sessions is "$" by convention
added proper require for ruby-debug19 gem to generated Gemfile
Revert "Add note about running `bundle install` as root. Solves issue with '#' not being rendered, and it's more clear for beginners."
Allow for the format of time_tag in AP to be changed via an option argument.
Added time_tag helper to AP for HTML5 time tag [#5919 state:resolved]
Applied changes to stylesheet_link_tag from javascript_include_tag which corrects issues with ordering and duplicates.
This corrects two issues with javascript_include_tag, the order at which they are expanded, and removing duplicates.
Remove duplicated action pack tests added to fix issue with fields_for, nested attributes and erb
Add note about running `bundle install` as root. Solves issue with '#' not being rendered, and it's more clear for beginners.
Add block support to button_tag helper
Make type="submit" the default for button_tag helper
Updated the json date regex to recognize xmlschema formatted date times during json decoding. [#3031 state:resolved]
key habtm fixtures off table name
convert fixtures to a list of hashes to insert
fixture should quack like a hash
database quoting should take care of this, no need to gsub
calculate model class on construction
clear cache for all connections when resetting
avoid side effects from method calls, localize ivar assignment
create fixtures always returns a list, so build a hash from the list
create_fixtures() should always return a list
fixing variable names
use hash defaults to dry up ||= calls
refactor fixtures to do less work in the constructor
favor composition over inheritence. use AS::OrderedHash rather than omap
Add missing deprecation require
Remove misleading reference to polymorphic_url.
fixing tests on 1.8, using a list of lists because order is important
simplify bind parameter logging
bind parameters are logged to debug log
Change fenomenal to phenomenal.
updated reference to remote_form_for
fix typos, minor edits
test cases for bind parameter logging
Removed Array#safe_join in AS core_ext and moved it to a view helper with the same same. This also changes how safe_join works, if items or the separator are not html_safe they are html_escape'd, a html_safe string is always returned.
Revert "Removed Array#safe_join in AS core_ext and moved it to a view helper with the same same."
Removed Array#safe_join in AS core_ext and moved it to a view helper with the same same.
Corrected the html_safe implementation for Array. Moved the html safe version of join to its own method (safe_join) as not to degrade the performance of join for unrelated html_safe use. [#6298 state:resolved]
Initial html_safe implemention for Array
add some docs for ActionController::Renderers
log method takes an option list of bind values
fanout unsubscribe only accepted one argument, so taking *args here is probably bad
just use an attr_accessor so we do not pay ||= on every notification call
fixing indentation
speed up notification publishing by writing the delegate method
rawr, mysql, mysql2, why do you hate me. :'(
Override attributes_protected_by_default when has_secure_password is called.
removed some duplication from LH issue 5505 regarding AR touch and optimistic locking [#5505 state:resolved]
The optimistic lock column should be increased when calling touch
use parenthesis so limit works on all dbs
now that the API guidelines are a guide, it is enough to assert that the names of Rails components have a space, no need to say it was checked with David in the past
removing text-format in favor of a more simple solution
bugfix for serialized_attributes to be class specific
implementing include? on AM::Errors
text-format requires text-hyphen, which needs ruby 1.8
we do not need message to be an array
Allow limit values to accept an ARel SQL literal.
use map rather than array concatenation
favor composition over inheritence
use 1 call to concat rather than calling << n times
replaced MODEL.human_name with MODEL.model_name.human now that .human_name is deprecated
Application's assets should have higher priority than engine's ones [#6388 state:resolved]
Failing test for #6388
Add missing require
fix for AS Gzip returning a UTF-8 string in Ruby 1.9 when it is actually binary [#6386 state:resolved]
comma limits do not make sense on oracle or pg
reduce string append funcalls
redcloth does not install on 1.9.3
primary keys should not be cleared on cache clear, fixing oracle tests
Make rails.js include the CSRF token in the X-CSRF-Token header with every ajax request.
Change the CSRF whitelisting to only apply to get requests
limit() should sanitize limit values
Use Mime::Type references.
Ensure render is case sensitive even on systems with case-insensitive filesystems.
Be sure to javascript_escape the email address to prevent apostrophes inadvertently causing javascript errors.
minor fixes in generators
ignore max identifier length queries from pg
fields_for with inline blocks and nested attributes already persisted does not render properly
Add tests showing the LH issue #6381: fields_for with inline blocks and nested attributes already persisted
this test requires the job model, so we should require it
use === so that regular expressions are not required
use === so that regular expressions are not required
make set_table_name take effect immediately
no more faker, rbench, or addressable
cleaning up some warnings on 1.9.3
just return the record from insert_record, use truthiness for comparisons
require tag since we need it for this test
Documentation for recent refinements to association deletion
Refactor the implementations of AssociatioCollection#delete and #destroy to be more consistent with each other, and to stop passing blocks around, thus making the execution easier to follow.
This string should continue
Correctly update counter caches on deletion for has_many :through [#2824 state:resolved]. Also fixed a bunch of other counter cache bugs in the process, as once I fixed this one others started appearing like nobody's business.
Support the :dependent option on has_many :through associations. For historical and practical reasons, :delete_all is the default deletion strategy employed by association.delete(*records), despite the fact that the default strategy is :nullify for regular has_many. Also, this only works at all if the source reflection is a belongs_to. For other situations, you should directly modify the through association.
Make record.association.destroy(*records) on habtm and hm:t only delete records in the join table. This is to make the destroy method more consistent across the different types of associations. For more details see the CHANGELOG entry.
we do not use this method, so delete
update ignored SQL for oracle
removing some freedom patches. use notification system to count sql queries
mysql2 should log these sql statements
notifier should be saved and re-set, not deleted
Use map + flatten here
the connection pool caches table_exists? calls
use the cache mechanism in the connection pool rather than our own cache
Add note that validates_length_of will incorrectly pluralize min. length 1
Updated form rails guide for new place of authenticity_token option
do not to_s where you are testing that a string value is stored for the before_type_cast
avoid nil.dup
ActiveRecord :default_timezone is :utc in Rails, as set by active_record/railtie.rb
Add initial FileWatcher implementation. The Backend is just an abstract implementation, which will be inherited by backends that do the heavy lifting.
put authenticity_token option in parity w/ remote
fix db:fixtures:load with FIXTURES specified [#6061 state:resolved]
fix minor typo
Allow page_cache_directory to be set as a Pathname
Find all validators for multiple attributes
Optionally pass in the attribute being validated to an instance method validator
Be able to pass a validator method to #validates
Provide a way to specify alternate option keys for validates
Do not require that validation attributes be specified as symbols
Add CSS fix for WebKit/Mac rendering issue.
Added tests for form_for and an authenticity_token option. Added docs for for_for and authenticity_token option. Added section to form helpers guide about forms for external resources and new authenticity_token option for form_tag and form_for helpers.
Update jQuery UJS
improve routing docs, mostly for #match
Updates to ActiveRecord::Timestamp documentation.
adjust query counts to be consistent across databases, make sure database log the same things
column cache now lives on the connection pool
almost fisted
making sure primary key is set on the columns
connection pool can cache column, table, and primary key information
Remove stupid mistake
git am is better here
Correct migration name the test is looking to match.
introduce a fake AR adapter for mocking database return values
fixed bug with nested resources within shallow scope
Change Time.zone= docs.
Improve regex in rake db:migrate status [#5940 state:resolved]
keep options titles consistent to "Options"
refactor a bunch of return / if to a case / when
add_limit_offset! is deprecated
just use the superclass implementation
allow AR caches to be cleared, clear them on class reloading
module_eval is not needed here
method_defined?, define_method and send accepts a string as argument
removing generation of id in submit helper
Revert "ARel only requires the connection from the AR class. Simply return the AR class rather than jump through hoops and store ivars"
The type_cast_calculated_value method will trust DB types before casting to a BigDecimal.
just < 1.9 is fine and 1.9.1 is not supported
fix OrderedHash#each* methods to return Enumerators when called without a block [#6366 state:resolved]
allow spaces and other characters in attribute names [#4725 state:resolved]
ARel only requires the connection from the AR class. Simply return the AR class rather than jump through hoops and store ivars
reduce cache misses on STI subclasses
this method should be private
Make serialized columns with explicit object_type return a new instance of the object instead of nil
Ruby 1.8.7+ provides to_date/to_datetime, AS just makes them public.
Preserve fractional seconds in DateTime#to_time
Add a test for 'render :layout'
Drop remaining script/plugin sources references
adding TOP to sub selects for mssql
fixing whitespace errors
Added test, thanks josephholsten
Make #with chainable
revises a metal example
copy-edits 2446b13
Protocol-relative URL support.
this method should never return nil
just require mysql2
using mysql2 from git
Delete blank lines in migration generator
adding mysql2 adapter
fix for test_read_attributes_before_type_cast_on_datetime - Oracle adapter also returns Time value
OrderedHash#each* methods return self like Hash does [#6364 state:resolved]
Provide documentation for ActionController::Metal
Refactor clear_timestamp_attributes to use the newly created all_timestamp_attributes_in_model
Implement and test private method all_timestamp_attributes_in_model
Test timestamp_attributes_for_update_in_model that was already in place
Added timestamp_attributes_for_create_in_model
Test private method all_timestamp_attributes
Test private method timestamp_attributes_for_update
Test private method timestamp_attributes_for_create
Configurable generation of add_index for references columns
make sure de-serialization happens on object instantiation
store the serialized column values in the @attributes hash
serialize can take an arbitrary code object
share column cache among subclasses, only look up columns per AR::Base subclass once
move the coders to the serialized_attributes hash
avoid column lookup on subclasses, keep column info cached as table_name => column_list
adding a YAML Column coder for YAML serialization to db columns
moving AR::ConnectionAdapters::Column to its own file
column will use coder to typecase value when it is available
coders can be assigned to columns
namespace test so we can dry up constant lookup
dry up our case / when statements
add test to check class is being escaped in form_class
Allow customization of form class for button_to
Update to jQuery 1.5
scope is always a Relation
Ensure I18n setup is only executed once if triggered on eager loading [#6353 state:resolved]
Additionally trigger i18n configuration setup before any eager loading [#6353 state:resolved]
auto_link: avoid recognizing full width chars as a part of URI scheme
Accept 'postgres' as a PostgreSQL driver name in dbconsole for non-AR ORMs like DataMapper and Sequel
Accept String value for render_partial :as option
Propagate association extensions to scopes called on the association.
Make before_type_cast available for datetime fields
FIX not using _on_create or _on_update callbacks only _create and _update
updating Gemfile with more contemporary example
expand mulasgn for enhancing readability
"rails dbconsole t" must not load "production" but "test"
Use run_callbacks; the generated _run_<name>_callbacks method is not a public interface.
small edit on options extraction documentation
Run BulkAlterTableMigrationsTest only when the adapter supports them
Add :bulk => true option to change_table
Make use of helpers in AssociationReflection
Has many through - It is not necessary to manually merge in the conditions hash for the through record, because the creation is done directly on the through association, which will already handle setting the conditions.
@join_table_name is no longer used
Make AssociationCollection#include? a bit more readable
Don't use method_missing when we don't have to
AssociationCollection#clear can basically just use #delete_all, except it should return self.
AssociationCollection#to_ary should definitely dup the target! Also changed #replace which was previously incorrect, but the test passed due to the fact that to_a was not duping.
Just use primary_key here, AR::Relation will resolve the ambiguity before it is converted to SQL
Call sum on the scope directly, rather than relying on method_missing and calculate
Condense first_or_last a bit more
Get rid of separate reset_target! and reset_scopes_cache! methods
target is always an array
load_target will return the target. it also will not load if loaded? is true.
DRY up first/last and hence make last benefit from the bugfix in first
Use scoped.find directly rather than having a find_by_sql method
Use scoped.first and scoped.last instead of find(:first, ...) and find(:last, ...)
Try to make fetch_first_or_last_using_find? more readable
load_target returns the target
Rename AssociationProxy#loaded to loaded! as it mutates the association
Abstract load_target conditional logic
Remove unused methods conditions, sql_conditions and sanitize_sql
Don't pass around conditions as strings in ThroughAssociation
Indent methods under private/protected sections
Let's be less blasÃ© about method visibility on association proxies
We shouldn't be using scoped.scoping { ... } to build associated records, as this can affect validations/callbacks/etc inside the record itself [#6252 state:resolved]
explain different ways to use match()
organize and expand on options for routing methods
corrected the location of status code symbols
corrected a mistake in the documentation for assert_migration
Test non zero exit code and that a message still appears when generating inside an existing Rails directory.
Dir.chdir is not useful in this test, that was for another one I am planning to do.
Added test to ensure non zero exit codes when generating an application with a reserved name.
Exit with non-zero to signal failure.
Use exit(1) instead of exit(false)
Use Thor's self.exit_on_failure? to exit whenever accessing the generators from the CLI and a Thor::Error is raised.
Apply exit code 1 when commands don't succeed so that other libraries can properly detect the failure.
implemented support for math operations in numeric attributes
Correct docs for after_find and after_initialize
always return the identity function from type_cast_code
use an identity conversion to avoid conditional codes
add cross-references and documentation for scope
fix cross-references in HttpHelper methods
make the example code a bit more accurate
Nested attributes and in-memory changed values #first and #[] behaviour consistency fix
test_first_and_array_index_zero_methods_return_the_same_value_when_nested_attributes_are_set_to_update_existing_record added
make sure we play nicely when syck is activated
Psych correctly gets visitor for SafeBuffer from superclass
Remove unneeded yaml_as declaration
load psych by default if possible
Bump mail version up
missing parentheses
Refer to the correct action - it's the update action, in the special case where we want to render the edit view.
clarify what the "they" that are is and what the "are" in question is
Deleted extra "a" in method comment
render_to_string must ensure that response_body is nil
If I want to set respond_body to nil then it should be nil and not [nil]. If anything other than nil then wrap it in array
A patch so that http status codes are still included in logs even during an exception [#6333 state:resolved]
Revert "fix csrf_meta_tag"
Added MINUS for Oracle Aliased :minus to :except for the SelectManager
filter_parameter_logging => config.filter_parameters
fix csrf_meta_tag
no need for is_a? check
other should not be optional
Added support for INTERSECT and EXCEPT
load and prefer psych as the YAML parser when it is available
udpating manifest and gemspec
WTF, tabs?
WITH expr as array in visitor
With node takes an array, less code to determine alternative nodes
Don't need with_recursive
Add support for WITH and UNION
use spec compliant YAML
psych does not emit a space after the tag
use ! " " YAML string literal syntax rather than removing both quotes
prefering psych as the yaml parser if possible, fixing assertions for YAML 1.1 compatibility
fixing psych support in big decimal, fixing tests to support YAML 1.1
Add tld_length option when using domain :all in cookies
Support list of possible domains for cookies
Allow database specific locking clauses to be used
Revert "make TestCaseTest work for pre-1.9 rubies, too"
Revert "scrub instance variables from test cases on teardown"
Revert "rein in GC during tests by making them run (at most) once per second"
Solve SystemStackError when changing locale inside ActionMailer [#5329 state:resolved]
Added a testcase for bug [#5329]
Test for NamedFunction predication chaining
use name instead of title in example
Chain predications off of named functions
Make all references to engines lowercase in docs.
rein in GC during tests by making them run (at most) once per second
scrub instance variables from test cases on teardown
make TestCaseTest work for pre-1.9 rubies, too
we have a method for setting preloaded records, so use it
reduce objects, reduce loops and function calls while building the conditional
keys will always be strings in the id => record map
reduce method calls and loops when dealing with custom conditions
ony bother with record map keys when we need them
refactor elaborate group_by in to a normal group_by
removing usesless variable assignments
fixed a missing require that causes trouble when using AS in a non-rails env.
fixing bug where 1.8 hangs while running pg tests
Issue one Cache#read command instead of two in the case of a fragment cache hit
remove unnecessary module_eval
Class.__subclasses__ was removed from Rubinius.
Use the derived request_method from AD::Request rather than the raw REQUEST_METHOD from rack.
Removing unused method argument
Cleaning up style, concat inside method calls is ugly
Should use standard ruby signature for respond_to
remove useless conditional
ordering can change depending on ruby version, so parse the JSON and verify data structure equality
ActiveRecord#save(false) is now deprecated, now it is save(:validate => false)
minitest added @__io__, so we should ignore it too
fixing space errors
fixing wrong test
removing more unused variables
fixing unused variable warnings
Add CHANGELOG entry for the addition of create_association! methods on has_one and belongs_to
Removed support for accessing attributes on a has_and_belongs_to_many join table. This has been documented as deprecated behaviour since April 2006. Please use has_many :through instead. A deprecation warning will be added to the 3-0-stable branch for the 3.0.4 release.
Rename some variables
Use self.target= in HasOneThroughAssociation too
find_target can also go into SingularAssociation
Abstract a bit more into SingularAssociation
Use self.target= rather than @target= as the former automatically sets loaded
Abstract common code from BelongsToAssociation and HasOneAssociation into SingularAssociation
belongs_to records should be initialized within the association scope
Document the new create_association! method on one-to-one associations
Add create_association! for belongs_to
change sqlite3-ruby => sqlite3 in the generators
updating gem dependency for sqlite3
minor edits
updates AR's CHANGELOG with changes in 9e64dfa and ad343d7
Document the LANGUAGE option for generating guides
Documented the except and only conditions in the guides. Took the cue from Jordi Ramero's commit (b31ef7ee83f3fe808f7534172ce2bf22ef6c7cc0)
Properly indent code example block
README.rdoc is a template
Complex struct encoding fix
Complex struct encoding test
plugin new generator should generate config/routes.rb file for full engines
push !loaded? conditional up
return early in case the left or right side lists are empty
only find_target can raise the exception, so isolate the rescue around that call
we always have a target, so stop checking
we should use [] instead of Array.new
@target is always a list, so stop doing is_a? checks
move complex logic to it's own method
document ActiveRecord's except and only
Remove reference to ActiveRecord from ActiveModel comments
loaded? will not raise an AR::RecordNotFound exception, so move the rescue inside the conditional
reduce funcalls by using falsey objects
write the delegate method directly to avoid `delegate` callstack overhead
reduce some lasigns
use rake to create test databases for us
transactional fixtures must be set to false for this test
Arel::Table.engine will be deprecated, so stop using it
preheat the table cache in arel
Add missing require
use rack-test from git
use new AR api
Minor fix to gitignore syntax
ends_width => ends_with
Copy-edit and format Rails::Engine docs.
sorry, the CI cannot lie to us anymore (Part II)
editing comments regarding rescuable optoin in AS callbacks
include_in_memory? should check against @target list in case of new records. [#6257 state:resolved]
fixing whitespace errors
button_tag should escape it content
Allow generators nested in more than one level
turn off deprecation silencing
use array maths rather than *args
just use return value of load_target
just call methods on return value of `load_target`
default return value is nil
@loaded is defined in initialize, so we should not need this
just use respond_to? and super rather than aliasing around methods
fixes a comment in the generated app Gemfile
defines a :doc group in the project's Rakefile, just for the sake of clarity
adds a sample gem call for RedCloth in the generated app Gemfile
upgrades RedCloth dependency to ~> 4.2, adds RedCloth to the project's Rakefile, removes gem call from the guides generator (use bundle exec if needed)
upgrades to RDoc ~> 3.4 and removes the gem call in root Rakefile (use bundle exec if needed)
remove locales external to the system before assertion
use raise to create exceptions and to set the backtrace
reraising should be in the rescue block
Reuse the view_context from the controller, this make the test environment more similar to the code applications uses
sorry, the CI cannot lie to us anymore
In AS, only inflector/methods is need in proxy_wrappers.rb, as well as date, date_time, and time conversions.rb. This fixes an issue when requiring json and AS saying that i18n is also required.
CI should run isolated tests
Allow view in AV::TestCase to access it's controller helpers methods
adding a test for no method error
use underlying _read_attribute method rather than causing NoMethodErrors
kill unused variable warnings
lazily instantiate AR objects in order to avoid NoMethodErrors
test_with_polymorphic_and_condition works without the conditions methods in BelongsToPolymorphicAssociation because the conditions are added straight to the association_scope as of a few days ago
Support for create_association! for has_one associations
Refactor the code for singular association constructors. This will allow me to define a create_association! method in a minute.
It's not necessary to pass the association proxy class around now
Get rid of set_association_target and association_loaded? as the parts of the code that need that can now just use association_proxy(:name).loaded?/target=
We can use the association_proxy method directly in HasOneThroughAssociation now
DRY up the code which instantiates the association proxy
find_target can be inherited
Document the recent changes to association assignment
Raise ActiveRecord::RecordNotSaved if an AssociationCollection fails to be replaced
When assigning a has_one, if anything fails, the assignment should be rolled back entirely
In a number of places in the tests, we only need to turn off transactional fixtures when the DB does not support savepoints. This speeds the test run up by about 8-9% on my computer, when running rake test_sqlite3_mem :)
SQLite3 has supported savepoints since version 3.6.8, we should use this!
When assigning a has_one, if the new record fails to save, raise an error
When assigning a has_one, if the existing record fails to be removed from the association, raise an error
Have a separate test connection directory for sqlite3 in-memory so that the tests can be run without having to specifically rename the connection file (which then causes git to pick up the changes)
Enable the sqlite3 in-memory test connection to work
has_one should always remove the old record (properly), even if not saving the new record, so we don't get the database into a pickle
Return value is irrelevant here as the RHS of the assignment is always returned by methods ending in '='
Remove incorrect documentation about build_assoc on has_one. This is proven, for example, by test_successful_build_association in has_one_associations_test.rb
For a singular association, it should be build_association, rather than association.build (as association may be nil)
Correctly indent the bullet points under 'One-to-one associations', so that the lines are not broken in the generated rdoc html
avoid splatting arrays by using concat
html_safe.to_str makes no sense
only use one array when collecting split up queries
adding to_d to BigDecimal
Always return decimal average of integer fields
use SQLite3::VERSION rather than the deprecated class
Refactor to handle the X-Cascade without having to raise an exception
Aligning master changelog w/ 3-0-stable
authenticity_token option for form_tag [#2988 state:resolved]
Improve select helpers by allowing a selected value of false.  This is useful when using a select helper with a boolean attribute, and the attribute is false. (e.g. f.select :allow_comments)
Adding postgresql template option when executing db:test:clone_structure
HTML5 button_tag helper
Bump up bcrypt-ruby dependency to 2.1.4
Initialize these options as false if they are not given
Expand and clarify AS::Callbacks docs.
Remove InstanceTagMethods module and define the methods inside the InstanceTag class
remove unused string substitution
use select_all because not all database adapters support bind values
fixed query output
fix template url
join the cult of cargo. reduce the number of NoMethodErrors in the system
stop creating intermediate AR objects, just construct AR objects from a list of hashes
no need for to_sym
String#insert() mutates the string, so no need for lasgn
fewer funcalls to the cached attributes variable
Add test for e0e3adf
Refactor HasOneAssociation#replace
Don't not remove double negatives
Clean up create, create! and build in HasOneAssociation
merge_with_conditions is not necessary because the conditions will already be in the scope_for_create hash in the scope
Not really worth having the HasAssociation module for just a single method
Construct an actual ActiveRecord::Relation object for the association scope, rather than a hash which is passed to apply_finder_options. This allows more flexibility in how the scope is created, for example because scope.where(a, b) and scope.where(a).where(b) mean different things.
Use encode_with for marshalling
send() will raise an ArgumentError, so we should leverage ruby
no need for parens
use a hash for caching aggregations rather than ivars
method is never called with arguments
only rescue from Mysql::Error exceptions [#6236 state:resolved]
just use a hash for doing association caching
no need for self
corrected docs for Hash#to_xml and added examples.
added tests for XmlMini#to_tag.
config guide: add basic description for disable_dependency_loading initializer
Re-add "Using initializer files" section to configuring guide
adding an `encode_with` method for Psych dump/load methods
Regenerating arel.gemspec so the gemspec file is valid for gem build
make sure new objects can round trip
make sure that Psych can roundtrip an AR object
fixes rubycentral url and a minor AR change
AR internals expect a normal hash, otherwise there are serialization incompatibilities
only define log_level reader once, make sure to initialize @log_level
no need to specify self
no need to send a symbol to send()
avoid creating so many Arel::Table objects
use attr_reader and alias methods to access instance variables
we have a method for this, so let's use it
use arel ast construction rather than generating strings
use arel to construct AST rather than generate strings
fix difference between behaviour of blank and empty
Added Arel::Nodes::NamedFunction for representing generic SQL functions
visiting via superclass is OK, since module definitions help delegate
make our yaml output consistent
add Psych::SyntaxError to the list of rescued YAML exceptions
fixing merge errors
test that the custom ordered hash can be round-tripped
require Psych if possible, use Psych output when enabled
use dots for method calls
Bump rack-test version
Add test cases for model and migration generators which use `change` method.
Use Rails 3.1 `change` method in 'add_' migration generator
Use Rails 3.1 `change` method in model generator
Explicitly select * from has_and_belongs_to_many association tables, simplify exists? query
require ActiveSupport deprecatation file before using deprecate method in database_statements
Remove undocumented feature from has_one where you could pass false as the second parameter to build_assoc or create_assoc, and the existing associated object would be untouched (the foreign key would not be nullified, and it would not be deleted). If you want behaviour similar to this you can do the following things:
ActiveRecord::Relation#primary_key should return a string, just like ActiveRecord::Base.primary_key does.
Implement deprecated version of AssociationReflection#primary_key_name, which has been renamed to #foreign_key. Also bumping the deprecation_horizon in Active Support to 3.1.
When preloading a belongs_to, the target should still be set (to nil) if there is no foreign key present. And the loaded flag should be set on the association proxy. This then allows us to remove the foreign_key_present? check from BelongsToAssociation#find_target. Also added a test for the same thing on polymorphic associations.
Create the association scope directly rather than going through with_scope
Make Relation#create_with always merge rather than overwrite, not just when merging two relations. If you wish to overwrite, you can do relation.create_with(nil), or for a specific attribute, relation.create_with(:attr => nil).
Use the association directly in other places too
Let AssociationCollection#find use #scoped to do its finding. Note that I am removing test_polymorphic_has_many_going_through_join_model_with_disabled_include, since this specifies different behaviour for an association than for a regular scope. It seems reasonable to expect scopes and association proxies to behave in roughly the same way rather than having subtle differences.
Rename AssociationProxy#foreign_key_present to foreign_key_present?
Allow assignment on has_one :through where the owner is a new record [#5137 state:resolved]
Have a proper AssociationReflection#foreign_type method rather than using options[:foreign_type]
Add documentation for the :foreign_type option on belongs_to
Some basic tests for the :foreign_type option on belongs_to, which was previously completely untested.
adding better tests surrounding limits in adapter visitors
herp derpricating add_limit_offset!
making sure limit is correctly copied to update manager
should return nil instead of empty string
Allow HAVING to take multiple conditions, like WHERE
we do not need to modify the AST
fixing tests for oracle visitor
fisting lots of oracle errors
fisting lots of oracle errors
top and limit can be visited
fisting mergefail
limit and top files are not needed
updating history
Patched Arel v2.0.6 to support MSSQL SQL queries. Based on work of James Abley (https://github.com/jabley/arel).
Added one more failing test for bug #6036
[FIX] Renamed ENV['LANG'] for generating translated guides to ENV['LANGUAGE'] so there's no mixup with OS env vars
Revert "Update CHANGELOGs to include 3.0.3 changes"
fix typos
Update CHANGELOGs to include 3.0.3 changes
Make sure that generator's default banner is showing its namespace
Added support for generating translated guides (stored in `source/<LANG>`) via setting the LANG environment variable
render :template is faster than render :file
This is not needed anymore
Rename AssociationReflection#primary_key_name to foreign_key, since the options key which it relates to is :foreign_key
Support for :counter_cache on polymorphic belongs_to
Refactor BelongsToAssociation to allow BelongsToPolymorphicAssociation to inherit from it
Specify the STI type condition using SQL IN rather than a whole load of ORs. Required a fix to ActiveRecord::Relation#merge for properly merging create_with_value. This also fixes a situation where the type condition was appearing twice in the resultant SQL query.
Verify that when has_many associated objects are destroyed via :dependent => :destroy, when the parent is destroyed, the callbacks are run
Get rid of extra_conditions param from configure_dependency_for_has_many. I can't see a particularly plausible argument for this being used by plugins, and if they really want they can just redefine the callback or whatever. Note also that before my recent commit the extra_conditions param was completely ignored for :dependent => :destroy.
And owner_quoted_id can go too
Now we can drop-kick AssociationReflection#dependent_conditions into oblivion.
Refactor configure_dependency_for_has_many to use AssociationCollection#delete_all. It was necessary to change test_before_destroy in lifecycle_test.rb so that it checks topic.replies.size *before* doing the destroy, as afterwards it will now (correctly) be 0.
Recreate symlink in layouts for tests
Do not take gems' i18n locales while testing locales paths
Don't be so picky on MissingTemplate error details, this fails randomly on 1.8.7 because of not ordered hash
added tests for the MissingTemplate exception message.
Routing guide: clarify what the :as option does for scopes
Routing guide: move scope documentation down to where it is referenced more plainly
Routing guide: improve documentation for the scope method, demonstrating use of named parameters
ActionController::Base.helpers.sanitize ignores case in protocol
Make sure Model#touch doesn't try to update non existing columns
contrib_guide.gsub!("aptitude", "apt-get")
process_action accepts multiple args, even with Callbacks.
Instance methods shouldnt be added until you actually call has_secure_password
Make serialized fixtures work again
Remove link to outdated Github tag comparison in ActionPack changelog.
renames the contrib guide in the index
since a lot of people use Ubuntu, document specific aptitude calls for some C dependencies in the contrib guide
Do not use primary key on insertion when it's nil
Routing guide: mention that routes are matched from the top down in a note.
while defining callbacks option :rescuable => true can be passed. There were no tests for this case.
fixed incorrect spacing from 98368546719cf09b3bc2
fixed examples & minor typos
complete revision of the Contributing to Ruby on Rails guide
Simplify inspect implementation
Added information about invoking migrations in non-default environments to NOTE box in the "Getting Started" guide
Adding information and link to guide on customizing generators into "Getting Started" guide.
Allow primary_key to be an attribute when the model is a new record
Added TIP box with information about the `--database` switch for the application generator in the "Getting Started" guide
There's a couple -> There are a couple
Init guide: begin down the rabbit warren that is active_record/railtie
Init: finish coverage of railties/lib/rails.rb
init guide: Cover the action_dispatch/railtie require from rails.rb
Remove old initialization guide text. Too much has changed for all of this to be useful.
init guide: cover active_support/railtie.rb
Init guide: Segue between rails/version and active_support/railtie requires
Cover the inherited method from Rails::Railtie being used when I18n::Railtie is loaded.
Init guide: finish covering the process of the i18n_railtie.rb file.
init guide: active_support/railtie does not require itself, actually requires i18n_railtie
Init guide: finish covering initializers for i18n_railtie, moving on to covering after_initialize
init guide: active_support/inflector/methods is loaded by active_support/autoload first.
I N C E P T I O N: flatten_deeper works around a bug in Ruby 1.8.2.
Clean up PathSet.
Init guide: cover Railtie::Configuration and begin to cover the Initializer class and friends.
No need to symbolize these.
Final tidy up on templates inheritance.
Speed up template inheritance and remove template inheritance option
A bunch of cleanup on the inherited template patch
all tests pass
 #948 make template inheritance optional
#948 template_inheritance
try not to make so many funcalls
make our hash of klasses and ids actually have classes for keys
Init guide: Cover the config variable set up which is referenced in i18n_railtie
stop calling deprecated apis
adding deprecation warning for where_clauses
Refactor we_can_set_the_inverse_on_this? to use a less bizarre name amongst other things
small rewording of my entry in the credits
no docs credits are written in first person, thanks to Vijay Dev for spotting this
Add a HasAssociation module for common code for has_* associations
Remove AssociationProxy#dependent? - it's badly named and only used in one place
Associations: DRY up the code which is generating conditions, and make it all use arel rather than SQL strings
Remove custom_select param from construct_select, as it isn't used
Remove construct_from from ThroughAssociationScope - it's not called from anywhere
Set the create scope to an empty hash in ThroughAssociationScope. For reasoning please see the inline code comments.
Use conditionals and implicit returns rather than explicit returns and postfix ifs (it's easier to read)
Remove has_cached_counter? and cached_counter_attribute_name from HasManyThroughAssociation, as the exact same methods are inherited from HasManyAssociation
Remove pointless use of 'private'
Use the through association proxy for operations on the through record, so that those operations are automatically scoped and therefore construct_join_attributes does not need to use construct_owner_attributes.
Remove target_obsolete? which is not called from anywhere
scoped.where_values_hash is never nil
fix spacing
changed template gist to reflect Rails 3 and documented the add_source method to source gems from different locations
use new routes in templates
Update JQuery UJS
Update Prototype UJS
use https to fetch files from GitHub
refactor to use group_by
arel will deal with casting the ids, so we can delete this
use arel to determine selection column
refactoring method selection
using arel to compile sql statements
use sql literal factory method
take more advantage of arel sql compiler
refactoring AST building
use arel to compile SQL statements
testing binary ops in the dot visitor
fix formatting
use all and first instead of find(:all) and find(:first)
use new routes
highlighted find(array of keys) behaviour when one or more record is not found
minor edit
stop redifining methods on every call to set_primary_key
use the sql literal factory method
stop the recursive insanity
setting the primary key on the update manager
requiring that the primary key be set on the UpdateManager so that databases which do not support UPDATE with LIMIT will work
fixed comment - same as 592f600
removed dup link to 'getting started'
.erb => .html.erb
fixed comment in w3c_validator
for ... in => each ... do
clean up plugin references
fixed typos and cut down the spaces
minor edits
Bump up rack-cache
correct links to rack articles
Revert "Query guide: arel_table, eq and eq_any" along with other commits that added documentation involving the arel_table method
Verify that there is no unwanted implicit readonly set on Model.has_many_through.find(id) [#5442 state:resolved]
Raise an error for associations which try to go :through a polymorphic association [#6212 state:resolved]
If a has_many goes :through a belongs_to, and the foreign key of the belongs_to changes, then the has_many should be considered stale.
Improved strategy for updating a belongs_to association when the foreign key changes. Rather than resetting each affected association when the foreign key changes, we should lazily check for 'staleness' (where fk does not match target id) when the association is accessed.
Test to verify that #2189 (count with has_many :through and a named_scope) is fixed
Revert "Optimize <association>_ids for hm:t with belongs_to source". The optimisation has too many edge cases, such as when the reflection, source reflection, or through reflection has conditions, orders, etc. [#6153 state:resolved]
Test demonstrating problem with foo.association_ids where it's a has_many :through with :conditions, with a belongs_to as the source reflection
When a has_many association is not :uniq, appending the same record multiple times should append it to the @target multiple times [#5964 state:resolved]
Verify that has_one :through preload respects the :conditions [#2976 state:resolved]
Don't allow a has_one association to go :through a collection association [#2976 state:resolved]
Query guide: visists => visits
minor convention edit
fixing typo that crept in 2c8938f
It's JavaScript :)
fixed inject example and some minor edits
Don't deprecate to_prepare.
Clean up callbacks should also be called on exceptions.
indentation fix
avoid duping and new objects
fixed retrieval of primary key value in Ralation#insert method
Edits to caching/fragments.
More minor edits.
Revised documentation for cache_helper.
Query guide: add or conditions
Query guide: cover further ARel methods
Query guide: Document "in" methods
Query guide: arel_table, eq and eq_any
Query guide: specify what type of objects scopes return
Query guide: Ordering, selecting and so on shouldn't be nested in conditions as they are modifiers, not conditions in the prime sense of the word.
Query Guide: update Changelog
Query guide: class methods are still available on associations
Query guide: scopes with arguments should be instead defined as class methods.
Query guide: fix indentation
Remove comma [samuelkadoph]
Query guide: lambdas must be used when working with scopes
Init guide: further revision, covering rails/plugin.rb and friends
Querying guide: Add mention of the scope method
arel can escape the id, so avoid using the database connection
Arel::Table#[] always returns an attribute, so no need for ||
probably should use the some_ids variable here.  o_O
removing SQL interpolation, please use scoping and attribute conditionals as a replacement
use arel to compile SQL rather than build strings
to_sym stuff before passing it to arel
build an AST rather than build SQL strings
sql literals may be used as column attributes
Allow registering javascript/stylesheet_expansions to existing symbols
API guidelines: RDoc markup documentation has been moved in RDoc 3
removes binary? hack for RDoc, API requires RDoc 3 and horo 1.0.3
fix typo
remove duplication of links
Do not use the same hash instance for expansions [#6114 state:resolved]
Ensure that uncountable are removed after test
Added a word boundary to uncountable inflection regex for #singularize so short inflections like ors do not affect larger words like sponsors [#6093 state:resolved]
No example given on how to render JSON data despite the heading 'Rendering XML and JSON data'; added relevant code.
Typo (request -> response)
Expand ActionDispatch::Reloader docs
Avoid Bundler Resolver bug until they solve the issue
expand on set_callback method to explain that in some cases an implicit :before is assumed
fixing typo, thanks @devwout
returning id (for some yet to be discovered reason)
define_attr_method must serialize nil correctly
if there is no base name, we cannot determine a primary key
Config guide: Complete sentence about the Rack::SendFile middleware.
remove some lasigns
Further re-working of the initialization guide
Improve documentation on ActiveSupport::Deprecation.
config guide: mention ActiveSupport::Deprecation configuration options.
make our caching per connection pool, not per connection
fix join dot visitors
no use for set, no need to to_ary, reduce extra objects
use array arithmetic rather than create sets
Avoid Symbol#to_proc for performance reasons in Ruby 1.8
has_many associations with :dependent => :delete_all should update the counter cache when deleting records
Refactor delete_records in HasManyAssociation
Remove unnecessary overloaded methods create, create! and create_record from HasAndBelongsToManyAssociation
Refactor create_record and build_record in AssociationCollection
Delete create, create! and create_record from HasManyThroughAssociation in exchange for more generic versions in AssociationCollection
Specify insert_record with NotImplementedError in AssociationCollection, to indicate that subclasses should implement it. Also add save_record to reduce duplication.
Should save without validation if autosave is enabled.
Small changes on AD::Reloader.
Use AD::Reloader.to_cleanup for reloading [#2873 state:resolved]
Replace AD::Callbacks.to_prepare with AD::Reloader.to_prepare
Introduce ActionDispatch::Reloader
More love for engines tests
Use assert_body
Remove require AS::Concern from places where is already in
indentation fixes
Tests and docs which explain the use of validate with a block and without arguments
minor fixesin READMEs
fix typos
minor example fix for Rails 3
Remove weak_passwords list and the length/strong password validator, leave that up to the programmer
Temporary fix for railties test for newest rack changes
Use Concern in Rails::Railtie::Configurable
Add missing require
minor corrections
Refactoring of application's task in engine.rake
Do not load all application's task in generated engine
Use class_attribute to ensure weak_passwords are inheritable.
deleting trailing whitespaces
Add set_weak_passwords call in alignment with set_table_name.
Added ability to specify which passwords you want as weak passwords
'unsecure' => 'insecure'
Make password messages translatable.
Add missing require and remove extra module.
Avoid warnings and fix small typo on SecurePassword.
Correct deprecated AR usage in ActionController::MimeResponds documentation
BCrypt does its own salting, lovely!
Switch from SHA2 to BCrypt (easy Windows compatibility is coming shortly with new compiled gem)
Added ActiveRecord::Base#has_secure_password (via ActiveModel::SecurePassword) to encapsulate dead-simple password usage with SHA2 encryption and salting
Use gemspec instead of gem rails in Gemfile
changes in examples - reflect new mailer api and mysql2 adapter
dry up case / when statement
Use require 'bundler/setup' instead of directly calling Bundler.setup in config/boot.rb
Allow to use BUNDLE_GEMFILE env variable in boot.rb [#6184 state:resolved]
Config guide: middlewares can also be removed from the stack
init guide: Cover beginnings of rails/application.rb
init guide: Cover ruby version checker and kernel reporting and logger coreext
'nil' => nil
Generate add_index by default when giving type belongs_to or references
Changelog and guide entries for config.action_view.cache_template_loading
ActiveRecord::Base.joins should allow single nil argument [#6181 state:resolved]
Bring back config.action_view.cache_template_loading [#5847 state:resolved]
dragdrop was tested twice and effects.js was missing, added checks for controls.js, dragdrop.js and effects.js to another test
dry up compute type in attribute
Replace rudimentary named_scope with scope. [#6052 state:resolved]
Provide test for #4840: to_xml doesn't work in such case: Event.select('title as t').to_xml
to_xml doesn't work in such case: Event.select('title as t').to_xml [#4840 state:resolved]
removed info about deprecated rake tasks, documented the sandbox option for the rails console and minor corrections
removed info about deprecated rake tasks, documented the sandbox option for the rails console and minor corrections
test for eager load of has_one association with condition on the through table
make sure that join nodes are uniq
Verify that creating a has_many through record where there is a default_scope on the join model works correctly (creates the join record with the default scope applied)
Respect the default_scope on a join model when reading a through association
AppGenerator: use options instead of @options
Kill whitespace!
Generate default layout in engine with --mountable option
Generate javascripts in engine with --mountable option
Set proper engine's asset directories when assets are served from engine.
Should be isolated engine instead of namespaced engine
add test which fails for has_many through self join [#4361 state:open]
class names are already strings, so we do not need to call to_s on the strings that are already strings
build SQL AST nodes rather than generate strings
construct_joins no longer needs an argument
supporting arel AST nodes when building join statements
just copy the joins to the list
bucketing based on join type
taking advantage of the JoinSource node in the SQL AST
fixing whitespace errors
stop delegating inserts to ARel, use the INSERT SQL ourselves
persisted? should be able to return a truthy object
Only call save on belongs_to associations if the record has changed or any nested associations have changed (resolves #3353)
This is not an executable file
Add support for namespaced validators
Skip creating migration if --skip option is passed to model generator [#6144 state:resolved]
Allow to generate namespaced generators [#6140 state:resolved]
Tables style unification
Add named helper to photo controller example
Add underline to header
Add named helper output to translated paths example
just use the regexp directly
combine regexp
reduce method calls
move ivar to initialize, use triple dot rather than minus
explicitly set prefix
remove lasgn since AST is mutated
just mutate the ast, fewer lasgns
fixed typos
minor formatting fixes
test for eager load of has_one association with condition on the through table
make sure that join nodes are uniq
Verify that creating a has_many through record where there is a default_scope on the join model works correctly (creates the join record with the default scope applied)
Respect the default_scope on a join model when reading a through association
fixed link to ruby-prof
fixed font
filter_parameter_logging is deprecated in Rails 3. Changed it to config.filter_parameters
AppGenerator: use options instead of @options
Kill whitespace!
Generate default layout in engine with --mountable option
Generate javascripts in engine with --mountable option
eternal confusion! fixed doco to inform correctly
Set proper engine's asset directories when assets are served from engine.
Should be isolated engine instead of namespaced engine
Active Support coreext guide: Logger core extension documentation
WIP: Reviewing the initialization guide for Rails 3.1
removing commented out code
cleaning up more nodes
cleaning up more nodes
cleaning up more nodes
It should be ActiveModel::Validator, not ActiveRecord::Validator.
removing more nodes!
remove some nodes
adding factory methods to node base class
add test which fails for has_many through self join [#4361 state:open]
class names are already strings, so we do not need to call to_s on the strings that are already strings
build SQL AST nodes rather than generate strings
construct_joins no longer needs an argument
supporting arel AST nodes when building join statements
adding join_sources so we can access the join sources of the select core
just copy the joins to the list
bucketing based on join type
taking advantage of the JoinSource node in the SQL AST
string join should be a unary op
select core should visit the source node
removing test code.  :-(
fixing create_string_join factory method
adding a join source node
removing tests of deprecated methods
fixing whitespace errors
adding tests for factory methods
fixing deprecation notice
deprecating Arel::Table#primary_key
stop delegating inserts to ARel, use the INSERT SQL ourselves
deprecating SelectManager#insert
persisted? should be able to return a truthy object
Only call save on belongs_to associations if the record has changed or any nested associations have changed (resolves #3353)
Added :placeholder option to ActionView::Helpers::FormTagHelper text_field_tag
for the root route to work, we need to delete the public/index.html.erb file as well
Remove nodoc from FormBuilder because the methods inside are public API methods
fixed typos in mailer
This is not an executable file
Add support for namespaced validators
fixed typos and rephrased a few sentences; also removed reference to status codes being located in action_controller/status_codes.rb
Updated generator guide for rails commit 7891de893951c780a1732747d430c33e998dd573
Skip creating migration if --skip option is passed to model generator [#6144 state:resolved]
Allow to generate namespaced generators [#6140 state:resolved]
Provide an example for ActionDispatch::Routing::Mapper#scope
Tables style unification
Add named helper to photo controller example
Add underline to header
Add named helper output to translated paths example
just use the regexp directly
combine regexp
reduce method calls
move ivar to initialize, use triple dot rather than minus
explicitly set prefix
remove lasgn since AST is mutated
just mutate the ast, fewer lasgns
reviews commit 53bbbcc
spaces with underscores, I mean
testing guide: revises explanation of the test macro
factory method for creating ON nodes
use table alias nodes rather than Table nodes
use alias nodes to represent table aliases
avoid *args on join_target_table
only quote the table name once per call
no more manager manipulation if there is no custom join ast
froms should never equal 0
manager will always be a manager
eliminate lasgns
dealing with an AST manager, not a relation, so fix the variable names
fixed typos and rephrased few sentences in routing
testing nary nodes in the depth first visitor
require core_ext/array/wrap in active_record/migration
Action Controller Overview: Remove dead link to the API docs for filters
move join creation a little closer to where it is used
refactor SelectManager to use the create_join factory method
adding a factory method for and nodes
root method options are the same as the match method
use inject rather than lasgn
preheating cache so that tests can run in isolation
updating changelog
stop using deprecated AND usage
AND nodes are now n-ary
reuse the superclass methods for shorter codes
just use core methods
Ensure asset_path defaults to nil for application
fixing documentation, thanks Ivan Evtuhovich
removing useless lasgn
Simplifies observer implementation [#6065 state:resolved]
caches should be connection specific
Use Array.wrap instead of using ternary
Ensure that while caching a page rails takes into account the resolved mime type for the request
Refactor db:load:config to automatically pick additional migrations if ENGINE_PATH is available
Ensure resolvers backward compatibility.
Clean up asset_host and asset_path.
Properly check the arity for template handlers.
Check if the routes object really responds to define_mount_prefix.
root route should go at the *top* of the routes file, because it is the most popular route and should be matched first
indent code samples for mount doc
mapper.rb: add "options" to make the default-to-namespace-name line read better
Move ActiveModel::Lint::Tests documentation to be above module declaration so it appears in the API docs for this module.
Take into account current time zone when serializing datetime values [#6096 state:resolved]
Config guide: Use bold titles for initializers instead of headings.
Add note which links to documentation regarding the types of columns available.
Config guide: Space out initialization events to improve readability
Config guide: add further initializers
Config guide: add session store config option
Config guide: eager_load_paths by default contains every directory in the app directory
use sort_by
Use Rails::Engine.find in commands.rb
Rails::Engine.find(path) - method to find engine by path
Rake tasks for managing database while development and testing of engines
Do not require fixtures in example integration test in engine if active record is skipeed
Ensure that boolean false is properly serialized [#6079 state:resolved]
updating CHANGELOG
removing method to prevent warnings
Setting the id of a belongs_to object updates all referenced objects [#2989 state:resolved]
properly load database config in database rake tasks, to properly set migrations_paths
Allow to run migrations from more than one directory in rake tasks
Allow to run migrations from more than one directory
just allocate the table in initialize
makes a pass to the action caching rdoc
fewer method calls, fewer code branches
only call active_record once
dry up calls to table_aliases
remove code that could never be executed
have table_aliases call count_aliases to set the default value
arel ignores the columns parameter
adding a fixme comment
renaming variables, making the join_ast method private
further reducing dependence on custom_joins
reducing use of custom joins
passing the ast to a table when the relation is a table
JoinDependency is always created with an AST now
passing the ast to JoinDependency
arel is lazy about column information, so no need to pass it around
reduce string objects, reduce method calls
just return a blank string if the base from is not a join
get from values out of the select manager
renaming froms to from
creating string join nodes
Replace nested ifs with case/when
Ommit nil in method call
save the AR reference rather than delegating
converting froms to from
cleaning up custom_join_sql method
adding a join factory method on the select manager
consolidating dot visitor methods
refactoring where, fixing subselect
implementation for passing a subquery to #in and #not_in
tests for passing a subquery to #in and #not_in
limit members of the AST are visited
quoting limit nodes
refactoring where, fixing subselect
implementation for passing a subquery to #in and #not_in
tests for passing a subquery to #in and #not_in
limit members of the AST are visited
quoting limit nodes
consolidating dot visitor methods
Add to documentation that action caching does handle HTTP_ACCEPT attribute properly and might provide wrong result. Use params[:format] to avoid this issue.
Make "not" apply to the whole sub-expression when generating sql.
Make "not" apply to the whole sub-expression when generating sql.
adding a test for the dot visitor
fixed typo in test method name
Test using default option as symbol added for human_attribute_name
default could be a symbol here so attribute.to_s.humanize should be the final option
We can use the keys of the @attributes hash here and avoid a method call
use map instead of each
If default is provided don't add attribute.to_s.humanize to the options
Test falling back to default added for human_attribute_name
Test using default option added for human_attribute_name
Allow back passing :rescue_format => nil and test added
Use ||= here
attributes_before_type_cast are just the value of @attributes
Make TranslationHelper#translate use the :rescue_format option in I18n 0.5.0
bump i18n gem
Config guide: continuing work on documenting the initializers
not a responsibility for rails to test
only break backwards compatibility in major releases
adding deprecated methods to History
declawing connection from the Table class
use the columns hash for primary key lookup
attributes do not need a column member
typo
removing unused setup
in the middle of refactoring
starting the column cache
Wrap everything in class << self.
Config guide: begin documenting the initializers
Config guide: Add javascript_expansions and stylesheet_expansions
Config guide: should use config.action_dispatch.tld_length to set the TLD
Config guide: Add cache_asset_ids
Config guide: add tld_length to ActionDispatch section
Remove extra f
Config guide: Mention ActionDispatch::Callbacks methods: before, to_prepare and after
Config guide: clarify what cache_store defaults to.
Clarify that preload_frameworks defaults to nil
renaming variable
remove calls to deprecated methods
avoid deprecate api
deprecating the "delete" method in favor of compile_delete
removing more calls to deprecated methods
removing more calls to deprecated methods
removing calls to deprecated methods
refactor `self.class` to a variable
deprecating the update method in favor of compile_update
:method: is not needed when RDoc can detect it
Base#[] and Base#[]= are aliases so implement them as aliases :)
Doesn't need to sort, lets users of attribute_names sort them if they want
avoiding deprecated methods in arel
removing some calls to insert on arel
deprecating "insert"
Don't compute this string again
made in_clause_length default nil (no limit)
fixing space errors
adding a test for YAML round trip
Work around a strange piece of Syck behaviour where it checks Model#respond_to? before initializing the object.
Config guide: Add config.active_support.bare
Config guide: separate the initialization events and initializer method documentation
Move Rails Environment settings to above the initialization events in the config guide
Configuring guide: Adding mention of the initializer method.
Config guide: Rails has *5* initialization events
Add mention of config.to_prepare in configuring guide
Association guide: change wording to say that build is for initialization, create is for creating
Associations guide: Add note that you must use the build_ prefix to build associations of the belongs_to and has_one type
no need for self
rolling out migrated_at until I can fix the build
removing duplicate test
should not to_s the possibly nil value
make sure we have a value in migrated_at
not all databases return dates as strings
updating CHANGELOG
fixing tests and warnings
Add missing colons on the end of before_initialize and after_initialize documentation in configuring guide
tests mostly pass
clear schema_migrations in Schema.define
name in schema_migrations, migrations in schema dump
record migration timestamp when migrations run
Add migrated_at column to schema_migrations table.
bumping generated gemspec
moving master to 2.0.7.beta until rails dependencies are cleared up
bumping gemspec
adding enumerable, making beta gem
we actually want enumerable in Node
bumping version
make sure we raise type errors with unknown classes
rails 3.0.x will not let us have nice things
ActiveModel::Errors.to_hash returns plain OrderedHash and used in to_json serialization to properly handle multiple errors per attribute [#5615 state:resolved]
Deprecate handler_class_for_extension as template handlers can be any Ruby object, not necessarily a class.
Finish documenting generator / template methods for the generators guide
Add gem method documentation to the generators guide
For templates' gem method, :env is deprecated, use :group instead
Covering generator methods provided by Rails in the generators guide
Begin covering application templates in the generators guide
Mention that the documentation of create_file can be found on rdoc.info ino the generators guide
just use alias
fix warnings, stop using global variables
JoinBase initialize can be deleted
stop using splat args when we do not need them
just grep the AST for OuterJoin nodes rather than converting the tree to SQL
deprecating the "joins" method
reduce method calls on arel
just call join_sql against the manager object
isolating eager_loading? method
we already know it is already an array, so we do not need to make really really sure it is an array
shorten up scope_for_create
making sure scope_for_create value is cached
surrounding scope_for_create behavior
scope_for_create always returns something
Ruby 1.8, how does it work?
removing arel 1.0 compatibility
testing combined nodes are not traversed
adding more tests surrounding where_values_hash
testing Relation#table_name
adding a test for ActiveRecord::Relation
fix whitespace errors
making relationship merge cheaper
cleaning up where_values_hash
bumping gemspec
removing rubyforge plugin
adding node test
terrorist version bump
fixing tests in 1.9
adding deprecated support for walking ancestor trees
Added documentation explaining the new additional supported syntaxes for the routing redirect method, a small changelog note, and two extra tests for path interpolation when using the hash option syntax.
The redirect routing method now allows for a hash of options which only changes the relevant parts of the url, or an object which responds to call can be supplied so common redirect rules can be easily reused. This commit includes a change where url generation from parts has been moved to AD::Http::URL as a class method.
Rewording existing comment
Add comment for config_accessor method
Rewording existing comment
adding more tests surrounding where values hash
adding a convenience alias to Node
base class works with visitor
fixing warnings
adding ancestor test
refactor block.call out of each visit method
updating nodes and depth first visitor
adding unary node
insert statements supported
adding select statement support
adding select core
update statement supported
mostly implemented depth-first traversal
testing attributes applied by default_scope
removing interpolate_sql from join associations
moving method to subclass that actually uses the method
test case on has_one :through after a destroy
Add perform_caching to config guide
Add documentation for page_cache_directory and page_cache_extension to config guide
re-add config.action_controller.asset_host and asset_path to config guide
Bring order description in line with actual text.
Use ARel for Range Conditions section, remove Date & Time section because users should *never* do that.
asset_host and asset_path are now set at the global level
Reorder logger and middleware global config options
Add mention of helper_paths to config guide
Mention encoding in config guide
Add asset_host and asset_path to the configuring guide
No more app_generators method in 3.1
Mention controller_paths in the config guide
Move threadsafe warning to threadsafe's new location in config guide
Move consider_all_requests_local to global config methods in config guide
Change coloriz_logging description to follow the standard for this guide
Mention threadsafe! method in config guide
allow_concurrency is a "global" configuration option in Rails 3
Add documentation for secret_token to config guide
Mention filter_parameters for config
Partialy revert f1c13b0dd7b22b5f6289ca1a09f1d7a8c7c8584b
trailing star mimes should respect the order in which mime types are defined.
make it clear that recompilation happens only in development mode
s/myqsl/mysql/
Added a space before "do" keyword
Allow http templates again, fix the broken test
Update CHANGELOG.
grammar fix
Application templates should work with HTTPS too
Resolves LH #6063, should be :expires_in not :expire_in
Add methods for configuring middleware to config guide
Add "Configuring Middleware" section to config guide, starting with mentioning what every bit of middleware does.
Add explicit statement that verify_authenticity_token can be turned off for actions.
Add mention of config.serve_static_assets to config guide
Mentioning catch with Bundler remembering options between different calls
Added missing word.
Resolving LH #5986, cookies doc updates
Only convert direct hash instances in hash with indifferent access.
Added documentation for config.generators to the config guide
Add mention of after_initialize to the config guide
There is no more load_application_initializers in Rails 3
root_path is now simply root in Rails 3
Update Changelog for configuring guide
There is no RAILS_GEM_VERSION environment variable or constant for Rails 3, since this is now managed by Bundler
There is no config.action_mailer.default_implicit_parts_order method for Rails 3
Mention the default config.action_mailer.default options in Configuration guide
There is no config.action_mailer.default_content_type method for Rails 3
There is no config.action_mailer.default_charset method for Rails 3
Update ActionMailer documentation to not use deprecated template_root method as documentation, but rather raise_delivery_errors method
There is no config.action_mailer.template_root method for Rails 3
There is no config.action_view.warn_cache_misses method for Rails 3
Separate Action Dispatch and Action Pack sections in Configuration Guide.
There is no config.action_controller.optimize_named_routes method for Rails 3
There is no config.action_controller.resource_path_names method for Rails 3
There is no config.action_controller.params_parser method for Rails 3. This is now handled by the ActionDispatch::ParamsParser middleware.
There is no view_path config option in Rails 3
There is no root_path config option in Rails 3
There is no plugin_paths config option in Rails 3
There is no plugin_locators config option in Rails 3
There is no plugin_loader config option in Rails 3
load_once_paths is now autoload_paths in Rails 3
There is no database_configuration_file method in Rails 3
There is no controller_paths method in Rails 3
Mention what cache_classes defaults to in all three default environments
Don't mention Rails 2.3, given that this is supposed to be a guide for Rails *3*.
There is no more routes_configuration_file method.
removes a couple of redundant selfs
implicit self here
move the setting up of the mime collector into the collector on init
move the setting up of the mime collector into the collector on init
nil check unneeded ht. exviva
Remove explicit return.
Use ternary instead explicit return.
Remove return, we are already returning self.
Remove explicit return.
Reuse lock_col variable instead calling locking_column class method.
Dynamically generaeted helpers on collection should not clobber resources url helper [#6028 state:resolved]
#:nodoc: internal methods.
Rakefiles are executables, and rake loads rake, not rakefile code
Don't depend on rubygems loading thread (for Mutex)
alias should be a SQL literal
initialize instance variables in initialize... o_O
adding a factory method to the join part for generating a table alias
use ARel rather than generate SQL strings
remove useless join
moving column_aliases to JoinDependency
reduce method calls
If a user wants json output then try best to render json output. In such cases prefer kind_of(String) over respond_to?(to_str)
If a nested_attribute is being marked for destruction and at the same time an attr_accessor value is being assigned then the value being assigned is being ignored. This patch is a fix for that issue.
process text/* if it appears in the middle of HTTP_ACCEPT parameter
processing image/* is an odditity because there is a test case which expects image/* to not to be expanded. So I am leaving image/* as it is and process only text/* and application/*
clean up test by using unregister method
unregister method implementation and test
Remove the not needed setup and teardown
make table aliases cheaper to allocate
Document the behavior of the dup method: does not preserve timestamps
Typo in the comments of the clear_timestamp_attributes method
Dup should reset the timestamps as it is considered a new record
Testing that dup is resetting the timestamps
Allow template handlers to store temp data.
port_string bought back to life as it is part of the public api
adding an AS node
removing ternary
breaking classes up in to respective files
fixing variable names. oops!
adding a "not" factory method for creating Not nodes
No need to return anything
just wrap as a sql literal
Do not send id for quoting twice if the primary key is string.
Add mention of nested resource to resources documentation
updating changelog for dup and clone semantics
clone and dup are working on 1.8
converting clone test to dup test
fixing dup regressions
fixing more dup tests
renaming duplication test to dup test
adding a specific case for clone testing
testing duped attributes are independent
initialize_clone can go away
making sure changes to dup will not touch original
dup keeps changes
dup is working better
Document the :path option for resources :posts
Add :module option documentation for the resources method
Remove non-sensical first couple of lines for scope method documentation
Paths in ActionDispatch::Scoping documentation should be for /admin/posts, not /admin/photos
copy-edits RDoc of 2fe43b6
Refactor && simplify count_records.
No need to create a variables to use them once.
Don't create local vars.
Avoid creating local var.
Remove explicit return and avoid creating local var.
Remove explicit return.
Use params default.
Remove unneeded local var.
Remove uneeded local var definition.
Remove confusing parenthesis.
No need to define a local var here.
i18n guide: fix RedCloth artifacts that were rendering bad format and broken links on 2.3 warnings
Remove bazillion warnings from AP suite.
Speed up subdomain and domain calculus.
:subdomain, :domain and :tld_length options can now be used in url_for, allowing for easy manipulation of the host during link generation.
fix typo
Update to Prototype 1.7
skip cloning if arguments are blank
removing space error
removing unused variables
adding a test for the runner module [#6027 state:resolved]
sort lists before comparing them
add respond_to? to ActionDispatch::Integration::Runner
Removed ids_in_list_limit in favor of in_clause_length defined in database_limits.rb
Revert "unscoped takes care of named_scopes too"
mysql will lock for update
make test more resilient to future changes by not testing the count and not testing the internal value of the registered mime type.
remove select, collect and then inject with something better
string include method is 10x faster than creating a new regex object every single time
Compile regex only once
move the mime registration code to setup so that it could be cleaned up on teardown.
rename star star to just one star
cleanup Mime::LOOKUP after registering image/gif
fix test
implement code that handles text/*, appplication/*, and image/*
test for text/*, application/* and image/*
declare regex as a constant
add the fixture file
do not assume that there is no space between leading */* and comma
failing test for #6022
current code ignores http header "Accept" if it has ....,*/* .
Remove unused constant
There's no need for ternary op here
Remove unneeded metaprogramming and method generation in favor of direct definition
Explain that NamedBase makes the variable 'name' available to the script.
Slightly more natural sounding phrase.
Ensure that app generator is not loaded twice to get rid of warnings
Do not create table_name_prefix method on isolated module if the method already exists.
Previous version inaccurately suggested that
Cleaner way to extract the Postgres version
realigns a series of hash arrows
documents <%== in the AS guide
Spanish for "project" is "proyecto"
use_accept_header is no longer supported
copy-edits d773ef8
fix some grammar issues with section 2.5
Mention the case that `render` will return nil if given `:collection` is nil or empty when rendering partial.
Spelling mistake: "Projecto" instead of "projeto"
i18n guide: fix external link to rack locale
unscoped takes care of named_scopes too
i18n guide: this is not longer a problem
i18n guide: remove link to external page about 'How to encode the current locale in the URL' as it no longer exists
i18n guide: it's activerecord.errors.messages.record_invalid (instead of 'invalid'), and messagges typo
Minor fix on Rails:Railtie documentation
remove old school validations and replaced with new validates method. Pending: fix active_record guide
Spanish for "project" is "proyecto"
use_accept_header is no longer supported
copy-edits d773ef8
fix some grammar issues with section 2.5
Ensure calling reset session twice does not raise errors.
removed an AR method which wasn't used internally, had no tests, and had no docs
class inheritable attributes is used no more! all internal use of class inheritable has been changed to class_attribute. class inheritable attributes has been deprecated.
I18n is always loaded on boot by Active Model or Action Pack, so no need for supporting lazy hooks.
Mention the case that `render` will return nil if given `:collection` is nil or empty when rendering partial.
applies API conventions to the RDoc of json_encode
Spelling mistake: "Projecto" instead of "projeto"
Avoid range object creation
do not require ruby-debug automatically.  please require it if you have declared it as a dependency
Clean IdentityMap before running each benchmark.
No need to specify clear is a method from IM when we are inside IM.
IM enable should be kept in current thread.
"there is no need to store this option just for initialization" JosÃ© Valim dixit.
identity_map name is used for configuration, use IdentityMap to access it.
Simplify remove_from_config.
Enable IdentityMap when generating new apps.
We have to check object class to avoid issues when using STI.
Enable IM in performance script unless IM=disabled is set when running it.
IM is disabled by default.
Add test using identity map and select.
No need to check returned object now that weakhash is gone.
Usa Hash instead of WeakHash.
Revert "Use ActiveSupport::WeakHash for MRI, JRuby prefers Weakling."
Read from config, because AR may not be loaded yet.
Set IdentityMap disabled by default.
We don't need to dup key, since only value is weak.
Refactor associations cache removal from IM. (ht: Aaron Patterson)
Update number of queries executed instead of avoiding IM.
Don't change tests, fix code: if locking is enabled skip IM.
Remove associated objects from IM when clearing them from association cache.
Test setup method should clean up IM.
Query objects if readonly_value is false, skip them only if nil.
Added method to IM to remove objects by class and id. Then used it to remove objects when updating counters.
Clear IdentityMap before continue this test, we can do this here because store_full_sti_class is not supposed to change during "runtime".
Call super setup in this test.
Ups, forgot to remove one conflict tag from previous commit.
Revert "IdentityMap - Adjustments to test cases"
Don't load IdentityMap middleware if not enabled. Simplify middleware.
Don't wrap into identity map if it is disabled.
Bring back "Reject attributes even if association is loaded" after rebasing to master.
Use block syntax in IdentityMap middleware.
Change API name, we don't need any param.
Use just one repository and keep it in the current thread.
Flush IdentityMap when running tests.
Use association_class method which returns the reflection class, this method is redefined in polymorphic belongs to associations.
Use IdentityMap middleware to flush map on each request.
Add initial tests for WeakHash.
Check if constant is defined in AR, if not this can cause errors when using polymorphic associations.
Use conditional to avoid warnings.
Weakling is only required for JRuby.
Use ActiveSupport::WeakHash for MRI, JRuby prefers Weakling.
Use hash[:Post][1] style identity maps for each table.
IdentityMap is enabled by default.
Add docs to Identity Map.
Added config syntax to enable/disable identity map: config.active_record.identity_map = true
Reeject attributes even if association is loaded
Test reorganization
Separated initialization
Set Identity Map disabled by default. Enable it for testing.
Test with target object, failing on 1.9.2 when comparing object against association proxy object.
Testing objects equality is what we are looking for here, no query caching.
Change test models.
Use strings primary keys in identity map keys to avoid problems with casting and also allow strings primary keys.
implicit_readonly is not set until records are loaded, just check readonly_value and then set readonly status.
Don't use identity map if loading readonly records, this will prevent changing readonly status on already loaded records.
Add tests for inverse relations when using has many and identity map.
Remove associated object from identity map when reloading.
Associated objects are assigned from identity map if enabled and contains associated object.
Add test for update_attributes and identity map.
Remove objects from identity map if save! failed, otherwise finding again the same record will have invalid attributes.
Remove objects from identity map if save failed, otherwise finding again the same record will have invalid attributes.
Add test to show that when IdentityMap is disabled finders returns different objects.
Uncomment test and make it work.
Use yield instead block argument.
Disable identity map when loading associated records from habtm.
Prevent pushing duplicated records when using identity map.
Remove associated records from identity map if any raised an unexpected exception.
Use identity mapper only if enabled.
Remove object from identity map if transaction failed.
IdentityMap - Adjustments to test cases
Looping prevention for autosave relations on validation and creation
IdentityMap - adding and removing of records on create/update
IdentityMap - misc fixes
IdentityMap - Tests for IM
IdentityMap - Adding Weakling and IM Base as concern
guides: gives clear instructions for feedback, removes links to the now archived LH project
wtf vim
fisting typeo, thanks @vinibaggio
adding documentation for reversible migrations
adding Migration#change to the CHANGELOG
fisting my spelling errors
testing a non-invertible migration case
invertable migrations are working
command recorder will record commands sent to a delegate object
adding invertable migration test
updating documentation
IrreversibleMigration is raised if we cannot invert the command
commands are reversed
add and remove timestamps can be inverted
inverting add_index
partial implementation of the command recorder
this return value is not used, so stop returning it
instantiate the delegate object after initialize is defined so that our initialize method actually gets called
removes orphan tests, custom String#% was removed from AS in 39d6f9e
Don't merge just directly add to the action to the :partial key
Useless assignation
i18n guide: fix external link to rack locale
updating the gemspec
Make ARes tests unescape [ and ]
Revert "Quick fix for not escaping []s (not ideal)"
connection is set from the connection pool during migrations
testing multiple ORd queries
Revert "Remove deprecated form_for with strings or symbols"
Remove deprecated form_for with strings or symbols
delegating path and open to internal tempfile
removing space errors
Adapters can specify maximum number of ids they support in a list of expressions (default is nil meaning unlimited but Oracle imposes a limit of 1000) Limit is used to make multiple queries when preloading associated has_many or habtm records
Ensure that initializers are executed before loading rake tasks
Facepunch failing tests.
unscoped takes care of named_scopes too
group can be done by left side only
When use where more than once on the same column, relation doesn't do an 'or' or 'in' with the values
collapsing same table / column WHERE clauses to be OR [#4598 state:resolved]
use shorter form for sql literals
replace and with && as per rails coding convention
remove the rescue block by returning a not asking Base for lookup_ancestors. It was also marked for later optimization.
bye bye extlib_inheritable_*, AS callbacks now using class_attribute
adding an initialize with name and version defaults
Added config.action_controller.include_all_helpers to CHANGELOG.
Add config.action_controller.include_all_helpers, by default it is set to true.
updating generators
fixing more documentation
fixing documentation, removing unused AS files
fixing indentation since these methods are not class methods
these methods are no longer needed
Pass the view object as parameter to the handler. Useful if you need to access the lookup context or other information when compiling the template.
Tidy up generators commits.
updating CHANGELOG
do not need these accessors
testing instance based migrations
singleton method added is no longer needed
schema migrations work as instances
converted migrations to support instance methods
fix warning during test execution
Bump builder to 3.0.0
fixing assertions so error messages will be more helpful
terrorist version bump
adding the git plugin
updating changelog
Added tests for Nodes::NotIn.
Typo fixed
i18n guide: this is not longer a problem
Anchors should be allowed on constraints that are not on path segments
do not use private methods
Write a test for checking the presence of table names in the cache
Let table_exists? find tables in @@table_cache even if symbols are passed as their names
The PRE part of the rails version is a string or nil
Removing the old release.rb script
Small cleanup of the release task
Add a task to tag the commit and push
Ignore the dist directory
Add a task to commit the changes
Add some sanity checks to the gem push script
Remove some useless comments from the release task
Update the main Rakefile to use the new release tasks
Add a new file containing tasks related to releasing
Update the version.rb files to include a PRE part
Remove the old gem release task
removing many unused variables
super automatically passes on the implicit block
use unless instead of if !
removing space errors
reloading an association will properly set attributes of instantiated objects. Thanks Brian Palmer [#5802 state:resolved]
Do not run migrations from mounted engine separately.
i18n guide: remove link to external page about 'How to encode the current locale in the URL' as it no longer exists
refactoring uniq method
i18n guide: it's activerecord.errors.messages.record_invalid (instead of 'invalid'), and messagges typo
refactor to reduce method calls
using a merge with a Hash[] rather than a loop to add SAX parsed attributes
terrorist version bump
added a visitor for Class objects
returning undefined for unknown column types
Create directory before copying migrations if it does not exist
Change inside_namespace method to inside_template and use it in all templates by default
Minor fix on Rails:Railtie documentation
revises RDoc of AR::Base#==
Models should be equals even after destroyed
adds a publish_docs task to force stable docs generation and publishing after a new stable tag has been pushed
small additional fix for order_hacks method for Oracle
Brought the domain method in AD http url inline with subdomain where @@tld_length is used by default. Also set the default value of @@tld_length to 1.
fix one more time order_hacks method for Oracle
support finding by a ruby class [#5979 state:resolved]
adding more test coverage around finding with active record objects
updated the rails guide to reflect changes in the action view railtie relating to the asset id cache code
changed asset_timestamps_cache to asset_ids_cache, added an rdoc comment to the new public api, and updated the railtie
corrected the AV railtie to use the new home for cache_asset_timestamps, and merged asset id caching and asset paths together.
reorganised the the common asset helpers module into a class and have it include the id caching module, this class is now shared from the view instance to the asset include tag helpers (js and css)
incorporated most of the feedback from JosÃ©
reduced duplication between the javascript and stylesheet asset tag methods, also split the asset id caching methods into a separate module for easy inclusion and use by the asset include tag class and base asset tag helpers
removed an assert from a test as it was testing a private method
separated the asset id methods to a separate module, removed some dupliation with the various path methods, and moved the base asset tag methods to a base module so the asset id module can play nice with the path generation
split the javascript and stylesheet tag helpers into separate files as a precusor before removing the duplication between the two
Do not allow to use plugin_new generator directly, you should use Usage:   rails new APP_PATH [options]
Allow running `rails plugin new` command inside rails application
Bye bye bang bang.
There is no need to make isolated? method with bang-bang, just alias isolated
Deprecate plugin generator
Add skip-gemspec option to 'plugin new' generator
Update changelog with rails plugin new
Don't need to support rails plugin --version
rejecting blank strings
use quoted id of single AR::Base objects in predicates
reduce method calls
make sure we are only doing sanity checking against regular expressions
remove old school validations and replaced with new validates method. Pending: fix active_record guide
if association is already loaded and if a find operation is performed on the already loaded association list with an empty hash then do not perform another sql
fisting a bunch of unused variable warnings
Add HTTP Verb Constraints (:via) to routing guide
Revert "Bump up mail dependency to take advantage of relaxed i18n version requirement"
Bump up mail dependency to take advantage of relaxed i18n version requirement
Add f.submit to forms just to show the most common use case
This doesn't make sense here
Getting Started guide: remove calls to f.error_messages as it has been removed from Rails
Add empty line between previous method and RDoc of submit to allow RDoc appear on api.rubyonrails.org
Change deprecated syntax and use f.submit instead of submit_tag
Remove unused var
Update the guides.
deliver_* is no more
removed unnecessary indentation
added note with example for using flash in redirection
corrected sample code to clear @_current_user class variable also
Add support for try to just yield the object to a block if no method is to be called. Kind of like a tap_if_present.
HashWithIndifferentAccess should not change the subclass of an array
the partial option is not required for simple partial rendering
Document the constraints method
Tests added for rendering partial with layout, when the partial contains another render layout with block call added missing fixtures
Tests added for rendering partial with layout, when the partial contains another render layout with block call
colorize_logging is a Rails General Configuration option not a specific option of ActiveRecord
Make collection and collection_from_object methods return an array
Add documentation for :path_names option on resources
See the scope method for documentation for namespace's shallow_path option
Add documentation for the mount method in ActionDispatch's Mapper
Allow bundler 1.1 (and 1.2, etc.) in Rails 1.0.2 and above
Finder gives a little bit more info on the lookup column (primary key)
Update to JQuery 1.4.4
present? is better here
Remove whitespaces and add missing test.
STI type is now updated when calling AR::Base.becomes on subclasses [#5953 state:resolved]
Use ! instead of not
bumping gemspec version
Bump Arel up to 2.0.2
terrorist version bump
updating manifest / gemspec
updating changelog
support stringinquirer string
skip testing framework if app created with --skip-test-unit [#5796 state:resolved]
Add missing autoload.
Remove unused Configurable in Rails::Engine and Rails::Application. Remove unnecessary railties load path in cli [#5871 state:resolved]
provide better error message if path is uri [#5914 state:resolved]
The model generator shouldn't throw warnings when using mass nouns [#5363 state:resolved]
fields_for should treat ActiveRecord::Relation as an array
Remove inline comment.
Make after_filter halt when before_filter renders or redirects [#5648 state:resolved]
patching to ensure separator is printed with order [#5816 state:resolved]
Allow AR Session Store to be renewed
Duck typing here
restores the example for fixed-width font in API guidelines
Remove copy_instance_variables_from from guides
Remove unused method
Remove useless cgi
syncs CHANGELOGs for 3.0.2 in 3-0-stable with the ones in master
Double negation of an already boolean value produces the same result
Don't check if persisted is defined just initialize it properly
Execute less operations
use persisted? instead of new_record? wherever possible
this reads better, i don't know what the other 'so on' are, doesn't help reader imho
added missing word to clear up meaning in my previous commit
registers number_to_currency's :negative_format in the CHANGELOG
Strip regexp anchors from rake routes output [#5934 state:resolved]
Allow to set dummy application path through options
Add a note to TextHelpers making explicit their default behavior of not escaping but sanitizing.
removed indentation, for code style consistency and readibility
Use Rails.logger, not ActiveRecord::Base.logger
removed etc. not require
added missing space and minor rewording
corrected to Rails 3 syntax for declaring resources
Test cache.key_file_path with separators ht. Jim Wilson [#5611]
Update the validates_uniqueness_of documentation to tell you to use a unique index.
Make safe_append= live on AV::OutputBuffer not AS::SafeBuffer
Added support for Erubis <%== tag
OrderedHash#select now preserves order [#5843 state:resolved]
Make cookies hash in ActionDispatch::TestProcess indifferent access [#5761 state:committed]
Ensure that HashWithIndifferentAccess duplication preserves class (for sublclasses) and default value [#5724 state:resolved]
use column names as order by complex function parameters, fix for postgresql adapter to correctly remove ASC/DESC
Document the :shallow_path option for scope
Indent final comment for :path option
Indent code example for :as option
Document the :as option for the scope method
Space between module option documentation and path documentation
Document the :as option for the namespace method
Document the :module option for namespace
Document the :path option for namespace
Begin to document the namespace method for AD's Mapper
Document the controller method for AD's Mapper
Document the defaults method
Document the :module and :path options for the scope method.
Separate comments and examples with "Examples" header.
Add further documentation + examples for the get, post, put and delete methods in ActionDispatch::Routing::Mapper::HttpHelpers
reduce duplication in assiciations #construct()
Move @assigns from the controller to the test itself
make sure we keep parent records in order
fix order_hacks method for Oracle when complex functions are used in order by
only call to_s on the association variable once
simplify instantiate in the join parts object
index is not used, so removing it
reduce method calls to the join base object
arel more nicely supports EXISTS queries
Correctly handle the case of an API response that returns a hash by treating a single hash argument as the resource instead of as options.
stop recursively calling exists?
mysql selects from dual on empty from statements
Bring back ruby-debug19 for Ruby versions < 1.9.3
renaming @head to @ast
adding proper columns to our fake table
Avoid warning: shadowing outer local variable
renaming exec in the mysql adapter
renaming exec in the PG adapter
converted exec to exec_query for sqlite
Association Proxy should not undefine the default respond_to_missing
New version of thor was released no need to use the one from git
updating the development dependencies
Update to latest thor.
ignoring certain SQL when using Oracle
select goes through exec(), so no method chaining for query counts
use bind params in select with query monkeypatch
Just initialize options with an empty hash
add more tests surrounding camlize in xmlmini, refactor rename_key()
Allowing to_xml :camelize option to be set to :lower to enable lower-camelcase tags [#5903 state:resolved]
Add ToSql NilClass visitor
made a pass to the docs of :negative_format
Added :negative_format option to number_to_currency function [#5894 state:resolved]
Test that capture doesn't escape twice
Call as ERB::Util.html_escape since is not the module is not included here
Make sure capture's output gets html_escaped [#5545 state:resolved]
Add --mountable option to 'plugin new' generator which generates full mountable application (engine)
Add example rake task to 'plugin new' generator
create_dummy_app method that allows to easily create dummy application from template
Properly skip test unit in 'plugin new' generator
Properly handle other databases in 'plugin new' generator
Skip active record properly in 'plugin new' generator
Use rails integration tests by default in 'plugin new' generator
We don't need to configure ActionMailer in plugin's test helper, it's configured by dummy app
Refactor app and plugin generators to use new Thor API
Make deep copy of application generators on engine initialization.
Added Hash#deep_dup function which performs deep duplication on given hash
Use application's generators defaults as engine defaults to not force users to manually set it
Do not create additional newline
Don't be verbose while creating dummy application in plugin new generator
No need to require 'app_base', it's required in app_generator
Pass more options to test/dummy in 'plugin new' generator
Add --full option to 'plugin new' generator, which generates rails engine
No need for say_step in 'plugin new' generator
DRY up app generator and plugin new generator. Moved shared options to AppBase generator
Remove integration tests and ActionModel/ActiveRecord calls from 'rake plugin new' generator, it shouldn't be available as default option
We don't need gem tasks, we have a gemspec
Builder should not be responsible for running store_application_definition method
Make tests for app and plugin generators more DRY
Allow easy overriding of test framework in 'rake plugin new' generator, using PluginBuilder
Ensure that tests run properly
Change // style regexp to %r{}, to not confuse editors code highlighting
Add --dev and --edge options to rails plugin new
Added USAGE for rails plugin new
That method is already declared at AppBase
Add support for templates for rails plugin new
Ensure that options for plugin new generator are not passed to application generator
Refactored AppGenerator and PluginNewGenerator to inherit from AppBase.
Added 'rails plugin new' generator which generates gem plugin skeleton.
Add additional HTTP request methods from the following RFCs:
Make should_record_timestamps? serialization aware rather than object#changed?
Ensure save always updates timestamps when serialized attributes are present
Add timestamps to Topic
Update new tests in cascaded_eager_loading_test.rb to work with the modified fixtures in this branch
only returning where values for the corresponding relation, also filtering where value hash based on table name [#5234 state:resolved] [#5184 state:resolved]
adding tests for #5234 and #5184. Tests were from Akira Matsuda.  Thanks Akira!
no need to merge where values if no new where values have been added
ruby-debug19 does not work with 1.9.3, so I am removing it
Convert :primary_key in association to a string before comparing to column names, so that for example :primary_key => :another_pk works as well [#5605 state:resolved]
refactoring find_join_association
Refactoring: replace the mix of variables like @finder_sql, @counter_sql, etc with just a single scope hash (created on initialization of the proxy). This is now used consistently across all associations. Therefore, all you have to do to ensure finding/counting etc is done correctly is implement the scope correctly.
only do string substitution on column names once, remove intermediate data structures
columns are always strings
no need to to_i, sqlite does that for us
Ensure original exception message is present in both Template::Error#message and Template::Error#inspect.
ActiveSupport::Deprecation.silence no longer needed.
Added missing AS require to active_model/naming.rb
reverting last change to javascript helper; needs more investigation
fixed javascript helper doc to close issue #10 raised by jialin
select_all() should always return an array, so no need to test
fisting test name
speeding up query cache
making query cache work with prepared statements
Refactor predication methods to be available to SqlLiterals as well.
Ensure that Rails.env is defined first
renaming bind_values to binds where it makes sense
adding backwards compatibility for non-prepare statement handling drivers
caching column values
setting the authorized session clears the statement cache
add a session authorization setter to the pg connection
avoiding statement cache if there are no bind values
folding async_exec to exec
clear cache before resetting the connection
prepare the statement before we cache the key
bind substitution is working properly
bind parameters are now typecast
basic bind parameters are working
initial exec() method is working in pg adapter
monkey patching with enumerable so we can call each
monkey patching Mysql::Stmt, calling free on the metadata
free the result after slurping
eliminating some calls to execute()
statements are cached, cache is cleared on reconnect
all mysql tests are passing
one more mysql test left!
mysql tests are mostly passing
find_one uses prepared statement cache
clearing statements on disconnect and reset
refactoring tests
type casting bound value based on column associated with value
stop calling execute directly on the database connection
removing another execute
removing more execute calls
removing more calls to execute
removing some uses of execute
exec returns an AR::Result
adding bind_values to relations
adding bind value substitution
adding the abstract method
Revert "removing unused variable"
reducing the number of parameters to select()
Use latest I18n.
Remove rack-cache-purge.
Added Bignum to visitor
Allow generated url helpers to be overriden [#5243 state:resolved]
Updating mail dependency to 2.2.9
Changed environment.rb to application.rb
Reworded sentence using text from rails source code.
Don't write out secure cookies unless the request is secure
Changed environment.rb to application.rb
Corrected typo and wording.
ensures that no browser shows a vertical scrollbar in the code blocks of guides, thanks to Marcelino Llano for a hint to fix this
configure a uniform font-family for code in guides
use a gray a little darker in code blocks, for better contrast with the gray background
removes the toolbar from guides code blocks
added tip about ruby-debug needing a different gem if using 1.9 [#190 state:resolved]
refactor to remove `through_records`
removing dead code
removing unused variable
switches guides code syntax highlighting to the better SyntaxHighlighter, I did my best with the theme, I swear
save a few method calls
removing wtfalse
removing call to deprecated API, this test is outside AR responsibilities
if it responds to :usec, it should also "act like" a time
removing space errors
fixed example code for i18n exception handling
copy-edits some CI traces
made a pass in AR's schema.rb to keep (most) create statements in lexicographic order, and fixed an FK
has_one maintains the association with separate after_create/after_update
Use render :template instead of render :file in nested layouts example. render :template is a bit faster and more semantic compared to render :file.
ActiveSupport::Dependencies' methods load_paths and load_once_paths have changed names to autoload_paths and autoload_once_paths respectively
generate correct select if only offset is present (in Oracle)
adding a test to ensure offsets with no limits will work [#5316 state:resolved]
updating gemspec
adding default limits when there is an offset for sqlite and mysql [#5316 state:resolved]
use grep instead of select + is_a?
use a map and flatten to avoid << calls on array
only call `column_methods_hash` once, use array math for faster test of existence
roll up weird method to meta programmed method
use zip + Hash.[] rather than looping with an index
extract options is not necessary
removing unused variable
removing unused variables
removing unused variables
default scope merge where clauses [#5488 state:resolved]
reduce duplicate where removal to one loop
Remove this require since active_support/testing/default doesn't exist anymore
swap out some n^2 for some n
bumping mysql2 requirement
dup rather than create so many arrays
use array math rather than looping through the array
use shortened version to generate a sql literal
avoid cloning if we do not need to clone
avoid creating a proc object when possible
scopes can take an object that responds to `call`
avoid creating the proc object if possible
Change mysql2 to the gem version again since 0.2.5 was released
default scope can accept any object that responds to #call
Allow default_scope to accept a Proc.
rewords a little the RDoc of the tag helper
api guidelines: adds a reference to the RDoc documentation where directives like :method: are covered
Rename nested_has_many_through_associations_test.rb because it does not only concern has_many associations
doing a little cleanup on the visitors
updating gemspec and manifest
adding a base class visitor
Add explicit ordering in relations_test.rb, as the lack of this was causing failures against postgres
Add explicit ordering to nested_has_many_through_associations_test.rb as this was causing failures under postgres
Remove obsolete require to active_record/associations/nested_has_many_through
Remove obsolete autoload
Add a CHANGELOG entry about nested through associations
Add some API documentation about nested through associations
removing irrelevant docs, updating relevant docs
Add some comments for ThroughReflection#through_reflection_chain
Remove various comments and code which were just being used during the development of nested through association support (OMFGZ, I might just have nearly finished this\!
Add explicit tests for the nested through association changes in reflection.rb
"instance_methods" includes public and protected
Small refactoring
Support the :primary_key option on a through reflection in a nested through association
Bugfix/refactoring
Remove unused methods
Support for :primary_key option on the source reflection of a through association, where the source is a has_one or has_many
Updating routing namespace examples to use symbols and not strings.
Respect the :primary_key option on the through_reflection of (non-nested) through associations
adds the new :data idiom in tag helpers to the CHANGELOG
Additional documentation for data-* attributes.
Use ALTER INDEX syntax to rename an index
renaming test_helper to helper so that it is not double required
fisting manifest
cleaning up Rakefile
got rid of retarded check method. down with rspec
Renamed spec_helper to test_helper
Properly support conditions on any of the reflections involved in a nested through association
Removed TreeManagerShared and related tests. They sucked
avoid a few comparisons
damnit
Fisting arel specs -- still needs tree_manager and cleanup
AC::Caching DRYup
remove strange else block
skip extra work if no text or phrase was provided
lets not invert the hash on every iteration through this loop
use -= in place of the expanded form
implicitly return nil if there is no number
implicit return of nil
use regex escape sequences to shorten stuff up
join strings rather than resizing buffer
Call html_escape in ERB::Util module and don't mix it in in the helpers
explains why ERB::Util#h is removed before being re-aliased
Use mysql2 from git for a while
Invoke html_escape on the proper receiver
Tidy up a bit this code
Why strip only the extension, this can be done by the user
This or login doesn't make sense
Use unless instead of if nil?
Add missing require
Reset assert_template instance variables between requests [#5832 state:resolved]
Added :file as a possible value when configuring actionmailer
Change def to attr_reader + alias
parse number only if options[:raise] is provided
number_to_phone always return safe
Refactoring: replace the mix of variables like @finder_sql, @counter_sql, etc with just a single scope hash (created on initialization of the proxy). This is now used consistently across all associations. Therefore, all you have to do to ensure finding/counting etc is done correctly is implement the scope correctly.
Rejig the html5 data helper code
HTML5 data attribute helpers [#5825 state:resolved].
No need for parenthesis here
no need to check for nil
replace if ! with unless
Created syntactic sugar Table(...) method
The deleted examples are redundant.
json_escape makes json invalid doc change [#1485 state:resolved]
Revert "added ignore rule for linux temp file ending with a tilda ~"
Bump bundler up to 1.0.3
extract formats_regexp as a method
There's no need now to expose lookup_context as an external API
Delegate freeze_formats to lookup_context
Remove the :vew attr_reader from ActionView::AbstractRenderer [#5819 state:resolved]
JQuery updated to 1.4.3
added ignore rule for linux temp file ending with a tilda ~
implements weeks_ago and prev_week for Date/DateTime/Time [#5122 state:committed]
delete from :number until the end
should sort these ids before asserting they are equal!
testing that symbols work as sql literals
symbols work as sql literals
fixing an error in the rdoc
Revert "refactor delete a little"
Make sure nested through associations are read only
Add assertions for nested through associations loaded by includes with conditions (uses the single-query strategy). Currently one failure to fix.
Removed duplicated method find_root_with_flag
Support preloading nested through associations (using the default multi-query strategy)
in regexps, the dot in a character class is not a metacharacter
remove Mongrel from debugger docs
WEBrick is the default web server, not Mongrel [#186 state:resolved]
#transaction on the instance level should take options as well
Revert 0c0b0aa0f223523331afdc157fb3992a121bf497 which introduced a security vulnerability.
Explain actionamailer authentication types
Remove unnecessary requires from nested_has_many_through_associations_test.rb
Add test_has_one_through_has_one_through_with_belongs_to_source_reflection
Add test_has_many_through_belongs_to_with_has_many_through_source_reflection (which already passes)
Add test_has_many_through_has_many_through_with_belongs_to_source_reflection (which already works)
Added test_has_many_through_has_many_with_has_many_through_habtm_source_reflection and make it pass
Remove :cache => true on lookup templates initialization.
SReorganize autoloads slightly and move two files to lib/action_view root.
render :once should consider the current controller prefix.
Comment internal railties tasks.
Use railtie_name to correctly get name from plugins
Remove task for creating symlinks for railties
Update documentation for new tasks
Add task foo:install (where foo is plugin) as a shortcutinstall:migrations and foo:install:assets
Added foo:install:assets task that copies assets from plugins public directory to application's public directory
Do not treat information about skipped migrations as WARNINGs but as a NOTEs, also puts to stdin
Revert "speeding up flattened version of OrderedHash.[]"
speeding up flattened version of OrderedHash.[]
refactor delete a little
use unless instead of if !
clear any stale connections before messing with threaded tests
Use <em> rather than underscores to fix display issue with 4.1.1.1 in the asssociation basics guide
Removed miscelenous letters.
version bump
add locking support for postgres
Update the ActiveRecord tests to not set unused options
Remove doc for debugging callbacks. Methods don't exist in Rails master
Update the PostgreSQL adapter documentation
rb_thread_select should always be used in DB drivers when available.
Add test_has_many_through_has_and_belongs_to_many_with_has_many_source_reflection and make it work
Refactoring ThroughAssociationScope#construct_through_joins
bumping version
Delete unused methods in JoinAssociation
Renaming and formatting changes in JoinDependency
Refactor JoinDependency and friends so that a JoinAssociation can produce an arbitrary number of joins, which will be needed in order to support nested through associations.
Add some tests for functionality in JoinAssociation which already exists but was previously untested
First bit of support for habtm in through assocs - test_has_many_through_has_many_with_has_and_belongs_to_many_source_reflection now passes
Hook ThroughAssociationScope up to use the AliasTracker class
Some small tweaks on the last commit
stop using deprecated arel API
fixing manifest file
implementing where_sql method
getting started guide: deletes orphan <% end %>, reported by Michael L. Miller
fixes spelling of jQuery and Prototype
dry up column type testing
all columns respond to string_to_binary, so no need to check respond_to?
fix time.to_formatted_time(:time) example
drying up true and false cases
reducing comparisons in when statements
Extract aliasing code from JoinDependency and JoinAssociation into a separate AliasTracker class. This can then be used by ThroughAssociationScope as well.
removing intermediate variables
reduce the number of times we test for the column variable
test quoting a string with an unknown column type
refactoring date / time / datetime when statement
fixing case / when indentation
test quoting multibyte chars object
test quoting strings with binary columns
test quoting a string with a float column
testing quoting a string for an int column
testing crazy object quoting
test that dates / times / datetimes call quoted_date
test quoting of bigdecimals
Add a commented, failing test for using a habtm in a has many through association. I want to refactor how aliasing works first.
Add test_has_many_through_has_one_through_with_has_many_source_reflection
Adding test_has_many_through_has_one_with_has_many_through_source_reflection and modifying ThroughAssociationScope to make it work correctly.
Rename some tests for consistency
Add test_has_many_through_has_one_through
Support has_one through assocs as the source association
A load of tests that need to be written
testing floats, fixnum, and bignums
test quoting nils, true, false, id
getting quoted_time under more specific tests
starting to get the quote module under test
Show exceptions rescues the original exception
Return a valid empty JSON on successful PUT and DELETE requests. [#5199 state:resolved]
make sure request parameters are accessible after rack throws an exception parsing the query string [#3030 state:resolved]
Railties changelog updated with -j parameter
-j parameter added to rails new command.
we should always cast the value based on the column
removing freeze
removing some load path tomfoolery
fixing railties tests
Refactor a bit this code to add data-confirm and data-disable-with
Honor distinct option when used with count operation after group clause [#5721 state:resolved]
data-disable-with in button_to helper
reorder removed in favor of except(:order).order
Revert "Add missing CHANGELOG entry about reset_javascript_include_default"
Updated DOCS for engines and added a couple TODOs. Also, commented internal railties rake tasks description.
I corrected a code snippet typo in the railties/guides/source/initialization.textile file [#5779 state:resolved]
Add missing CHANGELOG entry about reset_javascript_include_default
Remove mention to register_javascript_include_default in documentation
Updated RUNNING_UNIT_TESTS documentation with mention of the build_databases rake tasks.
Revert "Make InstanceTagMethods#value_before_type_cast raise if the model don't respond to attr_before_type_cast or attr method" And    "Makes form_helper use overriden model accessors"
Always pull in version for frameworks (standardize autoload / require / none)
Make ActiveSupport load own version.
Do not allow templates coming from Fallback resolvers to store a virtual path.
Use identifiers for template equality.
Override #store to be consistent with #[].
Clean up unused methods from AV::Base and pass in the template object on rendering.
Add expire! and rerender to the template API. This will be used by SASS template handler.
Add some unit tests to Template#refresh.
Update CHANGELOG.
Add support to render :once.
Clean up the house before moving in the new furniture.
prevent rake test to run the test suite three times when ENV['TEST'] is set [#3572 state:resolved]
Rendering doesn't need RackDelegation
Resolvers now consider timestamps.
Refactoring to remove duplication introduced by the last commit
Deprecate old template handler API. Remove old handlers.
Add more docs and tests to templates.
Add support for nested through associations in JoinAssociation. Hence Foo.joins(:bar) will work for through associations. There is some duplicated code now, which will be refactored.
Add 'foo:install:migrations' task to copy migrations from foo engine
Load rake tasks defined in superclasses in context of railties
Rename rake railties:copy_migrations to rake railties:install:migrations and fix it to work with new copying strategy
Add callback on skipped migration while copying migrations
Change the method for copying migrations, do not add scope.
Rename namespace method to isolate_namespace.
This test is not only testing config/database stuff anymore
test that skip active records does not load fixtures
Test if test/performance/browsing_test.rb exists when --skip-activerecord is used
Refactor resource action scope methods
Remove old workaround for mocha bug. [#3886 state:committed]
Makes this code a bit more clear
Remove the final initializers since initializers += will return it anyway. [#3892 state:resolved]
Refactored routes reloading to use RouteSet#append instead keeping block in Engine
Cleanup logger a bit.
Ensure rack body responds to each.
removing false comment
fix rendering a partial with an array as its :object [#5746 state:resolved]
Allow cache to be temporarily disabled through lookup_context.
render :template => 'foo/bar.json' now works as it should.
Make collection rendering faster.
Remove locals dependency from template.
Add a TODO to remove gem "jruby-openssl" when jruby-openssl is merge in jruby
- update documentation
Get rid of ruby warnings in Resolvers. Move a few methods up to the abstract class.
Add jruby-openssl gem in Gemfile necessary for JRuby
Add "a" to make it better English
fix ruby 1.9 deadlock problem, fixes #5736 add connection pool tests
Provide a cleaner syntax for paths configuration that does not rely on method_missing.
Refactoring JoinDependency and friends. This improves the code (IMO) including adding some explanatory comments, but more importantly structures it in such a way as to allow a JoinAssociation to produce an arbitrary number of actual joins, which will be necessary for nested has many through support. Also added 3 tests covering functionality which existed but was not previously covered.
Some initial docs
Delegate everything to the generator
Revert "Clean up the builder abstraction in AppGenerator."
Clean up the builder abstraction in AppGenerator.
adding test for namedspaced mailers
mailer comment should use namespace in comment
a couple of touches to the guides guidelines
A failing test for a nested has many through association loaded via Foo.joins(:bar)
aaaaannnddd, your beloved typo only spotted in the github colored diff no matter how many passes you did before pushing
new guide: Ruby on Rails Guides Guidelines
Don't expect an AD::Response object back from the app.
Use RbConfig instead of Config for 1.9.3 compatibility.
refactoring to use fewer intermediate variables
cleaning up more crazy!
deleting more crazy
dry up some crazy codes
fixing a few test warnings
only forwarding enough methods to work. People should grab the delegate tempfile if they really need to do hard work
making sure respond_to? works properly
raising an argument error if tempfile is not provided
if it walks like a duck and talks like a duck, it must be a duck
delegate to the @tempfile instance variable
adding tests for uploaded file
avoid method call to compact
create fewer objects, call fewer methods in extract_pg_identifier_from_name
* + flatten is not required in >= Ruby 1.8.7
No need to pass self as parameter here.
Test to_model being called in ActiveModel::Naming helpers
Convert to model before calling model_name on a record in ActiveModel::Naming
`render :text => proc { ... }` is no longer supported.
Template::Error is also used if rendering fails.
calling correct method on minitest for test name when teardown callback fails
[#5406 state:resolved] calling the correct method on minitest to obtain the test name
Link to rack from github for this while.
Ensure the proper content type is returned for static files.
Update to Thor 0.14.3.
Initialize sid should just skip instance variables.
added more items to the set to improve explanation of validates_exclusion_of
corrected wording for better reading, fixed ugly intented quote by using code tags
converting inject([]) to map
speed up duplicate migration detection
reduce the number of calls to camelize
convertion MigrationProxy to a Struct, initialize instance variables
dry up some migration logic
no need to differentiate between nil and false in this case
Correct documentation that references how *_filter of action_pack are translated into set_callback/run_callback's (from active_support) invocations.
two argument String#slice is faster than single argument, also avoid creating a Range object
lengths will be nil or an array
remove a few function calls
be kind to the garbage collector and reuse our visitor object
avoid creating objects when we can
moving fake model to the correct file
Add documentation on app_generators
alias visitor_for to for
Solve some warnings and a failing test.
Move ETag and ConditionalGet logic from AD::Response to the middleware stack.
Rely on Rack::Session stores API for more compatibility across the Ruby world.
PERF: more Hash + map changes
PERF: more changes from inject({}) to Hash + map
PERF: Don't create unnecessary objects
PERF: change inject({}) with Hash + map
PERF: Hash[] + map is faster than this silly inject, and var[1..-1] is faster than var.sub('@', '')
Rename _assigns to view_assigns in AV::TC
Section 6, table, typo (extra '.rb')
Section 4.3, wrong word used: 'contact' => 'content'
Section 3.3: '# bundle install' instead of just 'bundle install'
Section 3.2, table: 'README.rdoc' -> 'README'
Removed unnecessary 'the' in the '2.2.9 Active Suport' section of Getting Started.
Add support for table aliasing, with a test that needs aliasing in order to work correctly. This test incidentally provides a more complicated test case (4 inner joins, 2 using polymorphism).
Integrate nested support into ThroughAssociationScope, using my concept of generating a 'chain' of reflections to be joined. It seems to work at the moment, all existing tests are passing. There may be further complications as we add more test cases for nested associations, though.
Be more explicit about what is deprecated.
Deprecate generators in Railties. You should use app_generators instead.
:'' is not valid ruby.
added test for form_for with search_field
reload_routes! is part of the public API and should not be removed.
Refactor AssociationCollection#include? with objects in memory
Revert "Perf: refactor _assign method to avoid inject and defining unneeded local var."
removing more duplicate code.  :'(
fixing warnings with regexps on assert_match
removing more duplicate code
delete repeated code
remove another lolinject
use a method that actually exists
speed up index_by by removing a lolinject
removing AS::Testing::Default in favor of just undefing default_test
brings csrf_meta_tags back to the generated layout
Started implementing nested :through associations by using the existing structure of ThroughAssociationScope rather than layering a module over the top
Arel::Sql::Engine.new does not do anything anymore
type_name should check for blank because people may have messed up databases
Prevent test_has_many_through_a_has_many_through_association_on_through_reflection failing for me due to ordering of the results
build_where should be private
type_name is never a blank string, so use faster .nil? call
AssociationCollection#include? working properly for objects added with build method [#3472 state:resolved]
speeding up object instantiation by eliminating instance_eval
changing map and include to find
[#5441 state:resolved] refactoring code to determine aggregate column
group clause must be more specific
Tests proving #5441
no need to check for nil
assert on empty array is always true. fixing test.
Action Mailer Basics guide - reformatted configuration table
Action Mailer Basics guide - fixed typos
Revert "removing crazy finalizer code until there is proof that we need it"
Add more information to comments.
Try to guess application's directory while trying to run the server, but only if config.ru is not present in current dir
Moved Rails::RoutesReloader to Rails::Application::RoutesReloader
Allow running generators for Engine with usage of other application.
Added config.app_generators to allow configuring application's generators from railties.
Move routes_reloader to a class: RoutesReloader
Properly reload routes defined in class definition
Allow mounting engines at '/'
Do not overwrite _railtie method on namespace while creating isolated engine or application.
Use .find here as it is simpler and faster.
avoid creating a block if possible
fixing regexp warnings
tag value can be false, so nil? check is necessary
double negative is not good
another case of extra nil? check
no need to check for nil?
no need to check for nil?
no need of nil check
Support Attribute#asc and Attribute#desc to create orderings
no need of nil check
removing crazy finalizer code until there is proof that we need it
removing useless code
In SQL visitor, too. :)
dry up method checking in the request object
Support visiting Arel_Attribute_Float
reduce function calls on Array
removing more lolinject
removing lollerject
self is implied, so remove self
dry up method missing
Don't reassign array in ToSql#visit_Arel_Nodes_NotIn
adding better dot file support for our nodes
fixing column escape for IN nodes. [resolves:5732]
tiny correction to readme
Make PostgreSQL play nice with its friends. (matches -> ILIKE instead of LIKE)
Add support for remaining *_any/*_all attribute methods, and add matches/does_not_match/not_in
oops, missed a uniq
dry up action_methods
fixing space error
Use detect instead select to avoid "sh: [mysqldump]: command not found".
eliminating method_missing on TableDefinition
no need to call e.class
DRY up postgresql quote logic
fixing where clause indentation
use consistent method calls for column inspection
require pg when this adapter is loaded
only reopen ConnectionAdapters once
use inheritence to deal with custom methods
fisting test organization
just use if rather than nil?
just require sqlite3 when the database adapter is required
We can't assign @view_context_class here, define super() in test instead if we want to avoid warnings.
Add eq_any.
_ is not a valid scheme name character, \w includes it and also is redundant with \d.
Remove redundant conditional.
Don't try to interpolate string if there's no interpolation point at all.
Test correct method behaviour.
Initialize @view_context_class and cache view_context_class value.
Cleanup of the References section.
Removed obsolete "advanced" plugin URLs.
Ensure that named routes do not overwrite previously defined routes.
use subquery for limit when DISTINCT is used (in Oracle)
@_etag is not used anywhere.
Avoid (@_var ||= nil) pattern by using initialize methods and ensuring everyone calls super as expected.
added missing require 'spec_helper' in crud_spec.rb
Add gem 'arel' from git commented out as an example of how to Bundle egde Rails with Arel edge
removing more useless code!  yay!
SqlLiteral is a string, so we can dry up these conditionals
shorten up or sql literal creation statements
adding an easy way for sql literal nodes
we only care about arrays and strings
dry up calls to arel.join()
removing unused lasgns
refactoring join_sql to return nil if there are no sources
making select manager public
refactoring to remove crazy logic
where_values_hash always returns a hash
performance improvement based on discussion at http://github.com/rails/rails/commit/fbd1d306b95cc2efb6422e12d26d5818a3a42343
Revert "porting 515917f5d8678af6c57842ca5dfd7c18e67ff1fe to master"
Revert "porting 066518295032a8e3f3468737337b8c8299442867 to master.  Thanks Marcelo Giorgi"
removing a conditional that is not used
fisting the postgresql tests
Enable warnings now that they can be readed.
Remove methods to avoid warnings.
Change test to avoid warnings.
Redefine duplicated test name.
Redefine duplicated test name.
Use redefine_method since baz is already defined.
Define @_layout if it is not defined.
Initialize @path.
Use helper method here.
Silence warnings here, only setting Encoding.default_external for testing.
Silence warnings here, only setting Encoding.default_external for testing.
Remove more warnings on AP.
Define @title to avoid warnings.
Use instance_variable_defined? instead instance_variable_get in tests.
Initialize ivars in tests.
Remove useless string line causing a warning.
Remove more warnings by initializing variables in test.
Remove more warnings: no need to define attr_accessor if already exists. Initialize ivar.
Use redefine_method instead define_method, it may be already defined.
Remove duplicated class test. copy/paste fail?
Remove method if exists, avoid calling Array#first so many times.
Remove more warnings on variables.
Initialize @trusted_proxies.
Initialize @compiled_at if it is not.
Remove warings from rescues: don't define more than once debug_hash method and ask if @response if defined.
Remove remaining warnings on _trace by adding parenthesis to gsub arguments.
Use parenthesis to avoid ambiguous first argument warning.
undef method if already defined.
Remove useless use of :: in void context.
Ask if the instance variable is defined before asking for it, avoid *many* warnings.
Add parenthesis to avoid syntax warnings.
Avoid more uninitialized variable warnings.
Remove duplicated method.
Initialize @sub_templates
Initialize @_virtual_path path ivar.
Rename tests to avoid name collisions and warnings when running rake task.
Rename duplicated test, and give it a correct name. Remove nonsense line.
Remove duplicated test.
@selected may not be defined here, avoid warning.
Set attributes properly for model built from association with conditions [#5562 state:resolved]
convert inject to map + join
Don't define _test_case method if already defined.
No need to call super here. Use yield instead block.call
Initialize @app if it doesn't exists.
each works well too
no need for splat and flatten
avoid calling to_sql when we can
removing an inject + merge in favor of Hash#[]
fixing indentation warning
Test add_index and remove_index with a symbol name #4891
porting 066518295032a8e3f3468737337b8c8299442867 to master.  Thanks Marcelo Giorgi
porting 515917f5d8678af6c57842ca5dfd7c18e67ff1fe to master
added missing method visit_Arel_Attributes_Decimal as alias for visit_Arel_Attributes_Attribute
pass primary key name and value to ActiveRecord adapter insert method
Move uri parser to AS as URI.parser method to reuse it in AP and ARes.
use new skool Ruby instead of Ruby Classicâ„¢
be kind to the garbage collector: only instantiate objects when absolutely necessary
adding test cases for the dynamic finder matcher match method
constructor should not do so much work; avoid allocating object if possible
Move uri parser to AS as URI.parser method to reuse it in AP and ARes.
@klass also uses DynamicFinderMatch, so no need for it on the relation
no need for a case / when statement
do not need intermediate variable, avoid lasgn
DRY up our regular expression
reduce method calls in the dynamic finder matcher
revises RDoc of Hash#to_param to be more precise about ordering
let Hash#to_param and Hash#to_query sort again
make sure we use the engine assigned to the table when quoting
Test for after_create callback order in ActiveSupport [#5703 state:resolved]
after_create in ActiveModel should in the order specified
renderer calls object.to_json when rendering :json => object [#5655 state:resolved]
these readers should be accessors
Properly initialize variables inside the initialize method.
changing method name to be more clear
requiring date at the top of the visitor
to_sql on nodes may be passed an engine
'sqlite3' ==> {:adapter => 'sqlite3'}
Define @_routes inside method, makes more sense and will be initialized when called anywhere.
Remove more warnings shadowing outer local variable.
Remove warning "URI.unescape is obsolete" from actionpack.
Do not cache the script name outcome.
Call it compile_methods! and do the same on AM.
adding a test for slug behavior
using the last seen column for quoting
- added mock to test ActiveResource::MissingPrefixParam in finder_test
- update exceptions documentation
- check prefix options in collection_path
- better name for prefix param test case
- refactoring, move prefix_options check to a custom method
- elmenth_path raise an ActiveResource::MissingPrefixParam exception when prefix_options does not has all required prefix_options ex: class StreetAddress < ActiveResource::Base self.site = "http://37s.sunrise.i:3000/people/:person_id/" end
Three performance improvements:
depending on arel 2.0.0
Assume compute_asset_host returns reasonable values.
Convert unless/else into if/else.
Performance: refactor convert_options_to_data_attributes.
Remove dead code.
Clean up url_for.
Hash#empty? is faster than Enumerable#any? when used on a Hash.
Do a single string interpolation.
Simple .empty? test will do fine here (rails_asset_id returns nice strings).
options[:action] is very likely to be nil.
Make assert_valid_keys slightly faster.
No need for an extra wrapper array.
Cache 2 of Request's commonly called methods.
Cache url_options on a per-request basis.
No need to create a separate lambda for each call.
Make asset extension rewriting faster.
Optimize relative_url_root rewriting code.
Use native attr_* macros for performance reasons.
Creating singleton class for every object whenever the instance-level accessor is used quite is expensive.
Try to use Hash's native #[] for speed.
Make InheritableOptions's constructor more flexible.
Compile ActionController::Base.config's methods to avoid method_missing overhead.
_routes must be inside @controller conditional.
Initialize @_routes if not defined yet, avoiding more warnings.
Rename duplicated test name.
Refactor method to avoid warnings and not run unnecessary code.
Avoid uninitialized variable warning.
Initialize @_request and @_response.
Remove method previous method if already defined.
Define @emitted_hidden_id if it doesn't exists and reuse it if it does.
Avoid uninitialized variable warning.
Initialize @cookies.
Remove more warnings shadowing outer local variable.
Don't shadow outer local variables.
Remove method if already exists to avoid warnings.
Remove duplicated test.
Avoid uninitialized variable warning, reuse @integration_session.
Ask is @controller is defined to avoid warning.
Initialize @_routes if it doesn't exists.
Remove warning "too many arguments for format string" when interpolating with empty hash.
Initialize @_etag.
Initialize @as before plural method is called.
Remove old method before redefining it.
Remove warning "URI.unescape is obsolete" from actionpack.
Use parentheses when using assert_match followed by a regexp to avoid warnings.
Don't redefine existing attributes accessors.
Prevent shadowing outer local variable.
third parameter is not used
db:structure:dump should list current Rails.env adapter in errors, not always the test adapter
caching quoted values
Not need to do this double ternary
port is appended twice to HTTP_HOST when host already has the port
Initial nested_has_many_through support [#1152]
Bump up some deps
Partial revert of #d650b71 'Remove deprecated stuff in ActionController'
We don't need to check if the format exists to generate the url, it already does it internally
More cleanup on form helpers
Remove last tests with deprecated form_for and cleanup form_for helper
Select tags with array options are deprecated, removing
Refactor form_for helper
Review most of the form_for deprecated tests, missing tests with index like []
Remove deprecated stuff in ActionController
There is no need to open AC::Base three times to setup tests.
There is no DeprecatedBlockHelpers in AV, so remove it
Refactor a few methods connected with namespacing in Rails::Generators::NamedBase
Add namespacing to mailer generator
Add namespacing for observer generator
Add namespace for test_unit generators
Allow per Resource format settings
review comments
add section about email with name
Allow ActiveResource to work with non-generated ids [#5660 state:resolved]
Remove duplicate helper method
Update abort message (ht: tilsammans).
Add section about multiple recipients
Don't act destructively on ActiveModel::Name#human options hash. [#5366 state:resolved]
Don't duplicate Rack::Response functionality. [#5320 state:resolved]
Add ActionDispatch::TestResponse tests.
Rails.application is set anyway, we don't need to set it manually, this was purpose of different behavior in tests and in application
Generators fix: properly check if module should be created when creating a namespaced model
hoe sets the default task for us
adding mit license
Arel is MIT licensed.
updating version
removing the version file
updating Rakefile with development dependencies
adding a manifest, converting to Hoe, generating gemspec
Updated 'Action Controller Overview' guide to rails 3 and fixed a few URLs throwing 404s.
memoized protected methods should remain protected
removing unused rake tasks
removing more unused files
deleting lots of unused files
Delegate ActiveRecord::Base.offset to scoped methods (analogous to limit) [#5688 state:resolved]
specs run without an AR connection
removing tasks that hoe will provide
use a real editor
turning on warnings
removing the v1 rake task
shuffling around the spec directory
yay, more oracle hacks
fixing formatting
attr_accessor_with_default should raise an ArgumentError not a RuntimeError
Updated all forms to accept UTF-8 encoding in Form Helpers guide wrt Rails 3.
avoid modifying the ast in certain cases
got rid of the "ambiguous first argument; put parentheses or even spaces" warnings in the scaffold_generator tests [#4872 state:resolved]
Bump thor version requirement.
Refactor namespaced generators to use module_namespacing block helper
Generators are not aware of namespace of isolated engines and applications
adding offset edge
restore behavior of touch for models without :updated_xx [#5439 state:resolved]
Properly interpolate i18n keys in modules [#5572 state:resolved]
adding more oracle hacks
dealing with limits and offsets
creating a subquery when there is an order and a limit
adding an oracle visitor
using the connection pool while visiting
These tests shouldn't depend on local time to pass or fail, we can use utc here.
Ensures the app generator generates the correct @app_name. [#5434 state:resolved]
There is no need to use instance_eval since the proc is created in the same context it is eval'ed.
only abort in test_help in production env
Make redirect_to accept blocks [#5643 state:resolved]
Better shortcut options for custom validators [#5672 state:resolved]
reject_id option should be respected while using nested_attributes
Minor rephrasing in Active Record Quering and Layouts and Rendering guides. Example code fixes in Layouts and Rendering guide.
Changed documentation for auto_link so that the truncate example works [#5694 state:resolved]
caching visitor on a per engine basis
Updated guide to use ActiveRecord::Base.where instead of ActiveRecord::Base.find. Added `where` as a method to has_many and has_and_belongs_to_many collections.
changing accessor to a writer
removing duplicate code
moving visitors around
moving expression up to function class
reordering order clauses :'(
writing code that makes me sad
adding a select statment visitor
adding a postgres adapter
ignoring alias
resolves rdoc conflict
Hash#to_s behaves differently between 1.8 and 1.9, so adjust accordingly
Improve performance of applications using file uploads by not busting the method cache on every request containing a file upload.
fixing bug with rails use of rack-test
switch present in favor of empty
quoting update values using the column
third parameter for rack must respond to each
testing poor behavior of hash serialization
Use map, no need to use inject here.
Perf: speed up json encoding.
Refactor inject use in hash conversions.
Perf: speed up 2 methods in railties.
Perf: refactor methods using inject when not need in activemodel.
No need to use inject here.
Refactor routing methods.
Refactor decode_credentials to avoid inject and use map instead.
Perf: refactor _assign method to avoid inject and defining unneeded local var.
Refactor methods in html node to avoid injects.
Refactor association_collection uniq method.
No need to use inject here.
Perf: refactor method.
No need to use inject here, use map instead.
Goodbye inject, hello map.
Use map instead inject.
some fixes in routing guide
Missing the mysql2 gem here
Error message should advice to use 'mysql2' gem.
avoid a proc object
avoid creating a range object
form_for with file_field docs fixed
drying up construct_association
dry up some conditionals
fixing case / when indentation
fix case / when indentation
avoid a hash lookup
remove more codes
deleting more code
use each properly to avoid splatting a variable
deleting repeated codes
do not pass nil values to arel
refacoring duplicate code. <3 <3 <3
this reject can be replaced with compact
removing unused code
remove some repeated code
break up giant method
api guidelines: adds Test::Unit and RSpec as examples of correct spelling, also advice when in doubt
removing lolinject
fixing tests.  woo
remove join table rows before removing owner row for habtm associations, fixes#5674
providing arel with column information when possible [#5392 state:resolved]
constructor can take column info
un-nodocs AR::Batches
fixing tests for mysql2
making stuff work on mysql
Remove helper methods that were moved to helper.rb
Document form_for behaviour when using file_field inside the block
Move helper methods to helper.rb. Make test not depend on local TZ to pass or fail.
supporting ranges for IN statements
dealing with empty in statements
removing some debugging code.  oops!
List all of isolated engine changes
using aliases for terminal nodes
from does not need to be a list
adding crazy code to fix the last two AR tests
use instance_eval, reduce method calls.
Remove mention of Rails 3 deprecated option config.action_controller.use_accept_header.
Strengthen documantation on engine's migrations and seed data
Add helper for loading seed data for engine and application
file_field propagates up multipart property even inside of fields_for
Updating error message on ruby_version_check.rb
Send 'rails runner' help message to stdout instead of stderr.
application.js should be the last file on javascript_include_tag(:all)
Exception handling more readable
Use `Time.current` to maintain consistency with AS::Duration
Remove unnecessary puts
adds to the API guidelines the proper spelling of Arel
removing some warnings
freeze is not necessary
argument error is done for us
if FROM is a string, convert to string literal
[CI] Remove RailTies temporary directory on every run
file_field makes the enclosing form multipart
Remove existing migration when using 'rails generate model' with --force [#5526 state:committed]
make sure a Content-Length header exists and that the response.body is not nil before trying to call methods on it. Rack does not allow HTTP 204 responses to have a content-length header set. [#5038 state:resolved]
test for #5038
Move capture to Kernel. [#5641 state:resolved]
Raise errors when index creation fails
expanding the test to include both type of order declaration while declaring default_scope
remove irrelevant comments
returning nil for tables that do not exist
Raise ArgumentError instead of normalizing controller name when there is a leading slash [#5651 state:resolved]
updated instructions on how to change the default session store
updated instructions to generate the migration for the ActiveRecord session store table
Updated yaffle_test.rb from 2.2 to require 'test_helper' and extend ActiveSupport::TestCase
Removed leading : from database.yml file
Updated output that should be seen from the initial rake
Updated test_helper.rb to require the init.rb file from the correct folder
removed leading : from database.yml file.  dbfile has been updated to database in database.yml
rails/init.rb is deprecated, so keep init.rb in root of plugin.  updated for 1.3 Organized Your Files
Remove leading slash from controller [#5651 state:resolved]
'rails generate plugin' --with-generator option has changed to --generator.  Updated the output that is seen after executing 'rails generate plugin yaffle --generator'
added 'bundle install' command to h4. Create the Basic Application
remove if defined?
Small tweak the ConditionalGet documentation
Update Rails' built in routes to use RouteSet#append
Add RouteSet#append
Refactor setup methods by extracting them in abstract_unit, remove TODO.
Remove TODO and support all expected attributes.
using a Hash with default proc to memoize dispatch methods
Tiny fixes to rdoc
Typos
Revert "Table#[] returns nil when table does not exist"
Table#[] returns nil when table does not exist
removing nonsensical tests, limit now actually adds a limit
@join_values is passed in, so we should use the parameter
Only add Rack::Cache to the middleware stack if config.action_controller.perform_caching is set.
right side set to sqlliteral if it is a string
JoinSql visitor will visit left side if left is a join
adding a grouping node
Updated old fashion form_for samples.
Updated the Cache Money repo link to one that works with Rails 3.
fixed an unclear description in Sigular Resources.
refactoring expressions to a module
adding sum to sql literal
VALUES are getting better everyday
visiting value nodes in the dot visitor
adding an EXISTS node, update method will generate an IN clause
adding orders edge to the dot visitor
adding table alias to the TableAlias node
Require lazy_load_hooks.rb with the correct path.
require i18n in transliterate so it can run in isolated situations
adding AND nodes to dot visitor
updating gemspec
sql visitor should emit a table alias name when visiting an attribute, if a table alias exists.
dot visitor for binary nodes
Application settings are specified in application.rb and not environment.rb
get csrf_meta_tag back to the generated layout in deference to existing printed material, chomp also the generated HTML to be faithful to the output before the refactor
Update changelog
Add tests for Rack::Cache
First pass at Rack::Cache
Only send secure cookies over SSL.
reviews 02656ac
copy-edits 4eb8987
Reference watch_namespaces in comments instead of watch_modules
Allow view helper's #initialize method to be called. [#5061 state:resolved]
Guides: Add test directory to load path to run individual test files.
Add documentation for `:spacer_template` in Rails 3
stop the warnings
totally lame, but arel expects FROM to only be one item
order accepts symbols for clauses
OUTER JOIN should be LEFT OUTER JOIN
added documentation for :as and :object in PartialRenderer
supporting symbols for group statements
using table_alias when :as is passed to the constructor
visiting constraint edges of joins
adding some backwards compatibility
only visiting left side if left side is a JOIN
supporting StringJoin in the JoinSQL visitor
Remove dummy method definition in favor of RDoc hints:
removes /i from the TRUSTED_PROXIES regexp, adds /x and comments for readability, adds a pointer to a Wikipedia section that documents the matched IPs
added block arguments to ActionController::Metal#use
gets rid of a double negation, no need to force exactly true/false in a predicate
Change singular to param_key in form_helper, param_key is now used for generating field names
Partial revert of commit #7fae0aa4ac116 removing action_dispatch.prepare_dispatcher per commit #48bf667a8b1
revises implementation and documentation of csrf_meta_tags, and aliases csrf_meta_tag to it for backwards compatibilty
Updating ActionMailer dependency to 2.2.6
Add test for Hash visitor.
We can visit hash.
Add Min node.
Visit ActiveSupport Multibyte Chars if ActiveSupport is defined.
Add maximum to SqlLiteral.
implementing locked
backwards compat
inserting false works a bit better
fixing indentation
adding some backwards compatibility for AR
adding not equal node, column names are expected to be symbols
passing the quoted id to arel if the object has a quoted id
converting an inject to a map + Hash[]
differentiating equality and assignment
equality should handle nil correctly
Add more examples in performance script.
Ruby 1.9 compat: convert Pathname to string
Include addressable for AR perf bench
Switch back to mysql for easier comparison
specific number of spaces should not be enforced
added a greater than node
added greater than or equal to node
append asset IDs to the examples of the RDoc of #javascript_include_tag, and quick edit pass
adding "orders" method
avoid method_missing and reduce method calls
we can visit DateTime
adding an offset node
Set default asset_path only for engine
intersection between a relation and an array works in both directions
added a test for relation which checks intersection between a relation and an array works in both directions
fixed Subject model after_initialize callback for test_oracle_synonym test
Add configuration option for tld length
Let YARD document the railties gem
Simplify form_for by removing *args and extract_options! (at asakusa.rb)
adding taken method to return the limit value
adding a deprecated method for rails
adding a Value node so that SqlLiteral values may be used
Cheaper attribute reads and respond_to?. Add underscore-prefixed method aliased to the attribute name so it can be overridden but still called internally.
Fewer object allocations
Cheaper attribute_method_matchers
Cache unserialized attributes
AR perf test: switch to mysql2, bundle faker and rbench
Refactor finder conditions look up and assigment for apply_finder_conditions.
Refactor Relation#only. No need to go through every option and test it.
Add tests for Relation#only.
No need to go through every option and test it, just don't add skipped ones.
return is not needed here
remove unnecessary call
creating a new array is required.  who knew? :-(
no need for Array.wrap, also avoid array creation
make apply_modules run faster
Table#join will noop when nil is passed
Adding linkage to redirect_to from Base and adding status code option reference
adding locking node to the AST
eliminate present? for fewer method calls
returning arrays lets us avoid Array.wrap
removing unnecessary conditional test
switch to blank? to avoid method calls
we can visit floats!
average node is added
refactor to use faster empty?
drying up joins()
adding having nodes
reduce method calls, use reject + blank? instead of select + present?
adding maximum nodes
as is implemented
we can visit big decimal
adding a sum node
refactor a couple injects to map + Hash[]
avoid an inject in favor of dup
visiting symbols in the SQL visitor
Table#project takes multiple parameters
Change app to main_app in mounted_helpers
Do not require passing :app to mounted helpers, it's actually useless and not DRY
on can take multiple args
moving deprecated constants to the correct place
attributes should be constructed with table objects
count takes distinct
attributes should be associated with tables
adding "as" and to_sql to count nodes
group is implemented on table
adding group to Table
group nodes are working!
nooping on nil parameters
OUTER joins should be LEFT outer joins
visiting outer joins
getting better on joins
failing test for join on select manager
joins are starting to work better
adding joins method to Table
adding backwards compat nodes
serialized attributes should be serialized before validation [#5525 state:resolved]
no need to freeze this string
fixed some issues with JSON encoding
removing useless code, cleaning variable names
doing sql literal conversion
select should raise error when no block or no parameter is passed
select does not need a *args
revision of typo: crytographically [#5566 state:resolved]
unscoped has nothing so merging with a relation just returns the relation
cleaning up confusing logic
dot visitor can visit count nodes
adding backwards compat methods
fixing warning
select manager responds to order
Wrap all occurences of <script> in a <tt> tag in docs [#5537 state:committed]
Add documentation on serving assets from engine strategies
Use railties:copy_migrations instead of db:copy_migrations
Modified changelog for 3.1.0
Added task for creating symlinks to engines' public directories
Start cleanup of deprecations in ActionView
Cleanup Action Dispatch assertions tests
Cleanup deprecations in Action Dispatch
Cleanup deprecation warnings in Action Controller
Refactor AR validations a bit
Cleanup deprecation warnings in active record
Remove all deprecation warnings in activeresource
Remove deprecation warnings in railties
Improved indentation
Use scoped here to get the scoped where
fixing version so tests run with rails
Refactor a bit dependencies logging
Improve dependencies by not calling constantize(const) twice while removing unloadable constants
Remove a few tests from old router that do not make sense with the new one.
Make number_to_human and number_with_precision work with negatives
Deleted test with extended regexp - it fails with no reason, probably rack-mount is doing something weird with that regexp
This test is invalid for new router
Removed deprecated_mapper - we don't need it anymore
Removed tests for setting default value of *path in route
Made test_generate pass
If it's unused there's no reason to keep it commented. It will always remain in git history, so removing it.
Ported missing functionality from Rails 2.3.x, raise error on wrong regexps in :constraints in routes
Removed rest of errors and failures in routing_test.rb. Almost all squashed, only few left
raise error on invalid HTTP methods or :head passed with :via in routes
Implemented resources :foos, :except => :all option
Removed deprecated router API from railties
Test for recognizing routes with http method set
Revert "Extended default route for match in tests - now it matches controller, action, id and format if given."
Extended default route for match in tests - now it matches controller, action, id and format if given.
Removed deprecated RouteSet API, still many tests fail
Make scoped reorder override previous applied orders
failing test for reorder overriding default_scope
order should always be concatenated.
Remove more deprecated behavior from plugins.
Small tidy up on Rails::Engine.
This commit merges most of the work done by Piotr Sarnacki in his Ruby Summer of Code project.
Do not use ActionController::Base.page_cache_extension in initialize to not load more ActiveSupport than we need
Optimize ActionDispatch::Static
Forgot to move that line to railtie on rebase
I've changed that test along the way, it should actually stay without changes
Use default_scope in isolated Engines to not force user to scope his routes
Implemented RouteSet#default_scope, which allows to set the scope for the entire routes object
engines_blank_point should always be the last initializer in Engine
We should avoid creating additional initializers when we can, adding them makes boot process slower
Add some documantation on new route_key and param_key in ActiveModel::Naming
Remove namespace for isolated namespaced models in forms
Use new ActiveModel::Naming.route_key in polymorphic_routes
Prepared ActiveModel::Naming to handle cases for namespaced isolated engines
Add some more docs on polymorphic_url with routes proxy
Add short note on using url_for instead of directly calling named route in polymorphic_url
Add possibility to explicitly call engine's routes through polymorphic_routes, for example: polymorphic_url([blog, @post])
Updated tests to use scope(:module => :engine_name) instead of namespace and updated mounted engine tests to actually use the namespacing
Move RoutesProxy to separate file
Include all helpers from non-namespaced engines
Set only helpers_path on inherited hook in action_controller/railtie.rb and use helper(:all) just after that
Added more tests for polymorphic_url with namespaced models and implemented missing use cases
This was used only to clear warning in ActionMailer tests, it shouldn't be done like that
Moved ActionMailer and ActionController railties options to inherited hook
Modified polymorphic_url to check for model's namespace
Get rid of static_paths method and instead configure paths for ActionDispatch::Static in initializers
We don't need to clear action_methods on inherited hook as they are cleaned on method_added hook
ActionMailer should not depend on ActionDispatch
Refactor RoutesProxy to avoid using _with_routes in helpers
Documented mounted helpers
Document engine_name
Added documentation for namespaced Engine
Add table_name_prefix to Engine's namespace automatically
Rename isolated_engine_for to namespace
Refactor ActionMailer to not use hide_actions
Move ActionController::Railties::RoutesHelpers and ActionMailer::Railties::RoutesHelper to AbstractController::Railties::RoutesHelpers
Include routes helpers only for inherited classes in ActionMailer
Include application's helpers and router helpers by default, but include engine's ones for controllers inside isolated namespace
For view_context we need to initialize RoutesProxy in context of controller, not view, quick fix, I need to dig into it later
mounted helpers should be included in ActionMailer
This is not needed
Engine's assets are now served with ActionDispatch::Static
Modified ActionDispatch::Static to allow passing multiple roots
Set asset_path to engine_name by default
Always convert railtie_name to string
rake db:copy_migrations task, which copies railties migrations into application's db/migrate directory
Implemented ActiveRecord::Migrations#copy based on James Adam's idea
Added tests for railtie_name and aliased it in engine as engine_name
Add Rails::Railtie.railtie_name method to allow setting custom name for railtie
Added Rails.application.config.paths.db.migrate to remove hardcoded db/migrate paths
to_param shoul return a string
We don't need delegating polymorphic_url and polymorphic_path anymore
Added ability to set asset_path for engines
Ensure that Rails.application.initialize! is called only once
Added documentation on endpoint, middeware stack and routes for Engine
We don't need that initializer in tests
Ensure that url_helpers included after application's ones have higher priority
Add mounted_helpers to routes
Routes refactoring:
Use new url_for API instead of including routes.url_helpers
Ensure that env is always available in controllers
Extended url_for to handle specifying which router should be used.
Added some more tests for url generation between Engine and Application
Get rid of :skip_prefix options in routes
Refactored tests for prefix generation and added test for url generation in regular class with default_url_options[:script_name] set
New way of generating urls for Application from Engine.
Allow to generate Application routes inside Engine
Pass routes via env['action_dispatch.routes'], it's needed by routes to determine if it should generate prefix for mounted apps
Use env['action_dispatch.routes'] to determine if we should generate prefix or not.
Move singleton pattern to Railtie and remove Engine::Configurable and Application::Configurable in favor of unified Railtie::Configurable
Removed most of deprecated stuff from Application and Engine
Allow Engines loading its own environment file from config/environments
Ensure that plugins are not loaded twice
We don't need to add railties initlaizers in Application as there is already done in Engine and it's called with super
Removed ActionDispatch::Static, but left empty MiddlewareStack to unify app method between Engine and Application
We don't need to overwrite default paths in tests
Ensure that init.rb is evaled in context of Engine
Engine can now serve files with ActionDispatch::Static
Engine sets routes as default rack endpoint if no endpoint was given
Delegate non existing class methods to instance for Engine
Added TODO for evaling init.rb in context of Engine
Gather initializers from railties in engines to get rid of additional looping through initializers
Engine can now load its own plugins
Made Engine valid rack app with its own middleware stack
require 'active_support/dependencies' in action_dispatch/middleware/stack
too many people are looking for the 2.3 guides, put by now a link at the top of the home, and add the Rails version in the main header
A few schema changes for the SQL Server adapter.
Revert "Setup explicit requires for files with exceptions. Removed them from autoloading."
Add two integration tests for GeneratedAttribute missing type error. [#5461 state:resolved]
Output a friendly message when no type given for GeneratedAttribute [#5461 state:resolved]
Failing test for GeneratedAttribute [#5461 state:open]
ActiveModel#to_xml fix (renamed parameter).
Remove deprecated dispatch test.
Ensure routes are loaded only after the initialization process finishes, ensuring all configuration options were applied.
Setup explicit requires for files with exceptions. Removed them from autoloading.
Cleaned up autoload definitions.
Removing RJS hack
Removing unnecessary code from render_test
Removing unnecessary code
remove use of echo [#4410 state:resolved]
"rails console t" must not load "production" but "test"
Add ruby-debug19 for mri 1.9
Dont need to spell out the dependency
Have sections for both Ruby 1.8.7 and 1.9.2 for the debugger since they use different gems
Reset default scope in Thread.current when class is unloaded [#5497 state:resolved]
Add before_remove_const callback to ActiveSupport::Dependencies.remove_unloadable_constants!
Add missing lookup keys for error messages
Use new finders syntax in docs.
Refactoring conditional logic
reader method eliminates defined? checks
Move implicit nested call before options handling so that nested constraints work [#5513 state:resolved]
Added :format option for form_for helper and spec for this [#5226 state:resolved]
split out active_record migration logic so others can easily reuse [#5389 state:resolved]
delegate method should treat :prefix => false same as :prefix => nil
Remove unnecessary code from UrlHelper#link_to.
Make ActiveSupport::Duration#method_missing delegate blocks to value [#5498 state:resolved]
nested attributes tests should rely on associated objects to verify results not on assert_difference [#5206 state:resolved]
Use join instead of looping and calling to_s [#5492 state:resolved]
fix typo(?)
Bump rack-mount to 0.6.13 and add test case for named character classes [#5509 state:resolved]
Make all the Relation finder methods consistent
Remove default values for Relation#limit/offset/from/create_with
Avoid calling build_where is no argument is given.
Change relation merging to always append select, group and order values
Improved conditionals usage to prevent calling methods.
Don't test conditional in iteration if it is not present just clone it.
If certain sections of skip_callback method are commented out then no test was failing. Tests have been added to ensure that commenting out the code within if loop would cause test failure.
replacing superclass_delegating_accessor with class_attribute
Replacing superclass_delegating_accessoror with class_attribute.
Replacing superclass_delegating_accessoror with class_attribute.
adding new test for ActiveModel::Serialization
Bring back build to the initialization guide
Speed up form_for by specializing extract_options! (at asakusa.rb)
Speed up content_tag_for by simplifying needed logic
Corrected typo in example on rendering collections in partials changing @posts to @products to match the example
Update the section about joins
Reword calculations section
Reword the section about exists?
Improve example for having()
Remove {} from hash conditions. And more occurrences of [] in array conditions
Array conditions dont need []
deep copies of statements aren't necessary. shallow copy the top-level arrays.
resolves merge conflict
fixing typos in spec
specs for DeleteManager deep copy
User.each is a lie
Remove mention of InstantRails, it is completely obsolete.
Remove beta and RC paths in documentation
Revert "refer to guides since 3.0 is released now"
Revert "Revert "refer to guides since 3.0 is released now""
Revert "refer to guides since 3.0 is released now"
refer to guides since 3.0 is released now
refer to guides since 3.0 is released now
fix the cache_fu links
Update README to match Rails 3 generated directory structure
let String#strip_heredoc handle blank lines even if they are not indented
The command for creating the sessions table has changed
Adding option to ActiveResource to allow you to not reset the previously stored requests and responses by passing false to respond_to
Updating documentation on ActiveResource HTTP Mock and also adding test coverage
Update CHANGELOGs for 3.0 release and upcoming 3.1
Remove NonConcattingString.
Remove deprecated support to <% form_for %> and several ActionController::Base methods.
Remove constants deprecation.
Remove deprecations in ActiveModel.
Deprecate the old mailer API that was not deprecated yet.
Bump arel to 1.0.1
Remove the deprecated API from ActionMailer.
Add .yardopts so YARD can document Rails
implements String#strip_heredoc
revises a deprecation message
-v=1.0.0 not needed
Make CI install bundler stable since 1.0 is out
No more beta or rc on guides
Depend on Bundler 1.0 w/ tiny fixes
Depend on ARel 1.0 w/ tiny fixes
Make rake routes gracefully handle routes with no name
Ensure we are not calling length on nil.
PERF: Avoid two method calls
Clean up CHANGELOGs
Support pluggable cache stores.
Expanded routing documentation with current best practices
Rework the routing documentation.
Ensure that inherited helper_methods are available after calling clear_helpers [#5348 state:resolved]
Micro optimization for build_named_route_call in PolymorphicRoutes:
password_field renders with nil value by default
type="password" for password_fields
Read the route name directly from the route instead of looking it up in the named routes hash
The call-seq directive has no useful effect on our documentation and is not used anywhere else.
Use common terminology
Revert "call-seq directive makes rdoc cry and replaces method names with a curly brace; besides it doesn't add anything when you only list one call example since this is obviously documented already"
solves everything in guides raised by WARNINGS=1 (except for one which is abandoned atm)
adds a comment in cli.rb so that it is clear that exec_script_rails! performs an exec call
escape constants that should not be linked to
mention the alert and notice accessors on the flash
expand cookie examples with signed and permanent methods
call-seq directive makes rdoc cry and replaces method names with a curly brace; besides it doesn't add anything when you only list one call example since this is obviously documented already
Add missing require.
Make InstanceTagMethods#value_before_type_cast raise if the model don't respond to attr_before_type_cast or attr method
Ruby 1.9: be sure to explicitly reference toplevel constants within BasicObject deprecation proxies
Removing some unuseful begin/end and refactor prompt_option_tag a bit
fix sentence fragment in validates_associated caution
updates de title of the generators guide in the home and index
getting started guide: adds a reference to Michael Hartl's free online book in the what's next section
Be sure to call helper :all just on direct children. (Tests by Jesse Storimer)
Doh, be sure to store the string modification.
escape constant names
Reflect how CSRF protection now works and refer to the Security Guide for more information
cleanup of ActionController::Metal inline documentation
Escape 'caching' when used in a sentence; remove unnessesary quotes
Prevent any warnings from being printed during RDoc generation
Simplify render :partial
Do not modify frozen strings in place.
Prefer modern idiom for rendering partials on a collection
Update CHANGELOG.
Add clear_helpers as a way to clean up all helpers added to this controller, maintaing just the helper with the same name as the controller.
Ensure templates like template.html are found but still uses the proper virtual path.
Getting started guide: typo
Link to gembundler.com instead of Github repo
getting started guide: revises text wrt bundler
revises a few link texts
change 'a SQL' to 'an SQL' as suggested by the api documentation guidelines
lifecycle should be two words, life cycle
change 'a SQL' to 'an SQL' as suggested by the api documentation guidelines
lifecycle should be two words, life cycle
Revert "to_json => as_json"
adds missing require for #parameterize
to_json => as_json
to_json => as_json
mysql2 is now the default, typos
Restored top-level documentation for ActionController::Base.
AS guide: Array.wrap vs splat is only valid for 1.8
fixed capitalization
change rdoc to conform to api guidelines
Catch mysql2 access denied errors in rake db:create [#5432 state:resolved]
remove unwanted linebreak
Restore consistency with the rest of the doc.
use blank? instead of present?, mark SQL literals as SQL literals
no need to send on a public method
refactor select { is_a? } to grep()
mark SQL literals as SQL literals
minor formatting fixes
better callstack reporting in deprecation messages
Remove rails info route from rake routes output [#5452 state:resolved]
Make ActiveResource::InvalidRequestError more user friendly
we can visit the date!
return sql literal nodes
adding order clauses method to the select manager
moving visitor logic to the visitor
adding string join nodes and a visitor to produce backwards compatible "join_sql"
Use nested scope for routes defined at the :resources scope level (as in Rails 2.3)
:nodoc:s #unscoped until its behavior is more clear, now sometimes works, sometimes not
edit pass to a recent doc patch
Allow format to be skipped. This is used internally by mount.
Finally fix the bug where symbols and strings were not having the same behavior in the router.
Ensure shortcuts inside resources also generates helpers.
Hide internal apps from rake routes [#5443 state:resolved]
Revert "Use symbols when specifying custom resource actions"
Allow actions which start with A-Za-z_ only
Bump rake dependency to 0.8.4. [#5279 state:resolved]
@user.touch should not fail if User does not have updated_at/updated_on column.
Reset symbolized path parameters when a test request is recycled [#5437 state:resolved]
Ensure prefix in routes are generated properly.
touch operationg if used along with belongs_to will also be invoked on associated objects
fix broken relative links [#5415 state:committed]
Ensure timestamps are not generated when explicitly set to false [#5440 state:resolved]
Add test case for ActiveRecord::Base.record_timestamps = false
When custom resource actions are specified using strings add the default name and action if the string is a valid ruby method name.
Use symbols when specifying custom resource actions
Note about how to exit the console in the Getting Started guide
Master is now targeting 3.1.0.beta
Master is now targeting 3.1.0.beta
mysql db defaults to mysql2 gem
Depend on latest arel RC
Point guides to bundler 1.0.0.rc.6
Depend on latest Bundler RC
Prefer the mysql2 gem for MySQL database.ymls
Config is deprecated on 1.8.8 and 1.9.3 use RbConfig
marking sql literals as sql literals
making variable names a little more clear
Update CHANGELOG for ActionPack.
not implementing to_a yet
project takes *args now
visiting binary columns
AND nodes are supported
we should mark sql strings as sql literals
Squashed commit of the following:
sql literal strings should be marked as sql literal strings
delete delegates to the connection
we should mark strings as SQL Literal values
making sure update delegates to update and insert delegates to insert
mysql2 adapter is being maintained in the mysql2 gem itself
no need to depend on mysql2 master anymore
use database from ARUNIT_DB_NAME environment variable when running tests on Oracle
adding count nodes
unscoped does not work when chained with named_scope
removes words moved in previous edit of the generator generator USAGE
generators guide: edit pass
adds USAGE to the generator generator USAGE (not sure this meta thing is any good at 8:12 AM with little coffee)
orders are working
removing unused code
Do not use time zone in test_read_attributes_before_type_cast_on_datetime for Oracle database
updated test_should_record_timestamp_for_join_table for Oracle
Bump up rack-mount to 0.6.12
type fixed
Silence warnings for Encoding.default_external= and Encoding.default_internal=
Cache the symbolized path parameters using a instance variable in the request object rather than the environment hash. This it to prevent stale parameters in later routing constraints/redirects as only the normal path parameters are set by Rack::Mount.
Set default_internal and default_external on AS for testing purposes
Set default_internal and default_external on AM for testing purposes
Move encoding settings for testing purposes to abstract_unit file
Trifling typos
reload bob after his journy to a new timezone
Revert "Just add connection management middleware if running in a concurrent environment."
prevent RDoc from autolinking "Rails" in the API home page
requires horo 1.0.2
Support routing constraints in functional tests
adding FOUND_ROWS to the connect flags for mysql2
Patch for Lighthouse ticket #5419 has been been applied. So reverting this one.
after_validation should be called irrespective of the result of validation.
documentation regarding after_validation
Don't add the standard https port when using redirect in routes.rb and ensure that request.scheme returns https when using a reverse proxy.
Allow symbols for :path resource(s) option [#5306 state:resolved]
deletes the rdoc task of each component, they are no longer published separately
the pdoc task is no longer needed
fisting after_rollback and after commit callbacks
Bump up tzinfo to 0.3.23
updates return number of rows matched rather than number of rows affected
Optimize find_sti_class when store_full_sti_class is true
Note about validates_presence_of and nested attributes
Note about using attr_accessible with nested attributes
Use attribute readers as they are faster in general.
Move regexps in options hash to :constraints hash so that they are pushed into the scope [#5208 state:resolved]
Move edit route before show route so that it will have precedence if the :id parameter allows slashes [#5409 state:resolved]
While creating a new record using has_many create method default scope of child should be respected.
Bump up rack-mount to 0.6.10
removing useless ternary
adding outer joins
we should wrap strings as sql literals
We need bundle update only here
Memoize STI class lookups for the duration of a request
refactor if / else to ||=
DeleteStatement deep copy
cleaning up describe/it block names
SelectCore deep copies attributes
Statement nodes deep-copy AST nodes
TreeManager classes deep-copy their statements.
avoids warnings about mismatched indentations in Ruby 1.9.2
now for real, the suite loads everything and these went unpatched
avoids a ton o warnings activesupport/lib/active_support/dependencies.rb:239: warning: loading in progress, circular require considered harmful ... activesupport/lib/active_support/core_ext/hash/indifferent_access.rb while running the suite in Ruby 1.9.2
get rid of the warning "+ after local variable is interpreted as binary operator even though it seems like unary operator" in Ruby 1.9.2
Revert "It's snowing!"
joins can be created
refactoring to remove duplicate logic
call to present? is not necessary
delete manager added
Don't pluralize resource methods [#4704 state:resolved]
fixing update support
Bump up rdoc to 2.5.10
Use COALESCE in update_counters docs to reflect the implementation
correcting the documentation which wrongly states that rails/init.rb file of a gem is loaded
fixing typo
run the AS tests in verbose mode
1.8 block variable shadowing strikes again
Sadly, this segv's in 1.8 :(
Allow member actions (get, etc) to accept strings, with test
commit review: now that there are two supported, just mention them
you rarely want ^ or $ in validations, use \A when you mean \A
to_sentence should return a duplicate
Testing Guide: rake test:uncommitted now supports git
Missing object for comparison in ActiveModel::EachValidator example code.
debugging guide: revises the section on debugging RJS
Added an example and explaination for using an optional path scope for the locale
dot visitor supports Arel::Nodes::UpdateStatement
dot visitor supports Arel::Nodes::Equality
Debugging Guide: Highlight using config over ActionView::Base
dot visitor supports symbols
Restore pet -> owner relationship to the previous state
added testcase for belongs_to with a counter_cache and touch
Class Attribute setter returns set value
code gardening: we have assert_(nil|blank|present), more concise, with better default failure messages - let's use them
defaulting to Table.engine for now
adding some activerecord compatibility
the (public) routing DSL does not accept symbols for get|post|put|delete|match
adding comment to myself
OR nodes are somewhat working
Rails references Arel::Expression, adding an unused module for now
sql visitor can deal with TrueClass
Replaced hardcoded SessionStore table creation SQL with calls to ActiveRecord adapter migration methods
added dependencies in Gemfile for running ActiveRecord tests with Oracle database
assert_equal here
table responds to take
adding deprecated crud module for backwards compat
IN seems to work
spec:v1:sqlite3 works for running our specs
quoting strings from equality statements, adding to_dot
annoted_source_code may return nil if an error happens during template compiling.
Debugging Guide: Improve grammar for the RJS section
Make sure apps upgrading from 2.3 get defaulted to UTF-8 (ht: parndt)
routing guide: wildcard segments are quite flexible, go beyond the simple use case
select tags coerce the :selected option, options to strings before comparison [#5056 state:resolved]
Allow for any possible TLD when using the :all option with the cookie session store. This works for subdomain.mysite.local, google.co.uk, google.com.au, etc. [#5147 state:resolved]
Improve routes task code and print the application as :to => RackApp. [#5338 state:resolved]
make rake routes print the name of a Rack endpoint app [#5338 state:resolved]
Object#returning has gone, it's already deprecated on 3-0-stable
Revert "Makes AR use AMo to_key implementation"
to_key should return all exists keys (if any exists), regardless if the object is persisted or not. If you need it to reflect persistance, you should use to_param.
Making time_zone_options_for_select return a html_safe string
This is not needed anymore
recommended is the right word here
Makes use of class << self instead of def self.
getting started guide: typos reported by Abder-Rahman Ali
remove already defined method to avoid warnings
Revert "connection reader is defined later"
connection reader is defined later
Makes topics.written_on null => true back again some tests rely on that
update is working on the select manager
defaulting values to a list
update manager is working
basic updates are working
MySQL2 added to CI
Revert "Add example label to activesupport/configurable"
Revert "Add example label to active_support/configurable"
Whitespace and example identation
Add example label to active_support/configurable
Add example label to activesupport/configurable
reviews commit dcc9d38
Documented active_support/configurable
Documentation just before Concern module
Documented active_support/concern dependency handling
Add missing model
Both tests are using the same model, move the model to another file and add the missing require
object/try should be required after abstract_unit to have AS in the load path
Revert "Add example label to activesupport/configurable"
Revert "Add example label to active_support/configurable"
Whitespace and example identation
Add example label to active_support/configurable
Add example label to activesupport/configurable
reviews commit dcc9d38
Documented active_support/configurable
Documentation just before Concern module
Documented active_support/concern dependency handling
Adding missing required statement
Deletes trailing whitespaces (over text files only find * -type f -exec sed 's/[ \t]*$//' -i {} \;)
Makes AR use AMo to_key implementation
This method is actually not used, it's implemented on the concrete adapters
converting to a symbol is not necessary
Removing most of the symbol to proc usage in Active Record
removing a lolinject
Moves local_request? to require.local?
avoid direct use of arel constants
removing references to arel constants
avoiding symbol to proc again
do not use arel constants directly
symbol to proc is slow, we should avoid it
It's snowing!
no callbacks should be created for empty array [#5289 state:resolved]
tidy up validations length code [#5297 state:resolved]
Add missing ActiveModel::Validations require
Ensure we can nest include calls [#5285 state:resolved]
Adding missing required statement
Deletes trailing whitespaces (over text files only find * -type f -exec sed 's/[ \t]*$//' -i {} \;)
deprected -> deprecated
inserts have the correct syntax
insert manager implements "insert"
Makes AR use AMo to_key implementation
adding a dot visitor to make our lives easier
This method is actually not used, it's implemented on the concrete adapters
converting to a symbol is not necessary
Removing most of the symbol to proc usage in Active Record
inserts are starting to take shape
insert manager is starting to take shape
removing a lolinject
table responds to "project"
Moves local_request? to require.local?
avoid direct use of arel constants
removing references to arel constants
avoiding symbol to proc again
do not use arel constants directly
symbol to proc is slow, we should avoid it
adding a relation thing
Table.new can take a hash for the second param
table responds to where, column info is cached
project works with strings
limits are added
full sql statement generation
to_sql visitor started
adding some deprecated classes
adding first node
tables can fetch attributes
starting a spec for the table
stripping the spec helper
It's snowing!
in Rendering objects with RecordIdentifier example, locals should reference @account not @buyer
adding a table and engine
clean slate
be more precise re :validate and :autosave
be more precise re :validate and :autosave
no callbacks should be created for empty array [#5289 state:resolved]
tidy up validations length code [#5297 state:resolved]
Add missing ActiveModel::Validations require
Ensure we can nest include calls [#5285 state:resolved]
revises some autosave docs, style and content
applied guidelines to "# =>"
Make update_attribute behave as in Rails 2.3 and document the behavior intrinsic to its implementation.
commit review: applies guidelines to "# =>"
updating documentation for named_scope and default_scope
fixed indentation in test cases
Replace snowman with utf8=âœ“
speeding up Engine#connection
ivar lookup is slightly faster
Raising exception if fixture file can't be found
subtracting blank strings is slightly faster than blank?
AS guide: some revisions
no need to assign if we are gonna return
use empty? over all?
avoid multiple hash lookups
dry up the hash dup and avoid sending nil values
avoiding tap saves us time
unless Array#empty? is faster than if Array#present?
stop using private methods
Ensure @config is not a reserved instance variable in controllers. [#5342 state:resolved]
layout_for works again with objects as specified in the documentation and Rails 2.3 [#5357 state:resolved]
Missed one spot for --skip-active-record, which means that new Gemfile isn't set up right
lib is already in the load path
added support for more printers
added support for more printers
ActiveModel::Base doesn't exist, include_root_in_json is a class_attribute for the classes which includes this module
Revert "require_dependency should require using the normal mechanism if possible to avoid double-requires"
fixes a typo reported by rymai
AS guide: removes some duplication, and makes a second pass on method delegation
adds the AS guide to the guides index
AS guide: documents Module#redefine_method
AS guide: documents Module#(instance_)method_names
Added test case to verify that transaction callbacks are correctly propagated to class observers
AS guide: documents Module#delegate
AS guide: documents Process.daemon
AS guide: documents date/datetime/time arithmetic with durations
move mysql2 adapter into core
ignore this test for mysql2
bringing over latest from master
rename _snowman to _e
Improve best_standards_support to use only IE=Edge in development mode
adding more documentation for autosave option
adds missing requires for Object#try
form helpers guide: fixes an example
adds URL to the body generated by the redirect macro in the routes mapper as per the RFC, extracts common test pattern into a test macro, adds a test to cover the :status option
AC guide: commit review, block examples go at column 0, use .example.com as example domain
typo in AM
updated the action_controller guide with the new session configuration options
routing guide: documents the CONTROLLER environment variable understood by the routes task
updates horo dependency to 1.0.1
undoes one of the modifications to RDoc::Parser.binary?
quick hack: hijacks the predicate RDoc::Parser.binary? so that it does not consider a handful of ordinary Ruby files in the Rails tree as binary (and thus excluded from the API)
adds Abstract Controller to the API
reduce the number of times current_connection_id is called in with_connection()
PERF: reduce calls to Hash#[]
test to ensure that respond_to? delegates to arel
removing parameter requirement for matching_attributes
sorry AR, my privates are none of your business
removing method that is never used
PERF: this hash only ever has one value, also avoid inject
initializing instance variables, converting to attr-reader
unfactoring module inclusion
initializing instance variables
fix reference to time/calculations.rb in AS guide
removing a fancy map
correcting wrong example
updating documentation for method configure_dependency_for_has_many
do not rely on arel class structure
add an operator to inequality
inject([]) is a fancy map!
removing unused code
removing test code from implementation
removing test code from implementation
removing unused code
removing unused code
removing test code from implementation
unfactoring more module inclusion
AS guide: documents calculations with Time objects
edit pass to AMo::Serializers::JSON
AR guide: fixes a query
commit review: say clearly that AS::OrderedHash is about insertion order, be more neutral in wording, do not imply lack of ordering is a problem
adding documentation for OrderedHash and OrderedOptions
adding an example of skipping a callback
documents that :terminator is a string to be eval'ed, and that it sees the result variable
Revert "correcting the documentation that default to false. it does not default to false. returing either false or nil will not halt the chain unless :terminator is explicitly mentioned"
fixing typo
more documentation for class_inheritable_*
correcting the documentation that default to false. it does not default to false. returing either false or nil will not halt the chain unless :terminator is explicitly mentioned
fixing whitespace errors
adds test coverage to ensure DateTime#advance processes first the date deltas, and then the time deltas
AS guide: documents DateTime#advance
unfactoring to use concrete delegate methods
separating test code from implementation code
PERF: delegate is slow, lets just write a delegate method
unfactoring DefaultOperations
avoid passing lists of lists to the group clause
standarizes the use of the article "an" for "SQL" and "SQLite"
adding a spec for Group#to_sql
removing Group#==, improving Group test
call to_a since we are not passing anything to all()
fisting indentation
adding documentation to ActiveSupport::Concern ht:strictly typed for an awesome example
Reload action_methods in AbstractController after defining new method.
Revert "If a file is in the load path, require it without its full path (in more places)"
do not pass AR objects to ARel
Revert "Put lib back on the autoload path"
I'm unsure how cloning was working in Rails 3 before
Concernify SanitizeHelper and TextHelper so including TextHelper correctly include SanitizeHelper and extends its ClassMethods
If a file is in the load path, require it without its full path (in more places)
require_dependency should require using the normal mechanism if possible to avoid double-requires
avoid passing AR::Base objects to Arel when we can
query value is converted to_s instead of to_yaml
Put lib back on the autoload path
Allow :name to be a Symbol (was this removed by accident?)
removed duplicate word
Tidy up error.rb code
order query is already a string, no need to to_s
Stub is_a? not instance_of? here
Freeze options so we raise an error when people modify it in place.
validates_length_of should not change the options hash in place. [#5283 state:resolved]
Failing test for validates_length_of, when both too_short and too_long messages are set [#5283 state:open]
Avoid potentially expensive inspect call in router. [#4491 state:resolved]
Refactor log-tailer to depend on File#eof? rather than File#mtime
Change log-tailer to properly track multi-byte characters.
Remove or fix non-working examples and add a few tests to Dirty [#5185 state:resolved]
adding test cases for ActiveModel::Errors
Dynamic finder method like scoped_by_* create methods so that method_missing is not hit next time. Adding a test for this scenario.
Making Active Record base_test.rb  thinner by moving tests to relevant files.
fixing documentation
skip the before_type_cast_on_datetime test entirely for mysql2
move reload after touch
reload the owner model after update
Correcting the documentation which wrongly states that each dynamic finder creates method on the class. Only dynamic finders using <tt>scoped_by_*</tt> creates new methods.
Adding to AR::Base documentation about dynamically scopeded_by query
unfactoring JOIN to_sql
unfactoring WHERE to_sql
Bring returning back to ease migration.
ensuring that description does not exceed 100 columns
Remove duplicated logic.
Eager loading an association should not change the count of children
updating documentation to ensure line does not exceed 100 columns
fix loading of different elements in array then int and string [#5036 state:resolved]
Tidy up previous commit.
test and fix collection_singular_ids= with string primary keys [#5125 state:resolved]
Handle edge cases in the previous patch.
Improved how AppGenerator generates the application name. It now detects the current app name whenever possible. This means that renaming the residing directory will not effect the app name generated by AppGenerator.
ActiveModel::Errors json serialization to work as Rails 3b4 [#5254 state:resolved]
Add missing require in ActiveSupport::HashWithIndifferentAccess [#5189 state:resolved]
Add an internal (private API) after_touch callback. [#5271 state:resolved]
added failing touch propagation test
Makes rails destroy scaffold don't duplicate routes.draw do |map| |map| when using the deprecated syntax
Failing test to check for route file corruption if legacy map parameter is used. [#5263 state:open]
typo
update tests for mysql2 support
ensuring that documentation does not exceed 100 columns
Corrected the rake test:units and test:functionals description [#5251 state:committed]
Use AS::OrderedHash when trusting in the order of the hash
Makes form_helper use overriden model accessors
explains Array.wrap directly, rather by comparison with Kernel#Array which is too obscure, leaves the comparison to document the differences, and adds a comparison with the related idiom that uses the splat operator
DHH forgot to remove JS, CSS in generated index.html [#5261 state:resolved]
fixes typo
ensuring that documentation does not exceed 100 columns
adding the missing closing tag
fixing documentation just a little bit
use the same amount of left indent in all code blocks of README.rdoc
README.rdoc is your first impression, make sure it is clean
removing module for faster method lookup
PERF: cache the engine in the formatter
PERF: reducing call stack
removing Table#== as it is not actually used
caching existence of a table
reverting where() functionality, adding a test
fewer method calls, using faster methods when possible
reducing function calls and using faster methods for testing
changing default value to TrueClass
PERF: eliminating a case statement
if there's a Gemfile and doc:guides can't load RedCloth, print instructions for bundler
the main page of the API generated by the doc:rails task is README
AS gem doesn't depend on nokogiri so shows a nicer error if users haven't installed
returns not returned . fixing documentation for reflection
PERF caching engine, converting to an attr_reader
PERF: removing another def engine
PERF: removing another def engine
PERF: removing another def engine
PERF: removing def engine
variable name clarity
better tests for Taken constructor, removing Take#==
better tests for Where construction, removing Where#==
PERF: where is only ever called with 0 or 1 arguments. eliminate *args
PERF: fewer objects, short circuit unless necessary
PERF: fewer function calls
Command Line Guide: changes all 'rails app' commands to 'rails new app'
Make options an attr_reader
fix for rails app generator when using --pretend option
API Docs: Use 'HTTP_AUTHORIZATION' and not :authorize as key in integration tests.
Add another missing require in 'active_support/inflector/inflections'
Bump up bundler version to rc.2
This version is going to be outdated when new nokogiri versions are released
Bump up nokogiri to 1.4.3.1
Don't increment and then decrement the same counter when re-assigning a belongs_to association
edit pass to apply API guideline wrt the use of "# =>" in example code
got the ternary backwards.  somehow the sqlite tests passed!
PERF: avoiding splat args and reducing function calls
initialize our instance variables
PERF: fewer objects, pass through on values
fewer function calls
PERF: avoid *args
PERF: pushing christener down for faster method lookup and calling
PERF: removing many splats
fisting postgres tests.  thanks santiago!
Adding documentation regarding lazy_load_hooks
updating documentation about lazy hooks in ActiveSupport
link_to_function now expects a piece of javascript code for the onclick parameter
Add a missing require in 'active_support/core_ext/string/inflections'
moving time zone related documentation to timestamp.rb from base.rb
amended rails upgrade plugin instructions to be rails 2.3.x compatible instead of former rails 3 format
adding documentation regarding time_zone_aware_attributes and skip_time_zone_conversion_for_attributes
expanding on the will_change! method in documentation
Revert "Avoid uneeded queries in session stores if sid is not given."
itsy bitsy changes to documentation
itsy bitsy changes to ActionMailer documentation
putting receive method under tt
superclass_delegating_accessor has been deprecated.
if-else logic doesn't needed
Shouldn't have committed this! Revert "avoid calling to_sql twice"
avoid calling to_sql twice
call map to make perftools reports more nice
refactor for faster method lookup
PERF: fewer objects, less lambdas, less memory
implementing hash is a non-requirement
PERF: fewer objects, using attr_reader for faster method lookup
initializing variables, removing ==
removed ambiguity from autosave description
Enumerable implements #first
no code is faster than no code
speed up hash calculation and hash method
no need for a lambda
adding tests for the christener
speed up method lookup and reduce API footprint
simplifying the Christener
PostgreSQLCompiler#select_sql fixed
adding punctuations
more documentation for update_attribute
fixing a typo!
#hash #eql? and #== were only used in tests. removed them and wrote better tests
defining a list of predicate methods for easy metaprogramming
More documentation to class_attribute.
editing the documentation regarding :race_condition_ttl and :expires_in option in AS cache
editing a sentence
adding comment specifying that cattr_accessor also supports instance_write and instance_rader option
clarifying the instance_write option with an example
adding some comments to cattr_accessor method
updating description of how class_attribute works
adding test for respond_to cache_key and cleaning up the ENV settings
test cases for rails_app_version in AS cache.rb
adding more test cases for expand_cache_key
removing unused variable
cleaning up code formatting
faster method lookup again
slight performance improvement when grabbing an arel table
oops!  removing debug puts
fixing spec case for method lookup improvement
speed up method lookup
fixed joining of attributes when using find_or_create_by with multiple attributes through an association
Forgot to check in this new file
PERF: reducing delegate methods
Add a header that tells Internet Explorer (all versions) to use the best available standards support. This ensures that IE doesn't go into quirks mode because it has been blacklisted by too many users pressing the incompatible button. It also tells IE to use the ChromeFrame renderer, if the user has installed the plugin.
PERF: *args is slow.  also removing a non-feature
block not used
adds test coverage for edge-cases of Array.wrap, and better documentation for how it differs from Kernel#Array
removing more dead code
PERF: dead code is dead
PERF: NERD RAGE. never called with a block, so no need to test
PERF: again. never called with a block, so no need to test :-(
PERF: never called with a block, so no need to test
never called with a block, so no reason to test
fixing AR incompatibility
constantize is not required
PERF: fewer objects
removing duplicate code
PERF: removing more method missing
PERF: eliminating method_missing
PERF: avoiding more method missing
Revert "Frameworks are loaded in application.rb rather than config.rb according to Rails 3 conventions."
Frameworks are loaded in application.rb rather than config.rb according to Rails 3 conventions.
clarifying description for class_attribute method
adding comments to update_attribute method
amended Contributing to Rails guide to advise to use bundler v1.0 to avoid error messages with bundler
polishing comments
making comments meaningful by correcting, adding and pruning
making comments have a consistent theme of narrative
PERF: caching engine, fewer calls to method_missing
PERF: a block is never given to this method, so stop checking
PERF: symbol to proc is slow, lets remove it
PERF: removing *args calls, do not call send on protected methods then they are public methods
PERF: cache christener, initialize hash in initialize
This is a hash in 1.9.2
removing cattr_accessor
prefer %Q() over escaped double quotes
more class reorganization
more class reorganization
reorganizing classes more
fix bad logic in determining if in rails app subdir
reorganizing more classes
reorganizing classes
JRuby should not need system_timer, and cannot install it either
more class organization
more class organizing
Add install script for testing gems locally
reducing files
initializing ivars
Spaces, people, spaces!
removing unused code
better organizing classes
removing more duplication
Make Rails 3 RC depend on Bundler RC
missing requires added
Rails version update
removing unhelful organization
removing more useless files
removing useless file
Prep for RC
removing unhelpful organization
Move runtime back to the Thread.current
fixing space errors
doc: cleanup respond_to documentation
Changed returning with tap on guides
Test to ensure that falsy objects aren't wrapped by deprecation proxies
Override new on proxy objects so that they never wrap nil or false.
XmlMini.rename_key emits valid xml with dasherize
This is for making sure const_missing is triggered without warnings
No need to check for :uniq
Removed deprecated APIs in text and number helpers [#5156 state:resolved]
Removing unnecessary code [#5192 state:resolved]
fix escaping id and parameters in path [#5137 state:resolved]
doc: cleanup respond_to documentation
strengthening the test suite for rescue_from
strengthening the rescue_from test suites
Update to latest thor.
speed up method lookup by not mixing in modules
inject is slow, lets use Hash[] and map {}
do not use a module as it slows down method lookup
replacing "let" with "tap"
removing unused file
the rest of the unfactoring!
removing more metaprogramming
unfactoring metaprogramming
more unfactoring
more unfactoring
initializing variables
more unfactoring before we refactor
more unfactoring before we refactor
unfactoring more metaprogramming
moving engine to the child class for future refactoring
removing more meta programming
removing more metaprogramming
removing more metaprogramming
Changed returning with tap on guides
using AREL from the environment if it exists
fixing warnings
fisting warning
Gemfile now makes use of platforms calls with blocks instead of elsif logic to define dependencies over specific platforms
Bump up bundler
Don't interpolate a blank string, avoid warnings
do not execute the session tests within transactions
APIs for individual components are no longer published
AS guide: Object#returning is gone
CHANGELOG updated Object#returning removed
Object#returning removed
Cache instrumenter again as per Aaron's patch.
Add assertion to link_to_function test with block and capture, and more expressive test name [#5179 state:resolved]
application generation: --skip-testunit and --skip-activerecord renamed to --skip-test-unit and --skip-active-record respectively
Cache connection access.
Move runtime back to connection.
Revert the previous three commits.
look up connection once
cache the instrumentor for a speed gain
use a hash to collect optional statistics about the instrumentation
runtime should be properly initialized.
Move runtime to log subscriber.
Change returning with tap
Removing one AS/lib ruby and rake adds to $LOAD_PATH
Get rid of instrumenter.elapsed.
bringing consistency in comments
make a throwaway value equals to _ to avoid warnings
Make this test, test again
Removes unused vars
Makes restore previosly saved warnings_on_first_load value and avoid warning
Clean up AM and AC railties.
Also move asset_path to AbstractController.
include the root README.rdoc as main page
Move config_accessor :asset_host from ActionController::Base to AbstractController which fixes issues with asset_host in ActionMailer
making comments sentence more concise
fixing typo
update Rakefiles for RDoc 2.5
adding proper markup in comments
shortening the sentences and removing fluff
reformatting sentence
testing sqlbypass destroy. caching connection during destroy
brrrrr!  freeze is not needed
fixing space error
refactoring more methods to a class methods module
refactoring class methods to a module
Makes Rakefile activate rdoc >= 2.5.9
bump required RDoc to >= 2.5.9, and replace the 2.2 horo.rb with Aaron's gem
session_id is a VARCHAR
Session data will exceed 255 bytes. Use TEXT.
update remote_function docs referencing link_to_remote
Makes current adapter decide the syntax of PRIMARY KEY column definition
This is a VARCHAR not a TEXT
MySQL can't index a TEXT column
Don't shadow outer local variables
Performance optimizations to handle cases of instrumentors that are not listened to. Also, fix a possible concurrency issue.
refactor to use instance methods and be kind to subclasses
adding a test for session save
[PATCH] Update guides after Jeremy Kemper's changes on fieldWithErrors to field_with_errors [#157 state:resolved]
improve Active Model README
remove unneeded "Dependencies" section from Action Mailer README
improve Active Record README
improve Action Pack README
revise download/installation/support sections in READMEs
Changed code style that was incorrectly rendering block style instead of inline.
These tests are trusting in the order of the elements so use OrderedHash instead of Hash
options could be of any kind of Hash (Hash, HashWithIndifferentAccess or OrderedHash) this way we keep the properties of the options passed as an argument
testing loaded? method and reducing funcalls
testing new_record? and converting to an attribute
reducing function calls in the session store
readability is hip
starting sql bypass test, fixing create_table and drop_table!
initializing instance variables
adding tests for sessions and clearing up warnings
camelize and underscore are sort of inverse of each other, but not in a mathematical sense [#5174 state:resolved]
routing guide: say "path" when you mean path
routing guide: a "photo" resource has by convention paths under "photos", in plural
doc: form_for does return output rather than merely evaluate its block
Mention that ActionMailer::Base.default_url_options is now deprecated
non-singleton true and false should go on regular font
expanded comment for update_attribute method
correct typos in Routing examples
replacing around with for in the comments for callbacks
camelize and underscore are sort of inverse of each other, but not in a mathematical sense [#5174 state:resolved]
routing guide: say "path" when you mean path
Test Hash#to_param escapes keys and values
Hash#to_param is doesn't use sort anymore, some tests added for Hash#to_param
routing guide: a "photo" resource has by convention paths under "photos", in plural
removing unused models from tests
custom inspect is not helpful
reuse our superclass
Change some missing README -> README.rdoc
fixing incompatibilities with AR
doc: form_for does return output rather than merely evaluate its block
remote_function patch with more detailed test
Make use of tap to return a previously used var
Make config.generators accept string namespaces, you can do now config.generators.test_framework 'rspec' for instance
We are doing the same in this conditions
Mention that ActionMailer::Base.default_url_options is now deprecated
renaming tests by removing proxy_options from names
Use capture instead of yield in link_to_unless.
Ensure insert_before in middleware stack raises a meaningful error message [#3679 state:resolved]
Ensure default_scope can be overwriten by association conditions.
eagerly loaded association records should respect default_scope [#2931 state:resolved]
update_attribute should not update readonly attributes
rake db:seed should check if the database have pending migrations [#5163 state:resolved]
Ensure all join table attributes will be in the same timestamp.
Timestamp columns of HABTM join table should record timestamps
Revert "save on parent should not cascade to child unless child changed [#3353 state:open]"
Strengthening the test for nested_attribute
association load target shouldn't replace records from db if it is already loaded by nested attributes assignment
In nested_attributes when association is not loaded and association record is saved and then in memory record attributes should be saved
- without the id test is passing even if I change :allow_destroy from 'false' - adding more tests to strengthen the test suite
Reuse already existing classes for ActiveModel tests.
Add .rdoc extension to README files.
Rework a bit README files.
Improve contribuition guide.
Remove old install.rb files.
No need to delegate. Simply include the whole RecordIdentifier module.
Moved a few methods from RecordIdentifier to ActiveModel::Naming
Also remove submodule link, otherwise it will cause massive pain for people pulling out ARel.
unfactoring more meta programming
take advantage of inheritence for easier codes
id is a public method
removing more meta programming
refactor to use inheritence
Ensure that primary_keys of HABTM records is not double quoted
inheritence meow meow meow
inequality is a special case of equality
superclass == works great!
comparing children directly
partial unfuck
use OO instead of meta programming
remove useless metaprogramming
use OO to avoid meta programming
classify is not needed, so removing
CRUD is not being reused, so we should not expose it
gitmodules are not needed anymore, AR is on Gemfile for testing purposes only and AS is on gemspec
use Session.instance rather than Session.new for easier code
delegate and call cached connection
a short inspect is not helpful
Moved PolymorphicRoutes to ActionDispatch::Routing
Make use of severity levels
This example is better for guides and gem/plugins docs
use object id as the weak ref key
avoid shadowing a variable
using vendor/rails if the environment variable is not set
non-singleton true and false should go on regular font
adding a reader for loaded, initializing @loaded to false
avoid double call to to_s, avoid present?
add active support to the load path
Add a test for elapsed and require missing benchmark file.
expanded comment for update_attribute method
Add missing require to metal/streaming.rb
fix mixed encoding logs can't be logged.
Extract ParameterFilter class from FilterParameters mixin
reusing the time instrumentation from the instrumenter rather than Benchmark. [#5098 state:open]
Remove assert_valid. It was already deprecated on Rails 2.3.
Remove unused orig_handler and unneeded parentheses
Test added, we shouldn't log sql calls when logger is not on debug? mode
mocking out debing? call in the MockLogger
Minor performance improvment in notifications/fanout and active_record/log_subscriber [#5098 state:open]
avoid const lookup.  we know what these constants are in advance
avoid call to Array#first
Added missing require of remove_method
Make use of redefine_method, removed some more redefining warnings
Test for behaviour of befeore_type_cast when operating on datetime colmun
Removed warnings about method redefining
Introduced redefine_method
Removed warnings when a variable is shadowed
Add missing entries and tidy up CHANGELOG.
There is absolutely no need to use __send__ here.
No need to create a new module in the previous commit.
Exceptions from views should be rescued based on the original exception. If a handler for original exception is missing then apply ActiveView::TemplateError
correct typos in Routing examples
avoid proc activation every time a log message is made
subscriber does not need to be a block, but an object that responds to #call
Notifier API == Fanout API, so replace Notifier with Fanout as they quack the same
tap the subscriber for easier return value
bind method is not needed, so goodbye!  <3 <3 <3
replacing around with for in the comments for callbacks
Float comparison adjustment
expected value should come first in assert_equal
primary_keys_test reads better than pk_test
fixing typo
removing extra whitespaces
Set session options id to nil is respected and cancels lazy loading.
select :include_blank or :prompt should return escaped string [#5099 state:resolved]
fixing the ternary operation where the logic is very confusing.
save on parent should not cascade to child unless child changed [#3353 state:resolved]
Avoid uneeded queries in session stores if sid is not given.
Add console hook to force ActiveRecord::Base to be loaded when console starts avoiding reference loops.
convert duration to an attr_reader
It's not needed to initialize the attr when calling mattr_writer
Removing ActionDispatch::Http::FilterParameters#fitered_parameters alias
drained? is never called
private method is not needed
removing Binding class
use === to avoid regular expression creation, and speed up string comparison
new guide: API Documentation Guidelines, ported and revised from the docrails github wiki
Add skip_eager_load!, skip_autoload! and friends to path objects.
Makes test use the new config.action_view.javascript_expansions[:defaults] initialization syntax
unfactoring clear_stale_cached_connections!
adding a test for clearing stale connections
fixing test file name
fixing whitespace errors
minor pass to generated code in application.rb related to :defaults
only test for existence of +pool+ once
use an attr_reader for performance
Makes this test don't trust on the speed of execution
Adds application.js when app is generated with -J and clear javascript_expansions[:defaults]
Don't rely on implementation-specific order-dependence of array comparisons in unit tests
Explain how to change javascript default files
fixing typeo.  thanks bamnet!
moving persistence related tests to a new file
adding proper markup to comment
JoinDependency#graft does not properly set parent join [#5124 state:resolved]
AS guide: revised the docs of class_attribute and cattr_* macros
CI should bundle update instead of install so gems are properly updated
Small fix in cookie docs and trailing whitespaces
Bump bundler to 1.0.0.beta.5
Bump up nokogiri, memcache-client, sqlite3-ruby, fcgi, mail and tzinfo
Bump up to rack-mount 0.6.9 and rack-mount-0.6.6.pre removed from action_dispatch vendor
Migrations guide: minor typos corrected
Revert "Style fixes"
layouts and rendering guide: use content_for? instead of the yield or yield idiom
clean up ||= with an initialized variable and attr_reader
Style fixes
primary_key_name already checks for the model_class
use array intersection for dry / faster code
activerecord tests should inherit from ActiveRecord::TestCase
remove useless ternary in PostgreSQL adapter
PostgreSQLAdapter#query string interpolation calls to_s for us
PostgreSQLAdapter#query bail early if there is no column and dry up our conditionals
Let's initialize instance variables in the postgres adapter.
Remove unintentional API changes. [#1108]
Style fixes
revises the rdoc of update_attributes and update_attributes! to document they are wrapped in a transaction, and adds code comments explaining why
AR queying guide: let limit and offset be different numbers to help making clear what is what in the explanation, rewords also a bit
upgrade prototype to be compatible with rails.js [#5109 state:committed]
Active Record Query Interface Guide: Corrected the explanation for the OFFSET example.
Set destroyed=true in opt locking's destroy [#5058 state:resolved]
Revert "Improve performance of MessageVerifier while keeping it constant time"
AS guides: reword the docs of Enumerable#group_by
count method should not take options if it is operated on has_many association which has finder_sql or counter_sql
update_attributes and update_attributes! are now wrapped in a transaction
reducing range comparisons when converting types to sql
only loop through all rows and columns once in the postgres adapter
use constants instead of magic numbers. meow
Makes CI builder install --pre version of Bundler, now that bundle install works again
Added reorder delegation for ActiveRecord::Base(to be able to overwrite the default_scope ordering in the named scope [#5093 state:resolved]
remove size attribute from tag generated by file_field helper [#5084 state:resolved]
string IDs are now quoted correctly [#5064 state:resolved]
renaming test name to fix accidently override
enable AS::JSON.encode to encode AR::Relation by providing `as_json` method
Tidying up a bit, so update_attribute is not called twice on touch.
with this fix touch method - does not call validations - doest not call callbacks - updates updated_at/on along with attribute if attribute is provided - marks udpated_at/on and attribute as NOT changed
our method is modifying the original array, so refactor to use destructive methods
PostgreSQLAdapter#select_raw removing dead code
PostgreSQLAdapter#select_raw use each_with_index to avoid multiple array lookups
PostgreSQLAdapter#select_raw fields and results are empty even if ntuples is 0
refactor PostgreSQLAdapter#result_as_array to create fewer Range objects
cleaning up PostgreSQLAdapter#select
these strings do not need to be frozen
use Hash#each to avoid a second hash lookup
Just add connection management middleware if running in a concurrent environment.
Remove old rubygems require.
Getting started guide: typos and changelog
Routes should respect namespace even if action is a regexp and just controller is given to to.
Removed deprecated |map| block argument from routing docs since it is no longer generated in edge Rails config/routes.rb
We shouldn't rely on float comparison, delta added just in case float representation of this values aren't equal
We need to wait for the final release of bundler for this to make sense
Getting started guide: Post validation example is clearer if we do p=Post.new;p.save better than p=Post.create;p.save
Getting started guide: rephrase the paragraph about the root route for better understanding
Add missing require to use Set
Avoid interpreted as grouped expression warnings
reducing funcalls, cleaning up primary key methods for sqlite adapter
primary key behavioral tests
behavioral tests for sqlite adapter
Revert "Revert "Bump bundler to 1.0.0.beta.3""
adding more behavioral tests for the sqlite adapter
missing article, only seen in github's colored diff by the beard of the prophet
revises recent commit related to :uniq => true
expanding on :uniq option in has_many
application.rb: revises the comment for autoload_paths so that is assumes less from the user, and unifies punctuation
Minor typos: 'built-in' instead of 'built in', 'built into' instead of 'built in to'
Describe recent changes in Multibyte::Chars.
Refactor previous commits a bit.
Return from ActiveRecord::Base#attributes= unless value is a hash [#4070 state:committed]
reset_counter should work with non-traditional belongs_to and polymorphic belongs_to
Improve a bit the code in latest commits.
Improve bang method defs, make slice! operate in-place. [#5028 state:resolved]
This patch changes update_attribute implementatino so:
consolidating updated_at and updated_on
Eager loading :through associations will join the :source model if there are :conditions. [#2362 state:resolved]
Allow a PID file to be specified to rails server [#5031 state:resolved]
Tests to specify the behaviour of ActiveRecord::Migrator.get_all_versions() [#5066 state:resolved]
Removing method before redefining it. It was causing warnings. [#5072 state:resolved]
removed an old unused method in AR which removed readonly attributes
removing unused method
moving parse_sqlite_config to the sqlite3_connection method (where it belongs) [#5071 state:resolved]
removing useless code. [#5070 state:resolved]
fix ActiveRecord `destroy_all` so it returns destroyed records
Revert "Bump bundler to 1.0.0.beta.3"
Bump bundler to 1.0.0.beta.3
Change documentation for ActiveModel::MassAssignmentSecurity a bit and make debug always be called since some people may overwrite warn! to add extra behavior even if logger is not available.
mass_assignment_security moved from AR to AMo, and minor test cleanup
minor changes to mass assignment security patch to bring it in line with rails standards
Mass assignment security refactoring
This test never runs and it has never run. Since the day this file was created this test has name not beginning with test_. Also this test is trying to use has_many on another has_many which is not supported.
copy-edits some docs
clarifying how to create non standard primary key
Print proper "Usage:" messages for "rails plugin" command
whitespace
adding some behavioral tests for the sqlite adapter. [#5065 state:resolved]
Add a test to ensure url helpers are not action methods in ActionMailer.
Add note about incompatibility of namespace and :controller
When a dynamic :controller segment is present in the path add a Regexp constraint that allow matching on multiple path segments.
Refactor handling of :only and :except options. The rules are:
documents automatic management of join models in hmt associations, in particular the gotcha that deletion is direct
added more info about << operation in associations
Recognize should also work with route is wrapped in a constraint.
RouteSet should also handle anonymous classes.
Define a convention for descendants and subclasses.
Move Date#xmlschema to conversions and add a missing require
Avoids deprecation warning running tests
Adds tests for content negotiation change introduced in dc5300adb6d46252c26e
ARGV.empty? is useless. If ARGV is empty, ARGV.first != "new" will always be true
Refactor resource options and scoping. Resource classes are now only responsible for controlling how they are named. All other options passed to resources are pushed out to the scope.
Reword routing guide so that we talk about prefixing as a use of :as rather than as a specific prefixing option (which :name_prefix used to be).
Added release notes for 3 changes to helpers
Add a missing require to allow the usage of Array#to_xml
Updated routing guide to reflect the fact that :name_prefix is now :as
Refactor recall parameter normalization [#5021 state:resolved]
:singular is no longer a valid option for resources [#5037 state:resolved]
Removes the dependency that AMo has on tzinfo
Refactor move some date, time and date_time methods to */zones and fixed some requires
Time#formatted_offset is defined in core_ext/time/conversions
Changed passed argument to :validate => false in validation skipping section.
Time#as_json: use Time#formatted_offset instead of strftime %z directive, which is non-standard and inaccurate on some platforms (e.g., Mac OS X).
reload_routes! was still referencing old Rails::Application.
clarifying the comments regarding base_class declaration
bump erubis version to 2.6.6 and thor version to 0.13.7
Time has it own implementation of xmlschema, now AMo doesn't depend on TZInfo
Unify routes naming by renaming router to routes
porting session.clear fix to master branch. [#5030 state:resolved]
AS json refactor, move to_json implementation to core_ext and a cleanup a bit the code
Added documentation for usage of associative resources with form_for
Bump bundler dependency to 1.0.0.beta.2 or later
Avoid calls to Rails::Application since this is not the official API.
fix failure if behavior is not define and try use the default
Add the possibility to have several behaviors in AS::Deprecation.
Don't remove scheduled destroys when loading an association. [#4642 state:resolved]
Make relation a private method.
Support any mysql-like adapter
docs: note that mail() accepts arbitrary headers
add note of which configuration option to set in deprecation warning message [#5012 state:resolved]
Improve the idiom used in multibyte chars a bit.
Update Unicode database to 5.2.0. [#5011 state:resolved]
Add missing CHANGELOG items.
A couple enhancements to the router:
Clean up the logic to specify the name and path for action a bit.
We are trying to test that & escapes here not that &amp; is being escaped, also added a cosmetic change to test_link_tag_with_query_and_no_name
performance tests now working accurately on 1.9, using Ruby with the GCdata patch
AssociationCollection#create_by_*, find_or_create_by_* work properly now. [#1108 state:resolved]
migrations.rb requires active_support/core_ext/module/aliasing [#5008 state:committed]
s/escape_once/html_escape/, since html safety is the contract that now says whether something has to be escaped
url_for no longer escapes HTML, the :escape option is also gone
Change :notification to :notify (ht: m4n)
Add CHANGELOG for new deprecation style
_snowman CHANGELOG (dobry pies)
Create a deprecation behavior that triggers a notification for deprecation notices, and make the behaviors independent of the environment names.
Test that adding an index also doesn't raise an exception.
Replaced statement in comment with an assertion
No need to check if the attribute exists (this is the same behavior as in 2.3) [#4994 state:resolved] and [#5003 state:resolved]
Push a failing test for issues [#4994] and [#5003].
Revert "Revert "Name compiled render methods". This caused several failures on AP test suite for 1.9.2."
Rename _snowman_ to _snowman to be in sync with _method and _csrf_token.
array subtraction should be faster than iterating over all the elements
splitting a really long line into multiple lines which is easy on eyes
Remove ActiveRecord::Base#class_name [#379 state:committed]
Tidy up deprecation message for with_exclusive_scope.
Add scoping and unscoped as the syntax to replace the old with_scope and with_exclusive_scope. A few examples:
Revert "Name compiled render methods". This caused several failures on AP test suite for 1.9.2.
accepts_nested_attributes_for typo
Remove unneeded reject
with_exclusive_scope does not work properly if ARel is passed. It does work nicely if hash is passed. Blow up if user is attempting it pass ARel to with_exclusive_scope.
Use caller for helpers_dir deprecation warnings
Slice new buffer from beginning of old buffer to skip encoding special case
Name compiled render methods
returning -> tap
ETag: use body instead of @body since the method will always return a string
Don't store incorrect values in zones_map
test that unknown zones don't store mapping keys
Documentation for Array#sample
Make the sentinel flag for route a bit more robust.
Tidy up valid conditions in router a bit.
Add :controller and :action to the list of valid conditions
Do not trigger the old mapper to avoid deprecation messages.
Restores the escaping of urls generated from hashes. [#4765 state:resolved]
Convert instance_variables to symbols before excluding internal vars [#4965 state:resolved]
Remove invalid conditions from route [#4989 state:resolved]
Deprecate the old router DSL. Since it is still used intensively across ActionPack test suite, patches that translates Rails internal tests to the new router DSL are welcome (note though that a few tests shouldn't be translated since they are testing exactly the old mapper API, like the ones in actionpack/test/controller/resource_test.rb and actionpack/test/controller/routing_test.rb)
Strip_tags never ending attribute should not raise a TypeError [#4870 state:resolved]
Update CHANGELOGs.
Information about new rake task in CHANGELOG
Revert commit 37c44c8e707c Need more research on disable-with and data-attributes
Added disable_with option description to button_to helper
Small typo
Add this rule to run common tests and specifics ones from adapters dir
Avoid "no such table" exception when schema migrations table does not exist
Use ActiveRecord::Migrator.schema_migrations_table_name instead of hardcoding "schema_migrations"
Add missing require, Base use deprecate method
rake db:migrate:status displays status of migrations [#4947 state:resolved]
Warn that ActiveRecord::Base.reset_subclasses is gone in Rails 3 final.
Upgrade to Rack 1.2.1
Implemented getbyte as an aliased method and RDoc added
Update to latest rails.js
Vendor unreleased rack-mount 0.6.6.pre dependency
Missing BigDecimal dependency
Move sqlite to sqlite3 for this tests to be run only on sqlite3 adapter
AV::logger returns AC::logger if it's defined, workaround meanwhile AV doesn't have it's own logger
Move Rails module to abstract_unit to make test in isolation work
Makes more sense to ask about method_defined?
A few changes were done in this commit:
your beloved and infamuous typo only spottable in github colored diff, thank you
AS guide: documents String|conversions
String#[] doesn't return the byte representation on 1.9.2, we should use getbyte that was already added as a Ruby < 1.9 core_ext
Added getbyte as a core_ext to Ruby < 1.9
Normalize recall params when the route is not a standard route otherwise :controller and :action may appear in the generated url [#4326 state:resolved]
removing useless code. [#4988 state:resolved]
Refactor: metaprogramming here it's confusing and make use of tap
Change reference to Test::Unit::AssertionFailedError to the generic ActiveSupport::TestCase::Assertion [#4987 state:commited]
Refactor of column_exists? method and this works with PostgreSQL
Removes useless flatten
Add module_eval missing file_name and line_number args [#4712 state:resolved]
adding adapter tests, avoiding private apis, fixing code in 1.9 [#4986 state:resolved]
Create a little bit less objects in ARel.
Load JSON additions (as to_json) on active_support/all.
Move constantize from conversions to inflections.
Make sure ActiveResource::Errors#from_json doesn't pass nil to #from_array [#3650 state:commited]
Small changes to responder:
Oops. Make previous commit pass on 1.9.2.
Tidy up tests in previous commit since they did not assure an OrderedHash is returned (the test would pass for an array and would pass by chance for hashes).
Add OrderedHash#invert to preserve order in ruby 1.8 [#4875]
Support optional static segements as well [#4832 state:resolved]
Work around the fact the JSON gem was overwriting to_json implementation for all Ruby core classes.
Move some methods into 1.8.x-only proxy. [#4978 state:resolved]
Don't force pluralization of controller name when defining a resource [#4980 state:resolved]
URL fragments should not have safe characters escaped. Ref: Appendix A, http://tools.ietf.org/rfc/rfc3986.txt
Provide example for working around that regexp anchors can't be in route constraints
refactoring the postgres adapter index method to avoid inject and use values_at. [#4976 state:resolved]
blocks removed from all the ActiveRelation query_methods, extend method added instead
Add column and index query methods to ActiveRecord::Schema
index dump should not include full text indexes. Thanks Ken Mayer for the original patch! [#4949 state:resolved]
reorder method added to ActiveRelation
Test for concatenated orders added
Remove previously defined class method logger to supress warnings in Active Support test suites. [#4618 state:open]
Alias ActiveSupport::OrderedHash#update to ActiveSupport::OrderedHash.merge!
reorganizing adapter specific tests. [#4974 state:resolved]
Order is not guaranteed here, ordering by id of people table makes it work
Change the generated Gemfile to resolve, via documentation, the issue of rspec generators being unavailable in development mode
Support for multiple selects added
added to_xml section for controller
Makes a build_select for the select part of build_arel
Metaprogramming not needed here
Avoid a blank line before the add/remove columns
Failing test for whether glob parameters accept regexps
Add failing test case for parameters with periods
Depend on unreleased rack-mount 0.6.6.pre
Do not mark the session as loaded if an error happened while doing it.
regexp anchors can't be in route constraints
Calling exists? in the session store, without checking for stale sessions, was causing the cookie store to panic because we need to unpack the whole session to get its key. This commit fixes this issue and also caches exists calls for performance improvements.
Line break in migration template and nicer code indentation
Do not wrap hidden fields with error proc [#4962 state:resolved]
Make sure that Rails doesn't resent session_id cookie over and over again if it's already there [#2485 state:resolved]
Just reading flash messages should not create a session if one does not exist yet.
Dont reload the environment, just not needed bro
adding missing assertion and fixing the test
fixing test by replacing assert with assert_equal
Remove the --singeleton option from scaffold generator.
Your original TIME ZONE value on PostgreSQL is correctly restored now, after going through options :utc and then going back to :local
quotes are not necessary here
adding middleware test for RAILS_CACHE
Remove obsolete test case, since we have move Rails::LogSubscriber to ActiveSupport::LogSubscriber in [6788db824ab732b13493a9d702dd8fb89fa153c8] [#4816 state:resolved]
Avoid deserializing cookies too early, which causes session objects to not be available yet. Unfortunately, could not reproduce this in a test case.
Only yield block if given.
AS::Isolation functional on Windows/JRuby.
Remove block definitions in finder methods.
Remove block definition from method, is not needed since yield is used inside.
Don't define block, just yield if block is given.
Use block_given? instead defining block.
Performance: use blocks only when needed.
Remove deprecated block usage in composed_of.
Improve blocks usage.
Ops, this should be beta4.
Move Rails::LogSubscriber to ActiveSupport::LogSubscriber, allowing frameworks like ActiveRecord and ActiveResource to log outsude Rails::Application [#4816 state:resolved]
Remove run_initializers from class methods.
Move Collection responsibility from application to initializable
Speed up boot by tsorting as infrequently as possible
Don't halt railties tests on failures
Array#sample now exists, so test for #forty_two instead
Support an extra profile printer arg
Revert "Guides: Add :references to supported column types."
Guides: Add :references to supported column types.
Allow externally defined AR adapters to define their own compiler.
Speed up Header#each by avoiding &block creation
Show GC time and # of runs too
Avoid using Pathname on Resolver and AS::Dependencies.
renames load_(once_)paths to autoload_(once_)paths in dependencies and config
Remove incorrect comment regarding #initialize_copy
Sessions should not be created until written to and session data should be destroyed on reset.
Don't use a subquery when there are joins. Use a required alias for the subquery.
adding fix for to_xml for ActiveRecord relation object
ActiveRecord's relation object should respond to to_json and to_yaml
adding column named 'group' to ensure that nothing breaks given that 'group' is sql reserved word
Expose view via the view() method in AV::TestCase::Behavior
Add support for counting rows with conditions or limit using a subquery.
In ActionView::TestCase::Behavior, assign variables right before rendering the view.
Guides: replace reference to hpricot with nokogiri [#3290 state:resolved]
Regression with how base errors messages are added to a model. Works correctly for both string error messages and symbol translated messages.
Patch for Namespace problem in Scaffold. [#4763 state:resolved]
Don't clone associations [#4894 state:resolved]
make text_field and hidden_field omit the value attribute if the developer explicitly passes in :value => nil [#4839 state:resolved]
remove_column should raise an ArgumentError when no columns are passed [#4803 state:resolved]
Tidy up asset tag a bit and make railties tests green again.
refactored the javascript asset tag helpers and moved the default scripts setup within the railtie
Update CHANGELOG.
Add the :path option to match routes when given as symbols. This is specially useful in http helpers for generating routes in scenarios like:
Provive resources_path_names helpers in the router.
Stop filling the blocks scope array with nil.
Allow namespace accept options in routes [#4936 state:resolved]
Deprecate :name_prefix in the new router DSL.
should be able to run ActiveModel validations_test [#4933 state:resolved]
Avoid method redefined warning
Note that 'rails server' allows specifying mongrel, thin, etc [#4845 state:resolved]
test for #4917
Remove unused variable on assert_recognizes [#4912 state:resolved]
Missing require for the class/attribute.rb [4812 state:resolved]
update the list of instance variables that are excluded from assigns in view tests
Improve documentation for assocations :autosave option.
Clean CHANGELOG whitespace.
Use the new query API in AR performance script.
preventing memcached initialization errors with default servers list [#4921 state:resolved]
defines ORIG_ARGV in Active Support's abstract_unit.rb (used in isolation.rb) [#4922 state:resolved]
Rails Runner now sets $0 and $PROGRAM_NAME to name of file being run [#2244 state:resolved]
Added 4 tests for Rails Runner. 2 failing tests for $0 and $PROGRAM_NAME [#2244 state:open]
adds minus to value part of id [#4862 state:resolved]
test for #4862
Avoid method redefined warning
Add support for specifying locals in view tests with assert template [#4927 state:resolved]
fixing some comma and grammar problems in the note about SQLite3 and other database configurations
Ensure overwritten callbacks conditions in controllers work [#4761 state:resolved] [#3913 state:resolved]
Bump rack-mount to 0.6.5 for tokenizer speedup
removed default Formatter in logger, not needed with 1.8.7 upwards
removed 'unless const_defined?' code smell
Ignore file guides/output/layout.html on W3C validations
Refactor previous commit a bit [#4057 state:resolved]
Make ActiveModel::Errors#add_on_blank and #add_on_empty accept an options hash and make various Validators pass their (filtered) options.
Changed `ruby /path/to/rails myapp --dev` to `ruby /path/to/rails new myapp --dev` in the "Thor is not avalable" message. [#4915 state:resolved]
Initialize @last_update_at in file_update_checker to hide warnings in AS test suite.
Guides: AS Core Extensions, minor type
Guides: AS Core Extentions, fix warning message to display correctly.
Guides: AS Core Extentions, minor typos fixed.
Revert "files in the lib directory are no longer autoloaded"
Don't waste time building relations if there are no values presents. [#4860 state:resolved]
Allow instrumentation of cache hits and misses. [#4888 state:resolved]
Alias app to build_middleware_stack for clarity.
Remove unused webrick_server file.
files in the lib directory are no longer autoloaded
adds parens to silence a warning in the test suite of AS
Generators Guide: Typo of my own
Generators Guide: Style/grammar changes and minor typos
Generators Guide: Make titles conform to conventions
Take out documentation from DeprecatedMapper to discourage its usage.
Use h1 for titles.
Final touches and fixes.
Action View is now titled.
Action View is now titled.
All scopes are now cross-referenced.
Generators Guide: Remove semicolons from prologue, as none of the other guides had them
Update integrated logging format
Update ActiveSupport CHANGELOG with latest changes.
I18n.reload! is only called if any of the locale files actually changed.
Use the new ActiveSupport::FileUpdateChecker instead of RoutesReloader.
Add ActiveSupport::FileUpdateChecker.
Improve documentation for add_lib_to_load_paths!
Add test for migration generator with name not starting with add or remove. [#4835 state:committed]
Adding missing test to autolink with other protocols (file) [#4886 state:resolved]
Make sure a namespaced <%= render form %> still renders the _form partial [#4784 state:resolved]
Added absolute path for config.ru as well. Turns out this is also needed to fix the daemon issue under ruby 1.8.7
Pass rack the absolute path of server's pid file
Use Rack::Utils.bytesize when calculating content-length of exception pages. [#4727 state:resolved]
Adds titleize/titlecase to AS::Multibyte::Chars
remove executable permission from files that don't need it. [#4802 state:resolved]
Refactor build_arel: move joins out and simplify havings. [#4860 state:resolved]
<=> is defined twice on multibyte/chars.rb for Ruby < 1.9
Don't overwrite unsaved updates when loading an association but preserve the order of the loaded records. Reapplied from before but now allows already-saved records to be refreshed.
Strip trailing whitespace from generated applications [#4905 state:resolved]
Support render_template in view tests. Useful for specifying which partials are rendered under different conditions.
Don't use module to work out shallow name prefix and path as it may not accurately reflect the actual namespace [#4899 state:resolved]
Make polymorphic_url and scaffolding work with uncountable resources [#3930 state:resolved]
Accept an object for :constraints option [#4904 state:resolved]
ActiveModel::Validations::Callbacks should not be required by default.
moving before_validation and after_validation functionality from ActiveRecord to ActiveModel
Clear DescendantsTracker on each request.
option_groups_from_collection_for_select should return HTML-safe string [#4879 state:resolved]
Remove a relic of #request being in RackDelegation
Remove descendants warning while executing tests.
ActiveRecord and ActionPack now use the new descendants implementation.
Change callbacks to automatically include DescendantsTracker and rename descendents to descendants.
Add ActiveSupport::DescendantsTracker.
fixed having clause for Oracle compiler
use subquery to get first records if DISTINCT is used (in Oracle compiler)
add missing shebang to rails bin. LH [#4885 state:resolved]
Custom resource routes should be scoped
Adds a few connection parameters for IBM databases.
performance tests now working accurately on 1.9, using Ruby with the GCdata patch
form_for without :html and with :remote should not error
fix for :shallow in router not generating helpers for create, update, and destroy actions when :only or :except are used
cleaner output for rake validate_guides: dot-style, brief summary and detailed description below
Credit for the heavy lifting!
enable_stats added back in since Benchmarker doesn't start RubyProf
check if the profiler patch is applied, otherwise GC::Profiler doesn't have the 'data' method
added information about what is being used
heap_live_objects+heap_free_objects is broken, use heap_total_objects instead
also use GC profiler extended patch to retrieve GC time on 1.9
ruby's GC doesn't support the time method, removed support for it
use GC profiler extended patch to retrieve GC runs on 1.9
ruby's GC doesn't support collections and heap_info, RubyProf can handle it
GC at 1.9.X doesn't have malloc_allocated_size, remove support for it
removed support for 1.8's GC alternative hacks (railsbench and lloyd patches). RubyProf can handle it
check if the data method is defined (meaning it's correctly patched)
the official profiler (present in 1.9) should have the highest priority
don't set cpu_frequency if RubyProf resolved it
setting the timezone in postgres to whatever ruby thinks the timezone is [#4895 state:resolved]
when the timezone is nil, a TimeWithZone object should not be constructed. [#4881 state:resolved]
Make text_helpers methods which return valid html to return it as safe and sanitize the input always unless :sanitize => false is set
documents how to run an individual test in AR
Add shallow routing option to new router [#3765 status:committed]
excerpt shoudn't return safe output test added
truncate() should not try to produce HTML-safe output
Remove documentation reference to AS::Notifications::Event#result because it has been removed.
Add a failing test for ticket #4874
Missing quote and indentation wrong
pdoc tasks publishe APIs in api.rubyonrails.org
use RDoc 2.2 to generate the documentation of individual components
Guides: renaming to active_record_validations_callbacks for consistency and updating links to reflect new path
Adds backslash to scope for cross-references.
Added title to some other files in actionpack/lib/action_view
Added titles and description.
Adds title and description where needed.
Clarify language around list of finder methods. Clarify that finder methods return an instance of class ActiveRecord::Relation.
Adds title to activerecord/lib/active_record/associations/*
Adds title to the rest of the files in activerecord/lib
Adds title and proper formatting to docs.
Adds title where needed.
Adds basic description and title.
Adds title and minor changes.
removes the documentation group from the Gemfile, thus making RDoc 2.2 required in dev machines
use assert_in_delta() for floating point comparisons in tests [#4871 state:resolved]
Guides: AS Core Extensions, behaviour => behavior
Guides: AS Core Extensions, fixed a few typos.
migrates the Jamis template to RDoc 2.x, the root Rakefile requires RDoc 2.2
Adds title.
Added typewriter tag to code.
Added description and title to Dynamic Scope Match
Changes call backs to callbacks.
Adds title and basic description where needed.
Add titles to the rest of the files in active_model/validations/*
Minor doc changes to active_model/validations/confirmation.rb
Minor doc changes to active_model/validations/acceptance.rb
Active Model lint - fix minor typos
Active Record Associations - minor change of DeleteRestrictionError doc for clarity
Revert "removing the extra \"
removing the extra \
Routing guide - Minor typo/consistency changes
Active Record Basics - Separate and clarify the explanations for created_at/on and updated_at/on
Active Record Basics - Style and grammar edits
edit pass: the names of Rails components have a space, ie, "Active Record", not "ActiveRecord"
edit pass in #define_callbacks rdoc
adding to the :kind documentation for ActiveSupport callbacks
clearer documentation of how scope applies to ActiveSupport callbacks
refactors AR::Base#reset_table_name
Documentation for #quoted_table_name method
truncate safe method description changes
Added headings to serializers.
Revised the rest of the files from ActiveModel.
Revised and added headings.
Revised naming.rb and lint.rb
Added headings and revised active_model.rb/lint.rb grammatically
Minor changes to active_model/errors.rb
Minor changes to active_model/callbacks.rb and dirty.rb
Minor changes to active_model/attribute_methods
Minor changes to callbacks and conversion API docs.
updated active record querying guide to standardize on first_name for Client
updated active record querying guide to standardize on first_name for Client
Remove unneeded .rb suffix on require statements
docfix (email instead of emai)
explains why AS::OrderedHash does not leverage inheritance
render(:inline) in a layout before yield replaces original content
removes spurious .rb in require
Tidy up generators based on latest change on AM.
Rails Guides: AR Querying, .count should be at the end as it returns a number. [#4811 state:resolved]
truncate documentation an examples added for :safe option
gems versions bumped up
CI changes per Chad's request
Change implementation to do it without asking each time for block_given?
revises implementation of AS::OrderedHash#merge!
Revert "hash merging with a block ignores non-existing keys altogether"
hash merging with a block ignores non-existing keys altogether
re-organized test for merge into separate tests
Support passing a block to ActiveSupport::OrderedHash's merge and merge! [#4838 state:committed]
Revert "Revert "Validators should at model level and not at AR:Base level [Closes #4804]""
Bump rack-mount version to 0.6.4
require conversions to use String#ord
Revert "Validators should at model level and not at AR:Base level [Closes #4804]"
registers 4146a44 in CHANGELOG
removes spurious .rb in require
Move ActionMailer::TC to AV::TC::Behavior
Change sanitize to escape in test names of text_helper_test [#4844 state:resolved]
subject is automatically looked up on I18n using mailer_name and action_name as scope as in t('.subject')
Use load_paths on AR benchmarks so it uses the bundler setup instead of system gems.
No need to call convert_key before except.
Simplify and optimize callbacks superclass sync.
Create mailers folder when starting a new rails app
Test create mailers folder when starting a new app
Remove an unused method
There is no type="array" returned with errors. [#3691:resolved]
Support ruby 1.8.7 and 1.9.2 (and development versions)
AS guide: updates docs on date calculations to reflect a0a6cc2
Date#since, #ago, #beginning_of_day, #end_of_day, #xmlschema return TimeWithZone when Time.zone_default is set
Single ruby version requirement message
Ruby 1.9.1 compat: constant lookup
Remove String#constantize deps
Explicitly delegate Chars#<=> to work around Kernel#<=> possibly ignoring method_missing
Revert "Don't overwrite unsaved updates when loading an association but preserve the order of the loaded records. [#4642 state:open]"
text_helper now escape the unsafe input instead of sanitizing
Added tests for cookies with domain option.
Moved test/controller/cookie_test.rb to test/dispatch/cookies_test.rb
Refactored duplication into a separate method. Dropped class variable.
Adding missing docs to delete cookies with :all which were added that way.
Took out the domain option logic to cookies.rb.
Moved Domain regexp to a constant and added comments.
The previous commit didn't work with complex domains, which is now fixed.
Add support for multi-subdomain session by setting cookie host in session cookie so you can share session between www.example.com, example.com and user.example.com. [#4818 state:resolved]
adds missing require for having ActiveSupport::InheritableOptions defined
adds missing require for having ActiveSupport::InheritableOptions defined
Updated all number helpers with :locale option.
grammar fixes
fixing typo
abort generation/booting on Ruby 1.9.1
layout 'application' is not anymore on application_controller
detect being inside a rails application even from a subdirectory
Revert "Add support for multi-subdomain session by setting cookie host in session cookie so you can share session between www.example.com, example.com and user.example.com. [#4818 state:resolved]"
Rails::Generators::GeneratedAttribute: tests, cleanups and a bugfix [#4631 state:resolved]
Missing method error doesn't specify which controller it is missing from [#4436 state:resolved]
Remove punctuate_body! No code in lib was using it and it had no documentation.
class_attribute is not a direct replacement of class_inheritable_*.
Add support for multi-subdomain session by setting cookie host in session cookie so you can share session between www.example.com, example.com and user.example.com. [#4818 state:resolved]
Validators should at model level and not at AR:Base level [Closes #4804]
Added :locale option explanation for number_to_currency
Cut down even further on rake -T noise
Ensure show exceptions middleware properly filters backtrace before logging.
Silence even more noisy rake task docs
Cut down on tasks shown in rake -T
Remove outdated section on web servers that didnt really tell you much anyway
Remove needless links and search box and update doc links
You dont have to manually mention the application layout, its automatically used
Don't overwrite unsaved updates when loading an association but preserve the order of the loaded records. [#4642 state:resolved]
Make sure about which is the first element of the query, fixes a postgresql 8.4 failing test
Should call configure! to initiliaze the application
SQLite2Adapter doesn't exist
Removed textilize, textilize_without_paragraph and markdown helpers
Better test for ticket [#3914 state:resolved]
Update bundler dependency
Add more cases to previous commit [#4394 state:resolved]
Make sure namespaces are nested within resources
cache_sweeper yields blank output
Make logic for after_commit and after_rollback :on option work like it does for validation callbacks.
Revert "Temporarily revert "Update after_commit and after_rollback docs and tests to use new style API with an :on options instead of on_* suffix." and "Add after_commit and after_rollback callbacks to ActiveRecord that are called after transactions either commit or rollback on all records saved or destroyed in the transaction.""
Bring pg back.
Avoid PostgreSQL and MySQL tests warnings.
Revert "Add shallow routes to the new router" for now. Needs more work.
Memoize the object returned by _view in ActionView::TestCase::Behavior
Add parentheses to avoid warnings when running AR tests.
Bump Arel to 0.4.0
Temporarily revert "Update after_commit and after_rollback docs and tests to use new style API with an :on options instead of on_* suffix." and "Add after_commit and after_rollback callbacks to ActiveRecord that are called after transactions either commit or rollback on all records saved or destroyed in the transaction."
Bump version to 0.4.0
Get ready for beta 4
forcing encoding on 1.9 when dealing with "binary" columns [#4612 state:resolved]
Missing require restored
Accept both regexps and strings for LOCALHOST.
AS guide: documents datetime calculations
Require encoding.rb
Make sure that rails recognized the full notation of IPv6 loopback address, and recognize 127.0.0.0/8 in IPv4
Made markdown honor :safe option and handle safe input. Also added tests for markdown.
Hide remaining generators hooks [#4790 state:resolved]
Add support for actions on a new resource to the new routing DSL [#4328 state:resolved]
Move the undef into the 1.9 only branch
Updating ActionMailer basics guide to have inline attachments
Updating readme for ActionMailer::Base
If we undef <=>, it solves a problem involving comparison. Please figure out the root cause.
Adding inline attachment support to ActionMailer
Updating image_tag to support cid:content_id "URLs"
update docs before_validation_on_create => before_validation(:on => :create)
This test shouldn't rely on the order of the data returned by select
Add shallow routes to the new router [Closes #3765]
Really make include_root_in_json default to true [#3770 state:resolved]
regular expressions are usually ASCII-encoded, so force_encoding the content of a Node to the encoding of the regular expression is wrong.
Add delete to middleware stack proxy.
Updating ActionMailer to Mail 2.2.2 (fixing two tests to suit)
Makes text_helper methods sanitize the input if the input is not safe or :safe => true option is not provided
content_tag_string shouldn't escape_html if escape param is false
Updating ActionMailer to Mail 2.2.2 (fixing two tests to suit)
Make named helpers unprotected without becoming actions [#4696 state:resolved]
getting started guide: mentions that last REE release does not have the bugs of MRI p248 and p249
getting started guide: mentions that last REE release does not have the bugs of MRI p248 and p249
bump sqlite version to 1.3.0
member on resource should not expect an ID.
Make the logic for nested_records_changed_for_autosave? simpler.
Require active support/string/conversions so constantize can be used in associations.rb
Make AP test suite green once again and speed up performance in layouts lookup for some cases.
Observing module is using constantize
oops, two cancelling errors made a previous test pass, fixing it
the order in which we apply deltas in Date#advance matters, add test coverage for that
Router accepts member routes on resource. [#4624 state:resolved]
Formats should always be an array.
Reset request.parameters after assigning params for functional tests
AS guide: first complete draft covering date/calculations.rb
Simplify middleware stack lazy compares using named const references
Clear const references all at once
ActiveSupport::Dependencies.constantize shortcut for caching named constant lookups
Bump i18n to 0.4.1
Restore flash sweep
MySQL: require 2.7 or later so we can rely on result.each_hash
Optimize LookupContext
Small optimization of 1.9 unescape. We should make sure that inbound ASCII always means UTF-8. It seems so based on a quick survey of common browsers, but let's be sure
No need to unescape params twice if we came from Rack::Mount
Memoizing methods on request means we need to clear them out on recycle!
Stop the flash middleware from forcibly loading sessions even if the user doesn't use sessions at all
Whoops. _run_*_callbacks is private
Improve performance of the Logger middleware by using simpler versions of methods
Improve performance of MessageVerifier while keeping it constant time
Improve performance of the log subscriber by remembering the list of all loggers instead of trying to extract them each time
Eliminate the need to check for superclass changes to the callback stack each time through the callbacks
Use faster form of running callbacks
Improve performance of commonly used request methods
Include backtrace in failsafe log. Rescue possible exceptions in failsafe response.
Readme file changes:
Improve Rails README [#4740 state:resolved]
AS guide: removes your spurious line
removes Array#random_element and backports Array#sample from Ruby 1.9, thanks to Marc-Andre Lafortune
Missed fixing the banner on the Usage output for Thor
compare sorted arrays in relations_test
ignore raw_sql_ table alias that is used by Oracle adapter
fix test_belongs_to_with_primary_key_joins_on_correct_column test on Oracle
Downcase quoted table name in regex in count_aliases_from_table_joins
ignore selects from data dictionary views when running tests on Oracle
fix conditions when DateTime#to_date and DateTime#xmlschema methods are defined
assert log output match in case insensitive mode to avoid failure when quoted table name is in uppercase (when using Oracle)
downcase table names in aliased_table_name_for and references_eager_loaded_tables? methods (as Oracle quoted table names are in uppercase)
test fixes for Oracle enhanced adapter:
do order by id when finding first fixture to ensure that it is correct one (as otherwise was failing under JRuby and oracle_enhanced adapter)
Oracle enhanced adapter now supports shortening of default generated index names, some additional tests now pass
Reduced size of table name prefix and suffix in migrations test as in Oracle identifier name cannot be larger than 30 characters
Explicitly set Topic model last_read attribute as Date value when Oracle enhanced adapter is used (otherwise some tests are failing which assume that this attribute will have Date value)
create DateTime value with local offset as later it is compared to Time value with local offset (otherwise test is failing for oracle_enhanced JDBC adapter)
Updating guides to new rails initialization process
Changing command line API from 'rails blog' to 'rails new blog'.
Missed fixing the banner on the Usage output for Thor
Properly cache association_collection#scopes calls having arguments
Updating guides to new rails initialization process
Changing command line API from 'rails blog' to 'rails new blog'.
Add an asset_host accessor for consistency.
Missed the extraction
Extract assets paths and make them available to Action Mailer as well
Changes made while working on upgrading cells to Rails 3
Special treatement for Relation#select { with block }
Configure generators before invoking.
Still copy application configuration to generator even if they are required earlier. Also tidy up the guide a little bit.
AS guide: documents String#truncate
AR validations & callbacks: update callbacks list
add <%= to fields_for examples
revises the documentation of String#truncate and the truncate helper
Add lib to load paths when application is inherited to be able to load lib code during configuration.
Update CHANGELOG
You need the ruby-debug available in your Gemfile for debugger to work
revises rdoc of AMo::Error#add [#4738 state:resolved]
Unforce text-format from AM
Unforce memcache from AS
Unforce builder from AS
Unforce tzinfo from AS
Extracted String#truncate from TextHelper#truncate [DHH]
Base options cant live in lazy loaded helpers as they then wont be available to set for config
Unforce i18n from AS
rack-test version updated and removed from Gemfile
Add :only and :except to controllers MiddlewareStack. This allows you to do the following:
Update template to allow handlers to more cleanly handle encodings (ht: nex3)
Remove the laziness from the middleware stack.
Now that we always return a proxy from mb_chars, even in 1.9, all Strings coming back from AS are UTF-8.
fix translation test in actionpack [#4701 state:commited]
Removing Metal from Rails 3.
fix `reset_counters` to work even with complex class names
move counter_cache tests to a separate file and refactor
cleanup `update/reset_counters`: less SQL strings, more ActiveRecord/Arel
avoid auto_linking already linked emails; more robust detection of linked URLs
auto_link: support arbitrary URI schemes like "ftp:" and "file:"
performance and integration tests inherit from AD, not AC
Use I18n 0.4.0
In AV::TC, move protect_against_forgery? from the test_case to the _helper module included in the view.
reorganize tests for AV::TC
Adding to_key to ActiveResource objects using ActiveModel::Conversion [#4685 state:resolved]
Form Helpers guide: Use new syntax for fields_for examples
fix small doc bug about running single unit test files
A small rdoc change made on lines 39 and 41 on activesupport/lib/active_support/core_ext/object/to_param.rb. It looks like the method name might have been changed, and the comments were never changed to coincide with the new method name.
Cover more of the Rails initialization process, regarding the internals of YourApp::Application inheritance from Rails::Application and more.
Added info about guides validation to Contribute guide
New rake validate_guides task to validate output/*.html against the W3C Validator
Getting Started, don't forget to link to yourself if you are adding to the changelog.
Minor typo fix in callbacks.rb of abstract_controller
Missed the extraction
Add an asset_host accessor for consistency.
Extract assets paths and make them available to Action Mailer as well
You need the ruby-debug available in your Gemfile for debugger to work
Changes made while working on upgrading cells to Rails 3
AR validations: update sections 2.4 and 17.1
Routing: fix error in nested resources with name_prefix example [#146 state:resolved]
Special treatement for Relation#select { with block }
Configure generators before invoking.
Still copy application configuration to generator even if they are required earlier. Also tidy up the guide a little bit.
Revert "Guides: Give code container a proper bottom margin"
Guides: Give code container a proper bottom margin
revises the documentation of String#truncate and the truncate helper
Add lib to load paths when application is inherited to be able to load lib code during configuration.
AS guide: documents String#truncate
Extracted String#truncate from TextHelper#truncate [DHH]
revises rdoc of AMo::Error#add [#4738 state:resolved]
Unforce text-format from AM
Unforce memcache from AS
Unforce builder from AS
Unforce tzinfo from AS
Base options cant live in lazy loaded helpers as they then wont be available to set for config
Remove unnecessary code since AS beta1 is out.
Unforce i18n from AS
rack-test version updated and removed from Gemfile
AR validations & callbacks: update callbacks list
Add :only and :except to controllers MiddlewareStack. This allows you to do the following:
Update CHANGELOG
Update template to allow handlers to more cleanly handle encodings (ht: nex3)
Remove the laziness from the middleware stack.
Now that we always return a proxy from mb_chars, even in 1.9, all Strings coming back from AS are UTF-8.
fix translation test in actionpack [#4701 state:commited]
Removing Metal from Rails 3.
performance and integration tests inherit from AD, not AC
add <%= to fields_for examples
Use I18n 0.4.0
Whitespace cleanup
Whitespace fixes
In AV::TC, move protect_against_forgery? from the test_case to the _helper module included in the view.
reorganize tests for AV::TC
Adding to_key to ActiveResource objects using ActiveModel::Conversion [#4685 state:resolved]
Support configuration of controller.controller_path on instances of ActionView::TestCase::TestController without stubs. Just say:
get railties/README back to the home page of the API
Form Helpers guide: Use new syntax for fields_for examples
fix small doc bug about running single unit test files
A small rdoc change made on lines 39 and 41 on activesupport/lib/active_support/core_ext/object/to_param.rb. It looks like the method name might have been changed, and the comments were never changed to coincide with the new method name.
Cover more of the Rails initialization process, regarding the internals of YourApp::Application inheritance from Rails::Application and more.
Refactor calculation test to remove unneeded SQLite special case.
i18n: t() handles single keys returning an Array, also
HTML safety: fix textarea with nil content
translate method doesn't support arrays anymore and is optimized to be used with strings or symbols
Revert "translation method for arrays on TranslationHelper module returns an array where values for keys of the form (.|_)html keys are html_safe"
Move AV::TC to AV::TC::Behavior [#4678 state:resolved]
translation method for arrays on TranslationHelper module returns an array where values for keys of the form (.|_)html keys are html_safe
Added info about guides validation to Contribute guide
New rake validate_guides task to validate output/*.html against the W3C Validator
fix `reset_counters` to work even with complex class names
move counter_cache tests to a separate file and refactor
cleanup `update/reset_counters`: less SQL strings, more ActiveRecord/Arel
avoid auto_linking already linked emails; more robust detection of linked URLs
auto_link: support arbitrary URI schemes like "ftp:" and "file:"
Missing changelog heading
Use multibyte proxy class on 1.9, refactor Unicode.
1.day should respond_to kind_of too
Replace assert with assert_equal in some test cases
Getting Started, don't forget to link to yourself if you are adding to the changelog.
More accurate JRuby gem requirements
refactor evals and adds some __FILE__ and __LINE__
Minor typo fix in callbacks.rb of abstract_controller
in Ruby things in general happen at runtime, no need to specify that
group :mri deleted in favor of RUBY_ENGINE and RUBY_VERSION usage. Allow use json, yajl-ruby and nokogiri on MRI and Rubinius only. jruby-debug added only for jruby platform
Final iteration of use better testing methods
Enable ruby-debug only for MRI
Avoid instance variable @output_buffer not initialized
Use better assertion methods for testing
Updating the doc with the info that class_inheritable_accessor copies properties to child at runtime
Testing guide: Replace removed word
Testing guide: Grammar, punctuation, and emphasize that test/unit is only the default
fix documentation typo
removes deprecations of last_(month|year) from master, they will be deprecated in 2.3 instead
Revert "Don't carry default value when changing column for a binary type on MySQL"
make add_index and remove_index more resilient; new rename_index method; track database limits
Avoid creating a Rack::Response object in the cookie middleware since it may stream the body.
Nested records (re: autosave) are now updated even when the intermediate parent record is unchanged [#4242 state:resolved]
assert_equal should be used instead of assert
expected value should come first in assert_equal
Use assert_equal correctly in actionmailer test (exposing one as broken)
Better error messages for some of ActiveSupport tests
assert should be replaced with assert_equal in a particular test case
Remove Model.clear_default_scope
Cut the fat and make session stores rely on request.cookie_jar and change set_session semantics to return the cookie value instead of a boolean.
Add a valid hex that shouldn't be valid to ActiveModel numericality tests [#4622 state:commited]
Use assert_respond_to because it has better error messaging
Remove deprecated methods since 2-3-stable.
Kill legacy dispatcher.
Simplify cookie_store by simply relying on cookies.signed.
Rely on set and delete cookie logic from rack.
Renames Array#rand -> Array#random_element
Revert "Moved encoding work in progress to a feature branch."
Make sure encoding changes don't break 1.8
Added default currency values to NumberHelper and pass them to I18n.translate
Allow root to be given in the resources scope without need to specify :on => collection.
Valid hex strings aren't valid float column values, to match the integer restriction.  [#4622 state:resolved]
Use assert_equal correctly in transaction callback tests (exposing some of them as broken)
Ruby 1.9: helper path may be a pathname, so convert to a string before quoting for regexp
AR::Base#clone fixed to set dirty bits for cloned object
cache connection when quoting
Changed guide to use random_element.
a cloned object no longer mimics changed flags from creator , plus a test case [#4614 state:resolved]
Moved encoding work in progress to a feature branch.
Change on Array extension from rand => random_element [#4555 state:committed]
Significantly improved internal encoding heuristics and support.
Initial work to improve the state of encodings for templates
Added nokogiri dependency to Gemfile [#4617 state:resolved]
prevent to run fixture accessor (e.g. test_foos for TestFoo model) as a test case [#2992 state:resolved]
Gemfile requires sqlite3-ruby = 1.3.0.beta.2
Tests for new reserved words [#4602 state:resolved]
Added rails command aliases (s g c db) to reserved words in app generator [#4602 state:resolved]
I have updated the documentation according to ticket #4263 about fixtures and set_fixture_class
Take out stale tasks from Actionpack's Rakefile [#4619 state:resolved]
Takes out stale methods relating to edge_rails_version
Added missing require, we are using bind method defined on active_support/core_ext/proc
Make use of assert_equal to test equallity between object assert expects and object and a message of error
Postgresql doesn't allow to change a string type column to a binary type. Skip this test for postgresql for now. [#4616 state:resolved]
Check blocks are not incorrectly detected when compiling erubis templates [#4575 state:resolved]
Add some comments related to Hash method check.
added support for html attributes in options_for_select [#2165]
Rename assert_attribute_type to asser_field_type.
Added assert_attribute_type to clean up GeneratedAttributeTest [#2377 state:resolved]
Move AD::Cascade to the bottom of the middleware stack.
using :time_select when the attribute type is :time in the scaffold generator. [#2377 state:resolved]
Don't carry default value when changing column for a binary type on MySQL [#3234 state:resolved]
better documentation for dependent option [#4564 state:resolved]
Expose remaining hooks to minimize the need for a Railtie based on feedback from plugin developers.
simplify contact information in the guides contribution guide
updates the contribute guide in several aspects
Ensure that eager_load actually takes place just after the middleware stack is built by using another pattern.
Sending :id => nil to form helpers now properly omits the "id" html element [#4559 state:resolved]
Revert "Make ActiveModel::Errors#add_on_blank and #add_on_empty accept an options hash and make various Validators pass their (filtered) options."
Optimize the code added in fa99de0bd054576336c9
Ruby 1.9: fix invalid rack response in test
make sure `as` is set before trying to build an #{as}_counter. [#2804 state:resolved]
Make ActiveModel::Errors#add_on_blank and #add_on_empty accept an options hash and make various Validators pass their (filtered) options.
Reset quoted_table_name after set_table_name [#4568 state:resolved]
partial counters with :as [#2804 state:resolved]
Add tests for convenience methods #notice and #alert to flash.now [#4369 state:resolved]
added convenience methods #notice and #alert to flash.now
fix assert_select messages to its declaration behaviour
Added extra documentation for content_for helper
Update generators test.
Reorganized initializers a bit to enable better hooks for common cases without the need for Railtie. Specifically, the following hooks were added:
Remove the need for a special action_mailer.url_for initializer that loads before anything else
Added Rake task rails:templates:copy to copy templates for customization [#4574 state:resolved]
Add missing require to with_options [#4601 state:resolved]
STI should not ignore type condition while applying scopes from parent class scopes
Bundler deprecated options in Gemfile with application template using method "gem" [#4534 state:resolved]
Accept :alt => nil on image_tag [#4558 state:resolved]
ActiveResource shouldn't consider modules in the path
Improve previous patch a bit [#3645 state:resolved]
Let label helpers accept blocks.
AR Validations: Errors section updated
Modified default_scope to merge with any pre-existing default_scope and added AR::Base::clear_default_scope
Better code formatting and proper line numbers for stack traces
To allow proper fisting of stack trace
No longer define predications using metaprogramming.
Changed encoding behaviour of mail, so updated tests in actionmailer and bumped mail version to 2.2.1
minor changes to instance level validations implementation based on feedback from JosÃ© Valim
validation macros can now be used within an instance
routing guide: fix typos and clarify code examples
Updated 3.0 release notes guide to inform issues with unsupported Ruby versions.
fix wrong action name [#134]
defines prev_(month|year) in Date and Time to ease transition to 1.9, and deprecates last_(month|year)
complete rake tasks table and fix format
Revert "Refactor of active_model/naming.rb and allow collection and element to be writable"
Make ActiveResource serialize XML correctly when element_name is set.
Refactor of active_model/naming.rb and allow collection and element to be writable
Make use of to_xml and to_json in tests
revises the rdoc of #average according to 5f3bd55, and realigns when clauses
Gemfile requires sqlite3-ruby 1.3.0.beta.1
Make sure timestamp is properly referenced
Remove undocumented save_without_validation!
Use arel instead of sql strings
Succint save definition
Getting started, fixed some links in changelog
corrected error message in session/cookie_store [#4546 state:resolved]
Make sure valid? preceives the context as in ActiveModel API (ht: Carlos Antonio)
Make sure schema dumper doesnt throw up when there are no index lengths
Revert "Revert "Add index length support for MySQL [#1852 state:open]""
Improve code from 231d7676f72947bae765b9bd885b134aaf949921
corrected AR find_each and find_in_batches to raise when the user uses select but does not specify the primary key
Use annoted source code in Template:Error to avoid special cases in the show exceptions middleware.
AS guide: more date calculation utilities
aliases Date#sunday to Date#end_of_week, for symmetry with existing alias Date#monday -> Date#beginning_of_week
AS guide: you know, the 10th is not November
AS guide: adds a catchall note about date calculations around the calendar reform
adds calendar reform test coverage for more relevant date calculations
Updates bundler information, now bundler has a homepage
eliminate alias_method_chain from ActiveRecord
AS guide: documents some Date calculations (calendar reform details pending)
Backports Date#>> from 1.9 so that calculations do the right thing around the calendar reform
removed AR from all AMo tests, including any unneeded files (schema, fixtures and test helper)
removed an old unused model in the AMo tests which also removes another AR dependency
updated AR to work with the AMo model validation changes
removed use of AR in AMo tests and removed testing of scopes (:on) in individual validation tests and moved them to their own test file
updated AMo validations to use a context for valid? and invalid?, removing the dependency on AR
Here the intention was to assign to different objects
add test coverage for (last|next)_year on leap years
get the rescue error page back [#4536 state:resolved]
Revert "Add index length support for MySQL [#1852 state:open]"
Add index length support for MySQL [#1852 state:resolved]
Removal of operator overrides
Tests for ranges with excluded ends and complements
noteq -> not_eq, notmatches -> not_matches, notin -> not_in
Inequality shouldn't descend from equality, due to Rails type checks, and resolve conflicts from rebase
Alternate syntax for Predicate#and and Predicate#or, using & and |
Support predicate complements and alternate not syntax (overload BasicObject#!)
Tests for notmatches and notin, and fixes for issues found in tests
Rename Attribute Not -> Inequality and add a Not predicate (complement)
Cleaner support for Ranges with excluded end.
Add grouped predicates (_any/_all) and refactored predication method definitions
Added NotMatch and NotIn predicates, made Not derive from Equality (reverted later)
Make find_or_create and find_or_initialize work mixing explicit parameters and a hash [#4457 state:committed]
migration, correct file and created a code sample out of it.
Migrations, rewrote a sentence for clarity.
Expand paths to app builders relative to the working directory
Updated guide to inform issues with unsupported Ruby versions.
Prevent calling regexp on symbol in Ruby 1.9 in association_proxy
Update hidden namespace mechanism to work better with alternate choices and to support full namespaces (not just entire groups)
typo 'Provivdes' -> 'Provides'
adds Date#to_time refinement from previous commit to the CHANGELOG
add support for mysql2 adapter to dbconsole
let Time.time_with_datetime_fallback handle properly years in the range 0..138
Use primary key in conditions, not 'id' [#4395 state:resolved]
Active Model JSON serializer now supports custom root option
Allow pre-casted values (other than nil) to pass through from calculations un-touched
image_tag should be audio_tag, and change typo 'image' to 'audio file'
typo "<image />" -> "<img />", and typo 'follow' -> 'following'
typo 'main.cs' -> 'main.css', and textile typo 'h6(:has_many-group)' -> 'h6(#has_many-group)', and typo. missing 'if'
grammatical error 'uses' -> 'use'
Cleaning up Action Mailer spelling with and without the space
Adding more docs to ActionMailer
Use class_inheritable_accessor for connection_handler
Change typo 'image' to 'audio file'
image_tag should be audio_tag
typo 'follow' -> 'following'
typo "<image />" -> "<img />"
typo. missing 'if'
textile typo 'h6(:has_many-group)' -> 'h6(#has_many-group)'
typo 'main.cs' -> 'main.css'
date/conversions needs time/calculations for (utc|local)_time
BigDecimal#as_json does not really specify the F format, it delegates that to whatever BigDecimal#to_s default format is, do the same in its test
adds a comment explaining why BigDecimal#as_json returns a JSON string
fixes colon in previous YAML example
move assert_template tests to their own test case [#4501 state:resolved]
Eliminate false positives when passing symbols to assert_template
Update I18n gem to 0.4.0.beta1 [#4525 state:resolved].
Favor %{} in all code instead of (deprecated) {{}} as interpolation syntax for I18n
Make backtrace_cleaner work as expected. Prior to this patch, the Full Trace rarely showed the full trace. Also, increase performance considerably.
grammatical error 'uses' -> 'use'
adds test coverage for Date.current vs Date.today in Date.(yesterday|tomorrow) implementation
add NullResolver
Event should be aware if yielded block failed or not.
Change event namespace ordering to most-significant first [#4504 state:resolved]
Make notifications go off even when an error is raised, so that we capture the underlying performance data [#4505 state:resolved]
Missing require added make pass activesupport/test/json/encoding_test.rb in isolation
Cleaning up Action Mailer spelling with and without the space
Adding more docs to ActionMailer
Adding ability for the procs to be called within the instance, allows you to pass results from instance methods to the mail header
Adding ability to pass proc's to the ActionMailer class default method
AR: fixed postgres fixture tests [#4519 state:resolved]
revises tests for Date.yesterday and Date.tomorrow
let Date.yesterday and Date.tomorrow be based on Date.current rather than Date.today
say something about after_(commit|rollback) in callbacks.rb, the fact that their implementation is elsewhere is not important for rdoc purposes
edit pass in the transactions preamble rdoc
AR: fixed postgres transaction tests [#4519 state:commited]
Speed up I18n helpers in views and add entry to CHANGELOG.
repair the activesupport message encryptor tests for me, do so in the same way as jeremy did with message verifier
Use %{} syntax in I18n (faster) instead of {{}}.
RouteSet does not raise ActionController::RoutingError when no routes match anymore. Instead, it follows the X-Cascade convention. ShowExceptions checks for X-Cascade so that the routing error page can still be displayed.
It would be nice to actually commit test fixtures
fix format
Provide a mechanism for overriding the entire generator via a class that handles the individual elements of generating a new Rails application
Set up app generator class to make it easier to for alt-stacks to override targeted areas
after_(commit|rollback) rdoc, edit pass
guides index: punctuation
Add generators to the guides and break out an extensions section
Add generators to the guides and break out an extensions section
add HTTP Token Authorization support to complement Basic and Digest Authorization.
Depend on the I18n 0.4.0.beta.
Delegate Inflector.transliterate to i18n. [#4508 state:resolved]
to_xml with :include should skip_instruct on the included records [#4506 state:resolved]
removing the extra assignment statement [#4432 state:resolved]
test cases for record.to_xml [#458 state:resolved]
Updated the generators guide.
Update generators to use thor 0.13.6 with simpler source_root handling.
Reorganize the mailer generator a bit.
more fixes and updated the changelog
fixes to tags section
Rewrote Security para and a minor fix
Rewrote para for clarity and better reading
Update after_commit and after_rollback docs and tests to use new style API with an :on options instead of on_* suffix.
Move ActionMailer generator to AM
Update thor dependency to 0.13.5
Add after_commit and after_rollback callbacks to ActiveRecord that are called after transactions either commit or rollback on all records saved or destroyed in the transaction.
Add missing deprecation requires
Small grammatical fix.
Make output match code.
as changes named routes, path is the appropriate option in this case
Change %5b ([) to %5d (]) in escaped URL
Replace send_data with send_file in "Sending files" example
making rake:migrate VERSION=0 a noop called in succession. [#2137 state:resolved]
ActiveRecord middlewares should be inserted before AD::Cascade [#4493 state:resolved].
warn user if options are given before application name [#3435 state:resolved]
ActionCachingTestController rescues from all exceptions. Making sure that all the tests check for valid response. [#4468 state:resolved]
Move several configuration values from Hash to ActiveSupport::XmlMini, which both Hash and Array depends on.
Ops. Rename performance to profiler.
array.to_xml should be able to handle all types of data elements [#4490 state:resolved]
revert back to <b> tags instead of <strong> tags in the getting started guide
The rake task :environment now loads config/environment.rb instead of initializing the application on its own. This fixes [#4492 state:resolved] and also avoids the application being initialized twice in some rake tasks.
object_id may be negative, producing an invalid symbol.  h/t Markus Schirp
failing test for: validates_acceptance_of overrides database fields
Makes validates_acceptance_of to not override database fields [#4460 state:committed]
Bundle json and yajl-ruby gems for AS::JSON testing
readability fixes to two paras in Refactorization
replaced <b> tag with <strong> tag in samples
fixed para for better readability
Destroy respects optimistic locking.
Only run load hooks once a file has been fully loaded.
added notice to all samples of show.html.erb of posts controller
added views dir to list of created things
Switch driver to pg. [#3635 state:resolved]
release notes: updates path to the rails command in the Rails repo
ActiveSupport::Cache refactoring
use ordinary syntax for options to be well-formed in 1.8
JSON: encode objects that don't have a native JSON representation using to_hash, if available, instead of instance_values (the old fallback) or to_s (other encoders' default). Encode BigDecimal and Regexp encode as strings to conform with other encoders. Try to transcode non-UTF-8 strings.
Update CHANGELOG for include_root_in_json.
Reuse Active Model serialization in Active Resource. [#2584 state:committed]
Use explicit source encoding rather than forced UTF-8 from US-ASCII.
fix font formats and code examples indentation
Use Config::CONFIG['host_os'] instead of RUBY_PLATFORM [#4477 state:resolved]
Make db console work for all versions of ruby on Windows.
extract ActionController::TestCase::Behavior
No need to require test and rdoc tasks.
Ensure application rake tasks and generators are loaded after the ones specified in railties/engines/rails. [#4471 state:resolved]
Refactor tests by moving all middleware tests to the same place.
Revert "create option to include_root_in_json for ActiveResource [#2584 state:committed]"
Action Pack: fix tests with -K*, work around Ruby 1.9.1 constant lookup.
the names of Rails components have a space, eg "Active Record"
Support fixtures for namespaced models [#2965 state:resolved]
allow unsubscribe by name or subscription [#4433 state:resolved]
Removed mentions of controller specific layouts. Ticket Ref: http://bit.ly/9dqvBI
Missed commit: explicit source encoding
Explicit source encoding
Remove quoted_string_prefix entirely since PostgreSQL was the only database adapter relying on it.
Add a test for assert_recognizes on ActionDispatch::IntegrationTest [#4390 state:committed]
Make assert_recognizes work in IntegrationTest [#4390 state:committed]
PostgreSQL: always rely on pg driver for escape/unescape and quoting duties
PostgreSQL: use standard-conforming strings if possible
Rename fieldWithErrors style to field_with_errors. Remove unused alert style.
Use Array.wrap to quiet 1.8.8 deprecation
Drop support for postgres driver. Use pg >= 0.9.0.
Ensure require and load are private - h/t apeiros
Allow :remote => false to be passed to link_to
HWIA relies on Hash#symbolize_keys and #stringify_keys extensions.
Change HWIA#stringify_keys to return a HWIA not a Hash
Restore HWIA#stringify_keys! and update changelog
HWIA symbolize_keys now returns a hash so no need to do this anymore
Make ActionDispatch url_for use HWIA symbolize_keys
HWIA delegates to to_hash symbolize_keys and stringify_keys and bang methods are not in the api
Ensure that url_for uses symbolized keys in the controller. [#4391]
Speed up xml serializer by computing values just once and remove unecessary code duplication.
Always downstream given options in :json, :xml and :js renderers and add tests for it.
Clean up the config object in ActionPack. Create config_accessor which just delegates to the config object, reducing the number of deprecations and add specific tests.
params already has a setted controller and action here
url_for now works with HashWithIndifferentAccess ht jay [#4391 state:committed]
updates String#to_(date|date_time|time) to return nil for blank strings
build expression not(nil) as IS NOT NULL
Squash backtraces from Bundler.setup
Some require indifferent_access added
require without .rb
Replaced f.error_messages with the new code as generated by rails 3 b3
It should be possible to render :json with options
TimeZones lazy load
Build PredicateBuilder object only when needed
Remove only formats in  shortcuts and do it just once.
Move observers initialization to after_config blocks, they are still being initialized to early (before load paths are being set).
Switch to TimezoneProxy for later support of deferred TZ loading
Missing requires added
minor fix and re-organized description of index action
Needed to update release notes too
Adding auto encoding of headers and bodies to the guide for ActionMailer
Regexp.escape(load_path) in add_routing_namespaces initializer [#4442 state:resolved]
Changed versions to ruby 1.8.7 and Rails 3.0.0
Rails 3.0.0 version bootup messages
let's talk about the same path
rails about is now rake about
test refactor
Make this test pass on > 1.9
Rails on Rack Rails guide: indicate that Metal pieces now require an "X-Cascade" header with a value of "pass" to continue the Metal chain execution instead of a HTTP 404 response. Also removed reference to old code.
much complete rdoc for String#ord
revises the rdoc of String#ord
AS guide: AS no longer extends Pathname
fix testing guide: fonts and code format
Rails on Rack Rails guide: indicate that Metal pieces now require an "X-Cascade" header with a value of "pass" to continue the Metal chain execution instead of a HTTP 404 response. Also removed reference to old code.
Cleaned up the table of files created by scaffolding a Post.
Replaced ',' with 'or' to make it read better.
MemoryStore#read_multi(*keys) for dev-mode compatibility with memcache store
Make the migration generator handle pre-existing migrations with the same timestamp.
Missing require added
much complete rdoc for String#ord
remove code for Ruby < 1.8.7
Missing require added
perform_caching should be accessed through the controller here
perform_caching is now delegated to config on instance and class level
added shorthand support for routes like /projects/status(.:format)
removes code written for Ruby < 1.8.7
revises the rdoc of String#ord
AS guide: AS no longer extends Pathname
fix testing guide: fonts and code format
access assigns as a method or hash, with strings or symbols [#4431 state:resolved]
fisting codes so it will parse [#4430 state:resolved]
Make i18n fallbacks configurable and fallback to the default locale by default in production [#4428 state:resolved]
working around syck defects by optionally matching a space [#4426 state:resolved]
making yaml tests less specific to emitter. [#4425 state:resolved]
fixing invalid yaml [#4424 state:resolved]
Added missing require
avoid warning: ambiguous first argument; put parentheses or even spaces
Missing requires
mail_to with :encode => :javascript now outputs safe html
Revert "Avoid deprecation warnings and potential TypeErrors [#4404 state:resolved]" Revert "protected instance variables added to the deprecated config accessor
Mark the result of grouped_options_for_select as HTML safe [#4322 state:committed]
Add missing require
Bump rack-mount dependency to ~> 0.6.3 for CRITICAL FIX
fixing invalid yaml [#4418 state:resolved]
Revert "Require rack-mount 0.6.0 since 0.6.1 and later can't be bundled"
improve how ActiveRecord::Observer defines callbacks on observed models
ActiveModel::Observing: stop using Observable Ruby module, re-implement `notify_observers`
merge callbacks_observers_test.rb into lifecycle_test.rb where other observers test reside
fix a failure and some warnings on 1.9.2 [#4417 state:resolved]
page_cache_extension is delegating to config so no need to deprecate
Added test get to js should have a header with content-type text/javascript
Tidy up a bit this test file
Revert "Add test case which check content type when rendering rjs" partial in html template" rendering rjs in html doesn't make sense, it would just output javascript into the template, no script tag
add missing requires to Rescuable and RouteSet [#4415 state:committed]
Added a note in the section on complex forms regarding nested attributes in 2.3
Split the observer railtie into two phases.
Make perform_caching work again, with the tests passing and backward compatible
Revert "logger added to the deprecated config accessor" we need a major refactor to get this working
Avoid deprecation warnings and potential TypeErrors [#4404 state:resolved]
fix ActionController font and replace extract_locale_from_uri with extract_locale_from_tld
Revert "I18n guide: change ActionController by Action Controller in some places and fix code example in 2.4 section"
logger added to the deprecated config accessor
protected instance variables added to the deprecated config accessor
asset and helper path added to the deprecated config accessor
page_cache added to the deprecated config accessor
Make use of config.perform_caching
action_dispatch/routing/deprecated_mapper needs with_options
utc_offset returns nil for unknown zones
Test for unknown zone with nil utc_offset
Rely specifically on 0.6.0 and add a missing require
Require rack-mount 0.6.0 since 0.6.1 and later can't be bundled
I18n guide: change ActionController by Action Controller in some places and fix code example in 2.4 section
Begun documenting YourApp::Application and how it ties in with the backend.
Rip out bundler notes, they're now living at http://github.com/radar/how-rails-works/raw/master/bundler.textile. It really needs its own guide.
i18n -> AS/i18n
More expansion on Bundler internals.
adds missing requires for arel and i18n, prevents Arel constant from being autoloaded (which was still seen), though it probably hides an issue related to dependencies
fixed typo in RUNNING_UNIT_TESTS
Use <plain> instead of <text>
Ensure not to load the entire association when bulk updating existing records using nested attributes
Changed translate helper so that it doesnâ€™t mark every translation as safe HTML. Only keys with a "_html" suffix and keys named "html" are considered to be safe HTML. All other translations are left untouched.
config.perform_caching added to the deprecated config accessor [#4383 state:committed]
Added tests for config.action_controller.perform_caching
removes unnecessary assignment and local variable in AR::Base#subclasses, and revises its rdoc
Allow a Rails application to be initialized from any directory and not just from inside it (ht: Andre Arko).
Bring back bin/rails to life on edge
template_name and template_path should not be added to mail headers.
Add test case which check content type when rendering rjs partial in html template
Use correct RUBY_PLATFORM regex for Windows env [#4385 state:resolved]
Cleanup indention and spacing and turn errorExplanation into error_explanation now that nobody depends on it anymore
Simple release script
Update changelogs for release
Added missing require and delete unused one on proc.rb
Changes in guide as per Rails 3 features
Improve reliability of Inflector.transliterate. [#4374 state:resolved]
Add a test that used to fail but is fixed now [#3417 state:resolved]
Refactor compute_type to handle situations where the correct class is already loaded
Remove RAILS_ROOT from webrick_server docs.
make ActiveRecord::Base.subclasses a public method
Replace deprecated RAILS_ROOT to Rails.env [#4373 state:resolved]
moved rails binary to rails gem, so rubygems can find specific versions of rails [#4382 state:resolved]
Update the Bundler snippet for 0.9.15 and above
Updated guide to use 'Rails.root.join' to construct path
Make dev and edge app generation options generate edge arel on Gemfile
Replace 'RAILS_ROOT' to 'Rails.root' and 'RAILS_ENV' to 'Rails.env' in significant places.
Ensure match path, :controller => name works as expected.
low and behold => lo and behold!
Avoid unnecessary allocations in Inflector.underscore [#3626 state:resolved]
table_name_prefix and table_name_suffix are class_attributes instead of cattr_accessors. [#4230]
Generate module file for namespaced models [#4230 state:resolved]
Make RUBY_PLATFORM windows regex consistent [#4345 state:resolved]
Let capture handle the yielding.
Move set_fields! to the old API module.
fields_for returns block result when outside ERB
mode postgresql adapters table_exists? method take the schema in to account. [#4341 state:resolved]
Make namespace work with options[:to] [#4351 state:committed]
your beloved typo only spotted in github diff no matter how careful you were before pushing
second pass to the intro rdoc of form_helper.rb
Updating changelog for Mail 2.2.0
Updating actionmailer to Mail version 2.2.0
New mail is more intelligent on encoding and decoding
Cleaning up expectations from the new way mail does it
Moved test of QP into mail
Don't need no quoting test, done in mail
Mail::Part now no longer has nil as a default charset, it is always set to something, and defaults to UTF-8
Added explict setting of charset in set_fields! method to make sure Mail has the user defined default
Removing quoting.rb, upgrade to 2.1.3.6, changing all utf-8 references to UTF-8, updating tests where incorrect encoding
Removing quoting and adding Mail 2.3.5
Avoid deprecated String#to_a by using Array.wrap(...) instead of Array(...)
clearing up many warnings, removing unnecessary regular expresion comparisons [#4365 state:resolved]
removes some duplication in previous edit
makes a pass to the intro rdoc of form_helper.rb, will revise form_for tomorrow
Not using class_eval wasn't adding clarity here
form_for :as rubydoc and tidy up a bit the form_for doc
Use <plain>, not <pre> in guides
Revert "Revert "Use path_names, not resource_path_names, consistently""
Made arrays of ActiveRecords, and any classes, with namespaces convert to valid xml. [#3824 state:resolved]
ActiveSupport::BacktraceCleaner#remove_filters! allows for completely untouched backtrace [#4079 state:resolved]
clear the rest of the warnings, run with warnings turned on [#4332 state:resolved]
kill warnings on 1.8.7 [#4331 state:resolved]
Re-define empty? for errors to check if the values inside the OrderedHash are empty rather than the OrderedHash itself. [#4356 state:resolved]
Use pluralize to properly inflect the number of errors.
Update versions (otherwise you install a gem from source as beta3 but internally it's beta2) and update CHANGELOG.
Remove error_messages_for  data from locale.
Move verification to a plugin as well: http://github.com/rails/verification.git
Remove error_messages_for from scaffold.
Updated changelog
Remove input, form, error_messages_for and error_message_on from the framework. If you think you will miss them, feel free to use the dynamic_form plugin available at http://github.com/rails/dynamic_form
Update the routing guide for style and to add information on new routing features
Revert "Use path_names, not resource_path_names, consistently"
Use path_names, not resource_path_names, consistently
Dial back from 'namespace :controller => ...' to 'scope :module => ...'
Add test showing root match in path namespace
Routes can be selectively namespaced by path or controller module
Refactor for readability
release notes: updates instructions for installing the current beta
fix stack trace lines on class_eval
image_path -> path_to_image in a couple of places, plus motivation for path_to_image in rdoc
Stray carrier returns
Need a double escape there
Notice/alert are out of the layout, so notice has to go back into show to make it work for scaffolding
Make tidy_bytes work on 1.9 and improve its performance. [#4350 state:resolved]
Use thor shorthand for indicating that application.html.erb is a template
Partially revert "A new application now comes with a layout and a stylesheet."
Include app name in layout title
Discourage << as public API, much less config
Layout contents are html-safe
Trim application.html.erb fat
Expansion on require method from runtime.rb
Continue expanding on Bundler.
Further work on the bundler section. Almost there now.
Mention a way to turn off bundler and begin talking about version_requirements
Further expansion into how Bundler loads the gemfile.
CL guide: revises fonts in a few places
update changelog
More on the new ERB syntax in the guides
ERB update for AC overview guide
adds an entry for #favicon_link_tag in AP's CHANGELOG
Expansion on require method from runtime.rb
Still use the directory command and also remove the fixture comments.
Continue expanding on Bundler.
Don't include fixtures if --skip-activerecord is given
Further work on the bundler section. Almost there now.
db:test:prepare for tasks only if AR is loaded
Expect an incompatible encoding exception when a template with a magic comment renders a partial without one and its source encoding doesn't match the default external encoding
Expect an incompatible encoding exception when a template doesn't have a magic comment and its source encoding doesn't match the default external encoding
adds #favicon_link_tag back, rdoc explains why it is useful, and how to get a link for Mobile Safari with it
Revert "When creating database with rake, create schemas in schema_search_path if it doesn't exist."
Add accessors for request and response so tests don't have to mess with internal ivars
Mention a way to turn off bundler and begin talking about version_requirements
Further expansion into how Bundler loads the gemfile.
Consistently use lowercase instead of camelCase for all JS class names in Rails
fisting stack trace [#4349 state:resolved]
Revert "adds #favicon_link_tag and #apple_touch_icon_link_tag" -- these tags are too specific.
Remove superfluous condition
Dirty datetime attributes should be aware of time zone info [#3658 state:resolved]
Some doc updates reflecting the new query API
CL guide: fix font format in rails plugin section
CL guide: convert rails server to shell text
fix font format in Command Line Basics section
Update rails.js to the latest one at http://github.com/rails/prototype-ujs
Adding Rails.env= to railties to allow changing of rails env on the fly for rake tasks etc
adds #favicon_link_tag and #apple_touch_icon_link_tag to AP's CHANGELOG
adds a default source to #apple_touch_icon_link_tag
Make sure MemCacheStore logger exists
new helpers #favicon_link_tag and #apple_touch_icon_link_tag
Use request.body IO and rewind, if possible
Remove #size call on rack input io
update changelog
Move the error raising to api_behavior.
Alleviate the pain in working with utf8 templates by setting a default encoding.
Reset named scope cache whenever the @target is reset
More on the new ERB syntax in the guides
Use config.filter_parameters on in-browser request dump. [#4335 state:resolved]
ERB update for AC overview guide
guides: adds support in the indexer for custom header IDs, and some refactors
First run of updating erb syntax for 3.0
Use raw in yield since templates engines should not be required to html_safe their contents.
guides: adds page title to home and credits, and revises it in the rest
Rename search_field to test_search_field (ht: Piotr Usewicz)
Remove :layout option from generators.
remove_index now uses quote_table_name() [#4300 state:resolved]
Added all the new HTML5 form types as individual form tag methods (search, url, number, etc) (Closes #3646) [Stephen Celis]
Include author in changelog
Update the documentation for Engine and Railtie.
Update the documentation for Engine and Railtie.
A new application now comes with a layout and a stylesheet.
changed from :object_name to :as on form_for api
Changed the way inflections for uncountables work for 'funky jeans' [#3576 state:resolved]
It seems the test directory backtrace line is output with a / before it, thereby previously making it not match the regex. Support APP_DIRS that have backtrace lines maybe beginning with /. [#4277 state:resolved]
Memoize association.named_scope calls
create option to include_root_in_json for ActiveResource [#2584 state:committed]
deprecate form_for(symbol_or_string, ...) in favor of :object_name option
AS guide: updates definition file for singleton_class and class_eval
minimal update to 3.0 release notes, will link to CHANGELOGS ultimately
moves Object#singleton_class to Kernel#singleton_class to match Ruby also there, same for #class_eval to simplify, and adds coverage for class_eval
Active Record Query Interface Guide: Added LIMIT so the query translates correctly.
Routes Guide: Added Section on customizing path names for resources.
Changelogs: change link from credits page to home page for Jaime's contributions
Remove app/views from the load paths [#4226 state:resolved]
Rename config.cookie_secret to config.secret_token and pass it as configuration in request.env. This is another step forward removing global configuration.
revises some <%= in rdoc
<% yield to <%= yield in rdoc of _layout_for, and copy-edits it now that we are on it
Covered further what happens in config/application.rb. Mostly bundler stuff.
Further expansion on the Railties and moved Common Includes section to the bottom.
Further (re)work done. Mostly centering around ActionMailer Railtie and Lazy Loading Hooks.
Move filter_parameter_logger to deprecated.rb
Make it easier to subclass AC::Metal with most, but not all, of the modules in AC::Base
Bump the version
Whitespace
Whitespace
render_to_string should have the identical signature as render
We don't need explicit :url => { :action => "create" } in form_for when following Rails conventions.
Jaime is not an author by now
Revert "Added 'Rails Guides Reviewers' section to credits"
Reapply redirect {|params, request| } with passing tests this time
Use call stack printer if available
Revert "Pass in the request as an optional second parameter to redirect"
Parameterize should accept malformed utf8 characters [#4323 state:resolved]
Update various documentation examples to use new routing DSL
fixes duplicate element IDs in some guides
Add tests to prevent regression of lazy evaluation of has_many ..., :dependent => :___
No .DS_Store on .gitignore. Text editor files should be ignored in your ~/.gitignore.
Replace <pre> by <shell>, <ruby> and <yaml> on plugins guide; making it validate XHTML 1.0 Strict
Move credits pic to new assets/image folder
Added 'Rails Guides Reviewers' section to credits
Updated changelog on getting_started and layouts_and_rendering
Added .DS_Store to .gitignore
guides assets are now centralized in the assets directory, with standard subdirs
Use a constant proc to generate ActionView::Template finalizers. For some strange reason, finalizers created via ActionView::Template.finalizer_for cause Template instances to leak on MRI.
sanity check arguments in guides generation collapsed into a single WARNINGS flag, EDGE_GUIDES renamed to EDGE to be coherent with the rest, preamble revised
Pass in the request as an optional second parameter to redirect
* Change the object used in routing constraints to be an instance of   ActionDispatch::Request rather than Rack::Request.
:action => "create" added to form_for with name only to show appropiate behavior
:action => "update" used in a non RESTful way confuses
adds a preamble to the guides generator, documents what it does and the environment variables it supports
Return nil when looking up an attribute by name that does not exist instead of returning a fictitious attribute.
Bring back +extra_conditions+. This effectively reverts 386b7bfd9d78a6d8c8bc7cc4a310df806ad0ba57
Raise a StatementInvalid error when trying to build a condition with hash keys that do not correspond to columns.
Sanitize association conditions using the correct class
Refactored url_for in AV to have its own instances of the helpers instead of proxying back to the controller. This potentially allows for more standalone usage of AV. It also kicked up a lot of dust in the tests, which were mocking out controllers to get this behavior. By moving it to the view, it made a lot of the tests more standalone (a win)
Make the query built by has_many ...., :dependent => :____ lazy since all the information is not really available yet.
Remove an unused argument
Remove commented out code
Create an Arel::Header class representing a relation's attributes
Improve scope docs
Improve named scope lambda
Remove unnecessary argument for creating scopes
Key partial name cache on controller and object class *names* to avoid memory leaks in dev mode
guides: warn about edge guides at the top of the home preamble, and mention that only for edge guides, stable guides need no warning
guides: badge insertion was a quick hack, rewrites that
CI: omit ruby-debug19 from Gemfile since the ruby source dep hoses permissions
delegate unknown timezones to TZInfo
utc_offset is no longer required on TimeZone and if it's not supplied we delegate to TZInfo
Add a test which ensures action_dispatch.show_exceptions is properly disabled.
Raise exceptions instead of rendering error templates in test environment [#4315 state:resolved]
Make Relation#inspect less noisy
Goodbye ActiveRecord::NamedScope::Scope
Make Relation#first and Relation#last behave like named scope's
Scope#method_missing can safely rely on Relation#method_missing
Scope#current_scoped_methods_when_defined is no longer needed
Maintain the usage of :as consistent in the router. Whenever it's supplied, it changes the NAMED ROUTE. If you want to change the PATH, use :path instead. Example: resources :projects, :path => 'projetos'
Oops :extends is not a MULTI_VALUE_METHOD
Add Relation extensions
Consistency when using Relation constants
errors.rb needs to be declared as UTF-8 [#3941 state:resolved]
Routing guide updated for new Routes DSL. It still misses the new features.
Restore changed_attributes method in ActiveModel::Dirty and loosen expectation on including class' initialize method.
Slightly less annoying check for acceptable mime_types. This allows Accept: application/json, application/jsonp (and the like), but still blacklists browsers. Essentially, we use normal content negotiation unless you include */* in your list, in which case we assume you're a browser and send HTML [#3541 state:resolved]
Release is today, yo
Updated changelogs to differentiate beta1 and beta2
Updated changelogs
Bump this guy too
Neat and tidy, I say
Make your bed and clean up your gemspecs!
Not needed with RubyGems 1.3.6
Prep for beta2, depend on latest Bundler
Putting back italics into association headers on association_basics.textile
Read postgresql encoding using string key instead of symbol [#4304 state:resolved]
guides index: splits prologue in two paragraphs
insert the badge in a valid way
fine, rolling back the test
tests guides regeneration cron in edge server
HTML safety: give a deprecation warning if an array of option tags is passed to select tag. Be sure to join the tag yourself and mark them .html_safe
Missed __FILE__
Add tests for postgresql column type mapping updates [#4270 state:resolved]
guides: rewrites index and credit pages as pure HTML to avoid textilizing the rendered view, in particular we can now put a DOCTYPE in the layout
To skip bundler, `rm Gemfile`. Create a Gemfile to use it again.
Add --skip-bundler option to rails application generator
Create tmp directories if required before starting server [#3907 state:resolved]
yield always return an array, so we don't need to use .key?
ActionController::Resources has gone away
Remove routing implementation details from RDoc
Update routing documentation to the new way of specifying HTTP method restrictions
Dont try to load the record from the db if preloading didn't find anything
Mark ActionDispatch::Routing::DeprecatedMapper as nodoc to hide old documentation until it's removed
adds missing require for blank? and present?
Deprecate cookie_verifier_secret in favor of config.cookie_secret allowing signed cookies to work again.
More header shuffling, scope all the "Require Rails" sections INSIDE the "Require Rails" section.
Went through from the top down to line 650 fixing up discrepancies between new rails and old guide.
avoid method redefined; discarding old empty? warning [#4302 state:committed]
Don't cache the utc_offset we are already caching the timezone [#4301 state:committed]
adds and entry for assert_blank and assert_present to CHANGELOG
New assertion: assert_present [#4299 state:committed]
new assertion: assert_blank
Add a test which ensures slugs in :id work.
<%=izes and adds doctype to guides
Missed a few spots in railties
Consistent routing language
Named scopes shouldn't test equality using to_a if it's not an Array, this was causing records to be loaded before they were needed.
Bring rdoc tasks back to plugins.
Remove deprecated model_subclass since it was never published.
periods are not metacharacters within character classes
Remove if/else branch when generating the documentation since we are simply inspecting the load path.
Changed gem_path to yield the path found in $LOAD_PATH to a block.
Replace the placeholder base_hook API with on_load. To specify some code that should run during framework load do:
Just inspect load paths to generate the documentation.
Revert "Ruby 1.9: use ruby-debug19. [#3949 state:resolved]"
Ruby 1.9: use ruby-debug19. [#3949 state:resolved]
Work without bundler
Revert "Hash#symbolize_keys(!) optimizations"
Revert "Ruby 1.9: use ruby-debug19. [#3949 state:resolved]"
Ruby 1.9: use ruby-debug19. [#3949 state:resolved]
Revert "Update USAGE docs for generators."
Revert "Reorganized app/test directory. [#3057 state:resolved]"
ruby-debug19 doesn't install cleanly on 1.9.2 trunk
Add missed changelog for table_name_prefix
Handle ranges with excluded end.
Arel now handles ranges with excluded end.
Bump mail to 2.1.5.3
Warn scoped order and limit are ignored. [#4123 state:resolved]
Rename modularized_table_name_prefix to full_table_name_prefix [#4032 state:resolved]
Add the ability to specify table_name_prefix on individual modules
Provide a better error if the parsed REXML document has no root [#3803 state:resolved]
Ruby 1.9.2: marshaling round-trips Time#zone
Ignore generated railties RDocs [#4289 state:resolved]
Make Railties RDoc task work again [#4291 state:resolved]
Update USAGE docs for generators.
Reorganized app/test directory. [#3057 state:resolved]
use the database to lower case strings rather than ruby. [#4293 state:resolved]
ruby-debug19 added to Gemfile [#4290 state:committed]
Update example of default_scope to use the new arel finder syntax
preinitializer.rb is no longer needed, so remove it from the guide and replace with better suggestion. [#4279 state:resolved]
Updated asset_template_path to asset_path and have it also support a String [#4247 state:resolved]
Allow customisation of asset path generation using a proc.
Add more tests and docs to uncountable routes. [#3930 state:resolved]
Add _index to named collection routes for uncountable resources (e.g. Sheep)
./tools/console to drop into irb with rails loaded
PostgreSQL adapter: escape_bytea, quote_string and unescape_bytea aren't thread-safe in Ruby 1.8 [#3237 state:resolved]
Reapply Rizwan's patch, but memoize Bundler.load.specs in an ivar. [#3697 state:resolved]
html_tag option to wrap error_message_on text [#4283 state:resolved]
Add ActionDispatch to RDoc task [#4287 state:resolved]
Why are we not updating bundler?
Drop expires argument from call to @data in MemCacheStore so it works with memcache-client and memcached gems, as advertised [#3672 state:resolved]
defining a named_scope which overwrites an existing method is now allowed we just log a warning.
Request#content_type exists in Rack::Request, and other parts of Rack::Request expect it to return a String. Split the Rails API so that Request#content_type returns a String, and Request#content_mime_type returns a Mime::Type object.
Add constraints to resources in new routing DSL
Bump mail dep to 2.1.5.1
Cosmetics: mismatch indentation
Add :dependent = to has_one and has_many [#3075 state:resolved]
adds missing requires for Object#blank? and Object#present?
adds missing requires for Object#duplicable?
adds a few requires in active_model/dirty.rb
Rails 3 application can run performance tests now. [#4171 state:resolved]
Changes migration number to version due to ambiguity. [#3065 state:committed]
Oops, a docfix.
When creating database with rake, create schemas in schema_search_path if it doesn't exist.
Updating mail version requirement to 2.1.5
Mail now correctly bundles up the charset into the content type field
Updating test, should be calling :decoded, not :encoded, is a problem now that Mail is fixed
Time zone tests were right all along.
AS guide: warns about the singleton classes of nil, true, and false according to what http://redmine.ruby-lang.org/repositories/diff/ruby-19/object.c?rev=27022 blesses
Adding the initialization guide to docrails.
Ensure details are frozen after @details_keys lookup. The implementation waits to freeze until the last required moment, to avoid duping hashes.
Missing require
Actually check the value of the ivar
Bust gem prelude to ensure bundler's in the load path. Not sure what's broken here.
Use Array.wrap uniformly
Ruby's marshaling of Time instances doesn't respect the zone [#4282 state:resolved]
LINE on class_eval need + 1, also removed comments [#4281 state:committed]
flatten not needed here
Revert "primary_key now supports :limit for MySQL". Break Sam Ruby app. To reproduce, start a new application, create a scaffold and run test suite. [#876 state:open]
Do not need to load ActionPack::VERSION
Remove stray instance variable to resolve serialization problem [#3769 state:resolved] (ht: Joe Rafaniello)
Don't write to /dev/null on mingw. [#3921Â state:resolved] (ht: Patrick Daryll Glandien)
Use the new RAILS_VERSION in rake install (ht: ZhangJinzhu) [#4116 state:resolved]
primary_key now supports :limit for MySQL
Revert "primary_key now supports :limit. [#876 state:resolved]" since it broke AR test suite.
Limit Array#extract_options! to directl instances of Hash and HWIA. Add extractable_options? to Hash so that subclasses of Hash can opt-into extractable behavior. This fixes an issue where respond_with wasn't working with subclasses of Hash that were provided by other libraries (such as CouchDB or Mashie) [#4145 state:resolved]
ActiveModel::Dirty#changes should return a HashWithIndifferentAccess [#4157 state:resolved]
Do not check for a valid const name in Rails 3.0 applications. [#4200 state:resolved]
fixing inconsistency with cattr_reader and matter_reader [#4172 state:resolved]
Recovers error_messages for ActiveRecordInstanceTag. [#4078 state:resolved]
avoiding a few closure references by evaling. [#4223 state:resolved]
Makes ActiveResource work with form_for: - Adds a `build' method that can be used instead of `new' to load a new, unsaved resource from the remote site, filled with the correct default values. - Adds a `persisted?' method that simply returns the opposite value than the `new?' method. [#4222 state:resolved] [#4155 state:resolved]
primary_key now supports :limit. [#876 state:resolved]
Revert "Changed behavior of touch and added touch! Originally implemented by Obie Fernandez, updated touch! to act as a thin wrapper to touch. [#2520 state:resolved]"
Use ActiveSupport::Autoload for view helpers. [#4237 state:resolved]
Changed behavior of touch and added touch! Originally implemented by Obie Fernandez, updated touch! to act as a thin wrapper to touch. [#2520 state:resolved]
Tests method_missing to raise NameError. [#2522 state:resolved]
Add parameter defaults support to new routing DSL [#4265 state:resolved]
In PostgreSQLAdapter, switch tables query to use current_schemas function [#918 state:resolved]
Make X-Sendfile default to "" so it works correctly in dev mode.
Just assert for 'Hi' in generated mailer tests.
Move application configuration to the application configuration object, remove railtie_name and engine_name and allow to set the configuration object.
Revert "find railties and engines by name [4264 state:resolved]"
Make script/dbconsole work with oracle (sqlplus <username>[/<password>][@<connect_identifier>]) [#3773 state:resolved]
Rails router automatically calculated for you the controller and named routes in the following scenarios:
Improve heuristic for railties default name, otherwise railties may be named :railtie, :engine and so on.
find railties and engines by name [4264 state:resolved]
Better MySQL Error message. [#3775 state:resolved]
Ensure to reference the proper TZInfo namespace [#4268 state:resolved].
Add support for a type=binary with an optional encoding=base64. If the encoding attribute is absent, the data is considered unencoded. [#2966 state:resolved]
Add debugging documentation for _callback_chain to ActiveRecord::Callback
fix habtm documentation to correct typo
Remove reference to unexistent methods and fix typo.
Actually, bring Arel back to Gemfile and use git repo since it helps development.
Remove Arel's git repo from Gemfile and use system_timer just on 1.8.x
Bump the version to 0.3.3
Use ActiveSupport beta since beta1 is not released yet. Added singleton_class until beta1 is out.
Bump to arel 0.3.3 to resolve Active Support dep
Remove unused attributes_with_quotes method.
Move methods from association to relation finder methods.
Updated ActionController::Base.asset_host example
Bump the version to 0.3.2
Use adapter add_limit_offset! method when building query.
Refactor relation merging to create just one relation and then assign values, instead of creating multiple relation objects.
Require Arel 0.3.2
Add add_limit_offset! to adapters.
Routes guide being rewritten, done till :singular.
expand migration paths before requiring them. [#4240 state:resolved]
do not use unloadable constants in tests [#4260 state:resolved]
init.rb in plugins is here to stay
Use latest I18n (0.3.6).
Ensure lib/rails/initializers/*.rb also works for gems.
Add a Gemfile
Bump up the AS dependency to 3.0.0.beta1
Protect routes again so they don't end up as actions. We need a better solution than this.
Restrictions should be able to contain multiple predicates.
Load plugin initializers from lib/rails/initializers/*.rb
Cleanup the spec helper and spec rake task a bit
Rake is a better build tool than Thor. Move the gem building and releasing tasks to the Rakefile.
Explicitly require files before monkey patching them.
updated Rakefile with new app generator path [#4258 state:resolved]
rake tasks should use the new app generator path [#4257 state:resolved]
bin/rails should use the new app generator path.
Load generators from both lib/rails/generators and lib/generators. Using the former since it's less obstrusive.
Put MRI-specific dependencies in an MRI group
open_session can just return the a dup of the current context.
Rename unsignificant to insignificant.
Switch Arel::Relation to a module. This will allow for classes with Relation extended on them to represent relations themselves (as opposed to their instances being relations).
AS guide: documents Module#remove_possible_method
Current url helpers become actions in controller. Added a failing test case for it.
No -rubygems needed
Provide a better error if thor is missing
NumberHelper methods should now return html_safe strings (when the inputs are valid numbers or are html_safe). Also adds :raise => true (used internaly) to make the number helpers throw InvalidNumberError when the given number is invalid.
Adds number_to_human and several improvements in NumberHelper. [#4239 state:resolved]
Controller generators should use routes shortcut.
Make router shortcuts more polite to URLs starting with a leading slash.
Killing fixtures in mailer before they kill me (they usually lead to very brittle tests).
From and lock should be defined to be consistent with other ivars. Limit and offset are always defined, no need to test that.
Reset class attribute after changing it
Remove test ordering bug
Clear the query cache between tests that test the query cache
Remove obsolete use case that was broken in AR::Observers
Don't depend on order of elements in Set
Remove test ordering bug by using another class
db group makes more sense here
avoid active_support/core_ext/time/conversions.rb warnings
Also revert mailer generator test changes in 8b50f89
Remove data-url support from url_helper [#4236 state:resolved]
do not support 'data-url' anymore, just use 'href' [#4236 state:resolved]
Make ERB generators more flexible and customizable.
Remove invalid builtin tests since we aren't adding that dir to the load path anymore
Autoload Rails::Info
Require info controller from info routes
Move railties/builtin into lib
response_body is an Array in 1.9, so an Array was being pushed onto the cache
Controller generators should generate tests when action is supplied. [#3421 state:resolved]
Clean up Mime::Type and remove deprecated stuff (from 2.3).
normalizes titles of release notes guides, and adds them to the home page
s/guides.rails.info/edgeguides.rubyonrails.org/ in a few places, and makes some links relative to work in either site
Eliminate an error from an implicit dependency on AV::Base
Controller generator now creates routes as well [#4233 state:resolved]
switching migrations to use require cleans up many warnings [#4234 state:resolved]
Improve performance of the rendering stack by freezing formats as a sign that they shouldn't be further modified.
cleans a bit #compute_public_path
Singleton classes returns parent's methods with instance_methods(false) and this makes remove_method in Module#delegate fail. Add a test case and fix the bug.
removed useless require line
Well that was a bust
We seem to have removed the URL helpers from ActionView subclasses...
Each controller class has it's own view context subclass. This removes the need for ActionView::Base.for_controller
remove duplicated self.view_paths assingment on controller tests [#4206 state:commited]
Make dependencies_test pass running standalone [#4215 state:resolved]
Added missing requires abstract_unit and activesupport to the loadpath of ts_isolated [#4215 state:committed]
Return a valid Rack response from bare ActionController::Metal
Make render :partial, :layout consistent between AC and AV
All tests pass without memoizing view_context
Remove caching's dependency on view_context. Also, make it so that the layout is always rendered the same way (so that layout dependencies on the action actually being rendered aren't masked on the first render)
Make action_has_layout? non-private
@layout is a confusing name... use @cache_layout
kill where / having method redefine warnings. [#4225 state:resolved]
While isolated tests are useful, they take far too long to run for us to be getting useful information from CI. Perhaps another box that runs the isolated tests every 3 hours (instead of per commit)
added require abstract_unit on setter_trap.rb
AS datetime conversions now require AS time conversions
squelching more warnings in the AR tests. [#4218 state:resolved]
Sending the partial as info is no longer required.
Use Array.wrap not Array()
Kill nonexistent method removal
Deleting and setting a cookie in the same request was broken
Get modules back into integration tests
Modify assert_template to use notifications. Also, remove ActionController::Base#template since it is no longer needed.
Mark bang instrumentations as something that you shuold not be listening to.
Require AS singleton_class code in AS output_safety
Ensure json is loaded before using responders.
guides generator skips untouched guides by default, override with ALL=1
Remove unneeded AV::Base and AV::Template monkey-patches
Modify assert_template to use instrumentation
Install url helpers on module instance so they can be accessed globally
cleaning up a bunch of method already defined warnings [#4209 state:resolved]
fixing activemodel tests. [#4210 state:resolved]
Move require closer to home
fixing activerecord tests [#4205 state:resolved]
Any reason we can't just use the slow 1.8 path for transliteration in 1.9?
Remove some 1.9 warnings (resulting in some fixed bugs). Remaining AM warnings are in dependencies.
Eliminate warnings for AM on 1.8
Another missing require
link_to_function is here to stay
Make sure options[:anchor] is correct in shorthand cases
scope_key_by_partial fix for Ruby 1.9 when there's virtual_path [#4202 state:resolved]
Use human_name in scaffold.
Do not always include the named URL helpers into AC::Base and AV::Base.
Make RouteSet#finalize! a NOOP if it's been called already. Call finalize! the first time call() and url_for() are called if the RouteSet has not been finalized yet.
AS guide: completes section about loading AS core extensions within a Rails application
fisting uninitialized ivar warnings. [#4198 state:resolved]
AS guide: adds extension to file name
translation method of TranslationHelper module returns always SafeBuffer [#4194 status:resolved]
adds tests for #flush_output_buffer
adds tests for #capture
clean up more warnings, remove unnecessary methods, fix eval line numbers. [#4193 state:resolved]
Some more tweaks on <% %>.
Improve performance of multibyte utils.
Change functional tests to make use of a setup block.
Change array entries to safe doesn't worth then the array is joined as a string losing the safe property of his entries [#4134 status:resolved]
Deprecated framework rake tasks should exit with non-zero exit code [#4177 status:resolved]
Break a window :/
RJS may cache an array
link_to_remote -> link_to :remote => true
Swear I ran this test
Integration test url options should account for :protocol not just https?
removing dead code from activerecord tests. [#4187 state:resolved]
cleaning up a bunch of parse time warnings in AR [#4186 state:resolved]
Move more normalization up to the lookup context, so it does not have to repeat in every resolver.
Revert "Reinstate old default_url_options method signature"
adds test coverage for with_output_buffer
Reinstate old default_url_options method signature
Allow memcache-client 1.8.0
Add deprecation notices for <% %>.
guides generation: undoes output buffer workaround, more refactors
Hack to keep column metadata queries out of test query counts
with_output_buffer cannot assume there's an output_buffer
to_str works here
CI: sudo rm to sledgehammer bad perms
Hack to keep column metadata queries out of test query counts
cleaning up many more warnings in activerecord [#4180 state:resolved]
AS guide: documents a use case for :instance_writer, based on a remark of Jeremy
Don't force singularization of singleton resource names, e.g. /preferences [#4089 state:resolved]
refactors some bits of the guides generator, ONLY selection accepts prefixes, guides generation fixed for 1.9, revised string safety in a few spots
read_ and write_fragment cache preserve html safety yet cache strings only
fixing uninitialized ivar warning
speeding up clone_attributes, changing readonly to be initialized in def initialize
cleaning up some test warnings
There's a Ruby issue with File.basename different versions returns different things, so we shouldn't test that
Making escaped things more readable
Optimize DetailsKey generation.
restricts a test to < 1.9, and rewrites it using a proper expectation
Ensure controller filters are executed before stuff starts to happen.
Update of block helpers examples in form_helper.rb
Remove formats setters from render template, speeding up partial and collection renderings.
Add specs for simple in memory joins.
Move the relation "integration" specs to specs/relations
Add shared tests for skip
Add full stack tests for #take
Support in memory ordering better.
Organize the matchers a bit more
Add support for a NOT predicate
We're obviously writing specs for arel. No need for a sub directory.
This seems like it accidentally got included into the repo
Add a bunch of specs for attribute type casting.
adds coverage for the issue addressed in fe43bbd
Attributes should be typed
In app_generator, fix hardcoded `bundle` call to derive the bundle executable name from Thor::Util.ruby_command.
Add a check to ensure that the application name does not already exist, i.e. String or Module are part of ruby [#3872 status:resolved]
Made asset_tag_helper use config.perform_caching instead of ActionController::Base.perform_caching
Prettify generators description whenever using the default stack [#4143 status:resolved]
keep AssociationProxy#to_a to avoid warning in Array(post.author), and delegate it to @target in association collections
Load the environment before executing rails console. [#3905 status:resolved]
Revert "Always load the environment before executing any command. [#3905 status:resolved]"
Finish cleaning up rendering stack from views and move assigns evaluation to controller (so plugins and/or controllers can overwrite just one method).
Updated documentation for block helpers in render/layouts.rb
Updated documentation for block helpers in render/partials.rb
Updated documentation for block helpers in form_tag_helper.rb
Updated documentation for block helpers in javascript_helper.rb
Updated documentation for block helpers in prototype_helper.rb
Updated documentation for block helpers in record_tag_helper.rb
Updated documentation for block helpers in tag_helper.rb
Updated documentation for block helpers in url_helper.rb
Add accessibility to projections applied to the relation.
Allow anything that responds to render to be given as :template and use find_template instead of find in views.
Always load the environment before executing any command. [#3905 status:resolved]
%= works for content_tag and does not require parenthesis on method call
Make all AP tests pass for Ruby 1.9.1.
Be sure to pass through args to to_yaml
Write strings to fragment cache, not outputbuffers
OutputBuffer#to_yaml should return string yaml, not some custom class dump
Delegate #encoding to SafeBuffer too
simplify alt tag generation for images
Remove crazy
Move all spec support files into spec/support
Start writing integration specs for arel.
Get the specs to start when an AR connection is not present.
Revert "Rake task for generating Rails documentation updated to support Bundler."
Latest ActiveSupport replaces metaclass with singleton_class
ActionController::Base.request_forgery_protection_token should actually be the name of the token and not true.
Rake task for generating Rails documentation updated to support Bundler.
Add tests for lookup context.
release notes: minor edit pass
Updating 3.0 release notes with cookie session store and secret changes
Updating command line guide
Float arel on latest rails/arel
Update scaffold to use <%= form_for
Release v0.3.1
Update release dates.
Use arel 0.3.1, for srs
Release v0.3.0
For rails tests, use latest from rails/arel.git
Bump arel dep to 0.3.0+
Arel now fallback to using Arel::Attribute if the table/column doesn't exists.
removing spawn from SpawnMethods
Arel doesn't has to know if a table or column exists.
Optimize and clean up how details key get expired.
Remove uneeded methods.
Require AP::VERSION in order to install gems.
Make form helpers work with <%=
Deprecate block_called_from_erb? pending a solution for getting it into apps
Rails requires Rubygems 1.3.6
skip_relative_url_root url_for option is dead
Allow default_url_options to be set on route set
RouteSet#rewrite => url_for
Unused RouteSet#url_for is hogging a good method name
Move AC::UrlRewriter onto route set
Added alert to layouts on scaffold.
Disprefer JSONGem decoder since it only decodes JSON objects
Reinstate dom_id in controllers.
Refactor the RouteSet so it uses a Generator object instead of one huge method.
Get rid of the instance-level URL rewriter
Clean up the API required from ActionView::Template.
Reinstate default_url_options and remove url_options= writer
Remove outdated, distracting commented code
Now that class_attribute creates an instance method, remove it to avoid deprecation warnings ;)
Simplify the action endpoint:
Add memoizing to AD::Request
class_attribute gets instance methods which delegate to but may override their class values as you'd expect. Disable instance writer methods with :instance_writer => false.
Require 'active_support/core_ext/hash/except' in the router.
Clean LookupContext API.
Move request forgery protection configuration to the AC config object
Whoops. We meant to switch from returning to tap, not vice versa
Add support for mount RackApp, :at => "/sprockets" with a shorthand of mount Sprockets => "/sprockets".
Bring AM up to date with new rendering stack.
Move middlewares to the Application level. If you want to modify the middleware, either use Rails.application.config.middleware or modify it in an initializer (if you need to set it relative to user-specified middleware).
Move details to lookup_context and make resolvers use the cache key.
Move ViewPaths module to its own file.
Speed up performance in resolvers by adding fallbacks just when required.
Rename Template::Lookup to LookupContext.
More refactoring on the views side of rendering.
Finally moved the find template logic to the views.
Aliasing class_eval makes JRuby ornery.
Typo in config.action_dispatch
More refactoring. Split _normalize_args and _normalize_options concerns.
More cleanup on the layouts side.
Move layout lookup to views.
Make sure nested singular resources get the correct name
Update generated Gemfile to use http://rubygems.org, unicorn instead of mongrel, and nokogiri instead of hpricot
If RAILS_PATH isn't set, make a dummy doc task
rake doc:rails complains loudly if there's no path to generate docs from
Added template lookup responsible to hold all information used in template lookup.
Bump rack-mount requirement to 0.6
Make many parts of Rails lazy. In order to facilitate this, add lazy_load_hooks.rb, which allows us to declare code that should be run at some later time. For instance, this allows us to defer requiring ActiveRecord::Base at boot time purely to apply configuration. Instead, we register a hook that should apply configuration once ActiveRecord::Base is loaded.
First take on ViewPaths clean up.
drying up more code in associations.rb
deleting repeated code
Load RAILS_VERSION relative to the gemspec file.
converting inject to each and map
refactoring build_where
Add mailers to paths in case someone wants to access it directly and ensures deep nesting works in controllers.
Removed the + sign as an accepted character from the parameterize method, as a + sign is interpreted by the browser as a space, possibly resulting in a "ArgumentError: illegal character in key"
Adds disable option to date_helpers generated hidden fields when html_options specifies it. ht by Marc SchÃ¼tz
Corrects setting of :method on custom form_for
Allow deprecation messages with or without a final period.
Tweak default_url_options deprecation warning
Solved a problem that prevented render :file => work in layouts
Remove some of the blank rescues from number helper. This makes the code easier to understand, as you're not left wondering what the rescue is actually doing. This does not change documented/tested behaviour.
Actually, revert previous commit. Having a lot of information is better than having no information at all.
Define to_s method in ActionView::Resolver, so I'm not required to write it in inherited classes.
Remove the ability to set the mountpoint when initializing a route set.
Tweak out url_for uses :script_name and add some tests
Have ActionDispatch::Routing::RouteSet.new ready to receive routes as is.
Read Rails version from a file instead of modifying the load path and doing requires
Get rid of relative_url_path in favor of respecting SCRIPT_NAME. Also added a way to specify a default SCRIPT_NAME when generating URLs out of the context of a request.
Use AS::Concern for caching modules
Refactor cache_store to use ActionController config
remove_method is private
Change generated code to replace faulty comment
Deprecated ActionController::Base.session_options= and ActionController::Base.session_store= in favor of a config.session_store method (which takes params) and a config.cookie_secret variable, which is used in various secret scenarios. The old AC::Base options will continue to work with deprecation warnings.
Move stuff from compatibility.rb to deprecated.rb
Clarify cookie jar test
Safely cleans up a test to avoid relying on a particular test order
Move session and session_store onto ActionDispatch and add deprecation warnings
Update CI to the latest bundler
No need for a module if it's only being included once into an empty class.
Somehow this fixes the AR tests when ran with rake. I should probably figure out why.
Update the ActionMailer tests to run off of the latest ActionController config refactor
Add a method for configuring abstract controllers
Modifying configurations on the instance of a controller should not affect the class
Tweak how ActionPack handles InheritableOptions
Move the original config method onto AbstractController
Start refactoring the method of configuring ActionView
Add caller to deprecation notices
Deprecate IP spoofing settings that are directly on the controller in favor of configuring a middleware
Add caller to request_uri deprecation notice
Move remote_ip to a middleware:
Add a BlockUntrustedIps middleware
Indicate that ActionController::Base.resource_action_separator is deprecated and only has an effect with the deprecated router DSL.
ActionController::Base.use_accept_header is not actually used anymore, so let's deprecate it.
ActionDispatch::Request deprecates #request_uri
Rack::Request actually defines #query_string
Tweak the semantic of various URL related methods of ActionDispatch::Request
Update contribute guide so that it shows the new command to generate guides (rake generate_guides instead of rake guides)
Updated 3_0_release_notes so that it specifies that the rack-mount gem needs to be version 0.4
the guides generator needs fileutils
don't depend on the order of cookies (Hash ordering bug)
Work on deprecating ActionController::Base.relative_url_root
Move InheritableOptions into ActiveSupport
Move session_store and session_options to the AC configuration object
Don't rely on Rails.application global state in Config
Remove a failed attempt at refactoring AC configuration
Revert "In app_generator, fix hardcoded `bundle` call to derive the bundle executable name from Thor::Util.ruby_command."
AS guide: How to Load Core Extensions
In app_generator, fix hardcoded `bundle` call to derive the bundle executable name from Thor::Util.ruby_command.
Better with #abort
Inflection dependency, [#4067 status:resolved]
Actually move ImplicitRender into it's own file
whiny nil shouldn't depend on Active Record [#4092 status:resolved]
Add missing super call in AC::Metal. [#4085 status:resolved]
Use non-deprecated Rails.application instead of ActionController::Dispatcher.new and ActionDispatch::Integration instead of ActionController::Integration for console.
Removing prototype and just using vanilla js
Removing prototype and just using vanilla js
AS guide: documents String#foreign_key
AS guide: documents String#humanize
No longer add missing leading / on path args to assert_redirected_to. Deprecated in 2.3.6.
AS guide: documents String#constantize
Get the railties tests to pass again.
Action Mailer setup obviated by test bundle
AS guide: documents String#classify
Have log subscribers subscribe to the actual events, so the subscriber doesn't subscribe to *every* event, so we can have events that are slow-ish but are not actually run in production.
Log Tailer doesn't exist anymore. Removing some traces left over in tests.
Moved initializers for ActionMailer and ActionController into their own railties
:controller doesn't work for namespaced controllers anymore.
Stray line. Typo.
Wordsmith gem descriptions
Revert orphaned SharedTestRoutes
Leverage VERSION constants from gemspecs to avoid tedious updates when releasing
Update versions of all components to normalize them to new format
Add `rake update_versions` task at root for quickly updating all components
Remove cruft in the gem packaging and release code
Optimize AS::Notifications to remember which subscribers don't match and not run them. This will allow notifications that are only useful in dev or testing to run efficiently in production.
You can unsubscribe a subscriber
AS::Subscriber is not a LogSubscriber
Bump pg dep to 0.9.0+
AS guide: documents String#tableize
AS guide: documents String#parameterize
AS guide: documents String#demodulize
Change AV formats so they can delegate to the controller. Now users (or plugins) can override details_for_render in their controllers and add appropriate additional details. Now if only they could *do* something with those details...
Delegate formats to the controller
AS guide: documents String#dasherize
AS guide: documents String#titleize
AV guide: titleize is defined by Active Support
Hash#symbolize_keys(!) optimizations
Refactor thethe wayy to obtain primary key value.
Remove " AS " keyword from table aliasing.
Prevent from getting errors when trying to get primary key value.
pass primary_key value to AR adapter insert method (necessary for Oracle adapter)
cache primary key per engine connection, updated gemspec file
use primary_key method in OracleCompiler#select_sql
changes for Oracle support - OracleCompiler and corresponding tests with Oracle syntax
AS guide: documents String#underscore
AS guide: documents String#singularize
AS guide: adds a real example for #pluralize
nested controllers need to be explicitly declared with the new mapper
Define Bundler constant stub if bundler gem is not installed
vendor/rails doesn't work anymore, remove it from the blank slate suggestion
correct activeresource load path
activerecord test load paths
ensure activemodel lib is setup correctly
don't expand test path
add activesupport and activemodel load paths to actionpack tests
fix up actionmailer load path
fix up activesupport test load paths
Request#subdomain returns a string version of Request#subdomains
Remove implicit controller namespacing from new dsl
AS guide: shortens a sentence
AS guide: documents String#pluralize
#exit accepts an integer, not a string
ActiveRecord should raise an error on invalid migration types.
Add missing information about attributes method.
ActiveModel::Lint should not require our models to respond to id.
Explain why we're calling an empty callback
1.9 doesn't like lambda {} being called with arguments
Revert "Revert "Application detection should also allow dots in the path.""
Revert "Application detection should also allow dots in the path."
Print database.rake errors to stderr.
plugins guide: rails/init.rb is deprecated
Escape the file name (who knows when a "(" might appear in a filename!)
Remove the noisy lines involving AS::Dependencies from the NameError stack trace if a constant cannot be found.
The instance_reader of default_url_options needs to not exist.
Remind us that RoutingAssertions should work in an integration context
Set the body using the accessor for AD::Response introspection mode so it gets wrapped in a []
Make ActionController::Routing::Routes a DeprecatedProxy
If IntegrationSession is initialized with an objects that responds to #routes, automatically extend the URL helpers from the RouteSet onto it
plugin rails/init.rb deprecation message
Upon further reflection, we realized that SharedTestRoutes is not really a hack, but is instead a standin (in the Rails tests) for Rails.application.routes.
Relatively speaking, it's not actually that bad...
Setting UrlFor in with_routing is no longer needed now that it's not global
Including UrlFor in Redirecting and Head will warn usefully if a controller is wired up without a router included (and still support redirect_to "omg")
Remove traces of SharedTestRoutes from user code; leave it as a standin for Rails.application.routes in Rails internal tests
Stop setting UrlFor using SharedTestHelpers
Silence test deprecation warnings
Change the API for setting global options for #url_for to self.url_options = { ... }
Remove the :use_defaults check in UrlFor#merge options
Rename named_url_helpers to url_helpers and url_helpers to url_for
no more warning ambiguous first argument; put parentheses or even spaces on log_subscriber_test
no more warning interpreted as argument prefix on association_preload.rb
no more interpreted as grouped expression warnings on array_ext_test
Nitpick: the first value should be odd, second is even.
Arel should not be consired alpha anymore.
CI: restore sudo for bundler gem install
Remove bin dir from .gitignore
reload! on console now works as expected. [#3822 status:resolved]
fixed a 'RecordNotFound' bug when calling 'reload' on a object which doesn't met the default_scope conditions, added test [#3166 status:resolved]
the folder public/javascripts should be created by default [#4027 status:resolved]
Update thor dependency.
Add autoload to generators modules and fix failing test.
Add missing require on abstract_controller/collector [#4061 status:resolved]
Rename metaclass to singleton_class
Get URL helpers working again in integration tests.
Final pass at removing the router from a global constant
Continued effort to deglobalize the router
Get Railties tests passing
Get ActionMailer's tests passing with the non global router
WIP: Remove the global router
Application detection should also allow dots in the path.
Bump to Bundler 0.9.8. Remark on RubyGems 1.3.6 fix.
Remove doubled period
Update plugin tasks dirs deprecation warning
AS guide: s/metaclass/singleton_class/ due to 0b87d11
Bump i18n for new public I18n.normalize_keys
Accept array of attributes as arg also, like 2.3
metaclass deprecated in 2.3.6
Missed singleton_class
load_path is expecting a String in the application.rb generator
Use Object#singleton_class instead of #metaclass. Prefer Ruby's choice.
Commented metaprogramming turned out to be noisier not clearer
let the rails command recurse upwards looking for script/rails, and exec ruby on it for better portability [Xavier Noria] (Closes #4008)
add time_separator for minutes only if minutes aren't hidden
raise an error if limit for deletion is specified while using IBM_DB
Moved adding of limit on deletion and adding of limit on update conditions to GenericCompiler, to provide flexibility to handle db specifics
add time_separator for minutes only if minutes aren't hidden
Renamed LocalizedCache to DetailsCache.
Use render instead render_to_body.
Cleanup render callstack and make render(:json => {}, :status => 401) work again.
Remove ActionController::Base.resources_path_names
Remove references to ActionDispatch::Routing::Routes in favor of Rails.appication.routes.
Remove the renderer option from the hash.
Woops, forgot to actually add active_support/core_ext/file/path.rb
Makes send_file work again by deferring to Rack::Sendfile.
caching guide: fixes a typo, thanks to Jonathan Bryan
Make AD::Response correctly handle bodies that respond_to?(:to_path) as per the Rack spec
plugins guide: rewords a paragraph and revises some typography
avoid @lock_value not initialized warning
avoid @transaction_joinable not initialized warning
avoid active not initialized warning
Rename erubis_implementation to erb_implementation.
Include missing modules.
Adding options to register observers and interceptors through ActionMailer::Base.register_observer and ActionMailer::Base.register_interceptor.  These hook into Mail.register_interceptor and Mail.register_observer.  Also bumped Mail requirement to 2.1.3
don't set @expected.date in generated mailer test
Use ActionDispatch::Routing everywhere
Typo
Add a tests which ensures filtered_parameters does not raise an error for a mixed array [#3928 status:resolved]
Store compiled parameter filters so we don't have to compile them in each request.
Make install appear on rake -T.
Also check if application is a valid constant in rake rails:update.
Add a test for default_url_options in AM.
Add validators reflection so you can do 'Person.validators' and 'Person.validators_on(:name)'.
Require persisted? in ActiveModel::Lint and remove new_record? and destroyed? methods. ActionPack does not care if the resource is new or if it was destroyed, it cares only if it's persisted somewhere or not.
Add to_key and to_param methods to ActiveModel::Conversion.
AMo #key is now #to_key and CI is probably happy
Rename engines_load_path to railties_load_path.
Adds #key and #to_param to the AMo interface
Revert "i18n translate with arrays issue solved"
i18n translate with arrays issue solved
require publicize_conversion_method to ensure to_date and to_datetime became public before redefining them (avoid warnings)
Remove empty line and trailing hash, breaks documentation generation
warning: instance variable @_const_missing not initialized fixed
Revert "AM guide: standarizes call to rails runner"
getting started guide: script/generate -> rails generate
AM guide: standarizes call to rails runner
Reinstate pending tests that were supposed to be fixed before the beta.
Refactored primary_key to look up for the real primary_key and cache it.
Allow to choose the template path and template name used in implicit rendering with ActionMailer.
Revert behavior from a5684dfa3c16472bfa5d5d861ba78cb6dbadcb59 and ensure after_initializer is executed after to_prepare callbacks.
ruby 1.9 array.to_s returns a string representing an escaped array
Git fail
i18n translate with arrays issue solved
Avoid calling triggering const_missing if const_missing is private when doing constantize
Insertions should use insert and not execute to get a valid returning value. Moved clasuses to Arel::Relation.
Don't constantize possible module names when looking for new constants unless they exist
Update Renderer
Added support for RETURNING primary key when available, only for PostgreSQL.
Moved primary_key to relation, send pk to engine, to build a better query if possible.
Use FileUtils.mv instead of rename to copy in case of cross-device links
Ensure config.after_initializer is executed before building the middleware stack.
edge badge revised by Jose Espinal
adds support for an edge badge in guides
Rename router internal option :namespace to :controller_namespace which is its real purpose.
Add readme as method in Rails::Generators::Actions (as we had in 2.3)
Have CI use the current version of bundler
Invalid namespace on app generation raises an error
Show deprecation message for rails/init.rb in plugins.
Make Railties tests green again.
Clear the attribute after done
Ensure render :text => resource first tries to invoke :to_text on it
AD::TestProcess relies on request.flash, so let's load it.
Should allow symbols in :only and :except in routes.
Do not swallow controller loading errors unless required.
Subscriber should not explode if a non namespaced instrumentation is given.
Rename Rails::Subscriber to Rails::LogSubscriber
Update AP to start locking down a public API. This work is parallel to some docs I'm working on.
Move update conditions with limit logic into compilers.
If a compiler is not found for the current adapter, use the generic one.
Removed blank lines, rename query to subquery.
Move using_distinct_on? to PostgreSQL compiler. Extract order tweaking to a new method.
and now even with proper markup
testing cron job in edge api generation
Extract SQL logic from Arel::Relation into compilers.
adds rdoc dependency to generate the API
rack-mount 0.5 support
CI has a bunch of duplicate load paths
Make sure AS test env doesn't have duplicate libs in load path
name.blank? -> anonymous?
Right.
Explicit html_escape removed when not needed
html_escape mail_to when encode javascript and not hex
content_tag should escape its input
require Strings, not Symbols
Save off Module's const_missing, not Class'
Missing require
name.blank? -> anonymous? in a few places
adds a few missing requires in AS object.rb and module.rb
Simplify dependencies.rb some. Remove alias of Kernel::Foo to Object::Foo as it was not used and breaks Ruby semantics.
simple_format returns a safe buffer escaping unsafe input [Santiago Pastorino]
Safely concat the ending tag to simple_format or it will be escaped
Move batch finders to Relation
AS guide: documents Module#anonymous?
AS guide: documents Module#reachable?
Revert to rack-mount 0.4.7
CI: blow away bundle path between runs to solve 1.8/1.9 binary incompat
Force 0.4.7 for 3.0.0.beta. Bump to ~> 0.5.0 for beta1.
Wups, rack-mount 0.5.0
Bump rack-mount dep to 0.5.3
fixes Module#anonymous? for 1.9
moves Class#reachable? to Module#reachable?, bases implementation on anonymous? and constantize, and adds test coverage
defines Module#anonymous?
Remove backtrace cleaner specific to Bundler. Bundler just uses Gem.dir and Gem.path now.
CI: use minitest on 1.9 again.
Resolve test/unit load ordering by removing backtrace filter from boot initializers
AS guide: fixes a typo
AS guide: documents Class#subclasses
Since require_dependency cannot be cleared, remove the dependencies
AS guide: documents Object#subclasses_of
No need to emulate default Ruby behavior in initialize
Don't rely on @message in Error classes being available for use
fixes doc generation
release notes: the following methods have resurrected: Class#reachable?, Object#subclasses_of, Class#subclasses, Class.subclasses_of
Add default values to output of 'rails server -h', hardcoded as Rack::Server did since options doesn't have any data at the time of parsing arguments [#3910 status:resolved]
Add missing -h/--help flag to several rails command [#3909 status:resolved]
Debrittlize tests somewhat - fix for CI build
Reinstate object/extending require too for Object.subclasses_of
Reinstate Object.subclasses_of and Class#descendents for plugin compat.
Its not a deprecation if you actually just ignore the call
Suggest Mongrel and Capistrano in the default bundle
rails runner loads environment after parsing command-line options
Remove outdated docs.
Altering the warnings
Take into account gem versions (so script/rails server can work outside the application) and use Rails::Application.root instead of ROOT_PATH.
Remove commas
Use mkdir_p so that the output directory is always created.
simplify a couple of regexps
Updating Prototype to 1.6.1 and script.aculo.us to 1.8.3
Adding ruby version spec to all gemspec files to at least 1.8.7
getting started guide: move link to Instant Rails to the first occurrence
guides textile extensions: now recognizes also TIP.
Editing the railties/../railtie.rb and engine.rb docs
First pass at full re-write of getting started guide
removes Module#as_load_path, which is no longer used
removes Module#included_in_classes, which is no longer used
AS guide: specifies that renaming a file is atomic on POSIX systems
Check if Test::Unit is defined before adding backtrace filter.
fix ambiguous example for new invocation method
Add backtrace cleaner on test unit railtie.
AS guide: documents Module#synchronize
Added newline to appended gem config in Gemfile
Adding link to the rails module article
remove all sudo references from CI build script
CI: sudo unnecessary. Bump bundler dep to 0.9.3.
CI: set env after sudo
AS guide: documents Module#local_constants and Module#local_constant_names
removes p calls in rdoc examples
AS guide: documents methods related to a module's parent(s)
release notes: Kernel#daemonize is gone after 299ab1f
AS guides: documents Module#delegate
Silenced "SHOW FIELDS" and "SET SQL_AUTO_IS_NULL=0" statements from the MySQL driver to improve log signal to noise ration in development [DHH]
reformats an example in the rdoc of delegate
remove trailing whitespace
fix usage examples and more to use new invocations
rack debugger needs active_support/core_ext/kernel/requires for require_library_or_gem
removes Kernel#daemonize, which is no longer used
AS guide: documents module attributes
AS guide: documents internal attributes
Add config.generators.templates to provide alternative paths for template lookup.
AS guide: documents Module#attr_accessor_with_default
revises an example in the rdoc of TextHelper#concat
AS guide: documents where output safety is defined
AS guide: documents Kernel#require_library_or_gem
Add a test which ensures namespaced roots.
Routes should not swallow all NameErrors [#3862 status:resolved].
Change "script/server" to "rails server" in README.
Updates subscriber test for new output
Changed "before you it arrived" to "before it arrived"
Lookup the status code and rework the Completed line a bit
Link to primary Arel repository
Cleanup comments
Not a fan of the double ##
Simplify conditions for --dev and --edge
Path approach shouldnt specify version
New style for path references
CI: show bundled gems
CI: add missing isolated tests
method_missing errors on activeresource tests, mocha is not required there
test_validates_acceptance_of_as_database_column fixed
Left off the map variable, spotted by Johan Andersson
More html_safe strings now use the safe_concat method
Making SafeBuffer << an alias for concat method
Make UrlWriter includable in a Module
the infamuous typo that escapes a thousand passes and it is only spotted in github colored diff
AS guide: first version of a section on output safety, trying to give some context, but trying to go not too far away from the topic of the guide which is AS-only
Automatically prefer Yajl or JSON backend over Yaml, if available
Add yajl-ruby as a JSON parsing backend
Bump git versions to 3.0.0.beta1 since we've released
Bump arel dep
Release v0.2.1
Bump dependency version of activesupport to 3.0.0.beta
Revert "Link to main Arel repository"
Correct command for installing/running bundler
final touch
release notes: quick copy-editing pass to the section about Action Mailer
release notes: put removals to Regexp in the same list item, grouped as the rest
release notes: adds a missing period
install ActionController::UrlFor before environment is parsed, to provide ActionMailer#default_url_options=
Submarine the rake-gemcutter dep in Rakefiles
Add the dummy rails3b gemspec that pulls in non-prerelease deps
Added rack and i18n to the list of dependencies
Added note on pre-release install
Kill default require_path
No sense bundling sense it's not available in Rakefile. Also, actually require.
Need gemcutter here too
Release using gemcutter gem:push tasks
Test that csrf meta content is html-escaped, too
Add prototype ujs handler for data-method
Revert dumb test
Update prototype-ujs for data-confirm
HTML-escape csrf meta contents
Expose CSRF param name also
fix rubygems/bundler install in ci build script
Expose CSRF tag for UJS adapters
Ensure javascripts are pulled in so UJS can hook the Delete link
Link to main Arel repository
Bump to bundler 0.9.2
include should be includes
Autorequire default libs and those in groups named after the current Rails environment
Depend on bundler >= 0.9.1
server command loads the application
Revert "Rails script commands load the application rather than just boot"
Rails script commands load the application rather than just boot
Use the correct environment.rb path
Rationalize railtie dependencies: AC uses AV; AR uses AMo; and Rails always uses AS.
Move framework requires and Bundler.require from boot.rb to app.rb. Cut down the list of railtie choices to those that make sense.
Updated the database.yml file generated for ibm_db to the latest version of DB2 and the gem.
Make RAILS_* give deprecation warning just once
typography detail in release notes
Add rails --dev to release notes
Remove duplicated version check.
require 'action_controller' added on a test that uses it
Automatically require rubygems when --dev flag is given.
Updates bundler information : Yahuda's blog post is now too old...
Update Gemfile to use latest bundler config.
Remove instrument! and require thread from AS::Notifications.
Use a normal gem source url instead of a magic symbol
Bump bundler dep to 0.9.1.pre1
Autorequire bundled libraries by default
Homogenize gemspecs and remove the deprecated autorequire
remove arel directory, breaks 'git submodule init', which breaks ci builds
Move to 3.0.0.beta
Simplify description
Copy over latest release notes from docrails
Tweaks
removing , from ,= statement in WrappedDatabaseException constructor
-v and --version params now work on rails script in or our of an app
Adding guard to make sure test database declarations exist before trying to auto create
Update rails to use the latest bundler
Removing submodule hacks
New prologue with 57% less enterprisey!
Adding commit diff to the prologue after confirming all clear with GitHub.
First pass at updating to Rails 3 AR query syntax
Removing duplicate Rails.config bullet item
reworded section "script/* replaced by script/rails"
Make bin/rails call rails/commands/application, fix generators usage and update .gitignores.
Properly show middlewares on rake about.
No more vendored thor.
Add method and path to AC notifications.
Some improvements to the release notes
Small I18n updates on release notes.
Adding 'db' as a shortcut for dbconsole to the rails command
Doc Rails -> docrails
Updating warning at the top
Remove a Rails 2 convention from namespaced routes
Deprecated freeze rake tasks and cleaned up annotations.rake
Added encoding qery support for SQLite3 to make rake db:charset work on all databases shipping with Rails 3
checking guides regeneration, should be out before 9am
Made rake db:create also create the test database if you are in development mode
Updating index.html to remove script/generate and making railties tests pass again
Updating index.html to remove script/generate and making railties tests pass again
Adding note about not being final and we want contributions
Updated release notes
Rename usage path to command to just the command name
mention Object before Class
ends_with is not a plural
Wups, need the application command in there too
Added "rake about" as a replacement for script/about [DHH]
Add a reminder that you should use "rails" not "script/rails" when running normally
Boot path has already been required, dont need it again
Remove the generated gemfile in railties tests since the rails gemfile is used.
Removed all the default commands in script/* and replaced them with script/rails and a rails command that'll act the same when run from within the app [DHH]
Add docs for Railtie, Engine, Plugin and Application.
Use bundler 0.9.0.pre4 when running CI
Revert "failing tests in multibyte_chars_test.rb fixed". The bug is in Ruby 1.9.1 p376, not in AS test suite.
Routing Mapper with % interpolation on Ruby 1.9.1 fixed [#3837 status:resolved]
Configuration values should be on AV::Base.
Get rid of deprecation warnings on config/environments/*
Ensure that attr_reader methods in generators are protected.
Change Rails::Generators::Migration protected instance methods to class methods. [#3820 status:resolved]
Modify the behavior of `radio_button_tag` to use `sanitize_to_id` for consistency [#1792 status:resolved]
Add test case for unable to run migration if ActiveRecord::Base.logger is nil (#3434)
this 2nd test should be alive in rails.info sometime before 12pm
fixed migration logger bug [#3434 status:resolved]
Updating USAGE information for Mailer generator [#3801 status:resolved]
Hide '/rails/info/properties' from 'rake routes' [#3793 state:resolved]
this test should be alive in rails.info at 9:30
Updating install docs
Make rdoc match current API
Resolve view paths correctly on CygWin
update html_safe calls in guides generation
Update the Gemfile and CI build
AS guide: documents Class#class_attribute
Adding in I18n section
Adding in rake task updates and extra data on postgres and oracle fixes
Adding extra points from crowd sourcing
Run bundle exec rake instead of bin/rake during CI
[PATCH] remove geminstaller dependency from ci build
Xavier's edits
Make AM test suite green.
Add the database adapter in the generated Gemfile
Add Emilio Tagua as a maintainer
failing tests in multibyte_chars_test.rb fixed
dumps the current 3.0 release notes draft
Quoting every part of a Range. Calling .to_s is not enough for Range with two Time objects.
Adding Release Notes 3.0
Deprecate AC configuration values which were moved to Rack.
Convert to class_attribute
Introduce class_attribute to declare inheritable class attributes. Writing an attribute on a subclass behaves just like overriding the superclass reader method. Unifies and replaces most usage of cattr_accessor, class_inheritable_attribute, superclass_delegating_attribute, and extlib_inheritable_attribute.
Add config.generators.fallbacks.
Updates to output and warning on being for Rails 3.0
Add support for compile-time <%= raw %>
Deleted all references to ActionView::SafeBuffer in favor of ActiveSupport::SafeBuffer
action_view/safe_buffer is no longer valid
Modify the documentation for routing to add the new DSL format of Rails 3
action_view is requiring the deleted action_view/erb/util.rb file
Update the Ci build script
Completely updated the ActionMailer guide
Update the generated Gemfile and config/boot.rb to work with bundler 0.9
For performance reasons, you can no longer call html_safe! on Strings. Instead, all Strings are always not html_safe?. Instead, you can get a SafeBuffer from a String by calling #html_safe, which will SafeBuffer.new(self).
Have rails depend on bundler
Update the CI geminstaller to pull in the correct version of bundler
Get rails tests running on bundler 0.9
Bump arel dependency to 0.2.0 from 0.2.pre
Release v0.2.0
Updating copyright dates on all licenses
Full update on ActiveModel documentation
UJS documentation.
data-remote needs to be on the form and not the submit when using button_to :remote=>true
add :remote option to form_tag
form_for should pass :remote to form_tag through html_options
Require ac/test_case from AV::TestCase
Updating Action Mailer documentation
deOMGifying Railties, Active Support, and Action Pack
Improve missing template error messages a little bit.
Add rel=nofollow on non get remote links
Generate UJS code for :disable_with
updating link_to and button_to to support :remote => true and other options such as :confirm in a unobtrusive manor
Include prototype ujs adapter with new apps
Axe AM state machine
Reorg options_for_javascript and array_or_string_for_javascript
Move button_to_function to prototype helper
Unused JAVASCRIPT_PATH const
Move scripty JSG helpers into scriptaculous_helper.rb
Move form_remote_tag and remote_form_for into prototype_legacy_helper
Move button_to_remote and submit_to_remote into prototype_legacy_helper plugin
Move link_to_function and link_to_remote into prototype_legacy_helper plugin
Drop AjaxHelper
Move periodically_call_remote into prototype_legacy_helper plugin
Move observe_field and observe_form to prototype_legacy_helper plugin
Revert "Add rails.js driver to default source list"
Revert "fixed tests to also look for rails.js when using javascript_include_tag :defaults"
Revert "Drop JS scripts from core"
Rely on arel to generate the correct sql when an empty array is supplied to IN predicate
Deprecation notice for TestResponse#redirected_to
Bring helpers_dir deprecation back.
Add transfer_encoding= setter deprecation.
Drop AR I18n deprecation and simple use errors.messages as fallback.
Improve railtie deprecation messages.
tsort-based dependency resolution for initializers
Drop JS scripts from core
Deprecate link_to :popup
fixed tests to also look for rails.js when using javascript_include_tag :defaults
Add rails.js driver to default source list
Only load testing tasks if test unit is being used.
Automatically configure generators if application is defined.
Added :format and :locale options to render.
Get rid of AM warnings in AP test  suite.
ActionMailer should depend just on AbstractController.
Add a failing test case for render :layout
Added tests for rendering different template for new API
superclass_delegating_accessor rewritten to serve as the base for many other kinds of accessors (step 1 of unification)
Updating Action Mailer documentation
Ensure test sets json time format flag
Move the ActiveRecord generator settings into the Railtie
Add more tests to some key points in Railties.
Add reloadable specific for engines and move environment to application paths.
Add config.to_prepare back and add tests for it.
Refactor MetalLoader and RoutesReloader to rely less on class configuration.
Cleanup the test_unit generator move into the railtie
Test::Unit Railtie
removes unnecessary curlies in collection_select rdoc
Missed template change for defaults -> default
Rename 'defaults' class method to 'default' to reflect that it's a declaration
Attend to brittle mailer generator tests
Clear up some ivar warnings
renaming javascript drivers to *.rails.js for better naming convention
Expected attachment encoding is binary
initial prototype of jQuery driver complete
Use format of ARes rather than content-type of remote errors to load errors.
Time#- with a DateTime argument behaves the same as with a Time argument, i.e. returns the difference between self and arg as a Float [#3476 status:resolved]
active_support/ordered_hash now requires yaml
jquery driver now supports :confirm
jquery driver now supports :popup
self.defaults => default
Remove unbundle changelogs
Unvendor'd text-format, now requires text-format gem
Unvendor'd MemCache-Client.  Now requires the MemCache Client gem as a dependency - Don't forget to gem bundle buys and girls
Unvendor'd Builder.  Now requires the Builder gem as a dependency
Unbundling TZInfo
Updated mail requirement to 2.1.2
Adding custom yaml (de-)serialization for OrderedHash
AS guide: Class#subclasses has been removed in ec7c642f5fe60afc857aa64f1a9b4c2be56f9d70
AS guide: Object#remove_subclasses_of has been removed in 5b01c8bb8bd9354fda8dc00c2df6888dbab7f017
AS guide: Object#subclasses_of has been removed in 245bfafe335ff883f7a096eab95ac22fe2848679
AS guide: Class#descendents has been removed in f85f5dfc8ffefff174b695c6363211d342f77a57
AS guide: Class#reachable? has been removed in 5f981ff0294ba45aa44ad15aa063970b29aeec44
AS guide: Class#remove_class has been removed in 44afd785c8e390f47bc5b80e5d94309b6b56a13c
AS guide: Object#extend_with_included_modules_from has been removed in ccec730d7f2ccf5e44d3ac2b4b05c7c57af1cfb4
Object#extended_by has been deleted in c25ac0deeefe55837ba8fd2b2dc860924a507e63
updated tests + docs, plus minor inconsistency fixes
tests + docs
support for observers in jquery driver, and minor bug fixes
initial prototype of prototype js driver
observe_form now supports :with option as it should
refactored to be more dry, data-update-failure now correctly works, combine compat and driver, namespaced events, and support for periodically_call_remote
Added regression tests that discovered the previous issue.
:href should be comming in through html_options and not options
removing container inline js function of observed elements :function callback
moving html_safe call into helpers directly as they only work from that level
start of prototype driver, missing observe_form, observe_field, and periodically_call_remote
periodically_call_remote does not need data-observe=true
need to tell erb that our <script> tag is html_safe
test to go with last commit, explicit :href for link_to_remote
adding :href override to link_to_remote
adding support for :disable_with to button_to_remote
support for submit_to_remote in jquery driver
fix duplidate data-submit attribute, submit_to_remote should test url
upgrade jquery to 1.4.1 and default request method to GET as its default on forms and links
remote_form_for now supports :confirm
refractor handler code for remote_form_tag to also handle link_to_remote, fix a bug preventing :method from being used, also add missing :position, :confirm is still not functional yet
account for the fact a few options may be passed as symbols and need to be converted to string
initial jquery driver and compat, right now the only supported method is form_remote_tag
add missing call to set_with_and_condition_attributes for form_remote_tag
removing Prototype inline js for attributes for :with and :condition, it now is free form js that can be placed there, also moved :submit out into AjaxHelper, updated tests to reflect changes
refactor params and with into copat module
add missing test for :with option to link_to_remote
fixing last merge breakage
add missing :before and :after callbacks for link_to_remote
making non remote versions of link_to, button_to, submit_tag and image_submit_tag output data attributes for things like :confirm, :method, :popup, and :disable_with
link_to_remote and button_to_remote now support :confirm
modified helper that adds attributes for :method to include rel='nofollow' if :method => :delete, same as its remote_ equivalent
refactoring AjaxHelper a bit so that it calls shared method from JavascriptHelper to add attributes for :confirm
making non remote versions of link_to, button_to, submit_tag and image_submit_tag output data attributes for things like :confirm, :method, :popup, and :disable_with
link_to_remote and button_to_remote now support :confirm
test :method option of link_to_remote, and ensure rel='nofollow' is added when :method => 'delete'
moving include of ScriptaculousHelper into PrototypeHelper, ActionView should know as little as possible about individual frameworks
port existing test suite to check for new output, and fix all breaking tests
fixed current tests that were failing do to module location change, this is temporary to fix state of repo till all the new tests are complete
first round of documenation for ujs
oops, remove test code
restructure compatibility module so it is no longer a child
Removed all helpers from PrototypeHelper that are implemented in AjaxHelper. Modified tests that extended with PrototypeHelper to now extend using AjaxHelper. AjaxHelper is now included by default in view helper
fixing failing tests from last commit, order of attributes matters should probably change this later
javascript_helper now correctly pulls in ajax_helper instead of prototype_helper. prototype_helper is pulled in by ajax_helper for reverse compatibility
make observers a little more dry
fix failing tests from fork/merge
rename ajax_test.rb to ajax_helper_test.rb for consistency
nuke what appears to be a duplicate and unused test file
cleanup some spacing
extract_remote_attributes should be a private method
Added observe_form
Added submit_to_remote helper
Removed duplication
Changed data-name to data-observed on observe_field
Refactored ajax helpers so they use a little bit more coherent pattern; Removed code duplication from form_remote_tag
Applied Yehuda's patch; Sharing extract_object_name_for_form! between form_helper and ajax_helper; Added script_decorator helper
Changed observe_field to field_observer
Changed data-rails-type to data-js-type
Changed data-remote='true' to data-js-type='remote'
remote_form_for tests pass
Took first stab at reimplementing form_remote_tag helpers
Added assert_data_element_json test helper for data element helpers
Took another stab at observe_field.  Now implementing data only helpers as script elements.
Changed the observe field node into a div with display:none
ObserveFieldTest uses url_for from AjaxTestCase
fixed failing tests
Implemented a fuller stub in AjaxTestCase for url_for because link_to calls url_for on all urls passed to it.  Tests that were testing different input types for the url were failing because of this.
Added the beginnings of the observe_field helper
Added observe_form
Added submit_to_remote helper
Removed duplication
Changed data-name to data-observed on observe_field
Refactored ajax helpers so they use a little bit more coherent pattern; Removed code duplication from form_remote_tag
Applied Yehuda's patch; Sharing extract_object_name_for_form! between form_helper and ajax_helper; Added script_decorator helper
Changed observe_field to field_observer
Changed data-rails-type to data-js-type
Changed data-remote='true' to data-js-type='remote'
remote_form_for tests pass
Took first stab at reimplementing form_remote_tag helpers
Added assert_data_element_json test helper for data element helpers
Took another stab at observe_field.  Now implementing data only helpers as script elements.
Changed the observe field node into a div with display:none
ObserveFieldTest uses url_for from AjaxTestCase
fixed failing tests
Implemented a fuller stub in AjaxTestCase for url_for because link_to calls url_for on all urls passed to it.  Tests that were testing different input types for the url were failing because of this.
Added the beginnings of the observe_field helper
Add my info to the credits
Update bundled TZInfo to v0.3.16
Georgetown TimeZone is now mapped to "America/Guyana" instead of "America/Argentina/San_Juan" [#1821 status:resolved]
future proofing the sqlite3 adapter code
removes now void extending.rb
removes Object#extended_by
removes unused method Object#extend_with_included_modules_from
deletes no void files removal.rb and class_test.rb
removes unused method Class#remove_class
removes unused method Class#reachable?
removes unused Class#descedents
removes unused Object#subclasses_of
removes unused Object#remove_subclasses_of
removes unused Class#remove_subclasses
removes unused method Class#subclasses
AC railtie should configure helpers path.
Bring AM tests back to green again.
Failing AM test for legacy multipart alternative rendering
Bring layouts with proc back alive.
Failing AM test for nested layouts
Also include translation in ActionMailer.
Tidy up tests and docs.
Keep ActionController::Base.helpers_dir around for a bit longer
Add a test which ensures application can overwrite plugins/engines view paths.
Clean up Rails::Rack::Logger.
Move Rails::Rack::Metal to Rails::Application::Metal and just add cascade if any metal was declared.
Middleware stack actually runs routes and not the application.
Add tests for explicit engines.
Remove old fixtures files.
Refactor railties test, break huge  files in smaller chunks and move initializers to application folder.
Ensure app does not show up in generators.
Ensure proper class is shown on rake middleware.
Ensure calling a method in Rails::Application does not instantiate a void application.
Update generators to use new defaults.
Deprecate old defaults API.
Make defaults accept a hash.
Updating generators for mailer to reflect changes in API
Implementing class level :defaults hash, instead of delivers_from et al
PostgreSQLAdapter: set time_zone to UTC when Base.default_timezone == :utc so that Postgres doesn't incorrectly offset-adjust values inserted into TIMESTAMP WITH TIME ZONE columns [#3777 state:resolved]
Refactor content type setting, added tests to ensure boundary exists on multipart and fixed typo
Remove old files, add some information to docs and improve test suite.
More work on generated mailer templates.
Ensure root routes inside optional scopes works as expected.
Ensure all initializers are collections.
Add a deprecation for helpers_dir.
Failing test for plugin init requiring another plugin lib file
Refactor some railties tests structure.
As first step setup the  load path and lazy compare middlewares.
Failing test for using plugin middleware in application config
Plugins need to load before app initializers
We don't support enriched yet
Added initial documentation for the new API
Change mailer generator templates and refactor the whole naming schema.
Updated to mail 2.1.1
Updated gemspec for Mail
Got AM working with Mail yield on delivery_handler and updated tests
Updating credits file to add myself
Updated formatting on shell code to fit
Updated layouts and rendering guide to Rails 3.0
changed test to get TestMailer to use :file delivery method directly (as setup action was resetting delivery_method to :test on init
Added delivery_handler method to mail and implemented in ActionMailer to deliver inside of instrumentation
Add active_model/railtie back to generated boot.rb, add models back to paths, load active_support/railtie since we need it and ensure default logger is set before config.
Added delivers_from.
Add some view paths tests.
Updated instructions on how to create test databases with proper encoding [#97]
Ensure implicit multipart templates with locale works as expected.
Speed up some Hash core extensions.
Remove deprecated behavior since 2.3.
Add uniq_by and uniq_by! to Array.
Revamp of Rails documentation task
Add tests to mail helper.
Move old tests to a specific folder and add some delivery method tests.
Handle some TODOs and deprecations.
Finish cleaning up delivery methods implementation.
Maintain old_api and deprecated_api in different files.
Use Rails::Application ref in Rakefile and console scripts.
Add new class delivery method API.
Add Rails::Application pointer to the default app to add symmetry to Foo::Application
Some refactoring.
Ensure metals and initializers in plugins are loaded.
Add tests for plugin sanity check.
Rename plugin_name to railtie_name and engine_name.
Ensure environment config has higher priority than application ones.
Ensure helpers work from configured path.
Ensure namespaced controllers in engines work.
Adding failing tests for calling just the action, instead of :create_action_name and :deliver_action_name
Add I18n tests to engines.
Load deprecated tasks for plugins.
Make plugin generator compatible with new schema.
Solve some pendencies.
Updated "Getting Started" to work and reflect changes in Rails 3.0
Moving AS::Notifications call to one location in base
Delegated ActionMailer::Base.deliveries to Mail.deliveries, added callback support in Mail to call ActionMailer on delivery, moved deliver to deprecated API in preparation for new API
Set sort order for explicit parts from the collector's template sequence
Move console stuff to its own directory.
Move configuration to subfolders.
Create configurable modules and ensure that they are added only on direct children.
generate_pdf gets it's parameter now
Plugin is now an Engine.
First steps into making Plugin < Engine.
Extract Railtie load from application.
Break application.rb file in smaller chunks.
Extract routes reloading responsibilities from application and load them just upon a request.
render :text renders text, thank to Patrik Wenger
Add some tests to collector with templates and any.
Make implicit and explicit templates pass through the same part creation process.
Adding collector to ActionMailer
Added basic explicit multipart rendering and tests
Move double render check out of AbstractController.
Refactor subject with i18n.
Added AbstractController::Collector.
Make default_scope work with Relations
Updated Gemspec to mail 2.0.3 from gemcutter
Ensure user set load paths have higher preference and move Bootstrap inside Application.
Get rid of initializers global and create i18n railtie.
I removed the rdoc task from plugin Rakefile
Delegate App calls to instance
Moved more configuration away from bootstrap.
Ensure strings given to render with slash are rendered relative to the configured _prefix.
Add test case for load initializers before routing behavior.
Add missing require for Object#try [#3771 state:resolved]
Make @controller an internal ivar in the view
Got tests working once again.
Relation should respond to class methods
Allow calling class methods on a Relation
Use expand_path to require environment in metal template
Include cascade header in metal template
lib is already included w/ rake test task
Remove rdoc task from generated plugin Rakefile
Template whitespace
Get implicit multipart and attachments working together.
First work on implicit multipart.
Add basic template rendering to new DSL.
Add more tests to new API.
Move class methods to deprecated stuff.
Moved deprecated_body.rb to deprecatead_api.rb
Added more documentation on railtie.rb
Updating functional tests to not compare equality with encoded, Mail::Message has an == operator
Updating deprecated_body.rb to use :content instead of :data or :body in the params hash
Added use of AS::Notifications for tmail_compat.rb
Updating deprecated API to sanitize old style attachments hash to work with new mail.attachments method
Add view paths to Engine setup.
removes that beloved typo you only catch in github colored diff
rewords rdoc about :allow_nil in Module#delegate
a hash has no final key
Massive cleanup in Railties and load stack.
Revert "Refactoring attributes/types" [#3348 state:open]
Simplify finder method definitions
Add test case for load initializers before routing behavior.
Make filter parameters based on request, so they can be modified for anything in the middleware stack.
Give higher priority to rails generators.
Supplying Arel::SqlLiteral is much faster
Default to sync instrumentation.
Add shortcut test to abstract/render_test.rb
Don't let generators die if rubygems puts crap in your load path.
Tidy up new filter_parameters implementation.
Add deprecation warning for calling filter_parameter_logging ActionController::Base, and allow it to be configured in config.filter_parameters
Move filter_parameter_logging logic out of the controller and create ActionDispatch::ParametersFilter to handle parameter filteration instead. This will make filteration not depending on controller anymore.
Adding tests for attachments['blah.rb'] = {} et al
Cache adapter_name in Sql::Engine
AS guide: updates docs for LoadError after 1a50d2e
Use quoted_table_name with arel.from() if no from values explicitly supplied. Arel seems to be spending a lot of time figuring out the FROM value otherwise.
Cache quoted_table_name
Relation#spawn is basically clone + reset
Always use table.* in the finder query unless specified
Add AD::Route#to_s Signed-off-by: Joshua Peek <josh@joshpeek.com>
Use @limit_value and @offset_value instead of calling arel
Move update and update_all to Relation
Only send filtered_env for notifications
Request#filter_parameters and filter_env
Base.merge_conditions is no longer needed
Expose last controller in rack env["action_controller.instance"]
fixes the failure of config.plugins without :all option tests [#3718 status:resolved]
Move ActionController::Translation to AbstractController::Translation.
Bring normalize behavior to AbstractController::Rendering
Dont delegate Relation#update to arel
Mail method accepting all headers set via the hash
Delegate delete_all to Relation
Move destroy to Relation
Remove Base.delete as it's same as Relation#delete
Delegate exists? to Relation
Created mail method for new API
Make Relation#destroy_all handle all the cases
Moved old API into deprecated_api.rb in preparation for new Rails 3 Mailer API
Use unscoped instead of with_exclusive_scope for preloading
Move array_of_strings? to Relation
Remove stale methods constructing joins
Stop overriding LoadError.new to return a MissingSourceError (and sometimes nil!)
Revert streaming params parser support.
Cleanup middleware introspection output
Updating gemspec to 2.0.1 for mail
Scope#find is no longer needed now that Relation#find handles all the cases
Delegate all finders to Relation
AS guide: documents Float#round
Ignore order for simple calculations to make postgresql happy
Mail should log when raise_delivery_methods is false.
Named scopes dont need count() now that Relation#count handles all the cases
with_scope no longer needs :reverse_merge
Remove find_with_associations and related code from associations now that Relation handles that stuff
Avoid load tasks from plugins recursively (so stuff in tests or vendor does not get loaded).
Allow railties to specify generators paths.
Remove Relation#where_clause
Give preference to to_a over arel from Relation#method_missing
Rename CalculationMethods to Calculations and get rid of the old Calculations module
Move the only remaining calculation method calculate() to Relation
Get rid of RAILS_ROOT deprecation on AM::TestCase.
Logging thread should not die on logging errors.
Get rid of construct_count_options_from_args
Delegate count to Relation
Disable ShowExceptions during integration tests
Move parameters to the top on logging.
Do not send rack.input or any other rack information to AD listeners.
Refactor delivery methods.
Define named routes for other non-GET REST actions
Get all tests passing.
First pass on fixing delivery method
latest updates
Delegate :average, :minimum, :maximum, :sum to Relation
Add Relation#construct_relation_for_association_calculations for calculations with includes
Adding Rails 3.0 release notes
remove newline
Adding initial intro to railtie
Prettier hash dump
Show Rack env dump on exception page
Bring render_message back for 2.3 compatibility.
Bring body(Hash) behavior back.
`script/generate mailer Notifier` will now create a mailer at app/mailers.
Get generators tests running on Ruby 1.9.1
Improve script/generate help.
Since Rails will require Ruby >= 1.8.7, we can rely on instance_exec.
Documentation cleanup and linkage for validator
Add Relation#find_with_associations to load relation with eager loaded associations
Install plugin view paths into AM view load path
AS guide: documents Object#extend_with_included_modules_from
AS guide: documents Object#extended_by
Add all folders in app/* to the load path
Simplify calculation scope building. Remove :order from associations as it is troublesome w/ calculation methods using postgresql.
Remove construct_calculation_arel_with_included_associations because it's same as construct_finder_arel_with_included_associations
No need to pass current_scoped_methods to construct_calculation_arel everytime
Rake tasks should load generators from new paths.
Cleanup deprecation notices.
Forgot to change named_scope to scope in an ArgumentError raise exception for duplication scopes related to commit d60bb0a9e4be [#3736 status:resolved]
Improve generators help.
More cleaning up on rails generators load path.
Generators load path now will be Ruby load path. If you want to use rspec:install generator, you need generators/rspec/install_generator in your load path.
Automatically remove :generators: from namespaces.
Ensure generators can be invoked by their shortcut and remove attr_reader tasks.
Simplify construct_finder_arel_* methods
Handle invalid query IN() generated when a blank array is supplied in hash conditions
Get rid of Relation#order_clauses
Ensure deprecated validate methods are invoked when they are private [#3214 status:resolved]
Missing rename from named_scope to scope [#3735 status:resolved]
Adding ActiveModel::Validations documentation
Adding documentation for ActiveModel::Translation
Partial Documentation for ActiveModel::StateMachine
Clear out AS callback method pollution in AC::Base.action_methods
Base#action_methods delegates to Base.action_methods
Accessing nonexistant cookies through the signed jar should not raise an exception
Add missing CHANGELOG entry about relations as scopes
Rename named_scope to scope
Dont check for class equaity when merging relations
Inherit named scope class Scope from Relation
Ensure that Scope#proxy_scope is always klass. Rename proxy_scope to klass too.
Make relations work as scopes
Make sure named_scope names are not used as method names already
Module lookup issue on flash_test using ruby 1.9 solved [#3716 status:resolved]
Make local_request? to returns true when facing ::1 IPv6 address [#3257 status:resolved]
Plugin generator should use templates.
Take --skip-activerecord into account boot.rb requires. [#3711 status:resolved]
mail.create_path returns an array test fixed [#3712 status:resolved]
Adding Proc support to validation messages so that they can become a little more dynamic, allowing for customisations during the request [#3514 status:resolved].
save(false) is gone, use save(:validate => false) instead.
Move middleware builder back to Rails::Rack::Metal without losing the new behavior.
Add ActionDispatch::Railties::Subscriber and finish tidying up the logging.
Get rid of prepare_each_request, since now it's a middleware initialization parameter.
Add notifications to default middleware stack and update subscriber tests.
Add ActionDispatch::Notifications middleware.
Updating mail require to 2.0.0
Updating ActiveModel::Errors documentation to plug Translations and Validations modules
Adding documentation for ActiveModel::Serialization
Validates needs hash slice.
Clean up filter parameter logging tests.
Make merging of order values consistent
Adding ActiveModel::Naming documentation
Update errors docs
Added documentation for ActiveModel::Lint
Added ActiveModel::Errors documentation
debug helper output should not be sanitized
Use backtrace cleaner for dev mode exception page
Adding ActiveModel::AttributeMethods documentation
AS guide: documents Class#descendents
AS guide: Object#subclasses_of also selects anonymous classes
AS guide: revises Class#reachable?
AS guide: documents Class#reachable?
Cookies middleware
AS guide: revises section about Class#subclasses
AS guide: documents Object#subclasses_of
AS guide: documents Object#remove_subclasses_of
Make Relation#reload force load the records immediately
Use relations to build scope for named scopes
Simplify Model.scoped definition
Build middleware stack and reload routes after app initializers run [#3709 state:resolved]
Cache Model.arel_table
Use arel_table[] instead of unscoped[] to get arel attribute
Rename Model.active_relation to Model.unscoped
Allow custom controller for resource(s) [#3703 state:resolved]
Improve the error message for class mismatch on Relation#merge
Missings do added to with_scope
Get rid of Base#merge_includes
Make guides generation work for Ruby 1.9.x
Mark title and headers as html_safe! for guides [#3702 state:resolved]
No need to set @arel_engine to nil twice. Committed by mistake in 3968825f
Make sure Model#active_relation always adds STI conditions if needed
Use new finder methods for association preloading
Use Relation#apply_finder_options from calculations
Add Relation#apply_finder_options for applying old finder options
Make script/dbconsole work again [#3690 state:resolved]
Split ActionDispatch http in smaller chunks.
Removed autoload of DeliveryMethods
Migrated over to Mail doing delivery.
Removing internal delivery agents
fixed column alignment
Adding RDoc for active_model dirty
Rename active_relation_engine -> arel_engine and active_relation_table -> arel_table
Remove protected method Class#scoped?
Make type_condition return Arel predicate and not a string condition
Remove unused default_select
Move I18n to gemspec and update dependencies.
Add tests for simple match with namespace.
Add some implicit path tests to Subscriber.
Remove scope related code from construct_join
Always join scoped paths with slashes
Cleanup internal resource macro to use method helper shorthand
Remove stale construct_* methods
Remove construct_conditions
Simplify Model.delete_all
Model.delete should just use scoped.delete
Routing method shorthand shouldn't clobber :to options
Move Flash into middleware
Remove AR#scope() method
Make HEAD method masquerade as GET so requests are routed correctly
Make scopes use relations under the hood
In heterogeneous collections, neither the @path nor the @template are available, so we need to tell that we are simply rendering a collection.
Allow f.submit to be localized per object.
Remove URI object from ActiveResource notification, send the :mailer class in AM (like in AP#process_action) and remove locale instrumentation.
Ensure log is flushed and tailed on failures.
Bundle automatically if --dev or --edge is given as option.
Add message_id to AM payload and don't send bcc and cc if they were not sent.
Template rendering should include layout time.
Do not send the whole controller in notifications, cherry pick required pieces.
Ensure we just send Ruby Stdlib objects in ActionMailer notifications.
ActiveRecord should give the connection id as payload, and not the whole connection.
Yield the payload notifications for further modification (like adding the result).
LogTailer should be invoked after all logs in threads were flushed.
Rails::Subscriber is now responsible for flushing all loggers it's responsible for.
Small tweaks in ActionController subscriber messages format.
Move Dispatcher setup to Railties and add instrumentation hook.
Updated README
ActiveModel::Conversion documentation
ActiveModel::Callbacks documentation
Set a good example, no system ignores in project ignore file
Respect resources_path_names and :path_names options in new dsl
optimise_named_routes is unnecessary
Add documentation to f.submit and make scaffold generators use the new shortcut.
Different nested validations should not be ignore [#3638 status:resolved]
Ensure optional path scopes are properly handled.
Custom 'type' attribute support for text_field. [#3646 status:resolved]
Make check boxes accept :multiple as option so they can handle collections (such as HABTM).
Call :to_model before working with the object.
Add possibility to use i18n translatios in submit FormHelper.
Tidy up ActiveRecord and Views runtime information on process action logger.
Add notifications to ActiveResource.
Add instrument! to notifications which adds the result to the payload.
Add subscriber to ActionMailer.
Add router support for resources :only and :except actions
Cool this routing test passes now
Pass :as to resources to change the resource name
Passing in a crud action overloads the default action instead of creating a new member action.
adds missing fixed-width font
Make sure string join relations can be chained
ControllerRuntime tests also use Rails::Subscriber::TestHelper.
Test fragment/page cache and send data/file notifications.
Add subscriber for ActionPack and move all logging inside it.
Deprecate ActiveRecord::Base.colorize_logging.
Create Rails::Subscriber::TestHelper and use it to make ActiveRecord subscriber tests run in both sync and async scenarios.
Move AR logging responsibilities to ActiveRecord::Railties::Subscriber.
Set up subscriber on initialization.
Remove allow_concurrency and verification_timeout from ActiveRecord::Base (deprecated since 2.2).
Get rid of old rails_info_controller.rb
Set deprecation warnings for RAILS_ENV and RAILS_DEFAULT_LOGGER.
Allow to add subscribers through Railtie.
Do not send notifications when instrumentation raise an error.
Stub initial Rails::Subscriber implementation.
As the other constants, RAILS_DEFAULT_LOGGER no more.
Revert "Add a generator_paths config option"
Remove old bundler version from vendor.
reduce max size of fixture IDs to fix sqlite2 tests, because sqlite2 was getting negative and changing values for ID field. See http://www.sqlite.org/datatypes.html
Use Relation#except for reversing the order
Ensure using proper engine for Arel::Table
Delay building arel relation as long as possible for improved introspection
Table alias should be considered when checking for equality
Make sure not to use alias if it's same as the table name
Expose connections available in the connection pool.
Improve ActionPack logger output.
Get everyone running on Rails.env and fix the broken environment settings for script/console and script/dbconsole
Send the connection in AR notifications to avoid checking out new connections in threads just for logging purposes.
Provide useful information when instrumenting partials.
Cleanup junk metal and revise API
Rewrite Metal tests
Javascript tests expects the old default of escaping HTML, make it so for now
Use safe_concat instead of trying to html_safe! what might be a frozen string
Raise an error if respond_with is invoked and no format is declared.
Ensure nested namespaces work as expected.
Have to remove the environment name from ARGV or IRB will freak out
Add a generator_paths config option
Ensure new validates works with uniqueness validator.
Dont require activerecord
Allow AR::Schema's migrations_path to be overwritten by subclasses. Defaults to 'db/migrate'
Renamed AssociationReflection #collection_association? to #collection?.
Rollback the transaction when one of the autosave associations fails to save. [#3391 state:resolved]
Exclude unchanged records from the collection being considered for autosave. [#2578 state:resolved]
Add failing test that triggers the stack overflow
Mailer should give self as payload because it contains all the information needed (as the template rendered and the mailer name).
Allow validates to map some types to specific options. So now you can do:
Compile length validator options still at the class level, so whenever the validator is called, it just needs to check for :maximum, :minimum and :is values.
Return-Path per RFC needs '<' and '>' around the addr_spec
Liberalize picky test
Qualify constant lookup in BasicObject
Updating mail require
Revert "Remove connection method definition, since it's called just once."
No more hacks to ensure generators are executed inside Rails.root.
Ensure application names are not singularized.
Run railtie and plugin initializers before app specific ones
Ensure config/application.rb also uses app_const instead of app_name.classify.
Allow :if, :unless, :on, :allow_nil and :allow_blank as shared options in validates.
Add validates method as shortcut to setup validators for a given set of attributes:
Remove stray semicolon from cookie_verification_secret initialzer template
Align assignments in the session_store initializer template
Ensure that segments in default_url_options also work with format specified.
From now on, parameters defined in default_url_options can be absent from named routes. This allows the following setup to work:
Remove duplicated url_for code and move methods shared between ActionMailer and ActionController up to AbstractController.
Updated the documentation for helpers.label.
Allow to specify default attributes names translation in I18n yml files. For example, you could easily specify :created_at and :updated_at translations as:
Be sure to dup load paths before clearing the array.
Use helpers.label instead of views.labels.
errors in ActionView should not be namespaced as well.
Add a deprecation message to activerecord.errors.
Errors messages are now moved from :activerecord.errors to simply :errors on I18n yml files.
Raise a RecordNotFound if an ID in nested attributes is given but doesn't return a record. [#2415 state:resolved]
Moved the validation logic to the association reflection and refactored autosave_association.rb a bit.
Remove deprecated '_delete' option from NestedAttributes.
Removed unnecessary call to #try and cleaned up a bit more.
Don't use strings for callbacks, as these will be evaled. Rather use symbols, which uses a direct method dispatch.
Cleanup some code in nested_attributes.rb, autosave_association.rb, and associations.rb with AssociationReflection#collection_association?
Add AssociationReflection#collection_association? which returns true if it's for a has_many or has_and_belongs_to_many association.
Refactored nested attributes a bit around :reject_if => :all_blank.
Remove unneeded reliance on super -> method_missing quirk
Remove unneeded reliance on Numeric#round quirk
instrumenter should be accessible from ActiveSupport::Notifications.
Ensure before_validation and after_validation accepts :on as option.
Restore require of 'active_record/fixtures' for Rake tasks that use them
Use better defaults for fixtures: transactional=true, instantiated=false
Update db:migrate error message to reflect the removal of config.frameworks
Remove config.gem deprecation stub since its not "deprecated" but completely removed.
namespace in routes changes both the path and name prefix.
Allow named routes to be debugged.
config.plugins should still work with an array of strings
Ruby 1.9.1 requires hash given to foormat to contain symbols.
Remove CGI.escape in function of Rack::Mount.escape
redirect in routes takes port into account [#3653 status:resolved]
All router redirect helper to accept a full URI [#3653 state:resolved]
assert_template depends on AV::Template monkey patches in action_view/test_case
NumberHelper#number_to_currency should output html_safe strings so the units are not escaped
Rails layouts, error pages, and public/index now use HTML5.
Controller tests should always require view tests since they add behavior controllers expect
Trash string coercion rack hacks
Default middleware stack needs to be available at configuration time
Middleware configuration tests
Reinstate explicit active_support/test_case require since console_app interacts with a non-autoloaded constant
use_instantiated_fixtures and use_transactional_fixtures defaults are set in active_record/fixtures
Smoke test for test_help
rack and rack-test are pulled in by AD
Autoload AR test case
Autoload AMo test case
Autoload AS test case
Autoload AM test case class
Autoload AC and AV test case classes
Expose Instrumenter id in Notifications.
@_formats initialization should be AbstractController::Base.
Remove deprecated formatted named routes
adding fix for auto linking to master too
Remove rack submodule, 1.1 has been released as a gem.
Stop featuring ActiveSupport::TestCase.use_instantiated_fixtures and ActiveSupport::TestCase.use_transactional_fixtures as likely-to-change settings in test/test_helper.rb -- they are not and their values are already set in test_help.rb [DHH]
Describe intent, not implementation
Removed config/initializers/new_rails_defaults.rb as all frameworks now follow the settings from it [DHH]
Changed ActiveRecord::Base.store_full_sti_class to be true by default reflecting the previously announced Rails 3 default [DHH]
Changed the default ActiveSupport.use_standard_json_time_format from false to true and ActiveSupport.escape_html_entities_in_json from true to false to match previously announced Rails 3 defaults [DHH]
Change the ActiveModel::Base.include_root_in_json default to true for Rails 3 [DHH]
Time zoning should be turned on by default with UTC
This comment has been true of all helpers for a long time
Remove self-evident comment about how subclasses work
Added that ActionController::Base now does helper :all instead of relying on the default ApplicationController in Rails to do it [DHH]
Bring generators tests back to life.
Use underscore in notification namespaces.
Ensure no notification is on the queue before running notifications related tests.
Add notifications to ActionDispatch::ShowExceptions, this can be used as hooks for plugins like ExceptionNotifier.
Add Relation#create_with to explictily specify create scope
Ensure using proper engine for Arel::Table
Use namespaces in notifications.
Add missing tests to Validators.
Move all generators tests to use new test case syntax.
Create Rails::Generators::TestCase.
Assert for valid application names. [#3556 status:resolved]
Use regexp in lookups instead of traversing namespaces. This removes the need of special cases.
Relation#merge and Relation#except should respect locks
Relation#merge and Relation#except should respect havings
Add Relation#except
Rename a variable name for consistency
Move Relation#spawn and Relation#merge to a separate module
Give preference to the second relation's order when merging
removes warning in multiple_of? that is no longer needed after 7a2554d
fixed missing or incorrect session data error message
AppName::Application.root should work
Doc fix
Silence warnings
Updating to Mail 1.5.0, including default values for all Message#field_name methods, can access field objects by calling Message#[:field_name]
Reapply "Remove optional join_dependency argument as Relation always supplies it" - Now without syntax errors
Skip isolation test tests until they work
Let Integer#multiple_of? accept zero as argument
Revert "Remove optional join_dependency argument as Relation always supplies it"
Updating to Mail 1.5.0, including default values for all Message#field_name methods, can access field objects by calling Message#[:field_name]
app_generator option should be skip_activerecord not no_activerecord
Silence warning of missing init on @config
Silence @text not initialized warning
AS guide: documents the file where each method is defined to allow cherry-picking (rest)
Regexp#(un)optionalize are also gone
Regexp#number_of_captures is gone
AS guide: documents the file where each method is defined to allow cherry-picking (covers up to Hash)
Remove optional join_dependency argument as Relation always supplies it
Further simplify Relation#references_eager_loaded_tables?
Cache Relation#to_sql
Remove unused code from association.rb now that Relation takes care of checking the referenced tables
Make Relation#includes behave exactly like the existing :include option
Add Relation#includes to be an equivalent of current finder option :include
AS guide: documents the file where each method is defined to allow cherry-picking (covers up to String)
Get rid of Model.construct_finder_arel_with_includes. Use construct_finder_arel instead
Simply methods for checking eager loaded tables references in the query
Rails notifications are set through Railtie in each framework.
Remove deprecated ActiveModel tests (%d and %s is no longer supported in error messages a couple months already)
Update vendored Thor.
Do not enforce human_attribute_name as required API.
I18n label helper [#745 status:resolved]
Add naming to AMo::Lint
Use activerecord.errors.format as in Rails 2.3.5.
Be sure to convert namespaced names to we have 'Parrots name' instead of 'Parrots.name' in error messages.
Make nested attributes behave like in 2.3.5 and add a sanity test for it with I18n.
Implement Relation#create and Relation#create!
Implement Relation#new
Use arel predicates instead of strings wherever possible when merging relations
Give higher preference to second relation's equality predicates when merging
Remove the test which was testing a non-existing method, always failing on 1.9 and never even running on 1.8
Make sure not to spalt string arguments
fixes a couple of wrong requires
nokogiri.rb needs active_support/core_ext/object/blank
libxml.rb needs active_support/core_ext/object/blank
jdom.rb needs active_support/core_ext/object/blank
time_with_zone.rb needs active_support/core_ext/object/acts_like
testing/performance.rb needs active_support/core_ext/string/inflections because it uses demodulize
rescuable.rb needs active_support/core_ext/array/extract_options
rescuable.rb needs active_support/core_ext/string/inflections because it uses constantize
message_verifier.rb needs active_support/core_ext/object/blank
message_verifier.rb needs active_support/base64
message_encriptor.rb needs active_support/base64
duration.rb needs active_support/core_ext/object/acts_like
method_wrappers.rb needs active_support/core_ext/array/extract_options
to_param.rb needs active_support/core_ext/object/to_query
extending.rb needs active_support/core_ext/object/blank
extending.rb needs active_support/core_ext/class/removal because it uses reachable?
synchronization.rb needs active_support/core_ext/array/extract_options
loading.rb needs active_support/core_ext/string/inflections because it uses underscore
hash/conversions.rb needs active_support/core_ext/string/inflections because it uses singularize and a few others
hash/conversions.rb needs active_support/core_ext/object/blank because it uses blank?
date_time/calculations.rb needs active_support/core_ext/object/acts_like because it uses acts_like?
date/calculations.rb needs active_support/core_ext/object/acts_like because it uses acts_like?
callbacks.rb needs active_support/core_ext/object/metaclass because it uses metaclass
cache.rb requires active_support/core_ext/string/inflections because it uses camelize
requires active_support/inflector/methods active_support/core_ext/string/inflections in local_cache.rb because it uses underscore
requires active_support/core_ext/array/extract_options in mem_cache_store.rb because it uses extract_options!
requires active_support/gzip in CompressedMemCacheStore because it uses ActiveSupport::Gzip
requires active_support/core_ext/hash/keys in benchmarkable because it uses assert_valid_keys
make sure returning is available for the libxml extension
delegating_attributes.rb does not use duplicable
require cgi to reopen it, not technically needed but makes sense
Use relations to build uniqueness conditions
Added SAX-based parser for XmlMini, using LibXML
Added SAX-based parser for XmlMini, using Nokogiri.
Code cleanup, bugfixes and speed improvements for the Nokogiri and LibXML XmlMini backends
Ruby 1.9.2: explicit coercion check no longer needed; bug fixed upstream
Rename Model.arel_table to Model.active_relation
Rename Model.engine to active_relation_engine. Cache arel_table and the method takes no arguments now
Use Arel::Table instead of ActiveRecord::Relation from HABTM and has_many#delete_records
Remove unncessary arguments passed to arel_table
Use arel for building the STI type condition
Add support for table aliasing
Silence warning of missing init on @config
Silence @text not initialized warning
Put MySQL and Postgres in an :only block so you can gem bundle --only default to leave out MySQL and Postgres
Make rendering in ActionView happen through _render_template, as the rendering which comes from ActionController.
Expose a _render_partial hook as thhe _render_template one and make use of it.
ActionController::Logger should include AbstractController::Logger and sort autoloads for easier readability.
controller_path is required by ActionView, so move it up to AbstractController and refactor AbstractController::Layouts.
Simplify repair_validations on AR and make it work with new callbacks.
Make sure association proxy does not pass quoted table name to sanitize_sql
Handle Range with excluded end
Try using cached attribute before creating a new one
Use PredicateBuilder for sql hash sanitization
Move predicate building to a stand alone PredicateBuilder class
Some railties cleanup:
Rename rails.rb -> rails/all.rb and rails/core.rb -> rails.rb
Use Arel::Attribute when building where conditions from hash
Raise a helpful error if config.frameworks is used
Add a /rails.rb for each framework for consistency
Fully remove config.frameworks in favor of requires in boot.rb
Use Arel::Attribute for pk conditions
Add Relation#table to get the relevant Arel::Table
Add Relation#delete [Pratik Naik, Emilio Tagua]
Dont gitkeep things that are gitignored
Remove every new line when generating queries, this may build invalid queries on SQLite.
Updating mail requirement to 1.4.3
removing spurious line
Adding :transfer_encoding -> :content_transfer_encoding as part of TmailCompat
Clarify assertion
Added .gitkeep to empty directories and --skip-git to skip gitignore/gitkeep files
Allow ActiveSupport's isolation tests to run with MiniTest on 1.9
Orphan experiment no longer needed
Revert "Add config.action_controller.include behavior to plugins."
Remove self-require
Partially revert "ActionDispatch should require as little of ActiveSupport as possible"
depends on Module#attr_internal
AS guide: documents Object#presence
Get rid of DeprecatedCallbacks in ActiveRecord::Associations and finally remove it.
Setup and teardown now use new callbacks.
fixes a link in the plugins guide
ActionDispatch should require as little of ActiveSupport as possible
Organize Relation methods into separate modules
Kick AR logging back to life and move ControllerRuntime inside ActiveRecord::Rails.
Get rid of DeprecatedCallbacks in ActiveRecord::Associations and finally remove it.
Setup and teardown now use new callbacks.
Adding :transfer_encoding -> :content_transfer_encoding as part of TmailCompat
Relation#many? shoud load the records if there's a LIMIT
Add Relation#any? and Relation#many?
Adding TMailCompat layer for :set_content_type and friends
Revert "Add default respond_to formats to ApplicationController."
Use the correct method for eager loading autoloads
Clean up changelog a bit
Move mail gem dep to Action Mailer's gemspec
fixes link to Pickaxe in getting started guide
fixes broken links in migrations guide
fixes broken links in form helpers guide
LH redirects to https in contributing guide
Clean up railties Rakefile from old responsibilities which are now part of main Rakefile
Add rails app --edge and rails app --dev
Add default respond_to formats to ApplicationController.
fixes broken links in 2.3 release notes
Make plugins responsible for loading their own rake tasks
Application object should instantiate non-vendored plugins
fixes broken links in 2.2 release notes
Use extlib_inheritable_accessor in request_forgery_protection.rb.
Finally remove rails/initializer.rb
Simplify get_projection_name_from_chained_relations using recursion
Relation#count should look for projections in chained relations and perform the count on the given column
Update Gemspec
Attributes may be an Arel value which doesn't respond to aggregation?, don't test them.
Oops, add the missing #tap call
Replace Base#safe_to_array with Array.wrap
Rewrite Relation#readonly, eager_load, preload using Object#tap
Rename Relation#create_new_relation to spawn and refactor preload/eagerload associations using attr_writer
Refactor Relation#readonly using attr_writer
Make sure evalled method knows where it came from
Relation#respond_to? should take second argument for responding to private methods
Make sure Relation responds to dynamic finder methods
Add Relation#size and Relation#empty?
Use relation#delete_all for Model.delete_all
Add Relation#delete_all
Complain if there's no such middleware
Don't require initializer.rb in core.rb
Move the ActiveRecord related rake tasks into the AR gem.
Require active_support/dependencies/autoload in action_dispatch
Add the ability to have plugins load rake tasks.
Silence some trivial warnings: shadowed local vars, indentation mismatches
Move ActiveRecord callbacks implementation to ActiveModel and make use of it.
Oops. Remove debug information inside a test from the previous commit
Migrate all the calculation methods to Relation
Don't publicize with_scope for tests since it may shadow public misuse
rake smoke: toplevel task to quickly smoke-test all projects
Add ruby-debug to Gemfile for Ruby < 1.9
Use present rather than any
Refactored previous changes to nested attributes.
Add an :update_only option to accepts_nested_attributes_for for to-one associations. [#2563 state:resolved]
Add Model.having and Relation#having
Added having to use in combination with group to filter records.
Make sure to not add autosave callbacks multiple times. [#3575 state:resolved]
Further improvement to the documentation of has_many method collection.create: Of course the "associated object" (base model) cannot be nil, or you wouldn't be calling this method on it. What concerns the user is that the base model must be present in the DB.
Make polymorphic_inverse_of in Reflection throw an InverseOfAssociationNotFoundError if the supplied class doesn't have the appropriate association. [#3520 state:resolved]
Provide a slightly more robust we_can_set_the_inverse_on_this? method for polymorphic belongs_to associations. [#3520 state:resolved]
Add inverse polymorphic association support. [#3520 state:resolved]
Add more tests for the various ways we can assign objects to associations. [#3513 state:resolved]
Set inverse for #replace on a has_one association. [#3513 state:resolved]
Don't try to lock reads when using any SQLite adapter, it's redundant and may generate an invalid query.
Move Relation calculation methods to a separate module
Add Relation#count
Remove the todo note for arel#lock
Add Model.readonly and association_collection#readonly finder method
Adding default 8bit encoding if the body has non usascii in it
Remove unused code paths and require mail only when it's needed.
Corrected documentation of has_many methods collection.build and collection.create.
Remove locking related unused code
Raise ArgumentError when trying to merge relations of different classes
Relation#readonly(false) should toggle the readonly flag
Remove unused construct_finder_sql
Add Model.lock and relation#lock now that arel has locking
Added Object#presence that returns the object if it's #present? otherwise returns nil [DHH/Colin Kelley]
Added default .gitignore (this is just recognizing Git market share, don't throw a hissy if you use another SCM) [DHH]
Moved sort_parts into Mail, updated mail requirement to 1.4.2
Update rack submodule
String#exclude? core extension: inverse of #include?
Ruby 1.9: string is not enumerable, so #exclude? is not available
Typo
Require the enumberable extension from active support because we use #exclude?
Use i18n
Add Model.from and association_collection#from finder methods
Use relation.from when constructing a relation
Added shorthand for match 'products/overview' that expands to match 'products/overview', :to => 'products#overview', :as => 'products_overview'
Dont delegate relation#find to to_a
Use arel#from instead of the current hack
Added lock to Arel, allowing a locking read if required.
Don't split sql logging across multiple lines.
Removed useless attribute definition from TableReference.
Handle preloads and eager loads when merging relations
Add relation#merge to merge two relations
Added "from" method, allowing to specify custom from clauses.
Return a new relation when blank is supplied to relation.joins
Rewrite AssociationCollection#find using relations
Add relation.destroy_all
Make Model.destroy_all use new finders
Make Model.find(:last) use relations
Add relation.last and relation.reverse_order
Make Model.all just a wrapper for find(:all)
Make Model.find(:first, ..) use relations
Make Model.exists? use relation.exists?
Remove ActiveRecord runtime logging from ActionPack and place in ActiveRecord, adding it through config.action_controller.include hook.
Add config.action_controller.include behavior to plugins.
Add relation.exists?
Make Model.find(:all) use relations
Add relation.from as a temporary workaround until arel relation has .from option
Relation should supply :from to find_with_associations
DRY ActionMailer code.
Make Model.find(ids) use relations
Getting rid of some warnings in AM suite.
Add find(ids) to relations
Updating action_mailer to need mail 1.4.1
Changing body to use :to_s instead of :decoded... better use case
Make Model.all return an array rather than a relation for consistency. Use Model.scoped to get a relation
Make Model.find_or_create_by_* and find_or_initialize_by_* use relations and remove method caching
Add find_or_create_by_* and find_or_initialize_by_* to relations
Make Model.find_by_* and Model.find_all_by_* use relations and remove dynamic method caching
Updating readme
Updating actionmailer to call :to_s on all field values instead of decoded
Require bundled environment, if present, so Active Support can load i18n
script/server should init Rails by loading config.ru
Add find_by_* and find_all_by_* finders to ActiveRecord::Relation
Replace Model.first(options) with new finder methods inside tests
Don't split sql logging across multiple lines.
Remove ActionView inline logging to ActiveSupport::Notifications and create ActionController::Base#log_event, so everything can be logged within one listener. Also expose log_process_action as a hook for different modules to include their own information during the action processing. This allow ActiveRecord to hook and any other ORM. Finally, this commit changes 'Processing' and 'Rendering' in logs to 'Processed' and 'Rendered' because at the point it's logged, everying already happened.
AD::Cascade that supports X-Cascade
rack-mount 0.4
Expect Rack 1.1
Add new finder methods to association collection.
Ensure Model.scoped adds type conditions for STI models
Ensure all the finder methods respect scoping
More <%= render(@posts) %> optimization.
Optimize <%= render(@posts) %>.
Break instrumentation into several end-points so rendering of partials can be optimized.
Wrap layout rendering in one method: _render_layout (this should make partial instrumentation easier).
Add relation.reload to force reloading the records
Cache the loaded relations
Ensure preload and eager_load finder methods accept multiple arguments
Make sure the relations are always immutable
Add support for multiple arguments to .where finder
Add missing changelog entries
Add Relation#all as an alias for to_a
Stop supporting blank arguments to AR#relation query methods
Rename Model.conditions and relation.conditions to .where
fixes broken link, thanks to veger
No parentheses for assert_equal
Add Model.select/group/order/limit/joins/conditions/preload/eager_load class methods returning a lazy relation.
Refactor multiple parts logic and move Utils to PartContainer.
adv_attr_accessors in ActionMailer are not sent to the views, use the mailer object if you need to access the subject, recipients, from, etc.
Model.scoped now returns a relation if invoked without any arguments
The controller key shouldnt be part of the mapping if its not used
Move i18n to Gemfile.
This code was needed to work around http://redmine.ruby-lang.org/issues/show/2494. Since that bug is now closed in Ruby, we can remove it.
Simplify and improve the performance of output_safety
Instead of marking raw text in templates as safe, and then putting them through String#<< which checks if the String is safe, use safe_concat, which uses the original (internal) String#<< and leaves the safe flag as is. Results in a significant performance improvement.
Dead code
Translated strings in the view are assumed html_safe (Closes #3401)
Stray carrier return
The new routes shortform now also works for :as
Extract Mapping class from monster match method
Allow named_routes to be used with root, and with new DSL short-form.
Rackup config.ru from the correct directory
Require active_support/all unless specifically requested to be left out.
Remove the ActionView::Base autoload because it creates crazy circular autoload insanity
Isolation tests intentionally avoid loading any state (because they're often testing things that have their own load path semantics that should not be polluted), so rack/test is not yet  on the load path. Moving require "rack/test" into the setup means and after boot_rails means that it'll be required after the laod path has been altered to add in the Rails vendor/gems
Routing: fix that route shorthand shouldn't ignore other options. Raise if :as option is given to root method since its name is always 'root'
Finish moving config.frameworks-dependent code to the framework plugin
Shift more responsibility from application class to its singleton instance. Treat instantiation and boot as separate steps. Use app.config rather than app.configuration.
Make /rails/info/properties work again. Also, the mocked up tests were passing so we added a test that actually tested this functionality.
Isolation tests intentionally avoid loading any state (because they're often testing things that have their own load path semantics that should not be polluted), so rack/test is not yet  on the load path. Moving require "rack/test" into the setup means and after boot_rails means that it'll be required after the laod path has been altered to add in the Rails vendor/gems
Moving out some framework specific initializers into the framework libraries.
Raise an exception if an initializer is defined without a block
tests pass with requiring the frameworks in rails.rb
No need to use ValidationsRepairHelper hack on ActiveModel anymore, Model.reset_callbacks(:validate) is enough. However, tests in ActiveRecord are still coupled, so moved ValidationsRepairHelper back there.
Small clean up in Naming and TTranslation tests.
ActiveRecord::Validations are now built on top of Validator as well.
Require rack-mount 0.3.3
Dont auto require rubygems, move dep on rack-test to Gemfile
Dont encourage __FILE__ bullshit
validates_each uses a BlockValidator.
Added check_validity! to EachValidator and refactor existing ones.
All AMo modules are safe to defer
Move validations in ActiveModel to validators, however all validatity checks are still in the class method.
All ARes modules are safe to defer
All AM modules are safe to defer
Flip deferrable autoload convention
All AD modules are "deferrable"
Use Rack::Runtime middleware so the reported time includes the entire middleware stack
Validator is simply sent to validate method. However, the API needs to change, so validate accepts a record.
Referer and user agent are in Rack::Request
AD::StatusCodes support is now part of rack
Float on rack/master in preparation for rack 1.1 gem release
Make ActionMailer::Base inherit from AbstractController::Base
Add test for root
Update routes.rb template to use App name
Blog -> Blog::Application. Leave the toplevel module up for grabs.
Dont need to specify password_confirmation, that happens automatically
Replace reopening the class with App.configure as an alias to class_eval
test.rb, dev.rb, and production.rb just reopen the Application class; no more hax required
Dont introspect inline templates for the logger and cleanup a few styling issues
Give the builtin controllers their own routes.rb now that the legacy catch-all is gone
Its cookie_verifier_secret
Default route was removed from default route config, patch up failing tests.
Less annoying RoutingError message
reset_session needs to be a real method so flash can override it
Update CI bundler
Missed changelog entry for :inverse_of
Turn filter_parameter_logging on by default for password and password_confirmation and remove contentless comments
Show the new short-form in an example
Its now possible to use match 'stuff' => 'what#stuff' instead of using the :to for simple routes
Mark the wild controller route as legacy an comment it out
We don't need AD parse_config
AC::Head now doesn't have an unfulfilled Rendering dependency, and instead works just fine standalone (which means that ConditionalGet also doesn't have a Rendering dependency)
Just a little tidying
Added ActionDispatch::Request#authorization to access the http authentication header regardless of its proxy hiding [DHH]
Rename RenderOptions to Renderers
Rename RackConvenience => RackDelegation
Missing acts_like dependency
Renamed Redirector to Redirecting (its a module, not a class)
Rename the RenderingController module to just plain Rendering
Remove annoying and useless meta comments
Use instance_eval for schema block
Rename define_schema => schema
Rename SchemaDefinition => Schema
define_schema for Active Resource
Added cookies.permanent, cookies.signed, and cookies.permanent.signed accessor for common cookie actions [DHH]
:to => redirect() can take a String using 1.9-style interpolation or proc that takes the path parameters as a Hash
Add active_support/ruby/shim to the default requirements for AP components
Pending tests for AD Response
Don't need response prepare!
Models with no attributes should just have empty hash fixtures [Sam] (Closes #3563)
Added alert/notice from 2-3-stable and refactored redirect_to into just living in Redirector [DHH]
Updating requirement for mail to 1.3.4
Updating requirement for mail to 1.3.3
AS guide: fixes an example
AS guide: documents Enumerable#exclude?
Need to lazy realize middleware options so they can be modified in the environment
Use AbstractController error constants
[].from(0) actually returns [], not nil
Fully expand relative rails framework paths and make sure we aren't adding any to the load path more than once.
Hush AMo test suite
ARes rake task should not worry about AS being in path
Hush ARes test suite
Hush AM test suite
Hush AS test suite
When passing force_reload = true to an association, don't use the query cache [#1827 state:resolved]
Add options_from_collection_for_select to select_tag doco [hat-tip to anathematic]
Add the ability for plugins to set default configuration settings.
Procs don't call themselves
Add test for TimeWithZone#to_i with wrapped DateTime
Added #to_i to DateTime in ActiveSupport so #to_yaml works correctly on ActiveRecord models with DateTime attributes.
Add Enumerable#exclude? to bring parity to Enumerable#include? and avoid if !x.include?/else calls [DHH]
Move route reloading into railties
Remove route loading tests since it should be tested by railties
Hush loading AR unless it fails
Hush AP test suite
Modify backtrace test to take implementations with slightly different backtrace output into consideration.
Extract descendents a bit so it can take advantage of Rubinius' __subclasses__.
Forgot to revert tests from that last commit
rendering controller needs base
Don't require AD test_case
Nearly all AC modules can be deferred
All AbstractController modules are deferrable
Relocate AbstractController exceptions into their proper parent modules
Allow autoloads to opt out of eager loading
TestProcess belongs in AD
"new" and "edit" name routes always need to be prepend to the named_route [#3561 state:resolved]
Use rackmounts recognize api and don't piggyback recognize_path on top of rack call
Remove fancy method not allowed resource exceptions since they are too much of a hack
Kill RouteSet#recognize
Cleanup generate_extras build/parse mess
Reduce usage of interpret_status. It should also return a integer not a string.
Add autoloads for ActionView::Template* classes, and an ActionView::TemplateError alias for ActionView::Template::Error.
Check block arity passed to routes draw so you don't need to use |map|
Scaffolding generates new routing dsl examples
Simpler RenderOption API -- removes the need for registering the types and extending a module
More test porting
Tack format onto resource routes
Use new routing dsl in tests
Remove double scoping blocks and just use one
Seperate scope level for nesting resources
Don't use name prefix by itself unless as is an empty string
Routes added under resource collection should be prefixed with resource collection name
Ignore name_prefix unless there is an explicit name
Move base mapper methods into Base module so plugins can easily extend the mapper
Move name_prefix merging into Scoping concern
Cleanup resource scoping by passing down the parent resource object in the scope
named_prefix doesn't join with "_"
Allow name_prefix to be pass into scope
Allow scope to take :path and :controller options
Pass symbol in as route name when match is used with a symbol
Responder redirects to resource if destroy fails.
Make controller.flash public to be used in responders.
Deprecate recalling generation params when the defaults are nil
Ruby 1.9.2: explicitly raise NoMethodError for explicit coercion attempts
Ruby 1.9.2: explicitly raise NoMethodError for explicit coercion attempts. Calling super gives us NameErrors.
Remove assert_raises usage that only test-unit 1 supports. Breaks minitest and test-unit 2.
Update rackmount to fix some pending tests
Replace reset_counter_cache with reset_counters that has API inline with existing update_counters method
Add support for Mysql column positioning via #add_column and #change_column
revises an example in docs about habtm & fixtures
Should fix a few Sam Ruby fails.
Adding the directory tree of a generated Rails app.
Added links to web server options to their respective websites to save people the trouble of having to google them.
Updating documentation for Console. Now mentioniing sandbox and including a link to the irb section in the online Pickaxe.
Reorganize autoloads:
Use to_query in route query string generation
Quick fix for not escaping []s (not ideal)
Failing tests for to_param/to_query not escaping "[]"
Implement ActiveRecord#reset_counter_cache
Move controller namespace tracking into route set so it gets reloaded in dev mode
Ignore all pkg files
Stop evalling the environment file in favor of require + setting a Kernel#config. This will fix the bug where reopening classes caused them to be overwritten.
Add support for bare ActiveSupport via config.active_support.bare
Break up rails and railties:
Remove global Rails initializers
Stop escaping "[]" in query string
Rackmount 0.3.0
Fork rack build nested query to support to_param
Ensure Cache-Control max-age is an integer
Response#write is defined twice (this is why -w is good)
Response#cache_control is defined later
Remove concat before overriding it
cache_store and page_cache_directory are already defined in caching and pages
Silence known internal AM deprecation calls
Simply track controller namespaces instead of a complete list of possible controllers to route to
Make recognize try to constantize controller to see if it exists
Some basic route discovery tests
Update vendored thor and ensure that content is completely modified before checking file collisions.
Avoid using unrequired core extensions
rails:update:configs updates boot.rb and the rest of config/*
Reinstate rails:update:configs task removed in e1fdc8b
Allow ActionController::Responder to have a common entry point for all formats.
assert_recognizes with a hash as first argument, needs to enclose arguments in brackets
assert_routing with a hash as first argument, needs to enclose arguments in brackets
Define a welcome controller in mailer tests
Wrap up http related routing helpers
Break down long match routing method
Make use of extract_options!
Extract Resource and SingletonResource helper objects
Bump required rack-mount version to 0.2.3
Remove rackmount submodule
Resource collection should be defined before member routes
Notifications: synchronous fanout queue pushes events to subscribers rather than having them concurrently pull
Update reference to deprecated constant to avoid warnings
Remove reference to class that doesn't exist (ht: brynary)
Notifications: extract central Notifier, cordon off the internal Fanout implementation, and segregate instrumentation concerns
Remark that Listener is an implementation detail
Expose a simple Queue#wait to block until all notifications are drained
Revert "Create SyncListener. Since they do not rely on Thread, they can be used on Google App Engine."
Expand path relative to __FILE__
avoid generating invalid SMTP commands in ruby pre 1.9
Load application specific rake tasks in the application object
Revert "macruby: no format_datetime or msg2str"
Have script/* and Rakefile use the application object
Refactor script/dbconsole into an object
Use Rails.env after loading environment
Quieter rake test runner
Add a dead --irb option mentioning upgrade path
Set RAILS_ENV before loading config/environment
Privatize Routing.possible_controllers and fix brittle url helper controller test loading.
Find all controllers in memory to use for routing
with_controllers is no longer used
Extract Routing.controller_constraints
Refactor script/console into an object and use IRB.start instead of calling exec.
Refactor script/server into an object that inherits from Rack::Server
Update rails application root detection to take into consideration a callstack that includes the rack library
Updates notifications tests in railties to reflect changes to the notifications API
Remove inflection reloads routes test
Kill dead routing internals helpers
Don't really care about reloading routes when inflections are changed.
RAILS_ENV falls back to RACK_ENV
Require rackmount >= 0.2.2
Change require mail version to 1.3.0
Changed deprecation to use ActiveSupport::Deprecation
Pending test now passing
Revert "Revert "Assert primary key does not exist in habtm when the association is defined, instead of doing that everytime a record is inserted.""
Add mail dep to AM gemspec
Ensure generator fallbacks work even when a context is given.
Also load generators at lib/rails_generators.
Create SyncListener. Since they do not rely on Thread, they can be used on Google App Engine.
Deprecating attachment :body => 'string' in favour of attachment :data => 'string'
Removing utils, and updating requires to match
Never require jcode
Rely on gemspec and bundled env for gem dependency. We just require it.
Explicit source no longer needed, default gems source points to gemcutter.
Bundle mail 1.2.8
Opps.. need to require it as well as gem mail :)
Adding mail as a gem load
131 tests, 309 assertions, 0 failures, 0 errors
macruby: no format_datetime or msg2str
More improvements to generators guide.
More improvements to Rails Generators Guide.
First version of Generators guides
Updated link to RedCloth.
Updating tests for Mail gem
131 tests, 266 assertions, 9 failures, 6 errors
Down to 13 failures, 14 errors
Down to 30 failures total
Indicate that the :method routing condition can also accept an array of HTTP methods.
More updates... 45 errors left to get it working with Mail gem
Update gemspec also
Should be rackmount 0.2
Depend on rack-mount 0.0.2
Extended and case insensitive regexp routes aren't that important. Mark them as pending till I figure it out.
Update routing for rackmount 0.2 api changes
Revert "Final steps toward clean rails "foo"; cd foo; gem bundle; script/server working"
Add basic nested named route support to new routing dsl. Also add a bunch of pending tests.
documents that the REXML security fix is still needed to support all 1.8.7 patchlevels
Final steps toward clean rails "foo"; cd foo; gem bundle; script/server working
explains the motivation for duplicable?
Check whether another lib has implemented ruby 1.9 string interp syntax
Extract form_authenticity_param instance method so it's overridable in subclasses
Insert generated association members in the same order they are specified when assigning to a has_many :through using the generated *_ids method
Revert "Ensure Model#destroy respects optimistic locking"
Make script/server work with correct application.rb
Require action_dispatch, not action_controller
Temporarily add submodules to the Rails repo for Arel and Rack::Mount. These submodules will be removed once we add proper Gemfile following to bundler
Allow explicit placement of hidden id element for nested models.
Ruby 1.9: skip pg locking test for 1.9.1 also
Add TimeZone dependency
Repair time dependencies
Loosen optional gem deps from ~> to >=
Remove Gemfile deps duplicated from AP gemspec
Just use abstract_unit
No need for test stub
No need to check for generated method, just redispatch
Ruby 1.9.2: use recursive flatten
Skip pg locking test due to connection checkout deadlock detection
Consolidate date & time landscape: require 'active_support/time'
Ruby 1.9.2: fix flatten_deeper to preserve nils
Notifications: queue.drained? for testability in place of brittle sleeps
CI: slow down brittle notifications tests
Revert "Split arel_table into method to get a relation and another to memoize the default relation."
Ruby 1.9.2: StringIO no longer has #path
Ruby 1.9.2: fix broken to_ary expectation
Ruby 1.9.2: disallow explicit coercion via method_missing. Only give friendly nil errors for Array and Active Record methods.
Rescue handlers should never need array wrapping. Bug if so.
Split arel_table into method to get a relation and another to memoize the default relation.
Missing customers fixture
Uses Hash#reverse_merge
Ruby 1.9.2: avoid #flatten
Prefer Array.wrap to Array()
Ruby 1.9.2: work around Array allowing method_missing for to_ary
Test that Array.wrap works with proxy objects and structs
Split mime responder into smaller chunks and allow action to be configured.
Remove rackmount const usage
Always bundle pg and mysql for AR tests
Rdoc for changes introduced in e2ed1a1ca, 36058f450.
Starting again on actionmailer integration with mail
Refactor plugins
Update AR logger subscriber for Notifications subscriber args change
test-unit 2: filter_backtrace is private
CI: yeah, run those tests
CI: short-circuit at first failing task. Chmod 755 bin, vendor, vendor/gems
Rack: HTTPS is either 'on' or 'off' as of 9b7a0569e4067d0c23a00fc24273436e85c56d7f
CI: list bundled gems in build environment
Unify test:isolated across components and run by default at toplevel
CI: missed mysql gem in bundle
Back to rack master, rack-1.0 reverts the kind_of? String fix
Revert "Revert "Eliminate warning with layout is unset""
test-unit 2 compat: assert_raise doesn't support regexp second arg to match exception message
Revert "Eliminate warning with layout is unset"
CI: rearrange build order, AR last
CI: no system gems required
Bundle rack-1.0 branch
Eliminate warning with layout is unset
CI: bundle test-unit on 1.9
Revert "Eliminate warning with layout is unset"
CI: return result of last rake task
CI: shush complaints about 777 perms
Use an env var to expand the CI bundle. Using bundler's 'only' includes this stuff for everybody, oops.
Ruby 1.9: don't bundle fcgi at all for CI
Make root_dir a method so rails can call it
Bump AR.gemspec Arel dep too
Use bundled bin/rake
Rely on bundler for gem deps instead of geminstaller
Get rack from rails/rack.git. Introduce ci-only deps.
Bump CI mocha to 0.9.8 and rack to 1.0.1
Be sure to invoke the super chain! And initialize response body.
Eliminate warning by initializing nil formats
Eliminate warning with layout is unset
Bump arel dep to 0.2.pre
Ruby 1.9: Array#to_s behaves like inspect now, so we don't want to use it here (needs spec!)
Add History.txt to RDoc
This is 0.2.pre now
History
Ruby 1.9: bump CI mysql from 2.7 -> 2.8.1
Ruby 1.9: fix Relation respond_to? and method_missing
Resolve deadlock in pooled connections test
Enable warnings for mailer tests
delete correct records for a has_many with :primary_key and :dependent => :delete_all
Avoid adding component lib/ to load path multiple times
Remove preflight lib check during AP tests. Bundler resolves this issue
Always add AS lib/ to path when running its test suite
Don't warn me if I'm not using bundler to run tests
Remove automatic rubygems loading from AS test runner
Don't load all of railties just for Rails::Version
Add pending test for generating routes with optional params that recall last request
Contortions to work around brittle naming dependency
Add pending test for route generation with default param
Revert "the REXML security fix is not needed for Ruby >= 1.8.7"
Clarify failed assertion
Ditto
Ruby 1.9: Sort attributes deterministically so specs always pass
Rake check_dependencies is dead. Don't try to run it
Ruby 1.9: Improve the way we spec this
Switch from rr to RSpec mocks. rr has issues on 1.9.2pre
Ruby 1.9: the constants must be qualified
Remark when bundled env require fails
AS guide: removes docs for String#start_with? and String#end_with?, no longer in AS
AS guide: removes docs for Object#instance_variable_defined?, no longer in AS
AS guide: removes docs for Symbol#to_proc, no longer in AS
Ruby 1.9.2: work around inherited hook being called before yielding to block
AS guide: removes docs for Object#tap, no longer in AS
AS guide: removes docs for bytesize, no longer in AS
AS guide: removes docs for each_char, no longer in AS
AS guide: removes docs for none?, no longer in AS
AS guide: removes docs for even? and odd?, no longer in AS
Bump AP gem dependencies to upgrade Rack to 1.0.1 and to include rack-mount and erubis.
the REXML security fix is not needed for Ruby >= 1.8.7
Enumerable#none? is not needed for Ruby >= 1.8.7
Integer#even? and Integer#odd? are not needed for Ruby >= 1.8.7
String#each_char is not needed for Ruby >= 1.8.7
String#start_with? and String#end_with? are not needed for Ruby >= 1.8.7, leaves their plural aliases though
String#bytesize is not needed for Ruby >= 1.8.7
Object#tap is not needed for Ruby >= 1.8.7
Symbol#to_proc is not needed for Ruby >= 1.8.7
Object#instance_variable_defined? is not needed for Ruby >= 1.8.7
Silence warning: discarding old h
Revert "Bundle I18n 0.2.0."
Change mailer subjects lookup.
Bundle I18n 0.2.0.
Silence spurious warning
Ruby 1.9.2: URI.parse and .decode are deprecated
Remove reliance on string access core extension
Revert "Ruby 1.9.2: avoid Array#to_s and Array(nil)"
Make Rakefile usable outside of base dir
Remove string access core extension dependency
Work around assert_raise limitation
Ruby 1.9.2: work around changes to flatten and nil.to_str
Ruby 1.9.2: avoid Array#to_s and Array(nil)
Ruby 1.9: use method_name to work around miniunit API changes
Refactor generators a little bit.
Update Rails Generators to use Thor 0.12.0.
Unknown :format param should result in empty request.formats
Since we require 1.8.7 we don't need to shim instance_exec anymore
Break up inflector to reduce the dependency burden on dependency-les methods like constantize.
Define autosave association callbacks when using accepts_nested_attributes_for.
Share ActionView::TestCase's output_buffer with view for concat support.
Make some assertions in the ActionView::TestCase tests actually do something.
When rendering layouts with blocks, use #capture to avoid assuming that the return value is the block's content.
If class doesn't have a name, there's no implied layout name, so don't set up a _layout method
Ruby 1.9: Rack apps must *always* take an env arg on 1.9
Shush
Update AC::Middleware to play better with the normal AC::Metal stack. This required stopping to use #call for non-rack-related stuff
Update Ruby version check to 1.8.7
Add the ability to merge initializers from various objects in order.
Conceptually unify instance & global initializers
Ruby 1.9: don't assume params are US-ASCII. Hands off the encoding.
Ruby 1.9: fix number precision test
Ruby 1.9: resolve constant lookup issues
Ruby 1.9: more constant lookup badness :(
Ruby 1.9: work around constant resolution behavior change :(
Turn off --debug for gem bundle. Force gem update.
Give useful test:isolated failures
Add bundler 0.6.0 to CI geminstaller
Try to remotely troubleshoot bundler issue in CI
Autoload Multibyte features.
Make ActiveSupport::Chars#limit run on Ruby 1.9.
Improve performance of Multibyte::Utils.
Add ActiveSupport::Multibyte::Chars#limit.
Configure generator when needed rather than during initialization
Pass config.generators options along when RAILS_GENERATORS is set and show --force-plural message just once.
Improve Gemfile commentary
Remove --freeze (since Rails will come bundled in all new apps) and update gem action to change Gemfile instead of config.environment.
Ensure ActiveRecord is loaded on revoke/destroy.
Avoid duplicated names on help description and show proper error message if trying to load a Rails 2.x generator.
Use spoofed version bump to ensure git is preferred
Spoof a version bump to work around Bundler using gem instead of git checkout
Force gemcutter source to ensure a consistent arel version
Work around rebundling issue
Ensure that generators can be invoked from any directory.
Arel::In -> Arel::Predicates::In
Clarify date/time dependencies
Consolidate Object#to_param and #to_query core extensions
Ruby 1.9.2: rational.rb is deprecated
Ruby 1.9.2: URI.escape is obsolete
Ruby 1.9 doesn't recognize EM SPACE as whitespace, breaking String#strip
Give useful test:isolated failures
CI breakage
corrects an example
AS guide: documents Numeric#bytes and friends
Swapped : for . on a NOTE section.
Extracted localized_cache.rb from ActionController, added it to AbstractController and made ActionMailer use it.
Allow :instance_reader to be given to superclass_delegating_accessor as well.
Use I18n on ActionMailer subjects by default.
More refactoring on ActionMailer::Base.
Make tests run without deprecation warning (just one left).
Another refactoring on AM. body is deprecated, use render instead.
Add some basic render_test to AbstractController.
Improve AbstractController layouts coverage.
Move some of helper tests to AbstractController.
Move all render and layout pieces required in ActionMailer from ActionController to AbstractController.
Remove ActionMailer helpers and rely on AbstractController one.
Refactor ActionMailer layout and remove legacy one.
abstract all of the ActionMailer delivery methods into their own classes. thereby the following are equivalent
Remove the random line at the beginning of every new log file
Caching refactoring
Generators should use Rails.root instead of Dir.pwd [#3408 status:resolved]
First pass at cleaning up action caching
Make polymorphic_url work with symbols again and refactor it [#1384 status:resolved]
Array.wrap(struct) needs to return the wrapped struct
Change Event#thread_id to #transaction_id. Defaults to one "transaction" per thread but you can explicitly declare the start of a new one. This makes it possible for each request to have it own id.
Make it possible to have IDs per request
New semantics eliminate the need for __send__
This is all that's needed in 1.8.7+
Reduce TextTemplate cost for simple cases
Reorganize CSRF a bit
AS::Notifications.subscribe blocks are now yielded the arguments to pass to AS::Notifications::Event.new
Edinburgh TimeZone references "Europe/London" instead of "Europe/Dublin" [#3310 state:resolved]
Bundle Tzinfo 0.3.15
Tzinfo bundling task: unpack tzinfo with lib directory preserved
Tests pass again
Some more generation tests
Extract routing controller stub helper into abstract unit
Enable named route tests
Start migrating AC routing tests into dispatch folder
Need to add Rails components to $LOAD_PATH to require "arel" reliably
Correct version number for prerelease Rails components. Note the additional period
Don't declare ActiveRecord gem dependency for now
Generating newly formatted gemspec
Dropping Jeweler in favor of some simple Thor tasks (for Gemcutter)
Update initializable
Duplicate AS code no longer needed
#include should be #extend
Some optimizations on AS::Notifications. This does not change the public-facing API.
Clean up flash a bit
There is no query method for belongs_to associations.
Remove old per-component bundled environments first
Tweak CI for toplevel gem bundle
Clean up flash a bit
Clean up parameter logging some
Clean up and update cookies
Extract #head into its own module and simplify it
AS guide: documents Proc#bind
Base setup for config object in AC.
Splat calls to_a not to_ary [#3423 state:resolved]
AS guide: documents the Range#overlaps?
AS guide: documents the extension to Range#include?
AS guide: documents the extension to Range#to_s
AS guide: documents the extension to Range#step
AS guide: removes the placeholder for extensions to Benchmark because benchmark.rb just reimplements an existing method
AS guide: removes the placeholder for extensions to Exception because exception.rb seems to provide stuff for internal use
AS guide: removes CGI placeholder section,  CGI.escape_skipping_slashes seems something for internal use
AS guide: reflects the guide finally covers only core extensions (is gonna be one of the biggest ones just with that)
corrects typo in previous commit
Caching guide: documents that page/action caching run in an after_filter, and this spurious cache entries are avoided just by halting the request
Restore `rake routes` [#3402 state:resolved]
Use rails/rack-mount
Refactored railties' isolation tests to be able to run script/* scripts.
Always add actionpack/lib to load path for isolated tests
Move validator, human_name and human_attribute_name to ActiveModel, remove deprecated error messages and add i18n_scope and lookup_ancestors.
Have all the tests running off a single Gemfile
Start rewriting some internal tests to use the new routing dsl
Run bundler before AM and AMo tests
New routing dsl
Group together all the old routing dsl logic
Add arel to AMo gemfile
Move Routing into AD
Donate tests I wrote for rackmount rails integration
Exclude gem backtrace filter if rubygems is not loaded
Add rackmount to railties gemspec
Add rackmount to actionmailer gemspec
Replace decaying routing internals w/ rack-mount
Missed cherry-pick from 2e37effd7203cad84459661e11db2be44586cb4f
Simplify path expansions
Kill routing tests expecting path to be unescaped. Most rack servers already escape PATH_INFO.
Missed Gemfile commits
Bundle for railties tests too
Use bundled env for tests only
Bundle arel for AR integration tests
Only undef to_json if it's defined
Error message references application.rb instead of environment.rb
Bump arel requirement to 0.1.1
Bump version 0.1.0 -> 0.1.1 to distinguish from older, already-released gem
Check for environment.rb
Check for bundler environment or 2.x-style vendor/rails + rubygems
Make sure boot.rb requires rubygems only when needed
Rails info tests needs use_controllers
Relax generation requirements and only enforce the requirements used in the path segment
Use Rails.root in railties tests
RAILS_GEM_VERSION is obsolete
Need to use "use_controllers" for nonexistent controller in AM test
Don't use use_controllers in routing tests
This is routing error message test is tightly coupled to the implementation. Just test that it raises an exception.
Drop legacy support for case insensitive controller recognition
Stop using with_controllers in tests
No longer need this special routing exception message because these kinds of ambiguous generations are deprecated
Drop support for routing :generate_all
Invalid route requirements should always raise an exception even if they are unused
Remove some remnants of config.gem
By default use ActiveModel API in controller generators, unless otherwise specified [#3123 status:resolved]
Make app generatoor specs green once again.
Refactoring attributes/types [#3348 state:resolved]
Bring agnosticism to error_messages_for.
Unify class_inheritable_accessor and extlib_inheritable_accessor and allow responder to be set in the class level.
Add stub for configuring your package manager
Remove config.gem in favor of using the bundler. This makes config/boot.rb obsolete.
Use Rails.root in statistics rake task
Rakefile doesn't need initializers to be ran
Use rails/rack
script/runner should require environment
script/performance/profiler should require environment
script/performance/benchmarker should require environment
script/generate should require environment
Make encodings work with Erubis and 1.9 again
Ignore log folder created by tests
script/about should require environment
Use Rails.application where we want a valid rack app
Use Rails.initialize! where we just want to run the initializers and aren't concerned about the config
Rackup file should require environment
Expand paths in i18n initializer tests
Make the railties tests pass
Get apps generated with working again.
Ruby 1.9: qualify toplevel File reference since config.ru could be eval'd in a different scope
Deprecate RAILS_ROOT in favor of Rails.root (which proxies to the application's object root)
We won't be publishing tars and zips anymore
Modify connection pool callbacks to be compatible w/ new style
Remove framework subscriber tests which depends on AR, which isn't loaded
Get rid of stray require again
Rack responses need to wrap Strings in 1.9
Update MetalTest for constant scoping change in 1.9
Work around apparent bug in 1.9
Have config/application.rb contain the application definition and require that file instead of config/boot.rb or config/environment.rb in script/*.
Renamed Orchestra to Notifications once again [#3321 state:resolved]
Change config implementation in AV slightly
Added parent_of? method to help tracing events.
Make Orchestra specs run on isolation.
Unify benchmark APIs.
Configure Orchestra on initialization.
Instrument cache store events only if required.
Update Orchestra instrumentations and move part of logging to Orchestra.
Orchestra listeners have their own queue.
Events are created inside threads.
Abstract publishing, subscribing and instrumenting in Orchestra.
Added queue abstraction to Orchestra.
Revert "Rename Orchestra to Notifications [#3321 state:resolved]"
Bundle AMo
Make this less brittle and work on 1.8
Kill rake bundle
AP tests depend on AR
Make the erubis implementation easier for plugins to change.
Add a read-only method which plugin authors can use to determine if xss escaping.
Don't push siblings on load path if using bundled env
AV expects options[:locals] to be a Hash
CI bundles Active Record dependencies before running (pulls in Arel)
Clarify AR dependency
Include bundled env in toplevel require, if present
No more toplevel arel sibling
Explicitly require logger
Punt on ConcurrentHash [#3322 state:resolved]
Rename Orchestra to Notifications [#3321 state:resolved]
Move from git submodule to gem bundle
remove lib/arel/.DS_Store from gemspec
Have Rails.root be based off of config.ru
Revert "Get AS TestCase off deprecated callbacks"
Revert "Rewrite AS::TestCase setup/teardown as a single callback chain"
Avoid warning spam by flipping to the new callbacks mechanism.  These callbacks are actually never called by rails itself, merely there for plugins
Make IntegrationTest::Runner propagate method_missing to ancestors.
Test cases should see all the cookies, not just cookies that have been set in the controller.
Added CDATA support to the XmlMini LibXML engine, adjusted whitespace handling to closer match that of the REXML engine, and added a LibXML engine test
Revert "Missing requires"
Missing requires
Digest auth option for ActiveResource.
Make sure non-escaped urls aren't considered safe
Use ERB::Util.h over CGI.escapeHTML as the former is safety aware and the latter isn't
ActionView.url_for doesn't escape by default
Start adding configuration to ActionView instead of using constants.
CookieJar#delete should return the key's value, consistent with a Hash
Finish porting over the initializers to the app object and fix all the tests
Add Gemfile to the rails application generator
Make rails configuration's path object's root lazy
Refactor AS concern to avoid hacking the "include" method.
Extend Callbacks and Rescuable with AS concern
Use ActiveSupport::Callbacks instead of ActiveSupport::DeprecatedCallbacks.
Make logger work again (h/t Sam Ruby)
Rewrite AS::TestCase setup/teardown as a single callback chain
Get AS TestCase off deprecated callbacks
Add erubis gem to ci
Insert a deprecation warn notice when using AS::DeprecatedCallbacks.
Callbacks, DeprecatedCallbacks = NewCallbacks, Callbacks
Use "run_callbacks :foo" since it is the public api for callbacks [#3329 state:resolved]
Kill unused SafelyMemoizable [#3323 state:resolved]
Bundle with system gem sources rather than gems.rubyforge.org default
Kill mock routing assertion that tests router implementation
Move safe buffer into test/template
Relative url generations are covered more thoroughly by url rewriter tests
Add define another "stuff" controller to support routing tests
Drop implementation specific routing test assertions
Add define a "stuff" controller in fixtures to support routing tests
trust generated HTML, and define html_safe! for gem >= 2.3 just in case by now
removes a no longer needed workaround in the guides generator
requires rubygems in all cases, fixes guides generation
Mark html safety
Uses fileutils
To unmarshal MissingSourceFile from child
Add a :limit option to specify the maximum number of records that can be processed by accepts_nested_attributes_for
Store entire options hash in the class var rather than just the reject_if proc for the nested attributes
Mute log info coming from the local_cache strategy
Avoid super in define_method for Rubinius
Get rid of constant name usage for stack trace help in favor of overriding #inspect and .name.
Ensure MessageVerifier raises appropriate exception on tampered data
Finish porting over the initializers to the app object and fix all the tests
Even more initializers ported over
Ported over more initializers
Add a test that ensures that Rails::Initializable can be used with modules
Move the ensure_tmp_directories_exist initializer to the application object
Moving more initializers into the application object
Start moving the initializers into the application object
Remove the old initializer file.
API change: content_tag_for outputs prefixed class name
Updated ARel commit version.
Don't need h in there now that XSS protection is on by default
Use indifferent access attributes instead of stringifying them
error procs have to be safe too
Allow accepts_nested_attributes_for :reject_if option accept symbols for using a method
Switch to on-by-default XSS escaping for rails.
Do not ignore .empty_directory files.
Relations: Added offset when finding with associations. Delegate array instance methods to to_a.
Don't send table_name when updating attributes, use the class arel_table.
Don't send table_name when there's no need to.
Allow preload and eager_load to work on relations at the same time.
Rewrite ActiveModel::Lint as a simple TU mixin
Don't share attribute matchers between classes [#3216 state:resolved]
Not calling a private method anymore
Call initialize_copy when cloning [#3164 state:resolved]
don't ignore all bin directories
MessageVerifier#verify raises InvalidSignature if the signature is blank
Coerce all out going body parts to Strings
Initial documentation to Base#all.
Added eager loading support to Relation and ActiveRecord#all.
Moved relation's test to relation_test.
Yank FCGI Handler from core
Rewrite FCGI handler test
Try to load lib before trying to activate the gem for testing
Put test in place for deprecated dispatcher
More robust console test
Only draw default route once
Use with_routing helper in tests instead of modifying global route set
Redraw default routes on all internal integration tests. We don't need SimpleRouteCase anymore
Avoid creating new controller constants during test runtime. All routable controllers should be defined beforehand.
Run AP isolated tests on CI
Moved shared form helper models into fake_models
NumberHelper depends on big decimal extensions
Changing directories during the test breaks file loading when ran by itself
Don't load rubygems for isolated tests
Move improved isolated test runner to AP
File extra test folders into controller, dispatch, or template
Add custom "with_routing" to internal tests to fix reseting session after using with_routing. This only affects our internal AP tests.
Cleanup whitespace introduced in 8377646 and f4f6888
add indifferent access to the attributes
update_attribute(s) added to Active Resource
Removing unused params from #to_sql methods on writes
Adding spec.opts
Whitespace
Pull primitives up one level
Create Predicates module to match directory structure
Move extensions directories to core_extensions
Autoload Arel::Session
Initialize a new instance of Rails.application during integration tests
Remove all calls to Rails::Initializer from boot.rb
Remove a duplicate initializer
Change Rails::Application to a class that is inherited from.
Remove unneeded files from the railties test directory
Create the application object from config/environment.rb
Ported the new ActionView::TestCase from 2-3-stable to master [#3260 state:resolved]
Remove SQLite2 from CI setup
Make has_one with :conditions hash scope build or creation of the associated object with those conditions
Escaping symbol passed into Memoizable's flush_cache for query methods to allow them to be cleared
Allow PKG_NAME env variable to control the directory name used when 'rake dev' is used to generate a new rails app.
Prefer tap to returning
Introduce :almost keyword for distance_of_time_in_words. Make 1.75 days - 2 days return '2 days'.
Enhancing distance_of_time_in_words to prefix year output with over and about depending upon how many months have elapsed
Move middleware and route configuration from AC::Dispatcher to Rails application object
Allow setting a default application for all integration tests
Create separate middleware stack for initializer
Allow integration test rack app to be set with "@app" ivar instead of using open_session
Remove deprecated calls to Dispatcher.to_prepare
Move default middleware stack into initializer
AC::Dispatcher is the default app, don't need to set it
Clean up session integration tests so they don't reference AC::Dispatcher
Pull middleware for Rails info from the initializer instead of ActionController
include nokogiri gem, so activesupport nokogiri tests run
ruby 1.9: Qualify toplevel File reference since config.ru could be eval'd in a different scope
Move Rails::Static into ActionDispatch
Enable static asset server by default
Add gem filter for default gem path since it maybe different than the set of gem paths
Move tmp directory creation from server to initializer
typo
AS guide: touches an example that confounds the indexer
Remove config.ru generation from --with-dispatchers option
Set const for application object. "Basecamp::Application"
Initializer.run returns an application object
Extract "parse_config" into AD
Restore "Start Rails::Application object
Remove relative url configuration from script/server
Generate a config.ru stub
AS guide: documents Regexp.unoptionalize
AS guide: documents Regexp.optionalize
AS guide: documents Regexp#multiline?
AS guide: documents Regexp#number_of_captures
Revert "Start Rails::Application object"
Start Rails::Application object
Wrap isolated test runner in a test suite
Nah, test SHA1, but skip the test and whine if OpenSSL is borked up
Test with MD5 digest in an attempt to mollify CI
Use ActiveModel::TestCase base class
Make gemspecs the authoritative source instead of generating them from the Rakefile
Use OpenSSL::Digest.const(...).new instead of OpenSSL::Digest::Digest.new(...)
Explicitly require String#bytesize extension
Make activesupport.gemspec the authoritative source instead of generating it from the Rakefile
Check if the lib is in the load path and requirable before attempting to activate the gem version
Skip addition to load path if an externally-provided lib is already in place. Just to keep the path shorter.
Restore split between require-time and runtime load path mungery. Simplifies vendor requires.
Convert the other vendored libs to avoid pulling in old gems. Works even if rubygems isn't loaded.
Avoid inadvertently loading an old tzinfo gem
Move railties/lib/* into railties/lib/*
Clean up log output for rendered templates
Resurrect AC::Benchmarking [#3140 state:resolved]
Remove dead requries to AC integration. Rely on autoloads instead
SessionRestoreError belongs in AD
Move helpers specific to functional tests out of TestProcess into AC::TestCase
Move integration test runner into ActionDispatch
More places to bump rack-test version [#3250 state:resolved]
AS guide: documents String#first, and String#last
details how a corner case behaves in different Ruby versions
AS guide: details how a corner case behaves in different Ruby versions
AS guide: documents String#to and fixes examples
AS guide: documents String#at
AS guide: documents Enumerable#none?
AS guide: documents Enumerable#many?
AS guide: documents Enumerable#index_by
Bump rack-test required version to 0.5
SQLite 2 test passage is no longer required when patching AR.
AS guide: documents Enumerable#each_with_object
fixed ActiveModel::Lint typos [#3236 state:resolved]
AS guide: documents Enumerable#sum
Turn on Ruby warnings when running specs
Add description to Rakefile
Declare dependencies on ActiveRecord and ActiveSupport in Rakefile
Gracefully handle case where RSpec is not installed in Rakefile
Remove unnecessary code from Rakefile
When Arel is loaded the $LOAD_PATH should already be set properly, so don't modify it
Whitespace
Instrumenting cache stores.
Instrument create and deliver in ActionMailer.
Use NewCallbacks on ActionDispatch::Callbacks.
Add Orchestra instrumentation to fragment and page caching.
Instrument process_action, render and sql.
Added Orchestra.
All tests should be ran under isolated_test too
Ensure changes to I18n locale get reset during tests
Follow short name convention for test folder and just call it "abstract"
Namespace TestControllers inside their test case class
Avoid conflict with a "MetalTest" module used in tests
All on one base, don't need this
Avoid conflicts with another ContentTypeController used in testing
All on one abstract_unit
There is only one base now
Make sure caching test is using a generatable url
NestedAttributes: call reload after saving to see deletions reflected in nested associations. Docs now match actual behavior.
1.9 fix for changes to #to_s. By Sam Ruby. [#3228 state:resolved]
Extract class-finder method from instantiate
Collapse nested conditional
making nokogiri to hash less clever, more fast O_o
Enable use of MySQL stored procedures by default.
Allow Nokogiri XmlMini backend to process cdata elements
Forward all methods to delayed log
AS guide: documents Array#extract_options!
Adds patch to CI
Remove unused code in ActionView.
AS guide: str[0, 1] -> str.at(0) in an example
removes (nowadays) unneeded tests macro from an example in the Action Mailer guide
AS guide: documents Enumerable#group_by
Beef up AD::Rescue to replace global exception handling lost in ApplicationController
@user -> user in example of Action Mailer guide, thanks to Robert
Simplify Session.sweep example?
Remove global exception catching from ApplicationController.
Clean up documentation on validates_length_of and change overly juvenile example.
AS guide: documents slice and slice!
AS guide: documents reverse_update
AS guide: documents reverse_merge and reverse_merge!
Updated ARel version.
Cherry pick AS extensions.
Require rubygems in generators test so Action Dispatch can find rack
Require active_support after autoload setup
Style bikeshed: prefer obvious string paths with / separator to args lists with ', ' separator
Cherry-pick core extensions. Don't explicitly require rubygems. Use load path for vendored thor.
Remove premature active_support/mini
Uses extlib_inheritable_accessor
Use load path rather than relative path for spec_helper requires. Also fixes specs on Ruby 1.9 since . is no longer in the load path.
Submodule rails master rather than rely on gems
Remove explicit rubygems require. Use Active Support provided by Active Record. Add self to load path after requiring Active Record.
Require active_support and active_record by name in LOAD_PATH instead of gem name (deprecated)
Lookup ruby bin name too
Use rbconfig instead of rubygem detection
For testing, only load rubygems if mocha is missing
Forgot to update load path dir for vendored memcache
Use abort
Skip parent isolation tests too
Don't run `gem bundle` by default
Bump vendored memcache to 1.7.5
Rollback AS bundler work and improve activation of vendored dependencies
Callbacks need to require reporting
Restore AS vendor file until we get things sorted out in railties
Rewrite resource routing tests that are coupled to the router implementation
Need to reset session for AP rescue tests after altering the route set
Define weblog controller for url helper test
AV::UrlHelper depends on Array#second
Omit PATH_INFO in integration test so rack mock will properly override it
AP tests: detect missing dependencies and automatically run bundler
Don't eager require mocha, AS unit needs to set stuff up first
Remove dead old base abstract unit
Lazy require memcache for session middleware
Detect missing dependencies and automatically run bundler
Ignore bundled gems
Shush interpolation warnings
AS guide: documents assert_valid_keys
AS guide: documents to_options and to_options!
details that symbolize_keys symbolizes keys as long as they respond to to_sym (so "all" may not be really all)
AS guide: documents symbolize_keys and symbolize_keys!
AS guide: documents stringify_keys and stringify_keys!
Forget about old memoize immutable behavior
Need to declare optional dependencies from AS
Load vendored i18n if its not found since its a real requirement
Avoid referencing rubygems
Don't force test suite to use bundler
Move AS vendor support into bundler.
require reporting before attempting to "shush"
Shush, new_callbacks
Shush, rexml
Prefer not to shadow a local
Ignore isolation test tests for test-unit 2 also
Clean up spurious JSON decoding test failure
Ruby 1.9 compat: fix regexp slice test
Silence warning for Encoding.default_external=
Use Encoding.default_external, not _internal
Ruby 1.9 compat: corrected instance_methods check
activesupport -> active_support
making secure_compare faster
Dup the arguments to string compare so we can use force_encoding.
Memoize in the endpoint.
Get ActionPack's test running on bundled gems. This should make running tests on new machines, as well as CI, work well.
Revert "ruby 1.9 friendly secure_compare" because it breaks CI and Sam Ruby's suite
Add per-controller middleware
Removed the version of ActiveRecord::Base#destroyed? that was added in a44a1257d879311d88c2d10c366ab0d6561f903a.
Removed some superfluous conditionals from the autosave association validation methods.
Define autosave association validation methods only when needed. [#3161 state:resolved]
Added some documentation about setting :autosave => false on an association.
During autosave, ignore records that already have been destroyed. [#2537 state:resolved]
Rename nested attributes _delete to _destroy to reflect its actual behavior and DSL (:allow_destroy). Deprecation warning added. [#2889 state:resolved] Signed-off-by: Eloy Duran <eloy.de.enige@gmail.com>
Explicitely setting `autosave => false' should override new_record autosaving. [#2214 state:resolved]
Allow fields_for on a nested_attributes association to accept an explicit collection to be used. [#2648 state:resolved] Signed-off-by: Eloy Duran <eloy.de.enige@gmail.com>
Don't cascade autosave validation to destroyed children. [#2761 state:resolved] Signed-off-by: Eloy Duran <eloy.de.enige@gmail.com>
Raise an exception with friendlier error message when attempting to build a polymorphic belongs_to with accepts_nested_attributes_for. [#2318 state:resolved] Signed-off-by: Eloy Duran <eloy.de.enige@gmail.com>
documents Hash#with_indifferent_access
AS guide: documents Hash#with_indifferent_access
documents in Hash#except that convert_key is honored
AS guide: documents Hash#except
AS guide: documents Hash#diff
Revert "Allow frameworks to be required by their gem name"
Ruby 1.9 compat: Avoid using the return value of FileUtils.mkdir_p, as it does not return a String but an Array in Ruby 1.9
Ensure validation errors to be ordered in declared order
ruby 1.9 friendly secure_compare
AS guide: documents Hash#deep_merge
documents Hash#to_xml
AS guide: documents Hash#to_xml
AS guide: corrects a typo
AV overview guide: progress on helpers
Removed the copyright notice not to show it in the result of 'ri ActiveRecord'.
Add gem load paths after loading environment
Use 'git apply' to apply patches
Remove redundant checks for valid character regexp in ActiveSupport::Multibyte#clean and #verify.
AV overview guide: helper docs progress
Refactor new callbacks and AR implementation.
Changed ActiveRecord to use new callbacks and speed up observers by only notifying events that are actually being consumed.
Ruby 1.9: fix MessageVerifier#secure_compare
Please 1.8.6 CI
Start running AS isolated tests on CI
Use draw/connect mapper api instead of directly using add_named_route
Need to reset session for AR session tests after altering the route set
Add fake controllers for url rewriter tests
Cleanup hacky routing with controller_path in url helper tests. This doesn't work in real life anyway.
Need to reset session in internal integration tests after altering the route set
Turn warnings on for AS isolated tests
AS guide: documents Array#to_xml
Link to the mislav-hosted Why's Poignant Guide.
Commit progress on Action View Overview
Commit progress on Action View Overview
Clean tag attributes before passing through the escape_once logic.
Add verify and clean methods to ActiveSupport::Multibyte.
Commit progress on Action View Overview guide
CookieStore should not be derived from Hash - reverting [#2268 state:resolved]
Test for previous commit (we wrote it first, I swear)
Replace :formats => ["*/*"] with the default formats set
Refactor ActionController to use find_template and template_exists?
Don't raise exceptions for missing javascript_include_tag or stylesheet_link_tag sources unless the :cache or :concat options are given. [#2738 state:resolved]
Remove a useless method in the fixture template class
Refactor ActionView::Resolver
Extract finding the template in AC to it's own method
If session_options[:id] is requested when using CookieStore, unmarshal the session to access it [#2268 state:resolved]
Vendor the latest version of the bundler
Add ActiveModel's ./pkg and ./doc to .gitignore
Revert "Assert primary key does not exist in habtm when the association is defined, instead of doing that everytime a record is inserted."
fixes generation of index and credits page
Kill AMo observing wrap_with_notifications since ARes was only using it
fixes undefined method keys for nil:NilClass error while generating guides
Don't try to log protected attribute removal if there's no logger defined [#3135 state:resolved]
Remove ClassInheritableAttributes test case, already covered by ActiveSupport [#3114 state:resolved]
Make Sam Ruby's test suite happy
Add required dependencies on activemodel
Added association preload to relation.
Assert primary key does not exist in habtm when the association is defined, instead of doing that everytime a record is inserted.
ActionPack test helpers need to activate rack gem
Railties test helpers need to activate rack gem
Rails::Info doesn't require version for unwanted frameworks
Document IrreversibleMigration.
Activate rack-test gem before it's required. This shouldn't be necessary, but should fix the build for now
rack-test 0.4.2 has rack 1.1.pre goodies, we'll use it instead
Temp rack-test gem needs proper gem source
Initializer middleware helper needs to require actioncontroller
Add rake gemspec and gemspecs to the repo
License, version, and gemspec for ActiveModel. Ship it!
To make CI happy, use my edge rack-test gem (just for now)
Restore rack gem dependency
Back off rack 1.1-pre and bundle in the new testing goodies
action_dispatch and action_view are just more autoloads, so its okay to require them
Switch over to rack-test gem
SessionHash#update and SessionHash#delete are missing a call to load! [#3056 state:resolved]
added proc and symbol support to validates_numericality_of [#3049 state:resolved]
Duplicating the options hash in Date#advance to prevent modification of the original [#1133 state:resolved]
I added this feature so that a Map of changed fields could be retrieved after a model had been saved. This is useful in the after_save callback when you need to know what fields changed. At present there is no way to do this other than have code in the before_save callback that takes a copy of the changes Map, which I thought was a bit messy.
Changing plugin loader to use blocks instead of Symbol#to_proc to ensure tests run without activesupport
I18n support for plugins
AS guide: your lovely typo only seen in github diff even if you reviewed the snippet a hundred times before pushing
AS guide: explains Array#to_formatted_s
AS guide: explains Array#to_sentence
AS guide: reorders an example
Change div.attribute to div.field and add some _form to tests.
Ensure scaffold works properly even if plural name is given. [#3062]
Remove inline css. [#593 status:resolved]
Change scaffold to use _form as partial and div's instead of paragraphs. [#1760 status:resolved]
Rails templates git command runs inside another directory [#2466 status:resolved]
Update vendored thor.
CI config updates: do not send CI emails unless explicitly enabled, use 'gem update --system', and send emails from an address which can post to the core list
Send CI notifications to core list.
Ensure that blocks are also handled inside the responder.
two typos fixed
Attempt to render the template inside the responder, so it can be used for caching and pagination.
Make sure all needed files get added to the rails gem
Initial AMo Lint implementation
Make rake install work
Prefer utf8_unicode_ci (better) over utf8_general_ci (faster)
Revert "Revert "Add readonly support for relations.""
Revert "Add readonly support for relations."
Add readonly support for relations.
No need to reload the relation table with a method param, just nil it.
Performance: Don't reload ARel relation on update.
Performance: Don't reload the ARel relation on create, do it on reset_column_information.
Performance: Don't reload the arel_table when destroying.
When running multiple test tasks, don't abort early if one produces failures
Reset session in integration tests after changing routes to reload the middleware stack
Create an install task that successfully installs all Rails gems
Remove some old cruft
Require necessary active_support files in cookie store
Use a more idiomatic redirect_to example in the flash docs
Add a default parameter for Resolver#initialize
Set the request and response in ActionController::Middleware
Have AbstractController::Logger#process_action return super's value
Eliminate warnings from Regexp multiline extension tests
Correct Regexp#un/optionalize assertions and fix uncovered failures
UrlRewriter#rewrite_url should call #to_param on the value given in :anchor option, just as #url_for does
I18n: use I18n for select helpers' prompt text
Remove useless var local definition.
Revert "I18n: use I18n for select helpers' prompt text"
allow ActiveRecord#RecordInvalid exception message to be localized
I18n: use I18n for select helpers' prompt text
Create new ActionController::Middleware class that will work as a normal Rack middleware.
Track all AC base subclasses as possible controllers for internal testing
And the same thing for Basic
HTTP Auth should not depend on RenderingController
Redirector had an undeclared dependency on Logger.
Rework Middleware stack to match the Rack middleware protocol more closely
Modify Digest and Basic to take a request so they can be used outside of the controller
Add a TODO so we remember to fix partial layouts
No need to create a new relation if the argument is blank.
ActionController::Metal can be a middleware
timestamps gives a created_at field not created_on.
AS guide: explains Array.wrap
explains difference between Array.wrap and Array()
AS guide: documents String#each_char
REAME updated: remove whitespaces, fix invalid join in query output.
fixes typo in previous (pushed) commit
AS guide: documents String#(start|end)_with?
AS guide: documents key-based interpolation
Added docs for ActiveResource HTTP proxy support
AS guide: documents String#squish
AS guide: documents String#bytesize
Ruby 1.9: fix Time#beginning_of_day inaccuracy due to subtracting a Float
AS guide: 2nd pass in aliasing
a couple of touches in just committed text
AS guide: documents aliasing
Add missing end ERB tag.
Move legacy param_parsers config onto AD::ParamsParser
Revert "Add bench script for ActiveRecord. Ignore log file and temporary cache"
Added first/last/all aliases for equivalent find scopes
Benchmark script via miloops' arel fork via DataMapper's AR comparison script
Add bench script for ActiveRecord. Ignore log file and temporary cache sql files.
Remove useless conditionals/local var.
Make sure join association methods are called once.
Dropped uneeded things, finalized TOC (for now), started on Prototype and RJS sections
Don't sanitize_sql where it doesn't make sense.
Remove old method and comment.
Remove useless InnerJoinDependency, inner joins are performed through Arel::InnerJoin.
Remove whitespace.
Added save! which raises ResourceInvalid unless valid?
Swallow ResourceNotFound error on find_every
Pulled find-based tests into their own test case. This matches Active Record, and allows us to have one places where all find-tests are located, which will help when adding dynamic finders later.
Moved all test cases into a new test/cases directory to match Active Record test directory structure.
Added validations to ActiveResource. Added a smoke test to see if we can add a validation and use it, and add a validates callback and use it.
Typo. wil should be will
Remove unused quoted_record_ids, now ARel does this using ARel::In.
has_many nullify associations keys using ARel.
Remove now unused quote_table_name, ARel does that quoting now.
habtm insertion with ARel integration.
habtm delete method integrated with ARel.
Call to_sql method on ActiveRecord::Relation instance not it's relation attribute.'
Override respond_to? in ActiveRecord::Relation to go with method_missing.
Cache arel_table when possible, use class method arel_table instead instance method.
Cache #arel_able when possible.
Inline initializer setup.
Use immutable relation objects to generate queries.
Remove sqlite2 build from CI recipe [#3066 state:resolved]
Use explicit method definition instead of metaprogramming.
Relation#joins! should know what to join instead of delegating to construct_join.
Use finder options as relation method names to provide more familiar naming. Use bang methods convention in methods that alter the relation.
Clean up relation joins when finding records with included associations.
Remove support for SQLite 2.
k, thats really slow, lets not
Cleanup route reloading in tests. Prefer with_routing over using ActionController::Routing::Routes directly
Remove group when building the relation, it will be added later if options[:group] is given.
Missing fixture template -- fixes AP tests
Bump pg gem requirement to 0.8.0. Build psql db with UTF8 encoding.
Adding a call to logger from params_parser to give detailed debug information when invalid xml or json is posted
Axe "best fit" generation support
Normalize route generation order: associations, yield block, then own routes.
Got tests to pass with some more changes.
Caches and cache clearing seems to actually work, but the actual architecture is kind of messy. Next: CLEAN UP.
More cleanup of ActionView and reduction in need for blocks in some cases:
Clean up ActionView some:
Skip isolation test tests when using MiniTest
Attempt to rewrite most of the highly coupled router segments tests
Corrected the use of rackup command from rackup to rackup config.ru
Kill routing timed tests
Don't use regular rinder on calculations since scoping order blows PostreSQL.
Use ARel's joins when building a query for finding records with included associations.
Accept Arel::Value in hash values and treat them properly.
Allow joining a StringJoin with another join relation.
Break up concerns for choosing what attributes should be serialized and the actual serializer
Use safe tmp dir
Updates to configuration: changed syntax to use config, added general configuration options
Updates to active record basics: reworked what is section, added CRUD methods, added migrations blurb and link to migrations guide
Update instructions for contribution guide.
Ensure collections are not treated as nested resources.
make mysql and postgresql rebuild databases on every CI build, to prevent breakages such as collation and character set changing
Remove submodule
Made benchmarks submodule so it's easier to keep in sync
Allow superclass_delegating_accessor to take a block for initial set.
More perf work:
Got overhead down from 127 to 85. All tests pass:
Tentatively accept the ":as or :object, but not both" solution
Make large_collection 1,000 partials
Further experimentation. Was able to cut the cost of rendering 100 partials in a collection in half.
Add a few more benches
Add some more caching to the lookup
This change causes some failing tests, but it should be possible to make them pass with minimal performance impact.
Add tests for hm:t#push failures
Allow delegating to nil, because the method might actually exist on it
Rewrite hm:t#create tests using assert_no_difference and assert_difference
Remove unnecessary scoping for creating hm:t join record
Remove unnecessary scoping and validation checks from hm:t#create
Unify hm:t#create and create! implementation
Bug fix: Don't use #delegate to declare delegations when intentionally delegating to nil
Extract common dirty tracking methods in AMo
AMo overrides alias_attribute and manages aliasing all known attribute method matchers
Centralize attr method name concatenation in AttributeMethodMatch
Use less strict rules in generators lookup, so people can lay their generators wherever they want.
Move :with/:without check outside the method generated by validates_format_of
Add validates_format_of :without => /regexp/ option [Elliot Winkler, Peer Allan]
find_cmd should return the full path of the db command
Introduce grouped_collection_select helper.
Correctly handle offsets in Multibyte::Chars#index and #rindex.
Add tests for scoping schema_migrations index by global table prefix and suffix
Use table prefix and suffix for schema_migrations index.
Introduce validates_with to encapsulate attribute validations in a class.
Add support for errors in JSON format.
PostgreSQL: XML datatype support
raises an exception on habtm join table inserts if join table contains a primary key. Caches this check to save time on subsequent inserts.
raises exception (ActiveRecord::ConfigurationError with message) on habtm association creation if join table contains a primary key
AR should respect default values for MySQL BINARY and VARBINARY columns.
Deprecate router generation "best match" sorting
Only load db/schema.rb if it exists; otherwise, display a message to run db:migrate or remove active_record in environment.rb.
pare down core_ext dependency
Add rindex to ActiveSupport::Multibyte::Chars.
has_many :through create should not raise validation errors
make private_and_public_methods unmemoizable [#2372 state:resolved]
Support deep-merging HashWithIndifferentAccess.
Make sure link_to generates the form with the specified :href if any [#2254 state:resolved]
Allow ho:through#build when the owner is a new record [#1749 state:resolved]
Prevent overwriting of table name in merging SQL conditions [#2949 state:resolved]
Enable has_many :through for going through a has_one association on the join model [#2719 state:resolved]
Removed duplicated tests [#3026 state:resolved]
Model#human_attribute_name now accept symbols [#3025 status:resolved]
Ensure ActiveResource#load works with numeric arrays [Grzegorz Forysinski, Elad Meidar]
Make sure association conditions work with :include and :joins [#358 state:resolved]
Active Resource recognizes 410 as Resource Gone now [#2316 state:resolved] [Jordan Brough, Jatinder Singh]
No longer require database name for MySQL to allow cross database selects.
Added both the documentation and a test case for the collection path name customization feature.
path_names could be used to customize collection actions too
Make ActiveResource#exists? work [#3020 state:resolved]
Added back support for destroying an association's object by id. [#2306 status:resolved]
Improving test coverage for Range#sum [#2489]
With multiparameter date attributes, the behaviour when empty fields are present is now coherent with the one described in the date_select documentation.
Add ability to set SSL options on ARes connections.
validate uniqueness with limit in utf8
Extract repetitive method
Uses &:foo
Added a uniqueness validation test that uses diacritics.
docrails [#8] changed old def test_ methods to new test(name, block) style in testing guide
.gitignore activesupport/test/fixtures/isolation_test
Remove unnecessary &block from Range#sum and add tests for (num..float).sum
Make enumerable test run stand alone
Optimize Range#sum only for integers [#2489]
Remove unused routeset method routes_for_controller_and_action in favour for routes_for [#3023 state:resolved]
Require test/unit in the generated test_helper for plugin [#1878 state:resolved]
Allow connect_timeout, read_timeout and write_timeout settings for MySQL [#2544 state:resolved]
Ensure hm:t#find does not assign nil to :include [#1845 state:resolved]
Allow to configure trusted proxies via ActionController::Base.trusted_proxies [#2126 state:resolved]
Support passing Redcloth options via textilize helper [#2973 state:resolved]
Serialized attributes should only be saved with partial_updates when the serialized attribute is present [#2397 state:resolved]
Get rid of parenthesize argument warnings
Refactored create_migration on model generator.
Setting usec (and nsec for Ruby 1.9) on Time#end_of_* methods [#1255 status:resolved]
Optimize Range#sum to use arithmetic progression when a block is not given [#2489].
Make http digest work with different server/browser combinations
Changed to use klass instead of constantizing in assign_ids generated method
Modified Rich Bradley's test-case to fail as part of suite and with a reasonable message
Setting connection timeout also affects Net::HTTP open_timeout.
Add a .tmp path
Added section to guide for validates with, which is scheduled for rails 3.  See related ticket at:
Make bench harness produce output that is easier to compare
Updates to benchmark harness.
Temporary fix to get our LoadError monkey-patch working with newer JRuby. We should probably remove MissingSourceFile and just monkey-patch LoadError instead of overriding LoadError.new.
Experimental: Improve performance of ActionView by preventing method cache flushing due to runtime Kernel#extend:
Cache controller_path on the AV instance to avoid needing to make additional calls back into the controller for each attempt (this was done because these calls were adding up significantly in partial rendering and showing up on profiles)
Use response_body rather than performed?
Rendering a template from ActionView will default to looking for partials only in the current mime type.
Cache some more things to improve partial perf
Went from 25% slower partials (vs. 2.3) to 10% faster. More to come.
Support a warmup for JRuby
Update minimal.rb to benchmark partials
Clean up partial object some more; replace passing around a block to a single block ivar
Clean up initializer and some of the internals of PartialRenderer
Ruby 1.9 compat: can't implicitly set instance var using block arg
Don't define a default primary key in the schema dumper.
MySQL: fix diacritic uniqueness test by setting the default character set and collation to utf8/utf8_unicode_ci
Don't call additional methods on builders passed to the atom_feed helper.
Add :redirect to the testable RJS statements [#2612 state:resolved]
Use Pathname for checking if sqlite path is absolute
Make sure db:drop doesn't fail when sqlite db is given by an absolute path [#1789 state:resolved]
Enumerable#sum now works will all enumerables, even if they don't respond to :size
Adding :from scoping to ActiveRecord calculations
Adding :from scoping to ActiveRecord calculations
Update truncate documentation / examples to more clearly demonstrate its actual behavior
Depend on rubygems 1.3.2
Users can now pass :branch for git plugins and :revision for subversion plugins [#2352 status:resolved]
Improved coverage for session_migration generator. [#3008 status:resolved]
HTTP proxy support
Allow content_tag options to take an array [#1741 state:resolved] [rizwanreza, Nick Quaranto]
Ensure hm:t#create/create! throws ActiveRecord::RecordNotSaved when the owner is new
Add test ensuring redirect_to uses the given protocol [#2886]
DRY migration's rollback/forward methods
Simplyfy validates_length_of and remove puts
validates_length_of with maximum should allow nil [#2309 status:resolved]
Allow radio buttons to work with booleans.
Add :include_blank option for select_tag [#1987 status:resolved]
Ensure db:drop:all doesn't error out on exception [#2997 state:resolved] [Anthony Caliendo]
Add rake db:forward - opposite of db:rollback [#768 state:resolved]
Polymorphic routes generates collection URL from model class [#1089 state:resolved]
Added rubygems to generators load_paths, but we only load generators from gems that are alraedy activated. This fixes the version problem and avoid silly conflicts.
Rename Rails::Generators::ActionORM to Rails::Generators::ActiveModel.
Renamed ActionController::Renderer to ActionController::Responder and ActionController::MimeResponds::Responder to ActionController::MimeResponds::Collector.
First pass at making partial rendering an Object. More cleanup to come.
remove duplicate call to stringify_keys [#2587 status:resolved]
Add test to verify that the new :inverse_of association option will indeed fix the validation problem for a belongs_to relationship that validates_presence_of the parent, when both the parent and the child are new (in-memory) records. Also check that this works when the parents adds child via nested_attributes_for.
Adds a :file delivery_method to save email to a file on disk
Tidy up the AR tests, removing duplicates and making tests clearer / more focussed.
Add option to routes task to target a specific controller with CONTROLLER=x.
Default sent_on time to now in ActionMailer
AS guide: changes the example in explanation of MissingSourceFile
AS guide: explains extensions to NameError
Ruby 1.9 compat: fix route recognition encoding test
Ruby 1.9.2: implicit argument passing of super from method defined by define_method() is not supported
Don't rely on T::U::TestCase#name
Ruby 1.9.2: Object#id is gone now
Removed unused methods.
Removed useless OR.
Ruby 1.9 compat: fix for SSL in Active Resource
Rename find_by_parts and find_by_parts? to find and exists?
Don't scope order in calculations.'
More work on removing plain SQL from associations and use ARel instead.
Allow rails templates relative to the current path to be given.
Renamed presenter to renderer, added some documentation and defined its API.
Encapsulate respond_with behavior in a presenter.
Add destroyed? to ActiveRecord, include tests for polymorphic urls for destroyed objects and refactor mime responds tests and documentation.
Add nagivational behavior to respond_with.
Updated vendored thor to 0.11.5
Get all ActionController partial rendering to use ActionView's partial code. Consequences:   * It is not possible to always pre-determine the layout before going to ActionView.     This was *already* broken for render :partial => @object, :layout => true. This is     now handled by overriding render_to_body in layouts.rb and manually injecting the     partial's response. This needs to be done in ActionController since ActionController     knows enough to get _layout_for_option. There is probably a better abstraction here.   * As a result, all partial rendering can correctly restrict their layouts to the mime     type of the rendered partial. This could have previously caused a bug in some edge cases.   * If other layout-like options are added, they might need to add special code for the     case of render :partial. We should try to think of an alternate solution, if possible,     but this works for the cases we know of now.
Whitespace
Continue reworking the partial path.   * TODO: Review ActionController calling render_template for certain partials.     Might we be able to save logic by always delegating to AV's render_partial?
Modify various partial methods to carry along the block that can be passed in with render   * _render_single_template, which renders a template without layout   * _render_partial_unknown_type, which renders a partial of unknown type     (the entry method for most partial rendering; supports strings, objects, and collections)   * _render_partial_object, which renders a partial for a single object.   * extracted _render_partial_path so it can be used to render the spacer without going     through the public render :partial
Replace _render_template_with_layout with _render_template since the layout is optional
Some more AV refactoring:   * remove no longer used _array_like_objects   * _render_content_with_layout renamed to _render_content since layout it optional   * remove check for optional layout before _render_content
Start cleaning up partial path
This is handled by the resolver now
Clean up render @object a bit more.
Improve a path in _render_partial
Remove file that doesn't seem to be used anymore
Move AbstractController to a top-level component
ActionController::Metal#to_rack converted to #to_a to match normal rack convention
Update _render_options to reflect the fact that they're public
Rename /base to /metal and make base.rb and metal.rb top-level to reflect their module locations
rename ActionController::Http to ActionController::Metal at Josh's suggestion
Replace _action_view with view_context to reflect that it is public and that it does not need to be an ActionView instance
replace _render_*_from_controller with render_* as they are intended to be public
Regenerated gemspec for version 0.1.0
Adding jeweler for gem management
Some databases (e.g. Oracle) does not allow "AS" between table name and table alias name, for others it is optional
fixed test_foreign_key_violations_are_translated_to_specific_exception to work with Oracle
modifications to Oracle connection.rb setup
fix schema_dumper_test for Oracle as it supports precision up to 38
changed default connection to localhost orcl database
always sort lists by id before comparison to avoid errors because of different sorting of same results (on Oracle database)
support for assert_queries when using Oracle adapter initialize $KCODE to UTF8 when JRuby is used
added Subject#after_initialize to be the same as Topic#after_initialize
Oracle can store integers with any :limit
Oracle adapter recourns count() as numeric (not string)
Oracle adapter gets Time or DateTime value already with timezone
Oracle generates different ORDER BY fragment
Oracle adapter returns Time value for DATE columns
added :order to find :all as otherwise Oracle tests were failing
Oracle needs sequence value for primary key in INSERT statement
Oracle adapter returns numeric (not string) value after SUM
Oracle saves empty string as NULL
1=2 is invalid expression in Oracle SELECT
added :order option to find :first methods and associations as otherwise Oracle tests were failing Oracle stores '' string as NULL Oracle cannot have identifiers larger than 30 characters added missing fixtures to test setup method
added additional objects necessary for OracleAdapter specific tests if OracleAdapter is used then use VARCHAR2(4000) instead of CLOB datatype as CLOB data type has many limitations in Oracle SELECT WHERE clause which causes many unit test failures
modified native_oracle/connection.rb to run it with oracle_enhanced adapter
Ruby 1.9.2 compat: Array#* uses to_str instead of to_s to join values since Ruby 1.9.2
Use send instead of instance_eval
Dont require thin as the thin rack adapter is now upstream
AS guide: documents extensions to LoadError
AS guide: extensions to NilClass are documented in "Extensions to All Objects"
AS guide: extensions to (True|False)Class are documented in "Extensions to All Objects"
Allow validations to use values from custom readers [#2936 state:resolved]
Make sure javascript_include_tag/stylesheet_link_tag does not append ".js" or ".css" onto external urls [#1664 state:resolved]
Revert "fallback_string_to_date sets Date._parse comp arg to true, so that strings with two-digit years, e.g. '1/1/09', are interpreted as modern years" [#2019 state:wontfix]
Extract generic attribute method generation to AMo
whitespace
Added reset_attribute! method to ActiveRecord::AttributeMethods::Dirty which will reset an attribute to its original value should it have changed.
Modified ActiveRecord::AttributeMethods to allow classes to specify attribute method prefixes and/or suffixes. Previously only suffixes were allowed.
Add simple support for ActiveModel's StateMachine for ActiveRecord
fallback_string_to_date sets Date._parse comp arg to true, so that strings with two-digit years, e.g. '1/1/09', are interpreted as modern years [#2019 state:resolved]
quoted_date converts time-like objects to ActiveRecord::Base.default_timezone before serialization. This allows you to use Time.now in find conditions and have it correctly be serialized as the current time in UTC when default_timezone == :utc [#2946 state:resolved]
Added collection iteration to AR::Relation.
Don't use local vars before testing its conditional.
Track generated attribute methods in a separate module
Remove legacy processing and content_length
Update cache_control to be a Hash of options that is used to build the header.
Ruby 1.9: fix encoding for test_file_stream
Ruby 1.9: fix Content-Length for multibyte send_data streaming
Extract String#bytesize shim
SQLite: drop support for 'dbfile' option in favor of 'database.'
Updates/additions to contributing guide
AS guide: explains a few extensions to Integer
Added ActiveRecord::Relation tests. Allow Relation to accept conditional hashes and arrays like #find does.
Added tests for nested resources.
Allow respond_with to deal with http verb accordingly.
Start separating primary key concerns
Make sure we use send for the default attribute method body because the suffix maybe an invalid method name
Make sure to reset defined methods after calling attribute_method_suffix
Move attribute_types_cached_by_default into attribute methods reading concern
Don't need to pass attr_name to evaluate_attribute_method anymore
Undefine id and let it automatically be generated
Redirect method missing for primary key to read_attribute
ditto for id=
Don't define id_before_type_cast, just let it be generated on its own
Move id attribute methods into their related concern
Restore DangerousAttributeError
Wrap up attribute method reset concerns in 'undefine_attribute_methods'
read_attribute is always available through attribute
cache_attributes is related to attribute reading
Generate methods for all suffixes
Concernify AR AttributeMethods
Remove any resource logic from respond_to.
Removed default_internal, which was preventing round-tripping of some encodings.
Generator config should be commented by default
Remove whitespaces from the default mailer file
AS guide: explains Symbol#to_proc
Revert "Methods invoked within named scope Procs should respect the scope stack. [#1267 state:resolved]"
Remove last TODO.
Add a couple more tests to respond_with.
Added respond_with.
Added tests for respond_to class method.
Ensure that the proper accept header value is set during tests.
Improve request test coverage by adding formats and negotiate_mime tests.
Remove Mime::ALL from Mime::SET.
Refactor even more Responder. Move mime negotiation to request and added respond_to class method.
Refactor Responder to only calculate available mime types. Those are sent to the controller that knows what to do with it (render a block or call default render).
Add support for error_messages_for(@obj)
Always use application generator to run templates.
Ensure that not namespaced generators also load RAILS_ROOT/lib/templates files.
Ensure that developers options are overwritten by user options.
Ignore everything under test/fixtures/public/absolute
AS guide: explains File.atomic_write
Allow templates for non namespaced generators too.
Revert "Added callback details in "supported options" of has_many association"
Revert asset tag changes
i18n guide: removes some related for 2.2
i18n guide: minor tweaks
Updated vendored thor to 0.11.3.
Do not try to use thor gem.
make pass through error code configurable [#2817 state:resolved]
Dasherize XML root by default to avoid invalid tags "<admin/posts>...</admin/posts>" [#2875 state:resolved]
Patch to ActiveModel's (and ActiveRecord, by association) XML serialization: If two parameters are present in Procs supplied to to_xml's :procs option, the model being serialized will be passed as the second argument [#2373 state:resolved]
Performance: cache/reload arel relation when possible to speed up things.
Removed unused local variable.
Introduced ActiveRecord::Relation, a layer between an ARel relation and an AR relation
Solving merge conflicts.
Allow nested and multiple fallbacks for generators.
Change attributes default type to array to allow order to be preserved.
Update db:sessions:create to use the proper generator.
Ruby 1.9.2 compat: name method was renamed to __name__ since MiniTest 1.4.x [#2922 state:resolved]
Ruby 1.9.2 compat: Use File#expand_path for require path because "." will not be included in LOAD_PATH since Ruby 1.9.2 [#2921 state:resolved]
Clean up validation example
So you can require 'activemodel'
AMo conversion helper
Kill AMo Base
Improve AMo observing docs
Add wrap_with_notifications helper to AMo observing
Kill AMo ivar attributes helper
Vendor the bundler project
First effort at new Ajax helpers
Performance boost for AR#create
Removed legacy test.
Insert missing word in callbacks documentation.
Rename ActiveRecordHelper to ActiveModelHelper
Finish convert_to_object updates
Update some tests and add a to_model to form helpers
Define ActiveModel API Compliance
Add some simple examples for unconventional AMo and AP use
Move default_form_builder to ActionView so it'll work in environments not using ActionView::Base
Separate ActionView::Context so something else can easily be made into an AV context
Simplify required "ActionView compliant" API
Minor cleanup to Getting Started for 2.3.3
* don't include String#% for Ruby 1.9 * raise a KeyError exception for missing named interpolation args (like Ruby 1.9 does) * raise an ArgumentError when mixing named and unnamed placeholders (like Ruby 1.9 does) * improve docs and comply a bit more w/ Rails names/conventions
redirect_to forwards options to url_for if it is a Hash (the example with articles_url does not work indeed because of that), understanding :params is a particular case of that
The redirect_to method in ActionController supports the :params option, however this is not mentioned in the documentation. This commit adds this. It includes an example and a brief description of the :params option.
minor HTML and formatting fixes
fixed typo. meaning was opposite of intent.
Added ActiveRecord::Base#(where|join|project|group|order|take|skip) methods.
Modified rake tasks to use new app generator structure and updated Thor version.
Update vendored Thor to have latest actions updates.
Add primary_key option to belongs_to association
AS guide: documents extensions related to instance variables
Implemented generaators fallbacks.
More documentation about methods taking blocks.
Document that after_create can take a block.
Change generators configuration to have a hash style.
Add some missing dependencies
Centralize commonly used parts of AS in ActionController into action_controller.rb
Add a form hook to erb scaffold. Customize and go!
Added source_paths to rails generators. If a template is added to RAILS_ROOT/lib/templates/base/generator it will be used. For example, to customize edit.html.erb template on scaffold, just add a customized copy at RAILS_ROOT/lib/templates/erb/scaffold.
ActiveSupport Hash optimizations [#2902 state:resolved]
Change false to :verbose => false as in new Thor version.
Allow nil and false to be given as configuration values and avoid creating unecessary hashes.
Allow namespaced configuration on generators.
AS guide: documents with_options
Refactored some generators to make use of improved invocations on thor.
AS guide: fixes internal link
AS guide: documents Object#returning
Updated vendored Thor to 0.11.1 and update Rails::Generators.
Add version to thor frozen gem.
Copy Thor files instead of using as a submodule.
Vendorized Thor.
Added a generator generator.
Use map! instead of map for <association>_ids
Ensure non timestamped migrations are generated properly.
Add some attribute readers to migration module.
Add hooks for integration and performance tests.
Remove generator environment until we have a gem manifest.
Optimize <association>_ids for hm:t with belongs_to source
Make explicit that references and belongs_to types have nil as default value.
Always allow params to be skipped on action orm in generators.
Do not require options on class_option.
Cache source root in a rails specific variable.
just removes a blank line
AS guide: documents Object#try
Solving merge conflicts.
Rename method to a more obvious name
AS guide: explains Object#tap
Add observing hooks to ARes
Integrate AMo XML serializer into AR
AS guide: class objects are not duplicable either
class objects are not duplicable either
AS guide: documents duplicable?
Switch scaffolding templates to HTML 5 doctype
Updated migration documentation to reflect default for UTC timestamped migration names
Do not clean up frameworks on generators environment, otherwise initializers, gems and plugins might not be loaded properly.
Make it so AR attributes which conflict with object-private methods (e.g. system) don't 'randomly' cause NoMethodErrors
Action Mailer guide: revised a couple of links, thanks to Kyle Mathews
Add the new generators environment and update commands.
Generators are configured on initialization if RAILS_ENV=generators.
Added config.generators with tests.
Use the i18n gem if present instead of vendor code. [#2871 state:resolved]
Callback chain stops on *true* block result (rdoc).
Ruby 1.9 style String interpolation support for lower ruby versions. Thanks to code from Masao Mutoh's GetText gem. [#2870 state:resolved]
Added callback details in "supported options" of has_many association
updates work status of fxn
Get Initializer tests running without requiring parts of Rails being loaded first
Reapply Rails::Application::Path tweaks
Use active_support/mini since we just need inflections.
Make specs pass on Ruby 1.9.
Load generators from user home and show a error message if they can't be loaded.
Allow scaffold controller to load action_orm files on demand.
Ensure that rails templates methods are invoked with the proper extensions [#2531 status:resolved]
Use the proper shebang when using Ruby 1.9 or jruby or windows.
Make  generators test pass with latest Thor version
Search for generators on vendorized plugins and gems.
Removed invoke_if and allow hook_for to accept boolean options.
Remove update_js from Rakefile and the uneeded railsgen.
Integrate AMo JSON serializer into AR
Initial extraction of AMo xml serializer
Ensure JSON serializer includes model naming
Add some tests for no_color! behavior.
More tests for rails generators and lookup.
Removed remaining old generators files.
Plugin generators now reflect new generators sutrcture.
Added lookup to generators.
Revert "Compact the way application paths are defined"
Revert "Modify the Rails::Application::Path object to allow for more concise path definition."
Added tests for the :install_gem_spec_stubs initializer
Wrote tests for the :check_ruby_version initializer
Adds support for def self.setup in isolation tests for setup that should be run only once in the parent
Compact the way application paths are defined
Modify the Rails::Application::Path object to allow for more concise path definition.
Allow symbols on routes declaration (:controller and :action values) [#2828 state:resolved]
Removed unnecessary calls to image_path and hash lookups [#2827 state:resolved]
My suggestion to fix ticket 2401 [#2401 state:resolved]
wycats forgot a +1, so I added it [#2749 state:resolved]
make #inspect if zero length duration return '0 seconds' instead of empty string [#2838 state:resolved]
Adds a video_tag helper for the HTML5 video tag (similar to how the image_tag works) (tests included); removes a duplicate test line for image_tag; adds boolean attributes for video tag to tag()'s boolean attributes
Only check for built extensions on gem dependencies that are in vendor/gems. [#2825 state:resolved]
Make color optional.
Make invoke output white and use padding.
routing guide: removes misleading full stop, thanks to steven_noble
migrations guide: updates link to foreign_key_migrations plugin, thanks to holli
Add update tasks.
Updated rake tasks.
Updated commands.
Rename a wrongly named file.
rm -rf rails_generator/generators
Tests for scaffold generator.
Added stylesheets controller which is invoked by scaffold.
Rename ControllerNamedBase to ScaffoldBase and move ActionORM helpers.
Added tests to scaffold controller.
Added test unit files for scaffold_controller.
Added scaffold views to scaffold controller.
Make scaffold controller generate agnostic code and mark some hooks as required.
Added Rails::Generators::ActionORM to hold ORM methods necessary to build a generator.
Added comments to meta programming code.
Ensure both migration and routes are removed on revoke.
Put migration methods into a separate folder and let just ActiveRecord dependency in ActiveRecord models.
Added controller  named base.
Removing unecessary class methods.
Added scaffold_controller.
Show second level invocations on usage.
Started with scaffold controller and added remove_hook_for.
Patch FormTagHelper so that when a form tag is created, the div which holds the form authenticity token is set to display:inline [#2846 state:resolved]
Create is now powered by Arel. Removed methods that are no longer used.
Allow SQL strings to insert query. Insert should better return engine's result.
JSON.escape returns UTF-8 strings
uses Hash#except/slice
Forgot to commit the new file. This is slightly embarrassing.
Apparently stdlib isn't std enough
Modify isolation test to require a file not in use anywhere in Rails
Updates CI to use latest mocha
Original cache objects should not be immutable [#2860 state:resolved]
Added AR:B#dup method for duplicationg object without frozen attributes [#2859 state:resolved]
Small refactor to update_all.
ensure Inflector.camelize works with symbols [#2856 state:resolved]
Move mocha down below initial T::U require and bump version to 0.9.7 [#2858 state:resolved]
Accept Symbol for contoller name [#2855 state:resolved]
Crazy hacks to get the Isolation testing module to work on non forking environments
Revert "Revert "Generate proper :counter_sql from :finder_sql when there is a newline character immediately following 'SELECT' [#2118 state:resolved]""
Bump up the version to 3.0.pre
Add #concat to Rails::Application::Path
Test that builtin_directories is only used in development mode
Created AS::Testing::Isolation which runs each test case in a separate process.
Require core_ext/kernel/requires in test_help to providing #require_library_or_gem
Stop the initializer from blowing up when builtin_directories is empty
Remove stray checks for Rspec in the testing setup.
Changed ActiveRecord::Base.human_name to underscore the class name before it humanizes it
Small fix to plugin generator.
Simplifying resource generator.
Added singleton support to resource controller.
Added tessts for resources generator.
Added ResourceGenerator.
Use inject_into_file instead of gsub_file (the first is reversible)
Added migration and session_migration generator.
Move file action only to app generator.
Added migrations and make base generators be lazy loaded.
AS guide: added section "Silencing Warnings, Streams, and Exceptions"
Show invoked generators options on meta generators.
Add model_subclass generator with deprecation warning.
Added parent option to model generator.
Output invocations.
Rename invoke_for to hook_for.
Add a fixture replacement hook to TestUnit model generator.
Initial scratch of model generators.
Do not generate aliases automatically to avoid conflicts.
Make Observer generator agnostic.
Make text_area_tag escape contents by default.
Make filter_parameters work correctly with array parameters.
Starting to replace scattered path configuration settings with the path object
Finished a first stab at the Rails application path object.
Update paths to support an explicit root and multiple paths per category
Simple initial Paths impl
Checkpoint. Added a bunch of TODOs and some changes after further going through the initializer
Spec --no and --skip.
Add invoke_iff and invoke_for to the public interface.
Added invoke_if and make use of it on controller generators.
invoke_for now uses  Rails built-in lookup.
Added Rails::Generators.find_by_namespace.
Update some USAGE files.
Use type :default for invoke_for, this allows --no-test-framework and --skip-test-framework to be given.
Added Controller Generators.
Small fixes.
Clean up class collisions check and a class method helper.
Class collision checks.
Added HelperGenerator.
Added integration and performance test generators.
Improving generators runner.
Make sure the wrapped exceptions also have the original exception available.
Translate foreign key violations to ActiveRecord::InvalidForeignKey exceptions.
Translate adapter errors that indicate a violated uniqueness constraint to ActiveRecord::RecordNotUnique exception derived from ActiveReecord::StatementInvalid.
Handle missing javascript/stylesheets assets by raising an exception
Try speeding up rails booting
Run the block passed to #run first when initializing
ignore absolute tmp directory
send_data should set Content-Length as a string
Remove deprecated implicit ivar assignment
Missed file from the previous commit 92b229e1251d7d3578c3f73e8185972354e76436
Make performance tests work again
More tests for mailer.
Mailer tests.
More code refactoring.
Refactoring out descriptions.
Added Mailer generaator template engine and test framework agnostic.
Added class collision checks.
Added observer generator.
Make tests pass again after merge.
Tests for metal generator.
Tests for plugin generator.
Get base_name from class_name.
Removed TODOs.
Clean up plugin generator.
Separate Rails module methods, the config object, and the initializer into separate files.
Updated Arel submodule.
If the class or method isn't defined use "id" as primary_key.
Refactoring: Calculations now use construct_finder_sql instead they own method.
Resurrect threadsafe!
Tests pass, AWDoR passes, and a fresh app boots.
Got all the railties tests to pass, rails must boot!
Get more tests to pass
Get initializer_test.rb to pass with the new initializer.
Started making progress on implementing a new initializer.
Initial initializer impl
Starting to write the new initializer
Passes in 1.9
Small changes to get 1.9 passing (for the most part)
Removed unused methods.
Arel now buils SQL queries for associations. Removed old code and updated Arel version to support this.
Build valid SQL query when using PostreSQL with given order and DISTINCT ON clause. TODO: refactoring to clean up components.
Arel updated. All tests passing for SQLite3 and PostgreSQL.
Removed old commented code
Build valid SQL query for SQLite3 and PostgreSQL when updating records with limited conditions
Delete uneeded USAGE file.
Added plugin generators (and a couple of TODOs).
Splitting base into several files.
TestUnit, you have a home.
Change current sstructure.
Add GeneratedAttribute.
Removing template runner old specs.
NamedBase.
Added a generator file responsable for loading generator files.
Added metal generator.
Use Rails generators files organization.
Use Rails default banner.
Revert "Generate proper :counter_sql from :finder_sql when there is a newline character immediately following 'SELECT' [#2118 state:resolved]"
Added example of using shorthand in create_table.
Generate proper :counter_sql from :finder_sql when there is a newline character immediately following 'SELECT' [#2118 state:resolved]
Ensure table names are quoted while renaming for sqlite3 adapter [#2272 state:resolved]
guides -> Guides in title of home page
Ensure hm:t#create respects source associations hash conditions [#2090 state:resolved]
Add content_for?(:name) helper to check if content_for(:name) is present [#1311 state:resolved]
Use stubbing instead of sleep() in File store cache tests
Add expiry support File cache store [#1693 state:resolved] [Roman Shterenzon, Pratik Naik]
Remove class level conditions and ensure that RAILS_GEM_VERSION is commented when freeze.
More tests to app generator.
First stub at app generators test.
Testing Guide: fix some grammar errors and typos
Skip Rails::VERSION warnings.
Removing duplicated files.
Moving tests to new generators schema.
Starting test structure.
No more application generator.
Template wwas not found? Raise an error.
Secret key generator. You are gone.
Kick boot_test back to life.
Refactor shebang to a class method, so other generators can use it.
Require open-uri, we will need it.
Do not show status when calling gsub_file or append_file.
Change --freeze alias from -f to -F to avoid conflict with --force.
Apply template when required.
Freeze rails when required.
Update templates to be backwards compatible.
Raise an error if invalid value for database is provided.
When rails is invoked without args, be sure that help is called.
Updated namespace so help can show usage properly.
Updated dependency, so we can remove extra code.
bin/rails uses the new generator.
Added a couple more options to app generator.
Allow user to skip ActiveRecord, TestUnit and/or Prototype. However any customization should be done with templates.
Small alias typo.
Moved prototypes files to where they should be.
Added usage to app generator.
Send new files too.
Add base and port actions. Not functional though.
Move prototype files to javascripts folder.
Send new files too.
App generator is working using new generators (except for templates).
More tasks into app generator.
Initial scratch of application generator.
Add documentation for qualifying table names in conditions hashes
Turn on autolist for debugging also
Friendlier runtime exception if delegatee is nil
Delegated methods report the expected file/line in backtraces
Minor ActionView cleanup
Use errors[field] instead of errors.on(field)
Add basic JSON serializer to AMo
Add simple attribute implementation backed by ivars
Simplify AMo validation attribute reader
Extract the layout proc into a method, and write documentation explaining what the proc does in various cases.
Remove one more note about deprecated behavior
Drive the final stake through @content_for_*'s heart!
rdoc spelling fix
Cleaning up more tests and code that needed to work in both old and new base
Cleaning up if defined?(ActionController::Http) blocks from the pre new base era.
Remove some defined?(Http) checks
Rename path.rb to resolver.rb
Rename ActionView::Template::Path ActionView::Resolver
Updated require for AMo move
Finish making pending tests pass
RJS doesn't render with an HTML layout by default
Forget about auto scope, it's always explicit.
Move model naming into ActiveModel
Convert line breaks.
Remove a stray process2 require
Move the exceptions for missing template into Compatibility in prep for moving it into a "not-production" module
An exception is raised if a layout is missing only if the layout is missing for all mimes
Exceptions now in an exceptions module
Remove exceptions from AbstractUnit so they work in real life
More _write_layout_method removal
Whoops, I guess we broke layouts ;)
rm -r controller/base!
Get all of rake tests to pass
Get the new base tests to pass
Get the AR integration tests to pass
Keep ActionMailer using the old layouts code until it gets refactored.
Get tests to run (with failures) without old base around
Require missing file in AS
Finish making things pass with updated internal content_type semantics
Add :concat option to asset tag helpers to force concatenation.
moves reopening of core classes to add generic stuff from Action Pack to AS/core_ext and adds tests
Bytes calculation speed up
AS guide: renames a variable
AS guide: typo
AS guide: explains to_query
AS guide: 2nd revision of the explanation of to_param
AS guide: explains to_param
AS guide: adds another example to Object#metaclass
uses Object#metaclass and Object#class_eval in a few spots
AS guide: explains acts_like?
AS guides: explains Object#metaclass and Object#class_eval
AS guide: rewords a sentence
Leave the quoting part to ARel
HasOneThroughAssociation still shouldn't derive from HasManyThroughAssociation.
HasOneAssociation inherits AssociationProxy since it shares nothing with BelongsToAssociation.
Move observing notify helper into AMo
Integrate ActiveModel::Observing into ActiveRecord
allow absolute paths for the asset caches
Arel updated
Allow strings as update assignments
Use array of orders instead of string concatenation
Initial update_all migration
Document and clean up HideActions and Http
Removed unnecessary code
Document ActionController::Helpers
Cleaned up the #default_helper_module method to make better use of #helper instead of duplicating code.
Revert "Use ARel in SQL generation through associations"
Use ARel in SQL generation through associations
Use ARel in SQL generation through associations
Adding "test" to the lib directory when running action pack tests on new base
Simplify helper use of ActiveSupport::Dependencies, and use super better for in #helpers
Whitelist the methods which are called by multiparameter attribute assignment.
Clean up AbstractController::Logger and write documentation
Cleaning up and documenting AbstractController::Layouts
Write documentation for AbstractController::Helpers
enable *real* IO parsing for the libxml, nokogiri and rexml backends [#2659 state:resolved]
Sanitized the id generated by text_area_tag helper method. text_area_tag('item[description]') should return: <textarea id="item_description" name="item[description]"></textarea> instead of: <textarea id="item[description]" name="item[description]"></textarea> The old id was causing HTML validation failures.
Made label target radio button tags with values. Radio button now respects inherited :index options when generating id.
disabled base_test.rb tests that were not Oracle compatible (TIME datatype is not supported on Oracle, UPDATE does not support ORDER BY) _before_type_cast on Oracle returns Time and not String added Oracle specific schema definition that was missing for test_default_values test
1.9 compatibility - don't pass an array as the from address as this ends up generating invalid SMTP commands.
PostgreSQL adapter should call thread safe quote_string function
Pull autoload fix from 2-3-stable
A test to show that http_authentication needs to fail authentication if the password procedure returns nil. Also includes a fix to validate_digest_response to fail validation if the password procedure returns nil.
Further cleanup of callbacks
More pruning of NewCallbacks
Lazier Rakefile requires to avoid needing full rake gem on 1.9
Uses Hash#symbolize_keys
Prefer JSON.encode(value) to value.to_json
each yields per message not per attribute
Simplify json decoder backend lazy load
Add #element and #collection to ModelName
Update for Active Model yielding per error not per attribute
Make use of AS::Concern in ActiveResource
Setup ActiveResource autoloads
Properly require ActiveModel validation dependencies
More documentation work on AbstractController
Writing comments to AbstractController
Remove extraneous response_obj
Ruby 1.9: fix json encoding
Explicitly qualify constants in BasicObjects
Remove duplicate
Use as_json instead of rails_to_json
ActionPack components should no longer have undeclared dependencies.
JSON: split encoding and coercion
Cleaned up Apache .htaccess section of main README
Minor spelling/grammer changes in associations
Don't rely on Rails.logger
Add notes to TZInfo bundling task
Kathmandu TimeZone: reference Asia/Kathmandu zone directly instead of through linked timezone
Load correct version of TZInfo
String #to_time and #to_datetime: handle fractional seconds [#864 state:resolved]
Update bundled TZInfo to v0.3.13
AS guide: explains blank? and present?
Work around a gem dependency edge case that prevents Rails from booting..
Pull in time extensions also
Prefer sibling action_controller
Some general cleanup to the rdoc for date_select
Correct typo on add_month_numbers option (From: Sam Pohlenz <sam@sampohlenz.com>)
YAGNI Method references. Deprecated
Add explicit requirement in a few cases it was missing.
Further cleaning up new callbacks
Simplify callbacks to use less metaprogramming
Updated Arel submodule
Return delete result instead Arel object
Set ActiveRecord as Arel engine on load.
No need to specify the engine now that it is in active_record.rb
Refactors to work with latest Arel implementation.
Get all the callback tests to work on new base
AS guide: explains array grouping
Ensure ERB source begins with the encoding comment
simplifies a sentence
Make ApplicationController extend from AC::Base
fix for IE incompatibility of :disable_with in submit_tag
Schema dumper now records scale 0 decimal columns as decimal not integer.
Updated the db:structure:dump task to properly format the pgdump command when you have multiple schemas in your schema search path.
better db:create for mysql - do not assume root user
AS guide: explains extensions to Array for accessing elements
AS guide: adds see also to explanation of Class#remove_subclasses
AS guide: small rewording
Documenting :inverse_of options for associations.
AS guide: explains class removal
use "Subclasses" in title for coherence with method name
AS guide: explains Class#subclasses
just a typo
explains superclass_delegating_accessor
Sidestep need for Kernel#silence_warnings
Depend on Hash#slice and Object#try
Tolerate missing logger
Use URI and Inflector
html-scanner uses Set and class_inheritable_accessor
Depend on Hash#diff extension
AM::StateMachine autoloads
Revert "Only save the session if we're actually writing to it [#2703 state:resolved]"
Avoid loading the ActiveRecord::SessionStore class on initialization if it is not in use [#2737 state:resolved]
Use AS::Concern in ActiveModel
Make sure tests pass action name to Controller.action()
Support Object#filter method for before/after filters
form helpers guide: revises a TIP on resources
Added TIP about resources when using the short form_for syntax.
Link titles are generally capitalized.
Removed the Javascript. It conflicts with the highlighting code.
Grammer: 'a' => 'an' where applicable.
Clarification in an example. Grammar correction.
Semi-fix for Firefox code Copy and Paste The underlieing problem is that Firefox ignores the css 'white-space:pre' rule when actually copying and pasting. This Javascript turns newlines into <br /> tags inside the code containers.
AS::Concern redefines "include" to lazy include modules as dependencies
AS::Concern includes InstanceMethods module if it exists
Linked to the IRC channel.
Capitalized Rails where appropriate.
Corrected path to standard.
Corrected paths to standard.
Typo and Style Corrections
Ruby 1.9: ERB template encoding using a magic comment at the top of the file
Ruby 1.9: flushing the output buffer preserves its encoding
Reinstate pending output buffer tests
Ruby 1.9: use UTF-8 for default internal and external encodings.
Allow expressions on literal SQL fragments
Don't quote the table if it isn't a table name. By doing this Arel supports using custom SQL FROM like: edges USE INDEX(unique_edge_index)
This should be performed by the engine, if it does not exists, then create SQLLiteral not Attribute.
Break up DependencyModule's dual function of providing a "depend_on" DSL and "included" block DSL into separate modules. But, unify both approaches under AS::Concern.
Revert "Revert "Whitespace!""
Only save the session if we're actually writing to it [#2703 state:resolved]
The FlashHash and friends causes a lot of needless session storing, when we know for a fact that there's no content in the flash. By not storing the empty hash in the session we save a lot of communication with the various session backends, while still keeping the same interface to the flash. [#2703 state:resolved]
Memoize cookies so that updates to cookies are available in the current request. [#2733 state:resolved]
Added support to new callbacks for around filter object that respond to :before & :after used in before|after callbacks
Added support to new callbacks for around filter object that respond to :before & :after
Added a compatibility layer to get legacy filter tests to pass on new base
Added hook point in new base #send_action which does the actual action method dispatching
Add the ability to prepend filters to new callbacks
fixes markup, thanks to Joseph Pecoraro
Make the default 500 Internal Server Error page more friendly. Many people don't know they're supposed to look in the log files. [#2716 state:resolved]
ensure initialize_database_middleware doesn't use ActionController if action_controller framework is not enabled [#2680 state:resolved]
Ensure Memcache local cache returns duplicated values [#2302 state:resolved]
Add % to RESERVED_PCHAR [#2574 state:resolved]
ActionController::Flash::FlashHash.use now returns either the value corresponding to the passed key or itself when no key is passed [#1792 state:resolved]
server command help inconsistency fix [#2685 state:resolved]
Add an model_subclass generator.
Reduce the cost of using ActionController::Http significantly by:
Rename tools/profile_requires -> tools/profile since we do both require and ruby-prof profiling.
add a metal to minimal examples for comparison
Get all template tests passing on new base
Got all the dispatch tests running on new base
Add controller/integration_test.rb to the new base test runner
Get controller/test_test.rb to pass on new base
Add html-scanner to the new base set of autoloads
suggests using Hash#(except|slice) to be able to implement access logic where attr_(accessible|protected) is not enough
Get controller/view_paths_test.rb to pass on new base
In new base Rails2Compatibility, move @template assignment to right before the first action is processed.
Remove a no-op from view path tests and removed a Symbol#to_proc
Removed lib to avoid any conflict in merge
Support Method callbacks
Make Filter#filter work with around filters
Make cookie store tests pass with the new base
The original example was correct.
typo in AS
Don't want Rack's Content-Type default header though
Construct a single HeaderHash. Speed up assign_default_content_type_and_charset
Compare Base with Http
a few details here and there in url_helper.rb docs
Updated examples to use latest config structure
Document the way BufferedLogger defines its methods.
Speed up Request#formats
runner class
performance guide: performance tests run in test environment, thanks to Nicholas J Kreucher
layouts guide: makes some app paths relative
associations guide: find_by_customer_id -> find_all_by_customer_id, thanks to Kai Krakow
in associations guide: exist? -> exists?, thanks to Peter Zlatnar
test depends on html-scanner
Make a couple more tests pass.
Slightly modify things to get content type matching working without breaking other code
AS guide: documents class attribute accessors and inheritable attributes
Remove unnecessary asset_host initialization
Add asset_host to Rails2Compatibility
Modify render_test's determine_layout to match RJS
Restore some missing test constants
Move html-scanner tests one dir up
Created an ActionController::Renderers::All that includes all the default render options (:json, :js, :rjs, :xml)
Move testing_sandbox to test/lib
Cordon off missing filter methods
Got controller/render_js_test.rb to pass on new base
Add missing selector_test to the list
Port cookies to new base
Add Translation to the new base
Get controller/render_other_test.rb to pass on new base and fixed a bug in new base with regards to rendering layouts.
Added render_other_test.rb to the new base test runner
Add some more tests to the test_new_base_on_old_tests task
Make logging_test pass with the new base
Remove gratuitous filter_chain internal testing. Not part of the API and other tests are sufficient to catch regressions.
Verbose test_new_base_on_old_tests
Move active_record_unit to shared load path
Move fake controllers and models to a common load path
Set ENV['NEW'] to run any test task with the new Base.
Complain if new_base/abstract_unit was already loaded
Move misplaced test
Use super wherever possible in ActionController::Helpers#helper
Get controller/layout_test.rb running on new base except for ActionController::Base.exempt_from_layout which is going to be deprecated.
Cleaned up the #render_to_body chain by extracting determining the templates to render to a separate hook point.
Add all the existing helpers related features to the new base
Move FilterParameterLogging to a stand alone module and make it work on new base
Add assert_select tests to the new base
Make assertion tests pass with the new base
Require ruby-debug from new_base/abstract_unit
Ruby 1.9 compat: don't rely on lexical scoping since the included block is called from dependency_module
Move Safari response-padding fix to Rails2Compatibility. Should be a Rack concern.
Dead local
Fewer runs by default
Implemented layout conditions in new base
Added the :rjs render option
Renamed #implicit_render to #default_render in new base to support the default_render API
Add HTTP Authentication to the new base
Add missing dependency in Streaming
Update render options to remove performance implications of many render options types
Added the :xml render option
Added the ability to register methods to handle specific render option keys and render :json
Remove some response content type concepts from ActionView
Add Streaming to new base
RequestForgeryProtection now works with the new base
Clean up tools/profile_requires a bit
Avoid uninitialized instance variable warning
Single-require forward compatibility with new Ruby features like Object#tap, Enumerable#group_by, and Process.daemon. Code with the latest but run anywhere.
Extract autoloads
Remove 'core' fluff. Hookable ActiveSupport.load_all!
Break out Symbol#to_proc as a future-ruby extension
Break up misc Object extensions
Remove bad add
Allow Module#depends_on to accept multiple modules
Made ActionController::Verification work with new_base
Make controller/content_type_test.rb pass on new base
Got controller/mime_responds_test.rb running on the new base
Make ActionController::Flash work with new_base
Massage setup for old tests on new base
Wrap string body in an array
Ruby 1.9 stdlib gems don't recognize .pre yet
Added passing old tests on new base to the main test runner
Added responds_to to new base.
Add coding style to contributing guide
Replace the class level Rack::Test DSL with the regular integration tests DSL
Temporarily bundle rack-test while MockSession is baking
Refactor ActionController instantiation capture
Integrating Rack::MockSession (from Rack::Test)
Adding SqlLiteral with spec for counts
Make old caching tests pass on new base.
Modified caching implementation to work with NewBase
Include caching module into new base
Modify caching to use new included helper
Corrected new callbacks semantics with regards to using objects for around filters.
Use duck typing to also allow MemCache-like object when initializing a MemCacheStore
Replace ad hoc Rack::Test with ActionController::IntegrationTest
Missing CHANGELOG entry for 4a6f4b92ad2f
Change integration test helpers to accept Rack environment instead of just HTTP Headers.
Lazy-require Kernel#silence_warnings
Allow MemCacheStore to be initialized with a MemCache object instead of addresses and options
Upgrade CI server to latest RubyGems [#2665 state:resolved]
Add missing models and fixtures [#2673 state:resolved]
attempt at fixing fxn picture in credits page
Ported simple benchmarking in new base
Don't quote columns when they are not an attribute
Require active_support/core_ext since ActiveRecord don't require it any more
Include acts_as_string?
Remove unnecessary condition and local variable [#2602 state:resolved]
Add ability to get multiple memcached keys at the same time (via MemCacheStore#read_multi).
Ensure HasManyThroughAssociation#destroy delete orphan records [#2251 state:resolved]
Missing 1.8.7 backport extensions
Make sure default_scope#create checks for options[:conditions] [#2181 state:resolved] [James Le Cuirot]
Revert "Get AR CI passing again by requiring the entire core_ext"
Truncate helper accepts a :separator for a more legible result [#1807 state:resolved]
Ensure HTTP Digest auth uses appropriate HTTP method [#2490 state:resolved] [Steve Madsen]
Add missing model and fixtures to finder_test [#2671 state:resolved]
Report errors in 'all project' rake tasks [#2224 state:resolved]
Expand sql engine CRUD specs
Log queries to debug.log when running specs
Better inspect output for Expressions
Ignore debug.log
Removing unused Pathname extension
Expand usages of #hash_on. The #hash definition it produces looks broken, but leaving it for now
Cleanup Sql formatters a bit
Cleaning up Sql::Engine#read
Remvoing unused variable from spec
load the JSON Backend lazily.  If the JSON gem is already loaded, use the JSONGem backend by default.
Extracting #build_query method for creating SQL from parts
Refactor #select_sql. Extract methods to generate clauses
Adding skeleton of spec for CRUD operations in Sql::Engine
Removing Object#metaclass definition (it's already in ActiveSupport)
Moving SQL predicates spec to correct dir
Added PostgreSQL to build
Allow ParamsParser to parse YAML from the request body IO directly
Removing two unused externalizable? methods
Removing unused array extensions
Add spec for Attribute#inspect
Include modules to extend core classes to improve inspectability
Moving a few stray SQL references in the memory engine code
Whitespace
Improve coverage output
joining across engines in either direction
initial implementation of cross-engine join
basic implementation of in memory insertions
using in memory relations as results from sql relation
performing in memory joins
better test ordering
recursive memory operations now possible
removed duplicates from sql tests
reorganizing tests
made block stuff read nicer
Add rake whitespace
most in memory operations save join and group
replace the aaa_create_tables_test hack with loading test database schema in the test helper [#2663 state:resolved]
moved table-related stuff into sql engine
join sql stuff moved into sql adapter
removed function_sql in favor of polymorphism
Extract generic callbacks middleware from dispatcher
consolidated files
reorganized file structures
moved sql related code to its own engine area
reorganized call
Add tests for assert_template :template
Rescue hack was supposed to be removed. Some how it crept back in.
Adding spec:mysql and spec:sqlite3 tasks
Ensure number_to_human_size does not strip zeros from the end [#1763 state:resolved]
Simplify filter_chain method implementation [#2327 state:resolved]
Implement #many? for NamedScope and AssociationCollection using #size [#1500 state:resolved]
Ensure auto_link does not ignore multiple trailing punctuations [#2504 state:resolved]
Add support for parsing XML and JSON from an IO as well as a string [#2659 state:resolved]
Remove obsolete wiki reference [#2291 state:resolved]
Supply valid ruby-prof parameters [#1804 state:resolved]
has_one :through should not create a new association when assigned nil [#698 state:resolved]
Ensure rake test does not run new base tests as that requires rack/test
Ensure WhiteListSanitizer allows dl tag [#2393 state:resolved]
Rename README -> README.markdown
Get Railties passing again
Get AR CI passing again by requiring the entire core_ext
Changelog
Instead of checking Rails.env.test? in Failsafe middleware, check env["rails.raise_exceptions"]
Include guides directory in the rails gem
Remove some informal sentences and new lines
Initial version - quick brain dump
Ported Rescuable to new base
Refactored AbstractController to provide better hook points for overriding aspects of action dispatching
Allow strings to be sent as collection to select.
Active Support dependencies
Got new base to pass controller/base_test.rb, implemented method_missing action semantics in compatibility mode, and fixed a few action_missing bugs.
Cleaning up more render tests
'TIP.' replaced with 'TIP:' for consistent formatting.
Minimal base/new_base comparison
Cherry-picking Active Support extensions
Simple example for require profiling
Changed ActiveRecord::Base#exists? to invoke find_initial so that it is compatible with, and doesn't lose, :include scopes (references to eager loaded tables)
Ported over render :file tests.
a few details in the caching guide I saw in passing
Simple examples for require profiling
Cherry-pick core extensions
isolated_test task
Remove support for deprecated validation message interpolation format
Preserve ordering
Defer rake/contrib requires so we can use the stdlib rake instead of the full gem
Implemented redirects and partial rendering in new base.
Remove space between JSON keys and values since we're no longer emitting those.
Defer rake/contrib/sshpublisher require so we can use the stdlib rake instead of the full gem
Use DependencyModule for included hooks in ActiveRecord
Revert "Whitespace!"
Aliased AbstractController::ActionNotFound to ActionController::UnknownAction
Ported ConditionalGet to new Base
Don't run the action if callbacks are halted.
ActiveSupport::OrderedHash[1,2,3,4] creates an OrderedHash instead of a Hash.
Ported fresh_when into a ConditionalGet module
More community code review :)
Added db/seeds.rb as a default file for storing seed data for the database. Can be loaded with rake db:seed (or created alongside the db with db:setup). (This is also known as the "Stop Putting Gawd Damn Seed Data In Your Migrations" feature) [DHH]
Change spelling of Kyev timezone to Kyiv [#2613 state:resolved]
Allow you to pass :all_blank to :reject_if option to automatically create a Proc that will reject any record with blank attributes.
ActiveSupport::OrderedHash#to_a method returns an ordered set of arrays. Matches ruby1.9's Hash#to_a.
honour :inverse_of for joins based include
honour inverse_of when preloading associations
Adds a missing comma in example code.
Syntax error in example code: not valid to omit parens with hash arguments.
Tiny syntax error in the action mailer guide.
The MailingAddress is good design, but it adds some noise to the querying guide b/c it is not referenced anywhere.
Just a fix to the units in the RPM prize 'formula.'
Check for date/time methods that moved upstream in 1.9
Defer rake/contrib/sshpublisher require so basic tasks don't need the full rake gem
Tool for profiling resource usage in each require call.
Spelling fixes in activerecord.
Some spelling changes.
Whitespace!
Prefer "included" language over "setup"
Make module dependency DSL opt in
Add test coverage to module setup extensions
Remove stray call to gems:unpack in gems:build:force
destroyal -> destruction, thanks to FelixLeiter
Refactor to calculations. Migration's versions are string not integer. ARel submodule updated.
Don't depend engine select_value(s) method. Quoting should be performed by connection not ARel
Cherry pick Active Support dependencies. Autoload.
Remove superfluous CGI require
Prefer sibling Active Support
Cherry-pick the inflector only
assert_redirect_to's partial hash matching was deprecated in 2-3 stable 7f1f16c01
fix problems with requires in metal choking under development reloading [#2579 state:resolved]
Providing support for :inverse_of as an option to associations.
Minor update to RDoc for enumerable#sum
tray and -> try to, thanks to FelixLeiter
Don't use #tap before Active Support is available, since older versions of ruby don't have native implementations
Use the word 'action' over 'method'... is clearer and helps when people are grepping the document for the word 'method'
Wrap dispatcher callbacks around the whole middleware chain. Kill unnecessary Reloader middleware.
Show lazy middleware args in pretty print
Extract ActionController rescue templates into Rescue and ShowExceptions middleware.
Formatting fixes, take 3
Formatting fixes, take 2
Formatting fixes
Check for sibling Active Support first
Deprecate Controller.process interface
Switch functional tests to run through the rack interface instead of process
Functional test runner finalizes response just like the integration test runner. In both runners, the @response object will now behave the same.
Deprecate assert_redirect_to's partial hash matching
Revert "Work around count returning string (bug)"
Implement FooController.action(:name)
Refactor to use arel_table method, and also use the same method name for instance and class methods.
Removed ARel table assignment
Updated ARel
COUNT should return an integer
Get render :inline working
A few more tweaks to get new Base running old render tests again
Renamed Base2 to Base and don't require old action_controller for new Base
Starting to get new_base to run on old tests
Add support for stripping "layouts/" from the layout name
Modify new_base to use String action_names for back-compat
Committing the last changes before we start trying to get the old tests to pass on the new base
Ported over the concept of public instance methods on controller child classes as callable action methods
Move ContentType inline for now.
Support implicit and explicit content types
Support implicit render and blank render
Ported over render :template tests
Finished implementing render :text in Base2
Renamed the new_base tests
Renamed ActionController::AbstractBase to ActionController::Http
Removed a stray method_missing in the new callbacks system
OMG, a lot of work
Makes new callbacks support keys with special characters
Added routing test for irregular ID requirements and custom member action.
Default scope :order should be overridden by named scopes.
Rename vendor/rack to vendor/rack-1.1.pre
Vendor Rack edge ( commit : 815342a8e15db564b766f209ffb1e340233f064f )
bugfix for with_options routing documentation
Tests should use ActiveRecord::Base.connection.rollback_db_transaction to rollback a transaction
Ensure ActiveRecord::Base.connection_pool.with_connection creates a new connection only when needed [#1752 state:resolved]
Use table_exists? in #initialize_schema_migrations_table [#1923 state:resolved]
Update some old tests to use AC TestProcess
alias method chain process with test
Move TestRequest#query_parameters into AD TestRequest
Selectively require rake sshpublisher so full gem isn't required
Selectively require rake sshpublisher so full gem isn't required
Explicitly require builder for to_xml
Explicitly require builder for to_xml
Work around count returning string (bug)
Use public submodule url
Make ruby-debug optional
Set rack.input instead of RAW_POST_DATA in TestRequest
Missed stray @request_uri
Move TestRequest cookies accessor into AD TestRequest
Depend on unreleased rack 1.1
Start moving TestRequest and TestResponse into ActionDispatch
Vendor new Rack::Mock changes
Group integration test helpers and delegate other helpers to request and response objects
Switch to action_dispatch rack namespace
Move generic assertions into ActionDispatch
exists? method now uses ARel
Test::Unit work arounds are handled by ActiveSupport
Framework backtrace cleaning is handled by ActiveSupport now
Added arel_attributes_values methods, refactored locking and AR#update to use this method
Don't bind, just assign.
Minor edits
Work around Float faux precision
Convert params keys to strings
Prefer behavior check to RUBY_VERSION to catch 1.8 backports
Calculations now use Arel to construct the query.
Added DISTINCT support. Modified when to quote or not columns and tables.
Tweak to credits.
More templates
Additional tests for the gem subsystem
Attempt to deal with more cases of gems with native components.
Deprecate template, session, assigns, and layout accessors on response object. Instead access them through the controller instance. This mainly affects functional test assertions.
Deprecate response.assigns
Move header injection back into integration tests
Rejig active support dependencies to behave better with the boot process
Workaround so quote_table_name is not included when not using a column name. For example: project('2 * amount')
ORDER BY should be included after GROUP BY clause
Show executed queries when assert_sql assertion fails [#2573 state:resolved]
changed sentence
Missing tiny quote
fixes redirect codes in layouts and rendering guide, thanks to Loren Norman
Formatting updates per lifo
Makes new callbacks support keys with special characters
Refactor ActionView::Template
Ensure the parent record is always saved when the child is invalid. [#2249 state:resolved]
Delegate controller.session to request.session and deprecate response session
Removed reference in documentation of form_authenticity_token to deprecated :secret option of protect_from_forgery
fixes an example from the previous commit
adds timestamps in examples of generated asset paths, and documents this bit in a few helpers
Can't please them all
Made a minor syntax correction.
Add documentation for respond_to's any method
bring index actions back in caching guide, REST conventions are encouraged and surrounding text assumes index
Sufficient to test that multipart/mixed wasn't parsed to a hash
Don't return bare string as rack body
Make it clearer that session is nil
Use Array.wrap
Use __send__ for BasicObject friendliness
Now that we have a separate internal rails_to_json, use a separate circular reference stack instead of sticking it in the options hash
Use javascript_object_for
Check for to_str rather than String
Array splitting strings on newlines is deprecated
Not sure why Request#session is missing
Use session= writer methods
fixed typo and clarified sentence
Convert encoding before escaping
add JRuby-JDOM backend for XmlMini
Don't assume :params is a Hash
Check for to_str rather than String
Don't undefine object_id
Privatize rails_to_json
Extract json string escaping
Only Object to_json alias is needed. Prefer nil options.
Qualify toplevel constant references since we're in a BasicObject
Track object ids so the objects needn't respond to ==
Inherit TestSession from Session::AbstractStore and add indifferent access to Session::AbstractStore.
Require an ActionDispatch::Request to use response assertions
Unify functional and integration tests cookie helpers
Remove reference to Rack::RewindableInput, which has been removed a while ago.
Deprecate response.redirect_url_match?, use assert_match instead.
Move useful response test helpers into request
Create a new file for response tests
Updated for Rack 1.0
Remove RewindableInput middleware since all input MUST be rewindable according to a recent change in the Rack 1.0 SPEC
Remove vendored version of Rack
Remove pending rack specifications until they are official
Minor changes to scaffold code, addition of dependent destroy example.
Better wording of environment.rb example code, thanks Paul Gillard
Consolidate `config/locale` vs `config/locales` issue. [#16213]
test uses Pathname
Start to integrate some of the features in Rack::Test.
construct_finder_sql now use Arel
Added aggregation and to_attribute methods to Value
Refactored locking update
Changed locking to use Arel. Arel updated
Added ruby-debug
Removed table quotings to be SQLite3 compliant. Delete and update will returrn the size of modified records to prevent addional queries to be done.
Use Symbol#to_proc in rails plugin internals
Remove connection method definition, since it's called just once.
More progress on migrations. Arel updated.
Added Arel integration to migration's version update table
Arel updated
Removed blank lines
Require Arel
Required singleton
Added arel as a submodule. This is temporary and will make development/testing easier.
Use the engine not the engine.connection, the engine may not even respond to connection
Moved require to initializer
Quoting must be required
String interpolation conditions
* Add pluggable JSON backends with support for the JSON gem. [rick]     Example: ActiveSupport::JSON.backend = "JSONGem"
Removed rest of Symbol#to_proc from railties tests
Missed one
Remove Symbol#to_proc dependency
Refactor ActionView::Path
new_callbacks core extensions
Opt in to JSON
Opt in to Dependencies
No more free lunch
initial skeleton for extensions in AS guide, just bootstrapping it may change
stdlib autoloads were hanging on 1.9.1
Add a note about assert_valid(record) being deprecated.
Get Active Model in the mix
Divert CoreExtensions mention in docs
Convert string extension modules to class reopens
ActiveSupport.core_ext bridge util no longer used
Switch last module core extension to class reopen
Rack::Utils.body_to_s doesn't exist in 1.0
refactor some coupled rescue tests
Session tests belong under dispatch folder
Reinstate Base#render_to_string. Introduce AbstractController#render_to_string which stringifies render_to_body.
Update ActionMailer guide's '2.3 Complete List of Action Mailer User-Settable Attributes' to show that the attribute 'cc' and 'bcc' can take a string or an Array of strings.
Add microsecond support for sqlite adapter [#1982 state:resolved]
Update rails:template task to expand file paths [#2528 state:resolved]
Remove excess mocking from polymorphic_url tests [#2330 state:resolved]
Change table to prevent copying indexes on sqlite2
Specify :group with the table name for it to work on sqlite3
Quote table names when casting to regclass so that capitalized tables are supported. [#2418 state:resolved]
Move AS::Duration autoload to core/time/autoload
Update ActionMailer guide's 'Sending Multipart Emails with Attachments' section to show explicitly which order text/plain and text/html parts must be in as well as the proper way to define the multipart/alternative part.
Ensure :dependent => :delete_all works for association with hash conditions
Ensure JoinAssociation uses aliased table name when multiple associations have hash conditions on the same table
Treating strings as enumerable is deprecated
Formatted some symbols in Active Support Guide
Added touch to associations guide
Remove named scopes from query guide contents, separate guide is coming
Replaced TimeZone references by ActiveSupport::TimeZone
fixes email/radio mismatch reported by Marek in LH
adds a missing word
Initial Active Support guide
Autoload I18n simple backend
Autoload YAML and StringScanner for JSON decoding
Autoload StringScanner for pre-1.9 String#each_char
Remove rarely-used DRb cache store
Eliminate Pathname extensions
Dice up ActiveSupport::Deprecation
Always buffer rack.input if it is not rewindable
render_for_text pushes a body part instead of replacing the whole body
Updated migration section to mention that SQLite now supports transactional migrations
Improve rewindable input test coverage so tests fail when you remove the middleware
Don't set Content-Length in Base#response_body= since body may be any Rack-compatible body. Leave it up to the content length middleware.
Rename render_to_string to render_to_body since it may return any Rack-compatible body, not just strings
Initial template guide
Added :touch option to belongs_to associations that will touch the parent record when the current record is saved or destroyed [DHH]
Added ActiveRecord::Base#touch to update the updated_at/on attributes with the current time [DHH]
Make more Template methods public to make ActionMailer tests pass
Don't check authenticity tokens for any AJAX requests
Makes rails-dev-boost work again
Move middleware stack out of utils folder
Make dispatcher instances immutable
Final blow to CGI
We aren't using UploadedStringIO and UploadedTempfile anymore
Move all Templates methods not used by other class into private to define surface area of the class.
Move MimeResponds into base folder
Move reloader middleware in ActionDispatch
Session management belongs in base folder
Move middleware stack out of utils folder
Backwords compat alias for ActionController::Request and ActionController::Response
Use rack's status code list as a base
Make dispatcher instances immutable
Final blow to CGI
We aren't using UploadedStringIO and UploadedTempfile anymore
Move bundled rack into ActionDispatch
Examples should be preceded with four equal signs.
Rails server boots again
Resurrecting 1.9 compatibility.
Bring abstract_controller up to date with rails/master
in 2.3 release notes, fix name of a rake task
Revert rspec-runner change. TODO: Add back support for the rspec T::U runner.
Updated old AC::Base for small changes to AV
Temporarily modifies setup to call super directly. This can support more T::U runners.
Reverts changes made to AS::TC
Insert in sorted order to avoid TimeZone sort
autoload Pathname
Unneeded require
Get Base2 layouts to work :)
Layouts work in AbstractController. Add support for the rspec runner for T::U
Add depends_on, use, and setup to abstract up ideas about module inheritance.
Revert "Changes to indicate release notes refer to most recent point releases,"
Changes to indicate release notes refer to most recent point releases, not the initial release.
added tests for session options being defaulted correctly to rack defaults [#2403 state:resolved]
Improve tests and code for Rails::InfoController and Rails::Info [#2411 state:resolved]
Changes necessary to run the T::U tests with the rspec runner
Starting work on Action View Overview guide
Supply fullfile name to the generator
Namespace under RailsGuides
Test cleanup
Hash::XML_TYPE_NAMES: no longer a need for a TimeWithZone entry; this class will now match "Time"
TimeWithZone.name returns 'Time', to further thwart type checking
Support multiple schemas in table names for postgresql [#390 state:resolved]
fixes spelling of "JavaScript" and link to the complex form examples app
Object names with underscore do the wrong lookup in I18n on error_messages_for.
Ensure SqlBypass use ActiveRecord::Base connection
No whitespaces please
Document complete_request_uri and action_methods.
Documented performed?
deletes screencast promo in prologue, its proper place is the References section
Typo fix
list -> index
in caching guide, RESTifies some examples, revised conventions here and there
Tech edit of caching guide from Gregg Pollack
Nicer name for anonymous local cache middleware class
Additional template render test for backup files [#2367 state:resolved]
Show installed middleware in builtin rails info (/rails/info/properties) [#2396 state:resolved]
Encapsulate date/time core extensions and constant autoloads in active_support/core/time
With -> with in a title
Enhance Time #since and #ago DST tests.
Time.local instances: Adding 24.hours across the DST boundary adds 24 hours instead of one day [#2066 state:resolved]
Feature detection for Range#step extension
Convert Range step and include extension modules to class reopen
JRuby doesn't have UnboundMethod#name
Explicit test dependencies
Explicit BigDecimal extension dependency
Explicit test dependencies
Explicit File#atomic_write dependency
Explicit test dependencies
Distinguish missing memcache from missing memcache server
Avoid need for Enumerable#sum extension
Explicit dependency on Duration, numeric times, and date/time to_s extensions
Explicit dependency on Proc#bind extension
Explicit dependency on OrderedHash
Explicit dependency on Hash#deep_merge extension
Explicit dependency on Object#instance_values extension
Explicit dependency on Array#wrap extension
Explicit dependency on String#start_with? extension
Explicit dependency on multibyte String extension
Explicit dependency on Module extensions
Convert Time conversions extension module to class reopen
Explicit dependency on Date calculations extensions
Convert String conversions, filters, starts/ends_with, and multibyte extension modules to class reopen
Convert Range conversions extension module to class reopen
Convert Numeric bytes and time extension modules to class reopen
Convert Module aliasing and introspection extension modules to class reopen
Convert Integer time extension module to class reopen
Convert Hash conversions extension module to class reopen
Convert DateTime extensions to class reopens
Convert Date calculations and conversions extension modules to class reopens
Tease out Object#acts_like? behaviors
Unneeded util require
Explicit class attribute accessor, benchmark, and NameError extension dependencies
Explict class attribute accessor dependency
Clear up a little confusing wording in Routing Guide.
Explicit Time/DateTime dependencies
Hack in env variable setting for Dependencies.mechanism
Narrow dependencies
Explicit NameError dependency
Convert Time extension modules to class reopens
Convert DateTime extension modules to class reopens
copyedited minor details in the rack on rails guide
remove piece of UrlWriter documentation claiming that you can access named routes as its class methods
Extract time fixes into separate extensions
Remove core ext dependency from test
Explicitly require core extension under test
Explicit dependency on Inflector and Object#blank?
Explicit dependency on class_inheritable_accessor
Remove unnecessary use of Kernel#silence_warnings
Explicit dependency on Array#extract_options!
Add note about change to session options
Document NameError extensions
Don't require out of load path
Condense to Kernel#with_warnings
Indentation, superfluous self
TRUNCATE is also a MySQL DDL statement, so document this is a possible caveat when using transactions and savepoints.
adding session_options initialization and test [#2303 state:resolved]
Simplify handling of absolute path templates. [#2276 state:resolved]
Updates tests to cause the tests for the Request class not to proxy through a fake TestRequest object [#2278 state:resolved]
Reset request_parameters in TestRequest#recycle! to avoid multiple posts clobbering each other [#2271 state:resolved]
just kill brittle test
Move Numeric#to_utc_offset_s to TimeZone.seconds_to_utc_offset
Improve documentation for ActiveResource::Validations, fix typos
Update ActiveResource::Connection documentation to use present tense
In the middle of some refactoring... some fails due to changes in AbstractController not yet reflected in ActionController tests
Checkpoint
Add a bunch of tests for various render :action, layout combinations
Adding render :layout tests
Finished implementing :layout for most of the render options
Finished implementing layout for render :text
Working on being able to render :text with layouts
ensure authors get warnings about broken links, and ensure end users don't
Namespace HashWithIndifferentAccess
Hide XmlMini backend details from rdoc
in guides generator, warn about duplicate header IDs only if WARN_DUPLICATE_HEADERS
replace edit distance implementation with one written from scratch to avoid license issues
Deprecate Model#validate/validate_on_create/validate_on_update. Use Model.validate :method and likewise
Deprecate Errors#on_base/add_to_base/invalid?/each_full
removes a wrong comment in the finders guide
try is an object extension
Convert Range extension module to a class reopen
Convert Numeric extension module to a class reopen
Convert LoadError extension modules to class reopens
Convert integer extension modules to class reopens
Convert hash extension modules to class reopens
Explicitly require set
Simplify Enumerable#each_with_object
Explicitly require pathname core extension
Convert date extension modules to class reopens
blank? and duplicable? are Object extensions
Convert bigdecimal extension modules to class reopens
Convert array extension modules to class reopens
Simple singleton. We don't need the full monty.
Only require builder at startup if we need to monkey with its String#to_xs demands
Prefer a less intrusive BlankSlate-alike that doesn't hook Object# and Kernel#method_added to remove future methods
* Introduce ActiveSupport.core_ext Integer, %w(conversions time etc) * Convert some extension modules to simply reopening the class * Remove deprecated Float time extensions * Fold Base64 extension into ActiveSupport::Base64 since stdlib Base64 is gone
Get rid of active_model/core and active_model/callbacks
Validation options dont need explicit :on => :save
Remove DEFAULT_VALIDATION_OPTIONS from validations
Move validate_on_create and validate_on_update from ActiveModel to ActiveRecord
updates fxn picture
Add ActiveModel::Validations tests for regular ruby classes
Temporary runner
Add I18n translations to ActiveModel and move more AR specific parts to ActiveRecord::Validations
Hacked up fixture view paths to simplify tests for a bit
Include ActiveModel::Validations from ActiveRecord::Validations
Improve the deprecation message for Errors#on
Validation tests arent using any fixtures
ActiveModel.load_all! isn't really needed at this point
Use mattr_accessor in TestsDatabase instead of setup method
Deprecate Error#on(attribute) in favour of Errors#[attribute]
TestDatabase -> TestsDatabase
Remove unused columns from the ActiveModel test schema
Future deprecation message
Move relevant validation tests from Active Record to Active Model
Add test sqlite3 db to .gitignore
Make Active Model test suite similar to Active Record
Autload ActiveModel::Observing
Make Active Resource use ActiveModel::Errors
Move uniqueness and association validations to Active Record
Move all the Active Record validations to Active Model
Test controller layout
Get very basic layouts working.
thanks but release notes are mostly frozen once they are published, and provide only an overview of the new stuff
Started implementing render :action
Added extra notes to nested model forms explanation in 2.3 release notes to cover has_one relationships
pluginize concurrent block body part
Implemented basic template rendering in AC::Base2: * Created several macros for writing simpler specs * Finished making Rack::Test work right * Implemented render_to_string * Status Codes * render :text => nil
Ensure script/plugin doesn't show error message when svn externals are not there
Remove outdated script/plugin options
Rework NewCallbacks to not require method_missing
Temporarily reraise to simplify debugging
Working toward getting a basic AbstractController framework
clarifies a bit more what's the issue with check boxes and arrays of parameters
be even more ambiguous about the order of generation of hidden input for check boxes in form helper guide
this page referred to an :href_options keyword hash, in fact the correct keyword (the one the code responds to) is :html
update explanation of check box generation according to f400209
Hidden field with check box goes first.
Try to use actionpack gem to generate guide when Rails is not vendored
Pare down unit test
update rack fixture to be ruby 1.9 compat
Better error message to try to figure out why the CI build is failing
ruby 1.9 compat: Pathname doesn't support =~
update rack fixture to be ruby 1.9 compat
update metal fixtures to be ruby 1.9 compat
Ensure our bundled version of rack is at the front of the load path
Prepare for final 2.3 release
Make sure Metal use ActionController class name conventions [#2242 state:resolved]
clients.id
dasherize titles in a more predictable way, and update fragment identifiers accordingly
guides generator warns about duplicate header IDs
revised links in guides according to W3C link checker report
update links in layout according to W3C link checker report
in guides generator, broken link warning now suggests the existing anchor with min Levenshtein distance
Added a collection association form example.
fixes broken links in association basics guide
fixes broken links in security guide
fixes broken links in security guide
fixes broken links in migrations guide
fixes broken links in i18n guide
fixes broken links in finders guide
Started on a Rails guide on nested model forms.
recommend rake guides instead of script in instructions for contributing to guides
some minor details in finders guide
Minor edits to I18n guide; publish guide
revised titles of caching guide
revised titles of the command line guide, and added changelog
revised titles of plugins guide
revised titles of testing guide
revised titles of action mailer guide, and added changelog
revised titles in i18n guide
A few more changes for caching guide
Some editorial cleanup on caching guide
revised titles in form helpers guide
revised titles in validation and callbacks guide
revised titles in performance guide
revised titles in debugging guide
revised titles in security guide
revised titles of rack guide
revised typography in titles of the routing guide
Mark callbacks guide done
Minor cleanup to callbacks/validations guide
fixes typo in finders guide
revised case in titles of AC overview guide
revised typography in layouts and rendering guide
revised case in titles of associations guide
revised case in titles of AR basics guide
revised case in titles of migrations guide
allowed render :file to take Pathnames [#2220 state:resolved]
Add Rack version to Rails info
revised capitalization of titles
minor details in the querying guide
Query guide is done
Move find_each stuff to the top and change a bit
SQLite adapters now support DDL transactions [#2080 state:resolved]
Less ceremony
Revert 5b7527ca "Failing test for routes with member & requirement" [#2054 state:wontfix]
Update rack to fix multipart uploads with an empty file [#1945 state:resolved]
Extra spaces on list items were generating wrong output in Testing guide.
Corrects minor spelling mistake (practises -> practices).
Update 2.3 relnotes through 3/13 AM, remove warning about RC to get ready for release.
Extract output buffer test
Makes the gem system understand development vs. runtime dependencies [#2195 state:resolved]
Simplify parts and tests
Execute the appropriate gem command when using JRuby [#2215 state:resolved]
Vendored gem paths now being loaded if they exist [#2204 state:resolved]
Example using an edge side include body part to fetch queued rendering results
Body parts: future rendering, threaded future, queued future, open-uri example
Extract Response#string_body?
explains the order in which records are fetched by find_each
Introduce flush_output_buffer to append the buffer to the response body then start a new buffer. Useful for pushing custom parts to the response body without disrupting template rendering.
Return body parts directly to Rack rather than building a response string ourselves. Allows Rack middleware to orchestrate response building.
prevents the mini-bio of fxn to wrap below the picture
reword a paragraph in find_each explanation
explains find_each and find_in_batches in the querying guide
in batches.rb, rewrap rdoc, and document options as symbols
Change naming to match 2.2 so life is easier on plugin developers
Eliminate internal render stack since we only need its head and tail
Eliminate internal render stack since we only need its head and tail
Try to build a new AC::Base on top of AbstractController
Use extlib accessor for new callbacks
Move Abstract stuff to autoload
Handle nil QS
Use xmlschema when serializing TimeWithZones to xml [#2223 state:resolved]
Handle irregular plurals in polymorphic_urls [#2212 state:resolved]
Ensure AutosaveAssociation runs remove callbacks [#2146 state:resolved]
Returning nil from named scope lambda is equivalent to an empty hash [#1773 state:resolved]
Ensure HWIA#reverse_merge! retrurns HWIA [#421 state:resolved]
Ensure NoMethodError isn't raised when some of the nested eager loaded associations are empty [#1696 state:resolved]
Changing :integer_only to :only_integer in the AR Validations and Callbacks guide
Support MD5 passwords for Digest auth and use session_options[:secret] in nonce [#2209 state:resolved]
each -> find_each in 2.3 release notes
finished proofreading of the validations guide
and now even with the right dimensions
updates fxn picture with better quality
Reverted affe50105f7027a44eb6e9cfb56f5b3fc070b19b and added more JSON decoding tests.
uploads fxn picture, links to fxn's tweet account
Update bundled Rack to fix Litespeed compatibility [#2198 state:resolved]
Move JZ in the middle
Ensure ActiveRecord::Base.find_in_batches fires doesnt fire an extra query unless needed
Add tests for AssociationCollection#find_each and AssociationCollection#find_in_batches
Add NamedScope#find_each tests [#2201 state:resolved]
Rename ActiveRecord::Base.each to ActiveRecord::Base.find_each
Alphabetical ordering
Add the team
in validations guide, emphasize after_save runs always after more specific after_*s
Don't duplicate :order from scope and options, it makes mysql do extra work
Strip invalid leading whitespace error uncovered by nokogiri
adding more nokogiri tests and making the main rails tests pass
Ensure correct content type is declared after cache hits on actions with string cache keys [#1585 state:resolved]
revised sections 9 to 14 of the validations guide
Make Inflector#parameterize correctly squeeze multi-character separators [#1489 state:resolved]
The latest trunk of Mocha > 0.9.5 which addresses issue with MiniUnit compatibility uses namespaced integration classes.
revised section 8 of validations guide
Remove duplicate text
check for rack 1.0 gem before falling back to bundled version
update bundled version of rack before 2.3 final
remove rack gem dependency
Make it easier to swap XmlMini backends. Require Nokogiri >= 1.1.1 for XmlMini backend tests.
Nokogiri backend for XmlMini
Properly set up libxml includes. Don't include LibXML in toplevel.
Remove untested part from 9b9b2937ce3bef3bca9d22821e76c40cc74fa689
Replace comma with full-stop in scoping chain.
Revision of i18n guide, final sections.
Revision of i18n guide, chapter 4.
Properly decode \u escape sequences in JSON [#1100 state:resolved] [Tim Pope, Philip Hallstrom]
Add a missing CHANGELOG entry
Ensure auto_link doesnt linkify URLs in the middle of a tag [#1523 state:resolved]
Allow custom type for multipart emails [#1691 state:resolved]
Ensure public folder structure is setup correctly if the tests are ran out of order, fixes tests in 0c9bbf8
Revert "Updated actionpack/CHANGELOG to include enhancements to form option helpers"
Slight tweak to 2.3 release notes
Update 2.3 release notes with changes through March 6
Revision of i18n guide, chapter 3.
Ensure nested with_scope merges conditions inside out [#2193 state:resolved]
Ensure ActiveRecord#to_xml respects :skip_types for included associations [#1632 state:resolved]
your dear missed typo, thank you
revised section 7 of validations guide
reset_session should force a new session id to be generated [#2173]
revision of validations guide, chapters 4 to 7
Improve documentation for ActiveRecord::Base.update_all. Document Array and Hash syntax for conditions, include usage examples.
Use the REXML parser by default. XmlMini.backend = 'LibXML' to use libxml-ruby.
Require libxml-ruby 0.9.4 or 0.9.7 pending a segfault bugfix for 1.0. Delegate parsing to a switchable backend.
Revert "Revert "XmlMini supports different backend parsers, starting with libxml""
Add a note in release notes about using request.cookies["foo"]= instead of CGI::Cookie.new in tests
Revert "XmlMini supports different backend parsers, starting with libxml"
Touch-up the 'i18n' part while reading the first two sections.
Ensure blank path_prefix works as expected [#2122 state:resolved]
Ensure TemplateRunner#ask? works with the rake task to apply a template [#1655 state:resolved]
Ensure Model#destroy respects optimistic locking [#1966 state:resolved]
Ensure has_many :through works with changed primary keys [#736 state:resolved]
Allow find(:last) :order be a symbol [#2024 state:resolved]
Correctly clean backtraces from vendor/gems and gems in alternate install locations
Add some rack links
Correctly clean backtraces from vendor/gems and gems in alternate install locations
yet some more deprecated :message formats updated
just a missing preposition
important revision in (current) chapter 3 of validations guide
Prototype helpers support the onCreate callback.
XmlMini supports different backend parsers, starting with libxml
Ruby 1.9 compat: rename deprecated assert_raises to assert_raise.
Added information about the new Object#invalid? method just added to Edge.
Ensure Active Support is loaded locally rather than from RubyGems. [#1620 state:committed]
proofread validations guide up to section 2
Remove duplicate test [#2136 state:resolved]
remove unneeded curlies in AR::Base.update example
harmonizes whitespace surrounding special boxes and their inner paragraphs, removes unused selectors as well
Add ActiveRecord::Base#invalid? as the opposite of #valid? [#2159 state:resolved]
Ensure SQLite adapters stores the config [#1947 state:resolved] [John Aughey, Pratik Naik]
Support OPTIONS verb in route conditions [#1727 state:resolved]
Finish up callbacks section for Active Record Validations and Callbacks guide
Ensure shallow routes respects namespace [#1356 state:resolved]
Make Chars#slice! behave more like String#slice! [#1243 state:resolved]
fix HTML fallback for explicit templates [#2052 state:resolved]
submit_tag with confirmation and disable_with [#660 state:resolved]
Ensure Active Record error related view helpers escape the message [#1280 state:resolved] [Inge JÃ¸rgensen, Dan Barry]
Added info on how to run rake with different database adapters
Ensure assert_select works with XML namespaced attributes [#1547 state:resolved] [Jon Yurek]
Raise LoadError instead of a runtime exception [#1498 state:resolved]
Remove unused variable [#1451 state:resolved] [RaphaÃ«l Valyi]
Ensure calculations respect scoped :select [#1334 state:resolved]
Ensure validates_uniqueness_of considers limit on the field. [#1042 state:resolved]
Ensure expires_in without a :public key sets the Cache-Control header to private. [#2095 state:resolved]
Move the warning down a lil in the relnotes
DRY with_kcode in Active Record tests
Allow String#parameterize to accept a separator [#2157 state:resolved]
get style for dd.warning back
Allow :having conditions to be sanitized like regular :condition. [#2158 state:resolved]
Ensure belongs_to association with a counter cache in name spaced model works [#1678 state:resolved]
added 'Sending multipart emails with attachments' section for ActionMailer guide
fixes CSS rule for warning blocks in guides
Ensure replacing has_one associations respects the supplied :dependent option. [#1305 state:resolved]
Ensure supplie :from has precedence over scoped :from [#1370 state:resolved]
Ensure self referential HABTM associations raise an exception if association_foreign_key is missing. [#1252 state:resolved]
script/plugin install should remove .gitignore too. [#1306 state:resolved] [Esad Hajdarevic]
Methods invoked within named scope Procs should respect the scope stack. [#1267 state:resolved]
Updated actionpack/CHANGELOG to include enhancements to form option helpers
Remove duplicate links from the index page
Add some more stuff to the rack guide
I ate a word
Updated the Rails on Rack section concerning metal
Ensure ActiveSupport::Memoizable respects private methods. [#2138 state:resolved]
Minor spelling fix
Ensure that loading metals from the main app and engines works on older Ruby versions [#2143 state:resolved]
Failing test for routes with member & requirement [#2054 state:resolved]
Change the link on the index page
Some changes to the doc section and renaming the guide
Make sure that Rails frameworks are silenced when running in gem mode too
Push the guides
Release RC2 today
removes questionable :message examples (reported in Rails LH #2107)
Generating routes with optional format segment does not inherit params format [#2043 state:resolved]
stray character in railties test
Skip backtrace filters if BACKTRACE environment variable is set
Allow routes with a trailing slash to be recognized
memoize correctly ;)
Helpers with an initial test
Enhanced Rails Metal - the load order of metals can now be configured [#2057 state:resolved]
Reconcile index and layout for Guides.
The missing guide.
Added "Contributing" Guide
fix form builder example in form helpers guide (reported by JasonKing in LH)
Revert "DDL transactions and savepoints for sqlite"
Removed the "charset" parameter from the Content-Type header of multipart sections of nested multipart messages.
DDL transactions and savepoints for sqlite
Revert "Speed up script/console by launching IRB directly."
do not assume code blocks have blank lines around, also nontextile -> notextile
fix broken links in performance_testing.textile
Beefed up mass assignment coverage (section 6) in the security guide.  Now includes nested mass assignment (and nested object forms) and adds another (paranoid) countermeasure.
Display gem dependencies correctly and unpack exactly once [#2097 state:resolved]
Added information about "lazy lookup" inside views (`t '.foo'`) in I18N guide
Clarified info about "pragmatic approach to locale codes" and removed speculation about "locale inheritance" in the I18N guide [thanks Kip]
Added information about "Localized views" into I18N guide
Added note how to configure Rails loading mechanism to look for nested locale files (+config/locales/models/book/es.yml+, etc) to the I18N guide
Get rid of drop shadows in screenshots for the I18N guide
Speed up script/console by launching IRB directly.
Use Array.wrap() instead of Array() and handle action_view.cache_template_loading being false
Ensure 16b3d2b621b1682f249209097c31b0a10f0f87ef works with Ruby 1.9
Added :env option for gem in template runner [#1983 state:resolved]
Update 2.3 release notes.
Ensure the old behaviour is retained when action_view.cache_template_loading is not set explicitly
removes trailing whitespace
implements a temporary workaround for failing notextile
in security guide, substitutes pre tags with appropriate custom code tags
in textile extensions, simplify regexp literal, and remove spurious extra newline in code blocks
Added ability to pass in :public => true to fresh_when, stale?, and expires_in to make the request proxy cachable [#2095 state:committed]
So it didnt happen yesterday, but very soon! Just need the final details ironed out
Callbacks test
Add support for callbacks
let the guides generator warn about broken links
fixes broken links in AR finders guide
fixes broken links in associations guide
complete pass on the associations guide, mostly typography and some minor bits here and there
unbox TT elements
Initial hooks
fixes typo @customer -> customer
describe action of include_root_in_json in to_json docs
Skip console test when using minitest
Skip backtrace filter test when using minitest
Ruby 1.9 compat: limit const_defined?
Invoke tests with the same ruby
AbstractController now supports layouts and rendering
Vendorize i18n 0.1.3 gem (fixes issues with incompatible character encodings in Ruby 1.9) (Akira Matsuda) [#2038 state:committed]
Update release notes for 2.3 RC2
Prep for RC2 later today
Update rdoc: all is not a named_scope [#1959 state:committed]
Metal can now line in plugins under app/metal [#2045 state:committed]
Force all internal calls to Array#to_sentence to use English [#2010 state:resolved]
Don't validate records of an :autosave association if they're marked for destruction. [#2064 status:resolved]
Pass a custom form builder on to nested fields_for calls. [#2023 status:committed]
Test view path loading from the initializer.
Test database middleware loading from the initializer.
Add test case for ActiveRecord::ConnectionAdapters::ConnectionManagement.
Added RC2 note to Release Notes for 2.3.
Ruby 1.9 compat: silence a warning about regexp languages
update the default scope test to take the model's default scope into account
s:hbody:/body:g in layouts & rendering guide
Updating release notes for 2.3.
First, very early, AbstractController code. More to come
fixes scroll beyond the box in code blocks (fix suggested by toretore)
added overflow: auto for code blocks in guides CSS
missed template fixtures with ~
Ensure ActiveRecord session store's connections are checked in after each request [#1927 state:resolved]
Put back dispatcher cleanup call in console reload! [#2056 state:resolved]
Just require tmail instead of autoloading it to fix issues when using the gem version [#1851 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Template without a known template handler should only be reachable through its exact path. [#2027 state:resolved]
correctly handle layouts for AJAX requests and regular js files [#2052 state:resolved]
Update with the new CSS from Jason and change the header logo
Add references
Update bundled memcache-client from 1.5.0.5 to 1.6.4.99. See http://www.mikeperham.com/2009/02/15/memcache-client-performance/
Another strange character fix
Make the 'Guides Index' menu link point to index.html
Add ActiveRecord each and find_with_batches to release notes.
Added ActiveRecord::Base.each and ActiveRecord::Base.find_in_batches for batch processing [DHH/Jamis Buck]
More special character removal and added cache_money to the reference list
Take out some special characters that sneaked in
Added a changelog
Updated with all the new cache_store stuff
Added info about parameters passed to caches_action and removed More: blocks to clean up a little
load plugin view_paths to action_mailer view_paths and make action_mailer use them [#2031 state:resolved]
Bring 2.3 release notes up to date.
Corrects information about subtemplates.
Deprecated warnings for :skip_last_command and :connector of to_sentence [#1847 state:committed]
Ensure that the app routes file is loaded even when engines are in play (Thjis) [#1970 state:committed]
Don't depend on project.developers ordering
Expected cookie value should also be escaped.
Revert "Wrap calls to update_attributes in a transaction."
Remove hardcoded number_of_capturesin ControllerSegment to allow regexp requirements with capturing parentheses
Wrap calls to update_attributes in a transaction.
let the indexer pass element IDs to the guides generator to avoid coupling, links to sections whose title has textile markup are fixed as well
RedCloth 4.1.9 is OK.
Document the return value of AR::Base#delete_all.
Update changelog for URI.unescape fix
Broaden URI.unescape fix to all affected 1.9.x by checking for broken behavior instead of specific patchlevel
fix test data, should specify encoding to use multibyte chars on Ruby 1.9
URI.unescape fix removes the old unescape method
Ruby 1.9.1p0's URI.decode() bug fix
make action_controller/layouts pick templates from the current instance's view_paths instead of the class view_paths [#1974 state:resolved]
break out of initializer early if gems aren't loaded [#1750 state:resolved]
Move development mode reloading up the stack to avoid issues with class reloading in middleware
Lazy evaluate middleware arguments [#2028 state:resolved]
More spurious backticks replaced/removed.
Don't use backticks for markup.
Added Rake section to the command line guide.
Lazy evaluate ActionController session store middleware class to pickup custom plugin session stores [#2001 state:resolved]
Make atomic_write() puts the check_file in the cache dir, not in application root [#1962 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Copyediting of the 'migrations' guide.
Consistent UPCASE setting of 'SQL'.
Validation and Callbacks cleanup, finishing up Validations
#nil? is not a generated method in belongs_to and has_one associations
Sorry, wrong patch applied.
Revert "Copyediting of the 'security' guide from chapter 8 to the end."
Copyediting of the 'security' guide from chapter 8 to the end.
Verbatim markup does not escape angle brackets.
Don't use underscore for emphasis around function containing underscores.
Remove superflous 'notextile'.
textilize titles in ToC of guides
added overflow: auto to style of code blocks
just nitpicking here and there
Ruby 1.9 compat: fix JSON decoding to work properly with multibyte values
Formatting bugs corrected.
Copyediting the 'Security' guide up to chapter 8.
document :checked => true in #radio_button.
Remove empty line that breaks 'code' formatting.
Use tables for object properties and their purposes.
Special case in deprecated CGI proxy layer for Mongrel CGI cookies [#1957 state:resolved]
yet another pass on the action controller guide
Properly skip fcgi tests if the gem is not installed
Autoload ActionController::Caching::Sweeper constant [#1977 state:resolved]
Removed dead convert_expires! in Response [#1952 state:resolved]
Ensure template_runner can run script/* ruby scripts under Windows. [#1859 state:resolved]
Consistent monospaced markup for command options.
Delete superfluous escape characters.
More tables headers formatted.
Mark table headers.
Genitiv apostrophe added.
fixed example, closes LH ticket #59
Small improvements to Validations and Callbacks guide
copyedited the migrations guide
in main.css removed extra line-height and box for TT elements, and reformatted CSS
made a complete pass over the Action Mailer guide, it probably needs another one
Update bundled rack to fix more parameter parsing issues
workaround for picking layouts based on wrong view_paths [#1974 state:resolved]
small touches to the contribute page
Remove obsolete silence_warnings wrappers from TZInfo-dependent tests in ActiveSupport [#1914 state:resolved]
Use the controller name 'Greetings' consistently.
Updated rdoc to reflect changes to form option helpers
Enhanced form option helpers to add support for disabled option tags and use of anonymous functions for specifying selected and disabled values from collections.
DRY up form option helper tests
Updates to 2.3 release notes.
Stops date select helpers from defaulting the selected date to today if :prompt option has been used
Changed API of NestedAttributes to take an array, or hash with index keys, of hashes that have the id on the inside of the attributes hash and updated the FormBuilder to produce such hashes. Also fixed NestedAttributes with composite ids.
Changed scaffold generated controller tests to use #to_param.
Layout fixes for configuring guide.
Allow memcache-client versions > 1.5.x to override bundled version Signed-off-by: Joshua Peek <josh@joshpeek.com>
Port fast reloadable templates from rails-dev-boost.
Remove space from the test name [#1953 state:resolved]
Adding inflection of databases (usually we wouldn't amend the current defaults, but this seems to obvious) [#1942 state:committed]
Improvements for Association Basics.
Use ndash for numerical relations.
Use n-dashes for ranges/relations.
<code> formatting and TIP: formatting improved.
Use explicit HTML charnames for textile-formatted <code/>.
More consistent use of 'an' in front of 'h'.
Improvements for the forms helper guide.
Array#wrap should use #to_ary so association collections and named scopes are not re-wrapped
Reapply 0d5b3e6
Update vendored rack
Move checkbox hidden field before the actual checkbox so the actual value doesn't get clobbered [#1863 state:resolved]
Mistyped HTML corrected.
Missing 'code' marker added.
Make sure vendored rack is at the front of the load path
Removing self from credits - didn't know you needed to complete your own guide
Added partial scoping to TranslationHelper#translate, so if you call translate('.foo') from the people/index.html.erb template, you'll actually be calling I18n.translate(people.index.foo) [DHH]
Revise Observers section, add myself to the credits
TimeWithZone#advance: leverage Hash#values_at and non-block form of #any? for a little less line noise, and a slight speedup (thanks raggi and Roman2K)
Changelog update for previous commit
Time#to_s(:rfc822) uses #formatted_offset instead of unreliable and non-standard %z directive [#1899 state:resolved]
Layout cleanup and minor edits for layouts & rendering guide
Warning about config.threadsafe! in the configuration guide.
Add Model.exists?
Still need to setup view paths
Add some clarification of the side effects of threadsafe!
fixed a minor typo, needed an h in Neighborly
Improve view rendering performance in development mode and reinstate template recompiling in production [#1909 state:resolved]
Removed named scopes from the finders guide. Named scopes deserve it's own guide
Modifications to the first draft of active_mailer_basics
TimeWithZone#advance: use #any? instead of #detect
TimeWithZone: eliminate unnecessary flatten
TimeWithZone: use Array#any? instead of detect, since we don't care about the block return value
Make TimeWithZone#to_formatted_s an alias to TimeWithZone#to_s [#1796 state:resolved]
Improve documentation for ActionController::Streaming. Document 'render :text => proc { ... }' as a way to stream on-the-fly generated data to the browser.
Update the contribute page
Session LazyHash#inspect triggers the hash to load
Don't add vendored rack to load path
Update bundled Rack for Ruby 1.9 spec changes
Rewrite eager loading and joins sections
Deprecate ActionController::Response#set_cookie :http_only option infavor of :httponly
Ruby 1.9 compat: removed redundant nested repeat operator
Reorder find options under a same section
Improve sections dealing with order, select, limit and locking
~ backup files don't clobber original templates [#1818 state:resolved]
Move cleanup before prepare_dispatch so that constants are not loaded twice [#1898 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Render implicit html template when xhr request now supports localization [#1886 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Improve Conditions section
Add options to the arg list
Improve structure at the beginning of the AR Finders guide
edged coverage of session storage configuration
removed spurious space in changelog of routing guide
added Changelog section
Temporarily bundle Rack 1.0 prerelease for testing
Added support to dashed locales in templates localization [#1888 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Ensure session id is set in session options hash [#1880 state:resolved]
Handle either error string or array
Minor fixes in layout and index
Second version of the Rack guide
Oops, don't yield per expression
Add min-height to code,pre to prevent icon from being cut off
Remove <code> from inside <pre>
Reword the session section to reflect that CookieStore has an ID and that you can change they :key and :secret
Some cleanup to Credits page
Test jdbc adapters by default on jruby
Test AR integration with jdbcsqlite3 adapter on jruby
Work around mock request hashing problem on 1.9 and jruby
Prefer tap to returning
Remove dummy Object#try before aliasing it
Avoid circular require
Ruby 1.9 compat: change encoding of action_view/renderable to utf-8, so erb templates can use utf-8 properly
Ruby 1.9 compat: call bytesize for content_length
Add sibling AS to load path for testing to ensure gems aren't used
Use Array.wrap, remove unneeded returning block
Introduce Array.wrap(foo) to wrap the argument in an array unless it's already an array. Wraps nil as an empty array. Use instead of Array(foo) and foo.to_a since they treat String as Enumerable.
Include failed difference expression in assert message
Remove dead testing core_ext
Work around enumerable string deprecation warnings
Tightening the condition for including ActiveSupport::Testing::SetupAndTeardown::ForMiniTest.
Minor formatting fix to contribute page
Add new contribute page to replace existing Hackfest page
This is no longer relevant when the 500.html is comletely static
Update 2.3 release notes.
Remove the ERb in the 500 as it looks dumb when served by the web server directly. Also, to instructions will often be wrong (the error might well be in the web server log)
Cleanup application has been merged with reload
Restore stale session check and move after dispatch development cleanups before the request
Use Path rather than EagerPath when cache_classes == false so other view paths are properly recompiled in development mode [#1764 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Remove whitespaces
Don't use weird attribute_condition methods in AR Session Store
support end-exclusive ... Ranges in SQL hash condition sanitization properly
re-enable db:schema:dump so db:migrate:redo dumps the schema after migrating back up
Support true/false in query_attribute for calculated columns
Also save :autosave enabled associations when #save! is used.
Nested attribute accessors should ignore new records with truthy _delete key.
Handle every error that can come out of the Iconv branch by rescuing and returning nil
Allowing an object to be passed explicitly to a fields_for with nested_attributes on one-to-one associations
Make sure all autoload constants are pulled in when using config.threadsafe! [#1831 state:resolved]
added a convenience rake task for guides authors
Eliminate unnecessary File.exist? when correct file extension given [#1879 state:resolved]
implicitly rendering a js response should not use the default layout [#1844 state:resolved]
script/server command can accept --path option to set app's root path [#1156 state:resolved]
Revert "created unit tests and fixed bug that failed tests"
created unit tests and fixed bug that failed tests
Add ActiveRecord::Base.exists? with no args [#1817 state:committed]
Added tests from Andrew Whites fix [#1385 state:committed]
A few more minor scaffold template cleanups
Update scaffolding [#1840 state:committed]
Remove double parenthesis in docs
Change the name of perf guide in index/navbar
Format and typo cleanup of 2.3 release notes
Add example of creating join table to habtm documentation
Active Record Validations and Callbacks TODOs added, spelling and small cleanup
Finish TODOs for Active Record Callbacks and Validations, will continue to review
Migrations: make default database connection overridable
Ruby 1.9 compat: use String#each_line instead of #each
Remove stray API link
Formatting cleanup and fixes for Active Record Validations
Remove API links and add TODOs #26
Minor rewording on the index page
Formatting fixes for Getting Started guide
Update Guides, Active Record Validations, better explanation of what methods bypass validations
add link to machinist in testing guide under other testing approaches
Added advanced server command and a mini-generator tutorial.
Require rubygems
Update ci config to use mocha 0.9.5
Ruby 1.9: force ascii encoding for comparison with utf8 regexp
Bump mocha requirement for Ruby 1.9 compat. Remove uses_mocha.
Convert the guides from asciidoc to textile and integrate with the new design.
Remove all the existing asciidoc guides
Remove all the guides
Remove errant debug code
Workaround jruby issue with protected module attr_accessor showing up as public in included class
Don't assume ActiveRecord is available
regenerate guides HTML
details and minor rewordings in Action Mailer guide up to section 2.2
Make tests pass
Whoops.
Add support for pending
Some merge cleanup
Added localized rescue (404.da.html) [#1835 state:committed]
I18n guide: Correction -- Invalid .rb dictionaries will crash on first request, not on app startup, due to lazy loading. Thanks @darktatka.
I18n guide: Add warning about YAML sensitivity when storing translation in YAML files, add info about better debugging when using Ruby files for translations: they crash your app during start-up. {i18n}
Add link to Ryan Tomayko's "locale" Rack middleware to i18n guide
Added the first part to the Rails Advanced Command Line
Template#mime_type should not use Mime::Type when Action Controller is not included
Mark CHANGELOGs for release
Regenerate Guides HTML
Add missing changelog entry to getting started guide
Update associations guide for 2.3
Reword the docs for association_foreign_key
Revert "A small addition to the fragment caching documentation"
Add Rails Guides to the default links on generated index.html [#1839 state:resolved]
Add :reconnect option to generated mysql database.yml [#1838 state:resolved]
Regenerate HTML
Getting Started edit + 2.3 content
Additional links on 2.3 release notes
Use Rack::Head middleware to ensure the body is discarded for HEAD requests
Remove ancient tests for CGI parsing bug
Removed Prototype specific Safari 2 AJAX hack. The normal null character stripper is still there.
Rebuild release note HTML
Update 2.3 release notes
Don't rely on the order in these tests
validate_length_of should use custom message if given when using in or within.
Removed map.resources :only/:except inheritance
Add support for nested object forms to ActiveRecord and the helpers in ActionPack
Remove dead cgi_ext require
Remove duplicate ConcurrentHash
Regenerate guides html
Finalised first draft of Active Mailer Basics guide
Ruby 1.9 compat: omit Rack::Lint from integration tests until it accepts String headers and bodies
Ruby 1.9 compat: work around that String is not Enumerable
Make sure XmlMini is being correctly autoloaded by Ruby 1.9.1
Getting rid of some of the pre-existent content in the AR basics guide, adding new stuff to it.
Rebuild guides + relnotes HTML
Update 2.3 release notes, plus one late change to 2.2 release notes
Make Partial example more clear
Remove core ppl from lead contributors
Sync 'rails/rails/master'
Ensure constant_watch_stack is protected by a mutex, so concurrent requires do not corrupt it.
Updated the Action Mailer Basics guide
Controller, response, and request should all refer to same session, even after a call to session_reset [#1823 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Deprecation tests for f17c876 [#1801 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
More text added to the active record basics guide
changed you to your
Digest#validate_digest_response should accept request instead of controller
Added grouped_options_for_select helper method for wrapping option tags in optgroups. [#977 state:resolved]
Add Digest authentication
Implement HTTP Digest authentication. [#1230 state:resolved] [Gregg Kellogg, Pratik Naik]
Move dispatch related tests into test/dispatch
Sqlite adapter's copy_table incorrectly attempts to recreate a primary key id (:id => true in the create_table) if an :id column is present, even if it isn't a primary_key.
Move to use pg instead of postgres on the CI server
Only dup local cache values if duplicable [#1653 state:resolved]
Move basic auth test controller inside the test class
Improve exception handling when Location header is invalid. [#1192 state:resolved]
Using the highlight helper on text with html shouldn't highlight text inside html attributes. [#1302 state:resolved]
Ensure whitespaces are stripped when merging string joins. [#1297 state:resolved]
Added options to script/dbconsole to sqlite3 console in various different modes. [#607 state:resolved]
ActiveResource#eqls? and == should not take into account object identity and prefix options should be considered. [#1098 state:resolved]
Ensure selected option is not ignored for collection_select. [#1037 state:resolved]
Ensure that when UrlWriter is included in multiple classes, the default_url_options of one don't affect the other. [#1277 state:resolved]
Add array id support to Model.update_counters. [#1254 state:resolved] [Carlos JÃºnior]
Session cookie header should always be set if :expire_after option is specified
Change the license to Creative Commons Attribution-Share Alike
First draft of Rails 2.3 release notes.
Advancing in the Active Record Basics guide
Move HTTP libs and middleware into ActionDispatch component
Reorganize ActionController folder structure
Use toplevel reference to ::StringIO since we're in a BasicObject.
Disable eager loading for all rake tasks [#802 state:resolved]
Restore implicit rendering for XHR requests that want a HTML template [#1590 state:resolved]
Dont use Memoizable for ActionController::Request
Improve i18n support for number_to_human_size helper: * now using pluralization properly * storage unit translations moved to number.human.storage_units.units * introduced number.human.storage_units.format for languages that do not follow "{{number}} {{unit}}" format (Japanese)
Ensure the full path is used when searching for layouts [#1803 state:resolved]
Remove caching guide for now
Regenerate html
Mysql#reconnect is set according to the 'reconnect' key in the connection spec.
more corrections
corrections from Xavier
remove stray backslashes
Finished the tutorial part of i18n guide (organization of locale files)
Finished section about "Setting the locale from the client's information": 'Using Accept-Language' and 'Using GeoIP (or similar) database' {i18n guide}
First part of "Setting locale from the client supplied information" section (using HTTP Accept-Language) {i18n guide}
Added note about Rails' i18n pragmatic to locale keys and differences between eg. en-US / en-UK.
Clarifying the need and context of patching i18n in Rails 2.2, so we have "available_locales" available {i18n guide}
Clarifications for the i18n guide: descriptions of working with URLs like "/en/books"
Re-wrote intro section w/r/t to i18n/L18n difference, more concrete description
Updated Object#try doc to match lifo's "no code change" revert c9b8a26ba1cd8277580fc2a554fe3a67a52f1756
A small addition to the fragment caching documentation
Add localized templates
add #available_locales to I18n and I18n::SimpleBackend, flatten translations load_path when loading translations [#1714 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
add an inspect method to OrderedHash to make it clear that it is not a species of Array
Adding AR tests for JDBC connections
An updated description of Object#try to better reflect changes documented at http://is.gd/hdmo and http://is.gd/hdmQ
We have a very strict NO code changes policy.
An updated description of Object#try to better reflect changes documented at http://is.gd/hdmo and http://is.gd/hdmQ
Starting to work at the Active Record Basics guide
More minor corrections
no to excessive capitalisation
Rails.root instead of RAILS_ROOT
AJAX => Ajax
Some minor typos and corrections
etc... => etc.
Regen form guide
point people in the direction of attr_accessible etc...
some missing fixed width words
don't use short form of form_for before it's been introduced
tweak section name
add warning about options_from_collection_for_select
find :all -> .all
clarify wording around second arg to options_for_select
lisabon -> lisbon
Remove the irrelevant fixture added in fe6ffce51dc16285094be49244b26591956c2dd6
Make sure inner scope conditions get a preference over the outer ones
Regenerate guides
when mentionning csrf link to the security guide
tidy up dealing with model objects helpers section
could -> can when appropriate
tidyup section on select boxes
Tidy up section on dates and times (and add brief blurb on select_year, select_day etc)
fix some typos in parameter names section
attributions belong at the bottom
Clarified the difference between `:foreign_key` and `:association_foreign_key` options in HABTM association
Add Mailer to the index page and regenerate
update with some of fxn's corrections
Begin unifying the interface between ActionController and ActionView
Regenerate guides
Basic formatting fixes for the rest of the i18n guide (+ some basic cleanups)
Finished section "Setting locale from the URL params" in i18n guide (+ various typos/formatting fixes)
Complete "Setting locale from the domain name" in i18n guide
Extended and clarified intro section of i18n guide.
fixed a few filenames and paths
Draft Action Mailer basics guide, now with section on testing
updated broken link
Update interpolations in i18n guide.
Minor refactoring of validates_associated to replace #inject with #collect + #all?
ActiveRecord => Active Record
Regenerate guides
i18n guide: refer to section 'Error messages scopes'
i18n guide: add section: overview of other built-in methods
i18n guide: added sections: conclusion, contributing to rails-i18n, resources, authors
Setup ActiveRecord QueryCache middleware in the initializer
Only insert metal middleware if any exist
Missed RequestParser in ff0a267
Added section about Setting locale from URL to i18n guide
Basic draft of section "Setting and passing the locale" for i18n guide
Allow empty files to be uploaded
Add MiddlewareStack#swap   config.middleware.swap ActionController::Session::CookieStore, MySessionStore
Don't let empty Tempfiles come through as uploaded files [#1785 state:resolved]
Restore cookie store httponly default to true. Remove extraneous dup of options on initialization [#1784 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Deprecate ActionController::Base#session_enabled?
Regen guides
link to the validations guide
rename some sections
rename section
Rearrange sections on basic form helpers/form_for
tidy up some wording
move section on uploads up
Changed the 'guides' Rake task to ignore Vim swap files during the HTML generation, removed active_record_basics.txt from the ignore list and generated initial HTML of it with previous contents.
Improve HTTP Basic authentication tests
quoted a couple of strings
in depth revision of AssetTagHelper rdoc
Add missing validates_numericality_of message names to i18n guide.
Bump up the year in MIT license files
Remove script/performance/profiler in favour of performance integration tests.
Add ActionMailer::Base#enable_starttls_auto option for enabling/disabling STARTTLS. [#1731 state:resolved]
Build query string and POST params parser on top of Rack::Request. Also switch our multipart parser to use Racks. Moved XML, JSON, and YAML parsers into ActionController::ParamsParser middleware [#1661 state:resolved]
Add test coverage for fixing Safari 2 trailing null character
Refactor Object#try to use inheritance. [#1774 state:resolved]
Add links to lighthouse ticket for i18n guide
Regenerate guides
Add rake task for generating a subset of guides
Decouple the local cache strategy from MemCacheStore for reuse with other remote stores [#1653 state:resolved]
First go at the Action Mailer guide
Clarifications and additions to the introduction part of Internationalization (I18n) guide
Add command line to index and minor change in finders guide
Ensure any method sent to RewindableIO reads the original IO object [#1767 state:resolved]
Lock middleware has been committed upstream
Revert "Updated readme to include instructions on which dependencies to install before building guides."
Cache columns for has_and_belongs_to_many associations
Skip respond_to check so rack.input doesn't have to implement it
removed colons from an Options header
removed colons from a few Example headers
reworded docs of AssetTagHelper, Mike helped here
Make ActioMailer quoting test play nice with Ruby 1.9 [#1726 state:resolved]
Dup keys in OrderedHash to prevent them from being modified [#1676 state:resolved]
Make belongs_to :dependent => :destroy  destroy self before associated object [#1079 state:resolved]
Properly quote json keys.
* Tabs -> Spaces in guides templates * Move inline css to a file
Remove version info
Added in a local per request cache to MemCacheStore. It acts as a buffer to stop unneccessary requests being sent through to memcache [#1653 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Update route globbing documentation in routing guide
Update route globbing documention in RDoc
Use :secure key in session_options example instead of :session_secure
Small modifications in the text of the section about using the errors collection in the view, fixed a typo at the validates_numericality_of section
Adding options for validates_numericality_of, adding author name with link at the end of the page
Added Vim old swap files do .gitignore
Sync 'rails/rails/master'
revised rdoc of class_of_active_record_descendant
Use Rack's MethodOverride lib [#1699 state:resolved]
Update multipart tests to expose (another) bug in Rack's multipart parser
Sync 'rails/rails/master'
Add RewindableInput wrapper to fix issues with middleware that impolitely eat up non-rewindable input
Sync 'rails/rails/master'
Explicitly read as binary in multipart_body for Windows [#1065 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Use :key instead of old :session_key in session_store.rb generator and docs [#1746 state:resovled] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Remove legacy reloadable? method from ActiveRecord::SessionStore [#1745 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Revert "HTTP Digest authentication [#1230 state:resolved]"
Regenerate html
Update guide to say sessions are lazy loaded
Change Object#try to raise NoMethodError on private methods and always return nil when Object is nil [Pratik Naik, Lawrence Pit]
Edits to validation section
Move rake middleware to the top
Update internal middlewares/purpose table.
Docs: in typical usage, "descendant" is the noun and "descendent" is the adjective
A little copyediting of 73db43527d162fdf95665d88589f7ab6d17a17fa
Add better docs for ActiveRecord::Base#attribute_for_inspect
Add Pratik to authors page
- Approve performance guide for publication - Rename AR finders guide
Adding explanation about how the callback chain is wrapped in a transaction
Sync 'rails/rails/master'
TimeWithZone#xmlschema accepts optional fraction_digits argument [#1725 state:resolved]
Add links
- Add 'Performance test environment' to Performance guide - Add rake middleware and Josh's chat log to Rack guide - Remove long changelog from Active Record Finders guides
Initial draft of the rack guide
Clarified use of assert_select with blocks in testing guide and rdoc text
Refactor request urlencoded params parsing tests
Introduce transaction_joinable flag to mark that the fixtures transaction can't joined, a new savepoint is required even if :requires_new is not set. Use :requires_new option instead of :nest. Update changelog.
Getting rid of the example of callback registration by overrinding the callback method name
Adding text about conditional callbacks
Minor changes to AR#delete/destroy docs
Moved query string parsing tests into the request tests folder
Refactor request multipart params parsing tests
Regen html
Copy editing on performance test guide.
Add command line tools to perf guide
Add a note about tuning perf test runs
Minor changes in performance guide
Sync 'rails/rails/master'
Some examples for perf testing
Keep movin stuff in perf guide
More refactoring in perf guide
Refactor request xml params parsing tests
Refactor request json params parsing tests
Ensure we override Rack::Request's POST method too
Some more perf guide stuff
Refactor request query string parsing tests
Inherit ActionController::Request from Rack::Request
Process time should be wall time when benchmarking
Remove Content-Length header from :no_content responses
Set assigns for integration tests also
Take care not to mix in public methods
Use instance_eval instead of adding an accessor to the class
Include process methods in ActionController::TestCase only. No need to alias_method_chain :process either.
Object#tap for Ruby < 1.8.7
Spam people with commit rights on test failures.
Update CI configuration to reflect latest gems.
Added :allow_blank to the common validation options section
Moved validates_each to the last position of it's section. Added VIM swap files to .gitignore
Update performance testing guide stuff
Regen guides
Remove Content-Length header from :no_content responses
Set assigns for integration tests also
Take care not to mix in public methods
Use instance_eval instead of adding an accessor to the class
Include process methods in ActionController::TestCase only. No need to alias_method_chain :process either.
Object#tap for Ruby < 1.8.7
Rewrite ActiveRecord::Base#destroy_all docs to remove incorrect info, mention return value, and improve clarity
Spam people with commit rights on test failures.
Update CI configuration to reflect latest gems.
Update CI configuration to reflect latest gems.
Sync 'rails/rails/master'
Consolidate test_help requires
Explicitly require AS::TestCase
Bump Rack version to 0.9
Sync 'rails/rails/master'
Sync 'rails/rails/master'
Correctly formatted comment
Cache AssetTag timestamps
TimeWithZone#- gives correct result with wrapped DateTime, and with DateTime argument
Memoize request accessors on the Rack env so other request objects have access to the same cache [#1668 state:resolved]
Sync 'rails/rails/master'
Move metal above method piggybacking middleware and add some test coverage
fix typos etc. picked up by Xavier
Complete draft of configuring guide; add configuring guide to index; regenerate HTML.
FIx bad date in Guide changelog.
Sync 'rails/rails/master'
Update table syntax in guides to fix deprecation warnings during build.
Add failing test for file uploads with unrewindable input
Revert to the good old days when AssetTag didn't cause anyone problems
Regenarate html
Mention another complex forms plugin
Add stub section on complex forms until a definitive solution makes it into core
merge work on form helpers guide
claridy handling missing files
Update flash[] docs a bit.
Bevy of typo corrections
Removed stuff about overriding validate_on_create on the AR Validations and Callbacks Guide, added new section to the Authors page
first stab at the section on file uploads
Added :silence option to BenchmarkHelper#benchmark and turned log_level into a hash parameter and deprecated the old use [DHH]
Delete todo section
info on namespaces
Rearrange  the date and form builder sections
Flesh out the section on parameter names
move the fields_for/form builder section higher up
waffle about parameter names and fields_for
Clarify fields_for and form builders
explain fields_for
Only silence backtrace from plugin lib dirs
Test that exceptions raised in filters are properly rescued
Clean trailing / after rails root from backtraces
Add transaction check to SQLite2 adapter to fix test_sqlite_add_column_in_transaction_raises_statement_invalid [#1669 state:resolved]
Clean up view path cruft and split path implementations into Template::Path and Template::EagerPath
Don't construct object deprecation proxy if unneeded
First draft of section on parameter names
Added section on date/time helpers
Removing topics that are covered in another guide.
country_select url
typos
minor clarifications
Warning about using select on associations
ActiveRecord -> Active Record
put credits at end, consistent with other guides
exorcise we/us/ours
clarify option value
fix mistakes from merge
Tidy up discussion of second hash passed to form_tag/html options for form_for
Waffle about the difference between text_field and f.text_field
Add warning
Stylistic tweak
describe foo_tag versus foo
Describe options_from_collection_for_select
fix typo
Add validations guide to index
Only silence backtrace from plugin lib dirs
Test that exceptions raised in filters are properly rescued
This example seems unnecessary. Note that the examples of form helpers depict just their traditional usage. The documentation of form_for is the one that makes the link with form builders. On the other hand, people are expected to know what's a hidden field in HTML forms.
Simple example added for using hidden_field tag used in a form
Clean trailing / after rails root from backtraces
Add transaction check to SQLite2 adapter to fix test_sqlite_add_column_in_transaction_raises_statement_invalid [#1669 state:resolved]
document edge cases in AR calculations, and wrap some comments
Clean up view path cruft and split path implementations into Template::Path and Template::EagerPath
It was decided that Multibyte does not belong to as/mini.
Rewrite ActiveRecord::Base#delete docs to remove false information about callbacks, mention return value, and improve clarity
James B. Byrne's suggestions
Made code segments and method names have fixed-width fonts
Added missing images for the AR validations and callbacks guide
New content for the AR Validations and Callbacks guide: Added a section about using error messages in view templates, added text about custom validation helpers
Sync with rails/rails/master
Use rack namespace for routing args
Make router and controller classes better rack citizens
Pull up some other changes from rails/rails/master
HTTP Digest authentication [#1230 state:resolved]
Allow custom rails generators to pass in their own binding to Create command so that the corresponding erb templates get rendered with the proper binding [#1493 state:resolved]
Allow multiple conditions for callbacks [#1627 state:resolved]
Sync i18n update from rails/rails/master
Sync with rails/rails/master, merge two metaprogramming annotation efforts
Update i18n gem to version 0.1.1 (Rails' changes were backported) [#1635 state:committed]
Introduce dynamic scopes for ActiveRecord: you can now use class methods like scoped_by_user_name(user_name) and scoped_by_user_name_and_password(user_name, password) that will use the scoped method with attributes you supply. [#1648 state:committed]
Inline code comments for class_eval/module_eval [#1657 state:resolved]
Use active_support/mini instead of active_support/minimalistic
Sync with wycats/rails/master
active_support/minimalistic.rb => active_support/mini.rb
Ensure template runner tests don't depend on hash ordering [#1654 state:resolved]
Request#env['SERVER_NAME'] does not contain port number
Use SimpleLogger for Rails::TemplateRunner outside of the Generator context [#1618 state:resolved]
Revert inline docs
Annotated metaprogramming code across ActiveSupport
Introduce minimalistic package for ActiveSupport.
Added documentation to gsub_file method
Rewrite ActiveRecord::Base.delete docs for clarity, and mention return value
Regenerate Guides HTML
Adding test coverage and better logging to Rails::TemplateRunner [#1618 state:resolved]
adds more inline docs for dynamically created methods in Active Support
adds inline docs for dynamically created methods in Active Record
adds inline docs for dynamically created methods in Action Pack
adds inline docs for dynamically created methods in Active Support
More formatting cleanup for testing guide
Add information on new rendering syntax to layouts + rendering guide
Refactor ActiveRecord::Base#new_record? [#1647 state:committed]
Formatting changes on index and testing guide
Add version links to index
ActiveRecord::Base#new_record? now returns false for existing records (was nil) [#1219 state:committed]
It is better to have this commented out to let locale-checking scripts perform better (rails-i18n)
More optimizations on respond_to after a profile and benching:
Remove method missing use in respond_to
ActionController::Request docs: fix reference to nonexistent ACCEPTED_HTTP_METHODS constant, clean up #request_method and #method
Preload uses exclusive scope [#643 state:resolved]
Association preloading no longer stops if it hits a nil object [#1630 state:resolved]
MaKe Hash#slice! return removed values, akin to Array [#971 state:resolved]
Documentation for merged joins
Don't recurse when ActionController#render is called without any arguments
Inline the only call site of Mime::Type#browser_generated?
Initial work to merge several places with similar logic
Make ActionController#render(symbol) behave same as ActionController#render(string) [#1435]
Make ActionController#render(string) work as a shortcut for render :action => string. [#1435]
Make ActionController#render(string) work as a shortcut for render :template => string. [#1435]
Make ActionController#render(string) work as a shortcut for render :file => string. [#1435]
Move ActionController::Base#render arguments validation to a separate method
Make render_test.rb run in isolation
Undry ActionController::TestCase#<HTTP_METHODS> for better documentation
Move request parsing related code to ActionController::RequestParser
form helpers: twakes based on feedback; more content; set outline for remaining topics
ActionController::VerbPiggybacking middleware
Xavier Noria suggestions added! Guides #16, parts 27-29.
Remove duplicate attr_reader :env
Unify ActionController::AbstractRequest and ActionController::Request
Use Rack::MockRequest for TestRequest
Rename RackRequest to Request
Remove rack_process.rb
Remove deprecated relative_url_root
Defining a new method is atomic, no mutex needed.
Don't construct object deprecation proxy if unneeded
Move default middleware stack to middlewares.rb
ActiveRecord::QueryCache middleware
Ensure of Model#create support custom updated_at and updated_on attributes [#1612 state:resolved]
Use I18n for date/time select helpers prompt text [#561 state:resolved]
Add :allow_nil option to delegate [#1127 state:resolved]
Ensure Model#last doesn't affects order for another finders inside the same scope [#1499 state:resolved]
Added prompt options to date helpers [#561 state:resolved]
Ensure the template format is always passed to the template finder. Now we can cleanup some nasty stuff.
Allow use of symbols for :type option of ActionController::Streaming#send_file/#send_data [#1232 state:resolved]
Correct description of tmp:create task [#1607 state:resolved] [Roderick van Domburg]
Use explicit order to stop test failing randomly
Remove observe_field :on option as prototype no longer supports it [#1088 state:resolved]
Remove dead commented out code [#1467 state:resolved]
Added section on having.
Added section about using expressions as values for the lock option.
Command Line Guide: Added short console/dbconsole/plugin/runner/destroy/about
Switch to Rack::Response#set_cookie instead of using CGI::Cookie to build cookie headers
Added more to the hashn conditions section.
Add missing fixture to allow reload models test to run isolated [#1609 state:resolved]
Rename AbstractResponse to Response and inheirt from Rack::Response
Process CGI 'cookie' header into 'Set-Cookie' for all responses. This mostly affects response.headers['cookie'] for test requests. Use response.cookies instead.
Improve cookie test coverage
Use status response accessor instead of the 'Status' header
Diverge Metal implementation from Rack::Cascade since we want the last app to return its headers and body if the status is a 404.
Add repair_helper.rb file I forgot in previous commit 8a92cd
Add a repair_helper to repair changes to the validations inside validations_test.rb [#674 state:resolved]
Revert "Auto-load template handlers based on unmatched extensions [#1540 state:resolved]"
Better documentation for options_from_collection_for_select.
Cheaper metal cascade
Use LogTailer
Ensure rack.multithread is set back to original value. Accept external lock.
No need to dup immutable options
Be sure to call super
Rename Rails::Rack::Logger -> LogTailer. Speed up log mtime checks.
Cheaper log tail time comparison
Free MySQL::Result objects after a call to execute [#1416 state:resolved]
Don't include table_name twice
Ensure :include checks joins when determining if it can preload [#528 state:resolved]
Add missing model files so tests can run isolated [#1506 state:resolved]
Make exceptions raise from find_by_foo! have a more helpful message [#1567 state:resolved]
Cleanup dispatch path
Use more generic test env flag
Conditionally inject session middleware instead of using session management
Move gaint lock into middleware
Persistent session identifier support for CookieSessionStore and API compat. with the server side stores [#1591 state:resolved]
Ensure error file is sent with a 'text/html' content type [#1478 state:resolved]
When checking for the wrong routing method, ensure the environment is passed to recognize optimize [#1406 state:resolved]
Make generated Metal bits a pure rack endpoint application (not middleware)
Decorate responses from Rack Middleware and Rails Metal for the purposes of integration testing. A test for the following Metal:
Correct one instance of table syntax.
Started working with the scaffold instead of model generator to teach models
Remove set_cookie hack from rack response since we dont use cgi sessions anymore
Remove CGI::Session memory leak patch
Introduce Rails Metal
i18n guide: add note about #t and #l aliases
i18n guide: add screenshots and explain localize method
i18n guide: renumber footnotes (do i really need to do this manually?)
i18n guide: add link to rails-i18n wiki about "How to encode the current locale in the url"
i18n guide: actually use footnotes
add quote from wikipedia about I18n and L10n
explain exceptions, exception_handler and :raise option
explain changes of pluralization feature
explain purpose of interpolation feature
use new asciidoc table syntax
Update documentation for default_scope
normalize author names in changelogs [#1495 state:committed]
note about #t helper vs I18n.t
i18n guide: remove remaining references to en-US, use Symbols for locales
Do not output an ETag header if response body is blank or when sending files with send_file(... :xsendfile => true) [#1578 state:committed]
Lazy load flash access
Don't write nil values to default session options hash
Documented some undocumented activerecord methods.
Updated finders guide to include hash conditionals.
Session objects are always a hash, so we need to ensure a flash hash is always assigned to the session
Revert "Make constantize look into ancestors"
Clear empty nil values in session hash before saving
Switch to Rack based session stores.
Auto-load template handlers based on unmatched extensions [#1540 state:resolved]
Require mocha >= 0.9.3, older versions don't work anymore [#1579 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Make constantize look into ancestors
Use Mime::JS in place of explicit 'text/javascript' [#1573 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Implement Mime::Type.=~ to match all synonyms against arg [#1573 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Properly parenthasize calls to defined?(Rails) in 75fa82418 [#1563 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Added gem backtrace pretty priting (Juan LupiÃ³n) [#1497 state:committed]
Make delete_if/reject faster and fix other mutators
Added some text about the possibility of observers' registration also at the config/environment files (AR Validations and Callbacks Guide)
Updated section about halting execution of operations when a before_xxx callback returns false (AR Validations and Callbacks Guide)
Some more info about the effect of calling the clear method upon a model's errors collection (AR Validations an Callbacks Guide)
ActionMailer::Base - add example of multiple recipients and make the format of addresses obvious
Make delete_if/reject faster and fix other mutators
Add :partial option to assert_template [#1550 state:resolved]
Minor asciidoc syntax fixes to the testing guide.[Luke Amdor]
Prefer Rails.logger over RAILS_DEFAULT_LOGGER
Don't use the transaction instance method so that people with has_one/belongs_to :transaction aren't fubared
Squash memory leak when calling flush with an empty buffer
Added a :camelize option to ActiveRecord and Hash to_xml serialization and from_xml deserialization
Add ActiveRecord::VERSION autoload
Rework ActiveSupport::OrderedHash to make lookups faster
Wrap code lines longer than 80 columns on AR validations and callbacks guide
Explicitly require ERB Utils extensions from TagHelper
Benchmark.ms
How'd that sneak in there?
Updated included memcache-client to the 1.5.0.5 version which includes fixes from fiveruns and 37signals to deal with failover and timeouts (Joshua Sierles) [#1535 state:committed]
Use full path to environment
Add ActiveSupport::Multibyte::Chars#ord method so that it returns correct Unicode value instead of falling back on String#ord in CoreExtensions, which is not multibyte compatible
Changelog entry for #1294
Changelog entry for #1397
Make word separator in AR validation error messages configurable.
Change Array#to_sentence I18n options to pass comma and space character from outside.
Change field_changed? method to handle the case where a nullable integer column is changed from 0 to '0'
Update documentation for default_scope
Make integration test runner more Rack friendly and clean out old CGI cruft
Remove bad markup on validation method placeholders
Add a rake task to apply a template to an existing application.
Remove unused TemplateRunner attributes
Added support for plugins to be installed as submodules with the application templater. [#1517 state:resolved]
Silence server backtrace in rescue templates and log files. Also remove some noise from missing template errors.
Boot out CGI Processor.
Ensure route set is cleared on teardown
Set template_format to html inside rjs templates so renders within it default to html.
Make NoMethodError message more descriptive when an undefined message has been sent to an association [#1515 state:resolved]
Ensure each rack request has its own dispatcher instance
Remove config dir from the load path
Add :env and :sudo options to TemplateRunner#rake.
Make TemplateRunner#generate accept any number of arguments
Register bogus template handlers for ActionMailer test fixtures
Add Memoizable#flush_cache to clear the cache of a specific method [#1505 state:resolved]
Validate template extensions [#1187 state:resolved]
Require rack/utils explicitly
Unnecessary CGI require
Updated Actionpack README. Removed reference to examples that have long since been removed from the distribution. Examples were removed by David on 09-09-07 in subversion changset 7424 http://dev.rubyonrails.org/changeset/7424
Update the Action Pack README a bit to use the current API and fix errors
Removed deprecated register_template_extension
Remove docs for TemplateRunner#gem as the behaviour has been changed
Add "-m/--template" option to Rails generator to apply template to generated application.
Make new_record? an alias of new? in ActiveResource to fix problem with route generation in forms.
Remove old sections on pagination and components from Action Pack's README
Github comments are an excellent way to perform community code review -- keep it up!
Added documentation for Observers in the AR validations and callbacks guides
establish mysql connection before dropping database
Manually load the DB config rather than firing the whole initializer [Gerrit Kaiser]
Add internal middleware stack to Dispatcher
handle missing dependecies in gem loading
Making the IP Spoofing check in AbstractRequest#remote_ip configurable.
Add :having option to find, to use in combination with grouped finds. Also added to has_many and has_and_belongs_to_many associations.
Removed extra 'as' in :joins clause for habtm preloading
Ensure ActionMailer doesn't blow up when a two argument proc is set for the asset host
allow options to be passed to email address auto generation
opps, inner_app is in the wrong conditional
Generate rackup dispatcher with rails:update:generate_dispatchers
fix failing railties test
Switch FCGI handler over to Rack
ActiveRecord#to_param docs: fix a few singular/plural errors
Improve ActiveRecord#exists? docs
Simplify Request#path
Simplify REMOTE_ADDR parsing
Deprecated formatted_polymorphic_url
Extracted the process scripts (inspector, reaper, spawner) into the plugin irs_process_scripts [DHH]
Changed Rails.root to return a Pathname object (allows for Rails.root.join("app", "controllers") => "#{RAILS_ROOT}/app/controllers") [#1482]
Add restart notice where missing
Even more polish of the default configration files and split off the session store configuration into its own file
Cleanup the app generator
Say it briefly
More organization based on priority
Me loves me some whitespace
Cleanup other examples and wording
Rails::Configuration never had more details. Stop lying about it
Its no longer common to run Rails in environments where you cant set the environment to be the production one. Dont need a notice telling about the ENV var that prominently any more
Added using an SQL function example to Selecting Certain Fields section as per http://rails.lighthouseapp.com/projects/16213/tickets/36-adding-an-example-for-using-distinct-to-ar-finders
Regenerate Guides HTML
Typo fixes to various guides.
Minor syntax fixes to the testing guide.
Load app initializers by path relative to Rails.root
Extract named_helper module_eval so it's easier to override
Turn on debugger autoeval
Make sure #compute_public_path caching allows to return different results for different given sources [#1471 state:resolved]
Enhanced Rails.root to take parameters that'll be join with the root, like Rails.root('app', 'controllers') => File.join(Rails.root, 'app', 'controllers') [#1482 state:committed] (Damian Janowski)
Include Rack in the server noise
Revert "Super lazy load view paths in development mode (no indexing or caching at all). Switch layout finders to use view path api to take advantage of cache." as it killed dev mode reloading.
fixed template recompile issue with previous commit and add some better tests so we can make sure it doesn't happen again
Reinstate "Super lazy load view paths in development mode (no indexing or caching at all). Switch layout finders to use view path api to take advantage of cache." as it killed dev mode reloading."
Revert "Super lazy load view paths in development mode (no indexing or caching at all). Switch layout finders to use view path api to take advantage of cache." as it killed dev mode reloading.
Added view path support for engines [DHH]
Added the option to declare an asset_host as an object that responds to call (see http://github.com/dhh/asset-hosting-with-minimum-ssl for an example) [DHH]
Super lazy load view paths in development mode (no indexing or caching at all). Switch layout finders to use view path api to take advantage of cache.
Ruby 1.9 compat: no Unicode normalization support yet
Ruby 1.9 compat: CGI#escape_skipping_slashes
MiniTest::Unit#method_name alias for Test::Unit compat
Ensure Test::Unit::Assertions is available
Let all plugins not just engines have a config/routes.rb file
Added that config/routes.rb files in engine plugins are automatically loaded (and reloaded when they change in dev mode) [DHH]
Next installment: more of the generate script, but should probably go with explaining scaffolding instead of hacking an existing controller.
Added support for multiple routes files and made draw not clear the map so they can be additive
Ensure hash conditions on referenced tables are considered when eager loading with limit/offset. [#1404 state:resolved]
Don't re-require 'rexml/document'
Added ActiveSupport::OrderedHash#each_key and ActiveSupport::OrderedHash#each_value [#1410 state:resolved]
Added app/[models|controllers|helpers] to the load path for plugins that has an app directory (go engines ;)) [DHH]
Tiny doc example change for escape_once()
No need to have #generate and #generate_extras per instance
Added optimal formatted routes to rails, deprecating the formatted_* methods, and reducing routes creation by 50% [#1359 state:committed]
Simpler and clearer to just explicitly require the JSON encoders
Autoload ActiveSupport::XmlMini
Require as little of REXML as possible to apply the entity_expansion_limit fix
Lazy-require CGI for Object#to_query
Rename use_transactional_fixtures? so it doesn't collide with the superclass_delegating_accessor's query method
Extract XmlMini. Namespace FileLike extension.
Rescue OpenSSL::Cipher::CipherError or OpenSSL::CipherError depending on which is present
Remove XmlSimple dependencies
Unbundled XmlSimple
Extract XmlMini from XmlSimple. [#1474 state:committed]
Added some text about callbacks classes
Move debugger into middleware
Add a MessageEncryptor, just like MessageVerifier but using symmetric key encryption.
Made documentation of validates_presence_of use monospaced fonts correctly.
don't try to require vendored rack in script/server
Depend on rack 0.4.0 instead of vendoring it
Deprecate assert_valid
Ensure ActionView will be available to ActionMailer if ActionController is not loaded
Ensure all HTML:: constants are available to autoload [#1462 state:resolved]
Explicitly require Active Support for tests
AS::Dependencies also has core extensions; don't autoload it.
Explicitly require Action View also
Explicitly require AS::Deprecation for the SecretKeyGenerator. Bring in ActiveSupport::TestCase for its tests.
Skip fcgi dispatcher tests if fcgi lib isn't available
Explicitly require action_view to bring in its i18n load path
Really remove components.
Rename Rails::Info.components to frameworks
Add config.preload_frameworks to load all frameworks at startup. Default to false so Rails autoloads itself as it's used.
Initializer#env relies on StringInquirer autoload. Style fixes.
JSON can't be autoloaded since it includes core extensions
Ruby 1.9 compat: explicitly require delegate for cookie's DelegateClass
Require builder before fast_xs so we don't tickle its over-eager String#to_xs collision check
Explicitly require Builder in test that uses it
Revert "Hack builder to look for fast_xs instead of insisting on its own String#to_xs"
Add a rake task to generate dispatchers : rake rails:generate_dispatchers
Don't generate public/dispatch.cgi/fcgi/rb files by default.
missed ActiveRecord::Migrator
Test default singleton resource route to ensure it uses GET. This is important if using map.root :resource instead of map.root :resources for some reason.
Reorder the way in which map.resource routes are added to the set. This prevents the singular named route from hitting :create instead of :show.
prototype and scripty helpers require json
helpers require dependencies
get activerecord tests passing with lazy loading
fixtures depends on dependencies
Allow optional arguments and/or block for Object#try like Object#send does. [#1425 state:resolved]
require json lib when serialization is loaded
Add LAZY env flag for testing autoload/lazy load feature
Autoload more ActiveSupport libs
Autoload ActiveRecord files
prefer autoloaded html scanner
prefer autoloading Mime::Type
Ensure integration test is load in script/console [#1452 state:resolved]
Strip out the ./ part of the test path so the backtrace align perfectly
Accept a prefix argument to filter_backtrace_with_cleaning [#1456 state:committed]
Removed the old .htaccess as it is no longer used
Updated docs to stop talking exclusively about lighttpd and clarify a few other things
I18n guide: changed to reflect new i18n locale naming, added a link to rails-i18n.org
Autoload HTML::Document and sanitizers
Drop unneeded drb require
Autoload cache stores
Duration requires BasicObject in case it's autoloaded early
Lazy-require tzinfo for TimeZone
Autoload ActiveSupport::SecureRandom and ::MessageVerifier
Lazy-require tempfile for File#atomic_write
Lazy-require DRb for ActiveSupport::Cache::DRbStore
Lazy-require OpenSSL
Lazy-require OpenSSL. Skip entirely if SecureRandom is available.
Lazy-require XmlSimple. Move CGI require to object conversions where it's actually used.
Require Mocha >= 0.9.3 which includes a MiniTest adapter
Hack builder to look for fast_xs instead of insisting on its own String#to_xs
Lazy-require builder lib
Use autoload instead of explicit requires for ActionController
Changelog for #1448. Mention updating old translations with storage_units key.
Remove explicit tmail requires in favor of autoload
simplify console with helpers
Add i18n for number_to_human_size() helper storage units. Translation key is number.human.storage_units.
Move deprecation assertions so TestCase (and Mocha) needn't load on startup
Don't hide deeper LoadErrors
Eliminate thread-local circular reference stack by passing it as an argument instead
Don't include .rb suffix in core_ext requires
Update with globally keyed fragments
A back support for legacy TemplateHandler#render API
use autoload instead of explicit requires for ActionView
Updated with Conditional GET section lifted from Ryan's posts on the topic
Add config.cache_store blurb and note about Rails using the bundled memcached-client gem
Added some more text on Active Record callbacks
use autoload instead of explicit requires for ActionMailer
Move the cookie store to use the MessageVerifier class.
Don't need _message as it's in the class name already
Add ActiveSupport::MessageVerifier to aid users who need to store tamper-proof messages in cookies etc.
Update the generated controller to not include the deprecated :secret option to protect_from_forgery
Change the forgery token implementation to just be a simple random string.
Docfix [#1444 state:committed]
Allow helpers directory to be overridden via ActionController::Base.helpers_dir (Sam Pohlenz) [#1424 state:committed]
Allow helpers directory to be overridden via ActionController::Base.helpers_dir (Sam Pohlenz) [#1424 state:committed]
Added rake rails:update:application_controller to renamed application.rb to application_controller.rb -- included in rake rails:update so upgrading to 2.3 will automatically trigger it [#1439 state:committed] (kastner)
Was very naughty and did not add changelog message to guide.
Updated finders guide to include newcomers find_last_by and find_by_bang!
Use a relative require for bundled rack lib
Changed the fallback String#each_char to use valid 1.9 syntax.
Ruby 1.9 compat: don't shadow local var with block arg
Extract state query method definition and quiet method redefinition warning.
MiniTest compat: don't shadow @name
MiniTest compat: don't check for test/unit's assertion in particular
Ruby 1.9 compat: don't use defined? on complex expressions
Require mocha >= 0.9.0 for AS tests
Switch script/server to use rack processor
Vendor rack 0.4.0
missed lighttpd config
Drop lighttpd support from script/server
Kill dead "new_mongrel" handler
Add flush by ensure in script/runner because no flush in production mode [#803 state:resolved]
write_fragment returns content if caching is disabled [#846 state:resolved]
Add TestResponse#client_error? to check for 4xx status codes [#851 state:resolved]
Added ActiveSupport::BacktraceCleaner and Rails::BacktraceCleaner for cutting down on backtrace noise (inspired by the Thoughtbot Quiet Backtrace plugin) [DHH]
Let ApplicationController stay unloaded for as long as possible
Final changes for 2.2 release notes
Reduced the number of literal aliases to the range that has actually seen personal use. With the massive savings in overhead, I was able to fit Array#forty_two
Updated finders guide based on: http://rails.lighthouseapp.com/projects/16213-rails-guides/tickets/16-activerecord-finders#ticket-16-13
ActionMailer should respect content type when choosing layouts
Update changelog to reflect move from Test::Unit::TestCase to ActiveSupport::TestCase
Require mocha >= 0.9.0 for Active Support tests. Don't manipulate the load path.
Mocha 0.9.0 compatibility for test setup/teardown callbacks
Ensure only delegations to methods can have an automatic prefix. [#1235 state:resolved]
alternative resolution to vendor load problem
Mocha >= 0.9.0 must be available for Action Pack tests
need to make sure the asset type is cached with it in Cache.. name is sufficient, not self
Revert "Simplify benchmarking and rescue". Need a different approach.
Simplify benchmarking and rescue
Reflect default locale change from en-US to en
Enumerable#none? conforms to Ruby 1.8.7 behavior
Require mocha for tests. Get rid of uses_mocha helper.
Require mocha before the testcase overrides, otherwise its run method is clobbered
Eliminate method redefinition warning
Require active_support/secure_random for Ruby 1.9.
Remove SQL Server cases from tests for latest adapter work to pass rails expected behavior.
Remove deprecated ActionController::Base#assign_default_content_type_and_charset
Remove reset! as a connection#checkout callback
Added Object#try. ( Taken from http://ozmm.org/posts/try.html ) [Chris Wanstrath]
Assume that the next version is going to be 2.3 for now
Changed the default of ActionView#render to assume partials instead of files when not given an options hash [DHH]
Changed the default of ActionView#render to assume partials instead of files when not given an options hash [DHH]
Remove deprecated render_component. Please use the plugin from http://github.com/rails/render_component/tree/master
Another piece of markup removed from environment.rb
The docs in environment.rb are not going to be rendered so it doesnt make sense to mark them up
Update doc to make more sense
Let polymorphic_path treat an array contains single name as without array [#1386 state:committed]
Added Enumerable#none? to check that none of the elements match the block [#1408 state:committed]
Added some text about AR callbacks
Make optimized named routes respect all reserved options and tie it into UrlRewriter::RESERVED_OPTIONS so it's DRY
Added note about update_attribute not triggering validation
Spam more people, the list is next
Register 'checked' as an HTML boolean attribute.
Remove duplicate distribution of prototype and scriptaculous.
Remove mention of long-dead define_javascript_functions
Update Prototype to 1.6.0.3 and update script.aculo.us to 1.8.2
Configuration options for Active Model, Active Resource, Active Support
Finishing up RDoc 2.x markup for cattr_accessors
Regenerate Guide HTML
FIx minor errors in Getting Started & Associations guides
TimeZone offset tests: use current_period, to ensure TimeZone#utc_offset is up-to-date
Update bundled TZInfo to 0.3.12
add vendor/ back to load paths; catch errors in constant loading
use :en as a default locale (in favor of :en-US)
Added config.i18n settings gatherer to config/environment, auto-loading of all locales in config/locales/*.rb,yml, and config/locales/en.yml as a sample locale [DHH]
Prevent assert_template failures when a render :inline is called before rendering a file-based template [#1383 state:resolved]
Add helper test generators [#1199 state:resolved]
Dont require 'application' when running tests
adding a config file for asciidoc, needs latest mizuho to take effect
initial draft for i18n guide
Explicitly require test/unit so tests autorun
Explicitly require AS::Duration
Change usage of defined? to check the rubygems constant existance by a rescue block on boot.rb for Ruby 1.9 compatibility
Use ActiveSupport::TestCase in generated test/test_helper.rb
BACKWARDS INCOMPATIBLE: Renamed application.rb to application_controller.rb and removed all the special casing that was in place to support the former. You must do this rename in your own application when you upgrade to this version [DHH]
Structure change to AR Associations Guide
Plugin guide: Edits
Plugin guide: re-ran rake guides
Rails plugin: misc error fixes.
Re-ran rake guides
Rails guide: Misc reorganization
Rails guide: Added PluginGem section, reorganized the odds and ends.
Added Action View and Action Mailer documentation to the Config guide.
Plugin Guide: added section on migrations, updated generator section, tightened up spacing of P's inside LI's
Added 'Using the errors collection' to the AR validations and callbacks guide
The inflector is meant to work on words not phrases -- dont confuse people with a phrase example
Ensure shared default_scoping stack is duped before assigning to thread local
Add text/plain to the browser_generated_types array as webkit and gecko can submit them.
Added default_scope to Base [#1381 state:committed] (PaweÅ‚ Kondzior)
Ensure @@already_loaded_fixtures is initialized before use
Revert "Added default_scope to Base [#1381 state:committed] (PaweÅ‚ Kondzior)" -- won't gel with threads.
Added default_scope to Base [#1381 state:committed] (PaweÅ‚ Kondzior)
Added documentation of Action Controller configuration options to Configuration guide.
Lazy-require state machine internals when the module is included
Require callbacks so AS::TestCase may be required in isolation
Switch to AS::TestCase for assert_deprecated
Add create_fixtures method for tests
Set up fixtures for AR tests
Appropriate test case subclasses to get assert_tag and assert_deprecated
note that rake:db:migrate updates db/schema.rb by invoking db:schema:dump
auto_link helper: add intelligent ending closing bracket handling. add new tests and reorder new ones for readability
refactor autolink helper. change tests to expect HTML-escaped URLs
Moved the * strings out of construct_finder_sql to a new default_select method so it can be overridden by plugins cleanly
fix assignment to has_one :through associations.
Added documentation of ActiveRecord configuration options to Configuration Guide.
Wrong reference
Additional details on config.gem processing for 2.2 release notes
Typo fix in 2.2 relnotes (core ticket #1378)
Update info on routing parameter defaults, better example for :requirements in map.resource.
Missing changelogs for relative_url_root changes
Missing changelog for memcache-client changes
Missing changelog for CSRF changes
Missing changelog for :only/:except on map.resources
Update release notes from docrails.
A few more dependency updates
Getting a few recent changes into 2.2 release notes.
Link to 2.2.1 gems
Please dont change code. 4146efc380255319768031f26e63210fd4158e99
Rails now requires rubygems 1.3.1 of higher.
Prepare for RC2
Make inheritance of map.resources :only/:except options behave more predictably
Make polymorphic_url compact given array [#1317 state:committed]
Revert "Move fixtures settings from AR::TestCase to railties test_help" -- it broke all the tests!
Properly check silence_spec_warnings class variable [#1372 state:committed]
Plugin guide: updated to start working with GemPlugin
Rails plugin:  Expanded helpers section
Plugin guide: added model and controller sections
Plugin Guide: updated test setup and generator sections
Plugin guide: update generator guide to include tests
Move fixtures settings from AR::TestCase to railties test_help
Remove superfluous require
Move fixtures settings from AR::TestCase to railties test_help
Tag helper should output an attribute with the value 'false' instead of omitting the attribute, if the associated option is false but not nil.
TimeZone: fix base offset for Sri Jayawardenepura. Anchor tests for zone offsets to more current date
Instead of overriding html_types, base the verification on browser_generated_types.
fix two MimeType failing test cases
Changed request forgery protection to only worry about HTML-formatted content requests.
Plugin guide: update acts_as section
Plugin Guide: updated core_extensions section
Rails testing guide revised based on feedback from Pratik and few miscellaneous fixes. [#8]
TimeZone: Caracas GMT offset changed to -4:30 [#1361 state:resolved]
The beginnings of a command line tutorial
Added 'custom validations' to AR validations and callbacks guide
Move fixtures settings from AR::TestCase to railties test_help
Remove deprecated Gem.manage_gems
Prefer a feature check to a version check
Regenerate Guides HTML
Add :except and :only documentation to the Routing Guide
Add :except and :only for resource routes to 2.2 release notes.
Add :only/:except options to map.resources
Updated finders guide
Plugin Guide: cleaned up file paths, made formatting more consistent
Plugins guide: Cleanup the intro
Plugins Guide: added example of how to run tests, including how to run with multiple databases
Updated preparation section of plugins guide
Updated readme to include instructions on which dependencies to install before building guides.
Changed conditional validation with Proc to use :unless instead of :if
Added 'Conditional Validations' to AR validations and callbacks guide
Added 'Common Validation Options'
Remove redundant uniq
Only track new constant definitions when we're reloading dependencies
Eliminate excess Regexp creation due to capture counting
Pare down object creation during route building
Added documentation for validates_uniqueness_of
Added info about validates_size_of, as being an alias for validates_length_of
Added note about testing booleans to validates_presence_of
Added documentation for validates_presence_of
Added documentation for validates_numericallity_of
Add simple case when DB calculations returns 0 instead of 0.0 [#1346 state:resolved]
Updated as per Xavier's notes, still to do: Etags and globally keyed fragments
Added documentation for validates_length_of
Added documentation for validates_inclusion_of
Added documentation for validates_format_of
Added documentation for validates_exclusion_of
Be consistent with using symbols for options to methods
Use SHA1 instead of MD5 in the HTTP basic example
Added documentation for validates_each
Mention DB2 Adapter transactional migration support in 2.2 relnotes.
Add collection counters to layouts & rendering guide
Make changes to AC guide as suggested by Xavier Noria
added a comma suggested by Brandon Zylstra in LH
fixed missing "you" reported by Brandon Zylstra in LH
Ruby 1.9 compat: check for minitest's assertion also
lazy-initialize already loaded fixtures map
Ruby 1.9 compat: rescue Exception since minitest's assertion doesn't subclass StandardError
Wrap straggling mocha user with uses_mocha block
Ruby 1.9 compat: CGI switched back to Tempfile
Workaround lack of Mocha on 1.9 (hasn't been updated for minitest yet)
Move sshpublisher require into the rake tasks that use it so ruby 1.9 and macruby don't need the rake gem installed
Add some basic controller logging tests
Rewrite start of Finders guide to be more consistent with other guides.
Format & edit cleanup of named scope guide
Amend description of SQLite in Getting Started guide (#33)
Timeout the connection pool monitor on ruby 1.8 only
Work around ruby 1.9 segfault
If average value from DB is 0, make sure to convert it to a 0.0 float before calling #to_d on it [#1346 state:resolved]
Don't worry about attribute ordering
Check whether last arg is a Hash instead of duck-typing against []
Use delete if the rhs is nil
Some more text on validates_confirmation_of, added some more about validations helpers too
Added some aditional info to validates_confirmation_of
Added documentation for validates_confirmation_of
added doc for validates_associated
Added some more text about how validations work, included validates_acceptance_of
Check whether last arg is a Hash instead of duck-typing against []
Don't worry about attribute ordering
Use delete if the rhs is nil
Don't leave open dangling connections in development mode. [#1335 state:resolved]
Simplify dispatcher callbacks to eliminate unnecessary stale thread purging. [Nick Sieger, Pratik Naik]
Set up fixtures in app's test_help
Update AR tests
undef abstract methods instead of raising NotImplementedError. Still need the definitions for rdoc though.
Update AR integration tests for TestCase changes
Move controller assertions from base TestCase to AC:: and AV::TestCase
Silence parens warning
auto_link view helper was failing on URLs with colons after a query param
Remove controller assertions from Test::Unit::TestCase. Use ActionController::TestCase.
Set AS::TestCase::Assertion to the underlying test exception for either miniunit or test/unit
Extract test method declaration
Just rescue exception rather than checking for both miniunit and test/unit
Subclass AS::TestCase to get custom assertions
Safer but hacky minitest autorun override
Rework testing extensions to reflect the recent miniunit upheaval
Added tests for HABTM associations with counter_sql
Added :counter_sql as a valid key for habtm associations
Revert commit which breaks all the tests.
Remove direct TestCase mixins. Add miniunit compatibility.
Don't shadow local with black arg
Mark utf-8 encoding
Increment the version of our modified memcache_client code to prevent users with the gem installed not seeing our changes.
Don't eval recognize_optimized use __FILE__ and __LINE__ in the optimised recognition code.
Turn on STARTTLS if it is available in Net::SMTP (added in Ruby 1.8.7) and the SMTP server supports it [#1336 state:committed]
Stop logging SHOW FIELDS and SET SQL_AUTO_IS_NULL=0 for the MysqlAdapter as they only clutter up the log and offer no value [DHH]
Stop logging SHOW FIELDS and SET SQL_AUTO_IS_NULL=0 for the MysqlAdapter as they only clutter up the log and offer no value [DHH]
Dont bother logging the parameters hash if there are no parameters
AR validations and callbacks - Chaper 2: When does validations happens?
Improved the use of monospace fonts in the documentation of ActionController::Base.
AR validations and callbacks: Chapter 1 - Motivations to validate your Active Record objects
Make sure ActiveRecord::Base.connected? doesn't raise an exception for defined connections
Update guides from docrails
Ensure ActiveRecord::ConnectionPool.connected? handles undefined connections. [#936 state:resolved]
Outline for Configuration Guide
Oops. Remove CAUTION from AC basics guide
Regen html
Adding myself to the authors page
Add more documentation pointers to Getting Started Guide.
Copy edit on AC Basics Guide
Initial commit for Active Record validations and callbacks guide
Clarify something in the session storage section
Clarify the section mentioning session stores
Add example using routing parameters
Use ApplicationController instead of AC::B in example
Add example of using default_url_options
Add example to show how to add additional headers using the response object
Add section on CSRF to AC guide
Dont log the _method attribute either. Its already available in the header
Dont log the _method attribute either. Its already available in the header
Regenerate recently-changed guides.
Typo fix in testing guide
Remove invalid uses of [source, ...] in the guides.
Remove invalid use of [source, log] in the 'Debugging Rails Applications' guide.
Update guides generation task: make it compatible with the latest changes in Mizuho.
Remove API links
Formatting tweaks on Getting Started, regen Guides HTML
Keys -> values
Link to Wikipedia page on HTTP Basic Auth
Reimplement Jeremy's PostgreSQL automatic transaction state introspection code.
Rename ActiveRecord::Base#transaction's :force option to :nest. Improve documentation for nested transactions.
Make SQLite3 pass the unit tests for savepoints.
Revert "PostgreSQL: introduce transaction_active? rather than tracking activity ourselves" This commit conflicts with savepoint support.
Improve documentation for DatabaseStatements#transactions and AbstractAdapter#transactional_fixtures, especially with regard to support for nested transactions.
Implement savepoints.
update forms guide: tweaks from feedback, first half of select boxes chapter
Finalized debugging guide.
Added RJS, memory leaks and plugins chapters to Debugging Rails Applications guide. Generated Guides.
Added missing sidebar block closing delimiter.
Remove unused debug_routes
Dont dup params twice when filter_parameters is present
Updated guide authors.txt with Heiko's bio
Check first for git repository before using git branch
fixes a typo
Dont document internals
Revert "Added information about @performed_redirect for redirect_to calls."
Remove unnecessary files
Backwards compatibility fixes for relative_url_root
Made more clear the case of ignored :limit option for eager loaded associations
Marking Getting Started and Security guides as finished.
Cleaned up route optimisation guard condition generation code as it was getting a little messy.
Make refresh_specs more resilient. Always add vendor/gems to gem search path. Use Gem.clear_paths to ensure we get a current searcher.
Error fix and some reformatting for Layouts/Rendering Guide
Simplified the logging format for parameters (don't include controller, action, and format as duplicates) [DHH]
Make sure habtm use class variable to list association valid keys
Add warning about deprecated partials behavior to Layout/Rendering Guide
Make sure habtm use class variable to list association valid keys
Remove the logging of the Session ID when the session store is CookieStore [DHH]
Update 2.2 relnotes & Layouts/Rendering Guide to include render :js
Accidently nixed a doc header
Added render :js for people who want to render inline JavaScript replies without using RJS [DHH]
Really silence spec warnings when running GemDependency tests [#1308 state:resolved]
Update release notes.
Removed extra space from the array conditions section.
Revert "config.load_paths should be frozen [#728 state:resolved]"
It is not necessary to store QueryCache in a thread local since the cache is local to the connection object which is managed by the connection pool
config.load_paths should be frozen [#728 state:resolved]
Use database name in query cache thread local key [#1283 state:resolved]
Ensure content type gets reset after render_to_string [#1182 state:resolved]
Dup local assigns for partial collections so nil values doesn't get overwritten [#1250 state:resolved]
Don't rely on string CoreExtensions in StringInquirer since it is sometimes expected to work before the core extension are loaded
Ensure indices don't flip order in schema.rb [#1266 state:committed]
Update auto_link documentation to use new API (overlooked in Rails commit 10d9fe4)
Update the default deprecation message to not promise that theres more info at the Rails site [#776 state:resolved]
Update non-gems distributions to use sqlite3 as the default, matching the "rails" command default [#1270 status:committed]
Update prototype to 1.6.0.3
Update prototype to 1.6.0.3
Clarify use of :select on :belongs_to in AR Associations Guide
Make #destroy write 1 line into log (instead of 3) (Dmitry Sokurenko) [#689 status:committed]
Proper API for reloading translations
Ensure @content_for_* is checked before yielding to block in render :layout [#8994 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Remove TODO from filters part in AC guide
Remove reload call from vendored gem.  Breaks a bunch of stuff as Dispatcher isn't always defined.
A few more style changes
Make I18n::Backend::Simple reload its translations in development mode [DHH]
Follow style conventions
Track rendered templates in stack so the current template can always be accessed. Added ActionView::Base#template to access the template object.
A little less hokus pokus
Typo fix for AR Associations Guide
Thread Safety: Ensure recognize_optimized is immediately written instead of lazily
Added scoped section, added named params for conditions and added sub-section headers for conditions section.
Added information about @performed_redirect for redirect_to calls.
Write documentation for the cache stores.
Remove reference to fformat to restore support for postgres gem.
modified current_page? to ignore extra parameters unless specified in options
Editing pass on AR Finders guide.
fixing some disjointed ADD style writing.
One more link for Release notes
Update rn html
"raise NoMethodError" raises NoMethodError. Raise it with NoMethodError.new instead.
Typo fixes in 2.2 release notes
Hey..generate html ;-)
Tiny cleanup in layouts & rendering guide
Enum#many?
Update guides and release notes
And html too
2.2 Relnotes: more info on association proxies
Regenerate guides again
Generate new guides
new header injection section for security guide
Updates to Getting Started: REST references, partials, filters, some cleanup.
Add link to Layouts & rendering guide
Added details on how Rails locates layouts to Layouts & Rendering guide
Add some more info to the release notes
Update CHANGELOGs with the last few fixes, set date for today
Skip collection ids reader optimization if using :finder_sql
The _at / _on timestamp methods do the same things, I seemed to remember a distinction at some point but I guess that's changed.
Proper update call for gem server
Should be 2.2.0 as well
Push to new gem server
Prepare for Rails 2.2.0 [RC1]
adding some documentation of the Active Record conventions and reserved words.
More restructuring of this document. Trying to make the text less verbose and more to the point.
Add release notes
Add release notes and stuff
Dont copy images twice
First "completed" version of the finders guide... and about time too!
generate html too
Add license to Guides.
Add rake task to generate guides inside a rails app
New html files
Dont fetch images from internet
Ignore images/stylesheets inside html dir
Use custom templates and stuff
Rearrange guides
Dont try to auto-set the etag based on the body if any freshness headers have already been set [DHH/JosÃ© Valim]
Minor change to generated perf tests
Remove stuff that was deprecated in 2-1-stable
No use case handy for justifying fresh? any more
Let fresh_when actually do the head(:not_modified). Cleaner and we get the filter halting for free then.
Added stale?/fresh? and fresh_when methods to provide a layer of abstraction above request.fresh? and friends [DHH]
Ensure ActionView::Helpers::AssetTagHelper::AssetTag::Cache is cleared before loading so changes to asset files are picked up by the broswer [#1233 state:resolved]
Bump active_support/vendor.rb tzinfo version number [#1237 state:resolved]
More work done on finders guide, extended named_scope sectionn
Added note on route generation from arrays.
TimeWithZone#freeze: preload instance variables so that we can actually freeze
Bundle TzInfo version 0.3.11
Edit pass on security guide.
Typo fixes in Getting Started guide.
Editing pass on debugging guide.
Expose default value of database connection pool in generated database.yml
Sanitize the URLs passed to redirect_to to prevent a potential response splitting attack.
Simplified the implementation of the :prefix option.
Added documentation of the new :prefix option.
Moved test object instantiation to a setup method.
Made the :prefix option on Module#delegate accept a custom prefix.
Added :prefix option to Module#delegate.
Memoize the require and construction of the StringInquirer
Revisions to AR Basics Doc.
Added a brief overview of the intent of the guide and a high-level explanation of ORM and ActiveRecord.
fleshing out the topics and removing some redundancy.
fleshing out some of the sub-topics of this guide.
CHANGELOG entry for the previous commit (18e7bf28655cfd9253239963256609edb9fa5a53)
Don't create test/performance/test_helper.rb. Just require the needed files from test directly. [#1135 state:resolved]
Skip tests that depend on memcached if not running.
Bring MemCacheStore and CompressedMemCacheStore inline with expected counter manipulation semantics.
Compiling rubies installing gems
revised documentation of collection.delete
More detail on partials.
Additional detail on rendering partials
Add info about benchmark() helper and stuff
Ensure association proxy responds to private class methods defined in associated class. [#1083]
Remove fiveruns. And preamble->index
Adding a stub file for the guide i'll be writing.
Mark layout/rendering guide as done
A few updates to Getting Started guide
Marking layout guide completed
Minor formatting change in Getting Started guide.
Revised draft of Getting Started guide.
Allow class methods to be sent (via #send) to association proxy (fix for bug introduced by 691aa20) [#1083]
Added example for hash-style argument to find conditions
Edit/formatting pass for the testing guide
Sorry Pratik, typoed your name :)
Remove the class_path from the collisions test.
Avoid warnings by undefining the old method transliterate.
Reverse the order of the iconv arguments to remain compatible with older rubies / iconvs.
First complete draft of "getting started" guide
Edits and rewrites (work in progress)
Adds examples of integration tests in the testing guide.
Updated to testing mailers section in the testing guide.
Removes the 'Filtering emails in development' section from testing guide.
small fixes in security guide
Add description of flash.now
Don't include the path when checking class collisions [#545 state:resolved]
Enhance testing for fractional days and weeks. Update changelog.
Added deprecated warning messages to Float#months and Float#years deprications.
Deprecated Float#years and Float#months, moved Numeric#years and Numeric#months into Integer.
Time#advance recognizes fractional days and weeks [#970 state:resolved]
First complete draft of "getting started" guide
Added inline builder yield to atom_feed_helper tags where appropriate (Sam Ruby) [#8994 status:committed]
Ensure methods called on association proxies respect access control. [#1083 state:resolved] [Adam Milligan, Pratik]
Add support for xml processing instructions in atom_feed_helper [#926 state:resolved]
Make sure named routes with parameters can be used in tests before a request has been done. [#1208 state:resolved]
Initialize silence_spec_warnings
Make VendorGemSourceIndex handle broken/missing specs generated by previous versions.
Edits and rewrites (work in progress)
test nested hash with float
Adds examples of integration tests in the testing guide.
Updated to testing mailers section in the testing guide.
Removes the 'Filtering emails in development' section from testing guide.
small fixes in security guide
Add description of flash.now
Remove the functionality introduce in 28d3390
explicitly including child associations that are also included in the parent association definition should not result in double records in the collection/double loads (#1110)
Stated the need to specify "config.gem" +:lib+ option for libraries where the Gem name (eg. "sqlite3-ruby") differs from the file itself (eg. "sqlite3")
Typo fix in routing guide
Add documentation for AbstractAdapter#sanitize_limit, and make its code more readable.
Minor change on :name_prefix and :path_prefix documentation.
Made i18n simple backend able to store false values (and not confuse them with nil or lack of value)
Remove part about Ruby's rescue
Remove the bit about rescue_action
Mark gem as not loaded when spec not found
Did some more work on the finders guide tonight, lock and count sections addded.
Allow use of :path_prefix and :name_prefix outside of namespaced routes. [#1188 state:resolved]
Make sure last_modified! works with <= rather than just equality.
Reduce memory usage slightly in String#parameterize
Extract transliteration code to a seperate method.
Add verification, rescue + fixes to AC basics
Add ActiveResource::Base#to_xml and ActiveResource::Base#to_json methods. [#1011 state:resolved]
Ensure select_tag#name attribute uses [] when :multiple is true. [#1146 state:resolved]
Additional detail on routes for namespaced controllers.
Added some additional detail on asset caching syntax.
Implement submit_to_remote as a wrapper around a more generic button_to_remote
Mark utf-8 source encoding
Clarify that the event sequence shown in the comments applies to new records only.
Added a small section on using conditions on tables from eager loads.
ActiveResource can load array of strings, like serialize :bar, Array
Move controller ivar copying to a separate method
Updated guide, adding to the conditions section mostly.
Add tests for ActiveSupport::Rescuable. Use ActiveSupport::Rescuable in ActionController::Base.
First draft of ActiveSupport::Rescuable
Ensure Model.sum and Model.avg typecast appropriately. [#1066 state:resolved]
1.8 compatibility for random_number method on SecureRandom.
Ensure rescue_from handlers are respected inside tests. [#835 state:resolved]
Remove HasManyAssociationStrategy and move the logic to ActiveRecord::Reflection::ThroughReflection.
Introduce ActiveRecord::Reflection::ThroughReflection to simplify hm:t reflection logic
Try reloading model on class mismatch [#229 state:resolved]
Return processing lock to dispatcher, the finer grained lock was incompatible with the reloading in development mode.
call clear_active_connections! in :after_dispatch to give pooled connections back
made ConnectionPool#checkout more robust by trying to loot dead threads when pool is empty
don't quote decimal values for mysql. It doesn't make sense and breaks in newer versions of mysql
Additional detail on specifying verbs for resource member and collection routes.
Additional detail on options for rendering partials.
Revise associations guide: no need to set default on counter_cache columns.
Remove erroneous warning about counter_cache column defaults.
Add IMB DB support to Rails application generator. [#1136 state:resolved]
Make sure recreate MySQL test database with the proper encoding and collation [#1165 state:resolved]
Remove AS for oracle compatibility
added nicer failure reporting to #assert_difference to tell you the expression that failed rather than just the expected and actual values
Provide alternate implementation of Object#subclasses_of for JRuby
Dynamic finders should use the ActiveRecord::Base::find method instead of ::find_initial, :find_last, and ::find_all.
Finders guide has no table of contents.
Updated finders guide.
Call controller_path instance method so it can be easily overridden [#1141 state:resolved]
Remove unneeded interning.
Correct number of routes created by map.resource.
Rework of Guides index page
fix eager loading's :condition sanitizing expanding against the wrong table
wrote a test showing eager loading's misbehavior (sanitizing against the wrong table) when the association has a :conditions hash
Add options to field_set_tag
Move render/layout guide to the top
Typooo
Layout & Rendering Guide
check_box form helper object must be an @instance object.
Back mentions of accessible out of Associations guide
Protect body ivar from being clobbered by the mailer template assigns
Syntax fixes plus some modification and additions in multiple sections of testing guide.
Image updates & reorganization. First release version.
Another revision of the finders guide.
Change erroneous "unless" to "if" in documentation.
Finished rendering and redirecting section.
Mark AR Associations guide as complete
Finished section on :render
I wish people would add .DS_Store to their global gitignores
Add stuff to index
Change some more code -> source in code blocks
Add Action Controller Basics guide to rake task. Remove testing for the time being ( it's borked )
Change code -> source in code blocks
Add ActionController guide (draft, unfinished)
Ignore all exceptions for validates_acceptance_of columns fetch so it can run even without a database connection
Add the first draft of the ActiveRecord Finders guide.
Add info about caching an action with or without the layout
Various fixes, section on self-joins, note on using hmt for hierarchies.
Initial updates to Rails testing guide. Work in progress.
Changed ActiveRecord attributes to respect access control.
Partially revert 185fe2e9cce737d69d3b47a656f3651ce152c0c1
Use ActiveSupport::SecureRandom instead of the strange fallback code.
Refactor configure_dependency_for_has_many to use a few more methods.
Work in progress.
Slight change to examples.
a leading slash in the :controller of url_for ensures you link to the root namespace
Added section on controller namespaces.
Make AssociationCollection start transactions in the correct database.
slice now returns indifferent hash if called on one
Adds failed test case for slicing hash with indifferent access with symbol keys
Modified ActiveSupport::Inflector#parameterize with code from slugalizer (http://github.com/henrik/slugalizer)
Updated with cleanups; new sections still to come
Changelog entry for manfred's multibyte changes
Bump the Version constants to align with the *next* release rather than the previous release.
Refactor AssetTagHelper and fix remaining threadsafe issues.
Association#first and last should not load the association if not needed. [#1091 state:resolved]
Added images to associations guide, cleaned up some typos and such.
fixed some small errors in formating. More to come
Add profiling guide to the index page
Change 'racing condition' to 'race condition'.
clanup
rmoved ds_store
understood only for finished articles authors
fixed up benchmarking file names, fixed commits, truncated statistics section. Add real life example
fixing commit
loss html file
version 6 shortened satistics and fixed compiling. Also add real life example.
Improve explanation of with_options
Explain returning in a bit more detail
Improve documentation for attributes= and document its 'guard_protected_attributes' parameter.
Change 'equals to' to 'equal to'
Add Model#delete instance method, similar to Model.delete class method. [#1086 state:resolved]
Add some documentation and examples for Base64 encode64 and decode64, and encode64s.
In ActiveRecord::Base#destroy's documention, also mention that before/after_delete callbacks and :dependent callbacks are run.
Document some of the internals of associations handling.
Improve various examples and API description texts.
In some of ActiveRecord::Base's API documentation, replace 'Attributes' with 'Parameters' because that's more correct.
Set encoding of the multibyte test helpers file to UTF-8 so the strings can be read by Ruby 1.9.
Change all calls to String#chars to String#mb_chars.
Change call to String#chars in inflector to String#mb_chars.
Deprecated String#chars in favor of String#mb_chars.
The flash
Move multibyte test helpers to a separate file and make the conformance tests run again.
New and create actions
Add tests for u_unpack to make sure it raises an EncodingError on invalid UTF-8 strings.
Non-string results from forwarded methods should be returned vertabim.
Remove special 1.9 version of excerpt helper.
Improve documentation.
Change all calls to String#chars to String#mb_chars. Remove a exception for Ruby <= 1.9.
All methods which normally return a string now return a proxy instance.
Change all calls to String#chars to String#mb_chars.
Move with_kcode helper to abstract_unit. Add tests for multibyte string extensions.
Add a test for ActiveSupport::Multibyte::Chars.consumes?.
Simplify ActiveSupport::Multibyte and make it run on Ruby 1.9.
Add descriptions to doc:plugins:<plugin> tasks.
applied patch to fix the associations with blocks in modules bug from an old trac ticket
I18n: Introduce I18n.load_path in favor of I18n.load_translations and change Simple backend to load translations lazily. [#1048 state:resolved]
I18n: move old-style interpolation syntax deprecation to Active Record. [#1044 state:resolved]
Document concurrency issues in validates_uniqueness_of.
s/ActionPack/Action Pack/
Improve documentation for ActiveRecord::Base#to_param.
Document ActiveRecord::AssociationPreload.
Remove the country_select helper.
Added a small section on defining multiple resources on a single line.
Update index page
Ensure old buffers get properly cleared to avoid leaking memory
Improve documentation for AbstractAdapter#add_limit_offset!
Rename 'bechmarking and profiling' folder to 'benchmarking_and_profiling'
Remove .DS_Store files that were accidentally committed by someone else.
Improve documentation for create_table.
Eradicate some stray colons.
HTTP Accept header
Added namespaced routes, added more on defaults, cleaned up miscellaneous typos and reworded a bit.
updated examples folder with real graph file
added benchmarking and profile documnetation v0.5
Document ActiveRecord::ConnectionAdapters::ConnectionHandler.
Added introduction, highlighting and additional resources to security guide
Added introduction, highlighting and additional resources to security guide
Improve documentation for ConnectionPool, again.
Improve documentation for ConnectionPool.
Update documentation for AbstractAdapter#reset!
Improve the overview documentation for AbstractAdapter: explain what it is for.
Added partial first draft of finders guide.
Improve documentation for the connection methods in AbstractAdapter.
Document ActiveRecord::Base.configurations.
Added support for http_only cookies in cookie_store Added unit tests for secure and http_only cookies in cookie_store
make db:migrate:redo rake task accept an optional VERSION to target that specific migration to redo
Improve documentation for ActiveRecord::Base#reset_column_information
Update the documentation to reflect the change handling :group earlier
Updated Debugging Rails Applications: use title case in all headings, added changelog, some other small changes to the guide.
Enhance the test "some string" method to support creating 'pending' tests.
s/class/Model/
Warn about statement errors causing a transaction to become unusable on PostgreSQL.
Add more information about transactions.
Wrap overview documentation for ActiveRecord::Transactions::ClassMethods so that it's easier to read in a text editor with word wrapping enabled.
Add overview description for ActiveRecord::Transactions, telling the reader to look at ClassMethods instead.
Add a link back to hackfest page from the index
When counting grouped records the target should be loaded to return a valid groups count result.
Typo fixes.
Add caching guide
TimeWithZone #wday, #yday and #to_date avoid trip through #method_missing
Added first draft of caching guide; advanced caching is still being worked on
Introduce convenience methods past?, today? and future? for Date and Time classes to facilitate Date/Time comparisons.
stop AR's debug.log filling with warnings about not being able to load fixture classes
Deal with MySQL's quirky handling of defaults and blob/text columns
Multiparameter attributes skip time zone conversion for time-only columns [#1030 state:resolved]
Base.skip_time_zone_conversion_for_attributes uses class_inheritable_accessor, so that subclasses don't overwrite Base [#346 state:resolved]
Add new security guide to generate list
Removed old security guide
Updated security guide
Generate authors file
Add author info/changelogs for Routing & Associations guides
Add link to ticket
Start authors section and link to it from migrations guide
Use a better example
Make sure the permissions check file is closed before being unlinked.
Ensure Hash#except is allowed on a frozen hash. References #382
Final batch of corrections
Added some additional text about default routes.
Changes for routing from the outside in guide
Add example for TableDefinition#column in combination wtih database-specific types.
Write class overview for ColumnDefinition.
Clarify decimal precision and scale options.
Improve class overview for TableDefinition.
Allow for the dirty tracking to work with the aliased name of aliased attributes.
Support for updating a belongs to association from the foreign key (without saving and reloading the record)
Improve ActiveRecord I18n translations documentation
fixing typo in #sortable_element doc
mention that innoDB is the default
Revert "mention that InnoDB is actually the default"
mention that InnoDB is actually the default
Use select and change test so new tests can work on postgres.
Add 'Getting Started with Rails' to guides index page.
Improve test coverage when using the group option in find, has_many or has_and_belongs_to_many.
Remove the .to_s fix in validates_uniqueness_of, as Chars get quoted correctly.
Add --debugger option to script/console.
Some more typos
Flesh out the parameterize method to support non-ascii text and underscores.
Add the Asia/Colombo definition from the tzinfo gem
Updated Debugging Rails applications guide styles, use backticks instead asteriks in method/command names.
Add an example
Mention schema.rb as a place for seing model attributes
Add missing assert_deprecated calls to prevent spam during test runs
add activerecord tests to make sure the deprecated %s and %d interpolation syntax still works
add activerecord tests for deprecation of %s and %d in error messages (and translations in general)
change activerecord validation tests to not use the deprecated interpolation syntax any more
Switched computed public paths cache over to a simple hash w/ mutex
Removed monitor from MemoryStore and created a seperate threadsafe store called SynchronizedMemoryStore
fixed association preloading to use = instead of IN when there's only one record
Details of the show action
Briefly discuss the reason for the respond_to block generated by the scaffold
Disable warnings in AP tests
Additions to the scaffold section
Revert "Add :accessible option to Associations for allowing mass assignments using hash. [#474 state:resolved]"
Expanded documentation for new composed_of options
Added :constructor and :converter options to composed_of and deprecated the conversion block
Include tip for using ruby-debug in development mode without restarting the server.
Add the description of "Debugging Rails applications" guide to index.
Support :limit on update_all so that has_many with :limit can be safely updated
Added ActionController::Translation module delegating to I18n #translate/#t and #localize/#l [status:committed #1008]
Added Inflector#parameterize for easy slug generation ("Donald E. Knuth".parameterize => "donald-e-knuth") #713 [Matt Darby]
Added Inflector#parameterize for easy slug generation ("Donald E. Knuth".parameterize => "donald-e-knuth") #713 [Matt Darby]
Added image_submit_tag confirm option [status:committed #784]
The FormTagHelper#submit_tag helper will now pass along the original value of the submit button to the params if the :disable_with option is used [status:committed #633]
Missing doc updates
Added find_last_by dynamic finder [status:committed #762]
No local variable in the global namespace plz
Revert "Remove the Version check as it's not always available."
Only separate loggings with a comma when there are actually two statements
Stopped logging template compiles as it only clogs up the log
Dont reference the class being tested when it can be assumed
Revert "Revert "Add layout functionality to mailers.""
Revert "Add layout functionality to mailers."
Add special AssociationReflection methods for creating association objects, and modify the code base to use those methods instead of creating association objects directly. This allows plugins to hook into association object creation behavior.
Make the options that has_many, belongs_to and other association generation methods can accept, configurable.
Interpolation requires double quotes
Ruby 1.9 compat: remove instance variables and global variables from block parameters
Ruby 1.9 compat: use String#lines instead of to_a in Ruby 1.9
Ruby 1.9 compat: remove constants from block parameters
Force generate guides
Add new guides to index page
Add some cross links
Change index title for the routing guide.
Make the index page look like manuals.rubyonrails.com's front page.
Layout enhancements for the guides.
Remove the Version check as it's not always available.
Flesh out the ActiveRecord::Validations::ClassMethods RDoc
Move the orphaned method RDoc of ActiveRecord::Validations::ClassMethods#validate into the module RDoc and rewrite the first bit.
Check for uninitialized instance variables
Check whether memoized ivar is initialized
Remove recognized_optimized method before redefining it
Use defined? check since @view_paths may be uninitialized
resolve a few things asciidoc complained about
initial commit of form helpers guide (halfway there)
add foreign keys section
typo
make more explicit benefits of migrations and ruby vs mysql
Don't shadow arg with block var
BigDecimal to_s and yaml housekeeping
Add "A Guide to Active Record Associations"
Continued work on the MVC/REST section
Revert "Revert "Raise UnknownAttributeError when unknown attributes are supplied via mass assignment""
Changes on Rails Debugging Guide: added the logger section, many changes to existing chapters and also a few improvements after feedback on LH ticket.
Updates to nested/shallow routes discussion in "Routing from the Outside In" guide.
expand the schema section
Add an index file for the guides.
Get rid of the work-in-progress 'book' that's supposed to be based on Django's book.
Add migrations guide to guide HTML generation task.
Change over examples to use {{count}} and {{value}} instead of %d and %s.
Style regular font for constants
ActiveRecord -> Active Record
Initial draft of Getting Started With Rails guide, far from complete
Add to the preamble
Stylistic cleanups
Initial draft
Ensure routing optimizations are cleared when new routes are added [#981 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Add 'Debugging Rails Applications' guide to guide HTML generation task.
Revert "Raise UnknownAttributeError when unknown attributes are supplied via mass assignment"
Ruby 1.9 compat: use method_defined? instead of instance_methods.include?  Don't encourage args abuse by flattening.
Added View Helpers to the Rails debugging guide.
Rails debugging guide updated.
Debugging Guide updated after having some feedback on it, added breakpoints and catchpoints chapters.
Dont use multipage
Updates on Debugging Rails guide.
Debugging Rails Applications guide updated.
Add HTML generation task for the routing guide.
Edits to the "Routing from the Outside In" guide.
Use a more sensible resolution on the new millisecond benchmarks
Changed all benchmarking reports to be in milliseconds
Use copy instead of export for release
More work on Rails debugging guide.
Added prompt, context and references to debugging Rails guide.
Initial commit of the Rails debugging guide.
Rescue spurious failures in case dummy postgresql user or schema already exists
Handle connection timeouts with a slightly nicer error message.
Deprecate %d and %s in message interpolation, but only in the bundled i18n lib.
Remove flawed execute("ROLLBACK") approach; #reset! defaults to nothing
Default connection allow_concurrency to false (for PostgreSQL)
Handle the case where there is no ivar set.
Deprecate verification_timeout and verify before reset
still need to track whether we're the toplevel transaction
PostgreSQL: introduce transaction_active? rather than tracking activity ourselves
Don't run 32bit dependant assertions in 64bit environments
Changed variable names for in_groups_of to make more obvious
Add each_with_object from 1.9 for a more convenient alternative to inject.
Inline help text was incorrectly telling user to uncomment line to use default local time. User should comment the line to use default local time.
Whitespace.
Some performance goodness for inheritable attributes.
Some performance goodness for AR.
Some performance goodness for AM Validations.
Some performance goodness for AM StateMatchine.
Some performance goodness for routing.
Some performance goodness for AR associations.
More symbols for send and respond_to?.
More symbols for send and respond_to?.
Use symbols for send and respond_to?.
Removed unnecessary Symbol#to_proc from Asset Tag Helper.
Don't set Content-Length on 304 responses
Database connections are now pooled, one pool per #establish_connection call. Pools start out empty and grow as necessary to a maximum size (default is 5, configure size with key 'pool' in your database configuration). If no connections are available, a thread will wait up to a 'wait_timeout' time (default is 5 seconds).
translates when a message symbol has been set on builtin validations
Get rid of 'Object#send!'. It was originally added because it's in Ruby 1.9, but it has since been removed from 1.9.
Add layout functionality to mailers.
Moved layout exemption logic into the view
Prefix ActionView::Base private methods with an underscore
Add lost log messages about template rendering
Added "Routing from the Outside In" guide.
Move layout rendering logic to ActionView::Base
Move copying ivar logic from ActionController::Base to ActionView::Base
Use reflection primary_key instead of id for when selecting association ids.
Allow prototype functions to receive position parameter as a symbol.
Remove unused use_full_path argument
Performance: Better query for ASSOCIATION_ids. Select only ids if the association hasn't been loaded.
Add test to make sure RJS block inside controller is executed in view context
Dont pass controller partial layout option to view
Remove double layout check
Add support for shallow nesting of routes. [#838 state:resolved]
I18n: applied Luca Guidi's patch for better #interpolate performance
Added optional rake doc:app TITLE environment parameter
Format related patches to support serializing data out in the correct format with correct http request headers per http method type [#450 state:resolved]
Make assert_select_rjs code more readable, make use of unused constants and use more simple Regexps.
Added button_to_remote helper
Move some core extension methods into a module under the ActiveSupport::CoreExtensions namespace, instead of extending core classes directly. This is more friendly for API reference generators.
Make NamedScope#size behave identically to AssociationCollection#size. [#933 state:resolved]
1.9: methods need to be coerced into strings
ActionMailer should respond_to? to methods handled by method_missing [#700 state:resolved]
Use a set for the named scope methods not a big regexp.
Minor tweak to retrieve_connection_pool -- recurse instead of loop
Remove some synchronization that's probably overkill, assuming one doesn't establish connections frequently
Remove call to active_record.allow_concurrency since it's deprecated
Collapse connection pool class hierarchy; YAGNI.
Make clear_active_connections! also return stale connections back to the pool
Remove CachedConnectionPerThread per-thread pooling mechanism in favor of a fixed pool with default maximum of 5 connections
Deprecate allow_concurrency and make it have no effect
Add connection reset and verification upon each connection checkout
Favor existing connections over new ones if available
More doco and class/method renames. Now have a strategy for integration with ActionPack.
Nearing the finish line. Initial fixed-size connection pool implemented, more docs
Clean up the code, get rid of reserve/release, add some more docs
Extract a base class for connection pools, start to flesh out reserve/release API
Add readme stating intentions of the work
Split connection handler into single- and multiple-thread versions.
Connection handling methods extracted out into separate ConnectionHandler class
Revert "Change all databases.rake adapter 'when' statements to use regexes."
Add synchronization to connection pool also
Introduce synchronization around connection pool access
Module#synchronize: Add testcase to ensure that singleton methods can be wrapped
Add method punctuation handling to #synchronize
Adds Module#synchronize for easier method-level synchronization.
Rename defined_connections to connection_pools
Initial conversion to connection pool
Change all databases.rake adapter 'when' statements to use regexes.
Ensure that calling content_tag_for in a helper doesn't cause duplicate output.
Improve assert_select_rjs failure messages for show, hide, toggle, and remove
Make case insensitive validates_uniqueness_of use unicode aware downcase method.
Make query-cache thread-local
Deprecate render_component.
Date#freeze bug doesn't affect Ruby 1.9
Date#freeze bug doesn't affect Ruby 1.9
Missed changelog update for #501
Routes may be restricted to lists of HTTP methods instead of a single method or :any.
Accept an array of method symbols for collection/member actions of resources
Refactored AssociationCollection#count for uniformity and Ruby 1.8.7 support.
Deprecated implicit local assignments when rendering partials
Prevent deprecation warning in the tests
Typo in current_cycle example.
Reinstate Range#step default argument.
Implement count limit/offset support for has_many associations
Alias included associations if needed when doing a count
Dirty: treat two changes resulting in the original value as being unchanged.
Added TextHelper#current_cycle to return the current cycle for better design options.
Request#remote_ip handles the uncommon case that REMOTE_ADDR is a comma-separated list.
PostgreSQL: fix quote_string for certain old pg drivers.  [#94 state:resolved]
respond_to? passes along splat args to avoid introducing the second arg if it was omitted
Add TestUploadFile.content_type= to match Request.UploadedFile
Moved Logger extensions into core_ext
Formally deprecate the old secret key generator
Deprecate Rails::SecretKeyGenerator in favor of ActiveSupport::SecureRandom.
I18n: remove #populate from Simple backend as well
i18n: fixed failing tests after removing #populate and #store_translations
I18n: removed call to #populate from main library files
I18n: removed #populate and #store_translations from api
Store application and other context specific helper modules in ActionView::Base#helpers
defined? has no bounds
Require missing libraries and check for defined ActionController constant so ActionView can be used standalone
Performance: reduce garbage created by ActiveRecord::Calculations#column_alias_for
Cache JavaScriptGenerator's helper module set on the template
When an unexpected exception is caught, tell the administrator to read the log file for more information about the error. This should make things less confusing for developers who are new to Rails.
Print the queries that were executed if assert_queries fails
Be more careful
Re enable CI for postgresql
Just look at sql_type when testing that the correct database-specific type was used
Back to fetching all versions in ruby instead of letting SQL do it as it's difficult to get all databases to convert the text value to a number with the same SQL
Include people and readers fixtures to fix test isolation error
fix tests relying on implicit ordering
PostgreSQL: pg driver expects nil instead of empty string for missing user/pass
Create mysql binary_fields table with latin1 character set as with utf8 all the limits would have to be divided by 3 to get the expected text types
Include mysql older than 5.1.23 in the 5.1 series in the list of those that can't handle NULL defaults
use double quotes
um.. yeah
typo
fix another ordering failure
fix tests relying on implicit ordering
add dynamic finder bang version to raise RecordNotFound
refactor dynamic finder name matching into its own class
ensure tests load sibling Active Support instead of a gem
Use DECIMAL instead of INTEGER when casting as mysql doesn't work with just "INTEGER" and other databases don't like "UNSIGNED" which mysql requires
Cache migrated versions list in Migrator and use it to fetch the latest migrated version name [#845 state:resolved]
Ruby 1.9 compat: switch profile_options to superclass_delegating_accessor
Load the first and not the last has_one result when doing join-based eager loading
Implement old-skool eagerloading for has_one :through
Harmonize framework require strategy. Don't add self to load path since Rails initializer and RubyGems handle it.
Performance: Cache modules that extend the view context for JavaScriptGenerator
Include all helpers into ActionView::Helper
Reworded and corrected docs of AR#save and AR#save!
strip trailing whitespace
Ruby 1.9 compat: fix test error masked by old String#each behavior
Work around frozen Date memoization
The view context always responds to controller, check if controller available instead
Base path may be nil if template is at the root of the view path
fixed a silly mistake of not fixing a merge
Corrected interpolation in a model find
I18n: fix activerecord i18n test for classy backend
Update translations for pluralization key change from 'many' to 'other'
Update translations for pluralization key change from 'many' to 'other'
update i18n gem
I18n: add aliases #t and #l to TranslationHelper#translate and #localize
properly reference geminstaller config under ci dir
Update translations for pluralization key change from 'other' to 'many'
Include the CI configuration and setup instructions.
Rollback the transaction when a before_* callback returns false.
Reverse the priority of the mysql commands in dbconsole
Ruby 1.9 compat: update bundled i18n lib
Ruby 1.9 compat: Hash is now flattenable, so explicitly exclude it
Ruby 1.9 compat: set source encoding
Ruby 1.9: silence some warnings for block args shadowing local vars
Ruby 1.9: constantize takes advantage of new inherit arg to const_get and const_defined?
before_validation raises ActiveRecord::RecordInvalid instead of ActiveRecord::RecordNotSaved
I18n: use :other instead of :many as default key for pluralization to better conform w/ cldr pluralization rules
Generate belongs_to association when generating a model
Generate belongs_to associations automatically for 'references' types [#640 state:resolved]
I18n: use :other instead of :many as default key for pluralization to better conform w/ cldr pluralization rules
New inflectors will overwrite defaults [#337 state:resolved]
Don't set "NULL" as a constraint on nullable columns [#398 state:resolved]
Pass class through to DeprecatedConstantProxy target
Always require activesupport, even if its constant already exists
Clear prefix_parameters cache when setting prefix
coerce blank strings to nil values for boolean and integer fields
Made migrations transactional for PostgreSQL [#834 state:resolved]
Removed old deprecation test because the warning was removed in 1129a24
Ensure :partial => @collection and :collection => @collection behaves same. [#884 state:resolved]
camelize(:lower) should always downcase first character. [#696 state:resolved]
Initializer to sort files before eager loading. [#859 state:resolved]
Ensure t.timestamps respects options. [#828 state:resolved]
Properly quote CREATE DATABASE parameters in postgresql [#771 state:resolved]
Revert "Performance: freeze cached rows instead of duping"
Revert "coerce blank strings to nil values for boolean and integer fields"
Removed template_public? because it will always be true since the default template is never a partial
Tidy up pick partial template logic
Add ActiveResource::Base.find(:last). [#754 state:resolved]
Cleanup around partial rendering
update rack tests for default response content_type and charset
deprecate Base#assign_default_content_type_and_charset
Move default content type and charset from Base to Response. Handle charset = nil.
Allow polymorphic_url helper to take url options. [#880 state:resolved]
Mark Class as not being duplicable. [#829 state:resolved]
remember created records and select a random one instead of relying on sequential id values starting at 1
coerce blank strings to nil values for boolean and integer fields
Custom error messages scope improved
Don't interpret decimals as table names in ActiveRecord::Associations::ClassMethods#references_eager_loaded_tables? [#532 state:resolved]
Allow overriding id for feed and entry with atom_feed_builder. [#485 state:resolved]
Support find_all on named scopes. [#730 state:resolved]
Simplified and renamed CallbackChain union method to replace_or_append!
Partial revert of 2681685 premature TypeArray abstraction
added class rdoc for AssociationCollection and revised the rdoc of a few methods
PostgreSQL: fix transaction bug that can occur if you call change_column with invalid parameters
Switched integration test runner to use Rack processor instead of CGI
Improve test coverage for integration tests cookie header
fixing actionpack yml translations
Changed locale file to yml for actionpack, but still broken
Removed en-US ruby locale in favor of yaml
Locale file changed to yaml
Locale file changed to yaml
Added :value as interpolation variable available to error messages
fix activerecord i18n_test to work with backend classes
Introduced AR::Base.human_name to validations
Added Base.human_name method
remove warning in i18n gem
add human_name and value to ar validation #generate_message
Added :value as interpolation variable available to error messages
Introduced AR::Base.human_name to validations
Added Base.human_name method
Don't shadow query string method
Test coverage for integration testing with parameters
Ensure objects cached with MemoryStore are immutable
Return nil instead of a space when passing an empty collection or nil to 'render :partial' [#791 state:resolved]
Delegate xhr helper method to integration session
Touch file with git revision when freezing edge
Make AbstractRequest.if_modified_sense return nil if the header could not be parsed
Removed config.ru template from app generator
hack around CGI session close
revised rdoc of join_table_name
Update listing of ActiveResource errors
switch to class and instance instead of a module for the simple backend
Added rack logger middleware that tails the environment log
Maintain a seperate buffer for each thread
Consistently use the framework's configured logger and avoid reverting to RAILS_DEFAULT_LOGGER unless necessary.
Replace MemoryStore mutex with a monitor to avoid issues with nested calls
added a class rdoc and documented count_records in has_many_association.rb
Performance: freeze cached rows instead of duping
Ruby 1.9 and GC::Profiler updates
pass yielded arguments to block for ActionView::Base#render with :layout [#847 state:resolved]
More integration test coverage
escaped some otherwise autolinked words
Use Response status accessor instead of the Status header
Use RackRequest as a mock instead of StubCGI into RequestTest
typo
complete revision of the docs of association_proxy.rb
Wrong default for validate_uniqueness_of's :case_sensitive
Test for eager loading of STI subclasses from htm associations
Updated has_and_belongs_to_many association to fix :finder_sql interpolation. [#848 state:resolved]
Don't raise exception when comparing ActiveRecord::Reflection. [#842 state:resolved]
Use type_condition method for hmt STI condition
Remove incorrect Active Resource documentation regarding client side validation that does not exist. Update example to reflect server side validation
Set cache control to require revalidation if cache freshness response headers are set. Don't set Content-Length header if 304 status.
Cleaned up ActiveRecord i18n scoping
Ensure results returned by a memoized method are immutable
Marshal FileStore values
TestRequest#recycle! uses unmemoize_all to reset cached request method, accepts, etc.
memoize_ and unmemoize_all
Use current umask when testing the expected file mode [#823 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Ensure templates are rendered if all the parts are already processed
in save! docs: added a note about what happens if AR::Rollback is raised somewhere in the callback chain
documented how to trigger rollbacks within the callback chain, and related gotchas
Refactor Filter predicate methods to use inheritance. [#815 state:resolved]
fixing unit tests for active_record validations_i18n
provide more useful feedback on missing translations for validation error messages
fix bug in I18n::Backend::Simple (A default array of non-existant keys returns the default array)
Account for the possibility of a nil options argument to CompressedMemCacheStore#read/#write
update activesupport/vendor i18n gem
fix validations_i18n tests for changed locale file format
switch to using I18n.load_translations instead of requiring plain ruby files
fix require path in vendor.rb for fixed vendor/gem dir structure
Set asset-cached file ctime and mtime to the max mtime of the combined files. Allows for consistent ETag generation without having a shared filesystem.
Update changelog for conditional GET utility methods
removed a wrong statement, I'll look into this to document it better
added a few docs about transactions
An string -> A string
activerecord/lib/active_record/base.rb
Serialized attributes will now always be saved even with partial_updates turned on.
move logging of protected attribute removal into log_protected_attribute_removal method
Alias subquery used in calculations, to provide better compatibility with databases such as MonetDB
update i18n gem and clean up dir structure within i18n-0.0.1
update i18n usage for pluralization hashes (api change)
rake db:fixtures:load and db:fixtures:identify now accept a FIXTURES_PATH option eg. "rake db:fixtures:load FIXTURES_PATH=spec/fixtures"
Added tests for partial collection counters [#766 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
mail_to should use decodeURIcomponent instead of unescape to be utf friendly.
Update tests for request memoization
Don't shadow host method
Added file name information for errors and exceptions in script/runnner
dryed up resources; fixed small formatting issue in resources rdoc
fixing "test_any_should_not_load_results" so it doesn't depend on latest version of Mocha
Simplifying usage of ETags and Last-Modified and conditional GET requests
Inherit these from AbstractRequest instead
Freeze memoized results when instance is frozen instead of immediately so you can memoize mutable objects
Refactor DateHelper to use DateTimeSelector presenter pattern Signed-off-by: Joshua Peek <josh@joshpeek.com>
Typo in comment.
Optimize memoized method if there are no arguments
Tidy up ActionMailer rendering logic to take advantage of view path cache instead of using file system lookups
JRuby: improve constantize performance.  [#410 state:resolved]
Make sure ActionView is loaded inorder to build view paths
Ensure file atomic write uses the cache directory as its tmp folder
Be more careful about deducing action_methods
Treat single C operations in MemoryStore as atomic
Make FileStore use atomic writes
MemoryStore is the only "unsafe" store. Make it threadsafe by default.
Make File.atomic_write copy the original permissions or use the directories default.
Added missing opening double quote to doc example in prototype helper.
Added MigrationProxy to defer loading of Migration classes until they are actually required by the migrator
Strip newlines from cookie session data
Ensure public superclass methods don't shadow public controller methods. Case in point, ruby-debug's Kernel#start shadowing a controller's start action.
Make assert_template failure message more friendly
Added config.threadsafe! to toggle allow concurrency settings and disable the dependency loader
Expose Routing::Segment::SAFE_PCHAR list of path characters that don't need escaping
Corrected the command-line help text for script/dbconsole.
Make requiring gems optional.
Added missing fixtures for tests which fail to run independently if run after schema reset
Added a better explanation for config.active_record.observers when using it in tandem with script/generate observer.
Flesh out documentation for the :select option to AR#find
Added documentation for ActiveSupport::StringInquirer class
escaped otherwise autoquoted words
say explicitily that after_* callbacks run within the save/destroy transaction
Treat ActionMailer template_root as a view path set internally to avoid inheritance and dupping issues
Ensure mailer view path is loaded when it's assigned. Path#[] raises if it isn't loaded.
List available actions in UnknownAction exception message
load_application_classes requires files relative to the load path and without .rb extension, including .rb files in subdirectories
Use "/usr/bin/env ruby" instead of "/usr/local/bin/ruby"
validates_uniqueness_of uses database case sensitivity support instead of using ruby
In javascript helpers option[:type] = :synchronous should work as described in docs.
Turn cache_classes on by default [#645 state:resolved]
Cast value to string in validates_uniqueness_of if the column is of text type
Raise UnknownAttributeError when unknown attributes are supplied via mass assignment
Ensure dbconsole includes the -p parameter to mysql as intended
Performance: grouping helpers should use yield instead of block as argument.  [#723 state:resolved]
Initializer requires ERB explicitly instead of assuming Action Pack loaded it.  [#722 state:resolved]
Prototype helpers should generate Element.insert instead of Insertion.new, which has been deprecated in Prototype 1.6.
Initializer skips prepare_dispatcher if Action Controller isn't in use.  [#721 state:resolved]
Reapply 'cab168ac' because it was accidentally patched over in '10d9fe4b'
Updated NumberHelper: Full i18n support (except number_to_phone), consolidated API (almost all methods now support :precision, :delimiter and :separator). Added deprecation notices for old API. Added tests for new options [#716 state:resolved]
Remove incomplete non-blocking logger functionality
Guard the logger's internal buffer to prevent major breakage on genuinely threaded environments
revised conventions, fixed an example, escaped autolinked words, and other assorted details in request.rb
Once is enough, mmk
Don't rememoize if already frozen
Remove send! usage, relic of reverted 1.9 behavior
MacRuby: BasicObject unavailable
escaping otherwise autolinked "resource(s)" in resource.rb and assorted minor touches
escaping otherwise autolinked "scopes" in named_scope.rb (we can now assume rdoc is v2.1)
convention revision and typos
Added back ActionController::Base.allow_concurrency flag and moved lock down to controller processing.
Prepare Route#generate and Route#recognize early. Also refactor segments a bit to try to make immutable.
Routing whitespace cleanup
The :conditions for calculations are not explained in the intro, there is no intro. This must have been copy/pasted from active_record/base.rb so link there instead.
Refactored TextHelper#truncate, highlight, excerpt, word_wrap and auto_link to accept options hash [#705 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
error_message_on takes an options hash instead of ordered parameters [#704 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Revert "Ensure adapater specific code is loaded on ActiveRecord::Base.establish_connection"
Make observers define #after_find in the model only if needed.
Begin working on a little Rails book.
Improve documentation for ActionController::UrlWriter.
ActionController::Base.relative_url_root falls back to ENV['RAILS_RELATIVE_URL_ROOT']
Check for ActionMailer and ActionController before attempting to eager load their view paths Signed-off-by: Joshua Peek <josh@joshpeek.com>
AbstractRequest.relative_url_root is no longer automatically configured by a HTTP header. It can now be set in your configuration environment with config.action_controller.relative_url_root
Added config.dependency_loading to enable or disable the dependency loader after initialization
Revert 'bc5896e'
Load view path cache after plugins and gems.
Just file?
Ensure NamedScope#any? uses COUNT query wherever possible. [#680 state:resolved]
Extract ActiveSupport::TypedArray class to ensure an array is all of the same type [#673 state:resolved]
Memoize ActionView::Base pick_template and find_partial_path for rendering duration
Improved Memoizable test coverage and added support for multiple arguments
Ensure adapater specific code is loaded on ActiveRecord::Base.establish_connection
Make script/plugin work with svn+ssh urls. [#662 state:resolved]
Use klass.sti_name to make sure associations take store_full_sti_class into account. [#671 state:resolved]
Added configurable eager load paths. Defaults to app/models, app/controllers, and app/helpers
Preload application classes. Uses same strategy as phusion passenger.
Refactored NumberHelper API to accept arguments as an options hash [#666 state:resolved]
Refactor DateHelper and improve test coverage [#665 state:resolved]
Improve the plugin creation guide's title.
Update guide generation task for latest Mizuho commandline options. Add admonition icons for the guides.
If it doesn't overflow, it won't have a .start method.  So don't run the second assertion either
Handle the case where 64bit time_t won't overflow.
Convert 'creating plugins' guide to asciidoc format.
Revived two ancient manuals from manuals.rubyonrails.org: 'Securing Rails Applications' and 'Testing Rails Applications'. Now in Asciidoc format generated by Mizuho.
in access.rb, documented edge cases of #from and #to and revised conventions
Refactor ActiveSupport::Dependencies injector so it would be possible to disable it
Ensure ActionView::PathSet::Path is not initialized with a precompiled path
Update Prototype to 1.6.0.2 (Patrick Joyce) [#599 status:committed]
Removed handling of string parameter in link_to to have all URL generation done by url_for
Removed unused option from FormHelper#fields_for [#641 state:resolved]
Only create a path for ActionMailer template root instead of a path set. Better fix than 7461227
Ruby 1.9: Call join on template_root instead of to_s
Prefer Mongrel over Thin [#658 state:resolved]
Stub out timestamped_migrations in generator tests
Dropped SQLite 2 from default test runner
Update uses_mocha in ActionMailer and ActiveResource
Undefine old run method
Ensure checked value is a string when validating case-sensitive uniqueness [#361 state:resolved]
Improve documentation for ActiveRecord transactions.
Improve documentation of ActiveRecord::Rollback.
Improve readability of other ActiveRecord association methods' documentation.
Ruby 1.9: Strip encoding from ERB source since you can not change character encoding during a method
Ruby 1.9: Ensure Memoizable#freeze is only overriden once to avoid an endless loop
Raise ArgumentError if an invalid method is specified as part of a route's conditions.  Also raise an error if HEAD is specified as the method, as rails routes all HEAD requests through the equivalent GET, though doesn't return the response body [#182 state:resolved]
Set the response content type to that of found template if not explicitly set elsewhere [#444 state:resolved]
Removed lagacy TemplateHandler#render API. Left in a legacy TemplateHandler and Compilable stub so plugins will not have to change anything.
Changed ActiveSupport::Memoizable API to extend since it mainly adds the memoize class method
Improve readability of ActiveRecord::Assocations.has_many's documentation.
Improve overview for ActionController::TestCase.
Write overviews for AbstractController::TestResponse and AbstractController::AbstractResponse.
Improve documentation for ActionController::Session.get.
Allow memoized methods to be reloaded and allow multiple symbols
Decrease default benchmark runs from 10 to 4
etag! and last_modified! conditional GET helpers
Make sure association preloading works with full STI class name [#465 state:Resolved]
Introduce simple internationalization support
Wrap AssetTagHelper's computed public path cache in a threadsafe store
Allow ActiveSupport::Cache logger to be silenced
Cleanup ActiveSupport::Cache::ThreadSafety module and add test coverage
Add extra tests to ensure Hash#slice works with an array as a key. #613
Include a :number option example inside Time conversions helper.
Revert "Hash#slice supports an array of keys [#613 state:resolved]"
Set config.active_record.timestamped_migrations = false to have migrations with numeric prefix instead of UTC timestamp. [#446 state:resolved]
Revert "Run callbacks from object's metaclass"
Allow deep merging of hash values for nested with_options. [#490 state:resolved]
All 2xx requests are considered successful [#217 state:resolved]
Use fully-qualified controller name when logging. [#600 state:resolved]
Hash#slice supports an array of keys [#613 state:resolved]
MemCacheStore#decrement should use data instance variable not local variable [#521 state:resolved]
Resolved conflict
merge with local tweaks
moving country helpers from form_options_helper to form_country_helper again
fixing another timezone dependent test
Allow Dispatcher exceptions to be handled in application.rb using rescue_from
make i18n date/time tests timezone independent
Add some useful comments to rackup config
Add config.ru to rails app generator
Improve rack/cgi tests
Make RackRequest#request_method respect _method
ActionMailer and ActionView can share the same view path cache
Removed config.action_view.cache_template_loading, use config.cache_classes instead
RackResponse should not contain Status header
Tests for rack response content type
Run callbacks from object's metaclass [#575 state:resolved]
Added Object#metaclass
missed to remove a call to to_s while resolving conflicts in validations.rb
Add tests for CgiRequest#content_type
RackRequest#content_type should return Mime::Type
add i18n lib files
remove i18n lib subproject
Improved test coverage for fragment cache helper
JavaScriptGenerator should only sets output_buffer for the duration of the update block
merge forward to current rails/master
reverting changes to form_options_helper for merge
Observers not longer add an after_find method to the observed class.
requiring rubygems version 1.1.1
update_counters should update nil values.
Give more info on missing gems and abort instead of printing a warning. App can begin in incomplete state otherwise.
Move performance test helper settings to railties
Get buffer for fragment cache from template's @output_buffer
Move the transaction counter to the connection object rather than maintaining it on the current Thread.
Try to get more useful errors out of the test_line_offset failures
Ruby 1.9 compat: only eval with block.binding in 1.9, uses more memory than eval with block
Ruby 1.9 compat: account for different String#hash
Ruby 1.9 compat: call Proc#binding explicitly.  [#623 state:resolved]
Add in_groups to ActiveSupport::CoreExtensions::Array::Grouping. [#579 state:resolved]
SQLite: rename_column raises if the column doesn't exist.
Append a "_" to memoized instance variables
Some performance tweaks to ActiveSupport::Memoizable
memorize typo
Include Memoizable in ActionView::Template
Added Memoizable mixin for caching simple lazy loaded attributes
Use sub instead of gsub
Eager load Partial variable_name and counter_name. Tidy up render_partial_collection.
Add assert_sql helper method to check for specific SQL output in Active Record test suite. [#325 state:resolved]
Move dead recompile_template? also
Remove dead code from merge
PostgreSQL: don't dump :limit => 4 for integers
Faster and clearer value_to_boolean
Cache Module#parent_name
Cache template loading for performance tests
Use instance_method(...) to check whether the method exists
Restore the more readable before_ and after_filters methods since they aren't called frequently
Added db:charset support to PostgreSQL. [#556 state:resolved]
Make script/plugin install <plugin> -r <revision> option work with git based plugins. [#257 state:resolved]
Add :accessible option to Associations for allowing mass assignments using hash. [#474 state:resolved]
Add block syntax to HasManyAssociation#build. [#502 state:resolve]
Make fixture accessors work when fixture name is not same as the table name. [#124 state:resolved]
Enable loading fixtures from arbitrary locations. [#586 state:resolved]
Slightly faster DateTime#to_json. [#598 state:resolved] [Alex Zepeda]
Ensure :index works with fields_for select methods. [#518 state:resolved]
Use full path in database tasks so commands will work outside of Rails root [#612 state:resolved]
Small tweak to e0fef66
Made ActionView::Base#first_render a little more private. And added _last_render to track the most recent render. Will fix #609 as a side effect. [#609 state:resolved]
Set config.action_view.warn_cache_misses = true to receive a warning if you perform an action that results in an expensive disk operation that could be cached
Refactor template preloading. New abstractions include Renderable mixins and a refactored Template class.
Set global ActionController::Base.view_paths for test cases
Removed a few implementation specific view path tests
Improve test coverage and create fixtures for RenderPartialWithRecordIdentificationTests
Ensure script/generate finds generators from symlinked plugins. [#449 state:resolved]
ActiveSupport::CoreExtensions::Hash: Slightly modified wording, plus example with reverse_merge vs. merge
Restore support for partial matches in assert_redirected_to
Ensure mail_to label is obfuscated for javascript encoding. [#294 state:resolved]
Ensure MysqlAdapter allows SSL connection when only sslca is supplied. [#253 state:resolved]
Changed ActionView::TemplateHandler#render API method signature to render(template, local_assigns = {})
Use require_dependency 'application' not require in the console bootstraps to avoid requiring application.rb twice
Whitespace
Added tests to show that 2d372d7 breaks old generator behavior (#545 state:resolved)
Ensure use_accept_header is enabled for test_action_cache_conditional_options
Ensure use_accept_header is enabled for test_action_cache_conditional_options
Check for response in builder template since ActionMailer does not have one
Stubba is included in Mocha already
Added notes to Routing documentation and routes.rb regarding defaults routes opening the whole application for GET requests
Move accept header parsing shortcut to Mime::Type.parse
Don't repeatedly convert only/except options
Remove some Symbol#to_proc usage in runtime code.  [#484 state:resolved]
Boolean type casting creates fewer objects
Request#accepts special-cases a single mime type
Put a newline rather than a semicolon at the end of RJS source to avoid parse errors with embedded heredocs
Use ActionController::Base.logger to report template compilation errors since there is no AV::Base.logger
Rendering default template for missing actions works with non-word characters in action name
Pass caller to concat deprecation warning
Reenable the use of the Accept header to give people a chance to update their applications and provide feedback.
Changed PrototypeHelper#submit_to_remote to PrototypeHelper#button_to_remote to stay consistent with link_to_remote (submit_to_remote still works as an alias) (clemens) [#8994 status:closed]
Ensure NamedScope#build/create/create!/new works as expected when named scope has hash conditions. [Daniel Guettler, Pratik Naik] [#419 state:resolved]
Allow Infinity (1.0/0.0) to pass validates_numericality_of. [#354 state:resolved]
Ensure url_for(nil) falls back to url_for({}). [#472 state:resolved]
Plugin locator: sort directory listing because we can't assume that the OS will do it for us. This fixes some unit test failures.
Removed unnecessary or condition in #error_messages_for
Added a small comment about deleting cookies set with a :domain key (in order to delete you must specify the domain again).
Add :recursive option to javascript_include_tag and stylesheet_link_tag to be used along with :all. [#480 state:resolved]
Added localize helper method
Make sure object name is translated in #error_messages_for
Updated ActiveRecord::Errors#default_error_messages deprecation warning according to i18n changes
Disable the Accept header by default
fix ordering of assert_equal in assert_redirected_to.  boy, that sure would be easier with rspec or bacon :)
align with changes in i18n
Add support for :primary_key option to has_one as well as has_many so that a key other than the default primary key can be used for the association
Add has_many :primary_key option to allow setting the primary key on a has many association
add a translation helper
Added local assign keys to compiled method name so two threads evaluating the same template with different locals don't step on top of each other
Synchronize template compiling
Lookup compiled methods in CompiledTemplates instance methods set instead of using a "methods_names" hash
Do not stat template files in production mode before rendering. You will no longer be able to modify templates in production mode without restarting the server
Use the inline template's hash as a method key instead of relying on a counter
Removed unused template_args variable
Deprecated TemplateHandler line offset
Ensure all complied method names are cleaned up in the error backtrace
Moved complied method name logic into Renderable
Renamed Renderer to Renderable
reverting changes to ActionMailer
Reverting changes to ActionMailer Revert "Experimental I18n charset support for ActionMailer" This reverts commit 6982acb0793fb6e59f52cab4062344a88e3691ce.
Reverting changes to ActionMailer Revert "Make sure ActionMailer use default charset if no defined by current locale" This reverts commit d41e4c1c3d6e6259f1cfc0cdbd4fc30fee0f866a.
use :default for human_attribute_name
Use ActiveSupport::TimeZone in time:zones rake tasks
Simplify the implementation of assert_redirected_to to normalise the urls before comparing.  Also allows for a simpler implementation of redirect_to without most of the recursion.
Remove old broken follow_redirect from functional tests.  Still works in integration tests.
Move test related core_ext stuff out of regular core ext to prevent nasty surprises when you require active_support then use Test::Unit directly.
Revert "Moved TemplateHandlers to Base"
Allow caches_action to accept cache store options. [#416 state:resolved]
Add :tokenizer option to validates_length_of. [#507 state:resolved]
Allow date helpers to ignore date hidden field tags. [#503 state:resolved]
Reduce the number of callsites for new TemplateFiles
Extracted Template rendering logic into Renderer module
Use render on InlineTemplate
Don't rely on view instance logger
Moved TemplateHandlers to Base
Tighten the rescue clause when dealing with invalid instance variable names in form_helper.
Move the file exists checks outside write_asset_file_contents.
Move template_format logic out to the request so it's alongside the 'regular' request format.
Support for custom annotations with rake notes:custom and DRY up the task definition.
Remove unused local_binding option to InstanceTag's Constructor
Remove nested ternary operators from select_year in favour of conditionals.
Remove unneeded ObjectWrapper class.
Tighten the rescue clause here to prevent hiding strange mock related errors behind the line offset test
Remove old method of including javascripts define_javascript_functions.
Remove strange alias for JavaScriptHelper
Use :namespace instead of :path_prefix for finding controller. [#544 state:resolved]
Make sure ActionMailer use default charset if no defined by current locale
Changing order of equality because comparing certain objects with false raises an error.
Deprecate :use_full_path render option. The supplying the option no longer has an effect.
Added Rails.initialized? flag
Added application/jsonrequest as a synonym for application/json
use mocha for TimeZone mocking in Form Options helper tests
remove core extensions in favor of I18n#translate and I18n#localize
Ensure script/plugin unsource 'Usage' text is correct. [#526 state:resolved]
Make sure render :collection doesnt set nil local when :as is absent
Add :as option to render a collection of partials with a custom local variable name. [#509 state:resolved] [Simon Jefford, Pratik Naik]
Add Inflection rules for String#humanize. [#535 state:resolved] [dcmanges]
Make rake test:uncommitted work with Git.
Make sure render :template works with :locals. [#524 state:resolved]
Improved test coverage and added RackRequest support for CGI environment variables.
Ensure Rails::Generator quotes file names while generating diff. [#264 state:resolved]
Ensure AssociationCollection#size considers all unsaved record. [#305 state:resolved] [sds]
Ensure proper output when submit_tag is used with :disabled_with. [#388 state:resolved]
Experimental I18n charset support for ActionMailer
TimeWithZone#advance: treat :weeks option as variable-length
TimeWithZone: when crossing DST boundary, treat Durations of days, months or years as variable-length, and all other values as absolute length. A time + 24.hours will advance exactly 24 hours, but a time + 1.day will advance 23-25 hours, depending on the day. Ensure consistent behavior across all advancing methods.
Added support for regexp matching of priority zones in time_zone_select [#195 state:resolved]
Ensure FormBuilder date helpers respects html_options. [#506 state:resolved] [Pascal Ehlert]
all aasm tests without activerecord moved over and passing
converted tests for more complex state transitions
add basic events and transitions.  still more tests to convert
initial statemachine machine and state classes
tweak activemodel load order a bit
add special requires for ActiveSupport::Inflector so you can load it individually
convert specs to tests
Dirty: recognize when an integer changes from zero to blank.  [#433 state:resolved]
Add extra hash conditions tests for named_scope
Allow conditions on multiple tables to be specified using hash.
Ensure observer test inherits from ActiveSupport::TestCase
Finished sentence in ActiveResource README
Warn and uses singularized ModelName if a plural ModelName is given to script/generate. Override with --force-plural. [#333 state:resolved]
Make sure mocha is available
Allow single quote (the ' character) in the middle of URL when auto_link-ing. [#471 state:resolved]
MySQL: treat integer with :limit => 11 as a display width, not byte size, for backward-compatibility.
Make sure associated has_many/habtm objects get saved even when :validate => false is used. [#486 state:resolved]
Cache sanitized conditions in reflection object for associations
teeny tiny change that fixes a minor formating problem'
Extract owner_quoted_id so it can be overridden.  [#292 state:committed]
Added Thin support to script/server.  [#488 state:resolved]
Freeze ModelName cache_key also
Performance: minor Column#text? and #number? speedups
example output of content_tag block form was incorrectly wrapped in <p></p> tags
Set precompiled fixture load path constant to speed up tests
Hide InlineTemplate class from ActionController and use ActionView's render API
Made ActionView::Base#render_file private
Consolidate CustomHandlerTest, TemplateFileTest, and TemplateObjectTest and test them at a higher level of abstraction in ViewRenderTest.
Patched HTML::Document#initialize call to Node.parse so that it includes the strict argument. [#330]
Include cache key in ModelName
Performance: minor Array#to_param and #to_query speedups
Improve readability
Test for tinyint
link_to_function and button_to_function shouldn't modify their options hashes
Treat any limit > 4 as bigint
Allow script/about to run in production mode instead of failing with a cryptic const_missing error.
It's select_date, not select_datetime - fix copy and paste doc error.
silence deprecation warning during validations test
including rcov shell scripts for reference
update tests according to removal of self.locale from helpers
remove call to self.locale from helpers
remove generic translate helpers
rather cosmetic improvements of test coverage
Revert "Check for mocha gem without requiring the lib.  [#403 state:resolved]"
Use consistent "takes precedence over" verbiage and remove some unnecessary words.
Check for mocha gem without requiring the lib.  [#403 state:resolved]
Always treat integer :limit as byte length.  [#420 state:resolved]
Partial updates don't update lock_version if nothing changed.  [#426 state:resolved]
Oops, already had a postgresql_version method!
Only use DROP ... IF EXISTS for PostgreSQL 8.2 or later.  [#400 state:resolved]
ActiveRecord::Migrator#run records version-state after migrating.  [#369 state:resolved]
nix extra newline
Changelog for 509374e
Named bind variables can now be used with postgresql-style typecasts
MySQL: rename_column preserves default values.  [#466 state:resolved]
Horo rdoc template
check self.locale instead of request.locale in helpers
crap, an array never has a request, stupid.
Replaced country_options_for_select with old, untranslated version and moved country-related helpers to a new FormCountryHelper helper module so that they can easily be moved to a plugin. Updated tests accordingly.
remove DeprecatedConstantToMethodProxy again
Performance: javascript helper tweaks to speed up escaping and reduce object allocations when building options strings
experimental DeprecatedConstantToMethodProxy
incorporate #translate usage with several default keys (use first default key that resolves to a translation). this might, depending on the backend implementation save some expensive lookups (like db lookups)
Everything responds to #to_param
Renamed lang/ to locale/ because that's what we seem to standarize on. Also, in future this place can be used for data/code that's not literally translations but conceptually belongs to the locale (like custom pluralization algorithms etc.).
Changed process of storing translations from the client libraries to the backend: clients now can pass a block to backend#populate which can contain code to load and register translations.
ActiveRecord associations example on module scopes was illogic Was using Company when it meant Client.
Don't assume RubyProf constants are defined
Added block-handling to Enumerable#many? (Damian Janowski) [#452 state:resolved]
true#to_param => true, so be sure to #to_s expanded cache keys
Tired of seeing <foo>/run
Don't profile GC runs/time by default
Fall back to #to_s for cache key expansion
rename Backend::Simple#add_translations to set_translations because it overwrites existing translations
Check whether blocks are called from erb using a special __in_erb_template variable visible in block binding.
Move erb_trim_mode setting to the ERB template handler. Keep a Base.erb_trim_mode= delegator around.
Add performance test generator
add a generic tranlate view helper
fix merge
make ActiveRecord::Errors.default_error_messages look up translated error messages
I18n has not been released as a gem, yet
add lang file for active_support
integrating I18n into Rails
fix toplevel pdoc task
Add toplevel doc to .gitignore
Require ssh publisher in toplevel Rakefile
Add toplevel rdoc and pdoc tasks
Add dummy pdoc task to railties
Use rdoc exclude
Add lib/rails/*.rb to rdoc
Use native include/exclude instead of doing it by hand
Exclude lib/activeresource.rb from rdoc
Exclude lib/actionpack.rb from rdoc
Generate rdoc for all .rb files except those in vendor
Generate rdoc for all .rb files except those in vendor
Add pdoc task to toplevel Rakefile
Update Rakefiles to connect to wrath as current user. Use ssh config to set a different user.
Performance: add GC metrics for # of runs and total runtime
Oops, include metric name in csv filename
Performance: tweak unsupported metric error message
Write benchmark output to separate files per test+metric. Support Lloyd Hilaiel's GC.heap_info patch for current heap size.
Improved test coverage for integration test's api
Replaced TemplateFinder abstraction with ViewLoadPaths
Rely on quieter db:test:load task
Make Base.merge_conditions public
Performance: PartialTemplate#initialize
Added block-call style to link_to [Sam Stephenson/DHH]
Added Array#second through Array#tenth as aliases for Array#[1] through Array#[9] [DHH]
tweaked a header
provide a more complete explanation about why the check_box generates a hidden field, and document the problem with array-like parameters
verify :redirect_to => :back should redirect to the referrer. [#280 state:resolved]
Correct code example in dom_id docs.  [#437 state:resolved]
Don't dump schema for every test run, just when migrations are run
process time for benchmarks (quicker), wall time for profiling (lower overhead)
missed . joining rails version and git revision
Metrics::Memory measures in fractional KB also
Extract environment. Hardcode some git info so I can start working with it now.
Force runs to be an integer. Start and stop RubyProf in same scope. Expect memory measurements in fractional KB now instead of bytes. Convert object allocation measurements to integer. Wrap up measure_mode in Metric instance method.
Delegate run_test to @harness
Use test/performance/test_helper to do test setup then boost log level and turn on caching
Extract Metric and Performer. Simplify and refactor.
Reload cached templates when a new handler is registered
Updated bundled TZInfo gem to version 0.3.9 for Ruby 1.9 compat
Pass printer class to output_filename
Last commit message was meant for changelog.
Performance: integration test benchmarking and profiling.  [Jeremy Kemper]
Change Enumberal#several? to Enumberal#many?
Make rescue template xhtml compatible [Sam Ruby] [#415 status:resolved]
Ruby 1.9 compat: instance_methods are symbols instead of strings. Use the quicker instance_method(sym) rescue false check.
Remove superfluous test_process require
Changed all generated tests to use the test/do declaration style [DHH]
Added test/do declaration style testing to ActiveSupport::TestCase [DHH via Jay Fields]
Revert "Ensure MemCacheStore is required when using CompressedMemCacheStore since they are lazy load now."
Revert "Lazy load cache and session stores"
Added Object#present? which is equivalent to !Object#blank? [DHH]
Added Enumberable#several? to encapsulate collection.size > 1 [DHH]
Ensure MemCacheStore is required when using CompressedMemCacheStore since they are lazy load now.
Opps, I forgot to add template_handlers.rb to my index.
Moved template handler registration into a mix-in module.
Add :from option to calculations.  [#397 state:resolved]
Silence scope resolution warnings
note on increasing performance a bit when using restful urls
Silence TimeZone warning
supports_insert_with_returning? caches false result also
Added some has_many tests
Improve ActionCaching's format-handling
Update docs to reflect 71bf75
Disable validations for associated belongs_to record by default
Add :validate option to associations. [#301 state:resolved]
Make sure cache_template_loading works and don't use to_prepare callback
TimeZone -> ActiveSupport::TimeZone.  [#387 state:resolved]
Performance: speed up Hash#except.  [#382 state:resolved]
Ensure view path cache is rebuilt in production mode which was broke by df44df9.
PostgreSQL: use 'INSERT ... RETURNING id' for 8.2 and later.
Delegate ActionView::Base#controller_name to controller
PostgreSQL: insert looks up pk and sequence name if not given.  [#384 state:resolved]
Inflector -> ActiveSupport::Inflector
Rubinious: setup/teardown override for miniunit
Rubinious: work around h[k] ||= v returning []= result instead of v
Lazy load cache and session stores
Add empty setup and teardown methods to rule out default setup behavior in base class
add deprecation for the #concat helper's 2nd argument, which is no longer needed
add deprecation for the #concat helper's 2nd argument, which is no longer needed
fix eager loading with dynamic finders
Removed TemplateFinder.update_extension_cache_for since view path cache will be updated on boot.
Removed used check_view_paths after 057768c
Enable autoreconnect if available. Freeze constants.
Give a more informative error message instead of just raising a load error when mysql gem isn't installed
Don't append limit to primary key column definition. Freeze some constants.
Process view paths passed to AV::Base#initialize instead of raising.
with_output_buffer returns the temporary buffer instead of the result of the block
Ensure ActionView::TemplateFinder view cache is rebuilt on initialize.
Drop ActionController::Base.allow_concurrency flag
Use output_buffer reader and writer methods exclusively instead of hitting the instance variable so others can override the methods.
change some more TimeZone references to ActiveSupport::TimeZone
Remove dead, unused vendor/db2.rb
Remove vendor/mysql.rb. Deprecated in 2.1 stable, gone in 2.2.
Add the gem load paths before the framework is loaded, so certain gems like RedCloth and BlueCloth can be frozen. [#320 state:resolved]
Make plugins initialize also from rails/init.rb to ensure consistency with gems used as plugins
Revert "Missed add: deprecated erb_variable test"
Revert "Missed add: deprecated erb_variable test"
Missed add: deprecated erb_variable test
Performance: faster Object.subclasses_of
Wrap Initializer after_initialize inside mocha block.
Wrap CGIResponse, LegacyRouteSet, Route, RouteSet and RouteLoading tests inside mocha block.
Wrap date part value method tests inside a uses mocha block.
No need to build a Set since we're iterating instead of checking for inclusion now
Changelog: More efficient concat and capture helpers. Remove ActionView::Base.erb_variable.
PostgreSQL: update create_database_with_encoding test also
PostgreSQL: quote bare table names
Ensure we have an array to collect
Don't use deprecated String#each
Remove 1.9's String#chars also
GemDependency#specification should be public
Remove some internal dead code that supported content_for
concat should ignore nil
javascript_tag should only concat when block_given?
Simplify ActiveRecord::Base#update_attribute
Qualify Inflector in rdoc examples also.  [#356 state:resolved]
Drop a string conversion from the often-called tag_options helper
Generate less garbage when expanding range bind variables in conditions
Move Class::ModelName to Active Support module core_ext
Cache RecordIdentifier methods in Class#model_name wrapper
Ensure render :file works inside templates
Make partial counter start from 0.
Ensure plugins' rake tasks are loaded before application's rake tasks. [#259 state:resolved]
Mass typo and misspelling fix.
Use CGI::Cookie::parse for request cookies until we officially deprecated CGI.
Renamed StringQuestioneer to StringInquirer.
Namespaced StringQuestioneer under ActiveSupport.
Give a nice message if there are duplicate migrations instead of raising a strange insert error
Add RJS#page.reload. [#277 state:resolved]
Dependencies move to ActiveSupport::Dependencies missed a few spots
Wrapped Rails.env in StringQuestioneer so you can do Rails.env.development? [DHH]
Add more standard Hash methods to ActiveSupport::OrderedHash [#314 state:resolved]
Allow caches_action to accept a layout option [#198 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Callbacks fire before notifying observers [#230 state:resolved]
Namespace Inflector, Dependencies, OrderedOptions, and TimeZone under ActiveSupport [#238 state:resolved]
Stack @output_buffer for nested rendering
Don't pass block binding to concat
Work with @output_buffer instead of _erbout
Try replacing _erbout with @output_buffer
Added tests [#279 state:resolved] (Nicholas Schlueter)
Ensure Rack processor reads CGI output_cookies for the session cookie.
AR can be disabled, new_rails_defaults.rb should check [#303 state:resolved] (Jesper Hvirring Henriksen)
Added a test for Gzip
Ensure AR#sum result is typecasted properly
Faster Hash#slice that doesn't use Enumerable#include?.
In 9c4f003, gem installation quotes versions. Do the same for unpack and update tests to reflect the change.
Ensure Associations#sum returns 0 when no rows are returned. [#295 state:resolved]
fixed typo: extra word
Added Rack middleware to handle static files.
Added Rack processor
Added SQL escaping for :limit and :offset in MySQL [Jonathan Wiess]
Previously we only added the "lib" subdirectory to the load path when setting up gem dependencies for frozen gems. Now we add the "ext" subdirectory as well for those gems which have compiled C extensions as well. [Wincent Colaiuta]
fix changelog conflict
Add ActiveRecord::Base.sti_name that checks ActiveRecord::Base#store_full_sti_class? and returns either the full or demodulized name. [rick] [#114 state:resolved]
revert mysql test credential change
Making ready for release of 2.1
Remove dead code, and the tests for it.
Substitute value into validates_format_of message
Remove dead code, and the tests for it.
Substitute value into validates_format_of message
Added SQL escaping for :limit and :offset [#288 state:closed] (Aaron Bedra, Steven Bristol, Jonathan Wiess)
fix doc typos
Expose GemPlugin load_paths so they can be added to Dependencies.load_paths. Also use full_gem_path as root of GemPlugin to make things compatible. [#213 state:resolved]
Consolidate error messages for missing gems, and skip them when running rake gems:* tasks.  [rick]
fix Gem installation command with versions
Run gem install as external command. [#210 state:resolved]
Added better error message for when the class name is already used (and dont show suggestions if there are none)
Ruby 1.8.7 compat: work around broken DelegateClass#respond_to?
Removed suggestion for turning off partial updates.
Don't provide the password with dbconsole unless explicitly opted in.
Ruby 1.8.7 compat: TimeWithZone# and Chars#respond_to? pass along the include_private argument
Make a note about script/destroy in 'script/generate scaffold' usage description. Make a note about 'script/generate scaffold' requiring a singular model name. Remove :nodoc: for a documented method.
belongs_to polymorphic association assignments update the foreign_id and foreign_type fields regardless of whether the record being assigned is new or not.
belongs_to polymorphic association assignments update the foreign_id and foreign_type fields regardless of whether the record being assigned is new or not.
added final tree structure, changed String to String.class_eval do
made the headings more consistent
Ensure query assertion counts are the same when partial updates are enabled
Enable partial updates by default
Require ruby-prof 0.6.1 or later. Use resume/pause to omit extraneous machinery from profile.
git ignore rubinius .rbc files
added documentation for rake tasks to the plugin tutorial
Added a tutorial for how to create and test plugins
first draft on helpers
First draft of the ActionView Partials guide.
Ensure script/plugin installs ssh/git plugins. [#277 state:resolved]
Add examples for #to_json for Date, Time, DateTime, TimeWithZone for the case when ActiveSupport.use_standard_json_time_format = true (and also when it is false).
Start narrative documtentation
Ensure :select passed in options overrides the one from the scope. [#239 state:resolved]
Add ActionMailer#reply_to. [#245 state:resolved]
Ensure AssociationCollection#count works with empty condition. [#271 state:resolved] [Jan De Poorter]
added useful example for actionview's debug()
Ensure correct db time is reported in production logs.
Updated README example to ActionController::TestCase from Test::Unit::TestCase. Added usage example for ActionController::TestCase.
fixed typo in url_helper & added comments on usage to js (link|button)_to_function helpers
Ensure named_scope#empty? uses count query. [#262 state:resolved]
update language and use proper fonts for method names
fix spelling error
Update TODO
AND/OR support for predicates
Active Resource instance -> ActiveResource::Base instance
small fix in ActiveResource::Base docs
a tiny, one-word change
Remove superfluous tests directive
Don't require AV::TestCases to have a helper class. Only include the helper class in setup if it hasn't been already.
revised some conventions in validations docs
revised markup in dirty.rb docs
TimeZone#to_s shows offset as GMT instead of UTC, because GMT will be more familiar to end users (see time zone selects used by Windows OS, google.com and yahoo.com.) Reverts [8370]
yaml -> YAML
merge
Create through associations can now work with blocks.
add failing test case for block-setting of attributes via association
Added :select option to has_one and belongs_to, remove unused :order option on belongs_to.
Document Integer#even? and #odd? edge cases: zero and negative numbers.
Consistently use "rake foo:bar" instead of 'rake foo:bar', `rake foo:bar` or rake foo:bar.
environment.rb template 'rake gem:install' should be 'rake gems:install'.
overall cleanup of "#=>" and other minor details
revision of inflector.rb docs
fixed indentation in description lists
fixed indentation in description list
Mention partial updates in environment.rb to make it easier for people to opt-in if they know it's safe
Return Partial Updates to be purely opt in to prevent users from inadvertently corrupting data.
Show rails version when the server starts. [#235 state:resolved]
Add Rails.version. [#236 state:resolved]
Parentheses should be acceptable characters for auto_link_urls. [#234 state:resolved]
regular font for a constant
gsub("ActionMailer", "Action Mailer")
gsub("ActiveResource", "Active Resource")
gsub("ActionPack", "Action Pack")
gsub("ActionController", "Action Controller")
gsub("ActiveSupport", "Active Support")
Revised example conventions in active_record/base
gsub("ActiveRecord", "Active Record")
revised conventions in http_mock.rb docs
ActiveRecord::Base#reload should clear dirty attributes. [#231 state:resolved]
Improve check_box_checked? to use include? for Array values. [#193 state:resolved]
Added documentation for ActiveResource::HttpMock.
revised conventions and minor details in scriptaculous_helper.rb
revised conventions in cookie.rb
revised font of constants in Railties
revised font of constants in Active Record
revised font of constants in Action View
revised font of constants in Action View
revised case of constants in Action Controller
Verbose ActiveRecord::AssociationTypeMismatch exception message. [#189 state:resolved]
externalization now includes limits
Ensure nil to '' doesn't get recorded by dirty for nullable integer columns. [#150 state:resolved] [Jason Dew, Pratik]
limits and offsets need to be externalized too. first draft
revised docs of first/last in AR base and association collection
Add first/last methods to associations/named_scope. [#226 state:resolved]
details left in previous revision of time zone related docs
revised conventions in time zone related docs
Ensure add_column gives valid error for sqlite. [Gunnar Wolf, Pratik] [#197 state:resolved]
removed more boiler-plate
some drying up of boiler plate initialization and equality code
Don't rely on association proxying object_id.  [#225 state:resolved]
- Updated tzinfo to use Rational() instead of Rational.new! due to "private method new!" in Ruby 1.9 - Added ^object_id$ as ignore pattern to fixing "redefining object_id" issue in Ruby 1.9
Bundle tmail 1.2.3
drying up some of the code
some convenience methods
Ruby 1.9 compat: ensure binary encoding for post body parsing
reorganized file structure
renamed ion classes
renamed select operation to where
revised markup in fixtures.rb
gsub("css", "CSS") and assorted improvements
Ruby 1.9 compat: qualify module name within module_evaled block
#method vs +method+ in Active Support
Class#method in regular font
#method vs +method+ in Active Record
#method vs +method+ in Action View
#method vs +method+ in Action Controller
#method vs +method+ in Action Mailer
Workaround missing Test::Unit::TestCase::PASSTHROUGH_EXCEPTIONS in Ruby < 1.8.6.  [#224 state:resolved]
gsub("yaml", "YAML")
gsub("xml", "XML")
gsub("http", "HTTP")
Markup inline code in ActiveRecord::Base docs
Test for assert_response for failure response without an exception. [#141 state:resolved]
Add fragment_exist? and exist? methods to cache stores. [#203 state:resolved]
Ensure observe_field encodes value parameter. [#216 state:resolved]
can't remember what i was working on
performance enhancements
rename refactor of circle
gsub("sql", "SQL")
fixed-width font for nil
added mention to Model.(first|last|all) in AR's find, and assorted tweaks
revised description list convention in AR's find docs, and markup here and there
minor details in associations.rb
Update documentation on :include.
Adding documentation for time zone features
Hash.from_xml: datetime xml types overflow to Ruby DateTime class when out of range of Time. Adding tests for utc offsets
TimeWithZone #+ and #- : ensure overflow to DateTime with Numeric arg
InstanceTag#default_time_from_options overflows to DateTime
Time#to_json: don't convert to utc before encoding. References #175
time_zone_select docs: explain priority zones option. Add example showing a custom set of priority zones.
still faster
performance enhancements
performance enhancing drugs
cleanup
slight performance improvement
simplificatin of attribute division
revised documentation of attr_(protected|accessible)
Deprecate ActionView::Base.cache_template_extensions
small touches to the form_for docs revision
major revision of form_for documentation
Make sure clone_structure can load the results of dump_schema_information
fixed string escaping issue
ignore pkg too
 this is as close as it's been
custom matcher
better messaging
revised docs of form_for
additional test coverage for some random complex case
cleanup
cleaned up nil
some cleanup, notes for further cleanup/investigation
reorganized integration join specs
Ensure routing generator works with non-string keys. [#172 state:resolved]
Added docs about source_type for has_one association
dbconsole should not require a username for postgresql. [#207 state:resolved]
auto_link helper fails to recognize links separated by space. [#72 state:resolved]
Change migration generator USAGE to explain the timestamped migrations behaviour
Add rdoc task to activemodel. [#156 state:resolved]
it looks a bit strange as code, and it's not that extremely important
worser
thinks must get worse before they get better
experimenting with new binding stuff
minor revision in url_for docs
Expanded and updated the link_to documentation link_to is the primary interface much of the Rails URL machinery, including url_for and routes.  The new examples (with explanations) are designed to reflect this importance, and are especially designed to be friendly to less experienced Rails programmers.  The new docs are also updated to use RESTful routes.
Precompute TimeZone.us_zones [#199 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
DRY associations code and improve eager loading tests.
Make sure needed table joins are included :select option. [#110 state:resolved]
fixed defect with select inside of alias joined to the same table (yikes)
Adding an example test case for pluralize for (y) -> (ies)
Don't fallback to just adding "'s" in TextHelper#pluralize, because the Inflector is always loaded.
One last fix to test_filter_parameters_is_protected.
Prefer string core_ext inflector methods over directly accessing Inflector.
Clean up previously commited test.
Improve test coverage for filter_parameters [JosÃ© Valim]
Protect #filter_parameters created by filter_parameter_logging [JosÃ© Valim] [#196 state:resolved]
Create a seperate file for ActiveSupport::OrderedHash.
Added conditional support to caches_action [JosÃ© Valim] [#166 state:resolved]
Improve and cleanup ActionMailer documentation
fixed defect in alias
Add ActiveRecord option to store the full class name on STI's type column, allowing one to have STI subclasses in different namespaces [#114]
Add some test coverage for RailsControllerGenerator.
make CGI::Cookie handle deleting a cookie properly
Use 'public' schema path when connecting to 'postgres' database. [#170 state:resolved]
Include time zone offset in TimeWithZone#to_json
Use 'postgres' database instead of 'template1'
Add documentation for Inflector.inflections
ScaffoldGenerator to create public/stylesheets if missing. [#165 state:resolved]
Remove unnecessary DeprecatedInstanceVariable class
Dirty attributes aren't cleared if save fails. [#174 state:resolved]
some slight performance improvements
some memoizing and hash equality performance optimizations
Don't double-escape cookie store data. Don't split cookie values with newlines into an array. [#130 state:resolved]
Simpler rescue_action condition
Use #duplicable? instead of anonymous rescue
Ruby 1.9 compat: define __setobj__ for Delegator
minor details revised in attribute_methods.rb docs
minor changes in railties/README. Added dbconsole introduction
revised doc conventions in attr_internal.rb
adding documentation for cached_attributes
proper heading for "Example:"
fixed display of example
Remove AR::Base#attributes argument. [#52 state:resolved]
Updated copyright years
Making ready for RC1 release
No more svn version numbers to rely on, use timestamps instead
Depend on latest Rake
Ensure dbconsole respects erb in database.yml. [#157 state:resolved] [Andrew Bennett]
Added not to sanitize helper docs that it doesn't guarantee well-formed markup.
Cleanup whitespace and change_table documentation
When preloading group by reflection rather than by class [#125 state:resolved]
Add test for named_scope#proxy_options. [#97 state:resolved]
Ensure hm:t preloading honours reflection options. [#137 state:resolved]
Remove unused JSON methods. [#164 state:resolved]
Added protection against duplicate migration names (Aslak HellesÃ¸y) [#112 state:resolved]
Bug: Earlier Check for Session in Forgery Protection
Added session(:on) to turn session management back on in a controller subclass if the superclass turned it off (Peter Jones) [#136 state:resolved]
Added session(:on) to turn session management back on in a controller subclass if the superclass turned it off (Peter Jones) [#136 state:resolved]
moved documentation header
documented the source annotation extractor
fix merge conflict with actionpack changelog
Make render shorthands work with namespaced controllers
Escape globbed parameters in routes correctly.
Added additional information about processing email with ActionMailer and the strategy one might want to employ to do so.
ActionView::InstanceTag#default_time_from_options with hash args uses Time.current as default; respects hash settings when time falls in system local spring DST gap
Adding Date.current, which returns Time.zone.today if config.time_zone is set; otherwise returns Date.today. ActionView date_helper uses Date.current to determine locale-appropriate default
Base#instantiate_time_object: eliminate check for Time.zone, since we can assume this is set if time_zone_aware_attributes is set to true
TimeWithZone: date part getter methods (#year #mon #day etc) are defined on class; no longer relying on method_missing
Updating changelogs
Time.zone.parse: return nil for strings with no date information
Time.zone.parse: compatibility with far future date with time zone offset in string. Eliminate creation of additional TimeWithZone instance to determine utc offset.
ActiveRecord time zone aware attributes: blank string is treated as nil when assigned to writer
corrected and completed docs of increment/decrement/toggle in AR::Base
removed spurious word
documented potential gotchas in increment and increment!
Calling ActiveRecord#inspect on an unloaded association won't wipe the collection [#9 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Documented class methods on ActionController::Routing.  These are dangerous, and mostly used for testing.
punctuation fix in fixtures.rb
+ vs <tt> in ActiveResource::Base docs
+ vs <tt> in fixtures.rb docs
+ vs <tt> fixes in abstract adapter docs
several fixes and conventions revision in AR associations docs
Some dbconsole tweaks. [#102 state:resolved]
Add script/dbconsole to app generator
Add 'script/dbconsole' -- the database analog of 'script/console'
Added explanation about errant inflections not being patched in the future in order to avoid breaking legacy applications.
fixed markup in AV::Base docs
revised markup in AR session storage docs
markup fix, and conventions revision in routing docs
fix and conventions revision in page caching docs
revised docs of hash with indiferent access
applies patch in http://rails.lighthouseapp.com/projects/8994/tickets/132-document-clear_query_cache
applied patch in http://rails.lighthouseapp.com/projects/8994/tickets/129-patch-doc-whitespace-fix
applied patch in http://rails.lighthouseapp.com/projects/8994/tickets/133-patch-prototype-helper-doc-patch
fixed markup
fixed markup
Applied list conventions in AR::Base
Renamed Options list to Attributes list whenever they weren't option hashes in AR::Base
revised details in Exceptions section of AR::Base docs
Add a filter_parameter_logging usage hint to generated ApplicationController. This may help to remind the developer to filter sensitive information from application logs. Closes #11578
revised a few details in session docs
renamed attribute_for_attribute to find_attribute_matching_attribute
removing operator overloading
doc: disambiguating an example ActiveRecord class
doc: ActiveRecord::Reflection::AssociationReflection#through_reflection
Document AttributeAssignmentError and MultiparameterAssignmentErrors.
Killing/fixing a bunch of outdated language in the AR README.
Make a note about ActiveResource::Timeouterror being raised when ARes calls timeout.
create_table :force => true no longer tries to drop a non-existing table
Added AbstractAdapter#table_exists? and made AbstractAdapter#table implementation non-optional
fixed a misplaced closing tag
revised a few of filenames
revised a couple of filenames
revised conventions in rails/plugin.rb
revised conventions in ActiveResource::Base
improvements to the page caching docs
Delegate action_name to controller inside views.
Add class to deprecate instance variables
change ActionController::RequestForgeryProtection to use Mime::Type#verify_request? [#73]
Refactored and fixed Resources.map_member_actions to make use of custom ActionController::Base.resources_path_names when the option :path_names is not directly specified. Added a specific test for this functionality and fixed assert_restful_routes_for test helper to make use of ActionController::Base.resources_path_names instead of just "new" or "edit".
Added logic to associations.rb to make sure select_for_limited_ids
Ensure correct record is returned when preloading has_one where more than one row exists
include bugfix to [e792d4ab70448f79142fdf492390682ff5ea6398] for rubygems 1.0.1.  Gem::DependencyList#dependency_order was bombing with nil specs passed in from a frozen gem.  [#122]
Change the request forgery protection to go by Content-Type instead of request.format so that you can't bypass it by POSTing to "#{request.uri}.xml" [#73 state:resolved]
regression test for bug introduced in [6a6b4392c16c665eb713705f2b38e959a658eeef] [Ian White] [#22 state:resolved]
Allow ActionController::Base#default_url_options to have a default options argument of nil.
Restore dump_schema_information connection adapter method
performance optimization
Added code to make initialization process call rails/init.rb for unpacked gems
revised conventions in AR's validations.rb
revised conventions in associations.rb
revised list conventions in AM's numericality.rb
revised list conventions in AM's validates_associated
revised conventions in url_for docs
revised conventions in resources.rb
revised convention for lists in request_forgery_protection.rb
revised convention for lists in action_mailer/base.rb
string passthrough for "group by"
better column disambiguation
validates_numericality_of() "integer" option really is "only_integer"
Added Ruby 1.8 implementation of Process.daemon
Added OrderedHash#delete [#113 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Harmonized hash notation in AR::Base
Turned options into rdoc-lists in AR::Base
Added information of how to set element_name in the case the user has a name confliction with an existing model
Preload TimeZone zones for thread safety.
Replaced unnecessary class variable with a constant in whiny nil.
last of the cleanup -- FOR THE MOMENT
missing file
cleanup
reorganization
introducing structural recursion
cleanup
cleanup
cleanup
cleanup
additional testing
minor cleanup
Table names seem to be disambiguated.   - Code is a mess, about to undergo some refactoring
revised convention for lists of option in sqlite_adapter.rb
mysql adapter port is an integer
revised some conventions in postgresql_adapter.rb
revised some conventions in mysql_adapter.rb
revised some conventions in url_helper.rb
revised some conventions in form_tag_helper.rb
revised some conventions in polymorphic_routes.rb
revised conventions for lists of options in action_controller/base.rb
revised conventions for lists of options in selector_assertions.rb
PostgreSQL: update rake tasks to use full settings from database.yml
Ensure that default_url_options, if defined, are used in named routes.
Allow custom loggers to work with script/server.
PostgreSQL: Connect to template1 database when creating or dropping db
Added change_table for migrations (Jeff Dean) [#71 state:resolved]
Improve documentation coverage and markup Signed-off-by: Pratik Naik <pratiknaik@gmail.com>
Improve PartialTemplate tests
Capture view errors in ActionView::Template.
finally fixed table aliasing issues   - the solution is currently ugly, but i have an idea how to clean it up
naming of aliased relations seemed to be solved; now aggregate relations are still broken
Made the location of the routes file configurable with config.routes_configuration_file (Scott Fleckenstein) [#88 state:resolved]
Accept header mime parser can now deal with empty fields
Ruby 1.9 compat: don't shadow local with block var
Ruby 1.9 compat: compatibility wrapper for new Module#const_defined? behavior
Added missing files
best solution?
my failing test. this is really really hard
the big obstacle
Cheaper Dependencies#log_call to resolve irritating error message w/ rake db:create (Sven) [#56 state:resolved]
Added block-setting of attributes for Base.create like Base.new already has (Adam Meehan) [#39 state:resolved]
FormHelper#label_tag accepts :for option [encoded] [#38 state:resolved]
Forgot these
Added test for has_one partial rendering (keeran) [#43 state:resolved]
Ensure postgresql tests work when starting from scratch.
Change tests against all scope to base scope as all is now used as a finder alias
Default integer need not specify a limit [#20371 state:resolved] (matthuhiggins)
Add missing clear method to memory_store
Allow access to mem_cache_store's stats hash
Implement increment/decrement on cache storage engines, using read/write by default and using atomic command on memcache
By default rails will update keys in memcached when using Rails.cache.write. Use :unless_exist => true flag to prevent existing keys from being overwritten.
Clarify confusing ActionController::Base.allow_concurrency flag.
Note that allow_concurrency = true means you need to verify_active_connections! to clear out connections assigned to stale threads.
improved messaging in test
automatically aliasing tables
run prepare callbacks after after_initialize blocks so config.to_prepare actually works
Let Base.all use conditions etc like first/last
Ruby 1.9 compat: force assert_select text encoding to the encoding of the regexp it's matching against.
Revert alias_method_chain exceptions as they broke aliasing class methods.
Make alias_method_chain complain about duplicate aliases.  Previously repeated calls to alias_method_chain would cause infinite loops.
attribute disambiguation
results of a select query are a hash indexed by attribute rather than string
Added ActionController::TestCase#rescue_action_in_public! to control whether the action under test should use the regular rescue_action path instead of simply raising the exception inline (great for error testing) [DHH]
Changing "and" to && whereever I catch it
Be friendlier when upgrading apps with an old boot.rb.
Remove old :limit removal code from find_initial, logic is now handled in the preloading and eager loading code.
Add default options to file_store to make it align with the other cache stores.   [monki]
Ensure table names are quoted by the association preloading code.
Added that the MySQL adapter should map integer to either smallint, int, or bigint depending on the :limit just like PostgreSQL [DHH]
Pass template object to Handler#compile
Use .gitignore as the convention for dummy file names.
preventing generated documentation from being picked up by git. [#37 state:resolved]
Make sure member names aren't mistakenly set to nil when providing :path_names
Provide data for the key column otherwise adding a unique index will fail. [#30 state:closed]
Rails Edge info returns the latest git commit hash [#36 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Use schema.rb for all databases
Fallback to Ruby's pseudo random number generator if the system does not have SHA512 installed.
Don't require generator_test_helper in RailsGeneratorTest.
Add .empty files to empty directories so git preserves them.
Rescue from Timeout::Error in ActiveResource::Connection.
Introduce ActiveResource::Base.timeout. This allows a timeout to be set on the internal Net::HTTP instance ARes uses (default is 60 seconds). Setting a low timeout allows ARes clients to fail-fast in the event of a unresponsive/crashed server, rather than cause cascading failures in your application.
* Remove default_url_options from mailer generator * Improve mailer documentation regarding generating URLs * Add no_match to mailer generator to warn contributors about default_url_options Signed-off-by: Joshua Peek <josh@joshpeek.com>
Add back empty plugin folders that were lost when we moved to git.
Revert "Update plugin loading tests to reflect changes in plugin fixtures."
Update plugin loading tests to reflect changes in plugin fixtures.
Gem dependencies don't require a version. Also fixed up failing gem dependency tests.
Mock RailsFCGIHandler and Dispatcher to stop mocha deprecation warnings.
Alias Object#instance_variable_names to Object#instance_variables for Ruby 1.8.x
Delegate ivars to controller instead of copying
select_datetime and select_time default to Time.zone.now when config.time_zone is set
datetime_select defaults to Time.zone.now when config.time_zone is set
Use the rails user when creating and dropping the database rather than falling back to the currently logged in user who may or may not have CREATE / DROP privileges and no password.
Duration #since and #ago with no argument (e.g., 5.days.ago) return TimeWithZone when config.time_zone is set. Introducing Time.current, which returns Time.zone.now if config.time_zone is set, otherwise just returns Time.now
Ruby 1.8.7 compat: detect and alias non-superclass DateTime#to_s
Ruby 1.8.7 compat: override unordered Enumerable#group_by
Ruby 1.8.7 compat: String#start_with? and #end_with?
Remove ActionController::Base#view_controller_internals
Remove ActionController::Base#add_class_variables_to_assigns
Use append_features instead of included to get the inclusion order right
Avoid adding two DISTINCT statements to queries in sqlite 2.
Use define_callbacks helper for ActiveRecord validations.
Incompatible Symbol#to_proc was reverted upstream
- new todo items - alias to_sql to to_s - added column_for to join (untested)
Override incompatible 1.8.7p1 String#chars
Feature check :force_encoding instead of RUBY_VERSION
Add conditional options to caches_page method [#25 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Remove unused ignore_missing_templates option
Introduce ActionView::TestCase for testing view helpers.
Move missing template logic to ActionView
Introduce ActionView::InlineTemplate class
todos
Add example for default_url_options[:host] to generated mailers. Signed-off-by: Joshua Peek <josh@joshpeek.com>
in fact, when doing subsequent orderings, we assume that the previous orderings have taken effect and therefore where the new ordering finds things equal, the previous ordering should take effect
Changed mailer generator to not use instance variables. Signed-off-by: Joshua Peek <josh@joshpeek.com>
Cleanup generator tests by extracting repeated code into generator_test_helper. Add test for mailer generator. Signed-off-by: Joshua Peek <josh@joshpeek.com>
when ordering, the last order wins
Override Ruby 1.8.7's incompatible Symbol#to_proc.
officially renamed active_relation to arel
Slight optimization to CallbackChain#union and delete.
Refactor Dispatcher callbacks to remove unnecessary Dependencies checks in production environment.
Tidy up ActiveSupport::Callbacks::CallbackChain instance API.
Support options passed to ActiveSupport::Cache :mem_cache_store [#14 state:resolved] Signed-off-by: Joshua Peek <josh@joshpeek.com>
Ignore debug logs and ensure ActiveResource's log is cleaned up.
Stub out Dispatcher#log_failsafe_exception method to please the test gods.
test is meaningless but serves as documentation
- fixed hash ordering - organized doubles (previously called 'fakes')
Fake database implementation. MySQL not required to run the tests
adding limit options to update and destroy
fixed problem with updating multiple values
implementing one pending feature
new conception of grouping and aggregation functionality
adjacency lists work   - implementation is a bit complex, but i can't think of anything simpler
Added Rails.public_path to control where HTML and assets are expected to be loaded from (defaults to Rails.root + "/public") #11581 [nicksieger]
Some pending specs for Insertion, Deletion and Update relating to LIMITs, multiple values and multiple rows
Un-pending a Table spec that passes now
Remove duplicate Insertion spec
better test coverage of relational operations with blank data
Time#since behaves correctly when passed a Duration. Closes #11527 [kemiller]
tests of Value
added pending test for (difficult) problem of aliasing tables for adjacency lists
typo
considering deprecating rename operation   - this may still be necessary when you join the same table to itself ... but not sure
- removed #qualify and #descend helper   - qualify seems no longer neccessary since everything is fully qualified - finished pending specs
Scripts and styles with multiple dots in the filename should cache
- string passthrough for joins - blank checks
Add #getutc alias for DateTime#utc
Use a git-ignored database.yml file for test DB configuration
Refactor TimeWithZone: don't send #since, #ago, #+, #-, #advance through method_missing
TimeWithZone respects config.active_support.use_standard_json_time_format
rake time:zones:local finds correct base utc offset for zones in the Southern Hemisphere
fixed bug with take/skip
redesigned the way limit and offset work   - was range now have special 'take' and 'skip' operations. (the terminology comes from linq)
Allow alternative values for the 'new' and 'edit' actions in resourceful routes.
Allow freezing to specific releases with rake rails:freeze:edge RELEASE=1.2.0  per-release zip files are generated automatically by git-archive on dev.rubyonrails.org.
stub the instance method, there is no class method
Ruby 1.9 compat: workaround module_eval issue
string passthrough for joins
Now that we have gems:unpack and gems:build allowing for integration of 100% of your gems into vendor/ it would be nice to have the ability to automatically unpack the full dependency tree of your specified gems.
string passthrough for joins
removed spurious calls to bind
removed binding for attributes and predicates
removed bind for insertion and updation
refactored bind for order
moved bind to factory of select
rake rails:freeze:edge using http://dev.rubyonrails.org/archives/rails_edge.zip instead of Subversion
Revert "Ensure that save on child object fails for invalid belongs_to association. Closes #11555. [rubyruy]"
Testing commits
Change validates_uniqueness_of :case_sensitive option default back to true (from [9160]).  Love your database columns, don't LOWER them.  [rick]
Ensure that save on child object fails for invalid belongs_to association. Closes #11555. [rubyruy]
Require rubygems if needed when initializing GemDependency instances
Add support for interleaving migrations by storing which migrations have run in the new schema_migrations table. Closes #11493 [jordi]
ActiveRecord::Base#sum defaults to 0 if no rows are returned.  Closes #11550 [kamal]
Automatically parse posted JSON content for Mime::JSON requests.  [rick]
add json_escape ERB util to escape html entities in json strings that are output in HTML pages. [rick]
Don't require rails/gem_builder during rails initialization, it's only needed for the gems:build task. [rick]
set ActiveSupport.escape_html_entities_in_json = false for new rails apps
Add config.active_support.escape_html_entities_in_json to allow disabling of html entity escaping.  [rick]
Improve ActiveRecord::Base#table_name unit tests for nested classes. Closes #10289. [scott_willson]
script/performance/profiler compatibility with the ruby-prof >= 0.5.0. Closes #9176. [Catfish]
Ensure that respond_to? considers dynamic finder methods. Closes #11538. [floehopper]
Provide a helper proxy to access helper methods from outside views. Closes #10839 [Josh Peek]
Split associations_test.rb into multiple files based on association type. [Pratik]
Ensure that save on parent object fails for invalid has_one association. Closes #10518. [Pratik]
Remove duplicate code from associations. [Pratik]
Refactor HasManyThroughAssociation to inherit from HasManyAssociation. Association callbacks and <association>_ids= now work with hm:t. Closes #11516 [rubyruy]
Ensure HABTM#create and HABTM#build do not load entire association. [Pratik]
Avoid modifying the sendmail_settings hash when using the return path. Closes #7572 [billkirtley]
Improve documentation.
Replaced callback method evaluation in AssociationCollection class to use ActiveSupport::Callbacks. Modified ActiveSupport::Callbacks::Callback#call to accept multiple arguments.
Make HABTM#create behave the same as << with after_add callbacks.  Closes #11374 [freels]
Don't double include DISTINCT when the user has already specified it.  Closes #11502 [kenneth.kalmer]
Tiny change to allow AR based creation of TIME columns in sqlite. Closes #11465 [h-lame]
Time #yesterday and #tomorrow behave correctly crossing DST boundary. Closes #7399 [sblackstone]
Update fcgi dispatcher test cases. Closes #11471 [guillaume]
Bah, don't test TMail in AM
Ruby 1.9 compat: compare with same encoding
Ruby 1.9 compat: ascii encoding for quoted-printable regexps
missed an added file
Flesh out rake gems:unpack to unpack all gems, and add rake gems:build for native extensions.  Closes #11513 [ddollar]
TimeWithZone: Adding tests for dst and leap day edge cases when advancing time
Ensure RJS redirect_to doesn't html-escapes string argument. Closes #8546
Revert [9209] Use Hash#except
Adding Hash#without Closes #7369 [eventualbuddha]
TimeWithZone#method_missing: send to utc to advance with dst correctness, otherwise send to time. Adding tests for time calculations methods
spell check
Add config.active_support for future configuration options.  Also, add more new Rails 3 config settings to new_rails_defaults.rb [rick]
Add config.active_support.use_standard_json_time_format setting so that Times and Dates export to ISO 8601 dates.  [rick]
Tweak ActiveRecord::Base#to_json to include a root value in the returned hash: {post: {title: ...}} [rick]
Use class << self
Add efficient #include? to AssociationCollection (for has_many/has_many :through/habtm).  [stopdropandrew]
gems should be specified before plugins
Added examples for config.gem
Improving railties test coverage. Closes #11496 [miloops]
Partial updates off by default
Ruby 1.9 compat: toplevel AS reference within BasicObject
Ruby 1.9 compat: encoding and multibyte test fixes
Ruby 1.9 compat: force encoding for binary comparison tests
Ruby 1.9 compat: work around YAML serialization error exposed by validations tests
Ruby 1.9 compat: delete DEFAULTS key from Hash not Omap array
Ruby 1.9 compat: proc arity
style & whitespace
Ruby 1.9 compat: don't confuse with headers method call
Ruby 1.9: no args is 0 arity, not -1 as in 1.8
Ruby 1.9 compat: anonymous class name is nil not '' now
Ruby 1.9 compat: anonymous class name is nil not '' now
force_encoding to ascii-8bit instead of nil
PostgreSQL: use create_ and drop_database for rake tasks. Closes #9045 [ez, nicksieger]
PostgreSQL: create_ and drop_database support. Closes #9042.
Add Rails.logger, Rails.root, Rails.env and Rails.cache shortcuts for RAILS_* constants
Remove unnecessary arguments. References #11491.
Missed adds. References #11491.
Support render :partial => collection of heterogeneous elements. Closes #11491.
Update generator tests. Closes #11487 [thechrisoshow]
Move it around a bit
Splitting them up first
Deprecate some more legacy
Something more to work with
Ensure that validates_uniqueness_of works with with_scope. Closes #9235. [nik.wakelin, cavalle]
Allow files in plugins to be reloaded like the rest of the application.  [rick]
Bump bundled tmail to r242
Ruby 1.9 compat: mark utf-8 encoding.
Ruby 1.9 compat: use Array() instead of #to_a.
rename config/initializers/new_in_rails_3.rb to new_rails_defaults.rb
Force timestamp update
Fine, warn. Just don't recurse to death in cc.rb
Partial updates play nice with updated_at/on timestamps
Add :message option to validates_numericality_of. Closes #11456 [miloops, mdempfle]
Partial updates include only unsaved attributes. Off by default; set YourClass.partial_updates = true to enable.
Add query methods for superclass_delegating_reader
Always alias DateTime#to_s to #to_default_s
require fileutils
TZInfo: Removing unneeded TimezoneProxy class
TZInfo: Removing unneeded TimezoneIndexDefinition, since we're not including Indexes::Timezones
Handle exit, reload, and restart immediately if not processing a request. References #11471 [guillaume, Jeremy Kemper]
Removing unnecessary uses_tzinfo helper from tests, given that TZInfo is now bundled
Bundling abbreviated version of TZInfo gem 0.3.8: only the classes and zone definitions required to support Rails time zone features are included. If a recent version of the full TZInfo gem is installed, this will take precedence over the bundled version
whoops, typo in the CHANGELOG
Ruby 1.9: mark failing assertion
Ruby 1.9 compat. Trailing whitespace.
Don't shadow attrs var
Don't need to explicitly pass the same params to super. Remove trailing whitespace.
Ruby 1.9 compat: Suppress Benchmark.realtime method redefined warning.
Small tweak to allow plugins to specify gem dependencies.  [rick]
Added config.gem for specifying which gems are required by the application, as well as rake tasks for installing and freezing gems. [rick]
Dirty typecasts attribute values before comparison, if possible. Closes #11464 [Russell Norris, mroch]
Force json string encoding to ASCII-8BIT before unpacking for Ruby 1.9.
Play nice with 1.9's DateTime#to_s
Ensure threads finish running for time zone thread safety test.
Removed the default .htaccess configuration as there are so many good deployment options now (kept it as an example in README) [DHH]
Generated tests rely on test dir in load path rather than File.dirname shenanigans. ruby -Itest test/unit/foo_test.rb to run a test by hand (that's a capital I as in Island).
Update welcome screen with revised instructions and removal of dead links
Space at the bottom feels better
Removed outdated scaffold from template
Revert spurious commit from [9126]
Track changes to unsaved attributes
Avoid remote_ip spoofing
Inspect options hashes in RenderError message so it's actually readable. Closes #11435 [court3nay]
Switched to UTC-timebased version numbers for migrations and the schema. This will as good as eliminate the problem of multiple migrations getting the same version assigned in different branches. Also added rake db:migrate:up/down to apply individual migrations that may need to be run when you merge branches (closes #11458) [jbarnette]
Add #clone. Closes #7352 [Ryan Daigle, thechrisoshow]
Missing :js template falls back to :html, so you don't have to explicitly specify template format everywhere, breaking old code
Add missing file
Update doc (closes #11402)
Added support for regexp flags like ignoring case in the :requirements part of routes declarations (closes #11421) [NeilW]
Make sure ActiveRecord tests can run individually. Closes #11425 [thechrisoshow, h-lame]
config.time_zone and TimeWithZone#marshal_load accept tzinfo/Olson identifiers
Time.zone= accepts TZInfo::Timezone instances and Olson identifiers; wraps result in TimeZone instance
TimeWithZone time conversions don't need to be wrapped in TimeOrDateTime, because TZInfo does this internally
TimeWithZone#usec returns 0 instead of error when DateTime is wrapped
Rails::Initializer#initialize_time_zone raises an error if value assigned to config.time_zone is not recognized. Rake time zone tasks only require ActiveSupport instead of entire environment
Stop adding the antiquated test/mocks/* directories and only add them to the path if theyre still there for legacy reasons [DHH]
Added that gems can now be plugins if they include rails/init.rb (closes #11444) [jbarnette]
Missing test data
Added Plugin#about method to programmatically access the about.yml in a plugin (closes #10979) [lazyatom]
New applications should use UTC as the default time zone
More efficient association preloading code that compacts a through_records array in a central location.  Closes #11427 [danger]
Improve documentation.
Typo fix in documentation from [9090] References #11422
Standardise the implementation of the extensions to BigDecimal.  Closes #10608 [mikong]
Whitespace + formatting
Added :confirm option to submit_tag (closes #11415) [miloops]
Added ActiveRecord#Base.all/first/last as aliases for find(:all/:first/:last) (closes #11413) [nkallen, thechrisoshow]
Allow the #simple_format text_helper to take an html_options hash for each paragraph. Closes #2448 [Francois Beausoleil, thechrisoshow]
Ensure that TimeWithZone#to_yaml works when passed a YAML::Emitter.  [rick]
Ensure correct TimeWithZone#to_date
Correct grammar in config.time_zone description in environment.rb
Use the more modern error_messages from the form object rather than error_messages_for
Added config.time_zone = 'UTC' as a commented-out option in the default environment.rb
Adding rake tasks time:zones:all, time:zones:us and time:zones:local for finding time zone names for config.time_zone option
Make TimeWithZone work with tzinfo 0.2.x: use TZInfo::Timezone#zone_identifier alias for #abbreviation, silence warnings on tests. Raise LoadError when TZInfo version is < 0.2 by sniffing for TZInfo::TimeOrDateTime constant. Move all tzinfo-dependent TimeZone tests into uses_tzinfo block
Allow association scoping for built/created records if :conditions is specified as a hash.  Closes #11393 [miloops]
Add has_one :through support, finally. Closes #4756 [thechrisoshow]
Missed adds. References #10350.
Re-added ActionView::Helpers::register_javascript/stylesheet_expansion to make it easier for plugin developers to inject multiple assets. Closes #10350.
Docfixes (closes #11356, #11172, #10523)
Revert [9106]. References #10350.
assert_response, don't cry if @exception isn't available in the template
Migrations: create_table supports primary_key_prefix_type. Closes #10314.
Refactor filters to use Active Support callbacks. Closes #11235.
sshpublisher needs to be explicitly required now, apparently
Added :format option to NumberHelper#number_to_currency to enable better localization support #11149 [lylo]
Only log if theres a logger
Added logging for dependency load errors with fixtures (closes #11056) [stuthulhu]
Added support for installing plugins hosted at git repositories (closes #11294) [danger]
Time, DateTime and TimeWithZone #in_time_zone defaults to Time.zone. Removing now unneeded #in_current_time_zone. ActiveRecord time zone aware attributes updated to use #in_time_zone
TZInfo caches Timezone instances in its own internal hash cache, so TimeZone::MAPPING doesn't need to cache them as well
Adding TimeZone#parse
Ensure that you can still do expressions in calculations (closes #11355) [nbugajski/cavelle]
added attribute.eq(nil)   - produces attribute IS NULL
Adding TimeZone#at and DateTime#to_f
TimeWithZone responds to Ruby 1.9 weekday-named query methods
TimeWithZone caches TZInfo::TimezonePeriod used for time conversion so that it can be reused, and enforces DST rules correctly when instance is created from a local time
test organization
projections now support string passthrough   - there is a weird inconsistency in where bind is called on values; this needs to be resolved
nested orderings
allowing string passthrough for order clauses
added support for `attribute IN ...` and `attribute BETWEEN ...`   - IN and BETWEEN are chosen depending on the type of the second operand   - ranges (1..2), arrays ([1,2,3]), and relations ("SELECT * ...") are all supported
renamed operators   - equals / eq   - greater_than / gt   - etc.
formatting insert and update statements   - values need to be coerced to the type corresponding to the column
renamed strategy to formatter
properly quoting array values
js/nk - fixed hashing
merge changes from nick
Docfix (closes #11230) [Henrik N]
Docfix (closes #11226) [mikong]
Docfix (closes #11249) [juanjo.bazan]
Docfix (closes #11263) [Irfy]
Docfix (closes #11281) [jlindley]
Removed dead styles (closes #11353) [boone]
Handle template error gracefully when line number cannot be derived. Closes #11327 [Nex3]
annotated abstract methods on relation
annotated abstraction   - in compound   - created superclass for the create/insert/update write operations, marked :call as abstract
added abstract declaration
renamed sql formatting strategies to correspond with sql grammar rule names in the mysql bnf
Remove unused to_date_tag. Closes #11237 [danger]
Docfix (closes #11309) [thechrisoshow]
Move tests from action_view_test.rb to template_finder_test.rb so that they get run by default take task. [Pratik]
- renamed scalar to value - added better test coverage and documentation of binary spec #to_sql
test coverage of #prefix_for on join.   - it delegates to the relation containing the attribute   - if the relation containing the attribute is an alias, it returns the alias
Ensure that ActiveRecord::Calculations disambiguates field names with the table name. Closes #11027 [cavalle]
Added ActionView::Helpers::register_javascript/stylesheet_expansion to make it easier for plugin developers to inject multiple assets (closes #10350) [lotswholetime]
Applied the faster squish version (closes #11123) [jordi]
Added add/remove_timestamps to the schema statements for adding the created_at/updated_at columns on existing tables (closes #11129) [jramirez]
Added ActiveRecord::Base.find(:last) (closes #11338) [miloops]
more inadequate tests
pending tests. better coverage though i dislike the strategy
renamed strategy method to format   - strategy (the method on scalar and attribute) is a complex double-dispatching     scheme to format (to_sql) a scalar in the light of the particular attribute;     that is, it casts strings to integers if the column is int, etc.
refactored session's interaction with engine/connection   - follows law of demeter   - Table.engine uses AR::Base adapter
implemented hashing macro; implemented custom matcher testing this macro
Add warning in documentation for increment!, decrement! and toggle! methods. Closes #11098 [DefV]
Removing unneeded #change_time_zone method from Time, DateTime and TimeWithZone
TimeZone #local and #now correctly enforce DST rules
TimeWithZone instances correctly enforce DST rules. Adding TimeZone#period_for_utc
test_native_types expects DateTime.local_offset instead of DateTime.now.offset; fixes test breakage due to dst transition
test_time_with_datetime_fallback expects DateTime.local_offset instead of DateTime.now.offset
change README to README.markdown
Allow using named routes in ActionController::TestCase before any request has been made. Closes #11273 [alloy]
Update URL in script/generate usage. Closes #11220 [neshmi]
Add :readonly option to HasManyThrough associations. Closes #11156 [miloops]
Make MimeResponds::Responder#any work without explicit types. Closes #11140 [jaw6]
Better error message for type conflicts when parsing params.  Closes #7962 [spicycode, matt]
basic functionality for simplest active record find(id)  - messy code, to be cleaned up this weekend
Remove unused ActionController::Base.template_class. Closes #10787
Docs for ActiveSupport::Callbacks. Closes #11254 [ernesto.jimenez]
Documentation for the drop_receiving_element helpers :onDrop callback. Closes #11158 [thechrisoshow]
Documenation for has_one/has_many nested resource options. Closes #11195 [miloops]
Moved template handlers related code from ActionView::Base to ActionView::Template
Tests for div_for and content_tag_for helpers. Closes #11223 [thechrisoshow]
Make the schema dumper respect the schema settings in database.yml.  References #8659 [sveiss]
Allow file uploads in Integration Tests.  Closes #11091 [RubyRedRick]
Improve performance on :include/:conditions/:limit queries by selectively joining in the pre-query.  Closes #9560 [dasil003]
scalars are now lifted; the heavy lifting is done by the operations on relation (select, join, etc.)
Refactor partial rendering into a PartialTemplate class. [Pratik]
Adding TimeWithZone #marshal_dump and #marshal_load
Add OrderedHash#to_hash.  Closes #11266 [josh]
introduced engine dependency for sql strategies   - hacked in default engine for scalars -- BAD
new concept of session boundaries
Make the mysql schema dumper roundtrip the limits of text/blob columns.  Closes #7424 [will.bryant]
Allow html_options to be passed to all the date helpers.  Closes #6000 [h-lame, Jakob S]
Use realtime to reduce garbage. [adymo]
Improve performance by avoiding named block arguments.   Closes #11109 [adymo]
Added that requests with JavaScript as the priority mime type in the accept header and no format extension in the parameters will be treated as though their format was :js when it comes to determining which template to render. This makes it possible for JS requests to automatically render action.js.rjs files without an explicit respond_to block  [DHH]
Provide a post title for sqlite3
mark encoding
Changelog attribution for #9312
Adding Time#end_of_day, _quarter, _week, and _year. Closes #9312.
Remove dead code from hmt#delete. Closes #11236 [rubyruy]
quoting issues
renamed attribute to operand per josh's suggestion
Introduced concept of session. It does not yet support multiple databases, nor transactions, but it's a start!
updating functionality
updating functionality
added primitive update functionality
organizing tests into unit/integration
PostgreSQL: support server versions 7.4 through 8.0 and the ruby-pg driver. Closes #11127
Patch to add a -e (export) option to script/plugin install. Closes #10847 [jon@blankpad.net]
Add #clear to mem_cache_store, flushes all caches
Sort the results to remove platform dependent test failures
Move the eager load nested include tables into schema.rb and use delete_all instead of drop table to reset the state.
Revert to previous mysql-specific assertion, and only run the test on mysql.
remove implicit assumption about mysql in the assertion
Make date_helper use tag and content_tag.  Move to assert_dom_equal instead of assert_equal to avoid being dependent on hash ordering.  Closes #11131 [ernesto.jimenez]
Sort test cases to make test runs deterministic
Remove disconnect! in test case, it causes segfaults on sqlite3 and completely destroys postgresql
Cleanup whitespace and remove keys instead of providing nil
Remove reference to 'postgres' user in the connection and Rakefiles.  Allows postgres permissions to fallback to host / ident based auth.
URI.decode site username/password. Closes #11169 [Ernesto Jimenez]
use  stubbing instead  of  monkeypatching to  stop  tests  from interfering  with  one another.  Closes  #11163 [RubyRedRick]
Correct typo in before_type_cast code.   Closes #11165 [amishyn]
Remove mysql option from a test that applies to all databases. References #11154.
extracted conditionals concerning the "externalizing" of relations under a join.
Don't assume all records from nested include are of same class. Closes #11154 [acechase]
made descend public; added test coverage for it; tests for qualify are now in terms of descend
rename __collect__ to descend since the double underscores were ugly.
Ensure nested preloading works when associations return nil.  Closes #11145 [GMFlash]
Check the host string contains %d before using String#%,  this avoids warnings.  Closes #10809 [chuyeow]
Add :trailing_slash option to UrlWriter.  Closes #9117 [juanjo.bazan]
Add user and password configuration options to ActiveResource::Base,  not all credentials can be specified inline.  Closes #11112 [ernesto.jimenez]
Make dynamic finders respect the :include on HasManyThrough associations.  Closes #10998. [cpytel]
Pass array of addresses
Update generated comments to reflect the fact that config.frameworks works fine with gems now.  Closes #11135 [fxn]
adding support for scalar selects
introduced __collect__, an internal enumerating operator. This is a map down the tree representing the relation. Monadic map to be precise
cleanup
organized congruence stuff in attribute
more test coverage
Adding TimeWithZone#between?
white box testing
attribute is now a concrete ancestor of expression. seems logical.
Time.=== returns true for TimeWithZone instances
TimeWithZone #+ and #- behave consistently with numeric arguments regardless of whether wrapped time is a Time or DateTime; consistenty answers false to #acts_like?(:date)
Tests for distance_of_time_in_words with TimeWithZone instances. Closes #10914 [ernesto.jimenez]
ActiveRecord::Base#instantiate_time_object only uses Time.zone when Base.time_zone_aware_attributes is true; leverages Time#time_with_datetime_fallback for readability
Refactor ActiveRecord::ConnectionAdapters::Column.new_time: leverage DateTime failover behavior of Time#time_with_datetime_fallback
Ensure that :confirm doesn't need extra quotes when using drop_receiving_element.  Closes #8299 [thechrisoshow]
Add String#squish and String#squish! to remove consecutive chunks of whitespace. Closes #11123 [jordi, Henrik N]
Serialize BigDecimals as Floats when using to_yaml. Closes #8746 [ernesto.jimenez]
Clear active connections before trying to drop the database.  Allows db:drop to work with posgresql. Closes #10559 [jqr]
Add test for Observer#observer_class and change the implementation slightly.  Closes #11099 [ernesto.jimenez]
Revert [8865], broke AP record identifier. Reopens #11109.
Avoid repeated calls to Base#connection.  Closes #11111 [adymo]
Optimisation for BigDecimal conversion code.  Closes #11110 [adymo]
Minor formatting changes
Improve associations performance by using symbol callbacks instead of string callbacks. Closes #11108 [adymo]
Improve associations performance by avoiding named block arguments. Closes #11109
Introduce the :readonly option to all associations. Records from the association cannot be saved. Closes #11084.
Remove options from the attributes method, tidy up the implementation.  Closes #11093 [juanjo.bazan, Koz]
Make sure render :update support the options hash.  Closes #11088 [ernesto.jimenez]
remove support for ampersand-delimited cookie values
removing unneccessary tests now that attribute lookup is so simple
rename substitute to bind since it 'binds' an object to a new relation.
aesthetic considerations
removing code complexity concerning attribute lookup.
Avoid cloning in Base#attributes_before_typecast.  Closes #11077 [juanjo.bazan]
Multiparameter attributes for time columns fail over to DateTime when out of range of Time
Adding TimeWithZone #to_yaml, #to_datetime, #eql? and method aliases for duck-typing compatibility with Time
TimeWithZone #in_time_zone returns +self+ if zone argument is the same as #time_zone
Adding TimeWithZone #to_a, #to_f, #to_i, #httpdate, #rfc2822
Pruning unneeded TimeWithZone#change_time_zone_to_current
Time#zone=, #in_time_zone and #change_time_zone accept a Duration
Time#in_time_zone handles Time.local instances correctly
Pruning unneeded Time#change_time_zone_to_current. Enhanced docs for #change_time_zone
TimeZone#new renamed #local, so that new TimeWithZone instances can be created via Time.zone.local()
Show RecordInvalid in the documentation. References #10976 [kampers]
Use HEAD instead of GET inside exists? Closes #11062 [bscofield]
Move SecretKeyGenerator comments to the correct place for rdoc. Closes #10940 [FooBarWidget]
Remove misleading / incorrect warning from validation documentation.  Closes  #8241 [quixoten, pedz, tom]
Avoid cloning in Base#attributes.  Closes #11047 [juanjo.bazan]
Ooops. Add fixture partials for last commit
Remove empty .rhtml templates
Added support for naming concrete classes in sweeper declarations [DHH]
ActiveSupport::Base64.encode64s since Base64 is deprecated
Added Base64.encode64s to encode values in base64 without the newlines. This makes the values immediately usable as URL parameters or memcache keys without further processing [DHH]
Remove ERB trim variables from trace template in case ActionView::Base.erb_trim_mode is changed in the application. Closes #10098 [tpope, kampers]
Remove :nodoc: entries around the ActiveSupport test/unit assertions. Closes #10946 [dancroak, jamesh]
Add a slightly more informative exception message for ActionView::TemplateFinder::InvalidViewPath [rick]
Add uses_tzinfo to active record tests to prevent breaking the cc.rb build etc.  Closes #11034 [mpalmer]
Correct inconsistencies in RequestForgeryProtection docs.  #11032 [mislav]
Add Time Zone support to ActiveRecord, and config.time_zone property for specifying a default Time Zone.  Closes #10982 [Geoff Buesing, rick]
Introduce a Template class to ActionView.  Closes #11024 [lifofifo]
nk - missing file?
cleaning up code and adding test coverage for attribute and expression.
Make the docs reference the correct function.  [Tobi Reif]
this is very messy but it is finally close to feature-complete
i know it doesn't work but need to anchor here...
ensure that the after_initialize hooks are run after the application initializers have run
MySQL: memoize column and table name quoting to reduce garbage
Cache partial variable names to reduce garbage
Add --measure option to script/performance/request to set ruby-prof measure mode: process_time, wall_time, cpu_time, allocations, memory.
Revert r8742: remove has_many with :group option since it has sketchy sql support. Closes #10480.
Ruby 1.9 compat: declare utf-8 file encoding
Slight camelize speedup [Pratik Naik]
Reshuffle load order so that routes and observers are initialized after plugins and app initializers.  Closes #10980 [rick, fxn]
Introduce the :index option for form_for and fields_for to simplify multi-model forms (see http://railscasts.com/episodes/75). Closes #9883.
Introduce map.resources :cards, :as => 'tarjetas' to use a custom resource name in the URL: cards_path == '/tarjetas'. Closes #10578.
TestSession supports indifferent access. Closes #7372.
Less verbose mail logging: just recipients for :info log level; the whole email for :debug only. Closes #8000.
When multiparameter date assignment fails due to an invalid date, fall back to create a Time and convert to_date. Closes #10556 [leikind]
Don't split cookies on comma also. References r8505.
Git support for script/generate. Closes #10690.
Simplified, faster implementation of Benchmark.realtime [Alexander Dymo]
Avoid Base#attributes when saving / creating records.  Closes #10978 [adymo]
MemCacheStore#write and #delete return a boolean indicating whether the operation succeeded
Bundled memcache client consistently returns server responses and checks for errors
MemCacheStore#write uses add by default and set if :force => true
Add a handful of cache store tests
cache.fetch(key, :force => true) to force a cache miss
MySQL: omit text/blob defaults from the schema instead of using an empty string. Closes #10963.
Move the declaration of the compilation related cattr_accessors to compilable.  Closes #10959 [lifofifo]
Make the non inferrable controller message a little friendlier.  [Koz]
    Make assert_routing aware of the HTTP method used.  Closes #8039 [mpalmer]
Remove unnofficial 'PST' timezone
Support retrieving TimeZones with a Duration.  TimeZone[-28800] == TimeZone[-480.minutes].  [rick]
Add posts.comments_count for other databases. Closes #10804.
cleanup
Correct line numbers from  template errors.  Closes #10937 [Aleksey Kondratenko]
Precalculate the Backtrace of a template error to avoid raising exceptions in TemplateError#backtrace.  These will abort the ruby vm. Closes #10936 [Aleksey Kondratenko]
Make sure count works on has_many :through associations using :group.  Closes #10480 [remvee]
Add documentation for polymorphic URL helpers,  make API consistent for polymorphic_path and polymorphic_url.
Don't repeatedly add relative_url_root to asset sources.  Closes #10767 [tomtoday, Koz]
    Use File.join to construct partial path.   Closes #10932 [patrick.t.joyce]
 Make it simpler to make the root route an alias for another route.  Closes #10818 [bscofield]
Remove dead attr_reader from association proxy.  Closes #10668 [danger]
Make sure that belongs_to counter decrements when assigning nil Closes #10804 [jeanmartin]
Correct documentation for dom_id [jbarnette] Closes #10775
Add tests and documentation for allow_blank. Closes #10651 [blj]
 TimeWithZone#- added, so that #- can handle a Time or TimeWithZone argument correctly
with_timezone test helper renamed with_env_tz, to distinguish between setting ENV['TZ'] and setting Time.zone in tests
Time#- coerces TimeWithZone argument to a Time instance so that difference in seconds can be calculated. Closes #10914 [Geoff Buesing, yyyc514]
Adding UTC zone to TimeZone; TimeWithZone no longer has to fake UTC zone with nil
Time.get_zone refactored to private method, given that the encapsulated logic is only useful internally
Time.zone uses thread-local variable for thread safety. Adding Time.use_zone, for overriding Time.zone locally inside a block. Removing unneeded Time.zone_reset!
Handle corner case with image_tag when passed 'messed up' image names. Closes #9018 [duncanbeevers, mpalmer]
TimeZone#to_s uses UTC rather than GMT; reapplying change that was undone in [8679]. References #1689
Time.days_in_month defaults to current year if no year is supplied as argument, uses Date.gregorian_leap? to determine leap year, and uses constant lookup to determine days in month. Closes #10799 [Radar]
Adding Time and DateTime #compare_with_coercion, which layers behavior on #<=> so that any combination of Time, DateTime and ActiveSupport::TimeWithZone instances can be chronologically compared
TimeZone#now returns an ActiveSupport::TimeWithZone
Time #in_current_time_zone and #change_time_zone_to_current return self when Time.zone is nil
Indicate in documentation that newer version of AR support eager loading in polymorphic associations. Closes #10861 [fxn]
Reference to :element option in documentation should be :member. Closes #10905 [fxn]
Remove unneeded #to_datetime_default_s alias for DateTime#to_s, given that we inherit a #to_default_s from Date that does exactly the same thing
Preserve integration session's request_count
Enumerable#group_by uses ActiveSupport::OrderedHash
Refactor Time and DateTime #to_formatted_s: use ternary instead of nested if/else
Adding Time and DateTime #formatted_offset, for outputting +HH:MM utc offset strings with cross-platform consistency
Adding alternate_utc_string option to TimeZone#formatted_offset. Removing unneeded TimeZone#offset
Introduce ActiveSupport::TimeWithZone, for wrapping Time instances with a TimeZone. Introduce instance methods to Time for creating TimeWithZone instances, and class methods for managing a global time zone
require test/unit explicitly otherwise the at_exit handler doesn't get called [jbarnette]
filling out some pending specs
joining on aggregations; this time where the aggregation is on the right.
merging "schmoin" experiment with joining aggregations into regular "join" functionality; half-way done...
completed initial functionality for joining with aggregation (the meaning of which is joining on a subselect/derived table); the big change is the introduction of a #projections protected method; this is a private version of #attributes which preserves implementation information (e.g., the name of the function called)
Refactor template compilation from AV::Base into the template handlers.  Closes #10888 [lifofifo]
Add options missing from earlier changeset
Log an error to the console when the memcache server is raising
Add label_tag helper for generating elements. Closes #10802 [DefV]
missing changelog for [8683]
Reapply the TemplateFinder first applied in [8669] then reverted in [8676]. Closes #10800 [lifofifo]
Add missing author_addresses.yml fixture. Closes #10592.
Replace non-dst-aware TimeZone class with dst-aware class from tzinfo_timezone plugin. TimeZone#adjust and #unadjust are no longer available; tzinfo gem must now be present in order to perform time zone calculations, via #local_to_utc and #utc_to_local methods.
Tidy up description for the rake test task.  Closes #10598 [akaspick]
Ensure mime types can be compared with symbols.  Closes #10796 [bscofield]
Revert r8669 for now, breaks Action Mailer. Reopens #10800.
belongs_to supports :dependent => :destroy and :delete. Closes #10592.
Performance: optimize route recognition. Large speedup for apps with many resource routes. Closes #10835.
Add timing test for large restful route recognition. References #10835 [oleganza]
Introduce preload query strategy for eager :includes. Closes #9640.
Support aggregations in finder conditions. Closes #10572.
Remove dead code. Closes #10698 [garru]
Introduce TemplateFinder to handle view paths and lookups. Closes #10800.
Update vendor version number
Update tmail to r208 versioned as 1.2.2
Ruby 1.9 compat: test encoding fixes. Closes #10597 [murphy]
Move rake contrib require to task
Extract ActiveSupport::Callbacks from Active Record, test case setup and teardown, and ActionController::Dispatcher. Closes #10727.
Remove table quoting; only pull last_insert_id if there's a primary key.
Organize and clean up the Active Record test suite. Closes #10742.
Move tests to cases
move schema
move migrations
move assets and models
Ensure that modifying has_and_belongs_to_many actions clear the query cache.  Closes #10840 [john.andrews]
Restructure routing into several smaller files. References #10835 [oleganza]
adding grouping functionality; added some dummy code ("Schmoin") for experimenting with aggregate joins. need to resolve the ambiguity in the #as operator between (SELECT * FROM foo AS bar) vs. (SELECT * FROM foo) AS bar
Correct fix for [8647], Closes #6868. [isak]
Introducing DateTime #utc, #utc? and #utc_offset, for duck-typing compatibility with Time. Closes #10002
Don't ignore :precision and :scale when adding columns on postgresql. Closes #6868 [w.piekutowski]
Make render :partial recognise form builders and use the _form partial.  Closes #10814 [djanowski]
Ensure that the tests use the instance-level view-paths correctly.  Closes #10820 [lifofifo]
Removed dupe spec
Add rake task for coverage
Remove ActiveRelation sub-modules and refactor specs
Correct docs on caching and all.js
strategy pattern
experimenting with strategy pattern rather than conditional; not as terse, nor transparent, but i still feel it's better
removed support for scalar select (will return later); added support for aliased tables
Use non-blocking writing if available.  Closes #10794 [lifofifo]
removed to_sql invocation for joins in base.rb... unnecessary, but perhaps confusing?
experimenting with new aliasing terminology and interface
aliasing of relations
bug with aggregation to_Sql
comment
added aggregations
missing files
relation inclusion operator
removed operator overloading of the predications (==, etc.)
removed operator overloading; renamed spec files
Allow users to declare other namespaces when using the atom feed helpers. Closes #10304 [david.calavera]
Time#to_json uses Numeric#to_utc_offset_s to output cross-platform-consistent representation without having to convert to DateTime. References #9750
Refactor number-to-HH:MM-string conversion logic from TimeZone#formatted_offset to reusable Numeric#to_utc_offset_s method
don't misbehave when redirecting to nil.  Closes #10272 [farleyknight]
Add some tests for adv_attr_accessor. Closes #10633 [fcheung]
Update scaffold to use labels instead of bold tags.  Closes #10757 [zach-inglis-lt3]
Introduce send_file :x_sendfile => true to send an X-Sendfile response header.
minor cleanup   - using a struct, a bit more terse
fixed erroneous test
new files?
Provide a nicer way to access headers.  request.headers["Content-Type"] instead of request.headers["HTTP_CONTENT_TYPE"] [Koz]
reorganized requires
reorganized requires
renamed files, removed _relation suffix
namespacing
 * Pass around handler instances, not their classes [Koz]  * Move compilation, rendering and 'compilable?' checks into the Handlers [Koz]  * Remove delegate_* methods as the handler is now an instance [Koz]
Reorder changelog. References #10766.
Updated TMail to version 1.2.1 [raasdnil]
Move fragment caching from special helper methods to TemplateHandler. Closes #10754 [Josh Peek]
UrlWriter respects relative_url_root. Closes #10748.
Resurrect WordNet synonym lookups. Closes #10710.
Re-enable the debugger in testing
Show that a different cache store can be used
Simplify to_formatted_s docs. Closes #10747 [Jeremy Kemper]
Document date and time to_formatted_s. Closes #10747 [leethal]
observed_subclasses gives [] if there are no observed classes
Don't append the forgery token to an ajax request if it's serializing a form, prevents duplicate tokens. Closes #10684 [macournoyer]
Replace labelled_form_for example with one that will actually work.  References #10738 [justinfrench, Koz]
Improve documentation to classify to make it clear that it expects names to be plural.  Reference #10615 [kris_chambers]
removed sql builder
nk
minor
Doc fixes for #atom_feed_helper.  Closes #10715 [hasmanyjosh]
Ruby 1.9 compat: don't rely on Array#to_s to flatten and join as string
Ruby 1.9 compat: cookie store delete sets nil value instead of empty string
Ruby 1.9 compat: account for hash ordering
Ruby 1.9 compat: check dom equality
Use explicit toplevel namespace for constant reference in AS::BasicObject
Ruby 1.9 compat: truncate and excerpt helpers
Filter procs must take 1 or 2 arguments. Raise ArgumentError otherwise.
Ruby 1.9 compat: remove stray colon
remove rubyforgepublisher, removed from rake
Use a decorator module for Files instantiated by Hash.from_xml. Add test coverage. Closes #10726 [Cheah Chu Yeow]
The asset_host block takes the controller request as an optional second argument. Example: use a single asset host for SSL requests. Closes #10549.
Support render :text => nil. Closes #6684.
Simplify and speedup Hash#stringify_keys! References #10717 [Cheah Chu Yeow]
Ruby 1.9 compat: instance_eval binding to get the record binding instead of accidentally getting current Kernel#binding. Closes #10716 [Dirkjan Bussink]
integration spec is persuasive, hopefully
quoting
minor cleanup
join relation qualification
qualified naming
basic rename functionality
More thoroughly quote table names. Exposes some issues with sqlite2 adapter. Closes #10698.
* Continue evolution toward ActiveSupport::TestCase and friends.  #10679 [Josh Peek]
require abstract_unit directly since test is in load path
require abstract_unit directly since test is in load path
remove some more absolute requires
require abstract_unit directly since test is in load path
require abstract_unit directly since test is in load path
require abstract_unit directly since test is in load path
require abstract_unit directly since test is in load path
Document that .build doesn't apply to has_many :through associations. Closes #10707 [GMFlash]
Prefer to instantiate fixtures with model classes instead of their names, avoiding excess constant lookups. Closes #10677 [nwilmes]
Cache fixture model class. References #10677 [nwilmes]
assert_response failures include the exception message. Closes #10688.
Move model dependency to the end of the scaffold generator manifest. Closes #10696 [drnic]
Document that eager loading doesn't work with polymorphic associations. Closes #10610 [Xavier Noria]
removed overly flexible sql builder funcitonality
missing files
new usage of builder `
Ruby 1.9: Module#local_constants can now just use constants(false). Closes #10648 [Xavier Noria]
pdate_all ignores scoped :order and :limit, so post.comments.update_all doesn't try to include the comment order in the update statement. Closes #10686.
Ruby 1.9 compat: test multibyte chars proxy for 1.8 only
Moved the caching stores from ActionController::Caching::Fragments::* to ActiveSupport::Cache::*. If you're explicitly referring to a store, like ActionController::Caching::Fragments::MemoryStore, you need to update that reference with ActiveSupport::Cache::MemoryStore [DHH] Deprecated ActionController::Base.fragment_cache_store for ActionController::Base.cache_store [DHH] All fragment cache keys are now by default prefixed with the 'views/' namespace [DHH] Added ActiveRecord::Base.cache_key to make it easier to cache Active Records in combination with the new ActiveSupport::Cache::* libraries [DHH] Added ActiveSupport::Gzip.decompress/compress(source) as an easy wrapper for Zlib [Tobias Luetke] Included MemCache-Client to make the improved ActiveSupport::Cache::MemCacheStore work out of the box [Bob Cottrell, Eric Hodel] Added config.cache_store to environment options to control the default cache store (default is FileStore if tmp/cache is present, otherwise MemoryStore is used) [DHH]
Ruby 1.9: Forwards compatibility change for fixtures and the new CSV module [JEG2]
Refactored ActionController::Verification and improved docs (closes #10681) [jamesh]
Made fragment caching in views work for rjs and builder as well (closes #6642) [zsombor]
Ruby 1.9 compat: don't use obsolete ParseDate
Remove toplevel rubyforgepublisher require for new Rake
Ruby 1.9 compat: special-case String access methods to not depend on #chars
Refactor check for local databases (closes #10539) [parcelbrat]
Added by parameter to increment, decrement, and their bang varieties so you can do player1.increment!(:points, 5) (closes #10542) [Sam]
Added that rails:update is run when you do rails:freeze:edge to ensure you also get the latest JS and config files (closes #10565) [jeff]
Optimize ActiveRecord::Base#exists? to use #select_all instead of #find.  Closes #10605 [jamesh, fcheung, protocool]
Correct indentation in a couple spots.  Closes #10671 [l.guidi, rick]
find_or_create_resource_for handles module nesting. Closes #10646.
Ruby 1.9 compat: fix two failing tests since String#each has been removed. Closes #10655.
Ruby 1.9 compat: add #raise to AS::BasicObject, fixup Duration argument error. Closes #10594.
db:sessions:clear task uses session_table_name method. Closes #10631 [Cheah Chu Yeow]
Correct Hash#assert_valid_keys docs. Closes #10621 [Cheah Chu Yeow, blackanger]
SQLite: db:drop:all doesn't fail silently if the database is already open. Closes #10577.
 integration test
Changed the implementation of Enumerable#group_by to use a double array approach instead of a hash such that the insert order is honored [DHH/Marcel]
more to_sql
cleanest implementation of adapter i could manage
before doing crazy
nk - broken out into multiple files
sql builder
joins
various
initial import
Don't make new_mongrel server default yet
Ruby 1.9 compat: introduce ActiveSupport::FrozenObjectError normalize TypeError vs RuntimeError handling. Closes #10645 [Frederick Cheung]
Ruby 1.9 compat: workaround module_eval bug. Closes #10641 [Frederick Cheung]
remove multiple enumerations from ActiveSupport::JSON#convert_json_to_yaml when dealing with date/time values.  [rick]
Don't unnecessarily load has_many associations in after_update callbacks.  Closes #6822 [stopdropandrew, canadaduane]
Allow setting ActiveResource::Base#format before #site.  [rick]
Support agnostic formats when calling custom methods.  Closes #10635 [joerichsen]
inherit from the new ActiveSupport::BlankSlate class
Introduce ActiveSupport::BasicObject which bridges Builder::BlankSlate and Ruby 1.9 BasicObject. Closes #10634 [Frederick Cheung]
Ruby 1.9 compat: introduce instance_variable_names. Closes #10630 [Frederick Cheung]
Ensure that test case setup is run even if overridden. Closes #10382.
Use extract_options! rather than Hash test + pop. Closes #10628 [ssoroka]
Ruby 1.9 compat: calculations don't assume array implementation of ordered hash. References #1689 [Frederick Cheung]
Ruby 1.9 compat: javascript proxy. References #1689 [Frederick Cheung]
Ruby 1.9 compat: file uploads. References #1689 [Frederick Cheung]
Move rubyforge task require
Ruby 1.9 compat: don't use obsolete ParseDate
Move rubyforge task require
Introduce native mongrel handler and push mutex into dispatcher.
Ruby 1.9 compat: don't modify iterator target within block
Ruby 1.9 compat: attribute methods
Remove leaky unused signal handler for transactions.
Integration tests use ActionController::Dispatcher rather than the old Dispatcher. Closes #10596.
Ruby 1.9 compat: dependencies uses Module#local_constant_names. References #1689 [Frederick Cheung]
Ruby 1.9 compat: fix warnings, shadowed block vars, and unitialized instance vars
Ruby 1.9 compat: initializer only sets kcode for Ruby < 1.9
Ruby 1.9 compat: Class#subclasses is now protected
Fold reset! into the run method directly. Make -n options compatible with Ruby 1.9 whose option parser seems to call the block with nil value even when the option is omitted.
Request profiler resets after warmup and each run so you don't have to do it in your session script.
Request profiler: use actual script path and line numbers for backtraces.
Add :default option to time_zone_select. Closes #10590.
Document custom methods. Closes #10589.
Update layout docs. Closes #10584 [Cheah Chu Yeow]
Rails 1.9 compat: asset tag helper tests
Ruby 1.9: use enumerator for blockless Range#step
Ruby 1.9 compat: compiled templates test
Ruby 1.9 compat: date helper
Ruby 1.9 compat: form helper test
Ruby 1.9 compat: note failing form options helper test, probably in html-scanner
Ruby 1.9 compat: text helper
Ruby 1.9 compat: url helper encoding
Ruby 1.9 compatibility
Multibyte: skip String#each_char test for Ruby 1.9
Multibyte: String#chars returns self for Ruby 1.9
Multibyte: String#chars uses passthrough handler for Ruby 1.9
App generate says sqlite3 is the default and mentions frontbase. Closes #10550 [Cheah Chu Yeow, Will Cannings]
Eager belongs_to :include infers the foreign key from the association name rather than the class name. Closes #10517.
Benchmark logs for any level below or equal to the one specified, rather than just equal. Closes #10580 [Dan Manges]
Hash#symbolize_keys skips keys that can't be symbolized. Closes #10500.
SQLite: fix rename_ and remove_column for columns with unique indexes. Closes #10576.
Ruby 1.9 compat: ENV.delete rather than assigning nil
add passing test for Test::Unit subclasses running #setup properly [brynary]
Revert [8392]. Closes #10568, reopens #10379.
Ruby 1.9 compat: join the buffer array explicitly rather than relying on to_s to flatten it
Ruby 1.9 compat: check column type more carefully
RubyGems 0.9.5 compat: always set the gem platform
Ruby 1.9 compat: use .to_a instead of .map which now returns an enumerator
Simplify some rails info methods
Ruby 1.9 compat: Update idiosyncratic block variable usage. Closes #10546.
Missed commit. References #10554.
Ruby 1.9 compat: move from the deprecated Base64 module to ActiveSupport::Base64. Closes #10554.
Toplevel test task uses the same rake it was invoked with
Ruby 1.9 compatibility. References #1689.
Added delete_via_redirect and put_via_redirect to integration testing (closes #10497) [philodespotos]
Docfix (closes #10369) [revans]
Allow headers[Accept] to be set by hand when calling xml_http_request (closes #10461) [BMorearty]
Added OPTIONS to list of default accepted HTTP methods (closes #10449) [holoway]
Docfix (closes #10493)
Add tests for html_escape, and remove an unneeded backslash (closes #10511) [fxn]
Added option to pass proc to ActionController::Base.asset_host for maximum configurability (closes #10521) [chuyeow]
Proper attribution in CHANGELOG
Prepare for 2.0.2 release
Doc fixing
Changed the default database from mysql to sqlite3, so now running "rails myapp" will have a config/database.yml thats setup for SQLite3 (which in OS X Leopard is installed by default, so is the gem, so everything Just Works with no database configuration at all). To get a Rails application preconfigured for MySQL, just run "rails -d mysql myapp" [DHH]
Turned on ActionView::Base.cache_template_loading by default in config/environments/production.rb to prevent file system stat calls for every template loading to see if it changed (this means that you have to restart the application to see template changes in production mode) [DHH]
Update changelog for Ruby 1.9 compat patches
Revert const_missing bypass in favor of Duration constant lookup tweak
More changelog updates
Mark that render tests crash Ruby 1.9
Ruby 1.9 compat: helpers
Note that filters test crashes Ruby 1.9
Ruby 1.9 compat: account for new, non-flattening Array#to_s
Ruby 1.9 compat: cookies
Ruby 1.9 compat: use String#ord to escape filenames for compiled method names
Ruby 1.9 compat: 'a'.ord == 'a'[0]
Ruby 1.9 compat: shadowed vars, kcode
Remove missing default helper warnings
Introduce (in /Users/jeremy/rails/git/trunk) to output a crytographically secure secret key for use with cookie sessions.
Ruby 1.9 compat: define Duration#== [chuyeow]
Ruby 1.9 compat: normalize date and time xmlschema to match Ruby's formatting [chuyeow]
Ruby 1.9 compat: prefer builtin String#starts_ and ends_with? if available [chuyeow]
Bypass const_missing lookup for toplevel constants. Optimizes for Ruby 1.9 const_defined.
Ensure optimistic locking handles nil #lock_version values properly.  Closes #10510 [rick]
Added more specific exceptions for 400, 401, and 403 (all descending from ClientError so existing rescues will work) (closes #10326) [trek]
We love whitespace
Docfix (closes #10429) [jamesh/ssoroka]
Added that Array#to_param calls to_param on all it's elements (closes #10473) [brandon]
Added db:migrate:redo and db:migrate:reset for rerunning existing migrations #10431, (closes #10432) [matt]
Added db:migrate:redo for rerunning existing migrations (closes #10431) [matt]
Remove references to nonexistent :joins documentation. Closes #10498 [tpope]
Make the routes rake task more discoverable but documenting it in the routing documentation. Closes #10478 [dancroak]
Document what to pass the :accept option for validates_acceptance_of when mapping the attribute to an actual column (rather than a virtual one). Closes #10491 [xaviershay]
Explain how the layout macro behaves when passed a path that contains a directory. Closes #10492 [loincloth]
Ensure that the :uniq option for has_many :through associations retains the order.  #10463 [remvee]
Base.exists? doesn't rescue exceptions to avoid hiding SQL errors. Closes #10458.
More Action View refactoring. Knock :erb default down a notch. Closes #10455.
Missed commit. Closes #10437.
Remove references to ActsAs* from the README now that it's been pulled out into a plugin. Closes #10451 [sjgman9]
TimeZone#to_s uses UTC rather than GMT. References #1689.
Ruby 1.9 compat: TimeZone avoids localtime conversion. References #1689 [Chu Yeow]
Update destroy_all and delete_all documentation to better describe their tradeoffs. Closes #10447.
Ensure asset cache directories are automatically created. Closes #10337.
Ruby 1.9 compat: File.exists\? -> File.exist\? en masse. References #1689 [Pratik Naik]
Correct empty response handling. Closes #10445.
Ruby 1.9 compat. References #1689 [Pratik Naik]
Document Active Record exceptions. Closes #10444.
Remove unused ConnectionFailed exception
Credit #10443 + more changelog updates
More changelog updates
Allow double quotes around RAILS_GEM_VERSION also. Closes #10443 [James Cox]
More changelog updates
Axe outdated :ar_joins commentary
Remove empty ar_joins_test
lifo -> Pratik
More contributor name updates
Document how to disable forgery protection for tests. Useful note for those upgrading from 1.x. Closes #10440 [Trevor Turk]
Update Chu's name in changelogs
Update Fred's name in changelogs
post.comments.reload returns the association rather than the result of load_target. Closes #10438 [Fred Cheung]
Document the validates class method. Closes #10216 [Farley Knight]
Missed commit. References #10395.
Move #to_query methods where they ought to belong. Closes #10395 [Chu Yeow]
render :xml and :json preserve custom content types. Closes #10388.
Refactor Action View template handlers. Closes #10437.
to_sentence returns self[0].to_s instead of just self[0] for arrays of length 1. Closes #10390 [Chu Yeow, mrj]
Be careful not to reference ActiveRecord if it isn't loaded, fixing rake test when you're working without a database. [eedn]
Don't check for pending migrations if Active Record isn't loaded
Update rails:freeze:gems to work with RubyGems 0.9.5.
Clean up some cruft around ActionController::Base#head.  Closes #10417 [ssoroka]
Refactor of Hash#symbolize_keys! to use Hash#replace.  Closes #10420 [ReinH]
Make ready for 2.0.1
Removed query cache rescue as it could cause code to be run twice (closes #10408) [DHH]
Ignore illegal seeks on body rewind. Catches CGI errors depending on your httpd. Closes #10404 [Curtis Hawthorne]
Anchor DateTimeTest to fixed DateTime instead of a variable value based on Time.now#advance#to_datetime. Works around issue on 64-bit platforms with Ruby's Time#to_datetime respecting fractional seconds, and database adapters not respecting them for DateTimes, throwing off before-and-after-save equality test. References #10080, #10073
The test task stops with a warning if you have pending migrations. Closes #10377.
Preparing for release shortly
Adding missing space to documentation of the layout method. Closes #7126 [orangechicken, jeremymcanally]
Add example of redirect_to that uses a named route. Closes #7149 [stevenbristol]
Correct example for path parameters to use strings as keys in the hash rather than symbols. Closes #7160 [akaspick]
Document that the delegate method can delegate to things other than just methods. Closes #7184 [dcmanges, jeremymcanally]
Update documentation to reflect increased accuracy of date interval calculations. Closes #7192 [eventualbuddha]
Add documentation examples to prototype helper. Closes #7211 [manfred]
Enhance documentation coverage for fragment caching. Closes #7315 [bscofield]
Document how the :include option can be used in Calculations::calculate.  Closes #7446 [adamwiggins, ultimoamore]
Reveal that the type option in migrations can be any supported column type for your database but also include caveat about agnosticism. Closes #7531 [adamwiggins, mikong]
Add warning to documentation about using transactional fixtures when the code under test uses transactions itself. Closes #7548 [thijsv]
Add many examples to PrototypeHelper documentation. Closes #7656 [jeremymcanally]
Add many examples to assertion documentation. Closes #7803 [jeremymcanally]
Ensure that ActionMailer::Base is there and not just the parent module
More complete documentation for find_by_sql. Closes #7912 [fearoffish]
Document API for exists?'s parameter and provide examples of usage. Closes #7913 [fearoffish]
Document API for create's attributes parameter and provide examples. Closes #7915 [fearoffish]
Documentation for find incorrectly omits the :conditions option from various examples. Closes #7923 [mattwestcott]
Document options and add examples for update. Closes #7985 [fearoffish]
Document options and add examples for delete. Closes #7986 [fearoffish]
Document options and add examples for destroy. Closes #7988 [fearoffish]
Document options and add examples for update_all. Closes #7990 [fearoffish]
Document options for update_counters. Closes #8091 [fearoffish]
Add documentation about the virtual attribute added by validates_confirmation_of and its behavior. Closes #8815 [JEG2, matt, kampers]
Document the supported options for sortable_element. Closes #8820 [berkelep]
Add documentation for freeze and readonly related methods. Closes #8878 [pelargir, jeremymcanally]
Document the timestamps schema definition method. Closes #9000 [mikong]
Add examples in the documentation for various assertions. Closes #9938 [zapnap]
When a NonInferrableControllerError is raised, make the proposed fix clearer in the error message. Closes #10199 [danger]
Give examples for what tables should be called for models inside a module namespace. Closes #10288 [scott_willson]
Document the :message option for validates_associated. Closes #10357 [dylans]
Document automatically generated predicate methods for attributes. Closes #10373 [chuyeow]
Document Date conversions.  Closes #10368 [chuyeow]
Enhance documentation for Active Support's Time Conversion functions. [rsanheim, jeremymcanally, chuyeow] Closes #7164
Remove Great Britain from the Country select helper to ensure consistency with iso 3166's long_names.  Closes #6872 [Koz]
Update Prototype to 1.6.0.1
Try again
MySQL: we can't distinguish a fake 0 default in 4.x
Removed some of the tags that does not make sense to allow per default in the whitelist
Update trunk to script.aculo.us 1.8.0.1, fixes a regression in the autocompleter
Add 'disabled' attribute to <OPTION> separators used in time zone and country selects.  Closes #10354 [hasmanyjosh]
Make sure that setting the format with a symbol works too
Copy the cache too
Added ActiveRecord::Base#becomes to turn a record into one of another class (mostly relevant for STIs) [DHH]
Remove old tests which relied on @ being an ATOM to work around old Mail.app bugs.  Closes #10317 [mikel]
Don't escape forward slashes with String#to_json, our unicode encoding of < and > prevent the XSS problems. [tpope] Closes #10273
Handle 8.1 default formatting. Closes #10333 [Tim Pope]
Deal with nested fields_for too [DHH]
Added the same record identification guessing rules to fields_for as form_for has [DHH]
Warn users about the race condition in validates_uniqueness_of. [Koz]
Don't inadvertently hit const_missing in defined?(ActionMailer::Base) check
Added db:fixtures:identity as a way of locating what ID a foxy fixture was assigned (closes #10332) [jbarnette]
Generated fixtures should not specify ids since theyre expected to be foxy fixtures (closes #10330) [jbarnette]
Remove @ as an ATOM character,  syncing with upstream tmail. [mikel] Closes #10317
You dont need to explicitly declare which controller youre testing when you follow the naming convention
use autoeval not autoirb, it's mostly equivalent but doesn't make stepping frustrating [Koz].
Removed documentation for the removed rollback! method on transactions and mention ActiveRecord::Rollback [cody]
 Allow body to be specified for nested parts with action mailer.  Closes #10271 [redinger]
Make sure assert_select_rjs gets counted,  Closes #10278 [tarmo]
Make reset return nil when using a dangling belongs_to association.  Current behaviour is to return false which can be confusing. Closes #10293 [fcheung]
Raise UnknownHttpMethod exception for unknown HTTP methods. Closes #10303 [tarmo]
Update to Prototype -r8232
Prep for RC2
attr_protected and _accessible use sets of strings instead of arrays of symbols internally. Closes #10300.
attr_readonly uses a set of strings instead of an array of symbols internally. References #10300.
Introduce SecretKeyGenerator for more secure session secrets than CGI::Session's pseudo-random id generator. Consider extracting to Active Support later. Closes #10286.
correct confusing comments
Make sure the optimisation code for routes doesn't get used if :host, :anchor or :port are provided in the hash arguments. [pager, Koz] Closes #10292
Added protection from trailing slashes on page caching (closes #10229) [devrieda]
Added Array#from and Array#to that behaves just from String#from and String#to [DHH]
Asset timestamps are appended, not prepended. Closes #10276 [mnaberez]
Foxy fixtures: support single-table inheritance. Closes #10234.
Foxy fixtures: allow mixed usage to make migration easier and more attractive. Closes #10004.
Make the record_timestamps class-inheritable so it can be set per model. References #10004.
Minor inconsistency in description of render example. Closes #10029 [ScottSchram]
Add #prepend_view_path and #append_view_path instance methods on ActionController::Base for consistency with the class methods.  [rick]
Refactor sanitizer helpers into HTML classes and make it easy to swap them out with custom implementations.  Closes #10129.  [rick]
Update ActionMailer so it treats ActionView the same way that ActionController does.  Closes #10244 [rick]
Add deprecation for old subtemplate syntax for ActionMailer templates, use render :partial [rick]
Add documentation about asset timestamps (just for koz)
Allow validates_acceptance_of to use a real attribute instead of only virtual (so you can record that the acceptance occured) (closes #7457) [ambethia]
Docfix (closes #10252)
No trailing whitespace in migration generation (closes #10235)
Docfix (closes #10256)
Dont mind the pkg dir
Improve error messages when providing a secret that is too short.  Closes #10238 [Henrik N]
Honor Ruby's default calendar reform setting when creating DateTime objects via ActiveRecord's Time -> DateTime overflow, Time#time_with_datetime_fallback, Time#to_datetime, Date#to_datetime and String#to_datetime. Closes #10201
 Change Time and DateTime #end_of_month to return last second of month instead of beginning of last day of month. Closes #10200
Document that the cookie store is the default session store. Mention the memcached store. Closes #10241 [Josh Susser, Jeremy Kemper]
Add missing sub template fixtures.  References #10130 [java]
Tests and fix for extension extraction.  References #10130 [tarmo]
Add example.log for binary escaping test. References #10176.
PostgreSQL: correct binary escaping. References #8049, closes #10176 [jbasdf, tmacedo]
Make sure that cookie sessions use a secret that is at least 30 chars in length. [Koz]
Cleanup documentation a bit and be more specific
Cleanup documentation a bit and be more specific
Emphasize the importance of a dictionary attack-proof secret for the cookie store
Ousted ActionWebService from Rails 2.0
Dynamic finders on association collections respect association :limit. Closes #10227 [Jack Danger Canty]
Refactor cookie_only option to survive multiple requests and add regression tests.  References #10048. [theflow]
Make sure script/plugin doesn't skip files beginning with http (i.e. the old http_authentication plugin). Closes #7887 [choonkeat]
Make Dynamic Finders on Association Collections Respect Association :order [patrick.t.joyce, technoweenie]. Closes #10211
mailer_class is a class method not an instance method. [josh] Closes #10041
validates_inclusion_of and validates_exclusion_of allow formatted :message strings. Closes #8132 [devrieda, Mike Naberezny]
Add 'foxy' support for fixtures of polymorphic associations. Closes #10183 [jbarnette, David Lowenfels]
Ensure that the routing optimisation code isn't used when additional arguments are passed to the named route.  Closes #10209 [bscofield, Koz]
Remove unnecessary route reload in integration tests, obsoleted by [7676]. Closes #10094. [Koz]
Don't cache net/http object so that ActiveResource is more thread-safe.  Closes #10142 [kou]
Docfix (closes #10155)
memoize host with port and refactor the tests which depend on it changing
Remove unneeded code to disable optimisations.  the defined?(request) stuff takes care of this now.
Use debug, not info as log_info will discard the information if info is used.
Clarify Array#in_groups_of implementation, don't dup unless needed, only require enumerator once.
RAILS_GEM_VERSION may be set to any valid gem version specifier. Closes #10057.
Load config/preinitializer.rb, if present, before loading the environment. Closes #9943.
Table names aren't nested: replace / with _ to match the likely table name.
Resource and scaffold generators pass on the full name to the dependent model, so nested resources give a corresponding nested model.
attr_readonly behaves well with optimistic locking. Closes #10188.
Remove components mention from railties README. Closes #10182 [sjgman9]
Use the new TestCase subclasses in the scaffold and resource generators also. Closes #10174 [bscofield]
MacOS X -> Mac OS X. Closes #10171 [henrik@nyh.se]
Use Leopard's native mysql_config. Closes #10167 [Robert Evans]
Remove warning about fixture loading order from test_helper since we disable foreign key checks now. [Mike Clark]
Correct MySQL install instructions for Leopard. Closes #10167 [mnaberez]
Remove stale warning from application generator usage message. Closes #10165 [bronson]
Use rexml for some tests rather than string include? checks to account for unordered attributes. Closes #10164 [Catfish]
Add MySQL install instructions for Leopard in particular. Closes #10167 [Robert Evans]
Base#to_xml supports the nil="true" attribute like Hash#to_xml. Closes #8268.
Speedup String#blank? and remove some overspecified tests.
Only Benchmark and log if we're going to output the information.
Actually cache the template names.
FastCGI handler ignores unsupported signals like USR2 on Windows [Grzegorz Derebecki]
Change plings to the more conventional quotes in the documentation. Closes #10104 [danger]
Improve documentation for IrreversibleMigrations.  Closes #9636 [toolmantim]
Only load ActionMailer::TestCase if ActionMailer is loaded.  Closes #10137 [defunkt]
Ensure that column names are quoted.  Closes #10134 [wesley.moxam]
Set the record straight on the purpose and utility of db/schema.rb
Remove things that trip up RDoc
Prepare versions for RC1
Kill the whiny_protected_attributes setting and kill the exception raised. Instead, just log the mass-assignment misalignment as a debug warning (closes #9966)
Removed unused code (closes #9906)
initial experimental commit of active_model
Ensure the plugin loader only loads plugins once.  Closes #10102 [haruki_zaemon]
Refactor Plugin Loader.  Add plugin lib paths early, and add lots of tests.  Closes #9795 [lazyatom]
Update README to use new smtp settings configuration API. Closes #10060 [psq]
Smattering of grammatical fixes to documentation. Closes #10083 [BobSilva]
Rearrange vendor bundles so gem overrides work correctly.
Allow ActionMailer subclasses to individually set their delivery method (so two subclasses can have different delivery methods) (closes #10033) [zdennis]
Added :mouseover short-cut to AssetTagHelper#image_tag for doing easy image swaps (closes #6893) [joost]
Address shortcomings of changeset [8054] [protocool]
Enhance explanation with more examples for attr_accessible macro. Closes #8095 [fearoffish, Marcel Molina]
Standardize on using hyphens rather than colons to separate option names from their explanation in documentation. Replace + with tt tags. Closes #8732. [ryanb]
Remove unneeded file that was missed by [8098]
Document :with option for link_to_remote. Closes #8765 [ryanb]
Update association/method mapping table to refected latest collection methods for has_many :through. Closes #8772 [lifofifo]
Document :minute_step option for time_select. Closes #8814 [brupm]
Explain how to use the :href option for link_to_remote to degrade gracefully in the absence of JavaScript. Closes #8911 [vlad]
Disambiguate :size option for text area tag. Closes #8955 [redbeard]
Make work with --skip-timestamps
Make transaction documentation example more realistic
Explain semantics of having several different AR instances in a transaction block. Closes #9036 [jacobat, Marcel Molina]
Add documentation for route conditions. Closes #9041 [innu, manfred]
Add documentation for Hash#diff. Closes #9306 [tarmo]
Add missing file for revision #8090
Update XML documentation examples to include explicit type attributes. Closes #9754 [hasmanyjosh]
Update Schema documentation to use updated sexy migration notation. Closes #10086 [sjgman9]
Update Prototype to 1.6.0 and script.aculo.us to 1.8.0.
Update TMail to v1.1.0.  Use an updated version of TMail if available.  [mikel]
Minor documentation enhancements and white-space fixes. Closes #9819 [chuyeow]
Make rescue_from behave like rescue when dealing with subclasses.  Closes #10079 [fxn]
Grammatical and whitespace fixes for form helper docs.  Closes #10062 [chuyeow]
Use the safe conversion code introduced in earlier commit.  References #10068 [gbuesing]
Cater for DST changes when converting Times to DateTimes.  Closes #10068 [gbuesing]
Add missing quote to send_file documentation. [developingchris] Closes #10078
Added --skip-timestamps to generators that produce models (closes #10036) [tpope]
Update profiler changelog for integration session script usage
Profile an integration session instead of a single request
Factor Integration::Runner behavior out of IntegrationTest. Introduce Session#request_count which counts processed requests.
Don't eliminate the logger by default
Expose the cookie jar as a helper method (before the view would just get the raw cookie hash) [DHH]
Escape table names during calculation queries. [wesley.moxam, Koz] Closes #4593
Make fixtures work with the new test subclasses. [tarmo, Koz]
Add new superclass_delegating_accessors.  Similar to class inheritable attributes but with subtly different semantics. [Koz, tarmo]
Excise generated whitespace. Closes #10017 [Tim Pope]
Introduce finder :joins with associations. Same :include syntax but with inner rather than outer joins. Closes #10012.
Test which fails without [8052] [Koz]
compute_public_path behaves well with mailers also. Closes #10014.
Associations: speedup duplicate record check. Closes #10011.
Change JSON to encode %w(< > &) as 4 digit hex codes to be in compliance with the JSON spec.  Closes #9975 [josh, chuyeow, tpope]
Make sure that << works on has_many associations on unsaved records.  Closes #9989 [hasmanyjosh]
Integration tests: get_ and post_via_redirect take a headers hash. Closes #9130.
Allow association redefinition in subclasses. Closes #9346.
Tested FormHelper#label. Closes #9850 [jarkko]
Make sure default_test is tested for ActiveSupport::TestCase too
Make Default Test work with both ruby 1.8.4 and 1.8.6. [DrMark] Closes #10003
Added db:rollback to rollback the schema one version (or multiple as specified by STEP) [Jeffrey Allan Hardy]
Foxy fixtures. Adapter#disable_referential_integrity. Closes #9981.
Simplfy #view_paths implementation.  ActionView templates get the exact object, not a dup.  [Rick]
Update tests for ActiveSupport's JSON escaping change.  [rick]
FormHelper's auto_index should use #to_param instead of #id_before_type_cast.  Closes #9994 [mattly]
Add docs explaining how to protect all attributes using attr_accessible with no arguments. Closes #9631 [boone, rmm5t]
Update add_index documentation to use new options api. Closes #9787 [kamal]
Allow find on a has_many association defined with :finder_sql to accept id arguments as strings like regular find does. Closes #9916 [krishna]
Doc typo fixes for ActiveRecordHelper. Closes #9973 [mikong]
Make example parameters in restful routing docs idiomatic. Closes #9993 [danger]
Make documentation comment for mime responders match documentation example.  Closes #9357 [yon]
Use VALID_FIND_OPTIONS when resolving :find scoping rather than hard coding the list of valid find options. Closes #9443 [sur]
Remove broken require
Introduce TestCase subclasses for testing rails applications allowing tests to be DRY'd up a bit and to provide a path toward tidying up our monkeypatching of test/unit.
Use  instead of STDERR in boot.rb. Closes #9988 [thewoolleyman]
Partials also set 'object' to the default partial variable. Closes #8823.
/ default uri, -b shortcut
Request profiler
Remove superfluous code and quote table name.  References #9971 [jkit, nzkoz]
Make clear_reloadable_connections! take account of @@allow_concurrency.  Closes #7579 [wilson]
Add an ignored options parameter to ActiveSupport::JSON::Variable#to_json to make sure it duck-types nicely with the other JSON types. [Pascal Belloncle]
Make sure that the Schema Dumper supports non-standard primary keys with MySQL.  Closes #9971 [RubyRedRick]
Refactor the default rendering out to a method called default_render to provide a hook for plugin authors.  Closes #9953 [cjheath]
Document Enumerable and Hash #to_json. Add test for hash with integer key. Closes #9970.
Remove unnecessary returns from builtin filters since render/return is now sufficient. Closes #9952 [Josh Peek]
rake test aborts if tests failed. Closes #9962 [Jason Roelofs]
Disabled checkboxes don't submit a form value. Closes #9301.
Limited eager loading no longer ignores scoped :order. Closes #9561 [danger, josh]
Added tests for options to ActiveRecordHelper#form. Closes #7213 [richcollins, mikong, mislav]
Assigning an instance of a foreign class to a composed_of aggregate calls an optional conversion block. Refactor and simplify composed_of implementation. Closes #6322.
Assigning nil to a composed_of aggregate also sets its immediate value to nil. Closes #9843.
Some mime type refactoring. Closes #9957 [Josh Peek]
validates_uniqueness_of behaves well with abstract superclasses. References #3833, closes #9886.
Remove duplicate rjs layout check. Closes #9956 [Josh Peek]
Refactor and test boot.rb. Include tests from and closes #9834.
Hash#to_xml handles symbol values. Closes #9954.
Reinstate test_change_column_nullability for all adapters. Closes #9945 [lawrence]
test_select_rows shouldn't depend on implicit result ordering. Closes #9898 [lawrence]
Expand form helper test coverage. Closes #9950 [robinjfisher]
request.parameters doesn't overwrite request.request_parameters. Closes #9949 [nullstyle]
Changed before_filter halting to happen automatically on render or redirect but no longer on simply returning false [DHH]
Ensure that mysql quotes table names with database names correctly.  Closes #9911 [crayz]
Ensure that cookies handle array values correctly.  Closes #9937 [queso]
typo in test name
Remove more potential clashes with asset methods and resource routes.  Closes #9928 [gbuesing]
Few more tests for Sexy Migrations
Forgotten changelog entry
Add t.belongs_to and t.references to sexy migrations [arthurgeek] Test harness for Sexy Migrations. [Koz] Closes #9775
Move all Schema creation into schema.rb for Mysql. Closes #9899 [mikong, lawrence]
Rename image_path path_to_image to avoid conflicting with named routes.  Closes #9924 [gbuesing]
SQL Server: test for affected row count. References #9558 [lawrence, ryepup]
Use SecureRandom to generate unique ids, if available.
Docfix (cloases #9832)
Read in binary mode to make sure windows support keeps working.  [lawrence]  Closes #9912
Use a smaller binary fixture so we don't overflow column size limitations in some commercial / legacy databases. Closes #7987 [roderickvd, lawrence]
Raise an intelligible error message when migration aren't named correctly [bronson] Closes #9909
caches_page uses a single after_filter instead of one per action. Closes #9891.
Update Prototype to 1.6.0_rc1 and script.aculo.us to 1.8.0 preview 0.
More Performant Cookie Regexp for Integration tests. [Ola Bini]
Hash#symbolize_keys behaves well with integer keys. Closes #9890.
Dispatcher: fix that to_prepare should only run once in production. Closes #9889.
Qualified column names work in hash conditions, like :conditions => { 'comments.created_at' => ... }. Closes #9733.
remove empty dirs missed by git-svn
Refactor association create and build so before & after callbacks behave consistently. Closes #8854.
Improve the error message for assert_redirected_to. Closes #7337 [mikong, sandofsky]
Test link_to 'back', :back
Quote table names. Defaults to column quoting. Closes #4593.
Moving SQL Server tests to the extracted adapter. References #9884.
Missed mailer adds.
Don't assume ActiveSupport module is already defined
Simple changes to bring AWS up to date with view_paths and render :text. Tests still fail though. [Koz]
Complete AWS -> ARes changeover. Closes #8717 [kampers]
Alias association #build to #new so it behaves predictably. Closes #8787.
Revert [7894] and apply to adapter instead. References #9588.
Multibyte: String#slice supports regexp argument. Closes #9646.
Test that change_column quotes column names. Closes #9537 [lawrence]
Factor out checks for duplicable objects. Closes #9333.
Add a time to duplicable tests
object.duplicable? returns true if object.dup is safe. False for nil, true, false, symbols, and numbers; true otherwise. References #9333.
Sync country_select with ISO 3166 long names.  Closes #6872 [abhay, mikong, ruben]
Remove seemingly misleading 'faster tests' instructions too
Update the instructions for running tests.
Enhance documentation for observe_field. Closes #9808 [RubyRedRick, danger]
Generated fixtures use the actual primary key instead of id. Closes #4343.
Expand Routes::DynamicSegment test coverage. Closes #7122 [Kevin Clark]
Uncomment test for join model method_missing. Closes #8707 [Giles Bowkett, Josh Peek]
Update test/all.sh
Update IGNORED_SQL for SQL Server. Closes #9638 [lawrence]
Add build/drop/rebuild tasks for SQL Server. Closes #9588 [lawrence]
Skip memcache tests unless it's installed
Forgot railties
Reorder project list so AR tests run last
Add toplevel Rakefile to run tests, generate docs, etc en masse
Add explicit test task
Wrap test with uses_mocha
Memcached sessions: add session data on initialization; don't silently discard exceptions; add unit tests. Closes #9823.
non-executable
Update gem dependencies to match current versions
Add notes to documentation regarding attr_readonly behavior with counter caches and polymorphic associations.  Closes #9835 [saimonmoore, rick]
Observers can observe model names as symbols properly now.  Closes #9869  [queso]
error_messages_for also takes :message and :header_message options which defaults to the old "There were problems with the following fields:" and "<count> errors prohibited this <object_name> from being saved". Closes #8270.
Time, Date and DateTime #advance accept :weeks option. Closes #9866.
Time and DateTime#advance accept :hours, :minutes, and :seconds options. Closes #9825.
Don't shadow local var with block var
Use __FILE__ and __LINE__ for BufferedLogger severity methods
Refactor Time and Date#months_since and #months_ago to use #advance. Closes #9863.
Missed post_via_redirect. References #6834
Define get_via_redirect as well. Closes #6834 [colthorp]
Make sure that custom inflections are picked up by map.resources by triggering a routing reload when new inflections are defined. Closes #9815 [mislav, kampers]
Update versions here too
Model generator tests. Closes #8966 [abhay]
Whitespace fix. Closes #9845.
Added better documentation for generator overwrite options (closes #9842) [wincet]
JavaScriptVariableProxy#to_json ignores the options arg
Bundle xml-simple 1.0.11
Update bundled xml-simple to 1.0.11 and prefer installed gems
Rebundle Builder 2.1.2 but prefer a newer RubyGem if available.
eval with __FILE__ and __LINE__
find_and_(initialize|create)_by methods can now properly initialize protected attributes
Extracted sanitization methods from TextHelper to SanitizeHelper [DHH] Changed SanitizeHelper#sanitize to only allow the custom attributes and tags when specified in the call [DHH]
Ensure that 'autosaving' works when associations aren't loaded [Bryan Helmkamp] References #8713
rescue_from accepts :with => lambda { |exception| ... } or a normal block. Closes #9827.
Add :status to redirect_to allowing users to choose their own response code without manually setting headers. Closes #8297 [codahale, chasgrundy]
Set default charset of MTAs to ISO instead of us-ascii (unless reported otherwise)
Style update for new Range extensions
Hash is ordered in Ruby 1.9
Update :dependent docs and improve its argument error message.
belongs_to infers the foreign key from the association name instead of from the class name. Fulfills the 1.2.4 deprecation.
config.active_record.whiny_protected_attributes. Closes #9816 [henrik]
Include ARes and Railties in rdoc. Freeze ARes gem instead of AWS.
Make sure AR::Base#clone handles attr changes made in after_initialize hooks. Closes #7191 [weyus]
PostgreSQL: support multiline default values. Closes #7533.
* Add Range#overlaps?(range), Range#include?(range), and Range#step without a block. [brandon] Closes #9746
form_for example for namespaced routes. Closes #9769 [sjgman9]
Dr Math meets Captain Obvious.
Improve README documentation. References #8770 [mikel]
Namespace the internal Rakefile tasks. Closes #8850 [drnic]
1 years -> 1 year
Add tests for [7727]. Closes #6090 [dkubb, mpalmer, tarmo]
Documentation for assert_valid_keys.  Closes #7264 [tarmo, rsanheim]
Add link_to :back which uses your referrer with a fallback to a javascript link. #7366 [eventualbuddha, tarmo]
MySQL: fix change_column on not-null columns that don't accept dfeault values of ''. Closes #6663.
Builder unbundle message directs to Bulk updating Gem source index for: http://gems.rubyforge.org
Change Migration documentation to use the new syntax. Closes #9813 [sjgman9]
validates_uniqueness_of behaves well with single-table inheritance. Closes #3833.
Create layout dir it's nested. References #9272 [alancfrancis]
Use a configuration check so ActiveRecord can be omitted. References #9699.
Use fast date/time parsing by default. Closes #9811.
error_messages_for and friends also work with local variables. Closes #9699.
Closed wrong ticket. Closes #9802, reopens #9699.
Raise ProtectedAttributeAssignmentError in development and test environments when mass-assigning to an attr_protected attribute. Closes #9699.
Correct BufferedLogger#level? checks. Closes #9806.
Reference current fast_xs URL
String#to_xs uses the fast_xs extension if available for Builder speedup.
BlankSlate -> BasicObject
Reinstate failsafe date/time parsing rescues. Head off some obvious failures like year == 0 or nil.
Axe excess backtracery.
MySQL: speedup date/time parsing.
Check for the dir instead of relying on an exception.
Allow change_column to set NOT NULL in the PostgreSQL adaptor. Closes #3904 [tarmo]
Extend the console +helper+ method to allow you to include custom helpers. Closes #6781 [Chris Wanstrath]
Add Base#to_param to Active Resource that quacks like ActiveRecord. Closes #9557 [bradediger]
BlankSlate -> BasicObject
Introduce BasicObject as Builder::BlankSlate for Ruby 1.9 forward compatibility.
Unbundle Builder in favor of a gem dependency.
Use StringIO and Tempfile subclasses instead of defining singleton methods on each multipart field.
Rewind stdin if possible after multipart parsing.
Don't generate strings to log unless they'll actually get logged.
Typo
Move misplaced CHANGELOG entry
Missed the add
Send the correct INSERT statement when dealing with objects with only primary keys.  Closes #9523 [tarmo]
Only cache attributes which need it for performance reasons. Closes #9767 [skaes]
Test for each JSON fragment to workaround assumed hash ordering.
Simplify some JSON tests
Don't call attr_readonly on polymorphic belongs_to associations, in case it matches the name of some other non-ActiveRecord class/module.  [Rick]
Disambiguate Time, Date, and DateTime#to_json formatting. Closes #9750.
Bump versions for 1.2.4 release.
Remember these for the next release
Disabling auto_flushing still flushes when the buffer hits a maximum size, as a failsafe against memory-gobbling.
Tidy up framework initialization code to ensure that it doesn't add folders to the load path that it doesn't intend to require.
Hash#to_json takes :only or :except options to specific or omit certain hash keys. Enumerable#to_json passes through its options to each element. Closes #9751.
Try loading activerecord-<adaptername>-adapter gem before trying a plain require so you can use custom gems for the bundled adapters. Also stops gems from requiring an adapter from an old Active Record gem.
Explicitly convert the buffer array to a string before writing to head off compatibility issues with outputs that don't fully quack like an IO.
Some platforms include colon in timezone offset, some don't. References #9744.
BufferedLogger#auto_flushing = N flushes the log every N messages. Buffers with an array instead of string.
only create custom accessors for Kernel:: methods
Allow column accessors to be created even if Kernel. or Object# methods of the same name exist.
Move #query_string to AbstractRequest
rescue LoadError if memcache isn't available while loading the MemCache fragment store
Use #require_library_or_gem to load the memcache library for the MemCache session and fragment cache stores.  Closes #8662. [Rick]
Move ActionController::Routing.optimise_named_routes to ActionController::Base.optimise_named_routes.  Now you can set it in the config. ActionController::Routing::DynamicSegment#interpolation_chunk should call #to_s on all values before calling URI.escape.  [Rick]
Cache the descends_from_activerecord? call to speed up query generation. [skaes] Closes #9765
Ruby 1.9 compat, consistent load paths
db:create works with remote databases whereas db:create:all only createsdatabases on localhost. Closes #9753.
Add --prefix option to script/server when using mongrel. [dacat] Closes #9716
Removed calls to fixtures in generated tests as fixtures :all is now present by default in test_helper.rb [DHH]
A set secret causes trouble with the cookie store
Docfix (closes #9740) [chuyeow]
Add attr_readonly to specify columns that are skipped during a normal ActiveRecord #save operation. Closes #6896 [dcmanges]
Make size for has_many :through use counter cache if it exists.  Closes #9734 [xaviershay]
Don't implicitly assign instance variables by using them as block arguments
Remove DB2 adapter since IBM chooses to maintain their own adapter instead.
Extract Oracle, SQLServer, and Sybase adapters into gems.
Ruby 1.9 compat for instance method check in Mysql adapter.
Ruby 1.9 compat for hash_ext_test
Updated CHANGELOGs. They need to be filtered for duplicates
Updated
Updated
Mark Test::Unit#assert_difference incompatibility with Ruby 2 due to Proc#binding usage
Remind that you need a server restart for initializer defaults
Test::Unit#assert_difference Ruby 1.9 compat
JSON decoding Ruby 1.9 compat. Mark a section that's unnecessarily slow.
Ensure request is present, as well as defined. [nzkoz]
Failing counter cache test. References #6896.
Missing test
Re-enable Routing optimisation code for _url methods, add defined?(request) to the guard conditions
Moved the SourceAnnotationExtractor to a separate file in case libraries try to load the rails rake tasks twice. rspec_on_rails, I'm looking at you.  [Rick]
Better error messages if you leave out the :secret option for request forgery protection.  Closes #9670 [rick]
Add missing require
[7668] part deux (forgot to add the railties love to the mix)
Allow ability to disable request forgery protection, disable it in test mode by default.  Closes #9693 [lifofifo]
MySQL: change_column raises if the table or column doesn't exist.
BufferedLogger#add converts the message to a string. Closes #9724.
Added :include option to to_json (closes #9677) [chuyeow]
Added fixture caching thatll speed up a normal fixture-powered test suite between 50% and 100% (closes #9682) [frederick.cheung@gmail.com]
Dependencies Ruby 1.9 compat
send -> send! for some private methods
Alias Object#send to send! for Ruby 1.9 forward compatibility.
Convert the Ruby 1.9 enumerator to an array
Mark String#each_char test failing with Ruby 1.9
Extract InflectorTestCases so both inflector and string inflections tests can use them.
Object#copy_instance_variables_from Ruby 1.9 compat
Mark another Duration test failing with Ruby 1.9
Prefer class_eval with block to many sends for Ruby 1.9 compat
Hax to workaround private send for Ruby 1.9. Consider moving to send! and aliasing to send for < 1.9.
Use instance_variable_defined? instead of instance_variables.include? to account for string/symbol differences between 1.8 and 1.9
Backport Object#instance_variable_defined? for Ruby < 1.8.6.
Mark Duration test failing with Ruby 1.9
Date/Time/DateTime Ruby 1.9 compat
Change test for ruby 1.9 crash
Cleanup comment. References #9702, closes #9703.
Avoid calling is_missing on LoadErrors. Closes #7460.
BufferedLogger#add doesn't modify the message argument. Closes #9702.
Reinstate the default AR.instantiate_observers to_prepare block.
Move Railties' Dispatcher to ActionController::Dispatcher, introduce before_ and after_dispatch callbacks, and warm up to non-CGI requests.
Use the correct generator name in the docs (closes #9111) [ceefour]
Protect button_to behind protect_from_forgery (closes #9675) [lifo]
Include the tests
Add BufferedLogger#add #9667 [tomafro]
Please do remember
Added another failing test
Doh, forgot this file
Better failing tests
Added failing tests for iphone
Doof. Don't call it with false if it doesn't respond.
Skip test runner workaround only if Test::Unit is loaded. Closes #9671 [tomafro]
Added ActiveSupport::BufferedLogger as a duck-typing alternative (albeit with no formatter) to the Ruby Logger, which provides a very nice speed bump (inspired by Ezra's buffered logger) [DHH] Changed the default logger from Ruby's own Logger with the clean_logger extensions to ActiveSupport::BufferedLogger for performance reasons [DHH]. (You can change it back with config.logger = Logger.new(/path/to/log, level).)
Updated iphone_with_html_response_type to fail as it uses the new register_alias approach
Include the new 422 in the app generation
Change from InvalidToken to InvalidAuthenticityToken to be more specific
Stop rdoc from whining
Object#instance_exec produces fewer garbage methods.
Give a pointer on where to look for more
Added a default 422.html page to be rendered when ActiveRecord::RecordInvalid, ActiveRecord::RecordNotSaved, or ActionController::InvalidToken is raised [DHH]
Move rescue_action_with_handler from rescue_action to perform_action so it isn't clobbered by test overrides. References #9449, closes #9645.
Include asset host in public path cache key. Clear cache between asset tag tests.
protect new rails apps from csrf by default.
port over some of the csrf_killer README docs
Decode json strings as Dates/Times if they're using a YAML-compatible format.  Closes #9614 [Rick]
Beefed up docs a bit
Cache computed public asset paths.
Cache more file existence checks. Flip-flop escaping.
Cache file existence checks and the list of all stylesheet sources. Manually escape tag attributes.
The tag helper may bypass escaping.
Cache asset ids.
escape_once uses negative lookahead to avoid double-escaping instead of a second gsub
Optimized named routes respect AbstractRequest.relative_url_root. Closes #9612.
Follow our own conventions (closes #6506) [packagethief]
Dont need all of test/unit (closes #6673) [zenspider/josh]
Added --skip-fixture option to script/generate model (closes #6862) [sandofsky]
Remove , and ; (comma and semicolon) from routing separators again. References #8558.
Introduce ActionController::Base.rescue_from to declare exception-handling methods. Cleaner style than the case-heavy rescue_action_in_public. Closes #9449.
Rename some RequestForgeryProtection methods.  The class method is now #protect_from_forgery, and the default parameter is now 'authenticity_token'.  [Rick]
move TextHelper#sanitize config options to the TextHelper module so it can be included and used with any class, not just ActionView::Base
Revert [7574]. Closes #7521.
RailsFCGIHandler tests. Closes #9630.
Dispatcher tests. References #9630.
Object.subclasses_of includes anonymous subclasses.
Secure #sanitize, #strip_tags, and #strip_links helpers against xss attacks.  Closes #8877. [Rick, lifofifo, Jacques Distler]
Correctly quote id list for limited eager loading. Closes #7482.
Test fix (closes #6911)
More tests (closes #7066) [sethladd]
Skip svnindex.xsl files when installing plugins (closes #7070) [davidjrice]
self.fixture_class_names is defined twice in fixtures.rb (closes #7135) [jarkko]
Removed unnecessary or statement (closes #7158) [richcollins]
Improve tests (closes #7166) [zackchandler]
Improve tests (closes #7240) [josh]
Roll back #7578, tests failed
Improve the error message for assert_redirected_to (closes #7337) [sandofsky]
Print Rails version when starting console (closes #7440) [eyematz]
Added rake db:version to get the current schema version from the command line (closes #7521) [pelargir]
Disable the routing optimisation code when dealing with foo_url helpers.  Add test to actionmailer to expose the problem they introduced.  References #9450 [Koz]
Remove use of & logic operator. Closes #8114.
Docfix (closes #7593) [tarmo]
Added TEMPLATE option to rake doc:app to set a custom output template (closes #7737) [Jakob S]
Added VERBOSE option to rake db:migrate to turn off output #8204 [jbarnette]
Added call to inspect on non-string classes for the logger (closes #8533) [codahale]
Doc fixes (closes #8608) [deepblue]
Docfix (closes #8767) [kampers]
Allow frameworks to be required by their gem name (closes #8845) [drnic]
Doc fix (closes #9123) [tzaharia]
Use rel="stylesheet" in lowercase as prescribed by XHTML standards (closes #8910) [RSL]
Make date tests pass on 64-bit (closes #9121) [mutru]
Removed unused @join_sql reference (closes #9174) [danger]
Make tests run with mocha gem
Doc fix (closes #9203) [lazyatom]
Doc fix (closes #9259) [caio]
Doc fix (closes #9323) [Henrik N]
Doc fix (closes #9414) [Henrik N]
Test requirement fix (closes #9276) [lazyatom]
Plugin license and README should use a dynamic year (closes #9329) [bscofield]
Improved test coverage (closes #7571) [joost]
Remove last mentions of AWS from railties
Remove the AWS web_service generator
Added FormHelper#label (closes #8641) [jcoglan]
Added symbols as a legal way of specifying plugins in config.plugins (closes #9629) [tom]
Added the possibility of using symbols in addition to concrete classes with ActiveRecord::Observer#observe #3998 [robbyrussell/tarmo]
Changelog fix (closes #9610) [tzaharia]
Import the right database for testing (closes #9589) [lawrence]
Test CGI::Cookie#to_s. Closes #9624 [tarmo]
Increase test coverage (closes #8699, #8700) [josh]
Added the :all option to config.plugins thatll include the rest of the plugins not already explicitly named (closes #9613) [fcheung]
Removed deprecated task names, like clear_logs, in favor of the new namespaced style [DHH]
Added AtomFeedHelper (slightly improved from the atom_feed_helper plugin) [DHH]
Forgotten changelog entry
Prevent clashing named routes when using uncountable resources.  Closes #9598
Added support for HTTP Only cookies (works in IE6+ and FF 2.0.5+) as an improvement for XSS attacks (closes #8895) [lifo/Spakman]
Submit missing fixture files
Don't warn when a path segment precedes a required segment. Closes #9615.
Stress that you should really install the C-based MySQL library when running on the pure Ruby one (closes #9507)
Added that render :json will automatically call .to_json unless its being passed a string [DHH] Added Mime::Type.register_alias for dealing with different formats using the same mime type [DHH]
Added ActiveRecord::Base#to_json/from_json (currently does not support :include like to_xml) [DHH]. Added ActiveRecord::Base#from_xml [DHH]
Added ActiveResource.format= which defaults to :xml but can also be set to :json [DHH]. Added one-off declarations of mock behavior [DHH]
Updated some docs to reference the latest and greatest and played style nazi a little
Autolink behaves well with emails embedded in URLs. Closes #7313.
Revert [7397]. Reopens #7313.
ERB::Util#html_escape creates fewer objects
tag_options creates fewer objects
Stop users from calling .create on a has_many / habtm association when the owner is a new_record?
Define dynamic finders as real methods after first usage. Close #9317
Deprecation: remove deprecated threaded_connections methods. Use allow_concurrency instead.
Deprecation: remove deprecated :mday option from Time, Date, and DateTime#change.
Support multiple config.after_initialize blocks so plugins and apps can more easily cooperate. Closes #9582.
Hash#to_xml doesn't double-unescape. Closes #8806.
Associations macros accept extension blocks alongside modules. Closes #9346.
Don't worry about retrieving the last inserted id. [tarmo_t]
Added security notice to Request#remote_ip underlining the fact that its value can be spoofed (and that you should use Request#remote_addr if thats a concern for your application) [Adrian Holovaty]
Disable optimisation code for UrlWriter as request.host doesn't make sense there.
Ensure that custom mutators aren't redefined by define_attribute_methods. [Koz]
Speed up and simplify query caching.
connection.select_rows 'sql' returns an array (rows) of arrays (field values). Closes #2329.
Typo
Avoid RDoc warning
Eager loading respects explicit :joins. Closes #9496.
Extract Firebird, FronBase, and OpenBase adapters into gems. Closes #9508, #9509, #9510.
RubyGem database adapters: expects a gem named activerecord-<database>-adapter with active_record/connection_adapters/<database>_adapter.rb in its load path.
Missing file from previous patch
Added db:drop:all to drop all databases declared in config/database.yml [DHH]
Added Array#rand (closes #9170) [norbert]
Added block-acceptance to JavaScriptHelper#javascript_tag (closes #7527) [BobSilva/tarmo/rmm5t]
Inform people that were using the cookie store as default and a caveat
root_path returns '/' not ''. Closes #9563.
Add option to force binary mode on tempfile used for fixture_file_upload. Closes #6380.
Missed Reloadable bits and pieces
Some 1.9 forward compatibility
Deprecation: removed Reloadable.
OpenBase: update for new lib and latest Rails. Support migrations. Closes #8748.
minor speedups + forward-compat syntax
Trips up the RDoc generation
minor speedup
Tidy up link to remote options. Closes #9505. [nik.wakelin]
Remove unused HashCaching
Purge empty files
Remove empty macros
Kill lingering acts
Remove empty acts
Don't raise superfluous exception on test failure.
Moved acts_as_tree into a plugin of the same name on the official Rails svn (closes #9514) [lifofifo]
Moved acts_as_nested_set into a plugin of the same name on the official Rails svn (closed #9516) [josh]
Moved ActionController::Macros::AutoComplete into the auto_complete plugin on the official Rails svn #9512 [lifofifo]
Remove broken require
Remove acts_as_list.  Users are advised to install the new plugin.  References #9415. [josh, nzkoz]
Moved ActionController::Macros::InPlaceEditing into the in_place_editor plugin on the official Rails svn (closes #9513) [lifofifo]
Remove the wrapping feature that was never actually turned into something real [DHH]
Removed outdated benchmarks and examples
Random hits from the style nazi
Random hits from the style nazi
Removed deprecated form of calling xml_http_request/xhr without the first argument being the http verb [DHH]
Removed deprecated ActionController::Base.cookie (use ActionController#Base.cookies[]= instead)
Removed deprecated ActionController::Base.cookie (use ActionController#Base.cookies[]= instead)
Removed the deprecated behavior of appending ".png" to image_tag/image_path calls without an existing extension [DHH]
Removed the deprecated behavior of appending ".png" to image_tag/image_path calls without an existing extension [DHH]
Scaffolding is no longer mixed in
Scaffolding is no longer mixed in
Removed ActionController::Base.scaffold -- it went through the whole idea of scaffolding (card board walls you remove and tweak one by one). Use the scaffold generator instead (it does resources too now!) [DHH]
Removed ActionController::Base#keep_flash (use flash.keep instead)
Removed deprecated ActionController::Base#expire_matched_fragments (just call expire_fragment with a regular expression)
Removed the deprecated ActionController#Base.template_root/= methods (use ActionController#Base.view_paths/= instead) [DHH]
Update copyright span
The examples are outdated and misleading
Rename fieldset_tag to field_set_tag to follow the conventions from text_area and text_field [DHH]
Use attribute pairs instead of the migration name to create add and remove column migrations.  Closes #9166 [lifofifo]
Optimise named route generation when using positional arguments.  Closes #9450 [Koz]
Explicitly require active_record/query_cache before using it.
Add a user_agent to TestRequest
Remove deprecated named routes [pixeltrix]
Add fieldset_tag for generating fieldsets, closes #9477. [djanowski]
Allow additional parameters to be passed to named route helpers when using positional arguments.  Closes #8930 [ian.w.white@gmail.com]
Add credit where due.  References #8446
Add :allow_blank to validations. Like allow_nil, but for values which are +blank?+. [jnoon] Closes #7383
Work around mysql limitations for defaults on text columns with not null.  Closes #9324 [caio]
Add missing changelog entry
Remove deprecated functionality from actionpack.  Closes #8958 [lifofifo]
Remove deprecated functionality from edge rails.  Closes #9387 [lifofifo]
Allow Float#round to take a precision argument.  Closes #8626 [norbert]
 Add array support to remote_form_for for polymorphic urls. Closes #8654 [jade]
Ensure QueryCache doesn't try to dup numeric results (does not affect the major OS database). Closes #7661 [tomafro, nzkoz]
Make auto link behave well with URLs containing email addresses. Closes #7313 [jeremymcnally]
Properly quote the arguments to visual_effect. Closes #7220 [jeremymcanally]
Remove duplication in test_help.rb Closes #3328 [jarkko]
Documentation tweaks and fixes. Closes #9454 [sur, kampers]
request.host works with IPv6 addresses. Closes #9458.
Performance: absorb instantiate and initialize_with_callbacks into the Base methods.
Remove commented out test which refers to old code, old bugs and uses ObjectSpace in a nasty way.  [nzkoz]
Use mocha to avoid the sleep calls in the compiled_template tests. [tarmo] Closes #9372
Only reload routes.rb if its been modified.  [Dreamer3]
Formatting, grammar and spelling fixes for the associations documentation. [seanhussey] Closes #8899
Formatting and grammatical fixes for the acts_as_* documentation [seanhussey, kampers] Closes #9107
Pass the right binding when string is passed to :if with validations. [caspercg] Closes #9300
Use extract_options instead of ad-hoc partial implementations. [norbert] Closes #9313
Improve documentation for ActionController::Helpers [jardeon] Closes #9359
Remove unnecessary loop in validates_presence_of. [sur] Closes #9392
Make sure create! raises errors on validation when creating multiple records. [hasmanyjosh] Closes #8952
Back out of [7300] -- it screwed up nested XML
correct the ActionCacheTest from [7346]
Add missing sentence
Improve url_for documentation for ActionController::Base and UrlRewriter.  Closes #9022. Closes #9077.  [juanjo.bazan]
Improve performance and functionality of the postgresql adapter.  Closes #8049 [roderickvd]
Don't clobber :includes passed to count on has_many association. Closes #9175 [danger]
Make sure has_many associations honour :include when counting. Closes #9167 [danger]
add missing layouts from [7321]
Find layouts even if they're not in the first view_paths directory.  Closes #9258 [caio]
Add forgotten changelog entry
Change the implementation of ActiveRecord's attribute reader and writer methods:  * Generate Reader and Writer methods which cache attribute values in hashes.  This is to avoid repeatedly parsing the same date or integer columns.  * Move the attribute related methods out to attribute_methods.rb to de-clutter base.rb  * Change exception raised when users use find with :select then try to access a skipped column.  Plugins could override missing_attribute() to lazily load the columns.  * Move method definition to the class, instead of the instance  * Always generate the readers, writers and predicate methods.
Send freshness information when sending Etags.  Without this internet explorer will not send conditional gets for a resource, but instead hold on to the responses for the current browser session.
Ignore processing instructions when parsing html
Raise ActiveResource::Redirection on 301,302 http code
Make habtm respect the :select option. Closes #9207. [Aleksey Kondratenko]
Let inspect on AR classes work when the table doesn't exist. Closes #9194 [tarmo, nzkoz]
 Major improvement to the documentation for the options / select form helpers. Closes #9038 [kampers, jardeon, wesg]
Performance enhancement for Base.exists?.  CLoses #8769. [hasmanyjosh]
Make the utf-handler return the correct value for non-matching regular expressions. Closes #9049 [manfred]
 Add ljust, rjust and center to utf8-handler. Closes #9165 [manfred]
Added partial layouts (see example in action_view/lib/partials.rb) [DHH]
Add support for []= on ActiveSupport::Multibyte::Chars. Closes #9142. [ewan, manfred]
dont call #collect on a string when returning query cache results.  Closes #9099 [norbert]
Perform a deep #dup on query cache results so that modifying activerecord attributes does not modify the cached attributes.  [Rick]
Ensure that has_many :through associations use a count query instead of loading the target when #size is called.  Closes #8800 [lifo]
tiny doc patches [lifo]
misc doc fixes + Add ActiveResource to Rails::Info.  Closes #8741, #9008, #9089 [kampers]
Allow you to set custom :conditions on resource routes.  [Rick]
Use Gem.find_name instead of search when freezing gems.  Prevent false positive for other gems with rails in the name. Closes #8729 [wselman]
Refactored in use of extract_options! (closes #9079) [josh]
Added Array#extract_options! to encapsulate the pattern of getting an options hash out of a variable number of parameters (closes #8759) [norbert]
Automatically generate add/remove column commands in specially named migrations like AddLocationToEvent.  Closes #9006 [zenspider]
Added :unless clause to validations (closes #8003) [monki]
assert_difference belongs in Assertions, not forced onto TestCase (closes #8894) [norbert]
Its just ERb now
* url_for now accepts a series of symbols representing the namespace of the record [Josh Knowles]. Closes #8640
fix one line formatting bug
Let alias_attribute work with attributes with initial capital letters (legacy columns etc).  Closes #8596 [mpalmer]
Introduce fake_models.rb to avoid platform-specific code. [mpalmer] Closes #8714
Remove deprecated count(conditions=nil, joins=nil) usage.  Closes #8993 [lifofifo]
Change belongs_to so that the foreign_key assumption is taken from the association name, not the class name.  Closes #8992 [hasmanyjosh]
Remove spurious tests from deprecated_associations_test, most of these aren't deprecated, and are duplicated in associations_test.  Closes #8987 [lifofifo]
 Make :trailing_slash work with query parameters for url_for. Closes #4004 [nov]
Default to plural table name in Rails Generator if ActiveRecord is not present.  Closes #8963 [evan]
 Make create! on a has_many :through association return the association object.  Not the collection.  Closes #8786 [lifofifo]
Make sure missing template exceptions actually say which template they were looking for.  Closes #8683 [dasil003]
Allow for optional messages on assert_difference [nicwilliams] Closes #8928
Support for non heterogeneous arrays when serializing to xml. Unless guessable from array name the type name will be included as attribute
Added Hash#except which is the inverse of Hash#slice -- return the hash except the keys that are specified [DHH]
Make [7169] work as expected with indented XML.
Include empty has_many/has_and_belongs_to_many associations as empty array tags when serializing to XML
Don't blow up when using nested fields_for and the source object is nil
Move from select * to select tablename.* to avoid clobbering IDs. Closes #8889 [dasil003]
Allow you to delete cookies with options. Closes #3685 [josh, Chris Wanstrath]
Allow you to render views with periods in the name.  Closes #8076 [norbert]
Don't call unsupported methods on associated objects when using :include, :method with to_xml [manfred, jwilger] Closes  #7307
Temporary fix for formatted_polymorphic_urls and other polys that have additional options (need better testing!)
Allow symbols as name
Drop the trailing slash
Added rake routes for listing all the defined routes in the system (closes #8795) [josh]
Improve capture helper documentation. Closes #8796.
db:create creates the database for the current environment if it's on localhost. db:create:all creates local databases for all environments. Closes #8783.
Add the type="array" moniker to has_many / has_and_belongs_to_many associations upon serialization.
Generators: look for generators in all gems, not just those suffixed with _generator, in the gem's generators or rails_generators directory. Allow use of the rails_generators directory instead of the standard generators directory in plugins also. Closes #8730.
Prefix nested resource named routes with their action name, e.g. new_group_user_path(@group) instead of group_new_user_path(@group). The old nested action named route is deprecated in Rails 1.2.4. Closes #8558.
Define collection singular ids method for has_many :through associations. Closes #8763.
Array attribute conditions work with proxied association collections. Closes #8318.
Allow sweepers to be created solely for expiring after controller actions, not model changes [DHH] Added assigns method to ActionController::Caching::Sweeper to easily access instance variables on the controller [DHH]
Give the legacy X-POST_DATA_FORMAT header greater precedence during params parsing for backward compatibility.
Improve various test coverage. Closes #8676 [kamal]
MySQL, PostgreSQL: database.yml defaults to utf-8. Closes #8701.
Added db:version to get the current schema number [via Err The Blog]
Added db:version to get the current schema number [via Tim Bray]
Missing test
Added --skip-migration option to scaffold and resource generators (closes #8656) [Michael Glaesemann]
Docfix (closes #8096)
Massive documentation update for all helpers (closes #8223, #8177, #8175, #8108, #7977, #7972, #7971, #7969) [jeremymcanally]
Docfix (closes #8353)
Docfix (closes #8480)
Docfix (closes #8518)
Docfixes (closes #7348, #7778, #8669)
Docfix (closes #8674)
Docfix (closes #8321)
Docfix (closes #8585)
Big documentation upgrade for ARes (closes #8694) [jeremymcanally]
Docfix (closes #8715)
Added support for pluralization with a different starting letter than the singular version (cow/kine) (closes #4929) [norri_b/hasmanyjosh]
Be specific about the Ruby on Rails part
Mock the beginning of the transaction also. References #8642.
Rollback if commit raises an exception. Closes #8642.
Demote Hash#to_xml to use XmlSimple#xml_in_string so it can't read files or stdin. Closes #8453.
Remove deprecated Hash#create_from_xml. Use Hash#from_xml.
Don't mistakenly interpret the request uri as the query string. Closes #8731.
Ensure clean_logger fixes are 1.8.2 compatible [mislav] Closes #8396
Update tests' use of fixtures for the new collections api. Closes #8726.
Save associated records only if the association is already loaded. Closes #8713.
Added proper handling of arrays. Closes #8537 [hasmanyjosh]
MySQL: fix show_variable. Closes #8448.
Increase mail delivery test coverage. Closes #8692.
Ensure that post and put requests pass in Content-Length to the server.
remove extra debug line.  Closes #8681 [Giles Bowkett]
Make ActionView#view_paths an attr_accessor for real this time.  Also, don't perform an unnecessary #compact on the @view_paths array in #initialize.  Closes #8582 [dasil003, julik, rick]
Only change date to beginning of month if it isn't nil.
Oh please. References #8646.
Maybe passing an explicit offset mollifies CIA. References #8646.
Improve Time and Date test coverage. Closes #8646.
Improve UrlRewriter tests. Improve helper test coverage. Closes #7207, #7208, #7212.
Improve helper test coverage. Closes #7215, #7233, #7234, #7235, #7236, #7237, #7238.
Take advantage of Mocha support for sequenced returns. Closes #8639 [Josh Peek]
Remove deprecated quote methods, replaced by quote_value so quote can be used as an attribute name.
Remove deprecated find_first and find_all.
Remove deprecated push_with_attributes.
Manfred had already patched the same issue. References #6946.
Deprecation: remove pagination. Install the classic_pagination plugin for forward compatibility, or move to the superior will_paginate plugin. Closes #8157.
Get picky about weird Ruby style.
Scaffolded validation errors set the appropriate HTTP status for XML responses. Closes #8622.
Remove ActiveResource::Struct because it hasn't proven very useful. Creating a new ActiveResource::Base subclass is often less code and always clearer. Closes #8612.
Routing: improve static segment test coverage.  #7117 [Kevin Clark]
Test javascript_tag. Closes #7239.
Clean up junk test. Closes #7973 [Rob Sanheim]
Action caching is limited to GET requests returning 200 OK status. Closes #3335.
Missed svn adds. References #7534.
Improve Text Helper test coverage. Closes #7274.
Improve Action View test coverage. Closes #7241, #7243, #7244.
Rollback [6961] which breaks SQLite tests. Reference #7345.
Quote db path so SQLite AR tests work on Windows. Closes #5278 [mislav@nippur.irb.hr]
Test periodically_call_remote with frequency. Closes #7244 [Rich Collins]
Register alternative template engines using ActionMailer::Base.register_template_extension('haml'). Closes #7534.
Migrations: raise if a column is duplicated. Closes #7345.
More nested polymorphic url helper fixes. Closes #6432, references #8601.
Resources: url_for([parent, child]) generates /parents/1/children/2 for the nested resource. Likewise with the other simply helpful methods like form_for and link_to. Closes #6432.
Assume html format when rendering partials in RJS. #8076 [Rick]
revert [6924]
Migrations: report the number of rows affected when calling insert, update, delete, etc.
Don't double-escape url_for in views. Closes #8144.
Remove junk form helper test. Closes #8416 [eric_oconnell]
Sexy migrations for the session_migration generator. Closes #8561.
Add Date#since, ago, beginning_of_day, and end_of_day. Date + seconds works now. Closes #8575.
String#to_time overflows to DateTime. Add String#to_datetime. Closes #8572.
Date.yesterday and .tomorrow. Closes #8571.
Readable Date and DateTime#inspect. Closes #8570.
Allow JSON-style values for the :with option of observe_field.  Closes #8557 [kommen]
Enhance assert_difference to accept arrays of strings which are then evaled
pass the prefix_options to the instantiated record when using find without a specific id. Closes #8544 [alloy]
Added proper handling of arrays (closes #8537) [hasmanyjosh]
Remove RAILS_ROOT from backtrace paths. Closes #8540.
Routing: map.resource :logo routes to LogosController so the controller may be reused for multiple nestings or namespaces.
Move common DateTime calculations to Date. Closes #8536.
render :partial recognizes Active Record associations as Arrays. Closes #8538.
Calculations support non-numeric foreign keys. Closes #8154.
Missing helper load error shouldn't shadow load errors within the helper itself.
Base.inspect handles Base itself and abstract_class?  Don't use #<Foo ...> since that notation's typically used for instances of a class, not the class itself. Closes #8490 [deepblue]
Added Date#change (like Time#change) [DHH]
with_scope is protected. Closes #8524.
Quickref for association methods. Closes #7723.
Calculations: return nil average instead of 0 when there are no rows to average. Closes #8298.
acts_as_nested_set: direct_children is sorted correctly. Closes #4761.
DateTime#to_time converts to Time unless out of range. Date#to_datetime and Date#to_s(:rfc822). Closes #8512.
Time durations use since instead of + for accuracy. Closes #8513.
Skip databases that couldn't be created.
Don't choke on nested helpers.
Missed svn add from [6897]. References #8393.
Console reload! runs to_prepare callbacks also. Closes #8393.
Raise an exception if both attr_protected and attr_accessible are declared. Closes #8507, #6004.
fix test cases to match new json output.  Closes #8371
escape <'s and >'s in JSON strings. #8371 [Rick]
Workaround test isolation failure with Task.attr_protected :starting.
Typo in PostgreSQL change_column quoting. References #8466.
Missed Oracle rename_column quoting. References #8466.
SQLite, MySQL, PostgreSQL, Oracle: quote column names in column migration SQL statements. Closes #8466.
Routing: drop semicolon and comma as route separators.
Correct flash discard rdoc. Closes #8502 [kampers]
Inflections: MatrixTest -> MatrixTests instead of MatricesTest. Closes #8496.
Update CHANGELOG attribution.
Wordsmith generator USAGEs.
Generated migrations include timestamps by default. Closes #8501.
Multibyte strings respond_to the String methods they proxy so they can be duck-typed. Closes #6549.
Generate rdoc with utf-8 charset. Closes #7188 [manfred, jferris]
Allow nil serialized attributes with a set class constraint.  #7293 [sandofsky]
Test that DateTime are quoted as DateTime not Date. Closes #8364 [chas]
request.remote_ip understands X-Forwarded-For addresses with nonstandard whitespace. Closes #7386.
Don't croak if ruby-debug isn't installed.
Don't prepare response when rendering a component. Closes #8493.
Add Active Resource to rails:freeze:edge and drop Action Web Service. Closes #8205.
Reduce file stat calls when checking for template changes. Closes #7736.
Remove unused resource generator templates obviated by [6841]. Closes #8487 [shane]
Normalize whitespace. Closes #8385 [Time Pope]
Added custom path cache_page/expire_page parameters in addition to the options hashes [DHH]
Action Caching speedup.  #8231 [skaes]
Ensure compiled template tests pass on windows where there are no symlinks. [skaes]
Wordsmith resources documentation. Closes #8484.
Recognize and raise an exception on 405 Method Not Allowed responses. Closes #7692.
Routing: respond with 405 Method Not Allowed status when the route path matches but the HTTP method does not. Closes #6953.
Add support for assert_select_rjs with :show and :hide. #7780 [dchelimsky]
Make assert_select's failure messages clearer about what failed. #7779 [dchelimsky]
Oracle binary fixtures; pull fixture insertion into the adapters. Closes #7987.
Array#to_xml yields the builder just like Hash and ActiveRecord::Base. Closes #8472.
Missed svn add from [6856]. References #8174.
Introduce a default respond_to block for custom types. Closes #8174.
Announce migration versions as they're performed.
DateTime uses Time formats. Closes #8476.
SQLite: db:create and drop
find gracefully copes with blank :conditions. Closes #7599.
auto_complete_field takes a :method option so you can GET or POST. Closes #8120.
validates_numericality_of takes :greater_than, :greater_than_or_equal_to, :equal_to, :less_than, :less_than_or_equal_to, :odd, and :even options. Closes #3952.
Add db:create, drop, reset, charset, and collation tasks. Closes #8448.
MySQL: create_database takes :charset and :collation options. Charset defaults to utf8. References #8448.
Test that #to_xml takes a block. Closes #8471. [seth]
Typo in [6845]. References #8437.
Find with a list of ids supports limit/offset. Closes #8437.
Date, Time, and DateTime support formatting blocks in addition to strftime strings. Introduce :long_ordinal format, e.g. 'February 21st, 2005'. Closes #8191.
Optimistic locking: revert the lock version when an update fails. Closes #7840. Also return the number of affected rows instead of true.
Migrations: add_column supports custom column types. Closes #7742. First-patch cheers to jsgarvin\!
Also remove the duplicated unit test template. References #7222.
Scaffold generator depends on model generator instead of duplicating it. Closes #7222.
Missed commit from [6833]. References #8456.
Test reconnection after MySQL client timeout. References #428.
Call the newly generated read method after generating it. Closes #8470.
Load database adapters on demand. Eliminates config.connection_adapters and RAILS_CONNECTION_ADAPTERS. Closes #8456.
Include some missing fixtures. Closes #7981.
Add multipart request parsing test with bracketed parameter key. References #8449.
Added option to suppress :size when using :maxlength for FormTagHelper#text_field #3112 [rails@tpope.info]
Don't alias local var
update changelog too
Ensure that associations with :dependent => :delete_all respect :conditions option.  Closes #8034 [danger, joshpeek, Rick]
catch possible WSOD when trying to render a missing partial. Closes #8454 [Catfish]
Scaffold generator tests. Closes #8443.
Set RAW_POST_DATA when request parameters are parsed.
Extend the view instance directly instead of mucking with anonymous subclasses.
Don't play with fire (anonymous class and returning block).
Don't load observers if Active Record isn't loaded.
whiny nil shouldn't depend on Active Record
Revert [6811]. Should be fixed instead of selectively reintroducing the deprecated environment variable.
Rewind request body after reading it, if possible. Closes #8438.
Set RAW_POST_DATA in integration tests as expected
Rescuing in around_filters works as expected again [codahale, Stephan Kaes]. Closes #8341
Initializers are now loaded consistently sorted by name. Closes #8343
Generated scaffold functional tests use assert_difference. Closes #8421.
Strip junk whitespace from [6806].
Resource namespaces are inherited by their has_many subresources. Closes #8280.
belongs_to assignment creates a new proxy rather than modifying its target in-place. Closes #8412.
forgot binary fixture
Integration tests: alias xhr to xml_http_request and add a request_method argument instead of always using POST. Closes #7124.
Document Object#blank?. Closes #6491.
Document deep eager includes. Closes #6267.
Revert [4706] which added incorrect docs. References #5684.
Document caches_action. Closes #5419.
Update to Prototype 1.5.1
Allow routes to be declared off namespaces
Update edge to script.aculo.us to 1.7.1_beta3
belongs_to doesn't go :through. Closes #4961.
observe_form always sends the serialized form. Closes #5271.
Include location header in args.
Date, Time, and DateTime#to_json. Closes #8399.
Silence some warnings.
Correct rdoc link to OracleAdapter. Closes #5289.
Docs: warn that associations names shouldn't be reserved words. Closes #4378.
Clarify :offset docs. Closes #3733.
We changed name to scaffold
We dont use semicolon any more
Pay tribute to timezones. Tune #inspect style.
Remove dev exception.
Parse url-encoded and multipart requests ourselves instead of delegating to CGI.
select :include_blank option can be set to a string instead of true, which just uses an empty string. Closes #7664.
Sanitize Base#inspect. Closes #8392.
Pass stdinput to super.
Oops.
Ensure that the BigDecimal assertions aren't run for sqlite3, which doesn't support the precision correctly
Replace the transaction {|transaction|..} semantics with a new Exception ActiveRecord::Rollback.  Closes #8030  [Koz]
Clean up the simply_helpful merge.
Added url_for usage on render :location, which allows for record identification [DHH] (still need to figure out why that test doesnt pass, seems like a test issue)
A few more fixes
Allow nested namespaces in routing
Updated with the latest tricks
Scaffold resource is now scaffold
Make way for the new and improved scaffold
Add multipart and url-encoded form mime types.
Simplify CgiRequest#query_parameters
Move request parameter parsing from CGI to AbstractRequest.
Lazy-read request.raw_post from request.body
Introduce the request.body stream. Lazy-read to parse parameters rather than always setting RAW_POST_DATA. Reduces the memory footprint of large binary PUT requests.
Oracle: extract column length for CHAR also. Closes #7866.
Add some performance enhancements to ActionView.
add test case for js.erb partials on *.js formatted requests
Assume that rendered partials go by the HTML format by default
Shine some sunlight on the CGI extensions. Remove unused CGI#session.
Non-executable source files.
Added record identifications to FormHelper#form_for and PrototypeHelper#remote_form_for [DHH]
Rationalize route path escaping according to RFC 2396 section 3.3. Closes #7544, #8307.
Removed deprecated parameters_for_method_reference concept (legacy from before named routes) [DHH] Added record identification with polymorphic routes for ActionController::Base#url_for and ActionView::Base#url_for [DHH]
Add broken test
Add ActionController::Routing::Helpers, a module to contain common URL helpers such as polymorphic_url.
Ensure copy table test runs for sqlite and sqlite3. [mislav] Cllosoes #8328
Sexy dumper now has its groove on (closes #8281) [Chris Wanstrath]
don't assume the http authorization header will be nil, since some configurations will pass it through as an empty string
Handle string and symbol param keys when splitting params into prefix params and query params.
Evaluate expression for assert_difference in the scope of the block
Rendering is protected
Included the HttpAuthentication plugin as part of core (ActionController::HttpAuthentication::Basic) [DHH]
Simplify API of assert_difference by passing in an expression that is evaluated before and after the passed in block. See documenation for examples of new API. [Marcel Molina Jr.]
Generators use *.html.erb view template naming. Closes #8278.
Modernize documentation for form helpers. Closes #8035. [jeremymcanally]
Minor wording tweak to documentation for the debug helper. Closes #8037. [jeremymcanally]
Document :allow_nil option for validates_acceptance_of since it defaults to true. Closes #8050. [tzaharia]
Update documentation for :dependent declaration so that it explicitly uses the non-deprecated API. Closes #8069. [danger]
Add documentation caveat about when to use count_by_sql. Closes #8090. [fearoffish]
Also add documentation enhancements for increment_counter. Closes #8092. [fearoffish]
Enhance documentation for decrement_counter. Closes #8093. [fearoffish]
Provide brief introduction to what optimistic locking is. Closes #8097. [fearoffish]
Add brief introduction to REST to the resources documentation. Closes #8100. [fearoffish]
Add documentation for :encoding option to mysql adapter. Closes #8219 [marclove]
Enhance documentation and add examples for url_for. Closes #8227. [jeremymcanally]
More documentations for typos in routes. Closes #8228 [pam]
Sweep flash when filter chain is halted. Closes #6175.  [Caio Chassot <lists@v2studio.com>]
Bug fix for the filter implementation
Use assert_match instead of String#include? so we can get helpful error messages on failure
Added short-hand declaration style to migrations (inspiration from Sexy Migrations, http://errtheblog.com/post/2381) [DHH] Updated resource_scaffold and model generators to use short-hand style migrations [DHH]
Make respond_to? work as expected
Change Base#to_xml to take the name for a container element for an association from the element name, not the first record's class name.  Closes #7004
Try the class itself if the ancestor doesnt have anything
Replace the current block/continuation filter chain handling by an implementation based on a simple loop.  #8226 [Stefan Kaes]
Update UrlWriter to accept :anchor parameter. Closes #6771.
Added assert_difference and assert_no_difference to test/unit assertions
BACKWARDS INCOMPATIBLE: Changed the finder API to be more extensible with :params and more strict usage of scopes [DHH] Added find-one with symbol [DHH]
Added the first part of Simply Helpful to core. The rest is pending a clean integartion of polymorphic urls [DHH]
You're dead! We killed you!
Include sub-resources example
Updated initializer to only load #{RAILS_ENV}.rb once. Added deprecation warning for config.breakpoint_server.
change #custom_headers to just #headers [Rick]
Add support for setting custom headers per ActiveResource model [Rick]
Start in irb mode if possible
Removed breakpointer and Binding.of_caller in favor of relying on ruby-debug by Kent Sibilev since the breakpointer has been broken since Ruby 1.8.4 and will not be coming back [DHH]
Added find-by-path options to ActiveResource::Base.find [DHH]
Added map.namespace to deal with the common situation of admin sections and the like [DHH]
Added test case for overwritting the name prefix
Name prefix should nest like path prefix
Actually make the name_prefix work like the previous checkin said it would
Added :has_many and :has_one for declaring plural and singular resources beneath the current [DHH] Added :name_prefix as standard for nested resources [DHH]
Added support for using classes from within a single nested module [DHH]
Added load_attributes_from_response as a way of loading attributes from other responses than just create [DHH]
The find should instantiate real objects, not return hashes
Added support for calling custom methods #6979 [rwdaigle]
Pull file from xml value only if it's a Hash. Closes #8190.
XML values can be nil
Improve Performance of calling create on has_many :through associations by avoiding loading the target collection. Closes #8150 [evan]
Resource scaffolding returns the created entity.to_xml.
Resource scaffolding responds to new.xml. Closes #8185.
Added parsing of file type in Hash.xml_in so you can easily do file uploads with base64 from an API [DHH]
Include default route for formats
Don't require AWS test_invoke in railties test helper [blaine]
Added that render :xml will try to call to_xml if it can [DHH]
Removed default WSDL route now that AWS is debundled from Rails
Added :location option to render so that the common pattern of rendering a response after creating a new resource is now a 1-liner [DHH]
Improved performance by relying less on exception raising #8159 [Blaine]
dont bother merging in prefix_options
why oh why do i always forget to save the changelog
Remove explicit prefix_options parameter for ActiveResource::Base#initialize.  Allow ActiveResource::Base.delete with custom prefix.  Add ActiveResource::Base#dup [Rick]
Include Active Resource in rails:freeze:edge rake task
Stringify rendered text unless it's a Proc object for streaming.
Expect string response body.
oops!  forgot new layout for layout tests
Dont insert search parameters into the object
It is activeresource, silly
Only include relevant files
Include Active Resource instead of Action Web Service [DHH]
Added ActiveRecord::Base.inspect to return a column-view like #<Post id:integer, title:string, body:text> [DHH]
Run with the latest versions so beta gems will work
Ensure that render_text only adds string content to the body of the response [DHH]
Use XSD-compatible type names for Hash#to_xml and make the converters extendable #8047 [Tim Pope]
apply [6543] to edge. Closes #5044 [tpope]
Added yielding of builder in Hash#to_xml [DHH]
Introduce RELATIVE_RAILS_ROOT and changed spawner script to use it. Prior to this change spawner would assume the non symlinked deploy directory which made reaper reload the wrong code after further deployments.
Tweak template format rules so that the ACCEPT header is only used if it's text/javascript.  This is so ajax actions without a :format param get recognized as Mime::JS. [Rick]
Added yielding of Builder instance for ActiveRecord::Base#to_xml calls [DHH]
remove useless mock test
The default respond_to blocks don't set a specific extension anymore, so that both 'show.rjs' and 'show.js.rjs' will work. [Rick]
Allow layouts with extension of .html.erb.  Closes #8032 [Josh Knowles]
script/console quotes RAILS_ROOT in irb command line so it works with spaces in the path. Closes #7955.
Removed ill faded xml_node class from codebase. Use XmlSimple instead
Only load ActionController::UrlWriter if ActionController is present [Rick Olson]
add #view_paths attr_accessor for ActionView::Base
add tip on keeping backwards compatibility
Change default respond_to templates for xml and rjs formats. [Rick]
Change ActionView template defaults.  Look for templates using the request format first, such as show.html.erb or show.xml.builder, before looking for the old defaults like show.erb or show.builder [Rick]
add ActionView::Base#find_template_extension_for tests
Highlight helper highlights one or many terms in a single pass.
Canonicalize configuration.root_path and replace RAILS_ROOT.
Dropped the use of ; as a separator of non-crud actions on resources and went back to the vanilla slash. It was a neat idea, but lots of the non-crud actions turned out not to be RPC (as the ; was primarily intended to discourage), but legitimate sub-resources, like /parties/recent, which didn't deserve the uglification of /parties;recent. Further more, the semicolon caused issues with caching and HTTP authentication in Safari. Just Not Worth It [DHH]
Improved the handling of broken accept headers
Added that FormTagHelper#submit_tag will return to its original state if the submit fails and you're using :disable_with [DHH]
documentation project patches, closes #7342, #7319, #7316, #7190 [jeremymcanally]
Add helpful debugging info to the ActiveRecord::StatementInvalid exception in ActiveRecord::ConnectionAdapters::SqliteAdapter#table_structure.  Closes #7925. [court3nay]
Make sure the expiry hash is built by comparing the to_param-ized values of each hash
Allow configuration of the default action cache path for #caches_action calls.  [Rick Olson]
SQLite: binary escaping works with ='u'. Closes #7862.
Never return nil from CGI#read_query for compatibility with plain CGI query params parser. Closes #7581.
Deprecation: remove components from controller paths.  Canonicalize RAILS_ROOT by using File.expand_path on Windows, which doesn't have to worry about symlinks, and Pathname#realpath elsewhere, which respects symlinks in relative paths but is incompatible with Windows. Closes #6755.
Hash#to_xml supports YAML attributes; ActiveRecord::Base#to_xml support serialized attributes. Closes #7502.
Refactor ActiveSupport::JSON to be less obtuse.  Add support for JSON decoding by way of Syck with ActiveSupport::JSON.decode(json_string).  Prevent hash keys that are JavaScript reserved words from being unquoted during encoding.
alias_method_chain preserves the original method's visibility. Closes #7854.
Base.update_all :order and :limit options. Useful for MySQL updates that must be ordered to avoid violating unique constraints.
Remove deprecated object transactions.  People relying on this functionality should install the object_transactions plugin at http://code.bitsweat.net/svn/object_transactions.  Closes #5637 [Koz, Jeremy Kemper]
Remove special cases for BigDecimal and SQLite, tests pass without them and fail with them.
Revert [6430] since the test is faulty. References #7837, closes #7842.
PostgreSQL: remove DateTime -> Time downcast. Bypass the DateTime migration test on 64-bit platforms since it may be a Time.
Performance: patch cgi/session/pstore to require digest/md5 once rather than per #initialize. Closes #7583.
Undeprecate redirect_to with Hash argument and additional url_for parameters. Closes #7837.
Add environment variable RAILS_DEFAULT_DATABASE, which allows the builtin default of 'mysql' to be overridden.
Update Dependencies to ignore constants inherited from ancestors. Closes #6951.
Cookie session store: ensure that new sessions doesn't reuse data from a deleted session in the same request.
Deprecation: verification with :redirect_to => :named_route shouldn't be deprecated. Closes #7525.
find_or_create_by_* takes a hash so you can create with more attributes than are in the method name. Closes #7368.
Cookie session store: raise ArgumentError when :session_key is blank.
Make sure with_scope takes both :select and :joins into account when setting :readonly.  Allows you to save records you retrieve using finders on a has_many :through associations.  [Koz]
Deprecation: remove deprecated url_for(:symbol, *args) and redirect_to(:symbol, *args) controller methods. Use named routes instead.
trim the fat
Deprecation: remove deprecated update_element_function, start_form_tag, and end_form_tag. Use RJS and form_tag instead.
Allow a polymorphic :source for has_many :through associations.  Closes #7143 [protocool]
Deprecation: remove deprecated human_size helper alias. Use number_to_human_size instead.
forgot to add tests for #7044
Deprecation: remove deprecated link_to_image and link_image_to methods. Use link_to(image_path(...), url).
Deprecation: privatize deprecated render_partial and render_partial_collection methods.
Deprecation: remove toplevel components directory and uses_component_template_root.
Deprecation: remove deprecated dependency methods.
Deprecation: remove deprecated request methods.
Deprecation: remove deprecated redirect methods.
Deprecation: remove deprecated instance variables.
Credit Dan by name rather than nick.
Consistent public/protected/private visibility for chained methods. Closes #7813.
Oracle: fix quoted primary keys and datetime overflow. Closes #7798.
Adjust test for unsorted Array#to_query. References #7756.
Allow array and hash query parameters. Closes #7756.
Array#to_query preserves its ordering. References #7756.
form_options_helper refactoring for clarity. Closes #7787.
Give time_ago_in_words test some DST slop.
Consistently quote primary key column names. Closes #7763.
DateTimes assume the default timezone. Closes #7764.
Backed out of using File.atomic_write in the asset_tag_helper.rb as its still half-baked. Most importantly, it creates files with different permissions than File.open/write
Caching shouldnt include the host still
Cached versions of concatted js/css asset tags have to be written out atomically.
Prefer MIME constants to strings. Closes #7707.
Sybase: hide timestamp columns since they're inherently read-only. Closes #7716.
Oracle: overflow Time to DateTime. Closes #7718.
Note that find results may not be in the same order as the id arguments. Closes #7719.
PostgreSQL: don't use async_exec and async_query with postgres-pr. Closes #7727.
Windows: include MinGW in RUBY_PLATFORM check. Closes #2982.
Allow array and hash query parameters. Array route parameters are converted/to/a/path as before. References #6765, #7462. Closes #7047.
Add a #dbman attr_reader for CGI::Session and make CGI::Session::CookieStore#generate_digest public so it's easy to generate digests using the cookie store's secret. [Rick]
Ignore odd charset declaration in CONTENT_TYPE header which would throw off mime type lookup.
Time#since overflows to DateTime. Introduce Time#to_datetime. Closes #7715.
Upgrade rake dependency from 0.7.1 to 0.7.2 to pull in its Ruby 1.8.6 compatibility fixes.
Sans request please
Added Request#url that returns the complete URL used for the request [DHH]
Added URL escaping of user and password when used through the UrlWriter
Sort asset sources for consistent results across filesystems. Closes #7615.
Improve dispatcher failsafe responses. Beef up compatibility with Mongrel's CGI wrapper.
Extract dynamic scaffolding into a plugin. Closes #7700.
Out-of-range Time calculations transparently overflow to DateTime. Closes #7706.
Test DateTime native type in migrations. References #7649.
DateTime calculations analogous to the Date and Time extensions. Closes #7693.
Added user/password options for url_for to add http authentication in a URL [DHH]
SQLServer: recognize real column type as Ruby float, correctly schema-dump tables with no indexes or descending indexes. References #7057, #7703. Closes #7333.
Cookie store: use OpenSSL::HMAC instead of basic hash. Introduce :secret block and :digest option.
Cookie store: test that >4K raises CookieOverflow and that unverifiable cookies are automatically deleted.
Move plugin classes into the rails directory to match their namespace
Move responsibility for ensuring that all registered gems were loaded from the FileSystemLocator into the Initializer once all locators have had a chance to load the gems they located. [Marcel Molina Jr.]
Use to_sentence rather than inspect when reporting which registered plugins are missing
Split out the basic plugin locator functionality into an abstract super class. Add a FileSystemLocator to do the job of checking the plugin_paths for plugins. Add plugin_locators configuration option which will iterate over the set of plugin locators and load each of the plugin loaders they return. Rename locater everywhere to locator. [Marcel Molina Jr.]
Split plugin location and loading out of the initializer and into a new Plugin namespace, which includes Plugin::Locater and Plugin::Loader. The loader class that is used can be customized using the config.plugin_loader option.  Those monkey patching the plugin loading subsystem take note, the internals changing here will likely break your modifications. The good news is that it should be substantially easier to hook into the plugin locating and loading process now.  [Marcel Molina Jr.]
Dispatcher test requires abstract_unit. Cleanup abstract_unit.
Options are more often than not meaningless babble, just go nondescript instead
Set the original button value in an attribute of the button when using the :disable_with key with submit_tag
Add missing files
Give DateTime correct .to_s implementations, lets it play nice with ActiveRecord quoting. [gbuesing] Closes #7649
Add File.atomic_write to prevent users from seeing half written files.  Useful for situations like Page Caching and the like. [Koz]
session_enabled? works with session :off. Closes #6680.
boot.rb sets RAILS_ROOT, so remove that.  Install http plugins inside a Dir.chdir block so that the cwd doesn't change
set the RAILS_ROOT for script/plugin if it's not set already
Added assumption that all plugin creators desire to be sharing individuals and release their work under the MIT license [DHH]
mysql.rb ignores IOError in finalizer when socket is already closed
Added :port and :host handling to UrlRewriter (which unified url_for usage, regardless of whether it's called in view or controller) #7616 [alancfrancis]
Doc fixes
Allow send_file/send_data to use a registered mime type as the :type parameter #7620 [jonathan]
Allow routing requirements on map.resource(s) (closes #7633) [quixoten]
Moved perform_caching test set up into test's setup to fix a dependence fragility (closes #7640)
Added source-annotations extractor tasks to rake [Jamis Buck]
Setting fixtures automatically for integration tests is a bit harder -- will have to wait until the test superclass reform is implemented
Added fixtures :all to test_helper.rb to assume that most people just want all their fixtures loaded all the time [DHH] Added fixtures :all as a way of loading all fixtures in the fixture directory at once (closes #7214) [manfred]
Cookie session store: empty and unchanged sessions don't write a cookie.
 Allow users to provide custom formatters to Logger. [aeden] Closes #7106, #2484
fix app generator
Make it a default assumption that you want all helpers, all the time (yeah, yeah)
Added helper(:all) as a way to include all helpers from app/helpers/**/*.rb in ApplicationController [DHH]
No s on config
Include two default initializers as examples
Added config/initializers where all ruby files within it are automatically loaded after the Rails configuration is done, so you don't have to litter the environment.rb file with a ton of mixed stuff [DHH]
Move session settings closer together
Make sure parsed emails recognize attachments nested in multpart parts (closes #6714)
Ruby 1.8.6 compatibility.
Integration tests: introduce methods for other HTTP methods. Closes #6353.
Use the query cache iff Active Record is configured.
CGI escape the session cookie.
Oops, don't omit the session_key since it's used as the cookie name.
Session configuration in config/environment.rb instead of app/controllers/application.rb
Missed commit for [6184]. Generate a random secret for new app's cookie session store.
Added database connection as a yield parameter to ActiveRecord::Base.transaction so you can manually rollback [DHH]
Enable active record cache automatically for all actions
Added subdirectory test
Make sure that the filesystem is not involved with asset hosting
Routing: better support for escaped values in route segments. Closes #7544.
Introduce a cookie-based session store as the Rails default. Sessions typically contain at most a user_id and flash message; both fit within the 4K cookie size limit. A secure hash is included with the cookie to ensure data integrity (a user cannot alter his user_id without knowing the secret key included in the hash). If you have more than 4K of session data or don't want your data to be visible to the user, pick another session store. Cookie-based sessions are dramatically faster than the alternatives.
Make assert_select access content_type through accessor instead of header
Apply the rest of Chads patch
You can now use cache in instance hierachies. This allows ActiveRecord::Base.cache { } usage to cache everything
Added .erb and .builder as preferred aliases to the now deprecated .rhtml and .rxml extensions [Chad Fowler]. This is done to separate the renderer from the mime type. .erb templates are often used to render emails, atom, csv, whatever. So labeling them .rhtml doesn't make too much sense. The same goes for .rxml, which can be used to build everything from HTML to Atom to whatever. .rhtml and .rxml will continue to work until Rails 3.0, though. So this is a slow phasing out. All generators and examples will start using the new aliases, though.
Stop swallowing errors during rake test [Koz]
Factor out unique id generator. Expose cgi to session store.
Its ETag not Etag
Set cache-control to private if theres an etag available (and the cache-control hasnt been overwritten already)
Dont ask for no caching if we have a etag to base that decision on
Move etagging down to response, so renders with layouts dont screw it up [DHH]
Added caching option to AssetTagHelper#stylesheet_link_tag and AssetTagHelper#javascript_include_tag [DHH]
Allow people to set their own etags, if they want more control over the process (closes #7580) []
Add request protocol to asset host if not given. Prefer setting asset host as hostname only, no request protocol.
Work around the two connection per host browser limit: use asset%d.myapp.com to distribute asset requests among asset[0123].myapp.com. Use a DNS wildcard or CNAMEs to map these hosts to your asset server. See http://www.die.net/musings/page_load_time/ for background.
Etagging ignores appended and block responses.
Added default mime type for CSS (Mime::CSS) [DHH]
Added that rendering will automatically insert the etag header on 200 OK responses. The etag is calculated using MD5 of the response body. If a request comes in that has a matching etag, the response will be changed to a 304 Not Modified and the response body will be set to an empty string. [DHH]
Added X-Runtime to all responses with the request run time [DHH] (rename from X-Benchmark)
Added X-Benchmark to all responses with the same benchmark data as goes into the log [DHH]
In tests, content_type can be nil, which would disturb accepts/format
remove Mime::PLAIN from tests so its not confused with the default Mime::TEXT mime type
Add Mime::Type convenience methods to check the current mime type. [Rick]
MySQL disallows TEXT defaults so don't test for them.
Hash#to_query CGI-escapes its keys.
Don't test for hash sort order.
Revert [6086] and [6087] since they caused a major regression with functional tests in 1.2.2. References #7372.
Performance: patch cgi/session to require digest/md5 once rather than per #create_new_id.
Add a :url_based_filename => true option to ActionController::Streaming::send_file, which allows URL-based filenames.  [Thomas Fuchs]
Deprecation: warn on stderr if RAILS_DEFAULT_LOGGER isn't set yet.
Made increment_counter/decrement_counter play nicely with optimistic locking, and added a more general update_counters method
Introducing Model.cache { ... } for the occasional query caching needs. ( fantastic to reduce the 200 SELECT * from accounts WHERE id=1 queries in your views )
More Safari appeasement
Safari requires an explicit submit
rename #lookup_template_base_path_for to #find_base_path_for in ActionView::Base [Rick]
Update Rails Initializer to use ActionController::Base#view_paths [Rick]
Allow Controllers to have multiple view_paths instead of a single template_root.  Closes #2754 [John Long]
fix problem with EMPTY_INHERITABLE_ATTRIBUTES being redefined
fix form_for example in ActionController::Resources documentation.  Closes #7362 [gnarg], Added enhanced docs to routing assertions.  Closes #7359 [Rob Sanheim], improve error message for Routing for named routes.  Closes #7346 [Rob Sanheim]
fix #write_inheritable_attribute bug that crept in
Optimize Class Inheritable Attributes so that unnecessary hashes are not created.  Closes #7472 [Bruce Perens]
Plugins may be symlinked in vendor/plugins. Closes #4245.
Ruby 1.8-cvs and 1.9 define a private Time#to_date that overrides Active Support. Make it public to preserve compatibility.
Make sure that the string returned by TextHelper#truncate is actually a string, not a char proxy -- that should only be used internally while working on a multibyte-safe way of truncating [DHH]
Rename server_settings to smtp_settings,  add sendmail_settings to allow you to override the arguments to and location of the sendmail executable. [Koz]
When dealing with SQLite3, use the table_info pragma helper, so that the bindings can do some translation for when sqlite3 breaks incompatibly between point releases. Also, make current_adapter? use is_a? instead of instance_of? to account correctly for adapter subclassing.
Oracle: fix lob and text default handling. Closes #7344.
Added FormBuilder#submit as a delegate for FormTagHelper#submit_tag [DHH]
TestSession supports indifferent access so session['foo'] == session[:foo] in your tests. Closes #7372.
SQLServer: don't choke on strings containing 'null'. Closes #7083.
Remove noisy nodoc for Ruby 1.8.4
Allow Routes to generate all urls for a set of options by specifying :generate_all => true. References #1739.
Change the query parser to map empty GET params to "" rather than nil. Closes #5694.
date_select and datetime_select take a :default option. Closes #7052.
select :multiple => true suffixes the attribute name with [] unless already suffixed. Closes #6977.
Mark the last release in the changelog.
Full test coverage for Inflector. Closes #7228.
MySQL: blob and text columns may not have defaults in 5.x. Update fixtures schema for strict mode. Closes #6695.
update_all can take a Hash argument. sanitize_sql splits into two methods for conditions and assignment since NULL values and delimiters are handled differently. References #6583, closes #7365.
Improve routes documentation. Closes #7095.
mail_to :encode => 'hex' also encodes the mailto: part of the href attribute as well as the linked email when no name is given. Closes #2061.
Resource generator depends on the model generator rather than duplicating it. Closes #7269.
Post title and body not null. References #6778.
MySQL: SET SQL_AUTO_IS_NULL=0 so 'where id is null' doesn't select the last inserted id. Closes #6778.
Resource member routes require :id, eliminating the ambiguous overlap with collection routes. Closes #7229.
Use Date#to_s(:db) for quoted dates. Closes #7411.
:db format for Date#to_s
Remove deprecated assertions.
Change session restoration to allow namespaced models to be autoloaded. Closes #6348.
Don't create instance writer methods for class attributes.  Closes #7401 [Rick]
Added :instance_writer option to #mattr_writer/accessor, #cattr_writer/accessor, and #class_inheritable_writer to skip the creation of the instance writer.  [Rick]
Rename test file so it's not ignored by rake
Nodoc the irrelevant (from 1.2)
Add error_messages and error_message_on to the default FormBuilder. Closes #6939 [nik.wakelin]
Make to_query safe against nils
Added Hash#to_query to turn a hash of values into a form-encoded query string [Nicholas Seckar]
Documentation for ActionWebService::API::Base.
Increase test coverage for subclasses_of. Closes #7335.
Autolinking recognizes trailing and embedded . , : ;  Closes #7354.
Squash test warnings.
Loading a resource preserves its prefix_options. Closes #7353. Silence prefix redefinition warnings; fix type in logged error.
Docs: validations examples. Closes #7343.
Mocha 0.4 mixes in more public instance methods, confusing controller identification of action methods. Closes #7347.
Pass busy timeout for sqlite3 integration tests.
Allow action_web_service to handle various HTTP methods including GET
Add missing tests ensuring callbacks work with class inheritance.  Closes #7339 [sandofsky]
Carry over the convenience of #create from ActiveRecord.  Closes #7340.  [Ryan Daigle]
Added test coverage for Inflector.inflections.clear.  Closes #7179. [Rich Collins]. Remove unused code from Duration#inspect.  Closes #7180.  [Rich Collins]
ActiveSupport::Multibyte::Handlers::UTF8Handler should raise when a range and an integer are passed in (just like the native implementation).  Closes #7176 [Rich Collins]
Increase ActiveResource::Base test coverage.  Closes #7173, #7174 [Rich Collins]
A couple extra tests for #classify.  Closes #7273. [Josh Susser]
Add/Update usage documentation for script/destroy, resource generator and scaffold_resource generator.  Closes #7092, #7271, #7267.  [bscofield]
SQLServer: quote table name in indexes query. Closes #2928.
Subclasses of an abstract class work with single-table inheritance. References #5704, closes #7284.
Make sure sqlite3 driver closes open connections on disconnect (closes #7105)
Better docs for Object extensions (closes #7002)
Improve test coverage of Duration.  Closes #7182 [richcollins]
Improve Test Coverage for raise_delivery_errors. [kevinclark] closes #7152
Make TextHelper::auto_link recognize URLs with colons in path correctly, fixes #7268
Update trunk to script.aculo.us 1.7.0
Update prototype.js to [5985], fixes content-type issue with simulated HTTP methods
Modernize cookie testing code, and increase coverage (Heckle++) #7101 [Kevin Clark]
Improve Test Coverage for ActionController::Routing::Route#matches_controller_and_action? (Heckle++) #7115 [Kevin Clark]
Heckling ActionController::Resources::Resource revealed that set_prefixes didn't break when :name_prefix was munged. #7081 [Kevin Clark]
Refactor #form_tag to allow easy extending.  [Rick]
Update to Prototype 1.5.0
Interpret 422 Unprocessable Entity as ResourceInvalid. Closes #7097.
RecordInvalid, RecordNotSaved => 422 Unprocessable Entity, StaleObjectError => 409 Conflict. References #7097.
Allow fields_for to be nested in form_for
Mega documentation patches. #7025, #7069 [rwdaigle]
[DOC] clear up some ambiguity with the way has_and_belongs_to_many creates the default join table name.  #7072 [jeremymcanally]
Allow the Oracle adapter to insert a string "null". Closes #6997 [laurelfan]
Improve handling of LoadErrors with the oracle adapter.  Closes #6780 [kubo]
Made sure that connections are only removed for SQLite
be like a duck. Let's not rely on explicit classes, so we can pass proxy objects around and have them interpreted correctly by ActiveRecord's serialization routines
change Duration to use the new Object#acts_like? helper to do duck typing
Add Object#acts_like? and Time#acts_like_time? and Date#acts_like_date? to facilitate duck-typing
Make sure Duration uses duck-typing instead of explicit classes, so apps can pass proxy objects around and have it all "just work"
Skip column options for primary keys. Closes #7048.
Allow inGroupsOf and eachSlice to be called through rjs. Closes #7046
Improve the documentation for customising your rescue actions. Closes #7041 [rsanheim]
Make 1.months and friends accurate by introducing a Duration class.  #6835 [eventualbuddha]
Improve association documentation, closes #7022.  [hasmanyjosh]
change_column accepts :default => nil. Closes #6956.
MySQL, PostgreSQL: change_column_default quotes the default value and doesn't lose column type information. References #3987, closes #6664.
Oracle: create_table takes a :sequence_name option to override the 'tablename_seq' default. Closes #7000.
Test that calculations don't modify their options hash. References #6929. [eventualbuddha]
MySQL: retain SSL settings on reconnect. Closes #6976.
Allow exempt_from_layout :rhtml. References #6742, closes #7026.
Wrap and skip tests using mocha.
Document Inflector.ordinalize and merge docs from String inflections. Closes #7023.
Aggregate reflection klass works with nested :class_name
Oracle: correctly perform eager finds with :limit and :order. Closes #7021.
Unbundle flexmock.
Use mocha for rescue tests.
Generator: use destination path for diff tempfiles. Closes #7015.
Recognize the .txt extension as Mime::TEXT [Rick]
Failing test for exempt_from_layout :rhtml. References #6742.
Demonstrate that a value's required. References #6156.
Oops. References #6156.
Test MySQL implicit NULL for integer columns. Closes #6156.
Tiny doc fix for link_to_remote simulated :delete example. Closes #6962.
Base.exists?(id, options) and Base#exists? check whether the resource is found. Closes #6970.
link_to_unless_current works with full URLs as well as paths. Closes #6891.
Set request.env['REQUEST_URI'] when absent.
Test proving render_to_string result passed to partial works. Closes #2541. [smeade]
SQLServer: handle [quoted] table names. Closes #6635.
acts_as_nested_set works with single-table inheritance. Closes #6030.
PostgreSQL: use a subselect to correctly perform eager finds with :limit and :order. Closes #4668.
Inline primary keys.
Ignore Ares test/debug.log
dry up some duplicated code
treat create! like create and make sure the target is loaded first
fix regression in has_one#create, that caused instances thus created to be orphaned
add some more detail on nested resource docs [Rick]
Pass a range in :conditions to use the SQL BETWEEN operator. Closes #6974.
test javascript include with and without application.js
Lookup the mime type for #auto_discovery_link_tag in the Mime::Type class.  Closes #6941 [Josh Peek]
Revert failing test from [5847].
Slight doc tweak to the ActionView::Helpers::PrototypeHelper#replace docs.  Closes #6922 [Steven Bristol]
Slight doc tweak to #prepend_filter.  Closes #6493 [Jeremy Voorhis]
Add more extensive documentation to the AssetTagHelper.  Closes #6452 [Bob Silva]
Clean up multiple calls to #stringify_keys in TagHelper, add better documentation and testing for TagHelper.  Closes #6394 [Bob Silva]
[DOCS] Apply more documentation for ActiveRecord Reflection.  Closes #4055 [Robby Russell]
[DOCS] Document :allow_nil option of #validate_uniqueness_of. Closes #3143 [Caio Chassot]
[DOCS] fix reference to ActionController::Macros::AutoComplete for #text_field_with_auto_complete. Closes #2578 [Jan Prill]
Update to latest Prototype
Sybase adapter fixes.  Closes #6926 [jsheets]
rollback [5833] and [5835]
Allow ActionController::Base.session_store and #fragment_cache_store to lazily load the session class to allow for custom session store plugins.  [Rick Olson]
Allow ActionController::Base.session_store to lazily load the session class to allow for custom session store plugins.  [Rick Olson]
Rollback #new_record? and #id values for created records that rollback in an after_save callback. Closes #6910 [Ben Curren]
Make sure html_document is reset between integration test requests (closes #6834)
use stringify_keys
Set session to an empty hash if :new_session => false and no session cookie or param is present. CGI::Session was raising an unrescued ArgumentError.
tighten test_load_once_paths_should_behave_when_recursively_loading
Check for nil name also. Closes #6561.
Make RDoc not spew errors on install because of HTML comments in code comments
Validating save returns boolean; update and create return responses.
prefix_parameters pulls /:path/:params from the URI prefix
try to appease the angry Oracle
make sure query attributes on custom fields works as it used to
doh typo in commit from the hip
generate prefix parameters if undefined
Query string support. Closes #6855.
Routing uses URI escaping for path components and CGI escaping for query parameters.
Ensure plugins are in the Dependencies.load_once_paths collection by default.  [Rick]
Make error_message_on handle nil objects. [dan]
Docs fix for columns_hash [bradediger]
Ensure dynamic finders are anchored to the beginning of the method name to prevent
Attempt at fixing the preparation_callbacks, nzkoz will double check
False is a reasonable default
Allow config.to_prepare to work, make the dispatcher safe to 're require'. [Koz, Nicholas Seckar]
forgot to save CHANGELOG
Update load once paths to prevent nested once constants from being detected and claimed by an external non-once load. References #6720
Checkin failing test case related to load once paths
Base#==, eql?, and hash methods. == returns true if its argument is identical to self or if it's an instance of the same class, is not new?, and has the same id. eql? is an alias for ==. hash delegates to id.
Singleton resources: POST /singleton => create, GET /singleton/new => new
Use 400 Bad Request status for unrescued ActiveRecord::RecordInvalid exceptions.
test that element name includes module nesting
Pushing a record on an association collection doesn't unnecessarily load all the associated records.
HttpMock InvalidRequestError inspects the mismatched request
Subclasses share superclass site until explicitly set. This way you can set Superclass.site = ... after subclasses have been defined.
move http_mock to lib so others can use it in their Ares tests
DeprecatedInstanceVariable#inspect doesn't warn since test/unit, error logs, and others use it for diagnostics.
Oracle: fix connection reset failure. Closes #6846.
Silence log_error deprecation warnings from inspecting deprecated instance variables.
Only cache GET requests with a 200 OK response. Closes #6514, #6743.
Partially revert [5660] - makes more trouble than it resolves. References #5704, closes #6766.
Subclass instantiation doesn't try to explicitly require the corresponding subclass. Closes #6840.
use RAILS_DEFAULT_LOGGER in debug mode so we can log Dependencies activity
utf8 mysql topics table
Add a 'referer' attribute to TestRequest
fix Rakefile so that the rdoc can be generated
Ensure render :json => ... skips the layout.  Closes #6808 [Josh Peek]
fix faulty inheritance tests and that eager loading grabs the wrong inheritance column when the class of your association is an STI subclass. Closes #6859 [protocool]
Don't require test/unit since it tries to turn everything into a test run.
Reapply plugin load path changes from [5720]
Another test that the deprecation spout is plugged.
Deprecation: silence warnings when reporting test errors.
Work around a cross-platform number_to_precision inconsistency in unit tests. Closes #6315. [jesperron]
Hash#slice(*keys) returns a new hash with only the given keys. #slice! replaces the hash with only the given keys. Works with HashWithIndifferentAccess also.
Silence warnings; use more precise assertions.
Revert [5720]
Make config.plugins affect $LOAD_PATH and remove duplication from $LOAD_PATH [James Adam]
Allow subclassed resources to share the site info [Rick]
Correctly report which filter halted the chain. References #6699.
Ensure that DispatcherError is being thrown correctly when a malformed request is received.
Rewrap scaffold_resource USAGE so it displays nicely on most terminals.  Closes #6801 [Paul Smith]
Unrescued ActiveRecord::RecordNotFound responds with 404 instead of 500.
Remove side effects of [5684]
Improved auto_link to match more valid urls correctly
added tests checking for nested singleton resources
fix docs for singleton resources
Add singleton resources. [Rick Olson]
Remove support for json in X-Post-Data-Format header since it's for backward compatibility only. References #4185.
Remove unrelated render :yaml changes. References #4185.
Update changelog to reflect application/json content type.
More thorough JSON tests. Use application/json by default, per rfc4627. References #4185.
respond_to recognizes JSON. render :json => @person.to_json automatically sets the content type and takes a :callback option to specify a client-side function to call using the rendered JSON as an argument. References #4185.
Changelog for bungled commit.
Missed commit from [5686].
Don't do introspection queries during locking tests [Michael Schoen]
Bob's raining patches: fixes date_helper bugs and usability issues. References #3811.
Consolidated different create and create! versions to call through to the base class with scope. This fixes inconsistencies, especially related to protected attribtues.
find supports :lock with :include. Check whether your database allows SELECT ... FOR UPDATE with outer joins before using. Closes #6764.
AssociationCollection#any? takes a block [Michael Schoen]
*_path instance methods. Check for missing/invalid site uri. http_mock response takes message arg, extracts numeric code. Tests log to test/debug.log
Add AssociationCollection#create! to be consistent with AssociationCollection#create when dealing with a foreign key that is a protected attribute
Added counter optimization for AssociationCollection#any? so person.friends.any? won't actually load the full association if we have the count in a cheaper form [DHH]
Dropped the idea of automatically routing :format for the vanilla routes -- that will be a treat for map.resources. Deprecated the name route root as it'll be used as a shortcut for map.connect '' in Rails 2.0 (Rails 1.2). Added map.root as an alias for map.connect '' (Rails 2.0)
Added support for decimal types. Closes #6676.
Documentation for generators (closes #6671) [topfunky]
Added Request#format to return the format used for the request as a mime type. If no format is specified, the first Request#accepts type is used. This means you can stop using respond_to for anything else than responses [DHH]
Added the option for extension aliases to mime type registration [DHH] Refactored default mime types to use the extension framework instead of just declaring themselves verbosely
Wups
Subclasses of an abstract class work with single-table inheritance. Closes #5704.
If only life was that simple (it didnt help)
Replace the elaborate reloading connection checking scheme, just fix the Ruby-based MySQL adapter, ye?
Added one-letter aliases for the three default environments to script/console, so script/console p will load the production environment (t for test, d for development) [DHH]
Refactored to use same option setup
Premature commit
@response.redirect_url works with 201 Created responses: just return headers['Location'] rather than checking the response status.
merge 5639 to trunk
Only reload connections in development mode that supports (and requires that) -- in other words, only do it for SQLite (closes #6687, #6700) [DHH]
Use Location rather than location header.
redirect_to is the one place where _url should be used, not _path [DHH]
uses_component_template_root looks at caller[0] which turns up the deprecation method rather than the controller. Use caller[1] instead.
strip_tags passes through blank args such as nil or "".  Closes #6702, references #2229.
Added Time#to_s(:time) which will just return H:M, like 17:44 [DHH]
Tried delaying database disconnect until after dependency resolution (references #6687, #6700) [DHH]
Dont set default charset if the response is sending a file. Closes #6689 [DHH]
Update initializer to load Rails::VERSION as soon as possible. Closes #6698.
Added CSV to Mime::SET so that respond_to csv will work
* Added GET-masquarading for HEAD, so request.method will return :get even for HEADs. This will help anyone relying on case request.method to automatically work with HEAD and map.resources will also allow HEADs to all GET actions. Rails automatically throws away the response content in a reply to HEAD, so you dont even need to worry about that. If you, for whatever reason, still need to distinguish between GET and HEAD in some edge case, you can use Request#head? and even Request.headers["REQUEST_METHOD"] for get the "real" answer. Closes #6694 [DHH]
Added text/csv as a default mime type and included example on how to make your own in config/environment.rb [DHH]
Added ActiveRecord::Base.clear_active_connections! in development mode so the database connection is not carried over from request to request. Some databases won't reread the schema if that doesn't happen (I'm looking at you SQLite), so you have to restart the server after each migration (= no fun) [DHH]
Actually require the gem found
Made RAILS_GEM_VERSION work for beta gems too, so specifying 1.1.6 will give you 1.1.6.4520 if available [DHH]
Dont include the mime.yml anyway, Mongrel will just ship with more defaults instead
Update Routing to complain when :controller is not specified by a route. Closes #6669.
Change fixture_path to a class inheritable accessor allowing test cases to have their own custom set of fixtures. Closes #6672 [zdennis]
Make sure .morph makes it in
Quote ActiveSupport::Multibyte::Chars. Closes #6653.
Test for forged '' default before it's typecast. Closes #6156.
Test has_one :dependent => :nullify with missing association. Closes #4848.
Test has_one :dependent => :nullify with missing association. Closes #4828.
Simplify query_attribute by typecasting the attribute value and checking whether it's nil, false, zero or blank. Closes #6659.
Ensure render_to_string cleans up after itself when an exception is raised. Closes #6658. Great tests!
validates_numericality_of uses \A \Z to ensure the entire string matches rather than ^ $ which may match one valid line of a multiline string. Closes #5716.
Run validations in the order they were declared. Closes #6657.
Extract template_changed_since? from compile_template? so plugins may override its behavior for non-file-based templates. Closes #6651.
MySQL: detect when a NOT NULL column without a default value is misreported as default ''.  Can't detect for string, text, and binary columns since '' is a legitimate default. Closes #6156.
Test session table pluralization. Closes #6459.
Update trunk w/ latest Prototype and script.aculo.us
Restore windows compatibility
Starting, not started yet
Make script/server work with -d and -e on Mongrel
Use custom mime file for script/server mongrel if config/mime.yml exists.  Pass --mime=other/path for a custom mime file.  [Rick Olson]
Add custom mime type file for mongrel.  config/mime.yml is added with generated apps from the rails command.  [Rick Olson]
Scaffold resource should have both a layout and a stylesheet [DHH]
Simplify association proxy implementation by factoring construct_scope out of method_missing. Closes #6643.
Migration benchmark wrappers use alias_method_chain. Closes #6456.
simple_format helper doesn't choke on nil. Closes #6644.
Update Prototype in trunk to [5550]
Reuse named route helper module between Routing reloads to prevent memory leaks.
Improve readability.
Grep slightly faster than select =~
ActionView::Base.erb_variable accessor names the buffer variable used to render templates. Defaults to _erbout; use _buf for erubis.
Template errors: fix strange deprecation warnings on e.g. @flash.inspect, remove deprecated @assigns, handle sources without a discernable line number, clean up code.
Test autoloading nested subclass of parent.
Use attr_accessor_with_default to dry up attribute initialization. References #6538. [Stuart Halloway]
Add Module#attr_accessor_with_default to initialize value of attribute before setting it. Closes #6538. [Stuart Halloway, Marcel Molina Jr.]
Deprecate standalone components.
Handle failed caller parsing, factor out deprecation caller message.
Mysql::Result#all_hashes compatibility with Mysql C driver 2.6.x. Closes #6601.
ARStore needs a data reader method. Closes #4795.
Remove dead abort_tests method.
assert_select_rjs :remove
Hash#to_xml handles keys with the same name as Kernel methods. Closes #6613.
Cleanup SQLite AUTOINCREMENT: exclude sqlite_sequence table, factor out feature availability check.
Update Oracle performance credits.
Make sure that exceptions which are thrown outside of the user code try their best to be handeled in ApplicationController#rescue_action.
Oracle: automatically detect the primary key. Closes #6594.
Always clear model associations from session. Closes #4795.
Oracle: to increase performance, prefetch 100 rows and enable similar cursor sharing. Both are configurable in database.yml. Closes #6607.
Rails::VERSION::STRING on trunk is 1.2.0
Rails::VERSION::STRING should always be available. Closes #6244.
Allow mailer actions named send by using __send__ internally. Closes #6467.
test controller rescues
silence const_set warning
update_element_function is deprecated
Update to Prototype 1.5.0_rc2
Added Time#end_of_day to get 23:59:59 of that day [DHH]
Add grep-based fallback to reaper, so it can work in pidless setups (again)
Remove JavaScriptLiteral in favor of ActiveSupport::JSON::Variable.
Don't quote hash keys in Hash#to_json if they're valid JavaScript identifiers.
Only wrap request processing with our USR1 signal handler so FastCGI can trap it and raise an exception while waiting for connections. Idle processes exit immediately rather than waiting for another request; active processes gracefully exit when the request is finished.
Nested class gets qualified names.
Sync ActionController::StatusCodes::STATUS_CODES with http://www.iana.org/assignments/http-status-codes. Closes #6586.
Oracle: fix limited id selection for eager loading. Closes #6515.
Don't inspect unloaded associations. Closes #2905.
SQLite: use AUTOINCREMENT primary key in >= 3.1.0. Closes #6588.
Lazily load the Unicode Database in the UTF-8 Handler [Rick Olson]
Cache inheritance_column. Closes #6592.
Multipart form values may have a content type without being treated as uploaded files if they do not provide a filename. Closes #6401.
Alter prior change to use require_dependency instead of require_or_load. Causes ApplicationController to be reloaded again. Closes #6587.
Rake: use absolute paths to load lib and vendor tasks so they may be run outside of RAILS_ROOT. Closes #6584.
assert_response supports symbolic status codes. Closes #6569.
Update dependencies to delete partially loaded constants.
Update failing autoload tests.
Firebird: decimal/numeric support. Closes #6408.
Update changelog
Remove temporary crutch to help ApplicationController be unloaded. Closes #6496.
make add_order a tad faster (Closes #6567)
Find with :include respects scoped :order. Closes #5850.
Cache parsed query parameters. Closes #6559.
Missed pluralize nil test in [5431].
Failing test for autoloading shadowed exceptions.
Deprecate JavaScriptHelper#update_element_function, which is superseeded by RJS [Thomas Fuchs]
Add assert_emails and assert_no_emails to test the number of emails delivered. Closes #6479.
Support nil and Array in :conditions => { attr => value } hashes. Closes #6548.
Consistently use LOWER() for uniqueness validations (rather than mixing with UPPER()) so the database can always use a functional index on the lowercased column. Closes #6495.
pluralize helper interprets nil as zero. Closes #6474.
scaffold_resource generator uses _path named routes and head instead of render :nothing => true. Closes #6545.
SQLite: count(distinct) queries supported in >= 3.2.6, fix calculations workaround, remove count(distinct) query rewrite, cleanup test connection scripts. Closes #6544.
Turns out call_stack slows down the entire app, so just warn that breakpoints don't work with 1.8.5 for now.
Set ActionView::Base.default_form_builder once rather than passing the :builder option to every form or overriding the form helper methods.
Test multiple timezones' DST. Closes #5617.
Use US timezone for DST tests. Closes #5617.
Dynamically generate reader methods for serialized attributes. Closes #6362.
update XmlSimple to 1.0.10. Closes #6532. [nicksieger]
Deprecate expire_matched_fragments. Use expire_fragment instead. Closes #6535.
Consistent default handling in ActionView render.  Closes #6534.
Remove dupe entry.
umm ... who left that there
Resolved the conflict
Deprecation: object transactions warning.
Update bundled flexmock to latest 0.4.3.
has_one :dependent => :nullify ignores nil associates. Closes #6528.
Document that expire_fragment with regexp arg fails on memcached and other caches which don't support iteration over all keys. Closes #6291.
Generator can show diff on file collision to help you decide whether to skip or overwrite. Closes #6364.
Generated directories are recursively svn added, like mkdir -p. Closes #6416.
Little better formatting of this string.
Don't do call_stack warning all the time, only if a breakpoint is used.
Interim test task for railties, the existing one fails suspiciously.
next_week respects DST changes. Closes #5617, closes #2353, closes #2509, references #4551.
Update dependencies to allow constants to be defined alongside their siblings.
Oracle: resolve test failures, use prefetched primary key for inserts, check for null defaults. Factor out some common methods from all adapters. Closes #6515.
If using Ruby 1.8.5, pull in call_stack so breakpointer works again. If using Ruby 1.8.5 and call_stack is not installed, give warnings and instructions.
resource and scaffold_resource generators add a restful route to config/routes.rb
Removed deprecated end_form_tag helper.
Revert environment changes for autoload_paths
Update to latest Prototype, which doesnt serialize disabled form elements, adds clone() to arrays, empty/non-string Element.update() and adds a fixes excessive error reporting in WebKit beta versions [Thomas Fuchs]
 Clean up the output of rake stats,  de-emphasise components and apis, and remove the indents for tests [Koz]
Added option to script/process/spawner of specifying the binding address #5133 [zsombor]
next_week respects DST changes. Closes #6483.
to_xml needs to accept an options hash to conform with the expectations of Hash#to_xml
make sure link_to_image is deprecated as well as link_image_to
a few more deprecation improvements
update deprecations to include alternative methods (where available)
Use new deprecate syntax so that alternatives are given with the warning
Extend deprecate so that alternatives can be specified via the deprecation
Make add_column use the options hash with the Sqlite Adapter. Closes #6464 [obrie]
Update environment.rb comments to include config.autoload_paths. Closes #6478 [caio]
Update scaffold to use new form_tag block functionality. Closes #6480 [BobSilva]
Deprecate start_form_tag and end_form_tag.  Use form_tag / '</form>' from now on.  [Rick]
Added block-usage to PrototypeHelper#form_remote_tag, document block-usage of FormTagHelper#form_tag [Rick]
Made FormTagHelper#form_tag work with blocks, rendering start/end_form_tag deprecated
Added block-usage to TagHelper#content_tag [DHH]
Add basic logging support for logging outgoing requests.
Plugin generator: check for class collisions. Closes #4833.
Docfix (closes #6462)
Docfix (closes #6393)
Deprecated UrlHelper#link_to_image and UrlHelper#link_to :post => true (closes #6409) [BobSilva]
clean up failing routing tests from missing :only_path option [Rick]
Upgraded NumberHelper with number_to_phone support international formats to comply with ITU E.123 by supporting area codes with less than 3 digits, added precision argument to number_to_human_size (defaults to 1) (closes #6421) [BobSilva]
Expose methods added to Enumerable in the documentation, such as group_by. Closes #6170.
Document other options available to migration's add_column. #6419
More consistent implementation of filter replacement (thanks Martin! closes #5949)
MySQL: all_hashes compatibility with old MysqlRes class. Closes #6429.
mailer unit test handles nested fixture paths
reference view path in fixture
.rhtml extension for view only
Mailer generator: handle mailers in modules, set mime_version in unit test.
Force *_url named routes to show the host in ActionView [Rick]
Add support for converting blocks into function arguments in JavaScriptGenerator#call and JavaScriptProxy#call. Add JavaScriptGenerator#literal for wrapping a string in an object whose #to_json is the string itself.
test deprecated instance variables using to_s instead of inspect which touches other ivars
Default $KCODE to 'u' to enable the multibyte-safe chars proxy. [Koz]
GET parameter keys can be escaped too [DHH]
Added config.plugins to control which plugins are loaded #6269 [skaes]. By default, everything in vendor/plugins will be loaded, but if you specify config.plugins, only those will be loaded.
Ensure Chars#tidy_bytes only tidies broken bytes. Closes #6397 [Manfred Stienstra]
Remove extraneous expand_path; fix plugin load paths
Add plugins and builtins to the load_path.
Remove autoload_paths to simplify configuration.
Add 'unloadable', a method used to mark any constant as requiring an unload after each request.
Tidy up the markup on the bundled error pages.  Closes #6379. [Tim Lucas]
remove an obsolete #dup call. avoid double negatives, to make the code easier to understand and explain
Undo accidental commit
Rename overlapping test names
make sure filters in subclasses with :only or :except conditions are treated like skip_filter calls
Replace KCODE checks with String#chars for truncate.  Closes #6385 [Manfred Stienstra]
make sure the String::Access methods return strings, and not multibyte Char instances
automatically add primary key to #select_limited_ids_list order by clause for databases that require order columns in the distinct statements (postgresql) [Rick]
fix select_limited_ids_list issues in postgresql, retain current behavior in other adapters [Rick]
add test for select_limited_ids_list that passes in mysql/sqlite and fails in postgresql
Make page caching respect the format of the resource that is being requested even if the current route is the default route so that, e.g. posts.rss is not transformed by url_for to '/' and subsequently cached as '/index.html' when it should be cached as '/posts.rss'.
Use String#chars in TextHelper::excerpt. Closes #6386 [Manfred Stienstra]
Make core_ext/string/access.rb multibyte safe. Closes #6388 [Manfred Stienstra]
Make String#chars slicing behaviour consistent with String. Closes #6387 [Manfred Stienstra]
Restore eager condition interpolation, document it's differences [Rick]
Install named routes into ActionView::Base instead of proxying them to the view via helper_method. Closes #5932.
Compare to 0 rather than call zero? to handle nil.
Wrap save! in a transaction. Closes #6324.
Update to latest Prototype and script.aculo.us trunk versions
improve example in migrations docs, closes #6370
Don't rollback in teardown unless a transaction was started. Don't start a transaction in create_fixtures if a transaction is started. Closes #6282.
PostgreSQL: db:test:purge closes open database connections first. Closes #6236.
Add #delete support to has_many :through associations.  Closes #6049 [Martin Landers]
learn to clean up after myself
Reverted old select_limited_ids_list postgresql fix that caused issues in mysql.  Closes #5851 [Rick]
Removes the ability for eager loaded conditions to be interpolated, since there is no model instance to use as a context for interpolation. #5553 [turnip@turnipspatch.com]
Docfix (closes #6234)
Docfix (closes #6040)
Added timeout option to SQLite3 configurations to deal more gracefully with SQLite3::BusyException, now the connection can instead retry for x seconds to see if the db clears up before throwing that exception (closes #6126) [wreese@gmail.com] Added default timeout setting of 5 seconds to SQLite3 database.yml configurations [DHH]
Docfix (closes #5143)
Added update_attributes! which uses save! to raise an exception if a validation error prevents saving (closes #6192) [jonathan]
Deprecated add_on_boundary_breaking (use validates_length_of instead) (closes #6292) [BobSilva]
Doc fixes (closes #6325)
render_text may optionally append to the response body. render_javascript appends by default. This allows you to chain multiple render :update calls by setting @performed_render = false between them (awaiting a better public API).
Rename test assertion to prevent shadowing. Closes #6306.
one render per test
Added an html_options hash parameter to javascript_tag() and update_page_tag() helpers #6311 [tzaharia]
Also update escaping for prototype rescues [DHH]
Deprecation cleanup for rescues (closes #6339) [adam]
Docfix (closes #6356)
Include field:type option for models
Added script/generate resource which works just like scaffold_resource, but creates empty placeholders instead of predefined [DHH] Added generated attribute options to script/generate model, like the one found in scaffold_resource and resource [DHH]
Added proper USAGE to the scaffold_resource generator [DHH]
Added proper USAGE to the scaffold_resource generator [DHH]
 r5515@ks:  jeremy | 2006-10-08 13:24:42 -0700  #6281  r5516@ks:  jeremy | 2006-10-08 13:29:49 -0700  respond_to :html doesn't assume .rhtml. Closes #6281.
cleanup of local_assigns handling and documentation update (closes #6358) [skaes]
The has_many create method works with polymorphic associations. Closes #6361.
Add Base.delete for deleting resources without having to instantiate them first
Update RUNNING_UNIT_TESTS for current Rake tasks. Closes #6349.
callbacks that return false should cause save to return false
add a failing test so we can make it happy again
Pull in latest multibyte patch. Closes #6346 [Manfred Stienstra]
Add ActiveSupport::Multibyte.  Provides String#chars which lets you deal with strings as a sequence of chars, not of bytes. Closes #6242 [Julian Tarkhanov, Manfred Stienstra & Jan Behrens]
add response to list of deprecated instance variables
Make #save behavior mimic AR::Base#save (true on success, false on failure)
MySQL: introduce Mysql::Result#all_hashes to support further optimization. Closes #5581.
use instance vars in rescue templates since controller may not be instantiated yet
assume the passed headers to the ActiveResource HttpMock Request/Response are hashes [Rick Olson]
save! shouldn't validate twice. Closes #6324.
Association collections have an _ids reader method to match the existing writer for collection_select convenience (e.g. employee.task_ids). The writer method skips blank ids so you can safely do @employee.task_ids = params[:tasks] without checking every time for an empty list or blank values.  References #1887, Closes #5780.
Removed deprecated @request and @response usages.
Add an attribute reader method for ActiveRecord::Base.observers [Rick Olson]
Use class name as XML_TYPE_NAMES key.
Hash#to_xml supports Bignum and BigDecimal. Closes #6313.
Add Basic HTTP Authentication to ActiveResource (closes #6305). [jonathan]
Deprecate @response
Deprecate @headers
Deprecate @cookies
Include caller of deprecated count method.
Use the first unparsed argument as the code or file to run. Closes #6286.
assert_select_rjs decodes escaped unicode chars since the Javascript generators encode them. Closes #6240.
Deprecation: @request will be removed after 1.2. Use the request method instead.
modify head so that you can specify a bare status code as the first parameter
Add ActionController::Base#head for rendering empty responses. Add support for symbolic status codes, as well as for having raw integer statuses expand with their default messages.
Make sure map.resources(:things, :new => { :new => :any }) correctly sets /things/new to be accessible by any method rather than creating another resource at /things/new;new
Deprecation: count class method should be called with an options hash rather than two args for conditions and joins. Closes #6287.
strip_links is case-insensitive. Closes #6285.
whitespace
script/runner can run files, pass on arguments, and be used as a shebang. Closes #6286.
has_one associations with a nil target may be safely marshaled. Closes #6279.
scaffold_resource naming, fixes #6276
organize associations tests
use a real test
Removed invocation of deprecated before_action and around_action filter methods.
Duplicate the hash provided to AR::Base#to_xml to prevent unexpected side effects [Koz]
Clear the cache of possible controllers whenever Routes are reloaded.
workaround collections loaded as :people => { :person => [{..attrs..}, {..attrs..}] }
Filters overhaul including meantime filter support for around filters. Closes #5949.
use ActiveRecordTestCase
deprecation_method_warning and deprecation_horizon - fewer moving parts, easy to localize
use :dependent => :destroy rather than :dependent => true
Look for rake tasks in plugin subdirs. Closes #6259.
Update RJS render tests.
Just use the vanilla mime type string, no need for fancy lookups [DHH]
fixed failing tests now that non-GET requests are sent with .xml file ext.  Extracted #id_from_response as an entry point for customizing how a created resource gets its own ID.
Update CGI process to allow sessions to contain namespaced models. Closes #4638.
Hash.create_from_xml has been renamed to Hash.from_xml, alias will exist until Rails 2.0 [DHH]
Added map.connect ':controller/:action/:id.:format' as a default route to config/routes.rb [DHH]
Implemented ./script/generate scaffold_resource comment body:text created_at:datetime active:boolean price:decimal
Rescue Errno::ECONNRESET to handle an unexpectedly closed socket connection. Improves SCGI reliability. Closes #3368, closes #6226.
test default content type for implicit rjs template render
Work-in-progress scaffolder for resources [DHH/Rick Olson]
Added that respond_to blocks will automatically set the content type to be the same as is requested [DHH]
Add a :namespace option to  AR::Base#to_xml [Koz]
Added proper getters and setters for content type and charset [DHH] Added utf-8 as the default charset for all renders. You can change this default using ActionController::Base.default_charset=(encoding) [DHH]
Updated prototype.js to 1.5.0_rc1 with latest fixes. [Rick Olson]
Provide access to the underlying SOAP driver.
Declare file extensions exempt from layouts. Closes #6219.
Last version change, dammit
Version updates and missing licenses
Dont run tests on gem creation
Dont run FCGIDispatcher tests if mocha is not available
Stray code.
Deprecation tests. Remove warnings for dynamic finders and for the foo_count ethod if it's also an attribute.
assert_deprecated returns result of block
assert_deprecated matches any warning caught in block
alias_method_chain yields method target and punctuation to simplify wrapper method definition.  Used by the deprecate module method.
remove implicit primary actions - more pain than gain.  test collection actions for other http methods.  strip whitespace.
Add chained replace/update support for assert_select_rjs [Rick Olson]
Mock Time.now for more accurate Touch mixin tests. Closes #6213.
session_migration generator adds an index on updated_at. Closes #6207.
Improve yaml fixtures error reporting. Closes #6205.
script/server creates the tmp/pids directory. Closes #6204.
All verbs should use formatted urls [DHH]
Make sure that formatted routes for all verbs are created. Still needs to resolve two failing tests after this refactoring [DHH]
Load helpers in alphabetical order for consistency. Resolve cyclic javascript_helper dependency. Closes #6132, closes #6178.
Skip params with empty names, such as the &=Save query string from <input type=submit/>. Closes #2569.
alias_method_chain works with accessor= methods also. Closes #6153.
test svn
Add test case to test attribute matching by assert_tag
Make mime version default to 1.0. closes #2323
Make sure quoted-printable text is decoded correctly when only portions of the text are encoded. closes #3154.
Make sure DOS newlines in quoted-printable text are normalized to unix newlines before unquoting. closes $166 and #4452
Optimistic locking: raise ActiveResource::ResourceConflict on 409 Conflict response.
Split Form.serialize into Form.serialize and Form.serializeElements. The latter can be used stand-alone to serialize an array of elements you pass in, instead of the entire form [DHH]
We cant make MySQL 5 happy if it means making SQLite and PostgreSQL cry. So currently MySQL 5 is not fully supported for Rails when youre using eager loading (closes #6133, #6135). I have contacted MySQL to make them fix http://bugs.mysql.com/bug.php?id=13551 [DHH]
Since to_sing, we need to check for empty string
Added parentheses around FROM clauses generated by Base and associations since MySQL 5 claim that to be the standard (and will screw up joins if its not there), see http://bugs.mysql.com/bug.php?id=13551 [DHH]
Update descriptive messages for exceptions thrown by cgi_methods. Closes #6103.
Basic validation support [Rick Olson]
Rollback [4917]. Closes #785.
Add descriptive messages to the exceptions thrown by cgi_methods. Closes #6091.
Too much dotware
Remove the uncanny default of adding all app/models/*/ directories to the load path. References #6031.
Ahem, now for real
Update JavaScriptGenerator#show/hide/toggle/remove to new Prototype syntax for multiple ids,  fixes #6068 [petermichaux@gmail.com]
Update UrlWriter to support :only_path.
Get symbol definitions of methods converted to strings [DHH]
added passing test for using partials with an xml builder
Backed out of locals hash as it caused trouble with Builder, see ticket for more
Still need the regular assertions
caller is necessary for proper trace in deprecation
Better bundling of new assertions and make integration tests work again
Backed out of new_record? to new? transformation as it would screw up existing models that did boolean calls on "new" attributes [DHH]
Deprecated ActiveRecord::Base.new_record? in favor of ActiveRecord::Base.new? (old version still works until Rails 2.0) [DHH]
Proper description syntax for test tasks (closes #5308)
Update to script.aculo.us 1.6.3 [Thomas Fuchs]
Don't convert value if it's already of an appropriate type.
Update to Prototype 1.5.0_rc1
load expects a Hash
Rename quote to quote_value so the name can be used in AR models. #3628 [Koz]
load nil is noop. use new? instead of new_resource?
Added access to nested attributes in RJS (closes #4548) [richcollins@gmail.com]
Expose more options of inplace_editor (but its still going plugin with v2.0) (closes #5103)
Superseeded by action_caching_test (closes #5173)
Documentation for routes (closes #5165) [rramdas@gmail.com]
Deprecated the auto-appending of .png to AssetTagHelper#image_tag calls that doesn't have an extension [DHH]
Added locals hash to partials, which makes for convenient access of some times available/some times not variables (closes #5491) [wbruce@gmail.com]
Update usage notes to verify
Add deprecation warning for inferred foreign key. #6029 [Josh Susser]
Doc fix (closes #5660)
Improved resolution of DateHelper#distance_of_time_in_words for better precision (closes #5994) [Bob Silva]
Doc fix (closes #6023)
Deep hashes are converted into collections of resources. Class attribute writer methods.
consistent load path to prevent double loads
test subdirs, turn warnings on
quell warnings
Deprecation: use :dependent => :delete_all rather than :exclusively_dependent => true. Closes #6024.
Document validates_presences_of behavior with booleans: you probably want validates_inclusion_of :attr, :in => [true, false]. Closes #2253.
reloadable deprecation tests
silenced writer
deprecated render assertions
deprecated assertions tests
Dont raise deprecation warning on render :action => "stuff"
new render deprecations test
Don't use deprecated render API. Cosmetics.
deprecated keep_flash test
redirect deprecation tests
no more render_to_string deprecation warnings
silence deprecation warnings. cosmetics.
deprecated render tests
test_test deprecation and cosmetics
set ActiveSupport::Deprecation.debug = true to see backtraces for deprecation callers. off by default. on for Rails tests.
pass caller to deprecation warning
set ActiveSupport::Deprecation.debug = true to see backtraces for deprecation callers. off by default. on for Rails tests.
Active Record integration deprecation tests
Quiet while testing, you.
Formally deprecate the non-namespaced rake tasks. [Koz]
get deprecation methods and callers straight
Optimistic locking: gracefully handle nil versions, treat as zero. Closes #5908.
Shouldn't use deprecated stuff
More inclusive 500 language
Changed that uncaught exceptions raised any where in the application will cause RAILS_ROOT/public/500.html to be read and shown instead of just the static "Application error (Rails)" [DHH]
Integration tests: thoroughly test ActionController::Integration::Session. Closes #6022.
Docs and deprecation
Added deprecation language for in_place_editor and auto_complete_field that both pieces will become plugins by Rails 2.0 [DHH]
svn:ignore debug.log
action
Deprecated all of ActionController::Dependencies. All dependency loading is now handled from Active Support [DHH]
Deprecated old render parameter calls
Backout of blowup fix
Require action mailer more gracefully
More deprecation fun
If not running in Rails, we will log deprecations to $stderr
Deprecate deprecated assertions
Modules can deprecate stuff too
Moved in deprecated assertions and remove duplicated requires
Follow proper naming conventions
Better compartmentalizing of assertions
Added assert_select* for CSS selector-based testing (deprecates assert_tag) #5936 [assaf.arkin@gmail.com]
Add forgotten file
Stress that 2.0 is the cut and that we will have a page listing deprecations
Made it clear that deprecated stuff leaves on majors only
radio_button_tag generates unique id attributes. Closes #3353.
Update copyright times
More tests for alias_method_chain with feature and method punctuation. Closes #4954.
Nitpick updates
Validation tests
validates_confirmation_of only kicks in when the attribute, rather than its confirmation, is present. Closes #785.
strip_tags returns nil for a blank arg such as nil or "". Closes #2229.
Cleanup assert_tag :children counting. Closes #2181.
button_to accepts :method so you can PUT and DELETE with it. Closes #6005.
Thoroughly test the FCGI dispatcher. Closes #5970.
railties tests
Update sanitize text helper to strip plaintext tags, and <img src=javascript:bang>.  [Rick Olson]
Add ApplicationController special case to Dependencies.
to_xml: the :methods option works on arrays of records. Closes #5845.
Update routing documentation.  Closes #6017 [Nathan Witmer]
Add routing tests to assert that RoutingError is raised when conditions aren't met.  Closes #6016 [Nathan Witmer]
Doc fixes (closes #6012)
Modernize the main README (closes #6002)
Docs for js linkers (closes #5948)
Added test for custom headers on parts (closes #3043)
Updated docs and otherwise
Don't pad remaining places with in_groups_of if specified padding value is false. [Marcel Molina Jr.]
Deprecation: update docs. Closes #5998.
Commit stray fixture.
Make auto_link parse a greater subset of valid url formats.
Add some XmlSerialization tests for ActiveRecord [Rick Olson]
has_many :through conditions are sanitized by the associating class. Closes #5971.
Integration tests: headers beginning with X aren't excluded from the HTTP_ prefix, so X-Requested-With becomes HTTP_X_REQUESTED_WITH as expected.
ActionWebService WSDL generation ignores HTTP_X_FORWARDED_HOST
Major updates to ActiveResource, please see changelog and unit tests [Rick Olson]
200...400 are valid response codes. PUT and POST request bodies default to ''.
site= accepts URIs
Tighten rescue clauses. Closes #5985.
Inflections: don't singularize -ies plurals.
Switch to using FormEncodedPairParser for parsing request parameters.
Add desc for test task so that completion can detect it
respond_to .html now always renders #{action_name}.rhtml so that registered custom template handlers do not override it in priority. Custom mime types require a block and throw proper error now.
has_one supports the :dependent => :delete option which skips the typical callback chain and deletes the associated object directly from the database. Closes #5927.
dispatcher test cosmetics
Railties: axe junk webrick dispatcher test
Railties: info tests passing
Railties: info controller tests passing
Railties: generator tests passing
Cleaning up railties tests. Set RAILS_ROOT for Rails::Initializer if undefined.
remove superfluous ABSOLUTE_RAILS_ROOT from webrick server
make the railties test task available
Eliminate Active Support warnings.
Keep onsubmit around for form_remote_for
Update Initializer to use load_once_paths to avoid plugin reloading. References #5852. Add Dependencies.load_once_paths.
Reload should take options for the replace
FormEncodedStringParser needs a tad more work before it can handle POST data (like file handling), so were backing out for a bit
start an Active Resource changelog
Typo in integration app session. Closes #5864.
Deprecation: test deprecated instance vars in partials.
Actually, indifferent access mattered in the bowels (hashes hidden in arrays)
Result is made indifferent on the way out
Changed the POST parameter processing to use the new QueryStringParser and make the result a indifferent hash [DHH]
More tests for array/hashing in parameters, one failing
Nested subclasses are not prefixed with the parent class' table_name since they should always use the base class' table_name. Closes #5911.
Automatically included ActionController::UrlWriter, such that URL generation can happen within ActionMailer controllers. [DHH]
Use Array#assoc in ActiveSupport::OrderedHash.
SQLServer: work around bug where some unambiguous date formats are not correctly identified if the session language is set to german. Closes #5894.
SQLServer: fix eager association test. Closes #5901.
Add UrlWriter to allow writing urls from Mailers and scripts.
Clashing type columns due to a sloppy join shouldn't wreck single-table inheritance. Closes #5838.
map.resources docs typo closes #5895
Migrations: gracefully handle missing migration files. Closes #5857.
MySQL: update test schema for MySQL 5 strict mode. Closes #5861.
Clean up and run the Active Record integration tests by default. Closes #5854.
Rollback #5819 since it's compatible with PostgreSQL 8.1 only. References #5819.
Add test case from ticket #4090
Clean up and run the Active Record integration tests by default.
to_xml: correct naming of included associations. Closes #5831.
Correct example in cookies docs. Closes #5832.
Pushing a record onto a has_many :through sets the association's foreign key to the associate's primary key and adds it to the correct association. Closes #5829.
unbraindeadify addition to has_many :through
Pushing a record onto a has_many :through sets the association's foreign key to the associate's primary key. Closes #5815.
whitespace
PostgreSQL: simplify index introspection query. Closes #5819.
Greatly increased performance of String.to_json, which speeds up RJS considerably on large pages, fixes #3473 [Shugo Maeda]
Add records to has_many :through using <<, push, and concat by creating the association record. Raise if base or associate are new records since both ids are required to create the association. #build raises since you can't associate an unsaved record. #create! takes an attributes hash and creates the associated record and its association in a transaction.
Cache nil results for :included has_one associations also. Closes #5787.
Add tests for prior checkin
Widen too narrow rescue
Detect missing_constants calls from removed modules and fail accordingly.
Update require_dependency to return true or false as require does.
Shorten index name.
Included associations: go deep.
Stop using defined? in Dependencies.qualified_const_defined? since defined? may invoke const_missing.
Nested classes are given table names prefixed by the singular form of the parent's table name.
Dependencies can autoload directories of nested classes.
Make indexed columns easy to extract from the index name. Oracle users should explicitly assign index names due to field length restrictions.
Migrations: uniquely name multicolumn indexes so you don't have to.
Updated trunk to script.aculo.us 1.6.2
cleanup
Relax Routing's anchor pattern warning; it was preventing use of [^/] inside restrictions.
Add controller_paths variable to Routing; Assign Routing.controller_paths from initializer; fix script/about and rails info controller.
Add silencing to deprecations; avoid self-scolding.
Update respond_to docs to follow established naming convention
Tweak RoutingError message to show option diffs, not just missing named route significant keys. [Rick Olson]
Invoke method_missing directly for hidden actions. Closes #3030.
Add debugging logging to Dependencies.
Use require_dependency and not require to load models
Tweak fixtures so they don't try to use a non-ActiveRecord class.  [Kevin Clark]
Remove ActiveRecord::Base.reset since Dispatcher doesn't use it anymore.  [Rick Olson]
Rearrange application resetting and preparation, fix bug with leaking subclasses hash in ActiveRecord::Base [Rick Olson]
Cause ApplicationController to be reloaded
Document find's :from option. Closes #5762. [andrew@redlinesoftware.com]
PostgreSQL: autodetected sequences work correctly with multiple schemas. Rely on the schema search_path instead of explicitly qualifying the sequence name with its schema.  Closes #5280.
Add missing mock directories from the autoload_paths configuration.  [Rick Olson]
Nested controller scaffolding also nests the generated layout.
Require Tempfile explicitly for TestUploadedFile due to changes in class auto loading.  [Rick Olson]
Add RoutingError exception when RouteSet fails to generate a path from a Named Route. [Rick Olson]
be sure to require_dependency on 'application', so that dependency loading is honored correctly
Checkin forgotten add. Update const_missing handler to avoid double loading files.
New dependencies implementation
Cache nil results for has_one associations so multiple calls don't call the database.  Closes #5757. [Michael A. Schoen]
separate warn method for easier localization override
Include called method in instance variable deprecation warning.
DateTime#to_time gives hour/minute/second resolution. Closes #5747.
Deprecation: check whether instance variables have been monkeyed with before assigning them to deprecation proxies. Raises a RuntimeError if so.
Deprecate direct usage of @params. Update ActionView::Base for instance var deprecation.
Add documentation for how to disable timestamps on a per model basis. Closes #5684. [matt@mattmargolis.net Marcel Molina Jr.]
Clarify usage of script/plugin source. Closes #5344. [james.adam@gmail.com]
it's me, john wayne
Deprecation! @session and @flash will be removed after 1.2. Use the session and flash methods instead. You'll get printed warnings during tests and logged warnings in dev mode when you access either instance variable directly.
Don't warn when the deprecated ivar proxy is instantiated.
attr_internal to support namespacing and deprecation
Proper initialization
Don't save has_one associations unnecessarily. Closes #5735.
add Rdocs to map.resources
Remove requires from webrick server; they were causing dispatcher.rb to be double loaded.
Move method
Add Dispatcher.to_prepare and config.to_prepare to provide a pre-request hook.
fixed lifecycle tests so they instantiate the observers
Tweak the Rails load order so observers are loaded after plugins, and reloaded in development mode. Closed #5279.  [Rick Olson]
Refactor ActiveRecord::Base.reset_subclasses to #reset, and add global observer resetting.  [Rick Olson]
Formally deprecate the deprecated finders. [Koz]
Raise fully qualified names upon name errors. Closes #5533.
Formally deprecate rich associations. [Koz]
Add extention to obtain the missing constant from NameError instances
I know we all love > but we can't all have them
Make Routing noisy when an anchor regexp is assigned to a segment. Closes #5674
Added that you can change the web server port in config/lighttpd.conf from script/server --port/-p (closes #5465) [mats@imediatec.co.uk]
Make test_tag_options pass (closes #5600) [shugo]
Added months and years to the resolution of DateHelper#distance_of_time_in_words, such that "60 days ago" becomes "2 months ago" (closes #5611) [pjhyett@gmail.com]
script/performance/profiler compatibility with the new ruby-prof, including an option to choose the results printer. Closes #5679.
Mention reload! when talking about console (closes #5560)
Refactored select routing for SQL Server adapter (closes #5683) [tom@popdog.net]
Remove duplicate routes from mapped resources (closes #5712) [eigentone@gmail.com]
Remove unnecessary brackets in regex (closes #5715)
Call an inspector for inspector
DeprecatedInstanceVariableProxy stand-in for @request, @attributes, and friends.
Short documentation to mention use of Mime::Type.register. Closes #5710 [choonkeat@gmail.com]
Make controller_path available as an instance method. Closes #5724.
./script/generate usage. Closes #5721.
The white space inquisition is coming for you!
Make us pass to ease RESTful children posts
Make us pass to ease RESTful children posts
Make action caching aware of different formats for the same action so that, e.g.  foo.xml is cached separately from foo.html. Implicitly set content type when reading in cached content with mime revealing extensions so the entire onous isn't on the webserver. PDI MORE CACHING TESTS [Marcel Molina Jr.]
The exists? class method should treat a string argument as an id rather than as conditions. Closes #5698.
Thoroughly document inflections. Closes #5700.
Added Module#alias_attribute [Jamis/DHH]
Added support for conditions on Base.exists? (closes #5689) [josh@joshpeek.com]
Schema dumper quotes date :default values.
More tweaks to make sure assert_redirected_to works with symbols
Make sure assert_respond_to works with symbol parameters
Deprecation: easier to work with warning behavior as procs; default behaviors for each environment so users needn't update env.rb; and testing pleasure with assert_deprecated, assert_not_deprecated. Test prints to , dev logs, production ignores.
more concise destroy test
 r4889@ks:  jeremy | 2006-07-31 20:27:15 -0700  Create and update return the new pk and the number of affected rows, respectively. The job of returning true to appease the validations chain is up to create_or_update.
Restrict Request Method hacking with ?_method to POST requests.  [Rick Olson]
Nested resource testing.
Nesting map.resources
Calculate sum with SQL, not Enumerable on HasManyThrough Associations. [Dan Peterson]
Dup the options passed to map.resources so that multiple resources get the same options.  [Rick Olson]
Added map.resources from the Simply Restful plugin (backwards incompatible with the plugin!) [DHH]
 r4886@ks:  jeremy | 2006-07-31 00:01:55 -0700  comma
 r4880@ks:  jeremy | 2006-07-30 23:52:59 -0700  Only set method_name = md.pre_match if the pre_match is an attribute. Plays nicely with other ? suffixed attribute methods.  r4881@ks:  jeremy | 2006-07-30 23:53:37 -0700  Heavier testing for attribute method suffixes.
 r4854@ks:  jeremy | 2006-07-30 00:59:18 -0700  Attribute methods  r4877@ks:  jeremy | 2006-07-30 20:23:53 -0700  Factor the attribute#{suffix} methods out of method_missing for easier extension.  r4878@ks:  jeremy | 2006-07-30 20:42:23 -0700  More specific method naming, declare many attribute method suffixes, set up default suffixes at module include rather than lazily.
show missing file path on failed fixture_file_upload
Ensure TestRequest#session always returns a TestSession [Koz]
Patch sql injection vulnerability when using integer or float columns.
Don't search a load-path of '.' for controller files, since it may include symlinks to all kinds of things and result in far too many irrelevant files being considered
Update integration.rb to require test_process explicitly instead of via Dependencies
Initial Version of Deprecation for Rails[Koz]
Added ICS to extension lookup recognition [Lars Pind]
BigDecimal: schema dumper formatting
Allow #count through a has_many association to accept :include.  [Dan Peterson]
Strip boolean XML content before checking for 'true' [Rick Olson]
fix association exception messages, fix them so the error messages actually display
Make sure script/reaper only reaps dispatcher pids by default, and not the spawner's pid.
Allow form_for and fields_for to work with indexed form inputs.  [Jeremy Kemper, Matt Lyon]
Remove leak in development mode
Get rid of constant redefinition warnings when running AP tests
Provide support for decimal columns to form helpers. Closes #5672. [dave@pragprog.com]
Customize default BigDecimal formatting. [dave@pragprog.com]
Correctly convert <foo nil=true> to nil when using Hash.create_from_xml.  [Rick]
create_table rdoc: suggest :id => false for habtm join tables
PostgreSQL: return array fields as strings. Closes #4664.
occured -> occurred. Closes #5559.
Ignore fixtures in test cases if there are no database configurations. References #5497.
Test connections use AR::Base.configurations. References #5497.
SQLServer: added tests to ensure all database statements are closed, refactored identity_insert management code to use blocks, removed update/delete rowcount code out of execute and into update/delete, changed insert to go through execute method, removed unused quoting methods, disabled pessimistic locking tests as feature is currently unsupported, fixed RakeFile to load sqlserver specific tests whether running in ado or odbc mode, fixed support for recently added decimal types, added support for limits on integer types. Closes #5670.
Oracle: BigDecimal support. Closes #5667.
Optional identity for Enumerable#sum defaults to zero. Closes #5657.
Update documentation for erb trim syntax. Closes #5651.
Firebird database tasks.
 r4704@asus:  jeremy | 2006-06-27 12:00:19 -0700  decimal  r4705@asus:  jeremy | 2006-06-27 12:20:47 -0700  current_adapter? checks whether any of its arguments is the name of the current adapter class  r4834@asus:  jeremy | 2006-07-08 13:08:24 -0700  Room to float.  r4835@asus:  jeremy | 2006-07-08 13:09:18 -0700  Give lock test a few chances.  r4836@asus:  jeremy | 2006-07-08 13:12:05 -0700  Numeric and decimal columns map to BigDecimal instead of Float. Those with scale 0 map to Integer. Closes #5454.
 r4487@asus:  jeremy | 2006-04-29 12:21:39 -0700  Check whether @flash is defined? for warnings-safety.  r4488@asus:  jeremy | 2006-04-29 12:23:15 -0700  Check whether @flash is defined? for warnings-safety. Obviates nil? check.  r4489@asus:  jeremy | 2006-04-29 12:45:18 -0700  Check whether @session is defined? for warnings-safety.  r4490@asus:  jeremy | 2006-04-29 12:50:41 -0700  Check whether @rendering_runtime is defined? for warnings-safety.  r4491@asus:  jeremy | 2006-04-29 12:55:01 -0700  Check whether @_cycles is defined? for warnings-safety.  r4492@asus:  jeremy | 2006-04-29 12:59:19 -0700  Check whether instance variables are defined? for warnings-safety.  r4493@asus:  jeremy | 2006-04-29 13:14:09 -0700  Add nil @template to PrototypeHelperTest to suppress unitialized instance variable warning.  r4494@asus:  jeremy | 2006-04-29 13:31:34 -0700  Check whether @auto_index defined? for warnings-safety.  r4495@asus:  jeremy | 2006-04-29 13:32:24 -0700  Wrap content_columns redefinitions with silence_warnings.  r4496@asus:  jeremy | 2006-04-29 13:35:28 -0700  Wrap more redefinitions with silence_warnings.  r4829@asus:  jeremy | 2006-07-08 10:59:20 -0700  abstract unit, fix warnings  r4830@asus:  jeremy | 2006-07-08 11:06:12 -0700  Use parens to silence warning.  r4831@asus:  jeremy | 2006-07-08 11:06:48 -0700  Use parens to silence warning.
Firebird migrations support. Closes #5337.
Respect type method. #5337
Pass :id => nil or :class => nil to error_messages_for to supress that html attribute. Closes #3586.
Reset @html_document between requests so assert_tag works. Closes #4810.
Update render :partial documentation. Closes #5646.
Dispatcher processes rescued actions with the same controller that processed the request. Closes #4625.
PostgreSQL: create/drop as postgres user. Closes #4790.
rails -d frontbase to create a new project with a frontbase database.yml. Closes #4945.
Rollback [4584], bad test. Reopens #3819.
Update callbacks documentation. Closes #3970.
Don't modify options parameters in-place. Closes #3819.
make_dest_dirs rake task uses path = . by default. Closes #3874.
Integration tests behave well with render_component. Closes #4632.
Clarify partial filename constraints. Closes #1161.
PostgreSQL: correctly quote the ' in pk_and_sequence_for. Closes #5462.
PostgreSQL: correctly quote microseconds in timestamps. Closes #5641.
find_one uses find_every.first instead of find_initial since its primary key constraint obviates find_initial's :limit => 1. References #5635.
Clearer has_one/belongs_to model names (account has_one :user). Closes #5632.
More succinct current_adapter? Enable locking duel for Oracle.
PostgreSQL: add_column can add a not null column with a default.
Oracle: use nonblocking queries if allow_concurrency is set, fix pessimistic locking, don't guess date vs. time by default (set OracleAdapter.emulate_dates = true for the old behavior), adapter cleanup. Closes #5635.
Ensure the logger is initialized. Closes #5629.
Updated
Rename test file so it runs for MySQL only.
Added Mongrel-spawning capabilities to script/process/spawner. Mongrel will be the default choice if installed, otherwise FCGI is tried [DHH]
Grammar fix in aggregations rdoc. Closes #5613.
Really, this time. References #5612.
Update scaffolding functional tests to use :id => people(:first) instead of :id => 1. Closes #5612.
text_field_with_auto_complete stylesheet uses <style type="text/css"> instead of bare <style>. Closes #5610.
db:test:clone should remove existing tables before reloading the schema. Closes #5607.
HashWithIndifferentAccess shouldn't confuse false and nil. Closes #5601. Nor should it mistreat legitimate nil values.
revert ActiveRecord equality change.  Closes #5596
Doc fixes (closes #5443)
Added exception handling of missing layouts (closes #5373) [chris@ozmm.org]
rake should run active_schema_mysql_test.rb (closes #5390)
Doc fix (closes #5418) [kevwil@gmail.com]
Doc fix (closes #5429)
Added show_source_list and show_call_stack to breakpoints to make it easier to get context (closes #5476) [takiuchi@drecom.co.jp]
Added :group to available options for finds done on associations (closes #5516) [mike@michaeldewey.org]
Doc fix (closes #5504) [lee@omara.ca]
Doc fix (closes #5576)
Doc fixes
Added special case for "1 Byte" in NumberHelper#number_to_human_size (closes #5593) [murpyh@rubychan.de]
Typo in alias_method_chain rdoc.
Add forgotten test/abstract_unit
Minor tweak to improve performance of ActiveRecord::Base#to_param
Generate scaffold layout in subdirectory appropriate to its module nesting. Closes #5511.
fix regexp typo
 r4748@asus:  jeremy | 2006-06-29 22:40:35 -0700  Loosen urlencoded content type check.
Mailer template root applies to a class and its subclasses rather than acting globally. Closes #5555.
 r4738@asus:  jeremy | 2006-06-29 20:18:43 -0700  Observers also watch subclasses created after they are declared. Closes #5535.
Add route_name_path method to generate only the path for a named routes. For example, map.person will add person_path.
Missing method_key.
Retain symbol method key and assign_method_name.
 r4732@asus:  jeremy | 2006-06-29 13:51:32 -0700  Chop RAILS_ROOT from file path for readability. Preserve non-alphanumeric characters for uniqueness.
 r4730@asus:  jeremy | 2006-06-29 13:13:38 -0700  Avoid naming collision among compiled view methods. Back out AM workaround. References #5520.
 r4724@asus:  jeremy | 2006-06-28 19:22:46 -0700  Removed deprecated timestamps_gmt class methods.
More compatible Hash.create_from_xml. Closes #5523.
Resolve conflict among mailer actions with the same name. Closes #5520.
 r4720@asus:  jeremy | 2006-06-28 18:12:57 -0700  Don't be such a hardass. References #5497.
script/server prefers mongrel over lighttpd
Mongrel: script/server tails the rails log like it does with lighttpd. Closes #5541.
Don't assume Active Record is available. Closes #5497.
Mongrel: script/server works on Win32. Closes #5499.
rake build_mysql_database grants permissions to rails@localhost. Closes #5501.
Remove opts.on { |options[:option_name] } style hash assignment. Closes #4440.
Enumerable#sum without blocks. Closes #5505. Don't assume 0 identity for sum.
PostgreSQL: support microsecond time resolution. Closes #5492.
Add AssociationCollection#sum since the method_missing invokation has been shadowed by Enumerable#sum. Closes #5500.
Initial check-in of Active Resourse
Add Enumerable#index_by
Cant use separate module [DHH]
Added Enumerable#sum for calculating a sum from the elements [DHH]
Mongrel support for script/server. Closes #5475.
Correct and clarify Array#to_sentence docs. Closes #5458.
Get there
preserve chained method punctuation
alias_method_chain preserves method punctuation so foo, foo?, and foo! may be chained with the same feature.
prefer sibling actionpack
documentation fixes for ActionController::Verification::ClassMethods verify method.  Closes #4310.  [oleg.frolov@gmail.com]
Don't use keywords as local vars in documentation.  Closes #5291. [jeremy@planetargon.com]
Remove some cruft from the framework:update:configs task and fix the documentation. Closes #5300. [jeremy@planetargon.com]
Determine the correct template_root for deeply nested components. Closes #2841.
Added find_or_initialize_by_X which works like find_or_create_by_X but doesn't save the newly instantiated record
 r4669@asus:  jeremy | 2006-06-20 12:53:36 -0700  Getting picayune with locking_test.  Closes #4871.
Include rails -v / rails --version in app generator usage. Closes #5440.
 r4667@asus:  jeremy | 2006-06-20 00:59:15 -0700  tpyo
 r4664@asus:  jeremy | 2006-06-19 18:55:36 -0700  Use the #lock method to obtain a row lock on a single record. Simply reloads the record with :lock => true.
 r4663@asus:  jeremy | 2006-06-19 17:23:57 -0700  ActiveRecord::Locking is now ActiveRecord::Locking::Optimistic (to make way for Pessimistic.)
 r4644@asus:  jeremy | 2006-06-16 14:57:03 -0700  locking  r4645@asus:  jeremy | 2006-06-17 12:41:30 -0700  missing reply fixture  r4646@asus:  jeremy | 2006-06-19 13:05:23 -0700  Use a per-thread (rather than global) transaction mutex so you may execute concurrent transactions on separate connections.  r4647@asus:  jeremy | 2006-06-19 13:07:23 -0700  PostgreSQL: introduce allow_concurrency option which determines whether to use blocking or asynchronous #execute. Adapters with blocking #execute will deadlock Ruby threads. The default value is ActiveRecord::Base.allow_concurrency.  r4648@asus:  jeremy | 2006-06-19 13:08:40 -0700  Pass the default allow_concurrency when instantiating new connections.  r4649@asus:  jeremy | 2006-06-19 13:11:12 -0700  Break out concurrent transaction tests and run them for PostgreSQLAdapter only (need to fork or system('some_test_script') for the other adapters)  r4650@asus:  jeremy | 2006-06-19 13:42:48 -0700  Row locking. Provide a locking clause with the :lock finder option or true for the default "FOR UPDATE".  r4661@asus:  jeremy | 2006-06-19 15:36:51 -0700  excise the junk mutex
Enhance Symbol#to_proc so it works with list objects, such as multi-dimensional arrays. Closes #5295 [nov@yo.rim.or.jp]
Added Hash.create_from_xml(string) which will create a hash from a XML string and even typecast if possible [DHH]
Added Jim Weirich's excellent FlexMock class to vendor (Copyright 2003, 2004 by Jim Weirich (jim@weriichhouse.org)) -- it's not automatically required, though, so require 'flexmock' is still necessary [DHH]
add passing test to make sure unhandled requests don't load unnecessary classes.  Closed #5408.  [nkriege@hotmail.com]
Remove problematic control chars in rescue template. (closes #5316)
Make sure passed routing options are not mutated by routing code. (closes #5314)
Do some path normalization to prevent the possible_controllers list from containing invalid entries
Make sure named routes are never generated relative to some containing module
Improve parameter expiry handling to fix sticky-id issue. Add a more informative Route#to_s method.
Include uninstall.rb (closes #5003)
Remove dependency on Pathname in new routes
Make sure changing the controller from foo/bar to bing/bang does not change relative to foo.
Use explicit delegation instead of method aliasing for AR::Base.to_param -> AR::Base.id. (closes #5299)
Escape the entire path before trying to recognize it (closes #3671)
Make sure :id and friends are properly unescaped (closes #5275).
Make sure regexp chunks are grouped when the segment has a regexp constraint so that captures are counted correctly (closes #5267)
Added binary formatting
Refactored ActiveRecord::Base.to_xml to become a delegate for XmlSerializer, which restores sanity to the mega method. This refactoring also reinstates the opinions that type="string" is redundant and ugly and nil-differentiation is not a concern of serialization [DHH]
Rolled back broken aliasing
Added documentation for inflections (closes #5013) [m.stienstra@fngtps.com]
Added uninstall.rb hook to plugin handling, such that plugins have a way of removing assets and other artifacts on removal (closes #5003) [takiuchi@drecom.co.jp]
Create temporary dirs relative to RAILS_ROOT when running script/server #5014 [elliot@townx.org]
Added simple hash conditions to find that'll just convert hash to an AND-based condition string (closes #5143) [hcatlin@gmail.com]
For Firebird adapter
Added disconnect! to Firebird adapter (closes #5210) [kennethkunz@gmail.com]
Make more Firebird tests pass (closes #5188) [kennethkunz@gmail.com]
Uncry thyself
to_xml fixes, features, and speedup. Closes #4989.
fixtures :accounts for base_test. Closes #5268.
Add OrderedHash#values
Rewind readable CGI params so others may reread them (such as CGI::Session when passing the session id in a multipart form). Closes #210.
Finish custom handling [DHH]
Make new mime types first class [DHH]
Make new mime types first class [DHH]
Added Mime::TEXT (text/plain) and Mime::ICS (text/calendar) as new default types [DHH]
Added Mime::Type.register(string, symbol, synonyms = []) for adding new custom mime types [DHH]
Added support for Mime objects in render :content_type option [DHH]
Excise the headache-prone syswrite in send_file.
PostgreSQL: don't ignore port when host is nil since it's often used to label the domain socket. Closes #5247.
Add :status option to send_data and send_file. Defaults to '200 OK'. Closes #5243.
Dont keep nothing as a lookup [DHH]
delegate AssociationProxy#to_param to the association target so that associated models can be used in routes. [Rick]
Tweaks to integration tests and url rewriter for further compatibility with new routes
Add RouteSet::Mapper#named_route for compatibility with adding programmatically named routes
New routes implementation. Simpler, faster, easier to understand. The published API for config/routes.rb is unchanged, but nearly everything else is different, so expect breakage in plugins and libs that try to fiddle with routes.
Mind the order of things.
Quell warnings. Closes #5245.
Records and arrays of records are bound as quoted ids.
Oracle and others wont take a string null for an answer
Cope with missing content type and length headers. Parse parameters from multipart and urlencoded request bodies only. Accept multipart PUT parameters. Closes #5235.
Added Array#to_s(:db) that'll produce a comma-separated list of ids [DHH] Split Grouping into its own file
fix test warnings
Add a list of regexes assert_queries skips in the ActiveRecord test suite.  [Rick]
Added interrogation of params[:format] to determine Accept type. If :format is specified and matches a declared extension, like "rss" or "xml", that mime type will be put in front of the accept handler. This means you can link to the same action from different extensions and use that fact to determine output [DHH]
Make "script/plugin install" work with svn+ssh URLs
Easy way to set accepting for functional tests
If not passing a hash, assume :id => whatever
band-aid for oracle
Expanded :method option in FormTagHelper#form_tag, FormHelper#form_for, PrototypeHelper#remote_form_for, PrototypeHelper#remote_form_tag, and PrototypeHelper#link_to_remote to allow for verbs other than GET and POST by automatically creating a hidden form field named _method, which will simulate the other verbs over post [DHH]
Expanded :method option in FormTagHelper#form_tag, FormHelper#form_for, PrototypeHelper#remote_form_for, PrototypeHelper#remote_form_tag, and PrototypeHelper#link_to_remote to allow for verbs other than GET and POST by automatically creating a hidden form field named _method, which will simulate the other verbs over post [DHH]
Added :method handling for other verbs to remote_form_tag and remote_form_for [DHH]
Added lib/ to the directories that will get application docs generated [DHH]
Provide Association Extensions access to the instance that the association is being accessed from. Closes #4433 [josh@hasmanythrough.com]
Expanded :method option in FormHelper#form_tag to allow for verbs other than GET and POST by automatically creating a hidden form field named _method, which will simulate the other verbs over post [DHH]
Added :method option to UrlHelper#link_to, which allows for using other verbs than GET for the link. This replaces the :post option, which is now deprecated. Example: link_to "Destroy", person_url(:id => person), :method => :delete [DHH]
Update OpenBase adaterp's maintainer's email address. Closes #5176. [Derrick Spell]
Add generator files...
Add observer generator. Closes #5167. [francois.beausoleil@gmail.com]
Add a quick note about :select and eagerly included associations. [Rick]
preliminary support for plugin meta files
follow_redirect doesn't complain about being redirected to the same controller. Closes #5153.
Session migration generator obeys pluralize_table_names. Closes #5145.
Normalize classify's argument to a String so that it plays nice with Symbols. [Marcel Molina Jr.]
Add docs for the :as option in has_one associations.  Closes #5144 [cdcarter@gmail.com]
Make Oracle happy
Add modifications to database rake tasks as part of #5139. [schoenm@earthlink.net]
Minor style tweaks
Added :allow_nil option for aggregations (closes #5091) [ian.w.white@gmail.com]
Disabling sessions is not a common day event
Strip out leading schema name in classify. References #5139. [schoenm@earthlink.net]
Remove Enumerable#first_match in favor of using break(result_for_each)
create! no longer blows up when no attributes are passed and a :create scope is in effect (e.g. foo.bars.create! failed whereas foo.bars.create!({}) didn't.)
Change the request.env example in AC::Base docs to a var that exists (REMOTE_IP doesn't) and isn't already wrapped by a request method (i.e. request.remote_ip).  Closes #5113.
Add layout attribute to response object with the name of the layout that was rendered, or nil if none rendered. [Kevin Clark kevin.clark@gmail.com]
Make Array#in_groups_of just return the grouped collection if a block isn't given. [Marcel Molina Jr.]
performance enhancement for previous patch [skaes]
Call Inflector#demodulize on the class name when eagerly including an STI model.  Closes #5077 [info@loobmedia.com]
Preserve MySQL boolean column defaults when changing a column in a migration. Closes #5015. [pdcawley@bofh.org.uk]
Don't destroy a HashWithIndifferentAccess if symbolize_keys! or  stringify_keys! is called on it. Closes #5076. [Marcel Molina Jr., guy.naor@famundo.com]
Wipe those tears.. References [4335].
rake test:recent understands subdirectories. Closes #2925.
The app generator detects the XAMPP package's MySQL socket location. Closes #3832.
PostgreSQL: migrations support :limit with :integer columns by mapping limit < 4 to smallint, > 4 to bigint, and anything else to integer. Closes #2900.
form.text_area handles the :size option just like the original text_area (:size => '60x10' becomes cols="60" rows="10")
ActionMailer::Base documentation rewrite. Closes #4991 [Kevin Clark, Marcel Molina Jr.]
Excise ingrown code from FormOptionsHelper#options_for_select. Closes #5008.
Trim typo.
Document Active Support's Module::delegate. Closes #5002.
The app generator sets a session key in application.rb so apps running on the same host may distinguish their cookies. Closes #2967.
Dates and times interpret empty strings as nil rather than 2000-01-01. Closes #4830.
uniq preserves order. References [4325].
Allow :uniq => true with has_many :through associations.
Distinguish the spawners for different processes
Added -n/--process to script/process/spawner name the process pid (default is dispatch) [DHH]
Added -n/--process to script/process/spawner name the process pid (default is dispatch) [DHH]
Add README to gem [Dave Thomas]
Make the inspector work on debian (closes #4935) [Lars pind]
Small fix in routing to allow dynamic routes (broken after [4242]) [Rick]
Namespaced OrderedHash so the Rails implementation does not clash with any others. (fixes #4911) [Julian Tarkhanov]
Add Integration Session methods for PUT and DELETE requests [Rick]
Use reverse_each rather than reverse.each. [Marcel Molina Jr.]
Ensure that StringIO is always available for the Schema dumper. [Marcel Molina Jr.]
Allow AR::Base#to_xml to include methods too. Closes #4921. [johan@textdrive.com]
Replace superfluous name_to_class_name variant with camelize. [Marcel Molina Jr.]
Replace alias method chaining with Module#alias_method_chain. [Marcel Molina Jr.]
Strip out punctuation on predicates or bang methods being aliased with alias_method_chain since target?_without_feature is not a valid method name. Add tests for Module#alias_method_chain. [Marcel Molina Jr.]
Replace Ruby's deprecated append_features in favor of included. [Marcel Molina Jr.]
Revert unintential change to filter parameters
Update README
Use #flush between switching from #write to #syswrite. Closes #4907. [Blair Zajac <blair@orcaware.com>]
Remove duplicate fixture entry in comments.yml. Closes #4923. [Blair Zajac <blair@orcaware.com>]
Update FrontBase adapter to check binding version. Closes #4920. [mlaster@metavillage.com]
New Frontbase connections don't start in auto-commit mode. Closes #4922. [mlaster@metavillage.com]
Added script/process/inspector to do simple process status information on Rails dispatchers keeping pid files in tmp/pids [DHH]
Status in one line
Added a simple process inspector
When grouping, use the appropriate option key. [Marcel Molina Jr.]
Only modify the sequence name in the FrontBase adapter if the FrontBase adapter is actually being used. [Marcel Molina Jr.]
Added pid file usage to script/process/spawner and script/process/reaper along with a directive in default config/lighttpd.conf file to record the pid. They will all save their pid file in tmp/pids [DHH]
Don't require the frontbase adapter until you need to
Documentation fix: integration test scripts don't require integration_test. Closes #4914. [Frederick Ros <sl33p3r@free.fr>]
Add support for FrontBase (http://www.frontbase.com/) with a new adapter thanks to the hard work of one Mike Laster. Closes #4093. [mlaster@metavillage.com]
ActionController::Base Summary documentation rewrite. Closes #4900. [kevin.clark@gmail.com]
Allow error_messages_for to report errors for multiple objects, as well as support for customizing the name of the object in the error summary header. Closes #4186. [andrew@redlinesoftware.com, Marcel Molina Jr.]
Enhance documentation for setting headers in integration tests. Skip auto HTTP prepending when its already there. Closes #4079. [Rick Olson]
Add warning about the proper way to validate the presence of a foreign key. Closes #4147. [Francois Beausoleil <francois.beausoleil@gmail.com>]
Allow default options in with_options to be overridden. Closes #4480. [murphy@cYcnus.de]
Add Oracle support for CLOB inserts. Closes #4748. [schoenm@earthlink.net sandra.metz@duke.edu]
Various fixes for sqlserver_adapter (odbc statement finishing, ado schema dumper, drop index). Closes #4831. [kajism@yahoo.com]
Mention in docs that config.frameworks doesn't work when getting Rails via Gems. Closes #4857. [Alisdair McDiarmid]
Documentation for AbstractRequest. Closes #4895. [kevin.clark@gmail.com]
Added Module#alias_method_chain
Add support for :order option to with_scope. Closes #3887. [eric.daspet@survol.net]
Prettify output of schema_dumper by making things line up. Closes #4241 [Caio Chassot <caio@v2studio.com>]
Refactor various InstanceTag instance method to class methods. Closes #4800. [skaes@web.de]
Make build_postgresql_databases task make databases owned by the postgres user. Closes #4790. [mlaster@metavillage.com]
Sybase Adapter type conversion cleanup [dev@metacasa.net]
Remove all remaining references to @params in the documentation.
Add documentation for redirect_to :back's RedirectBackError exception.
always forget the changelog
Raise error when trying to add to a has_many :through association.  Use the Join Model instead. [Rick]
Allow all calculations to take the :include option, not just COUNT (closes #4840) [Rick]
Change the scaffolding layout to use yield rather than @content_for_layout.
Update layout and content_for documentation to use yield rather than magic @content_for instance variables.
Updated to Builder 2.0 [DHH]
only require redcloth/bluecloth if they are not already loaded [Rick]
Cache CgiRequest#request_parameters so that multiple calls don't re-parse multipart data.
Diff compared routing options.  Allow #assert_recognizes to take a second arg as a hash to specify optional request method [Rick]
allow -'s in tag names for html scanner when scanning AR xml documents
Use ActiveSupport's String#join method
Update inconsistent migrations documentation. Closes #4683. [machomagna@gmail.com]
Diff compared options with #assert_redirected_to [Rick]
reset TestRequest#parameters after assigning paramters
restore some commented lines
fix to ';' interpretation in route recognition--only follow a route with ';' if the segment in question actually contains a ';'
Add ActiveRecord::Errors#to_xml
Add support in routes for semicolon delimited "subpaths", like /books/:id;:action
Properly quote index names in migrations (closes #4764) [John Long]
forgot changelog entry
Change link_to_function and button_to_function to (optionally) take an update_page block instead of a JavaScript string. Closes #4804.
Ensure that Associations#include_eager_conditions? checks both scoped and explicit conditions [Rick]
Associations#select_limited_ids_list adds the ORDER BY columns to the SELECT DISTINCT List for postgresql. [Rick]
Doc fix
Its 2006, not 2005
DRY up association collection reader method generation.
DRY up and tweak style of the validation error object.
Modify ActiveRecord::Base.count so it shares the same signature as #calculate, but maintains backwards compatibility.
Correct spurious documentation example code which results in a SyntaxError.
Modify routing so that you can say :require => { :method => :post } for a route, and the route will never be selected unless the request method is POST. Only works for route recognition, not for route generation.
Add Array#split for dividing arrays into one or more subarrays by value or block
Add :case_sensitive option to validates_uniqueness_of (closes #3090) [Rick]
 Allow multiple association extensions with :extend option (closes #4666) [Josh Susser]
Use Aras RubyForge uploader
Include the calculations fix for a new release of AR
Prepare for tiny release of 1.1.2
Added :add_headers option to verify which merges a hash of name/value pairs into the response's headers hash if the prerequisites cannot be satisfied
Added ActionController.filter_parameter_logging that makes it easy to remove passwords, credit card numbers, and other sensitive information from being logged when a request is handled #1897 [jeremye@bsa.ca.gov]
RAILS_ROOT, please
Don't match commented out RAILS_GEM_VERSIONs. Avoid "Constant already defined" warnings for RAILS_GEM_VERSION.
Not all file systems are case sensitive.  Things like 'rake gem' were failing on such file systems because the Rakefile listed 'rakefile'.
fix calculations for the Oracle Adapter (closes #4626) [Michael Schoen]
Enhances plugin#discover allowing it to discover svn:// like URIs (closes #4565) [ruben.nine@gmail.com]
Enable Limit/Offset in Calculations (closes #4558) [lmarlow@yahoo.com]
Update versions for Rails 1.1.1
Update to Prototype 1.5.0_rc0
Do filter condition lookup against the actual hash
Failed test for Marcel to ponder
Reflect on aggregation ignores :class_name option (fixes #4599) [lars pind]
Doc fix (closes #4609)
invoke / invoke_delegated / invoke_layered check for correct number of args (closes #4610) [jerrett@bravenet.com]
Stop respond_to? from throwing when instances are created 'irregularly' i.e. yaml loads.  [zenspider] Closes #4587
Support eager includes when going through a polymorphic has_many association. [Rick]
Added support for eagerly including polymorphic has_one associations. (closes #4525) [Rick]
Added descriptive error messages for invalid has_many :through associations: going through :has_one or :has_and_belongs_to_many [Rick] Added support for going through a polymorphic has_many association: (closes #4401) [Rick]
Added that Dispatcher exceptions should not be shown to the user unless a default log has not been configured. Instead show public/500.html [DHH]
Honor skipping filters conditionally for only certain actions even when the parent class sets that filter to conditionally be executed only for the same actions. Closes #4522.
Note difference between fcgis
Delegate xml_http_request in integration tests to the session instance.
fsking svn...
Add forgotten testcase
CHANGED DEFAULT: Don't parse YAML input by default, but keep it available as an easy option [DHH]
Multiple fixes and optimizations in PostgreSQL adapter, allowing ruby-postgres gem to work properly. Closes #4461
A better idea, take the -qr HEAD log as before but use the root of the svn instead of rails trunk.  This allows svn 1.1.x (debian) to work with freeze edge out of the box, without having to specify REVISION.
If using svn 1.1.x and no REVISION is specified, give an error message to the user suggesting they use REVISION.
Reformatted for better readability [DHH]
Get the green light for Oracle AR unit tests (closes #4573) [Michael Schoen]
Do not convert driver options to strings (closes #4499) [Kent]
fix ruby syntax in comments for the JavascriptGenerator (closes #4577) [Rick]
Doc fix #3960 [jonrailsdev@shumi.org]
Changed those private ActiveRecord methods to take optional third argument :auto instead of nil for performance optimizations.  (closes #4456) [Stefan]
Abort broken tighter resolution suppression. Closes #4431
Typo fix
Install alias so Rails::InfoController is accessible at /rails_info. Closes #4546.
Ever so lined up
Show tag properly in about
Added TAG option for rake rails:freeze:edge, so you can say rake rails:freeze:edge TAG=rel_1-1-0 to lock to the 1.1.0 release [DHH]
Added docs for to_proc
Add additional autocompleter options [aballai, Thomas Fuchs]
Private ActiveRecord methods add_limit, add_joins, and add_conditions take an OPTIONAL third argument 'scope' (closes #4456) [Rick]
Doc fix (closes #4515)
Applied Prototype $() performance patches (#4465, #4477) and updated script.aculo.us [Sam Stephenson, Thomas Fuchs]
Doc fix (closes #4521)
railties Rakefile refers to old rails_version.rb location (closes #4530) [wilsonb@gmail.com]
Use --simple-prompt instead of --prompt-mode simple for console compatibility with Windows/Ruby 1.8.2 #4532 [starr@starrnhorne.com]
dont merge when you can update (closes #4529) [skaes]
Exit when no gem is found; expand on error message
Remove explicit require of departed file.
Remove explicit require of departed file.
Specify gem version in environment.rb
Make Rails::VERSION implicitly loadable. Closes #4491.
Teach Rails apps to only load gems of the same Rails version they were generated with.
Do not implicitly mark recordss of has_many :through as readonly but do mark habtm records as readonly (eventually only on join tables without rich attributes).
pass the correct reflection to HasManyThroughAssociationPolymorphicError
Make asset timestamping safe to use on assets that don't exist
Skip complete URLs
Added automated timestamping to AssetTagHelper methods for stylesheets, javascripts, and images when Action Controller is run under Rails [DHH]
Added gzip compression for JavaScript, CSS, and HTML to default lighttpd.conf [DHH]
I tag by hand, thank you
Rails 1.1.0 is real
Made ready for release
to_xml documentation [DHH, Koz]
regression test for #4206
Add 1.0 marker to edge rails changelongs
documentation for polymorphic joins
Add documentation for respond_to
Make release rake work on 1.8.4
Replace 'rescue Object' with a finer grained rescue. Closes #4431
Show usage description if no code is passed (closes #4447) [murphy@cYcnus.de]
Update description
Allow load_fixtures to load a subset of total fixture data.  [Chad Fowler]
Spell existence properly (closes #4442)
Making ActiveRecord faster [skaes]
Speedup for sortable with handles initialization in rails trunk too
Add support for :include to with_scope [andrew@redlinesoftware.com]
Update to Prototype 1.5.0_pre1
Add CachingTools::HashCaching to simplify the creation of nested, autofilling hashes.
add the TestCase.fixture_path when testing file uploads
Don't raise when the migration file is missing or it'll stop destroy model in the middle if there is no matching migration file.
ActionView: Allow to register a Template handler with a Symbol (dont kill markaby) (closes #4328) [murphy@cYcnus.de]
Support the use of public synonyms with the Oracle adapter; required ruby-oci8 v0.1.14 (closes #4390) [schoenm@earthlink.net]
effects.js and controls.js fixes
finish form_for change, allow hash as the second param: form_for :post, :url => { }.
Remove broken hack which has no effect.
Update Object.subclasses_of to locate nested classes. Update Object.remove_subclasses_of to use Class.remove_class.
Change #form_for and #fields_for so that the second argument is not required [Dave Thomas]
When doing svn log -qr HEAD trunk/url, a log message with revision will not show if the last commit was not in the trunk/ path.
one too many
Update to script.aculo.us 1.6
Only string_to_binary if the column responds
Change periods (.) in table aliases to _'s.  Closes #4251 [jeff@ministrycentered.com]
Changed has_and_belongs_to_many join to INNER JOIN for Mysql 3.23.x.  Closes #4348 [Rick]
Dont require rake to run the server, just have a little undryness instead (closes #4213) [DHH]
Beef up the default test just a tad
The Ruby path should be a string (closes #4361) [DHH]
Do it in style
ST is Cap (closes #4214)
Add an integration test generator
Use example.com as standard (closes #4413) [anna]
Enable application/x-yaml processing by default
remove some documentation cruft on has_many
Change has_many :through to use the :source option to specify the source association.  :class_name is now ignored. [Rick Olson]
Don't polute the top level namespace in the console with ActionView helpers. Make them available from a helper method.
STI associations are now aliased to the table name for backwards compatibility.  Added docs for table aliasing [Rick Olson]
fix test so that it passes
Make all ActionView helpers available in the console for debugging purposes.
Allow overriding of find parameters in scoped has_many :through calls [Rick Olson]
add self referential has_many :through example [Rick]
Turn RJS debugging on by default and show the source code when an exception is caught [DHH]
Added sample named route [DHH]
lighttpd.conf should use CWD so the config file is portable across systems, bad ulysses! ;)
Dont line up that which does not
Clearing doesnt need migrations
Replaced old session rake tasks with db:sessions:create to generate a migration, and db:sessions:clear to remove sessions. [Rick Olson]
Comments, comments
My beautiful eyes [DHH]
Update docs and index.html [DHH]
Updated Kernel#returning for the AP performance patch [DHH]
fix usage of #returning in ActionController::Base
Performance speedup for ActionController (closes #4174) [Stefan Kaes] Includes caching of filter chains -- be on the lookout for problems with that!
Rolled back #2176 because it destroyed performance [DHH]
fix indifferent hash.  The lambdas were acting funny in a running rails app.  closes #2176
Added option to String#camelize to generate lower-cased camel case by passing in :lower, like "super_man".camelize(:lower) # => "superMan" [DHH]
Add :script option to in_place_editor to support evalScripts (closes #4194) [codyfauser@gmail.com]
Don't classify the has_one class when eager loading, it is already singular. Add tests. (closes #4117) [jonathan@bluewire.net.nz]
Reject Ruby 1.8.3 when loading Rails; extract version checking code.
Remove explicit loading of RailsInfo and RailsInfoController. Move RailsInfo and RailsInfoController to Rails::Info and Rails::InfoController. Extend load path with Railties' builtin directory to make adding support code easy.
add support for COUNT(DISTINCT id) queries in sqlite2 (closes #4300) [Rick Olson]
skip count_by_sql test using COUNT(DISTINCT) for sqlite2 only
Rails is not compatible with Ruby 1.8.3, explicitly prevent usage [DHH]
Quit ignoring default :include options in has_many :through calls [Mark James]
Allow has_many :through associations to find the source association by setting a custom class (closes #4307) [jonathan@bluewire.net.nz]
If RAW_POST_DATA was set explicitly, use that (closes #4281)
Remember kiddies, Dir[] uses Dir#glob, not a Regexp
Added nicer message for assert_redirected_to (closes #4294) [court3nay, Chris McGrath]
forgot to save changelog... doh
Eager Loading support added for has_many :through => :has_many associations (see below).  [Rick Olson]
Only run migrations that look like migrations
Small pgsql fixes (closes #4083) [pergesu@gmail.com]
Allow has_many :through to work on has_many associations (closes #3864) [sco@scottraymond.net]
add ticket # to changeset
Raise error when trying to select many polymorphic objects with has_many :through or :include (closes #4226) [josh@hasmanythrough.com]
Nil charset caused subject line to be improperly quoted in implicitly multipart messages (closes #2662)
Parse content-type apart before using it so that sub-parts of the header can be set correctly (closes #2918)
Make custom headers work in subparts (closes #4034)
Use the full template file name for implicitly selected templates, instead of requiring AV to try to detect it (which is broken for this use case) (closes #4297)
Change url_for to escape the resulting URLs when called from a view. Closes #4202
Date in iso8601 should just be a to_s alias
Added more tests to validates_format_of (closes #3142) [jp.bougie@gmail.com]
Dates should be able to go xmlschema too [DHH]
SQL Server adapter gets some love (closes #4298) [rtomayko@gmail.com]
Added test for Accept header for xml_http_request calls in functional tests (closes #4222) [agkr@pobox.com]
Make generation of namespaced models produce proper migrations #4219 [Caio Chassot]
Doc fix (closes #4210) [Caio Chassot ]
Doc fix (closes #4209) [Caio Chassot]
Removed XML argument style for respond_to, so type.xml(object.to_xml) no longer works -- it wasnt worth the exception
use cleanpath of config file in lighttpd server script (closes #4203) [Caio Chassot]
Update lingering uses of deprecated association dependency options (closes #4169) [coffe2code]
Added easy support for testing file uploads with fixture_file_upload (closes #4105) [turnip@turnipspatch.com]
Added 'port open?' check to the spawner when running in repeat mode so we don't needlessly boot the dispatcher if the port is already in use anyway #4089 [guy.naor@famundo.com]
Make sure xml_simple requests don't blow up if an empty request body is recieved
fixed has_many :conditions sanitizing (closes #4278) [hakuja@hakuja.net]
fix broken respond_to test
Added OpenBase database adapter that builds on top of the http://www.spice-of-life.net/ruby-openbase/ driver. All functionality except LIMIT/OFFSET is supported (closes #3528) [derrickspell@cdmplus.com]
Add ability for relative_url_root to be specified via an environment variable RAILS_RELATIVE_URL_ROOT. Closes #4243.
Do not include .svn files in file distro (closes #3195) [jamie@dang.com]
Styling
Just use a normal update on the indifferent hash
Added :function option to PrototypeHelper#observe_field/observe_form that allows you to call a function instead of submitting an ajax call as the trigger (closes #4268) [jonathan@daikini.com]
Add Integration::Session.accept for setting the HTTP Accept header to use (defaults to FF 1.5 value)
rename 'integration_test.rb' -> 'integration.rb'
remove space
Rework table aliasing to account for truncated table aliases.  Add smarter table aliasing when doing eager loading of STI associations. This allows you to use the association name in the order/where clause. [Jonathan Viney / Rick Olson] closes #4108
Testing of uncommited should test controllers too (closes #4265) [technomancy@gmail.com]
Allow for respond_to(:html, :js, :xml) (closes #4277) [Caio Chassot]
Add a test to make sure basic XML entities get unescaped properly
Make Mime::Type.parse consider q values (if any)
Add AbstractAdapter#table_alias_for to create table aliases according to the rules of the current adapter. [Rick]
XML-formatted requests are typecast according to "type" attributes for :xml_simple
Provide access to the underlying database connection with Adapter#raw_connection, allows the use of db-specific methods such as postgresql's lo_* . Closes #2090
Remove broken attempts at handling columns with a a default of 'now()' in the postgresql adapter. Closes #2257
Added connection#current_database that'll return of the current database (only works in MySQL, SQL Server, and Oracle so far -- please help implement for the rest of the adapters) (closes #3663) [Tom ward]
Nicer error message on has_many :through when :through reflection can not be found (closes #4042) [court3nay@gmail.com]
Added access to remote_addr in integration tests (closes #4266) [Chad Fowler]
The style police makes an expection on acts_as_tree (closes #4168) [coffee2code]
Added migrations support to the Sybase adapter (closes #4293) [John R. Sheets]
Be sure to look at array elements when dasherizing keys of a formatted request
Make all tinyint(1) variants act like boolean in mysql (tinyint(1) unsigned, etc.)
dasherize the root element when doing to_xml
trivial documentation patch for #pagination_links [Francois Beausoleil] closes #4258
remove some commented-out cruft
Use association's :conditions when eager loading. [jeremyevans0@gmail.com] closes #4144
fix AR tests for sqlite
Alias the has_and_belongs_to_many join table on eager includes. closes #4106 [jeremyevans0@gmail.com]
Explain thyself
Added protection against proxy setups treating requests as local even when they're not #3898 [stephen_purcell@yahoo.com]
Change LEFT OUTER JOIN authors AS authors to LEFT OUTER JOIN authors authors so associations will work for Oracle again (closes #4231) [schoenm@earthlink.net]
fix test_find_in_association_with_options test, tweak other tests affected by developer/project addition
Oracle adapter gets some love #4230 [schoenm@earthlink.net]
Added TestRequest#raw_post that simulate raw_post from CgiRequest (closes #3042) [francois.beausoleil@gmail.com]
Added Time#advance to do precise time time calculations for cases where a month being approximated to 30 days won't do (closes #1860) [Rick Olson]
Stop the MySQL adapter crashing when views are present. (closes #3782) [Jonathan Viney]
added test checking that NOT NULL is properly reflected on [nathaniel@talbott.ws] closes #4125
Dots in template path should not trip up rendering (closes #4244) [lmarlow@yahoo.com]
Breakpoints in running code makes for no fun ;)
Added Base.abstract_class? that marks which classes are not part of the Active Record hierarchy.  closes #3704
Allow :dependent options to be used with polymorphic joins. #3820 [Rick Olson]
Time#xmlschema is only available when you've required 'time'.  Add a unit test to catch regressions. [Koz]
Underscore dasherized keys in formatted requests
Enhance Inflector.underscore to convert '-' into '_' (as the inverse of Inflector.dasherize)
Add MimeResponds::Responder#any for managing multiple types with identical responses
Upgrade to Transaction::Simple 1.3
use "mime_type" instead of "format"
fix calculation tests to get around inconsistent ordering of nils
make save! return true on success[johan@johansorensen.com]. Closes #4173
Unit test fixes for postgresql. Allow to_xml tests to pass in time zones other than CST.
Switch to_xml to use the date formate defined in xml schema.[Koz]
Correct syntax error in postgresql schema definition
Make the xml_http_request testing method set the HTTP_ACCEPT header
Allow ordering of calculated results and/or grouped fields in calculations [solo@gatelys.com] closes #4228
Add verification to scaffolds (generated and reflection based).  Require POST for unsafe actions [Michael Koziarski]. Closes #2601
Don't replace application.js in public/javascripts if it already exists [Cody Fauser]. Closes #4195
Dynamically set allow_concurrency. Closes #4044.
Simplify controller_path Cache File.directory? calls to avoid filesystem calls when using layouts
Always use application/xml, then the charset is determined by the XML doc
The mere existance of a rjs file shouldnt cause the layout to disappear. Made it easier to specify a :with on observer_field
The mere existance of a rjs file shouldnt cause the layout to disappear. Made it easier to specify a :with on observer_field
Delay rake:uncommitted's execution of `svn status`
Added simple alert() notifications for RJS exceptions when config.action_view.debug_rjs = true.  Set debug_rjs = true for the default development environment.
Prefer application/xml over text/xml for charset reasons
Rendering xml shouldnt happen inside any layout. Added class proxying to RJS, so you can call page.field.clear("my_field") to generate Field.clear("my_field");. Added :content_type option to render, so you can change the content type on the fly. Do type/subtype reordering of Accept header preferences for xml types (aka make Firefox work with respond_to). CHANGED DEFAULT: The default content type for .rxml is now application/xml instead of type/xml, see http://www.xml.com/pub/a/2004/07/21/dive.html for reason
Use require_library_or_gem to load rake in commands/server.rb.  Closes #4205.
Prepare for mime type reordering depending on the branch [DHH]
Default mime type for XML should be application/xml [DHH]
Use the Rake API instead of shelling out to create the tmp directory in commands/server.rb
Mime types are separated by a comma, not semicolon, in the Accept header. Also switch all internal configuration of mime types away from strings and over to Mime::Type [DHH]
Use accept headers
Added synonym and custom type handling to respond_to [DHH]
Assume that we accept what we give [DHH]
Added defaults to respond_to [DHH]
Added option to render action/template/file of a specific extension (and here by template type). This means you can have multiple templates with the same name but a different extension [DHH]
More integration testing tweaks
Don'tt abort rake when rendering the _trace.rhtml template
Added better support for using the same actions to output for different sources depending on the Accept header [DHH] Added Base#render(:xml => xml) that works just like Base#render(:text => text), but sets the content-type to text/xml and the charset to UTF-8 [DHH]
Make assertions in integration sessions proxy to the test instance (only for sessions created via open_session)
Passing comment
make sure nil @session doesn't mess up wsod stacktraces
tag! is nicer than __send__
Added options to control the :only/:except for included associations on Base#to_xml [DHH]
Added association inclusion in to_xml [DHH]
Implemented nested to_xml and named elements for array xmling [DHH]
Add suppress_messages to migrations, to temporarily turn off verbose messages
a few more tests for the custom counter_cache naming code
Allow counter_cache to accept a column name
Update to latest script.aculo.us trunk, fixes possible issue with Effect.Appear on IE
format fix for locking [Michael Koziarski]
Added a note to the documentation for the Date related Numeric extensions to indicate that they're approximations and shouldn't be used for critical calculations. [Koz].  Closes #4148.  References #4146
Move methods from TestResponse into a module, so they can be shared with response objects in integration tests. (This allows standard functional test assertions to be used in integration tests, like assert_response and assert_template.)
Integration test's url_for now runs in the context of the last request (if any) so after post /products/show/1 url_for :action => 'new' will yield /product/new
move vendor inside lib so that rake freeze_edge works
reverted #to_sentence to use red, green, and blue style
Make the 3rd arg optional for #failsafe_response
Re-added mixed-in helper methods for the JavascriptGenerator.  Moved JavascriptGenerators methods to a module that is mixed in after the helpers are added.  Also fixed that variables set in the enumeration methods like #collect are set correctly.  Documentation added for the enumeration methods [Rick Olson].
remove explicit Builder require
Added Hash#to_xml and Array#to_xml that makes it much easier to produce XML from basic structures [DHH] Moved Jim Weirich's wonderful Builder from Action Pack to Active Support (it's simply too useful to be stuck in AP) [DHH]
make integration testing not interfere with command-line regex test filters
Make IntegrationTest refer to superclass properties using copy-on-write
Added a backtrace to the evil WSOD (White Screen of Death).  Closes #4073. TODO: Clearer exceptions [Rick Olson]
Proper options for XmlSimple
more integration tweaks
XmlSimple _should_ be the default since XmlNode is not compatible with regular parameters -- also known as Why Did My Etech Demo Not Work? [DHH]
A few minor tweaks to the integration testing stuff
forgot to commit the fixed test case! (yea right)
changed default of Array#to_sentence to use one, two and three notation ( skip_last_comma => true )
Allow method chaining in RJS elements [Rick Olson]
Update Prototype for beta gems
slight change to eager associations table aliasing: use class_reflection, like 'post_comments' or 'tree_children'
added assert_queries for the AR test suite
Added tracking of database and framework versions in script/about #4088 [charles.gerungan@gmail.com/Rick Olson]
Doc fixes
Silence the migration messages when importing the schema for tests
Doc fixes
Dont mkdir for each framework now that theyre checked out in their entirety
ActionController::Base.param_parsers now accept symbols. currently supported are :xml_node, :xml_simple and :yaml
Added new infrastructure support for REST webservices.   By default application/xml posts are handled by creating a XmlNode object with the same name as the root element of the submitted xml. M$
Dont generate migration when doing scaffolding
allow RJS enum values to be passed to visual_effect() and other scriptaculous helpers #4080 [Rick Olson]
Migrations created alongside models should be called CreateModels not AddModels for consistency with the create/drop notion of tables [Dave Thomas]
Added public/javascripts/application.js as a sample since it'll automatically be included in javascript_include_tag :defaults [DHH] (backed out of -a/--with-assets, not worth it)
Added cascading eager loading that allows for queries like Author.find(:all, :include=> { :posts=> :comments }), which will fetch all authors, their posts, and the comments belonging to those posts in a single query (using LEFT OUTER JOIN) #3913 [anna@wota.jp]
Backed out of that. PStore doesnt support suffix :(
Backed out of that. PStore doesnt support suffix :(
CHANGED DEFAILT: File-based sessions now have a suffix of ".rails_session" instead of a prefix called "ruby_sess." [DHH]
Words of caution
Added -a/--with-assets option to rails generator that will include default assets for application layout, javascript, and stylesheet [DHH]
Migrations should use symbols now that the schema dumper is switching to that as well [Suggested by Robby Russel]
Make counter cache work when replacing an association (closes #3245). Thanks for the patch!
Added socket cleanup for lighttpd, both before and after [DHH] Added automatic creation of tmp/ when running script/server [DHH] Added silence_stream that'll work on both STDERR or STDOUT or any other stream and deprecated silence_stderr in the process [DHH]
Make migrations verbose
We need to silence_stderr on the call to svn in order not to get errors when svn is not available or the app is not checked in
Make counter_cache work with polymorphic belongs_to
remove explicit dependency mechanism setting in console_app
RJS now does enumerations, baby! (closes #3876) [Rick Olson]
Added reload! method to script/console to reload all models and others that include Reloadable without quitting the console (closes #4056) [esad@esse.at]
Added that rake rails:freeze:edge will now just export all the contents of the frameworks instead of just lib, so stuff like rails:update:scripts, rails:update:javascripts, and script/server on lighttpd still just works (closes #4047) [DHH]
fix unreplaced class var
Revert allow_concurrency change for better testing. Retrieve_connection in two steps to avoid side-effect bug (yuk).
More docs for observers (closes #3996) [Robby Russel]
Added fix for upload problems with lighttpd from Safari/IE to config/lighttpd.conf (closes #3999) [thijs@fngtps.com]
No longer needed (closes #4017)
Doc fix (closes #4014) [thijs@fngtps.com]
Added that page caching will only happen if the response code is less than 400 (closes #4033) [g.bucher@teti.ch]
Catch requirement of Sybase adapter, if we cant, dont have it
Dont require sybase unless you try to connect
Added Sybase database adapter that relies on the Sybase Open Client bindings (see http://raa.ruby-lang.org/project/sybase-ctlib) (closes #3765) [John Sheets]
Added Sybase database adapter that relies on the Sybase Open Client bindings (see http://raa.ruby-lang.org/project/sybase-ctlib) (closes #3765) [John Sheets]
Added test:uncommitted to test changes since last checkin to Subversion (closes #4035) [technomancy@gmail.com]
(duh :)
Typo in stale thread removal.
Clear stale, cached connections left behind by defunct threads. Eliminate duplicate connection cache.
Clear stale, cached connections left behind by defunct threads. Eliminate duplicate connection cache.
CHANGED DEFAULT: set ActiveRecord::Base.allow_concurrency to false.  Most AR usage is in single-threaded applications.
Make Enumerable#group_by return a Hash (sacrificing the preservation of ordering) so that it is more compatible with the version that is in Ruby 1.9
Add Enumerable#group_by and Array#in_groups_of
restore elided TestProcess#assigns method
Make TestProcess methods public for access via Integration::Session. Make return values from some of the Integration::Session methods sane.
Help script/about print the correct svn revision when in a non-English locale. Closes #4026.
Make calculations typecasty! (closes #4016) [Rick Olson]
Use require instead of load with the integration stuff. Add helper method for creating new sessions.
Update old alias too
When freezing to edge, we should also export railties/bin and railties/html so that rails:update:scripts and rails:update:javascripts still function.
Renamed the "oci" adapter to "oracle", but kept the old name as an alias (closes #4017) [schoenm@earthlink.net]
Add 'app' accessor to script/console as an instance of Integration::Session
Make #save return true on success, even if locking is enabled (closes #4015) [schoenm@earthlink.net]
Have to use inheritance
Added Kernel#daemonize to turn the current process into a daemon that can be killed with a TERM signal [DHH] Refactored stuff lingering in kernel.rb to the appropriate places
Match singular naming from directory structure [DHH]
Guard against app generation if the database specified isnt supported for preconfiguration [DHH]
Generator::Base#usage takes an optional message argument which defaults to Generator::Base#usage_message.
Stop annoying me when Im changing fixtures for other tests first
Make rake load_fixtures work with the new, flexible, fixtures api.  [Rick Olson].  Closes #3995
Add more documentation for Reflection. [robby@planetargon.com].   Closes #4001
Various problems with in-memory sqlite dbs
Remove the extraneous AR::Base.threaded_connections setting from the webrick server.
Add integration test support to app generation and testing
Add ActionController::IntegrationTest to allow high-level testing of the way the controllers and routes all work together
Add missing fixtures for #3937.
Make clearing follow the object:action naming of the rest of the tasks
Make clearing follow the object:action naming of the rest of the tasks
Make clearing follow the object:action naming of the rest of the tasks
Added support to AssetTagHelper#javascript_include_tag for having :defaults appear anywhere in the list, so you can now make one call ala javascript_include_tag(:defaults, "my_scripts") or javascript_include_tag("my_scripts", :defaults) depending on how you want the load order (closes #3506) [Bob Silva]
Added new column to all db definitions. Where, oh where, is our hereo that will convert all the legacy fixture schemas to schema.rb? (closes #3993) [Bob Silva]
Speed up class -> connection caching and stale connection verification. Closes #3979.
Rails now depend on Rake 0.7.x
Add set_fixture_class to allow the use of table name accessors with models which use set_default_name. Closes #3935
Added support for visual effects scoped queues to the visual_effect helper #3530 [Abdur-Rahman Advany]
Load, not dump, schema to test
Only load .yml files in sub-directories
Include functionals in default test run
Added that fixtures to placed in subdirectories of the main fixture files are also loaded (closes #3937) [dblack@wobblini.net]
doc fix (closes #3972) [robby]
Dont require association classes before theyre supposed to be used (closes #3976) [Rick Olson]
Added namespaces to all tasks, so for example load_fixtures is now db:fixtures:load. All the old task names are still valid, they just point to the new namespaced names. "rake -T" will only show the namespaced ones, though [DHH]
Define attribute query methods to avoid method_missing calls. Closes #3677.
CHANGED DEFAULT: ActiveRecord::Base.schema_format is now :ruby by default instead of :sql. This means that we'll assume you want to live in the world of db/schema.rb where the grass is green and the girls are pretty. If your schema contains un-dumpable elements, such as constraints or database-specific column types, you just got an invitation to either 1) patch the dumper to include foreign key support, 2) stop being db specific, or 3) just change the default in config/environment.rb to config.active_record.schema_format = :sql -- we even include an example for that on new Rails skeletons now. Brought to you by the federation of opinionated framework builders! [DHH]
Example for validates_presence_of method (closes #3966) [Robby Russell]
ActiveRecord::Base.remove_connection explicitly closes database connections and doesn't corrupt the connection cache. Introducing the disconnect! instance method for the PostgreSQL, MySQL, and SQL Server adapters; implementations for the others are welcome. References #3591.
fix method scoping test for postgresql
Added -r/--repeat option to script/process/spawner that offers the same loop protection as the spinner did. This deprecates the script/process/spinner, so it's no longer included in the default Rails skeleton, but still available for backwards compatibility (closes #3461) [ror@andreas-s.net]
Added support for nested scopes (closes #3407) [anna@wota.jp]
Add around methods to Logger.  Closes #3809
Added .rxml (and any non-rhtml template, really) supportfor CaptureHelper#content_for and CaptureHelper#capture #3287 [Brian Takita]
Remove ::Controllers related cruft; fix AP tests
Added script.aculo.us drag and drop helpers to RJS [Thomas Fuchs]
Update duplicated OrderedOptions code.
Added collision option to template generation in generators (closes #3329) [anna@wota.jp]
mail_to shouldnt include language attribute in script tag #3364 [donald.piret@synergetek.be]
The image_tag helper is not converting the options hash to symbols (closes #3615) [agkr@pobox.com]
Added Time#beginning_of_quarter (closes #3607) [cohen.jeff@gmail.com]
Aesthetics, baby
Added more information to script/plugin's doings to ease debugging #3755 [Rick Olson]
Compatibility patches for calculations
Make TMail::Mail#has_attachments? use logic from #attachment? (closes #3815) [devslashnull@gmail.com]
Updated docs (closes #3799) [ruby@bobsilva.com]
rake appdoc fails with unrecognized option (closes #3757) [Jakob S]
Makes ActiveRecord::Schema respect AR::Base.table_name_prefix (closes #3848) [rubyonrails@atyp.de]
Documentation fixes (closes #3838)
Added calculations: Base.count, Base.average, Base.sum, Base.minimum, Base.maxmium, and the generic Base.calculate. All can be used with :group and :having. Calculations and statitics need no longer require custom SQL. #3958 [Rick Olson]
Added tmp/sessions, tmp/cache, and tmp/sockets as default directories in the Rails skeleton [DHH] Changed the default session configuration to place sessions in tmp/sessions, if that directory is available, instead of /tmp (this essentially means a goodbye to 9/10 White Screen of Death errors and should have web hosting firms around the world cheering) [DHH] Added a default configuration of the FileStore for fragment caching if tmp/cache is available, which makes action/fragment caching ready to use out of the box with no additional configuration [DHH] Changed the default configuration for lighttpd to use tmp/sockets instead of log/ for the FastCGI sockets [DHH]
Added that script/generate model will now automatically create a migration file for the model created. This can be turned off by calling the generator with --skip-migration [DHH]
Prepare order for uncommenting, use consistent opt options [DHH]
Added -d/--database option to the rails command, so you can do "rails --database=sqlite2 myapp" to start a new application preconfigured to use SQLite2 as the database. Removed the configuration examples from SQLite and PostgreSQL from the default MySQL configuration [DHH]
Allow script/server -c /path/to/lighttpd.conf
fix test for postgresql
Renamed Errors#count to Errors#size but kept an alias for the old name (and included an alias for length too) (closes #3920, #3320) [contact@lukeredpath.co.uk]
Remove hardcoded path to reaper script in script/server.
Reflections don't attempt to resolve module nesting of association classes. Simplify type computation.
Check NameErrors and re-raise if they do not match the expected constant
Update script.aculo.us to V1.5.3 [Thomas Fuchs]
Added various InPlaceEditor options, #3746, #3891, #3896, #3906
Improved the Oracle OCI Adapter with better performance for column reflection (from #3210), fixes to migrations (from #3476 and #3742), tweaks to unit tests (from #3610), and improved documentation (from #2446) (closes #3879) [Aggregated by schoenm@earthlink.net]
Added :count option to pagination that'll make it possible for the ActiveRecord::Base.count call to using something else than * for the count. Especially important for count queries using DISTINCT #3839 [skaes]. Added :select option to Base.count that'll allow you to select something else than * to be counted on. Especially important for count queries using DISTINCT (closes #3839) [skaes].
Added SIGTRAP signal handler to RailsFCGIHandler that'll force the process into a breakpoint after the next request. This breakpoint can then be caught with script/breakpointer and give you access to the Ruby image inside that process. Useful for debugging memory leaks among other things [DHH]
test_find_or_create_from_two_attributes is a duplicate of test_find_or_create_from_one_attribute (closes #3863) [jp.bougie@gmail.com]
Also use CWD on document_root (closes #3883) [grant@antiflux.org]
Ensure backwards compatibility with symbolized action names for render_action (closes #3869) [anna@wota.jp]
Updated RDocTask to receive options 1 by 1 (closes #3875) [pterjan@mandriva.com]
Make RJS treat symbolic action names nicely #3861 [Rick Olson]
Update script.aculo.us in Rails trunk to V1.5.2
Refactor the Javascript proxy into a hierarchy for element/collection [DHH]
Use real assigns instead of a method call [DHH]
replace_element was renamed replace [DHH]
Wups, committed too much
Also support replace and replace_html and some refactoring in JavaScriptElementProxy [DHH]
Added element and collection proxies to RJS [DHH]
save polymorphic joins from the has_many|one association (closes #3812) [Rick Olson]
Changed default lighttpd.conf to use CWD from lighttpd 1.4.10 that allows the same configuration to be used for both detach and not. Also ensured that auto-repeaping of FCGIs only happens when lighttpd is not detached. [DHH]
The session should be saved even if the filter chain is stopped
Modernize flash tests
Flash shouldnt depend on components either [DHH]
Stopped the massive bleeding of concerns into ActionController::Base. Base no longer knows about flash, filters, or components. This may well have introduced some instability, please do test with apps, especially the ones using components. [DHH]
Add JavaScriptGenerator#replace_element for replacing an element's "outer HTML". Closes #3246.
Add caution and restyle components
The components module should also contain the options that pertain to it, so collect it all with ClassMethods and InstanceMethods
Expose object and object_name from the FormBuilder [DHH]
Clean up style around form_for and friends a bit
Remove over-engineered form_for code for a leaner implementation. Document form_for's :html option.
Add missing models and fixture
Allow has_many :through to work with :include [Michael Schoen]. Closes #3611
PostgreSQL: smarter schema dumps using pk_and_sequence_for(table). Closes #2920.
SQLServer: more compatible limit/offset emulation. Closes #3779.
Major components cleanup and speedup. Closes #3527.
Closes #3784.
Update AR default timezone docs.
SQL Server cannot sort on type text. This causes three errors in the activerecord test suite, where tests sort on the comments.body or posts.body columns. This patch changes these columns from text to varchar(4096), allowing these tests to proceed (and pass). All activerecord tests now pass under sqlserver.  References #3581. [Tom Ward]
Polymorphic join support for has_one associations (has_one :foo, :as => :bar).  Closes #3785.
defaults_test gets a dummy test method so it has at least one test to run
Move active_record_store_test.rb to test/activerecord/.  Closes #3790.
PostgreSQL: correctly parse negative integer column defaults. References #3776.
Add :html option for specifying form tag options in form_for
Replace dubious controller parent class in filter docs. Closes #3655, #3722.
Don't interpret the :value option on text_area as an html attribute. Set the text_area's value. Closes #3752.
A more aesthetically pleasing implementation and changelog entry
Make String#last behave more like Array#last, i.e. "f".last(3) => "f"  not "f".last(3) => nil
Add Configuration#after_initialize for specifying a block to be executed after the framework is completely initialized.
ActiveRecord::RecordInvalid now states which validations failed in its default error message
Update versions to match latest from stable
Don't let arbitrary classes match as controllers
fixed small bug in routing which caused the traverse_to_controller mechanism to drop out on Multi::Nested::Controllers
added some (pointless) test cases to dependency loading, the more the merrier
Add :builder => option to form_for and friends. Closes 3268.
Added delegation support to Module that allows multiple delegations at once (unlike Forwardable in the stdlib) [DHH]
Just go with Subclasses instead of OnlySubclasses
Just go with Subclasses instead of OnlySubclasses
Remove unneeded logging
Set sweeper's @controller to nil after a request so that the controller may be collected between requests.
Don't allow Reloadable to be included into Modules
Remove LoadingModule
Using AssociationCollection#build with arrays of hashes should call build, not create [DHH]
Add LoadingModule.clear! back temporarily
Remove definition of reloadable? from ActiveRecord::Base to make way for new Reloadable code.
Reloadable::OnlySubclasses
Add Reloadable::OnlySubclasses which handles the common case where a base class should not be reloaded, but its subclasses should be.
Pluralization bites again
Further improvements to reloading code
Subclasses of ActionController::Caching::Sweeper should be Reloadable
Silly me
Added Errors#any? to mean !Errors#empty? [DHH]
If included_modules doesnt take a parameter, we shouldnt either
Document the :xhr option for verifications. Closes #3666.
ActiveRecordStore::Session shouldnt be reloadable
Dont mark Sweepers as reloadables
Added :only and :except controls to skip_before/after_filter just like for when you add filters [DHH]
Support the :column option for remove_index with the PostgreSQL adapter. Closes #3661.
Ensure assigns are copied to the template when using  render :update. Closes #3620.
Added check for RAILS_FRAMEWORK_ROOT constant that allows the Rails framework to be found in a different place than vendor/rails. Should be set in boot.rb. [DHH]
Template paths with dot chars in them no longer mess up implicit template selection for multipart messages (closes #3332)
Added reusable reloading support through the inclusion of the Relodable module that all subclasses of ActiveRecord::Base, ActiveRecord::Observer, ActiveController::Base, and ActionMailer::Base automatically gets [DHH]. Added auto-loading support for classes in modules, so Conductor::Migration will look for conductor/migration.rb and Conductor::Database::Settings will look for conductor/database/settings.rb [Nicholas Seckar]. Refactored extensions to module, class, and object in active support [DHH]
Add documentation for add_index and remove_index. Closes #3600.
If the OCI library is not available, raise an exception indicating as much. Closes #3593.
give helpful error messages when fixtures accessed style table_name(:name) cannot be found [Tobias Luetke]
Add the ability to call JavaScriptGenerator methods from helpers called in update blocks
Make sure anything with content-disposition of "attachment" is passed to the attachment presenter when parsing an email body
Make sure TMail#attachments includes anything with content-disposition of "attachment", regardless of content-type
Add render(:update) to ActionView::Base
Backing out of [3470] until visual_effect, et al can work
Add the ability to call JavaScriptGenerator methods from helpers called in update blocks
Add Object#instance_exec and Proc#bind
AR should run schema.rb for tests when building test DBs (closes #3578) [Rick Olson]
Added the possibility to specify atomatic expiration for the memcachd session container (closes #3571) [Stefan Kaes]
Add explicit :order in finder tests as postgresql orders results differently by default. Closes #3577.
Make dynamic finders honor additional passed in :conditions. Closes #3569.
Change layout discovery to take into account the change in semantics with File.join and nil arguments.
Show a meaningful error when the DB2 adapter cannot be loaded due to missing dependencies.
Raise a RedirectBackError if redirect_to :back is called when theres no HTTP_REFERER defined (closes #3049) [kevin.clark@gmail.com]
Treat timestamps like datetimes for scaffolding purposes (closes #3388) [Maik Schmidt]
allow has_many :through to work with custom :foreign key (closes #3422) [Rick Olson]
Added assert_date_from_db to do cleaner tests for SQL Server (closes #3557) [Tom Ward]
Extract Test::Unit::TestCase test process behavior into an ActionController::TestProcess module
Pass along blocks from render_to_string to render
Add render :update for inline RJS
Add a test to verify correct behavior when creating a polymorphic association
Add AR::Base.base_class for querying the ancestor AR::Base subclass [Jamis Buck]
make error_messages_for return "" for nil objects
Refactor human_size to exclude decimal place if it is zero.
Get the version right: 1.5.0_pre0, not rc0
Update to Prototype 1.5.0_rc0
Dont repeat the button_to method
Automatically discover layouts when a controller is namespaced. Closes #2199, #3424.
allow the 'lock_version' column to be configured with set_locking_column.  Closes #3402
Don't hardcode id in acts_as_list.  Closes #3370
Load plugins in a consistent order.  Closes #3429
Show usage when script/plugin is called without arguments.  Closes #3450
Don't alter the Hash passed to attributes=, closes #3385
Correct the case of the CSS declarations.  [Blair Zajac] Closes #3171
Make migration generator only report on exact duplicate names, not partial dupliate names. Closes #3442.
Add support for multiple proxy servers in HTTP_X_FORWARDED_HOST.  Closes #3397
Documentation typo fix. Closes #2367.
Remove Upload Progress. Closes #2871.
Add test for min_chars auto_complete_field fix. Closes #2929.
Escape database name in MySQL adapter when creating and dropping databases. Closes #3409.
Disambiguate table names for columns in validates_uniquness_of's WHERE clause. Closes #3423.
Ignore version mismatch between pg_dump and the database server. Closes #3457.
Show a message on script/server exit before reaping FCGIs
Reap FCGI processes after lighttpd exits
Allow auto-discovery of third party template library layouts.
fix for Initializer doc, routing is loaded last so that plugins can extend it
Make HashWithIndifferentAccess#update behave like Hash#update by returning the hash. Closes #3419, #3425
Have the form builder output radio button, not check box, when calling the radio button helper. Closes #3331.
Don't raise an exception when there are more keys than there are named bind variables when sanitizing conditions.
Multiple enhancements and adjustments to DB2 adaptor. Closes #3377.
Sanitize scoped conditions.
Added assignment of the Autocompleter object created by JavaScriptMacroHelper#auto_complete_field to a local javascript variables [DHH] Added :on option for PrototypeHelper#observe_field that allows you to specify a different callback hook to have the observer trigger on [DHH]
Added JavaScriptHelper#button_to_function that works just like JavaScriptHelper#link_to_function but uses a button instead of a href [DHH]
Made Field.focus in prototype friendly to effects by adding optional delay parameter [DHH]
Added that JavaScriptHelper#link_to_function will honor existing :onclick definitions when adding the function call [DHH]
Added that JavaScriptHelper#link_to_function will honor existing :onclick definitions when adding the function call [DHH]
Added :disable_with option to FormTagHelper#submit_tag to allow for easily disabled submit buttons with different text [DHH]
Make auto_link handle nil by returning quickly if blank?
Added option to Base.reflection_of_all_associations to specify a specific association to scope the call. For example Base.reflection_of_all_associations(:has_many) [DHH]
Add ActiveSupport::JSON and Object#to_json for converting Ruby objects to JSON strings
Value of full_messages on stubbed out AR instances should be an Array.
Make auto_link match urls with a port number specified.
Added support for toggling visual effects to ScriptaculousHelper::visual_effect, #3323.
Update to script.aculo.us to 1.5.0 rev. 3343
Added :select option for JavaScriptMacroHelper#auto_complete_field that makes it easier to only use part of the auto-complete suggestion as the value for insertion [Thomas Fuchs]
ActiveRecord::Base.schema_ignore_tables => ActiveRecord::SchemaDumper.ignore_tables
SchemaDumper now doesn't fail anymore when there are unknown column types in the schema. Instead the table is ignored and a Comment is left in the schema.rb also added ActiveRecord::Base.schema_ignore_tables for dealing with funky tables like the tesearch2 ones.
Added :select option for JavaScriptMacroHelper#auto_complete_field that makes it easier to only use part of the auto-complete suggestion as the value for insertion [Thomas Fuchs]
Added :select option for JavaScriptMacroHelper#auto_complete_field that makes it easier to only use part of the auto-complete suggestion as the value for insertion [Thomas Fuchs]
cosmetic change to assert_valid
only log session_id if @session object responds to .session_id. In functional test cases you often pass in a hash as session object which doesn't have this method.
Added delayed execution of Javascript from within RJS (closes #3264) [devslashnull@gmail.com]
Add session ID to default logging, but remove the verbose description of every step [DHH]
Better language for the CHANGELOG entry of previous commit.
Added toggle to compliment show and hide for RJS
Oops, I killed Tobi's changelog entries.
removed :piggyback in favor of just allowing :select on :through associations
made .find() and class method delegation work on :through relations
DRY up PG's add_column a bit to use change_column_default and match the other methods.
added :piggyback option to has_many :through relationships to pick up values from the join table as needed
Check for the key instead of the value, because it (the value) can be false.
Don't try to strip out the controller name if default_action_name is nil
Add additional RJS functionality: alert, redirect_to, call, assign, and <<
Documentation fixes
Honor ActiveRecord::Base.pluralize_table_names when creating and destroying session store table. Closes #3204.
Don't include a layout when rendering an rjs template using render's :template option.
Add Object#with_options for DRYing up multiple calls to methods having shared options
Update trunk to scriptaculous 1.5 final
Don't used defined? on a scoped constant since it results in a const_missing call.
Update to Prototype 1.4.0 final
Roll back [3244].  References #3116.
MySQL: allow encoding option for mysql.rb driver.
Added option inheritance for find calls on has_and_belongs_to_many and has_many assosociations [DHH] Added option to specify :group, :limit, :offset, and :select options from find on has_and_belongs_to_many and has_many assosociations [DHH] Added form_remote_for (form_for meets form_remote_tag) [DHH]
Update to script.aculo.us 1.5.0_rc6
Added tests for join models and fixed a bug #3177
Remove duplicate entry from chagnelogs.
Update instructions on how to find and install generators. Closes #3172.
MySQL: fixes for the bundled mysql.rb driver.  References #3160.
Close h1 with h1 not h2 (closes #3150)
SQLServer: fix obscure optimistic locking bug, support uniqueidentifier columns, cope with tables names qualified by owner, cope with columns with desc in the name, cope with primary keys with select in the name.  Closes #3068, #2930, #3067, #1950, #3057, #3162.
Added form_remote_for [DHH]
Name vendor/generators source differently from lib/generators source.
MySQL: ensure that @config is set.
Generator looks in vendor/generators also.
Generator copies files in binary mode.  References #3156.
Oracle: active? performs a select instead of a commit.  References #3133.
Remove insignificant classes from docs
MySQL: more robust test for nullified result hashes.  References #3124.
SQLite: find database file when RAILS_ROOT is a symlink.  References #3116.
Reloading an instance refreshes its aggregations as well as its associations.  References #3024.
More robust relative url root discovery for SCGI compatibility.  This solves the 'SCGI routes problem' -- you no longer need to prefix all your routes with the name of the SCGI mountpoint.  References #3070.
PostgreSQL: more robust sequence name discovery.  References #3087.
Oracle: use syntax compatible with Oracle 8.  References #3131.
Warn people not to change boot.rb
Finish polish on new welcome screen
Add builtin/ to the gemspec. Closes #3047.
Dont overwrite the documentation from the real base class
Clear the connection cache entry when a new connection is established on the same class.
Clear connection cache after rolling back transaction.
Move dummy active? and reconnect! from sqlite to base adapter.  References #428.
Connection cache to speed up retrieve_connection and get rid of dirty connection marking.  References #428.
Don't use transactional fixtures for when DDL changes are involved.
MySQL: work around ruby-mysql/mysql-ruby inconsistency with mysql.stat.  Eliminate usage of mysql.ping because it doesn't guarantee reconnect.  Explicitly close and reopen the connection instead.  References #428.
Add install.rb file to plugin generation which is loaded, if it exists, when you install a plugin.
Added preliminary support for join models [DHH] Added preliminary support for polymorphic associations [DHH] Refactored associations to use reflections to get DRYer, beware, major refactoring -- double check before deploying anything with this (all tests pass, but..)
Work-in progress for providing better join model support and polymorphic associations
Allow validate_uniqueness_of to be scoped by more than just one column. Closes #1559.
Firebird: active? and reconnect! methods for handling stale connections.  References #428.
Silence deprecation warnings for keep_flash when running tests.
Firebird: updated for FireRuby 0.4.0.  References #3009.
Change form_for and fields_for method signatures to take object name and object as separate arguments rather than as a Hash.
Run initialize_logger in script/lighttpd to ensure the log file exists before tailing it
Make load_fixtures include csv fixtures. Closes #3053.
PostgreSQL: active? compatibility with the pure-Ruby driver.  Still need to move connect into the adapter since postgres-pr doesn't support #reset.  References #428.
MySQL: active? compatibility with the pure-Ruby driver.  References #428.
Handle mutual dependencies with .rb suffix.
Introduce Dependencies.warnings_on_first_load setting.  If true, enables warnings on first load of a require_dependency.  Otherwise, loads without warnings.  Disabled (set to false) by default.
Oracle: active? check pings the database rather than testing the last command status.  References #428.
Credit everybody that helped =)
Made test_update_attributes_after_push_without_duplicate_join_table_rows pass with Oracle Adapter. #2888
SQLServer: resolve column aliasing/quoting collision when using limit or offset in an eager find.  References #2974.
Reloading a model doesn't lose track of its connection.  References #2996.
Sever infinite loop for mutual dependencies.  Closes #2997.
Dependencies: set load_file_name = file_name if it ends in .rb
script/plugin: handle root paths and plugin names which contain spaces.  References #2995.
Introduce :selected option to the select helper.  Allows you to specify a selection other than the current value of object.method.  Specify :selected => nil to leave all options unselected.  Closes #2991.
Credit ticket author.
Enable warnings on first load only.  File which are loaded but raise an exception are not added to loaded set.
Correct spelling of persistent [Stefan Kaes].  Document and eliminate warnings in clear_persistent_model_associations.
MySQL, PostgreSQL: reconnect! also reconfigures the connection.  Otherwise, the connection 'loses' its settings if it times out and is reconnected.  Closes #2978.
Make javascript_include_tag :default behave correctly with application.js, fixes #2986
Initialize @optional in routing code to avoid warnings
Model generator: correct relative path to test_helper in unit test.
Remove superfluous check for pluralize_table_names (use table_name which does this check when it's set).
Make ActionController's render honor the :locals option when rendering a :file. Closes #1665.
FormHelper correctly passes its object through select, collection_select, country_select, and time_zone_select.
has_and_belongs_to_many: use JOIN instead of LEFT JOIN.  References #2937.
Allow assert_tag(:conditions) to match the empty string when a tag has no children. Closes #2959. [Jamis Buck]
Update html-scanner to handle CDATA sections better. Closes #2970. [Jamis Buck]
MySQL: introduce :encoding option to specify the character set for client, connection, and results.  Only available for MySQL 4.1 and later with the mysql-ruby driver.  Do SHOW CHARACTER SET in mysql client to see available encodings.  Closes #2975.
Don't put flash in session if sessions are disabled.
Back out of 3109 for now as it seems to interfere with the flash
Simpler Mysql load test.
Revert [3130]. Behavior of introducing Kernel.binding causes breakage.
Use Kernel.binding rather than binding to allow columns of that name.  References #2973.
Strip out trailing &_= for raw post bodies #2868
Make the db_schema_dump task honor the SCHEMA environment variable if present the way db_schema_import does. Closes #2931.
 r3241@asus:  jeremy | 2005-11-20 23:26:28 -0800  Active Support is warnings-safe.  References #1792.
 r3240@asus:  jeremy | 2005-11-20 23:22:34 -0800  Introduce enable_warnings counterpart to silence_warnings.
 r3239@asus:  jeremy | 2005-11-20 23:21:37 -0800  Test for absence of instance vars rather than nil so we don't get a warning.
 r3220@asus:  jeremy | 2005-11-20 03:19:22 -0800  Enable Action Mailer warnings in unit tests.  adv_attr_accessor hecks for presence of instance variable before getting it.
 r3219@asus:  jeremy | 2005-11-20 03:07:19 -0800  silence necessary warnings in logger test.  guard against multiple requires in kernel test.
 r3218@asus:  jeremy | 2005-11-20 03:06:32 -0800  alias old format_message before overriding it
 r3217@asus:  jeremy | 2005-11-20 03:06:01 -0800  warnings-safe inherited alias for class_inheritable_attributes
 r3216@asus:  jeremy | 2005-11-20 03:05:20 -0800  simplify cattr_ and mattr_accessor
 r3215@asus:  jeremy | 2005-11-20 02:05:56 -0800  Eliminate double-requires due to Ruby seeing different paths to the same file.
 r3214@asus:  jeremy | 2005-11-20 02:03:05 -0800  Parenthesize args in Inflections
 r3213@asus:  jeremy | 2005-11-20 02:01:28 -0800  Turn on warnings for tests.
Turn warnings on when loading a file if Dependencies.mechanism == :load.  Common mistakes such as redefined methods will print warnings to stderr.  References #752.  References #1792.
Have the lighttpd server script report the actual ip to which the server is bound. Closes #2903.
Add plugin library directories to the load path after the lib directory so that libraries in the lib directory get precedence. Closes #2910.
Make help for the console command more explicit about how to specify the desired environment in which to run the console. Closes #2911.
Pull out Array#to_strings in favor of more general Symbol#to_proc.
Add Symbol#to_proc, which allows for, e.g. [:foo, :bar].map(&:to_s).
Pass multiple arguments to Element.show and Element.hide in JavaScriptGenerator instead of using iterators
Improve expire_fragment documentation.  Closes #2966.
Add Array#to_strings which to_s's all elements in an array.
Add extended_by, extend_with_included_modules_from and copy_instance_variables_from to Object.
Correct docs for automatic layout assignment. Closes #2610.
PostgreSQL: the purge_test_database Rake task shouldn't explicitly specify the template0 template when creating a fresh test database.  Closes #2964.
 r3209@asus:  jeremy | 2005-11-20 01:04:22 -0800  If sessions are disabled, return a hash that raises an error when it's accessed.
Make data writer private.  Marshal/unmarshal handle nil.
Log ActiveRecordStore debugging.
Add tasks to create, drop and rebuild the MySQL and PostgreSQL test  databases.
Document request.env and request.host.  Strip trailing whitespace.
Allows generator to specify migrations directory.  References #2960.
 r3173@asus:  jeremy | 2005-11-18 23:34:41 -0800  Ticket 2731 - sessions  r3185@asus:  jeremy | 2005-11-19 18:02:51 -0800  eliminate const redefinition warning  r3186@asus:  jeremy | 2005-11-19 19:25:50 -0800  Use :database option instead of :dbfile  r3187@asus:  jeremy | 2005-11-19 19:34:31 -0800  Data writer assigns to instance var.  Since nothing is calling write_attribute on the data column except for marshal_data, simplify data reader to lazy-unmarshal the data column (no worrying whether it's already unmarshaled)  r3188@asus:  jeremy | 2005-11-19 19:35:40 -0800  Explicitly create the session class so that subsequent requests for the session can find it in the database.  This is masking a problem with the controller losing its @session instance var and therefore requesting a new session.  r3189@asus:  jeremy | 2005-11-19 19:36:40 -0800  Using create unnecessarily  broadens the existing duck-typing so use new + save instead.  r3194@asus:  jeremy | 2005-11-19 20:28:17 -0800  Test creation of another instance while first instance is still active.  Should return same session_id.  r3195@asus:  jeremy | 2005-11-19 20:39:45 -0800  Always create new AR sessions rather than trying too hard to avoid database traffic.  References #2731.
Introducing the session_migration generator.  Creates an add_session_table migration.  References #2958.
 r3181@asus:  jeremy | 2005-11-19 02:52:24 -0800  Mark connections for verification.  Retrieve connection verifies before returning a connection.  Verification tests whether the connection is marked then reconnects if the connection is inactive.  All active connections are marked for verification after a request is handled.  References #428.
Use query methods rather than readers in boolean tests for [3092].  References #2945.  Closes #2949.
Correct boolean handling in generated reader methods.  References #2945.
Update to Prototype 1.4.0_rc4. Closes #2943 (old Array.prototype.reverse behavior can be obtained by passing false as an argument)
Don't generate read methods for columns whose names are not valid ruby method names.  References #2946.
Use Element.update('id', 'html') instead of uid=501(sam) gid=501(sam) groups=501(sam), 81(appserveradm), 79(appserverusr), 80(admin).innerHTML = 'html' in JavaScriptGenerator#replace_html so that script tags are evaluated
Make rjs templates always implicitly skip out on layouts.
script/console uses RAILS_ENV environment variable if present.  Closes #2932.
Windows: eliminate the socket option in database.yml.  Closes #2924.
Eliminate nil from newly generated logfiles.  References #2927.
Correct length for the truncate text helper.  Closes #2913.
Update to Prototype 1.4.0_rc3. Closes #1893, #2505, #2550, #2748, #2783.
Add support for new rjs templates which wrap an update_page block.
Document :force option to create_table.  References #2921.
Don't add the same conditions twice in has_one finder sql.  References #2916.
Inline a method used by render_partial.  Closes #2881.
replaced constant Plugin in documentation rake task with plugin local variable. This caused typo's migrations to fail because of name space collisions [Eridius]
Update from LGPL to MIT license as per Minero Aoki's permission.
Rename Version constant to VERSION. Closes #2802.
Remove CHANGELOG from apidoc Rake task since it isn't included with new apps anymore.
Correct time_zone_options_for_select docs.  Closes #2892.
Remove the unused, slow response_dump and session_dump variables from error pages.  References #1222.
Include QUOTED_TYPE constant in ActionPack AR assertions tests.
fewer objects, no loop in convert_content_type.  Closes #2883.
Inline commonly-called template presence checks.  Closes #2882.
Avoid logging code if logger is nil.  Closes #2881.
Use Set instead of Array to speed up prototype helper include? calls.  Closes #2880.
MemCache store may be given multiple addresses.  Closes #2869.
 r3118@asus:  jeremy | 2005-11-16 00:32:48 -0800  correct prefetch_primary_key? table_name param
 r3116@asus:  jeremy | 2005-11-16 00:17:06 -0800  Introducing the Firebird adapter.  Closes #1874.
 r3095@asus:  jeremy | 2005-11-15 22:40:51 -0800  Ticket #1874 - Firebird adapter  r3107@asus:  jeremy | 2005-11-16 00:06:14 -0800  quote column aliases  r3108@asus:  jeremy | 2005-11-16 00:08:12 -0800  quote columns in construct_conditions_from_arguments.  update sequence_name docs.  introduce prefetched primary keys.  r3109@asus:  jeremy | 2005-11-16 00:09:08 -0800  double-quote rather than single-quote sqlite columns  r3110@asus:  jeremy | 2005-11-16 00:09:56 -0800  quote column names and use attribute_condition in validates_uniqueness_of  r3111@asus:  jeremy | 2005-11-16 00:12:24 -0800  Use QUOTED_TYPE constant in tests  r3112@asus:  jeremy | 2005-11-16 00:13:28 -0800  restrict test_inserts_with_pre_and_suffix to those adapters which support migrations  r3113@asus:  jeremy | 2005-11-16 00:14:09 -0800  Use QUOTED_TYPE constant in tests  r3114@asus:  jeremy | 2005-11-16 00:14:30 -0800  Use QUOTED_TYPE constant in tests
Change Inflector#constantize to use eval instead of const_get
SQLServer: active? and reconnect! methods for handling stale connections.  References #428.
SQLServer: active? and reconnect! methods for handling stale connections.  References #428.
Associations handle case-equality more consistently: item.parts.is_a?(Array) and item.parts === Array.  Closes #1345.
Mention app/apis and db directories in README.  Closes #1616.
Remove invalid links in ActionView::Helpers::UrlHelper documentation.  Closes #1961.
Stricter matching for implicitly multipart filenames excludes files ending in unsupported extensions (such as foo.rhtml.bak) and without a two-part content type (such as foo.text.rhtml or foo.text.really.plain.rhtml).  Closes #2398.
Handle cookie parsing irregularity for certain Nokia phones.  Closes #2530.
Refactored JavaScriptHelper into PrototypeHelper and ScriptaculousHelper.  Added PrototypeHelper::JavaScriptGenerator and PrototypeHelper#update_page for easily modifying multiple elements in an Ajax response.
SQLServer: insert uses given primary key value if not nil rather than SELECT @@IDENTITY.  References #2866.
Update trunk to latests script.aculo.us
* Updated docs for in_place_editor, fixes a couple bugs and offers extended support for external controls [Justin Palmer] closes #2870
Oracle: active? and reconnect! methods for handling stale connections.  Optionally retry queries after reconnect.  References #428.
Correct documentation for Base.delete_all.  References #1568.
Oracle: test case for column default parsing.  References #2788.
Update documentation for Migrations.  References #2861.
Update documentation for render :file.  References #2858.
Note that the ruby-memcache bindings are required to use the memcache store.
Update CHANGELOG with more details.  References #2842.
Eliminate Subversion dependencies in scripts/plugin.  Correct install options.  Introduce --force option to reinstall a plugin.  Closes #2842.
Reapply [2942] which was elided by [2997].  References #2788.  References #2848.
Only include builtin filters whose filenames match /^[a-z][a-z_]*_helper.rb$/ to avoid including operating system metadata such as ._foo_helper.rb.  References #2855.
hidden_field can also be in fields_for
Make form_for work with additional options
Show with local vars
Added FormHelper#form_for and FormHelper#fields_for that makes it easier to work with forms for single objects also if they don't reside in instance variables [DHH]
 r3046@asus:  jeremy | 2005-11-13 02:31:21 -0800  AbstractAdapter#reconnect_if_inactive! returns boolean success.  AbstractAdapter#log alters exception message on reconnect failure rather than raising ConnectionFailed.
 r3042@asus:  jeremy | 2005-11-13 01:51:08 -0800  MySQL active? and reconnect!  References #428.  r3043@asus:  jeremy | 2005-11-13 01:58:28 -0800  SQLite active? and reconnect!  References #428.  r3044@asus:  jeremy | 2005-11-13 02:02:27 -0800  Update CHANGELOG with admonishment regarding avoidance of the log method.
 r3032@asus:  jeremy | 2005-11-12 23:16:52 -0800  Ticket 428 - stale connections  r3040@asus:  jeremy | 2005-11-13 00:22:29 -0800  When AbstractAdapter#log rescues an exception, attempt to detect and reconnect to an inactive database connection.  Connection adapter must respond to the active? and reconnect! instance methods.  Initial support for PostgreSQL.  References #428.
PostgreSQL: last_insert_id uses select_value rather than using @connection.exec directly.
Much faster Oracle column reflection.  References #2848.
 r4331@asus:  jeremy | 2005-11-12 17:03:45 -0800  PostgreSQL: default_sequence_name falls back to 'id' pk if both the given pk and discovered pk are nil.  r4336@asus:  jeremy | 2005-11-12 22:31:39 -0800  PostgreSQL: correct the sequence discovery fallback query.  References #2594.
SQLite: the clone_structure_to_test and purge_test_database Rake tasks should always use the test environment.  Reference #2846.
SQLite: the clone_structure_to_test Rake task should always use the test environment.  References #2846.
PostgreSQL: min_messages = warning for AR tests.
Pulled auto-starting browser: More pain than gain
 r4325@asus:  jeremy | 2005-11-12 03:57:46 -0800  PostgreSQL: correctly discover custom primary key sequences.  PostgreSQL: smarter sequence name defaults, stricter last_insert_id, warn on pk without sequence.  Base.reset_sequence_name analogous to reset_table_name (mostly useful for testing).  Base.define_attr_method allows nil values.  References #2594.
Make Validations#create! use the current scope
SQLServer: don't report limits for unsupported field types.  Closes #2835.
Include the Enumerable module in ActiveRecord::Errors.
Changelogging
Make sure that legacy db tasks also reference :database for SQLite (closes #2830) [kazuhiko@fdiary.net]
options_for_select allows any objects which respond_to? :first and :last rather than restricting to Array and Range.  Closes #2824. References [2126].
Update docs for AR::Base#clone.
Add :group option, correspond to GROUP BY, to the find method and to the has_many association.  Closes #2818.
Pass __FILE__ when evaluating plugins' init.rb.  Closes #2817.
Better svn status matching for generators.  Closes #2814.
Make sure the acts_as_list_class is resolved relative to the global namespace
This does not need to be thread local (thanks skaes).
Disabled stderr suppressing until activesupport is available also in non-gem mode
Don't reload routes until plugins have been loaded so they have a chance to extend the routing capabilities [DHH]
Don't cast nil or empty strings to a dummy date.  Closes #2789.
Expand tabs and strip trailing whitespace.
acts_as_list plays nicely with inheritance by remembering the class which declared it.  Closes #2811.
The auto_link text helper accepts an optional block to format the link text for each url and email address.  References #2628.
Don't detach or fork for script/server tailing
Added automatic browser launching on OS X when starting script/server [DHH]
Changed all script/* to use /usr/bin/env ruby instead of hard-coded Ruby path. public/dispatcher.* still uses the hard-coded path  for compatibility with web servers that dont have Ruby in path [DHH]
Include all of session creation in stale_session_check
Another word on precedence (closes #2790)
Force RAILS_ENV to be "test" when running tests, so that ENV["RAILS_ENV"] = "production" in config/environment.rb doesnt wreck havok [DHH] (closes #2660)
Increase criticality in comment for ENV["RAILS_ENV"]
assert_tag uses exact matches for string conditions, instead of partial matches. Use regex to do partial matches. #2799
Allow capital letters in the email address in the the validates_format_of example
Added note about precedence (closes #2790)
 r3886@sedna:  jeremy | 2005-11-07 03:09:59 -0800
Delete existing sessions with the same session id before creating a new session.  Prevents duplication and hijacking.
CGI::Session::ActiveRecordStore.data_column_name = 'foobar' to use a different session data column than the 'data' default.  References #2731.  Remove error-prone method_missing passthrough to session model.  Cleanup.
Correct handling of complex order clauses with SQL Server limit emulation.  Closes #2770.
Correct whitespace problem in Oracle default column value parsing.  Closes #2788.
Correct versioning in :freeze_gems Rake task.  Closes #2778.
Destroy associated has_and_belongs_to_many records after all before_destroy callbacks but before destroy.  This allows you to act on the habtm association as you please while preserving referential integrity.  Closes #2065.
Deprecate the old, confusing :exclusively_dependent option in favor of :dependent => :delete_all.
Controllers with acronyms in their names (e.g. PDFController) require the correct default helper (PDFHelper in file pdf_helper.rb).  Closes #2262.  Do not raise an exception when default helper is missing; log a debug message instead.  It's nice to delete empty helpers.
More compatible Oracle column reflection.  Closes #2771.
Add :order option to Author.posts_with_comments_and_categories so that tests which assume implicit id order pass with database which do not provide it.  Scrubbed whitespace.
Added an omnipresent RailsInfoController with a properties action that delivers an HTML rendering of Rails::Info (but only when local_request? is true). Added a new default index.html which fetches this with Ajax.
Adding new scripts should set them 0755.
Made ready for 0.14.3 (RC4)
Added in bars to help guard against the production environment being used in test
Add 'add_new_scripts' rake task for adding new rails scripts to script/*
Less spacing
Raise in stubby/init.rb if it doesn't have access to directory or config.  loaded_plugins is a set of plugin names (so it will be usable with multiple paths, gems, etc).
Dont generate config/lighttpd.conf, will be done on first run of script/server
Remove bogus hyphen from script/process/reaper calls to 'ps'.  Closes #2767.
Copy lighttpd.conf when it is first needed, instead of on app creation
Use require_library_or_gem 'fcgi' in script/server
Restore access to 'directory' and 'config' inside the plugin eval environment
Added request as instance method to views, so you can do <%= request.env["HTTP_REFERER"] %>, just like you can already access response, session, and the likes [DHH]
Make sure to check for FCGI as well as lighttpd
Only use a socket if there
Dont have password: optional in there
Dont have password: optional in there
Added default lighttpd config in config/lighttpd.conf and added a default runner for lighttpd in script/server (works like script/server, but using lighttpd and FastCGI). It will use lighttpd if available, otherwise WEBrick. You can force either or using 'script/server lighttpd' or 'script/server webrick' [DHH]
Added default lighttpd config in config/lighttpd.conf and added a default runner for lighttpd in script/server (works like script/server, but using lighttpd and FastCGI). It will use lighttpd if available, otherwise WEBrick. You can force either or using 'script/server lighttpd' or 'script/server webrick' [DHH]
Fail gracefully from svn checks (closes #2700) [Rick Olson]
New configuration option config.plugin_paths which may be a single path like the default 'vendor/plugins' or an array of paths: ['vendor/plugins', 'lib/plugins'].  Plugins are discovered in nested paths, so you can organize your plugins directory as you like.  Refactor load_plugin from load_plugins.  Simplify initializer unit test.  Closes #2757.
Make use of silence_stderr in script/lighttpd, script/plugin, and Rails::Info
Define kernel.rb methods in "class Object" instead of "module Kernel" to work around a Windows peculiarity
Added Kernel#silence_stderr to silence stderr for the duration of the given block.  Changed Kernel#` to print a message to stderr (like Unix) instead of raising Errno::ENOENT on Win32.
Added :include as an option for association declarations [DHH]
Sharper example
Made association extensions use simpler block syntax
Add documentation to assert_tag indicating that it only works with well-formed XHTML
Add a new test case to demonstrate that subject headers are being properly encoded for multipart messages
Fail gracefully when plugin was not found [Chad Fowler]
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@2890 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
 r2916@asus:  jeremy | 2005-11-06 05:04:06 -0800  Rename conditions_scoping_test to method_scoping_test.
 r2915@asus:  jeremy | 2005-11-06 05:02:53 -0800  Rename Base.constrain to Base.with_scope so it doesn't conflict with existing concept of database constraints.  Make scoping more robust: uniform method => parameters, validated method names and supported finder parameters, raise exception on nested scopes.
svn:externals is now an explicit option for script/plugin (closes #2755) [Ryan Tomayko]
Enable HTTP installation of plugins when svn isn't avaialable. Closes #2661. [Chad Fowler]
Move info.rb to rails_info.rb and load Rails::Info after initialization
Added script/about to display formatted Rails::Info output
Added Rails::Info to catalog assorted information about a Rails application's environment
Update changelog
Added action_pack.rb stub so that ActionPack::Version loads properly
Scaffold-generated controller action gives paginate the plural_ rather than singular_name.  Closes #2743.
Update paginator docs.  Closes #2744.
script/lighttpd: Detach and exit the forked process
script/lighttpd: tail the logfile when running in the foreground, and attempt to guess the port number
Added skip_before_filter/skip_after_filter for easier control of the filter chain in inheritance hierachies [DHH] Added short-hand to assert_tag so assert_tag :tag => "span" can be written as assert_tag "span" [DHH]
Added extension capabilities to has_many and has_and_belongs_to_many proxies [DHH] Added find_or_create_by_X as a second type of dynamic finder that'll create the record if it doesn't already exist [DHH] Added constrain scoping for creates using a hash of attributes bound to the :creation key [DHH]
Omit internal dtproperties table from SQLServer table list.  Closes #2729.
Don't reap the spawner or reaper scripts either.  Closes #2727.
Explicitly require topic from reply fixture.
Quote column names in generated SQL.  Closes #2728.
Don't reap spawn-fcgi.  Closes #2727.
Correct the pure-Ruby MySQL 4.1.1 shim's version test.  Closes #2718.
Add Model.create! to match existing model.save! method.  When save! raises RecordInvalid, you can catch the exception, retrieve the invalid record (invalid_exception.record), and see its errors (invalid_exception.record.errors).
Correct fixture behavior when table name pluralization is off.  Closes #2719.
Added extension capabilities to has_many and has_and_belongs_to_many proxies [DHH]
Restore the fast Numeric#blank?  Closes #2714.
Reaper knows how to find processes even if the dispatch path is very long.  Closes #2711.
Correct reader method generation for primary key attribute: handle case when primary_key is defined but its column is nil, such as when the model class is backed by a view.
Changed 0.blank? to false rather than true since it violates everyone's expectation of blankness.  Closes #2518, Closes #2705.
Added redirect_to :back as a short-hand for redirect_to(request.env["HTTP_REFERER"])
Make fcgi handler respond to TERM signals with an explicit exit
Added demonstration of fixture use to the test case generated by the model generator [DHH]
If specified, pass PostgreSQL client character encoding to createdb.  Closes #2703.
ensure close_session in AC::Base#process
Failsafe response handler for dispatcher.
Simplify gem search for :freeze_gems rake task.
Move Dispatcher.dispatch CGI.new out of default args and into rescuable block so the dispatcher catches its errors rather than the fcgi handler.
The freeze_gems Rake task accepts the VERSION environment variable to decide which version of Rails to pull into vendor/rails.
A missing primary key column shouldn't raise an error when generating its error message.
Change javascript_include_tag :defaults to not use script.aculo.us loader, which facilitates the use of plugins for future script.aculo.us and third party javascript extensions, and provide register_javascript_include_default for plugins to specify additional JavaScript files to load. Removed scriptaculous.js, slider.js and builder.js
Added that an DuplicateMigrationVersionError gets raised when multiple migrations have the same version number.
We want ::Plugin, not Commands::Plugin.  Closes #2664.
The freeze_edge Rake task does smarter svn detection and can export a specific revision by passing the REVISION environment variable.  For example: rake freeze_edge REVISION=1234.  Closes #2663.
Patches go to trac now
Last conversion from dbfile to database
Changed :dbfile to :database for SQLite adapter for consistency (old key still works as an alias) (closes #2644) [Dan Peterson]
Comment database.yml and include PostgreSQL and SQLite examples.
Improve script/plugin on Windows.  Closes #2646.
Removed erroneous arg-size check in AC::Base.fragment_cache_store=.  Closes #2650.
The *_plugindoc Rake tasks look deeper into the plugins' lib directories.  Closes #2652.
Added migration support for Oracle (closes #2647) [Michael Schoen]
Worked around that connection can't be reset if allow_concurrency is off.  Closes #2648.
The PostgreSQL :db_structure_dump task limits its dump to the schema search path in database.yml.
Add task to generate rdoc for all installed plugins.
Added support for the queue option on visual_effect
Update script.aculo.us to V1.5_rc4
Beef up test fixtures documentation for test/test_helper.rb
Add default Mac + DarwinPorts MySQL socket locations to the app generator.
Don't dirty up the command delegates' base class with methods that belong in the migration generator class.
Migrations may be destroyed: script/destroy migration foo.  Closes #2635.
Added that plugins can carry generators and that generator stub files can be created along with new plugins using script/generate plugin <name> --with-generator [DHH]
Removed app/apis as a default empty dir since its automatically created when using script/generate web_service [DHH]
Trim down the default mimetypes in config/lighttpd.conf.
Dont hardcode
Added script/plugin to manage plugins (install, remove, list, etc) [Ryan Tomayko]
Work, but better!
You've been down that road, Neo. You know where it ends. And I know it's not where you want to be.
Add Rakefile to plugin generator.  Let test_plugins rake task look deeper into plugins' test dirs.  Make plugin test cases flunk by default.
Move down to 1 proc by default and a bit more help
Added test_plugins task: Run the plugin tests in vendor/plugins/**/test (or specify with PLUGIN=name) [DHH]
Added default lighttpd config in config/lighttpd.conf and added a default runner for lighttpd in script/lighttpd (works like script/server, but using lighttpd and FastCGI) [DHH]
Added default lighttpd config in config/lighttpd.conf and added a default runner for lighttpd in script/lighttpd (works like script/server, but using lighttpd and FastCGI) [DHH]
Plugin tests should include test/unit
Added plugin generator to create a stub structure for a new plugin in vendor/plugins (see "script/generate plugin" for help) [DHH]
Use the old way of getting args to the scaffold generator and un-screwup the controller name assignment appropriately.
Added app/services as a default dir in the Rails skeleton and to the load path. Use it to keep classes like MaintenanceService and PaymentGateway [DHH]
Made more tests for SQLServer pass (closes #2486) [Tom Ward]
Added migration support to SQL Server adapter (please someone do the same for Oracle and DB2) (closes #2625) [Tom Ward]
 r3801@sedna:  jeremy | 2005-10-28 00:42:28 -0700  Use AR::Base silencing rather than AR::Base.logger silencing in fixtures to preserve Log4r compatibility.
 r3800@sedna:  jeremy | 2005-10-28 00:39:05 -0700  Readonly constraints, association collection method_missing, dup constraint options
rake should run functional tests even if the unit tests have failures [Jim Weirich]
When loading classes using const_missing, raise a NameError if and only if the file we tried to load was not present.
Recognize ./#{RAILS_ROOT} as RAILS_ROOT in error traces
Back off cleanpath to be symlink friendly. Closes #2533
Add name to changelogs
Update documentation for observers to reflect new configuration system.
Refactor DB exceptions and deal more with DB2 (closes #2624)
Bump to Prototype 1.4.0_rc2
Remove fingerprinting from AR session store; fix bug in store. Closes #2612
Add exception to example (closes #2315)
Proper CSS color definition (closes #2334)
Added TextHelper#strip_tags for removing HTML tags from a string (using HTMLTokenizer) (closes #2229) [marcin@junkheap.net]
Added :offset and :limit to the kinds of options that Base.constrain can use (closes #2466) [duane.johnson@gmail.com]
Added a reader for flash.now, so it's possible to do stuff like flash.now[:alert] ||= 'New if not set' (closes #2422) [Caio Chassot]
Added petabytes and exebytes to numeric extensions (closes #2397) [timct@mac.com]
Added Time#end_of_month to accompany Time#beginning_of_month (closes #2514) [Jens-Christian Fischer]
Allow Mailers to have custom initialize methods that set default instance variables for all mail actions (closes #2563) [mrj@bigpond.net.au]
Load rake task files in alphabetical order so you can build dependencies and count on them (closes #2554) [Blair Zajac]
Added quoted_true and quoted_false methods to db2_adapter and cleaned up tests for DB2 (closes #2493) [maik schmidt]
Removed the dead test settings
Prepared for release of 0.14.2 (RC3)
Allow symbols to rename columns when using SQLite adapter. #2531 [kevin.clark@gmail.com]
 r2736@asus:  jeremy | 2005-10-24 17:08:12 -0700  Test for eager associations with limits should not assume that records are ordered by id.  r2737@asus:  jeremy | 2005-10-24 19:06:09 -0700  Fail fast if invalid primary key column.  r2746@asus:  jeremy | 2005-10-25 15:37:28 -0700  Begin rollback of fixture delete order.  Its solves a problem for 1% of users who already have a workaround while severely slowing down the other 99%.  r2747@asus:  jeremy | 2005-10-25 16:03:01 -0700  Rollback the rest.  r2748@asus:  jeremy | 2005-10-25 16:06:26 -0700  Re-add fixtures declaration to conditions scoping test  r2749@asus:  jeremy | 2005-10-25 16:09:03 -0700  Re-add fixtures declaration to finder test  r2750@asus:  jeremy | 2005-10-25 16:13:50 -0700  Don't assume keyboards table is empty
Minor documentation fix
Reset template variables after using render_to_string. Closes #2559
Take a different approach to keeping flash around when using components. One that, you know, doesn't involve consuming every byte of free memory on the system.
 r2727@asus:  jeremy | 2005-10-24 14:14:36 -0700  Fallback to @loaded_fixtures = {}.  Use Logger#silence.  Test fixture isolation with use_instantiated_fixtures and with no fixtures declaration.
 r2726@asus:  jeremy | 2005-10-24 14:11:59 -0700  correct primary key semantics: foo.id and foo.real_pk_column should both exist and return nil if foo.new_record?
A little spacing goes a long way
 r3689@sedna:  jeremy | 2005-10-16 10:24:36 -0700  Ticket 2404 - delete fixtures after using them  r3744@sedna:  jeremy | 2005-10-23 12:28:28 -0700  track dirty and loaded fixtures more carefully  r3745@sedna:  jeremy | 2005-10-23 12:29:39 -0700  fix broken tests  r3756@sedna:  jeremy | 2005-10-23 15:51:00 -0700  Global Logger.silencer switch for Logger#silence.  r3757@sedna:  jeremy | 2005-10-23 15:51:35 -0700  Correct changelogs
 r2718@asus:  jeremy | 2005-10-23 14:45:30 -0700  Ticket 2404 - fixture delete order  r2719@asus:  jeremy | 2005-10-23 15:01:13 -0700  Keep closer tabs on dirty, loaded, and declared fixtures.  Closes #2404.  r2720@asus:  jeremy | 2005-10-23 16:09:19 -0700  ensure table names are strings.  set dirty = dirty union loaded rather than dirty = loaded.
Map Active Record time to SQL TIME.  Closes #2576.
Map AR time to PostgreSQL TIME.  Closes #2575.
Constants set in the development/test/production environment file are set in Object
Clarify semantics of ActiveRecord::Base#respond_to?  Closes #2560.
Scaffold generator pays attention to the controller name.  Closes #2562.
Include tasks from vendor/plugins/*/tasks in the Rakefile #2545 [Rick Olson]
Expose the session model backing CGI::Session
HABTM finder sets :readonly => false.  Closes #2525.
Update CHANGELOG.
Make all of tests runnable on their own.
Add title case method to String to do, e.g., 'action_web_service'.titlecase #  => 'Action Web Service'.
Abbreviate RAILS_ROOT in traces
Really ready for release
Really ready for push
Don't clean RAILS_ROOT on windows
Made ready to push RC2
Parenthesize :conditions
Correct PostgreSQL primary key sequence detection.  #2507
Remove trailing '/' from RAILS_ROOT
Update error trace templates
Remove generated code from app traces; improve accuracy of framework traces
Added support for using limits in eager loads that involve has_many and has_and_belongs_to_many associations
Upgrade to Prototype 1.4.0_rc1
unbreak unit tests on windows
attempt to fix #2500
Updated the gem specs
Make string-keys locals assigns optional
suppress mysql_config errors
Use the more appropriate columns_hash to get the session data column size limit.
Upgrade Rails dependencies
Dont include unnecessary active support classes in docs
Getting ready for 0.14.0 (1.0.0 Release Candidate 1)
moved generators to lib/generators
modified finder test a tiny bit so that it passes on sqlserver
Improve line number detection for template errors
Update Exception extension to show the first few framework frames in an application trace.
Remove util.js
Don't rdoc the Version module
Update/clean up ActiveRecord documentation (rdoc)
Update/clean up AP documentation (rdoc)
Update/extend ActionMailer documentation (rdoc)
Add unit tests for exception extensions
Try to figure out which mysql socket to use.  Default to /path/to/your/mysql.sock
Use expand_path for app_name so, e.g., rails . is supported
Add missing file
Made the rails command use the application name for database names in the tailored database.yml file.
 r3959@asus:  jeremy | 2005-10-16 00:09:09 -0700  update changelog for #2292
 r3957@asus:  jeremy | 2005-10-16 00:01:55 -0700  more sequence tests from #2292
 r3616@asus:  jeremy | 2005-09-26 23:09:28 -0700  Ticket 2292 - Sequences, schemas, and fixtures  r3917@asus:  jeremy | 2005-10-15 10:43:24 -0700  fix pk assert  r3918@asus:  jeremy | 2005-10-15 10:46:52 -0700  rework query cache connection= override  r3919@asus:  jeremy | 2005-10-15 10:47:45 -0700  correct fixtures usage  r3920@asus:  jeremy | 2005-10-15 10:53:23 -0700  correct attr assignment  r3921@asus:  jeremy | 2005-10-15 12:59:10 -0700  sequences  r3922@asus:  jeremy | 2005-10-15 16:36:09 -0700  reset fixtures work with sequences  r3951@asus:  jeremy | 2005-10-15 23:23:12 -0700  cut down excess features  r3952@asus:  jeremy | 2005-10-15 23:40:30 -0700  don't test for PostgreSQL specifically
Upgrade to Prototype 1.4.0_rc0
Documentation updates/fixes for railties
Comment out the memory leak test because it b0rks the testing environment. Update some contact info.
added assert_valid to AP
Minero Aoki made TMail available to Rails/ActionMailer under the MIT license (instead of LGPL) [RubyConf 2005]
Add documentation for Rails::Initializer and Rails::Configuration
Add line and file information to test process' get, post, etc methods
Add temporary support for passing locals to render using string keys
Add __FILE__ and __LINE__ to eval
Shorten long line
Allow ARStore::Session to indicate that it should not be reloaded in dev mode
Austin Ziegler made Text::Simple available to Rails/ActionMailer under a MIT-like licens [See rails ML, subject "Text::Format Licence Exception" on Oct 15, 2005]
Renaming the deprecated finder test
Clean up error pages by providing better backtraces
Added Extension extension to provide support for clean backtraces.
reasoning behind the seemingly duplicated method
Add code and message to test response as per #2460
squash the memleak in dev mode finally (fingers crossed, here)
Backed out of setting testing settings through initializer as that would break backwards compatibility
Should be RAILS_ROOT/test/fixtures.
Make freezing work with Windows
Change default logging colors to work on both white and black backgrounds.
Added Rails framework freezing tasks: freeze_gems (freeze to current gems), freeze_edge (freeze to Rails SVN trunk), unfreeze_rails (float with newest gems on system)
Raise an exception if an attempt is made to insert more session data into the ActiveRecordStore data column than the column can hold. Closes #2234.
action pack asserts don't spam you with unnecissary backtraces anymore
Updated documentation and fixed the spinner to reference the new spawner by default
Updated and clarified documentation for JavaScriptHelper to be more concise about the various options for including the JavaScript libs
Adds update_javascripts task which will fetch all the latest js files from railties dir.
Cleaned up test_helper
If a component redirects when called with render_component_as_string, render the redirected to action.
Really fix #1896.  YAML class structure changed between 1.8.2 and 1.8.3, breaking the original implementation.  Duck-type instead of checking kind_of?
Updated whiny nil to be more concise and useful.
Eliminate an obsolete comment.
Support ordered YAML fixtures.  #1896
Add changelog
Cleaned up some docs
Take retry with breakpoint out until we fix it
Adds :nullify option to :depends. Closes #2015 (Robby Russell)
 r3618@sedna:  jeremy | 2005-10-14 12:06:03 -0700  Branch for :join tainting  r3631@sedna:  jeremy | 2005-10-14 20:13:49 -0700  Introduce read-only records, object.readonly\!, object.readonly?, Foo.find(:all, :readonly => true).  Foo.find(:all, :joins => '...') also implies :readonly => true.
Change quote delimiters for sql interpolation to obviate SyntaxErrors. Closes 2215. [leroen@gmail.com]
Added cleaning of RAILS_ROOT to useless elements such as '../non-dot-dot/'. Provides cleaner backtraces and error messages.
Finished move
Moving perform to performance
Clean-up fix a bit
Made the instantiated/transactional fixtures settings be controlled through Rails::Initializer. Transactional and non-instantiated fixtures are default from now on.
 r3619@sedna:  jeremy | 2005-10-14 14:41:24 -0700  move scripts  r3622@sedna:  jeremy | 2005-10-14 14:54:48 -0700  remove script/perform and script/process in favor of script/perform/profile, etc.
SQL Server needs to quote booleans just like MySQL 1/0
Only dump schema if schema_format is :ruby
Avoid memleak in dev mode with fastcgi
Sanitize benchmarker.  [times] argument is optional, defaults to 1.
Back out of [2548].
DRYed up Associations#clear. Closes #1906 [Caleb]
Update docs
Added Enumerable#first_match
Made them actually work
Performers go .rb
Ensure radio_button works as expected with values other than strings.
Escape query strings in the href attribute of URLs created by url_helper.  #2333
Improved line number reporting for template errors
Cleaned it up a bit.. Dependencies can be declared inline
Delegate access to a customized primary key to the conventional id method. Closes #2444.
Added :locals support for render :inline #2463 [mdabney@cavoksolutions.com]
Refactored cleanly
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@2561 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
 r3581@sedna:  jeremy | 2005-10-13 12:20:42 -0700  Preserve order of fixture declarations.
 r3580@sedna:  jeremy | 2005-10-13 12:03:37 -0700  svn:ignore AR debug.log
 r3579@sedna:  jeremy | 2005-10-13 12:02:01 -0700  decrease need to edit AR mysql connect details by setting socket to mysql_config --socket.  if it doesn't work on your platform, well, you would've had to edit it anyway.
 r3578@sedna:  jeremy | 2005-10-13 12:00:03 -0700  svn:ignore both sqlite and sqlite3 db fixtures
 r3577@sedna:  jeremy | 2005-10-13 11:55:20 -0700  Add in_memory_connection for SQLite3 AR tests.  Uses :dbfile => ':memory:' so we don't have to manage db files.  It seems a bit quirky, so I'm including it as a separate connection type until we iron out the details.
 r3576@sedna:  jeremy | 2005-10-13 11:31:50 -0700  Update fcgi_dispatcher_test for old changes to the FCGI handler: processing attr was removed, USR1 behaves the same (sets when_ready = :exit) whether or not currently handling request.
 r3575@sedna:  jeremy | 2005-10-13 11:22:13 -0700  Eliminate warning for redefined MemCache constant.
 r3574@sedna:  jeremy | 2005-10-13 11:16:51 -0700  More precise Logger version test to account for distributions that don't keep Ruby and its stdlib in sync.  Logger#silence yields self for convenience.  Logger unit tests.
Unset the X-Requested-With header when using the xhr wrapper in functional tests. Closes #2352.
modified javascript_helper testcase to back up #2097
Support using different database adapters for development and test with ActiveRecord::Base.schema_format = :ruby
Optimize postgresql selects.
Make webrick work with session(:off)
Update DB2 adapter. Closes #2206.
Corrections to SQLServer native data types. Closes #2267.
Unescape paths before writing cache to file system. Closes #1877.
Wrap javascript_tag contents in a CDATA section and add a cdata_section method to TagHelper. Closes #1691.
Deprecated ActiveRecord::Base.threaded_connection in favor of ActiveRecord::Base.allow_concurrency.
Protect id attribute from mass assigment even when the primary key is set to something else. Closes #2438.
Add test coverage for customized primary keys including a failing test for #2444.
Make sure ENV['RAILS_ENV'] and RAILS_ENV are kept in sync
Honor the runner -e toggle even if the RAILS_ENV constant has already been set
Misc doc fixes (typos/grammar/etc). Closes #2445.
Use the correct scope for Rake tasks
Make xyz_tag(..., :id => "foo") work again
Migrating should also dump the latest schema
Misc doc fixes (typos/grammar/etc.). Closes #2430.
Add test coverage for content_columns. Closes #2432.
Speed up for unthreaded environments. Closes #2431.
Optimization for Mysql selects using mysql-ruby extension greater than 2.6.3. Closes #2426.
Speed improvement for session_options. #2287. [skaes@web.de]
Make cacheing binary files friendly with Windows. Closes #1975.
Convert boolean form options form the tag_helper. Recloses #809.
Speed up the setting of table_name. Closes #2428.
Require rails_version instead of version
mv lib/version.rb to lib/rails_version.rb
move lib/version.rb to lib/active_support/version.rb
mv lib/version.rb to lib/action_web_service/version.rb
move lib/version.rb to lib/action_mailer/version.rb
Move lib/version.rb to lib/action_pack/version.rb
move lib/version.rb to lib/active_record/version.rb
Replace '%e' from long and short time formats as Windows does not support it. Closes #2344.
Optimize instantiation of STI subclass records. In partial fullfilment of #1236.
Optimization refactoring for add_limit_offset!. In partial fullfilment of #1236.
Add versioning convention from SwitchTower to all Rails components. Add --version, -v option to the 'rails' command. Closes #1840.
Add ability to get all siblings, including the current child, with acts_as_tree. Recloses #2140.
Added to_s(:db) to Range
Make it clear that we are at script.aculo.us V1.5_rc3 now
Update Prototype to V1.4.0_pre11, script.aculo.us to [2502] and fix the rails generator to include the new .js files [Thomas Fuchs]
Make assert_tag :children count appropriately. Closes #2181.
PostgreSQL returns the path type wrapped in quotes.
Add geometric type for postgresql adapter. Closes #2233.
Backing out of #2496. Comparing md5 checksums is in no way faster than doing a direct compare. Benchmarks help.
Compare md5 checksums of files rather than files themselves, as it's far faster for large files (like logs).
Skip directories when checking for identical source and destination files.
Evaluate dynamic templates before checking if the new file is identical to the old one.
Make the generator skip a file if it already exists and is identical to the new file.
Look here, braces: gimme some elbow room.  #2418
Move require_library_or_gem out of AR's abstract_adapter and into ActiveSupport. closes #1992
Don't tell me about defined reader methods, even at debug level.
Add option (true by default) to generate reader methods for each attribute of a record to avoid the overhead of calling method missing. In partial fullfilment of #1236.
Add convenience predicate methods on Column class. In partial fullfilment of #1236.
Raise an exception when invalid options are passed to ActiveRecord::Base.find. Closes #2363.
sqlite topics.approved should default to true like the other dbs
Remove straggling symbolize_strings_in_hash from [2427].
Add rename_table to mysql, sqlite and postgres adapters for use in migrations
Allow in memory sqlite DBs when RAILS_ROOT is defined [blair@orcaware.com]
smallint -> boolean in pg sql
Quote booleans according the rules defined by the adapter * SQLite schema has been updated * Postgresql schema needs to be fixed too Simplify AR::Base#toggle to store the boolean, not the quoted value * expand the tests
Added :force option to create_table that'll try to drop the table if it already exists before creating
Dont repeat yourself
Dont include script/process dir
Dont include run
Backed out of script/run portal idea. Muscle memory too deep
Keep Units and Functionals around for those who don't upgrade their app right away.
Load plugins last
prepend to load path before loading the plugin
Add experimental plugin support #2335
Schema dumper should emit ":default => false" if the default for a column is false
Made the documentation about render template/file sane
Add :rfc822 as an option for Time#to_s (to get rfc822-formatted times)
Chain the const_missing hook to any previously existing hook so rails can play nicely with rake
Forced newer versions of RedCloth to use hard breaks [DHH]
Forced newer versions of RedCloth to use hard breaks [DHH]
Association validation does not belong in a before_save callback: move it into a validation method.  Restores the expected model.valid? == model.save.  Add tests for cancelling save by returning false from a before_save callback.  Remove assumption that before_destroy's return value indicates whether the record was destroyed.
Use a nicer date format
Better logging about partials when logger to to debug
Added new scriptaculous options for auto_complete_field #2343 [m.stienstra@fngtps.com]
Don't prepend the asset host if the string is already a fully-qualified URL
Run set load path so others can do boot and get path
Update the spinner to the latest commands
Get rid of old symbolize_strings_in_hash.
Ticket #2282 - fix parsing of timestamps with time zone
Dont redefine RAILS_ENV once set
Not the avenue we want to go down
Made the order of framework settings significant so config.action_controller.allow_concurrency can be specified before config.action_controller.fragment_cache_store, which relies on the value of the former
Added method access to OrdredOptions
Include OrderedOptions by default
Added test for looping in order
Added OrderedOptions array/hash for use with initializer
No need to string.to_s right after checking that string.is_a?(String)
Move transaction thread-safety test to transactions_test.  Check that simultaneous transactions don't step on each others' toes.  Check that simultaneous transactions don't give dirty reads (read-committed txn isolation or greater.)
Use transactional fixtures by default for AR tests.  Set ENV['AR_NO_TX_FIXTURES'] to yes to disable.  Tidy up abstract_unit.
Require topic model rather than assume another test has already.
Disable transactional fixtures for ar_schema_test and schema_test_postgresql
Dont bitch over resetting const
Clean up the act of commands
Removed all the scripts in script/* and replaced it with one generic portal: script/run
Going to pull all commands into Rails
Testing should also use a default REQUEST_METHOD
Clean up and extend test coverage for validates_numericality_of
Dont log size of request, doesnt work well with procs, not that interesting
Solved the hanging issue.. USR2 is now the preferred way of restarting FCGIs!
Solved the hanging issue.. USR2 is now the preferred way of restarting FCGIs!
Add failing test that shows that AR::Migration.remove_column fails silently with SQLite when passed arguments as symbols.
Updated rdoc for javascript_include_tag
Ticket #2156 - Use foreign_key inflection uniformly
My life for white space
Dont log it twice
Log request method and response size / status code
Added in-process restarting on USR2 -- still missing a good way to free up the socket, so not a complete solution yet.
Unit tests and fixtures for multipart posts.
Forgot about CHANGELOGs
Update script.aculo.us to 1.5_rc2, and Prototype to 1.4.0_pre7
 r3657@asus:  jeremy | 2005-09-28 00:32:33 -0700  Also test that client.firm_id.nil? after firm.clients.clear when clients is not :dependent
 r3653@asus:  jeremy | 2005-09-28 00:23:49 -0700  Ticket 2221 - model.association.clear should destroy associated objects if :dependent => true instead of nullifying their foreign keys
Added test coverage for stylesheet_path to show that it works as requested in #1471.
Include additional ticket number that is closed by [2380].
Returning false in before_destroy should cancel action.  Closes #1829.
Make table_name and controller_name in generators honor AR::Base.pluralize_table_names.
Undo condition change made in [2345] to prevent normal parameters arriving as StringIO.
Ticket 2256 - Recognize PostgreSQL NOW() default as equivalent to CURRENT_TIMESTAMP/CURRENT_DATE
#2261 was supposed to have been closed as wontfix, not sure why it wasn't, sorry.  We discussed this on IRC and reached the conclusion that it was an undesirable addition.
Ticket 2261 - Include lib/tasks/*.rake in rake stats
Ticket #2295 - Tolerate consecutive delimiters in query parameters
Update change log for #2297
Ticket 2297 - rake stats clearly labels functional and unit tests
Update change log for #2250.
Add extensive documentation to the ActiveRecord::AbstractAdapter. #2250
Oops, swapped order of params to COALESCE!  Upcoming patch has test cases.
Ticket 2263 - Make clean logger compatible with both 1.8.2 and 1.8.3
Streamline render process, code cleaning. Closes #2294.
 r3632@asus:  jeremy | 2005-09-27 12:18:49 -0700  reset_sequences cleanup also fixed #2183; credit ticket author
Keep flash after component is rendered.  Closes #2291.
Make the migration generator only check files ending in *.rb when calculating the next file name #2317 [Chad Fowler]
 r3613@asus:  jeremy | 2005-09-26 22:25:04 -0700  Handle sequence reset for empty tables and models with custom primary keys.
 r3605@asus:  jeremy | 2005-09-26 19:10:50 -0700  Update change log.
 r3604@asus:  jeremy | 2005-09-26 19:10:42 -0700  Treat validates_size_of :within as a single validator rather than splitting it into to ends of the range, thus yield two error messages on nil (yuck)
 r3603@asus:  jeremy | 2005-09-26 19:10:00 -0700  Add unit tests for nil assigned to validates_size_of :attr, :within
Make update_attribute use the same writer method that update_attributes uses.
Make migrations honor table name prefixes and suffixes.
 r3597@asus:  jeremy | 2005-09-26 17:39:23 -0700  Minor improvement to SQLite adapter blob escaping.
Have text helpers use built in Regexp.escape rather than home grown alternative
 r3592@asus:  jeremy | 2005-09-26 17:01:47 -0700  Update change log.
 r3591@asus:  jeremy | 2005-09-26 17:01:30 -0700  Simplify binary unit test.  Use flowers.jpg instead of associations.png
 r3590@asus:  jeremy | 2005-09-26 17:00:53 -0700  Correct and optimize PostgreSQL bytea escaping.  This is a blend of four patches, each providing a bit to the solution.
 r3589@asus:  jeremy | 2005-09-26 16:58:40 -0700  Remove associations.png in favor of flower.jpg which reveals a bug in binary escaping.
 r3573@asus:  jeremy | 2005-09-26 11:38:44 -0700  Ticket 1507 - IE file uploads give the filename as a full Windows path, but Ruby on UNIX doesn't know how to File.basename('C:\\blah\blah.foo').  r3574@asus:  jeremy | 2005-09-26 14:32:11 -0700  Get rid of constant redefine warning.  r3575@asus:  jeremy | 2005-09-26 14:33:07 -0700  Override the file upload's original_filename singleton method in CGIMethods.get_typed_value.  r3576@asus:  jeremy | 2005-09-26 14:33:49 -0700  Unit test overridden original_filename against normal filenames and full Windows paths.  r3577@asus:  jeremy | 2005-09-26 14:33:57 -0700  Update change log.
Include the orders table in *.drop.sql
Get rid of warnings generated by calling obsolete .to_a method on a Symbol
Remove duplicate 'quote_column_name' definition
Refactored the AbstractAdapter to be a lot less scary. Cleaned up the docs and style for the OSS adapters
Standardize the interpretation of boolean columns in the Mysql and Sqlite adapters. (Use MysqlAdapter.emulate_booleans = false to disable this behavior)
This seems unnecessary to call in teardown and is causing the tests to error because the table has been dropped.
Okay, you can have an extra space
Use assignment instead of call
Use assignment instead of call
Added new symbol-driven approach to activating observers with Base#observer [DHH]
Wrap :conditions in parentheses to prevent problems with OR's #1871
Added AbstractAdapter#select_value and AbstractAdapter#select_values as convenience methods for selecting single values, instead of hashes, of the first column in a SELECT #2283
Just include activerecord/schema with AR so it doesnt need to be dumped
Added prevention of duplicate migrations from the generator #2240 [fbeausoleil@ftml.net]
Added native, faster implementations of .blank? for the core types #2286 [skae]
Make the sqlite adapter preserve not-null constraints and index names when altering tables
Allow the postgresql adapter to work with the SchemaDumper.
Post the postgresql adapter (and hopefully other adapters) pass all tests
Make sqlite adapter pass all tests
Add db_schema_dump and db_schema_import rake tasks to work with the new ActiveRecord::SchemaDumper (for dumping a schema to and reading a schema from a ruby file).
Add ActiveRecord::SchemaDumper for dumping a DB schema to a pure-ruby file, making it easier to consolidate large migration lists and port database schemas between databases.
Only configure settings for loaded frameworks
Asserts now need html/document so it should require it
Require 'pp' early to prevent the pretty-print methods being mixed in too late and messing up a test
Added small note about how longtext might be needed for large session data
Include suggestion for using different socket #1951 [NVRS]
Optimized tag_options to not sort keys, which is no longer necessary when assert_dom_equal and friend is available #1995 [skae]. Added assert_dom_equal and assert_dom_not_equal to compare tags generated by the helpers in an order-indifferent manner #1995 [skae]
Improved migrations' behavior when the schema_info table is empty.
Make the truncate() helper multi-byte safe (assuming $KCODE has been set to something other than "NONE") #2103
Make the reaper slightly more robust in the nudging department
Include ActionView as a configurable framework
Include libs/ in rake stats #2223 [Marcel Molina]
Add routing tests from #1945
Add a routing test case covering #2101
Doc fix #2197
Add "#:nodoc:" for ActionController::Routing::PathComponent::Result #2209 [l.francke@gmx.de]
Make upload progress not throw JavaScript errors when there is no progress bar #2208 [Thomas Fuchs]
Don't set the :MimeTypes option if it is nil (causes routing errors on stylesheets and javascripts, somehow)
Cant use silence_warnings before active support is loaded
Added check for RAILS_CONNECTION_ADAPTERS on startup and only load the connection adapters specified within if its present (available in Rails through config.connection_adapters using the new config) #1958 [skae]
Added check for RAILS_CONNECTION_ADAPTERS on startup and only load the connection adapters specified within if its present (available in Rails through config.connection_adapters using the new config) #1958 [skae]
Only attempt to require Active Support if it hasnt been already #1959
Cache relative_url_root for all webservers, not just Apache #2193 [skae]
Speed up cookie use by decreasing string copying #2194 [skae]
Included UrlRewriter tests in rake run and made them not depend on Hash order
Made base_tests.rb run as part of rake
More auto-link fixes (to include query strings in autolinked text)
Moved session and fragment options out
Only include dirs that exists in the stats
Reformed all the config/environments/* files to conform to the new Rails::Configuration approach. Fully backwards compatible.
Make it easy to go UTC
Reformed environments files to the new config style
Control depedency mechanism, breakpoints, and whiny nils through the config
Added easy assignment of fragment cache store through use of symbols for included stores (old way still works too)
Moved session options to SessionManagement
Added ActionController::Base.session_store=, session_store, and session_options to make it easier to tweak the session options (instead of going straight to ActionController::CgiRequest::DEFAULT_SESSION_OPTIONS)
Dont log creation of view class
Make it even easier to set a new session store and use symbols for log level too
Added Rails::Configuration support for fragment stores
Use session_id instead of deprecated sessid
Use session_id instead of deprecated sessid
Sessions with an s
Added create_session_table, drop_session_table, and purge_session_table as rake tasks for databases that supports migrations (MySQL, PostgreSQL, SQLite) to get a table for use with CGI::Session::ActiveRecordStore. Added configuration of session options through config.session_options in Rails::Configuration
Make periodically_call_remote use type="text/javascript" on script tag #2171
Added dump of schema version to the db_structure_dump task for databases that support migrations #1835 [Rick Olson]
Added TextHelper#cycle to cycle over an array of values on each hit (useful for alternating row colors etc) #2154 [dave-ml@dribin.org]
Ensure that request.path never returns nil. Closes #1675
Add ability to specify Route Regexps for controllers. Closes #1917.
Provide Named Route's hash methods as helper methods. Closes #1744.
Rolled back broken #1814
Refactored to a more readble form #1813
Added better exception error when unknown column types are used with migrations #1814 [fbeausoleil@ftml.net]
Added irregular inflection sex => sexes #1826 [rails@electricvisions.com]
Use send instead of module_eval #1873 [shugo]
Split macros test into their own suite
Added :multipart option to ActiveRecordHelper#form to make it possible to add file input fields #2034 [jstirk@oobleyboo.com]
Added Hash#reverse_merge, Hash#reverse_merge!, and Hash#reverse_update to ease the use of default options. Added :connector and :skip_last_comma options to Array#to_sentence
Added in-place editing support in the spirit of auto complete with ActionController::Base.in_place_edit_for, JavascriptHelper#in_place_editor_field, and Javascript support from script.aculo.us #2038 [Jon Tirsen] Moved auto-completion and in-place editing into the Macros module and their helper counterparts into JavaScriptMacrosHelper
Dont encourage custom url options to be called with symbol #2047
Moved config/tasks to lib/tasks and added more documentation to environment.rb
Use the inflector rules made for the purpose
Added Array#to_sentence that'll turn ['one', 'two', 'three'] into 'one, two, and three' #2157 [m.stienstra@fngtps.com]
Added :disabled option to all data selects that'll make the elements inaccessible for change #2167, #253 [eigentone]
Added test to ensure that silence_warnings also returned its value
Added test to ensure that silence_warnings also returned its value
Added Kernel#silence_warnings and puts it into use throughout the framework
Forgot to add core_ext/string/starts_ends_with.rb
Added -m/--mime-types option to the WEBrick server, so you can specify a Apache-style mime.types file to load #2059 [ask@develooper.com]
Added -c/--svn option to the generator that'll add new files and remove destroyed files using svn add/revert/remove as appropriate #2064 [kevin.clark@gmail.com]
Added -c/--charset option to WEBrick controller, so you can specify a default charset (which without changes is UTF-8) #2084 [wejn@box.cz]
Added String#starts_with? and String#ends_with? #2118 [thijs@vandervossen.net]
Make the test_find_all_by_one_attribute and test_find_all_by_one_attribute_with_options tests not fail in SQL Server #2128 [Tom Ward]
Refactored away all the legacy validate_options calls and replaced them with Hash#assert_valid_keys
Make assert_valid_keys slightly more lenient
Allow link_to_remote to use any DOM-element as the parent of the form elements to be submitted #2137 [erik@ruby-lang.nl]
Added the instance methods #root and #ancestors on acts_as_tree and fixed siblings to not include the current node #2142, #2140 [coffee2code]
Added documentation for overwrite_params #2146 [Michael Shuerig]
Added documentation for #1904
An explicit include ClassInheritableAttributes is no longer needed #1948 [Caleb Tennis]
Avoid extending view instance with helper modules each request. Closes #1979
Performance improvements to CGI methods. Closes #1980
Use this.href, not unexisting url
Added :post option to UrlHelper#link_to that makes it possible to do POST requests through normal ahref links using Javascript
Symbolize the keys of overwritten parameters. Really closes #1909.
Give AR the new benchmark method too
Only do benchmarking if log level matches and log caching
Added use_silence parameter to ActiveRecord::Base.benchmark that can be passed false to include all logging statements during the benchmark block. Added ActionController::Base.benchmark and ActionController::Base.silence to allow for easy benchmarking and turning off the log
Dont encode the default subject for the test cases since they are within the ascii range
Make the default stats task extendable by modifying the STATS_DIRECTORIES constant
Allow the selected environment to define RAILS_DEFAULT_LOGGER, and have Rails::Initializer use it if it exists.
Updated vendor copy of html-scanner to support better xml parsing
Added :popup option to UrlHelper#link_to #1996 [gabriel.gironda@gmail.com]
Get rid of that silly lock
Silence logger initialization
Updated the options_for_select to deal with the fact that Strings now implement :first
Talk about whats missing
Also configure template view path
Proper clean rakefile
Moved all the shared tasks from Rakefile into Rails, so that the Rakefile is empty and doesn't require updating. Added Rails::Initializer and Rails::Configuration to abstract all of the common setup out of config/environment.rb (uses config/boot.rb to bootstrap the initializer and paths)
You will never sleep again!
Added note about how pre-packaged error functionality can be easier to recreate yourself than attempt to overly tailor #1489
Added String#at, String#from, String#to, String#first, String#last in ActiveSupport::CoreExtensions::String::Access to ease access to individual characters and substrings in a string serving basically as human names for range access. Added easy extendability to the inflector through Inflector.inflections (using the Inflector::Inflections singleton class)
Use chop! instead of chop! for efficiency
Drop trailing \000 if present on RAW_POST_DATA (works around bug in Safari Ajax implementation) #918
Make sure the schema_info table is created before querying the current version #1903
* Allow use of the :with option for submit_to_remote #1936 [jon@instance-design.co.uk]
Add documentation for index_type argument to add_index method for migrations #2005 [blaine@odeo.com]
Corrected project-local generator location in scripts.rb #2010 [Michael Schuerig]
AbstractRequest#domain returns nil when host is an ip address #2012 [kevin.clark@gmail.com]
Modify read_attribute to allow a symbol argument #2024 [Ken Kunz]
ActionController documentation update #2051 [fbeausoleil@ftml.net]
Yield @content_for_ variables to templates #2058 [Sam Stephenson]
Make rendering an empty partial collection behave like :nothing => true #2080 [Sam Stephenson]
Don't require the environment just to clear the logs #2093 [Scott Barron]
* Don't add charset to content-type header for a part that contains subparts (for AOL compatibility) #2013 [John Long]
Preserve underscores when unquoting message bodies #1930
Encode multibyte characters correctly #1894
Make Time#last_month work when invoked on the 31st of a month.
Add Time.days_in_month, and make Time#next_month work when invoked on the 31st of a month
Make the default rakefile read *.rake files from config/tasks (for easy extension of the rakefile by e.g. generators)
More rails-switchtower decoupling
Only load breakpoint in development mode and when BREAKPOINT_SERVER_PORT is defined. Closes #1957
Add option to specify the singular name used by pagination. Closes #1960
Use string key to set action_name for controllers. Closes #1968
More rails-switchtower decoupling
Move switchtower to the tools directory, to decouple it from rails
Remove switchtower integration from rails
Add dummy ActionView::Base.cache_template_loading accessor -- will be made functional again in short time
SwitchTower: specify the revision to release via the :revision variable (defaults to latest revision)
SwitchTower: allow variables to be set via the cli using the -s switch
SwitchTower: log checkouts to a "revisions.log" file
Made Upload Progress work with Prototype 1.4.0 and add some documentation for it #1847, #1876 [Thomas Fuchs/Sean Treadway]
Render refactoring; render error reporting fixes
Update changelog
fix invalid request XML generation in test process.
Allow the --toggle-spin switch on process/reaper to be negated
Revert [2040], caused assignment of belongs_to associations to fail in some cases
Add a failing test
SwitchTower: use a timestamp as the release name, instead of the revision number. Various tweaks and fixes to the supported scm modules.
Made SwitchTower conform to the other Rakefiles in terms of PKG description and beta gems pushing
Add support for :include with pagination (subject to existing constraints for :include with :limit and :offset) #1478 [michael@schubert.cx]
Saving a record with two unsaved belongs_to associations pointing to the same object fails #2023 [Tobias Luetke]
Prevent the benchmark module from blowing up if a non-HTTP/1.1 request is processed
Multipart messages specify a MIME-Version header automatically #2003 [John Long]
Add a unified render method to ActionMailer (delegates to ActionView::Base#render)
Move mailer initialization to a separate (overridable) method, so that subclasses may alter the various defaults #1727
Look at content-location header (if available) to determine filename of attachments #1670
Added :use_short_month option to select_month helper to show month names as abbreviations
Add an :if option to session management, to allow programmatically enabling or disabling the session
Replace render_partial with render :partial in scaffold generator
When copying the config files, also transform and copy the default deploy.rb script
Make the rakefile tasks that set up a new project aware of switchtower
Added CVS module for SwitchTower (very, very experimental!)
special-case non-existent target method handling for 'system.multicall' calls when the method does not exist, to conform to the RFC and return the error inline in the multicall response.
add 'system.multicall' support to XML-RPC. boxcarred methods must still exist on the target service(s), value casting will still be performed, and recursive 'system.multicall' calls are not allowed.
Allow multiple invocations in the same WS test #1720
Update changelog
Make destroy return self #1913 [sebastian.kanthak@muehlheim.de]
Make link_to escape the javascript in the confirm option #1964 [nicolas.pouillard@gmail.com]
Make acts_as_list work for insert_at(1) #1966 [hensleyl@papermountain.org]
Works with public keys now, for passwordless operation
fix rendering of scaffolding (@content_for_layout has to be set on the template.)
Subversion module recognizes the password prompt for HTTP authentication
Preserve +x on scripts when using darcs #1929 [Scott Barron]
Added -w flag to ps in process/reaper #1934 [Scott Barron]
Add API::Base.soap_client and API::Base.xmlrpc_client helper methods to construct an internal client.
Explicitly terminate shell statements with ';' if they are in 'if' statements
The utility's name is SwitchTower
When executing multiline commands, escape newlines with a backslash
Mention the dependencies of SwitchTower (Net::SSH, Needle)
Make assert_redirected_to properly check URL's passed as strings #1910 [Scott Barron]
Make sure :layout => false is always used when rendering inside a layout
Add integration with SwitchTower (rake tasks, default deploy.rb recipe)
Initial commit of the new switchtower utility
Use raise instead of assert_not_nil in Test::Unit::TestCase#process to ensure that the test variables (controller, request, response) have been set
Make sure assigns are built for every request when testing #1866
Allow remote_addr to be queried on TestRequest #1668
ActionMailer::Base.deliver(email) had been accidentally removed, but was documented in the Rails book #1849
Allow add_column and create_table to specify NOT NULL #1712 [emptysands@gmail.com]
Really fix the syntax error issue
More fixes, but still broken
Demonstrate breakage better
Added two failing tests for partials with locals from controller
Removed unused statement
Made the reaper talk to the spinner to make it spin faster during restarts and slower afterwards
Only log status if there is one different from 200 set
Document the design of the compiled templates approach and tweak the expiration check
Add a catch-all eraser
Improved performance of test app req/sec with ~10% refactoring the render method #1823 [Stefan Kaes]
Simplify content_for implementation
Made Oracle a first-class connection adapter by adhering closer to idiomatic Oracle style #1798 [The Gang of Oracles]
Made Oracle a first-class connection adapter by adhering closer to idiomatic Oracle style #1798 [The Gang of Oracles]
Allow ERb in the database.yml file (just like with fixtures), so you can pull out the database configuration in environment variables #1822 [Duane Johnson]
Added convenience controls for FCGI processes (especially when managed remotely): spinner, spawner, and reaper. They reside in script/process. More details can be had by calling them with -h/--help
Improved performance with 5-30% through a series of Action Pack optimizations #1811 [Stefan Kaes]
Added test for template to layout variable transfer
Caching template logging goes DEBUG
Extended template caching to rxml and attempted to fix periodical caching issue [Stephan Kaes]
Added warning about relying on habtm table aliases etc
Dont be ambigious about the condition key
Expiring a cache that doesnt exist is bliss not bad
Added support for calling constrained class methods on has_many and has_and_belongs_to_many collections #1764 [Tobias Luetke]
Added migration support for SQLite (using temporary tables to simulate ALTER TABLE) #1771 [Sam Stephenson]
Remove extra definition of supports_migrations? from abstract_adaptor.rb
Changed caching/expiration/hit to report using the DEBUG log level and errors to use the ERROR log level instead of both using INFO
Add unit test to ensure that session management options are inherited and overridable in subclasses
Added support for per-action session management #1763
Use debug to report compilation of erb templates
Remove duplicated file contents
Added additional documentation to FormTagHelper #1788 [jon@instance-design.co.uk]
Added load_fixtures task to the Rakefile, which will load all the fixtures into the database for the current environment #1791 [Marcel Molina]
Doc fixes #1775, #1776 [jon@instance-design.co.uk]
A bit more work on the still unfinished query cache #1722
Added an empty robots.txt to public/, so that web servers asking for it won't trigger a dynamic call, like favicon.ico #1738 [michael@schubert]
Add comment in config/environment.rb explaining $KCODE and UTF-8 #1726 [Leon Bredt]
Improved rendering speed on complicated templates by up to 25% #1234 [Stephan Kaes]. This did necessasitate a change to the internals of ActionView#render_template that now has four parameters. Developers of custom view handlers (like Amrita) need to update for that.
Dropped the 'immediate close-down' of FCGI processes since it didn't work consistently and produced bad responses when it didn't. So now a TERM ensures exit after the next request (just as if the process is handling a request when it receives the signal). This means that you'll have to 'nudge' all FCGI processes with a request in order to ensure that they have all reloaded. This can be done by something like ./script/process/repear --nudge 'http://www.myapp.com' --instances 10, which will load the myapp site 10 times (and thus hit all of the 10 FCGI processes once, enough to shut down).
Allow unspecified join-table columns to use to their default values when adding to a habtm collection
Updating changelog to reflect [1855]
Added stripping of _id to String#humanize, so "employee_id" becomes "Employee" #1574 [Justin French]
Added options hash as third argument to FormHelper#input, so you can do input('person', 'zip', :size=>10) #1719 [jeremye@bsa.ca.gov]
Log if filters return false and halt execution #1735 [Michael Koziarski]
Docs for JavaScriptHelper#remote_function #1740 [jon@instance-design.co.uk]
Reminder for dangers with Alias and mod_rewrite #1752 [dave@cherryville.org]
Added Base#expires_in(seconds)/Base#expires_now to control HTTP content cache headers #1755 [Thomas Fuchs]
Make all tests pass on PGSQL #1759 [Rick Olson]
Cleaning up of javascript_helper array options, add :only to sortable_element #1761 [Thomas Fuchs]
we should respect charset for incoming messages and not assuming incoming is always UTF-8, and only force UTF-8 for our response.
Regret inclusion for now
Support for upcoming script/spawner
More pagination speed #1334 [Stefan Kaes]
Turned off the test task as it breaks all others for now
Add RouteSet#named_route so that RouteSet instance methods do not shadow available route names
Provide correct defaults for Named Routes which do not specify :action
Made pagination faster #1334 [Stefan Kaes]
Made test_rendering_nothing_on_layout acknowledge the space
Added :select option to find which can specify a different value than the default *, like find(:all, :select => "first_name, last_name"), if you either only want to select part of the columns or exclude columns otherwise included from a join #1338 [Stefan Kaes]
Cleared conflict
Generate URLs for :action => index when :action => nil is supplied.
Named routes should not provide nil values to url_for. Includes factoring and extra testcases.
add changelog entry.
make sure that we get back a SOAPString when $KCODE is UTF-8
always send back SOAP responses as UTF-8, we can't guarantee that SOAP4R supports any encoding sent by caller.
 r3023@asus:  jeremy | 2005-07-12 23:43:39 -0700  Remove superfluous inherited override in Dependencies.  r3024@asus:  jeremy | 2005-07-12 23:54:28 -0700  Make test the default railties rake target.  r3025@asus:  jeremy | 2005-07-12 23:55:27 -0700  Encapsulate dispatch call in dispatcher test.  r3026@asus:  jeremy | 2005-07-12 23:56:14 -0700  Expand dispatcher mock to match full method signature for process.  r3027@asus:  jeremy | 2005-07-12 23:57:24 -0700  Look for app-specific generators in RAILS_ROOT/generators instead of RAILS_ROOT/script/generators.  r3028@asus:  jeremy | 2005-07-13 00:00:47 -0700  Update changelog.
Worked around a Safari bug where it wouldn't pass headers through if the response was zero length by having render :nothing return ' ' instead of ''
Make Request#subdomains handle "foo.foo.com" correctly
Made ready for release of 0.13.1
Improved documentation for :success/:failure callbacks #1699 [Thomas Fuchs]
Added support for limit and offset with eager loading of has_one and belongs_to associations. Using the options with has_many and has_and_belongs_to_many associations will now raise an ActiveRecord::ConfigurationError #1692 [Rick Olsen]
Script.aculo.us: latest rev, new autocompleter features, memory leaks fixed #1695 [Thomas Fuchs]
Update Railties to Prototype 1.3.1
Update to Prototype 1.3.1
Better documentation for Calling multiple redirects or renders #1687 [courtenay]
Made JavaScriptHelper tests pass regardless of hash order #1656 [Sam Stephenson]
 r2992@asus:  jeremy | 2005-07-10 02:43:49 -0700  Skip ActiveRecordStore tests if neither SQLite 2 nor 3 is available.
 r2985@asus:  jeremy | 2005-07-10 02:04:41 -0700  Updated changelog for #1688.
Added that nil options are not included in tags, so tag("p", :ignore => nil) now returns <p /> not <p ignore="" />  but that tag("p", :ignore => "") still includes it #1465 [michael@schuerig.de]
Added a config example in README #1626 [courtenay]
better error message for missing associations #1631 [courtenay]
Added support for SQL Server in the database rake tasks #1652 [ken.barker@gmail.com]
Added even more goodies to script.aculo.us #1677 [Thomas Fuchs]
Made target migrations actually work
Added a VERSION parameter to the migrate task that allows you to do "rake migrate VERSION=34" to migrate to the 34th version traveling up or down depending on the current version. Added ActiveRecord::Migrator.migrate that can figure out whether to go up or down based on the target version and the current
Improved error message for DoubleRenderError
 r2960@asus:  jeremy | 2005-07-09 02:12:35 -0700  Ticket 1674 - Ruby version check  r2961@asus:  jeremy | 2005-07-09 02:50:54 -0700  Require RAILS_VERSION >= 1.8.2 and RAILS_RELEASE_DATE >= 2004-12-25.  r2962@asus:  jeremy | 2005-07-09 02:54:49 -0700  minimum_release -> min_release typo  r2963@asus:  jeremy | 2005-07-09 02:56:14 -0700  updated changelog
 r2951@asus:  jeremy | 2005-07-08 18:09:30 -0700  Courtenay documentation and error message patches.  r2952@asus:  jeremy | 2005-07-08 18:43:10 -0700  Document environment config files.  r2955@asus:  jeremy | 2005-07-08 19:00:26 -0700  Updated changelog
Added better error message for "packets out of order" #1630 [courtenay]
 r2948@asus:  jeremy | 2005-07-08 16:00:23 -0700  Use save instead of save! in ARStore test also.
 r2933@asus:  jeremy | 2005-07-08 14:22:58 -0700  Don't call GC.start in Mysql::Result#free.  Performance killer.  This should go upstream..
 r2932@asus:  jeremy | 2005-07-08 14:21:36 -0700  Silence find_by_session_id also.
Routes now raise an exception if a path component is misconfigured.
Include Javascript tests in rake #1655 [courtney]
Allow RouteSet#recognition_failed to be used to handle unknown URL forwarding
Enable routes to recognize uppercase controller names. Closes #1635
Improved testing of functional test setup.
Added more efficient implementation of the development mode reset of classes #1638 [Chris McGrath]
Added :handle as an option to sortable_element to restrict the drag handle to a given class #1642 [thejohnny]
Added a bunch of script.aculo.us features: Effect.ScrollTo, to smoothly scroll the page to an element, better Firefox flickering handling on SlideUp/SlideDown, Removed a possible memory leak in IE with draggables, Added support for cancelling dragging my hitting ESC #1644 [Thomas Fuchs]
Add test for dynamic dispatch based on action_name accessor.
Post release minor fixes
Remove fix against memory leaks in development mode as it killed development performance on large applications (2-3s stall on Basecamp). Octopod is working on a better fix.
ensure the second manual WS request of scaffolding contains the same state as the original request as much as possible (so that things relying on hostnames &c will keep on working)
fix bug in unit test causing spurious failures, and make sure the unit test requires the Rails libraries from *Source Control* first, or we'll get false positives. add ActiveRecord require to abstract_unit.rb.
Pegged the versions for release
Keep JS files locally
Made documentation ready for release (AR)
Correctly normalize newlines in outgoing emails before encoding the body [John Long]
Made documentation ready for release (AP)
Retract the session fix until 0.13.1 to preserve the truthfulness of the book
Make new AJAX helpers aware of more of their options #1622 [Thomas Fuchs]
Partly tuned docs for release (AP)
Tuned documentation for release (AWS)
Tuned documentation for release (AM)
Pulled the gateway.cgi until we can make it work properly out the gates
Added a USAGE document to the migration generator
Added fixed gateway script [Nicholas Seckar]
Added warning about setting the test database to the same as production or development #1619 [court3nay]
benchmark helper takes an optional log level, defaults to :info.  Chose symbols log levels rather than Logger::FOO constants for simplicity.  Added benchmark helper test suite.
 r2879@asus:  jeremy | 2005-07-05 16:15:16 -0700  Rollback changesets for Ticket #1229.  r2880@asus:  jeremy | 2005-07-05 16:17:08 -0700  Ticket #1229 does not affect Ticket #1614.  Reinstating the changesets.  r2881@asus:  jeremy | 2005-07-05 16:24:04 -0700  @test_unchanged in deprecated render test :partials_list action
 r2874@asus:  jeremy | 2005-07-05 16:13:39 -0700  Unit test for Ticket #1614.
Move URI to the end for greater overview
Changed logging of SQL statements to use the DEBUG level instead of INFO. Added logging of the request URI in the benchmark statement (makes it easy to grep for slow actions). Changed the default logging level in config/environment.rb to INFO for production (so SQL statements won't be logged)
Routing fix
 r2866@asus:  jeremy | 2005-07-05 13:23:10 -0700  Silence ARStore session activity in the logs.
 r2850@asus:  jeremy | 2005-07-05 13:08:32 -0700  Don't be strict about the order in which AR store methods are called.  Allow e.g. session close followed by session close.
Added javascript_include_tag :defaults shortcut that'll include all the default javascripts included with Action Pack (prototype, effects, controls, dragdrop)
Backed out of #1694
Backed out of #1694 as it broke requests that hit the cache with wrong argument type nil (expected Module) on WEBrick
Made default changes work in both postgresql and mysql #1612 [Tobias Luetke]
Backed out of create/destroy_db -- didnt yet work right in mysql and breaks AWD
Added create_db and destroy_db tasks in the Rakefile to make it easier to load the dumped structure into the database #1587 [Sam Stephenson]
More inflector fixes #1608
Added callbacks on push_with_attributes #1594 [Florian Weber]
Sugared up migrations with even more bling #1609 [Tobias Luekte]
Simplify aaa_create_tables_test
Include all tables in mysql, sqlite, and postgresql drop sql.
 r2840@asus:  jeremy | 2005-07-05 00:42:27 -0700  Ticket 1233 - Cache recognized routes  r2842@asus:  jeremy | 2005-07-05 00:53:16 -0700  update changelog  r2843@asus:  jeremy | 2005-07-05 00:54:11 -0700  cache recognized routes.  clear cache with clear_recognized_routes_cache\!
 r2837@asus:  jeremy | 2005-07-05 00:34:31 -0700  Don't restrict sessid compat. check to a single run.  Reset cached column info before checking in case it's stale (may happen if you change table_name).  Make the test a private class method.
 r2836@asus:  jeremy | 2005-07-05 00:33:12 -0700  Test sessid backward compatibility.  DRY up the test classes.
 r2830@asus:  jeremy | 2005-07-04 23:35:07 -0700  update changelog
 r2829@asus:  jeremy | 2005-07-04 23:31:55 -0700  cache protected_instance_variables
 r2828@asus:  jeremy | 2005-07-04 22:02:44 -0700  cache controller_name and controller_path
 r2827@asus:  jeremy | 2005-07-04 21:30:06 -0700  precompute action_name
 r2822@asus:  jeremy | 2005-07-04 21:14:30 -0700  silence warnings re. class redefinitions
 r2821@asus:  jeremy | 2005-07-04 21:14:16 -0700  reuse path_to_ar
 r2820@asus:  jeremy | 2005-07-04 21:13:57 -0700  Bring in-mem SQLite goodness to active_record_assertions_test
 r2817@asus:  jeremy | 2005-07-04 20:49:12 -0700  active_record_store_test falls back to SQLite2 if 3 is unavailable  r2818@asus:  jeremy | 2005-07-04 20:52:25 -0700  update changelog
 r2815@asus:  jeremy | 2005-07-04 19:49:35 -0700  Correct SqlBypass test
 r2810@asus:  jeremy | 2005-07-04 19:29:54 -0700  correct marshaling and fingerprinting logic
 r2809@asus:  jeremy | 2005-07-04 19:29:19 -0700  give CGI::Session options as strings, not symbols
 r2808@asus:  jeremy | 2005-07-04 19:08:48 -0700  test at dbman and at CGI::Session level.  need to merge the test classes since they're the same tests for different backends..
 r2807@asus:  jeremy | 2005-07-04 18:15:18 -0700  Fingerprint the marshaled data.
Made gateway.cgi work with a ruby called anything
Added an EXPERIMENTAL gateway.cgi for getting high-speed performance through vanilla CGI using a long-running, DRb-backed server in the background (using script/listener and script/tracker) #1603 [Nicholas Seckar]
Added an EXPERIMENTAL gateway.cgi for getting high-speed performance through vanilla CGI using a long-running, DRb-backed server in the background (using script/listener and script/tracker) #1603 [Nicholas Seckar]
Documented the migration support in railties
Added new Migrations framework for describing schema transformations in a way that can be easily applied across multiple databases #1604 [Tobias Luetke]
 r2790@asus:  jeremy | 2005-07-04 16:30:58 -0700  smart active record session class.  session class is pluggable; a basic SqlBypass class is provided.  set CGI::Session::ActiveRecordStore.session_class = SqlBypass and set SqlBypass.connection = SomeARConnection.  Further tests pending.
 r2789@asus:  jeremy | 2005-07-04 16:17:35 -0700  require active_record_store only if ActiveRecord is already defined. define DEFAULT_SESSION_OPTIONS only if it is undefined.
 r2788@asus:  jeremy | 2005-07-04 16:16:20 -0700  Don't unnecessarily pollute $:.  Use SQLite3 instead of SQLite by default.
Make postgres8 ar tests work #1601 [Tobias Luetke]
Added unit test to confirm that #1393 is fixed in HEAD
Avoid adding nil values to mail headers #1392
Hashes sent via multipart post should be converted to strings #1032 [me@julik.nl]
More inflector fixes #1599 [foamdino@gmail.com]
Updated html-scanner so that assert_tag(:tag => "p", :content => "foo") behaves as expected
Improved the whiny nil #1600 [Nicholas Seckar]
Added documentation about Manipulating the request collections
Made it even easier to turn on transactional fixtures
Made it even easier to turn on transactional fixtures
Added migrate task to default rakefile (this is still a sqlite/mysql feature only, please do pitch in)
Tests for association callbacks
Added callback hooks to association collections #1549 [Florian Weber]
Update Prototype; hopefully the last change before 0.13
Improved update_element_function #1597 [Thomas Fuchs]
Added :prompt option to FormOptions#select (and the users of it, like FormOptions#select_country etc) to create "Please select" style descriptors #1181 [Michael Schuerig]
Added JavascriptHelper#update_element_function, which returns a Javascript function (or expression) that'll update a DOM element according to the options passed #933 [mortonda@dgrmm.net]
Mark ticket # in changelog.  Snip some trailing whitespace.
 r1645@asus:  jeremy | 2005-07-03 08:51:59 -0700  mark merge point
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@1639 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@1638 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@1637 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
 r1618@asus:  jeremy | 2005-07-03 08:24:19 -0700  base attribute_present? on blank?, accounting for zero
 r1617@asus:  jeremy | 2005-07-03 08:23:31 -0700  settle on the 'slow' MysqlAdapter#select since it means fewer comparisons later.  strip trailing whitespace.
 r1616@asus:  jeremy | 2005-07-03 08:07:13 -0700  remove duplicate conditional
 r1615@asus:  jeremy | 2005-07-03 08:06:00 -0700  oops, back out DELETE typo
 r1614@asus:  jeremy | 2005-07-03 08:01:08 -0700  minor perf tweaks + excise trailing whitespace
 r1613@asus:  jeremy | 2005-07-03 07:04:53 -0700  optimize method_missing for common case (read_attribute).  minor perf tweaks
 r1612@asus:  jeremy | 2005-07-03 04:35:59 -0700  don't include Benchmark into AbstractAdapter directly.  call Benchmark.realtime instead of bm = Benchmark.measure, bm.real
 r1611@asus:  jeremy | 2005-07-03 04:21:52 -0700  No longer pass superfluous connection to AbstractAdapter#log.
 r1610@asus:  jeremy | 2005-07-03 00:19:06 -0700  remove Column#primary for now
 r1609@asus:  jeremy | 2005-07-03 00:18:43 -0700  more minor perf tweaks
 r1608@asus:  jeremy | 2005-07-03 00:13:57 -0700  quoter required for column quoting
 r1607@asus:  jeremy | 2005-07-02 23:36:52 -0700  Rollback MysqlAdapter#select speedup; fix add_limit_offset
 r1605@asus:  jeremy | 2005-07-02 14:50:23 -0700  And take it out again.. passing around the quoter doesn't make sense any more because we're calling quote_column_name, not the generic quote method.
 r1604@asus:  jeremy | 2005-07-02 14:40:20 -0700  Bring the column_quoter arg back to locking.rb.
 r1603@asus:  jeremy | 2005-07-02 14:38:52 -0700  Faster MysqlAdapter#select.
 r1602@asus:  jeremy | 2005-07-02 14:34:00 -0700  Don't pass connection to quoted_comma_pair_list
 r1601@asus:  jeremy | 2005-07-02 14:33:08 -0700  Only notify observers of after_find and after_initialize if these methods are defined on the model.
Added note about render_partial_collection #1557
AJAX error handling fix, Prototype event handling #1589 [Thomas Fuchs]
More inflectoring #1490
Added :field_name option to DateHelper#select_(year|month|day) to deviate from the year/month/day defaults #1266 [Marcel Molina]
Update for JavaScript helper tests #1584 [Thomas Fuchs]
Auto completer should hide update element by when initializing #1579 [Thomas Fuchs]
Added more tests on assert_redirected_to #1581 [Rick Olson]
Added ActionController::Base.enable_upload_progress for people who want to play with the experimental upload progress
Added JavascriptHelper#draggable_element and JavascriptHelper#drop_receiving_element to facilitate easy dragging and dropping through the script.aculo.us libraries #1578 [Thomas Fuchs]
Added a DOCTYPE of HTML transitional to the HTML files generated by Rails #1124 [Michael Koziarski]
Clarified intentions of validates_associated #870
Added that UrlHelper#mail_to will now also encode the default link title #749 [f.svehla@gmail.com]
Removed the default option of wrap=virtual on FormHelper#text_area to ensure XHTML compatibility #1300 [thomas@columbus.rr.com]
Rake task to update spin off libraries #1514 [Tobias Luetke]
Adds the ability to include XML CDATA tags using Builder #1563 [Josh Knowles]
Added evaluation of <SCRIPT> blocks in content returned to Ajax calls #1577 [Thomas Fuchs/court3nay]
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@1593 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
 r1588@asus:  jeremy | 2005-07-02 03:14:45 -0700  Optional periodic garbage collection for dispatch.fcgi.  Graceful exit on TERM also (a la Apache1).  Ignore signals the platform does not support, such as USR1 on Windows.
Better multipart support with implicit multipart/alternative and sorting of subparts [John Long]
Added roots, root, and siblings to the batch of methods added by acts_as_tree #1541 [michael@schuerig.de]
Make render(:inline) use locals #1556 [Michael Shuerig]
Added support for ODBC connections to MS SQL Server so you can connect from a non-Windows machine #1569 [Mark Imbriaco/DeLynn Berry] Added support for limit/offset with the MS SQL Server driver so that pagination will now work #1569 [DeLynn Berry]
Added new rules to the Inflector to deal with more unusual plurals mouse/louse => mice/lice, information => information, ox => oxen #1571 [foamdino@gmail.com]
Allow for nested parts in multipart mails #1570 [Flurin Egger]
Load models and frequency typo on upoad progress #1555 [Sean Treadway]
Normalize line endings in outgoing mail bodies to "\n" #1536 [John Long]
Allow template to be explicitly specified #1448 [tuxie@dekadance.se]
Uncommented request.recycle! as it breaks more than it fixes, left test case in, xal?
Dont include the upload progress automatically before it works better
File upload progress seems to have problems on a variety of servers, marking as experimental for now and not including it in the docs
Wrong variable name used in observe_field #1551
Give auto_complete_for parameters, fix browser-autocompletion #1550
Use SIGHUP to dynamically reload an fcgi process without restarting it. Refactored dispatch.fcgi so that the RailsFCGIHandler is in the lib dir.
A bit more routes refactoring and test
Got back to functional testing harmony
Rolled back changed to test_process as it broke havok this morning
Script.aculo.us: autocompletion focus fix, setContentZoom fix #1546 [Thomas Fuchs]
Sync Prototype; closes #1539
Routes fail with leading slash #1540 [Nicholas Seckar]
Badly applied patch fix
Added support for upload progress indicators in Apache and lighttpd 1.4.x (won't work in WEBrick or lighttpd 1.3.x) #1475 [Sean Treadway]
Added support for upload progress indicators in Apache and lighttpd 1.4.x (won't work in WEBrick or lighttpd 1.3.x) #1475 [Sean Treadway]
This patch modifies RouteSet#write_generation and RouteSet#write_recognition so that they return the source code used to recognize or generate URLs. #1531 [Nicholas Seckar]
Added support for graceful error handling of Ajax calls #1217 [Jamis Buck/Thomas Fuchs]
Make Object.prototype.extend work correctly
Work around existing Element and Event objects in Prototype
Don't ignore :controller for urls made inside a controller module #1526 [Nicholas Seckar]
Make named routes work without hashes #1523 [Nicholas Seckar]
Had some logic backwards in the new dispatch.fcgi handler
RailsFCGIHandler (dispatch.fcgi) no longer tries to explicitly flush $stdout (CgiProcess#out always calls flush)
Attempt to explicitly flush the output at the end of CgiProcess#out
Update script.aculo.us scripts for Prototype 1.3.0 #1522 [Thomas Fuchs]
Added event-based observations when frequency is not set on observe_field/form #1474 [flash@vanklinkenbergsoftware.nl]
Dont use evals in backtraces #1513
Update to Prototype 1.3.0; closes #1441, #1348
Update script.aculo.us scripts to fix some bugs #1515
Renamed remote_sortable to sortable_element
Added auto_complete_for to controller and text_field_with_auto_complete to view to make it really, really easy to do Google Suggest style interfaces
Include the new Javascripts in new apps
Added script.aculo.us Javascripts (controls.js, dragdrop.js, effects.js) (NEEDS MORE DESCRIPTION) #1509 [Thomas Fuchs]
Removing javascripts to make it an svn:externals instead
Updated all references to the old find_first and find_all to use the new style #1511 [Marcel Molina]
Added testing of named routes #1506 [Nicholas Seckar]
Added help text for WEBrick #1508 [courtney]
RoutingError should show 404.html when in public #1503 [Ulysses]
add RDoc for base signature types
clean up cases where we override #inherited
Added tests for whiny nil #1476 [court3nay/marcel]
Updated assert_generates/routing to the new Routes code #1498 [Rick Olson]
Eliminate a "string literal in condition" warning from some routes
fix WSDL generation, change the way protocols are instantiated, and add the ability to override the namespace used in WSDL instead of always forcing 'urn:ActionWebService'
Increased accuracy of 1.year by accounting for leap years.  The time extensions are not meant to be super-precise but this seems worth it since otherwise you lose a lot of days doing 40.years.ago.  Closes #1488 [tuxie@dekadance.se]
Improved performance of Routes generation by a factor of 5 #1434 [Nicholas Seckar] Added named routes (NEEDS BETTER DESCRIPTION) #1434 [Nicholas Seckar]
Improved AbstractRequest documentation.  Closes #1483.
Allow specific "multipart/xxx" content-type to be set on multipart messages #1412 [Flurin Egger]
ActionMailer::Base subclasses are reloaded with other rails components #1262
Added ActionController::Base.allow_concurrency to control whether the application is thread-safe, so multi-threaded servers like WEBrick knows whether to apply a mutex around the performance of each action. Action Pack and Active Record are by default thread-safe, but many applications may not be. Turned off by default.
Removed the mutex from the WEBrick adapter under the production environment so concurrent requests can be served
Missing parameter for trap_handler in dispatch.fcgi
Updated changelog for [1479]
Refactored dispatch.fcgi. Added unit tests for dispatch.fcgi. Added trap to recognize HUP as a graceful termination command.
Use the real charset for parts generated by a template, instead of the string "charset".
Added a migration generator
Unquoted @ chars in received email headers are parsed properly in spite of RFC 822 (#1206)
Updated documentation for partials #1171
Include Routing tests in rake run #1287
Added an exception if calling id on nil to WhinyNil #584 [kevin-temp@writesoon.com]
Removed the AR::Recursion module--it broke more code than it fixed
changelog message
Added TextHelper#word_wrap(text, line_length = 80) #1449 [tuxie@dekadance.se]
Added a fall-through action for form_remote_tag that'll be used in case Javascript is unavailable #1459 [Scott Barron]
Added :xhr => true/false option to verify so you can ensure that a request is coming from an Ajax call or not #1464 [Thomas Fuchs]
Added tag_options as a third parameter to AssetHelper#auto_discovery_link_tag to control options like the title of the link #1430 [kevin.clark@gmail.com]
Added option to pass in parameters to CaptureHelper#capture, so you can create more advanced view helper methods #1466 [duane.johnson@gmail.com]
Make migrations work with the latest SQLite
Proper order in test #1329
Changed the default name of the input tag generated by FormTagHelper#submit_tag from "submit" to "commit" so it doesnt clash with form.submit() calls in Javascript #1271
Forgot to actually add the whiny nil
Added a 'whiny nil' that's aim to ensure that when users pass nil to methods where that isn't appropriate, instead of NoMethodError? and the name of some method used by the framework users will see a message explaining what type of object was expected. Only active in test and development environments by default #1209 [Michael Koziarski]
Document better #1057
More tests for JavascriptHelper #1460
Updated CHANGELOG
Helper support for ActionMailer
Revealed the man behind the mask!
Allow any Enumerable, not just Array, to work as bind variables #1344 [bitsweat]
Added cuba to country list #1351 [todd]
Added :extension option to NumberHelper#number_to_phone #1361 [delynnb]
Added button_to as a form-based solution to deal with harmful actions that should be hidden behind POSTs. This makes it just as easy as link_to to create a safe trigger for actions like destroy, although it's limited by being a block element, the fixed look, and a no-no inside other forms. #1371 [tom@moertel.com]
Added a third parameter to TextHelper#auto_link called href_options for specifying additional tag options on the links generated #1401 [tyler.kovacs@gmail.com]
Added -e/--environment option to script/runner #1408 [fbeausoleil@ftml.net]
Added actual database-changing behavior to collection assigment for has_many and has_and_belongs_to_many #1425 [Sebastian Kanthak]
Its Iraq, not Irak #1443 [ivan]
 r1318@iwill:  jeremy | 2005-06-15 01:08:22 -0700  Ticket 1394 - Helper isolation  r1319@iwill:  jeremy | 2005-06-15 01:10:00 -0700  Formulate a test case for helper isolation.  r1331@iwill:  jeremy | 2005-06-15 15:21:07 -0700  Update changelog  r1332@iwill:  jeremy | 2005-06-15 15:21:30 -0700  Remove superfluous, broken layout_test  r1333@iwill:  jeremy | 2005-06-15 15:24:10 -0700  Use an anonymous Module to store helpers per-class instead of tossing them all in template_class.  Create a new helper module for subclasses which includes its superclass' helper module.  Remove unnecessary ActionView::Base.controller_delegate.  Update helper tests.
render(:template) applies a layout by default. render("foo/bar") works with a layout again.
Reverted changeset #1326 coming off ticket #1230 since it caused stale caches to be shared.. nasty
Removed the require hack used in functional tests that worked around an earlier bug in rake.
Allow distance_of_time_in_words to work with any value that responds to #to_time (like dates) #969
Resync with html-scanner (fix parser bug)
Support :render option to :verify #1440 [TobiasLuetke]
Updated vendor copy of html-scanner lib, for bug fixes and optimizations
Changed test requests to come from 0.0.0.0 instead of 127.0.0.1 such that they don't trigger debugging screens on exceptions, but instead call rescue_action_in_public
 r1307@iwill:  jeremy | 2005-06-13 19:05:00 -0700  Ticket 1312 - Malformed habtm finder sql  r1308@iwill:  jeremy | 2005-06-13 19:58:48 -0700  Add a habtm with an unquoted condition to Project.  r1309@iwill:  jeremy | 2005-06-13 19:59:46 -0700  Space out habtm finder conditions.  r1310@iwill:  jeremy | 2005-06-13 20:00:16 -0700  Test habtm.find with quoted and unquoted conditions.  r1311@iwill:  jeremy | 2005-06-13 20:00:25 -0700  Update changelog
 r1300@iwill:  jeremy | 2005-06-13 18:31:29 -0700  Ticket 1436 - Faster indifferent hash  r1301@iwill:  jeremy | 2005-06-13 18:45:28 -0700  Apply, tweak, test.  r1305@iwill:  jeremy | 2005-06-13 18:50:24 -0700  Updated changelog.
Be sure to use the @finder_sql in the has_many association's #find method, even if explicit conditions have not been given.
Added ActiveRecord::Recursion to guard against recursive calls to #save
 r1294@iwill:  jeremy | 2005-06-13 02:17:42 -0700  Ticket #1281  r1295@iwill:  jeremy | 2005-06-13 02:50:50 -0700  Apply patch, tweak, and test.  r1296@iwill:  jeremy | 2005-06-13 02:51:04 -0700  Changelog entry.
Add workaround for SOAP4R changing find_mapped_soap_class return value [Shugo Maeda]
 r1278@iwill:  jeremy | 2005-06-12 05:11:48 -0700  Branch for PostgreSQL schema.  Ticket #827.  r1281@iwill:  jeremy | 2005-06-12 19:06:43 -0700  remove search_path from PostgreSQL db definition  r1282@iwill:  jeremy | 2005-06-12 19:07:50 -0700  Rakefile support for database-specific tests.  r1283@iwill:  jeremy | 2005-06-12 19:10:18 -0700  Add schema_search_path attribute to PostgreSQL adapter.  Replace table_structure with column_definitions which finds the given table_name in the schema search path.  r1284@iwill:  jeremy | 2005-06-12 19:12:10 -0700  Unit test PostgreSQL schema search path.  r1285@iwill:  jeremy | 2005-06-12 19:12:20 -0700  Changelog entry.  r1286@iwill:  jeremy | 2005-06-12 20:08:20 -0700  Don't try to quote schema names.  Include a reference to the PostgreSQL schema docs.  r1287@iwill:  jeremy | 2005-06-12 20:16:07 -0700  SchemasTest -> SchemaTest
Corrected @@configurations typo.  #1410 [david@ruppconsulting.com]
Return PostgreSQL columns in the order they are declared #1374 (perlguy@gmail.com).  Unit test column order, adapter housekeeping, simplify users of columns_hash.
 r2495@sedna:  jeremy | 2005-05-27 22:07:18 -0700  Branch to have scaffold use new render methods  r2496@sedna:  jeremy | 2005-05-28 10:50:51 -0700  axe unused process_request method  r2497@sedna:  jeremy | 2005-05-28 10:51:58 -0700  sanity assertions in process method check that @controller, @request, @response are set  r2498@sedna:  jeremy | 2005-05-28 10:53:42 -0700  clean up escaping.  use instance_variable_get instead of instance_eval.  put id in form action instead of hidden input (like the generated scaffolding)  r2499@sedna:  jeremy | 2005-05-28 10:54:46 -0700  clean up interpolation, remove tabs from stylesheet  r2500@sedna:  jeremy | 2005-05-28 10:56:40 -0700  modernize dynamic scaffolding.  use params[:id] instead of @params[id].  use consolidated render method instead of render_action, render_file, etc.  use builtin inflections rather than module methods.  r2501@sedna:  jeremy | 2005-05-28 11:00:26 -0700  modernize generated scaffolding.  use new-style assertions; use params[:id] instead of @params[id]; use consolidated render method instead of render_*  r2542@sedna:  jeremy | 2005-06-12 02:24:06 -0700  use :id => model instead of :id => model.id.  clean up the form helper method.  use flash[:notice] instead of flash['notice'].  r2543@sedna:  jeremy | 2005-06-12 02:33:22 -0700  whitespace  r2544@sedna:  jeremy | 2005-06-12 02:56:57 -0700  update changelogs  r2545@sedna:  jeremy | 2005-06-12 03:26:23 -0700  test dynamic form help when @post is not a new record  r2546@sedna:  jeremy | 2005-06-12 03:44:14 -0700  touch up TestCase#process sanity assertions
Don't expect fixtures to be returned in the order they were inserted.
Don't expect fixtures to be returned in the order they were inserted.
Preserve extendedWarranty case in PostgreSQL computers table.
Allow before/after update hooks to work on models with optimistic locking
Do not use instantiated fixtures (in general) in tests. Also, support the use of transactional fixtures by setting the AR_TX_FIXTURES environment variable to "yes".
Eager loading of dependent has_one associations won't delete the association #1212. Also, starting to refactor the tests to make them speedier, with optional support for transactional fixtures.
Arrays sent via multipart posts are converted to strings #1032 [dj@omelia.org]
Silently ignore Errno::EINVAL errors when converting between charsets. Some mail clients apprently send X-UNKNOWN to represent unknown charsets, and this caused the conversion to blow up.
Sort the migration files explicitly so that they are always ordered correctly.
Replace the in-memory object, but dont orphan the existing one
Added a second parameter to the build and create method for has_one that controls whether the existing association should be replaced (which means nullifying its foreign key as well). By default this is true, but false can be passed to prevent it.
Add a test case for malformed email headers
Don't error while processing encoded attachment names #1340 [lon@speedymac.com]
Handle parsing of recursively multipart messages
CSS needs "red" not #red
BCC headers are removed when sending via SMTP
Using transactional fixtures now causes the data to be loaded only once, for BIG speed improvements
Added fixture accessors that can be used when fixture instantiation is disabled, "model_name(:fixture_name)"
Added a "content_type" accessor to allow messages to explicitly specify a content-type other than "text/plain" (the default).
Don't apply a charset to attachments. Wrap base64-encoded lines.
Made Action View work with the new render :file/:partial style from the controller
render(:action) and render() are the only two render calls to use a layout by default. All others default to :layout => false. Also, allow :layout => true to be a synonym for :layout => nil.
fix scaffolding template paths (Pathname does weird things on Win32)
Ignore Iconv::IllegalSequence errors when converting text #1341 [lon@speedymac.com]
render(:inline) defaults to :layout => false
Make sure the benchmarking render method always returns the result of the render, regardless of whether logging is enabled or not.
render(:text), render(:partial), and render(:nothing) always default to :layout => false. This also fixes send_file, which was applying a layout if one existed for the current action.
verify with :redirect_to won't redirect if a redirect or render has already been performed #1350
render(:partial => "...") uses an empty hash for the local assigns #1365. render(:partial => true) is identical to the older render_partial()
Don't die when an attempt to delete a cache fails
A very thorough refactoring, resulting in new mail property setters and support for attachments and multipart messages.
Updated unit test style
Test for no layout on nothing
render :nothing shouldnt cause layouts
Set redirected_to proper
Cure some ills discovered with the refactoring
Deprecated all render_* methods in favor of consolidating all rendering behavior in Base#render(options). This enables more natural use of combining options, such as layouts
Deprecated redirect_to_path and redirect_to_url in favor of letting redirect_to do the right thing when passed either a path or url. Introduced r as a unified method for render (still under construction)
Added note of limitation for #1279
Added Errors#add_on_blank which works like Errors#add_on_empty, but uses Object#blank? instead. CHANGED: validates_presence_of now uses Errors#add_on_blank, which will make "  " fail the validation where it didnt before #1309. Added that "   " is now also blank? (using strip if available)
Slight change to allow custom date/time conversions #1326 [Rick Olson]
Remove unneeded file
Missing file
Added graceful exit from pressing CTRL-C during the run of the rails command #1150 [Caleb Tennis]
Added the :if option to all validations that can either use a block or a method pointer to determine whether the validation should be run or not. #1324 [Duane Johnson/jhosteny]
Made the console and profiler work with the default 1.8.2 profiler #1325 [bitsweat]
Made the post_format work with content-type
Made the post_format work with content-type
Needed for test
Include flash in the list of attributes with accessors in the view
memo to self: add :rest dispatching mode, and vanilla XML message support a.l.a Backpack API...its so Web 2.0 :)
Speed up timestamping a tad #1227 [skaen]
Optimize ActionCacheFilter by using url_for less #1230 [skaen]
Cache relative_url_root and optimize path #1232 [skaen]
Faster action_exempted? #1231 [skaen]
Added Serbia and Montenegro to the country_select #1239 [todd@robotcoop.com]
Added support for descending year values in DateHelper#select_year, like select_year(Date.today, :start_year => 2005, :end_year => 1900), which would count down from 2005 to 1900 instead of the other way #1274 [nwoods@mail.com]
Ajax docing #1282 [Dee.Zsombor@gmail.com]
Push to .org instead
Added accessors to logger, params, response, session, and headers from the view, so you can write <% logger.info "stuff" %> instead of <% @logger.info "others" %> -- more consistent with the preferred way of accessing these attributes and collections from the controller
Update docs to X-POST_DATA_MARSHAL
Use X-POST_DATA_FORMAT instead of just POST_DATA_FORMAT
Added support for POST data in form of YAML or XML, which is controller through the POST_DATA_MARSHAL header
Added support for POST data in form of YAML or XML, which is controller through the POST_DATA_MARSHAL header
Step cautiously around subheaders in TMail #1285 [Jamis Buck]
Go straight to the class for asset_host
Added TextHelper#sanitize that can will remove any Javascript handlers, blocks, and forms from an input of HTML.  This allows for use of HTML on public sites, but still be free of XSS issues. #1277 [Jamis Buck]
add test to ensure the bug fixed by [1295] can't occur again.
fix that functional testing for :layered SOAP would complain that it was not XML-RPC.
support using invocation filters in :direct controllers as well, for consistency. action pack filters don't necessarily include enough information about the request since they occur before AWS actually sees the request and unpacks it.
add base64 signature type (thanks, Shugo Maeda!)
Only gsub on a string
Added functionality to assert_tag, so you can now do tests on the siblings of a node, to assert that some element comes before or after the element in question, or just to assert that some element exists as a sibling #1226 [Jamis Buck]
Changed RAILS_ASSET_HOST to become ActionController::Base.asset_host
Added better error handling for regexp caching expiration
remove usages of @request, @response, @params, and replace with #request, #response, #params, except for test_invoke (values come from the test case) and one scaffold RHTML template.
fix boolean field rendering in scaffolding
fix :delegated invocation in the scaffolding
Made dispatch.fcgi more robust by catching fluke errors and retrying unless its a permanent condition. [Jamis Buck] Allow graceful exits for dispatch.fcgi processes by sending a SIGUSR1. If the process is currently handling a request, the request will be allowed to complete and then will terminate itself. If a request is not being handled, the process is terminated immediately (via #exit). This basically works like restart graceful on Apache. [Jamis Buck]
Treat all request types as upper-case so the switch will work
Made it default to assuming a GET request and reading from command-line only in case of the new CMD method
Added that both AssetHelper#stylesheet_link_tag and AssetHelper#javascript_include_tag now accept an option hash as the last parameter, so you can do stuff like: stylesheet_link_tag "style", :media => "all"
Added FormTagHelper#image_submit_tag for making submit buttons that uses images
Added the option of specifying a RAILS_ASSET_HOST that will then be used by all the asset helpers. This enables you to easily offload static content like javascripts and images to a separate server tuned just for that.
Dont activate the query cache just yet
Improved the silence method on the logger to ensure restoring the old level #1240 [bitsweat
Missing test data
Added automatic decoding of base64 bodies #1214 [Jamis Buck]
Changed that destroying an object will only freeze the attributes hash, which keeps the object from having attributes changed (as that wouldn't make sense), but allows for the querying of associations after it has been destroyed.
Changed the callbacks such that observers are notified before the in-object callbacks are triggered. Without this change, it wasn't possible to act on the whole object in something like a before_destroy observer without having the objects own callbacks (like deleting associations) called first.
Added that delivery errors are caught in a way so the mail is still returned whether the delivery was successful or not
Added silencing to the default Logger class
Dont expire or read fragments if caching is turned off
Dont benchmark if the logger has been turned off
Started work on a per-request query cache
Started work on a per-request query cache
Added option for passing an array to the find_all version of the dynamic finders and have it evaluated as an IN fragment
add support for structured types as input parameters to scaffolding, fixes scaffolding for APIs like metaWeblog that require an input struct (by dropping structs in nested <ul> lists).
Added compatibility with camelCase column names for dynamic finders #533 [Dee.Zsombor]
Added console --profile for profiling an IRB session #1154 [bitsweat]. Changed console_sandbox into console --sandbox #1154 [bitsweat]
Doc fix #1200
A few more tests #1199
Added encoding and min_messages options for PostgreSQL #1205 [shugo]
Added commented out tests for staying either singular or plural on inflection
Check definition on constant not string
Improved the speed of regular expression expirations for caching by a factor of 10 #1221 [Jamis Buck]
Removed dumping of template assigns on the rescue page as it would very easily include a ton of data making page loads take seconds (and the information was rarely helpful) #1222
default to using UTF-8 as response encoding for SOAP if none is supplied, but if an encoding is supplied by caller, use that for the response instead (NAKAMURA Hiroshi)
add charset=utf-8 to SOAP response content type, and make base_uri respect relative_url_root for the endpoint of SOAP messages (Shugo Maeda). if WSDL was retrieved over HTTPS, use HTTPS in the endpoint URLs as well.
add entry for nil casting change
Disregard expire methods when the controller hasnt been set, which essentially makes it such that the record observer callbacks are ignored when the sweeper shouldnt be active
Added descriptions for new caching features
Added BenchmarkHelper that can measure the execution time of a block in a template and reports the result to the log
Added conditions to around_filters just like before_filter and after_filter
Added validates_exclusion_of as a negative of validates_inclusion_of
Optimize counting of has_many associations by setting the association to empty if the count is 0
Prepared for 0.12.1
Dont reload on empty associations
Added xml_http_request/xhr method for simulating XMLHttpRequest in functional tests #1151 [Sam Stephenson]
Update to Prototype 1.2.1
More documentation #1148 [Alisdair McDiarmid]
Added documentation about :limit not working with eager loading
Upload documentation to the new server
Added Base.save! that attempts to save the record just like Base.save but will raise a InvalidRecord exception instead of returning false if the record is not valid [After much pestering from Dave Thomas]
Updated to take compilation out of the measurements
More documentation for .htaccess #1137
Speeded up eager loading a whole bunch
Added support for web servers that use PATH_INFO instead of REQUEST_URI like IIS #1014 [BradG/Nicholas Seckar]
Updated documentation here and there
Added documentation for new Base.find API and eager association loading
Added graceful handling of PUT, DELETE, and OPTIONS requests for a complete coverage of REST functionality #1136 [joshknowles@gmail.com]
Do document this...
Move nodoc to the individual methods
Added that deliver_* will now return the email that was sent
Refactored a bit
Changed habtm eager loading to also use joins
Update to Prototype 1.2.0
add backwards compatibility for the public API change made to #api_methods, as it is being used in some apps.
Made the dynamic finders use the new find API and updated the examples here and there
Added assert_tag and assert_no_tag as a much improved alternative to the deprecated assert_template_xpath_match #1126 [Jamis Buck]
Added Request#xml_http_request? (and an alias xhr?) to that'll return true when the request came from one of the Javascript helper methods (Ajax). This can be used to give one behavior for modern browsers supporting Ajax, another to old browsers #1127 [Sam Stephenson]
SqlServer fixtures - CategoriesPosts
Hide the deprecated methods from the docs
Deprecated the majority of all the testing assertions and replaced them with a much smaller core and access to all the collections the old assertions relied on. That way the regular test/unit assertions can be used against these. Added documentation about how to use it all.
Added the option to specify the acceptance string in validates_acceptance_of #1106 [caleb@aei-tech.com]
Added acts_as_nested_set #1000 [wschenk]
Added acts_as_nested_set #1000 [wschenk]
Added that render_partial called from a controller will use the action name as default #828 [Dan Peterson]
Added Element.toggle, Element.show, and Element.hide to the prototype javascript library. Toggle.display has been deprecated, but will still work #992 [Lucas Carlson]
Added that deleting a cookie should not just set it to an empty string but also instantly expire it #1118 [todd@robotcoop.com]
Added insert_at(position) to acts_as_list #1083 [DeLynnB]
Cleaned up validates_length_of by calling existing validations on the common stuff #1108 [caleb@aei-tech.com]
Dont prefix on updates and deletes, only selects
Added AssetTagHelper#image_path, AssetTagHelper#javascript_path, and AssetTagHelper#stylesheet_path #1110 [Larry Halff]
Clean up load paths to avoid unit test interaction #1113 [alles@atomicobject.com]
Send a stripped down message in the text following 500, and leave the detailed response for the body, or we may generate invalid HTTP responses that causes 404's.
Remove a cause of casting failure for XML-RPC by ignoring structure members not defined in the target type, and perform more sanity checks to make more obvious what the resolution should be when neglecting to provide a valid signature or failing to attach an API to a service implementation class.
Changed render_partial to take local assigns as the second parameter instead of an explicit object and then the assigns
Made migrations create InnoDB tables per default
Honor the order in the new finder
Added script/benchmarker to easily benchmark one or more statement a number of times from within the environment. Added script/profiler to easily profile a single statement from within the environment
Dont initialize the association proxy for nil records
Order by is no longer a guarentee
Qualify the ids used such that eager loading can avoid ambigious keys
Removed the default order by id on has_and_belongs_to_many queries as it could kill performance on large sets (you can still specify by hand with :order)
Improved address header processing
Added submit_to_remote that allows you to trigger an Ajax form submition at the click of the submission button, which allows for multiple targets in a single form through the use of multiple submit buttons #930 [yrashk@gmail.com]
Added Rake target clear_logs that'll truncate all the *.log files in log/ to zero #1079 [Lucas Carlson]
Added :confirm option to link_to_remote just like link_to has #1082 [yrashk@fp.org.ua]
Added minute_step as an option to select_minute (and the helpers that use it) to jump in larger increments than just 1 minute. At 15, it would return 0, 15, 30, 45 options #1085 [ordwaye@evergreen.edu]
Added KLOC counter for AR and AP. Combined theyre at ~9KLOC
Improved tests for NumberHelper
Address parsing failed when the "to" (or "cc", or whatever) was an array. It was also too restrictive in the formats of the addresses #1097 [Jamis]
Made error_messages_for take a symbol as object_name
Moved TextHelper#human_size to NumberHelper#number_to_human_size, but kept an deprecated alias to the old method name
Moved build_association and create_association for has_one and belongs_to out of deprecation as they work when the association is nil unlike association.build and association.create, which require the association to be already in place #864
No conditions relevant here
Dont quote the body
Doc changes
Doc fix
Tests for AS
Added lazy typing for generate, such that ./script/generate cn == ./script/generate controller and the likes #1051 [k@v2studio.com]
Added rollbacks of transactions if they're active as the dispatcher is killed gracefully (TERM signal) #1054 [Leon Bredt]
Added support for has_and_belongs_to_many associations in eager loading #1064 [Dan Peterson]
Made eager loading work with inheritance hierarchies #1065 [Ryan Carver]
Updated docs #1068
Updated docs #1070
add missing public API change
Update to the helper to abstract delimeting a number #1015
Added quoting of column names for fixtures #997 [jcfischer@gmail.com]
Added JavascriptHelper#periodically_call_remote in order to create areas of a page that update automatically at a set interval #945 [Jon Tirsen]
generate --quiet documentation #715
Added simulation of @request.request_uri in functional tests #1038 [Jamis Buck]
Moved to new server
support SOAP invocation of layered services in scaffolding too, fix bug when method takes no parameters
initial go at making :layered dispatching generate WSDL for SOAP, and have :layered process SOAP method calls correctly as well, may be unstable
Use :foreign_key option if specified on the association
make XMLRPC::FaultException have a #message, otherwise the thrown exception is useless in functional test backtraces
add API::Method#expects_to_hash convenience as well
add API::Method#expects_index_of helper to get the index of a named parameter
be explicit about the object to do #instance_eval in for delegated dispatching, clean up iterations to use #zip (bitsweat),
Made it possible to do text_field :account, :name in addition to text_field "account", "name"
Dont include multiple versions of the same association object
Prefix primary key with table name so it works as part of a joined fetch
don't use SyncEnumerator, its far too slow to be used in something frequently called
More eager fixes
Made eager loading work even more
Allow order, conditions, and joins in finds that include associations
Only include associations when the relevant rows have content
Added tests
Added new Base.find API and deprecated find_all, find_first. Added preliminary support for eager loading of associations
use #rescue_action in WS scaffolding so that exceptions in API methods give a standard Rails error page on failure
remove finished tasks
allow selecting the protocol to use when invoking the scaffolded method. fix bug in walking delegated container services.
filter out embedded nil values for XML-RPC
* collapse 'ws' back into protocols, it just added complexity and indirection, and was hard to extend. * extract casting into seperate support file * ensure casting always does the right thing for return values, should fix interoperability issues with Ecto and possibly other XML-RPC clients * add functional unit tests for scaffolding * represent signature items with classes instead of symbols/Class objects, much more flexible * tweak logging to always show casted versions of parameters and return values, if possible.
Added NumberHelper for common string representations like phone number, currency, and percentage #1015 [DeLynn]
Removed broken attempt to DRY module ClassMethod #970
Automatically extend the class which gets a module included with the ClassMethods module if it exists #970 [Lucas Carlson]
Added pagination for scaffolding (10 items per page) #964 [mortonda@dgrmm.net]
Added assert_no_cookie and fixed assert_cookie_equal to deal with non-existing cookies #979 [bitsweat]
Added that model.items.delete(child) will delete the child, not just set the foreign key to nil, if the child is dependent on the model #978 [bitsweat]
decrease reliance on instantiated fixtures #980 [Jeremy Kemper]
Added :method option to verify for ensuring that either GET, POST, etc is allowed #984 [Jamis Buck]
Added a join parameter as the third argument to Base.find_first and as the second to Base.count #426, #988 [skaes@web.de]
Added options to set cc, bcc, subject, and body for UrlHelper#mail_to #966 [DeLynn]
Made sure all MySQL tables are created as InnoDB
Added install.rbs for all frameworks and made all of them generic enough not to require maintenance #1013, #1012
Improved the message display on the exception handler pages #963 [Johan Sorensen]
Added a join parameter as the third argument to Base.find_first #426 [skaes@web.de]
Added Effect.Puff and Effect.Appear #990, #996
display the amount of time taken to invoke a scaffolding request
remove ActiveRecordSoapMarshallable, can't reproduce the problem it was intended to fix.
Renamed DateHelper#distance_of_time_in_words_to_now to DateHelper#time_ago_in_words (old method name is still available as a deprecated alias)
first pass of web service scaffolding. add ability to quickly generate an action pack request for a protocol, add missing log_error when we fail to parse protocol messages. add RDoc for scaffolding and functional testing.
Dont load the target before the proxy has had a chance to answer the respond_to? -- this would cause an .empty? query to trigger loading the entire collection if the proxy had already been initialized
remove wrongheaded uses of "rescue nil" if it will mask a useful exception. also include the whole backtrace in the 500 error response body if exception reporting is turned on (the default).
Added Effect.Scale for smoothly scaling images or text up and down #972 [thomas@fesch.at] Added Effect.Squish for scaling down an element and making it disappear at the end #972 [thomas@fesch.at]
Added Effect.Fade which smoothly turns opacity from 100 to 0 and then hides the element #960 [thomas@fesch.at]
don't hide exceptions when we fail to parse XML-RPC messages.
generalize casting code to be used by both SOAP and XML-RPC (previously only XML-RPC). switch to better model for API methods, and improve the ability to generate protocol requests/response, will be required by upcoming scaffolding.
Released 0.11.1
Made ready for the release of 0.11.1
Made ready for better release automation
Added documentation about named bind variables
Added ActionController::Base.page_cache_extension for setting the page cache file extension (the default is .html) #903 [Andreas]
Added :owerwrite_params back to url_for and friends -- it was AWL since the introduction of Routes #921 [raphinou]
Added :position option to link_to_remote/form_remote_tag that can be either :before, :top, :bottom, or :after and specifies where the return from the method should be inserted #952 [Matthew McCray/Sam Stephenson] Added Effect.Highlight to prototype.js to do Yellow Fade Technique (of 37signals' fame) on any container #952 [Sam Stephenson/?]
Effects can just be used through the callbacks
Updated to prototype.js 1.1.0
Whitespace flicker
Added include_seconds option as the third parameter to distance_of_time_in_words which will render "less than a minute" in higher resolution ("less than 10 seconds" etc) #944 [thomas@fesch.at]
Added fourth option to process in test cases to specify the content of the flash #949 [Jamis Buck]
Added Verifications that allows you to specify preconditions to actions in form of statements like <tt>verify :only => :update_post, :params => "admin_privileges", :redirect_to => { :action => "settings" }</tt>, which ensure that the update_post action is only called if admin_privileges is available as a parameter -- otherwise the user is redirected to settings. #897 [Jamis Buck]
Added other DOM manipulation positions than just replace
Added :highlight effect to do YFT automatically
Added JavascriptHelper#escape_javascript as a public method (was private) and made it escape both single and double quotes and new lines #940 [mortonda@dgrmm.net]
Added trailing_slash option to url_for, so you can generate urls ending in a slash. Note that is currently not recommended unless you need it for special reasons since it breaks caching #937 [stian@grytoyr.net]
Added documentation on models in sessions #929 [c.r.mcgrath@gmail.com]
Removed old UrlWriter methods that are no longer in use after Routes #942
Added TextHelper#human_size for formatting file sizes, like human_size(1234567) => 1.2 MB #943 [thomas@fesch.at]
Copy prototype.js to public/javascripts/ not just public
allow direct dispatching methods to declare their parameters as well, for brevity's sake, it seems to be counter-intuitive not to do so (closes #939). update gem require versions. fix unit tests for exception de-shallowing changes.
Made getElementsByClassName actually work
_at is better for Time.now than _on
Added rescue for missing iconv library and throws warnings if subject/body is called on a TMail object without it instead
Tweaked the rescue with breakpoint, still not perfect
Improved error reporting especially around never shallowing exceptions. Debugging helpers should be much easier now #980 [Nicholas Seckar]
Improved error reporting especially around never shallowing exceptions. Debugging helpers should be much easier now #980 [Nicholas Seckar]
Dont include WS docs
Releasing 0.11.0
Updated more documentation
Added documentation and fixed an ajax bug
Last-minute ajax  fixes #898
Removed SCRIPT_NAME from the WEBrick environment to prevent conflicts with PATH_INFO #896 [Nicholas Seckar] Removed ? from the dispatch.f/cgi redirect line to get rid of 'complete/path/from/request.html' => nil being in the @params now that the ENV[REQUEST_URI] is used to determine the path #895 [dblack/Nicholas Seckar]
Applied the Safari fix on both prototype.js files
fix for javascript_helper.rb build_callbacks #893
Added additional error handling to the FastCGI dispatcher to catch even errors taking down the entire process
Made the Ajax request itself also use the &_= trick for Safari
Tweaked the documentation
Wrong parameter names in observe_field/observe_form
Protect against nil strings and empty conversion bases
Made the unquoted subject and body the default
Cleanup pkg when pushing gems
Dont repeat error messages in scaffolds
Choose a simpler requiring of picking gems or not for library loading
Expanded the requires again and included the load paths
Expanded the requires again and included the load paths
Renamed Toggle.visibility to Toggle.display and fixed it for multiple arguments
Add prototype.js to new apps in javascripts/ #885
Added a JavascriptHelper and accompanying prototype.js library that opens the world of Ajax to Action Pack with a large array of options for dynamically interacting with an application without reloading the page #884 [Sam Stephenson/David]
Routes: *path items should use arrays #883
Improved the generated scaffold code a lot to take advantage of recent Rails developments #882 [Tobias Luetke]
Improved the generated scaffold code a lot to take advantage of recent Rails developments #882 [Tobias Luetke]
Added note about routing the site root
Added pagination support through both a controller and helper add-on #817 [Sam Stephenson]
Introduce to_param to assert_redirected_to #880
Routes: Convert results of #to_param to strings #879
Combined the script/environment.rb used for gems and regular files version. If vendor/rails/* has all the frameworks, then files version is used, otherwise gems #878 [Nicholas Seckar]
Added adapter independent limit clause as a two-element array with the first being the limit, the second being the offset #795 [Sam Stephenson]
Added a much improved Flash module that allows for finer-grained control on expiration and allows you to flash the current action #839 [Caio Chassot]
Added framework support for processing incoming emails with an Action Mailer class.
Added receiver method for incoming email
Added script/runner which can be used to run code inside the environment by eval'ing the first parameter
More postgresql rakefile tweaking #875
Added alias_method :to_param, :id to Base, such that Active Record objects to be used as URL parameters in Action Pack automatically #812 [Nicholas Seckar/Sam Stephenson]
Added to_param call for parameters when composing an url using url_for from something else than strings #812 [Sam Stephenson]
Added that the html options disabled, readonly, and multiple can all be treated as booleans. So specifying <tt>disabled => :true</tt> will give <tt>disabled="disabled"</tt>. #809 [mindel]
Improved the performance of the OCI8 adapter for Oracle #723 [pilx/gjenkins]
Added type conversion before saving a record, so string-based values like "10.0" arent left for the database to convert #820 [dave@cherryville.org]
Added path collection syntax for Routes that will gobble up the rest of the url and pass it on to the controller #830 [rayners]
changes the CREATE TABLE script for the "binaries" table to use the "image" datatype. The script was previously failing to create a table (on SQL Server 2000). #834 [adelle]
Added more FormTagHelper test cases #860 [Eric Hodel]
Added with additional settings for working with transactional fixtures and pre-loaded test databases #865 [mindel]
Added a bit more to the session documentation on how to clear sessions
add missing entries
make the response QName match up with that declared for the message in the WSDL, to not do so violates the spec. also fixes this error that occurred with SOAP::WSDLDriverFactory: "RuntimeError: Cannot find {}return as a children of {urn:ServiceName}messageName"
Dont choke on nil bodies
Only include attachments that arent blank
Added warning about specifying callbacks before associations to trigger inheritance
Added better quoting and attachments handling in anticipation for ActionMailer::Receiver framework
Added the possibility of specifying fixtures in multiple calls #816 [kim@tinker.com]
close database.yml after reading in configuration #841 [sebastian.kanthak]
Added Base.exists?(id) that'll return true if an object of the class with the given id exists #854 [stian@grytoyr.net]
dup the value received from @request, so we modify the copy and not the original, and avoid frozen errors.
Remove superfluous begin/end in caching.rb methods #836
Added CaptureHelper with CaptureHelper#capture and CaptureHelper#content_for. See documentation in helper #837 [Tobias Luetke]
Remove the duplicated remote_function and make the real deal public
Made async callbacks work with :update
Made async the default approach and add get_elements_by_class
Added asynchronous processing model
Removed the reliance on PATH_INFO as it was causing problems for caching and inhibited the new non-vhost support #822 [Nicholas Seckar]
Doc fix #805
Moved image_tag to AssetTagHelper
Added that all types of after_find/after_initialized callbacks are triggered if the explicit implementation is present, not only the explicit implementation itself
Deal with Safari garbage and allow html_options
Added Field.present, .focus, and .clear as JS convenience for working with forms. Removed link_to_display_toggle in favor of link_to_function "Cancel", "toggle_display("add_item_link", "add_item_form")"
Added Field.present, .focus, and .clear as JS convenience for working with forms. Removed link_to_display_toggle in favor of link_to_function "Cancel", "toggle_display("add_item_link", "add_item_form")"
Added :condition option to abort an update if some condition isnt there
Checked in some documentation for JavascriptHelper
Respect :onclick in link_to_toggle_display
Put it in the right module
Added first stab at Javascript/Ajax helpers
Added first stab at Javascript/Ajax helpers
Params for components should treat string and symbol keys indifferently
More incremental work on active schema for MySQL
More incremental work on active schema for MySQL
allow 0, 1, '0' or '1' to be cast to the appropriate values for boolean values.
change type of faultCode in marshaled SOAP faults to a QName, and its value to 'Server' in the SOAP namespace. should fix #804.
Added assigns shortcut for @response.template.assigns to controller test cases [bitsweat]
Added render_partial/render_partial_collection from controllers for easier Ajaxing
Added TagHelper#image_tag and deprecated UrlHelper#link_image_to (recommended approach is to combine image_tag and link_to instead)
Prepared for 0.10.1 release
Prepared for 0.10.1 release
More fixes for symlinked setups #793 [phantom]
Changed ActiveRecordStore to use Marshal instead of YAML as the latter proved troublesome in persisting circular dependencies. Updating existing applications MUST clear their existing session table from data to start using this updated store #739 [Jamis Buck]
Logs in GEMs is bad style
Added exception shallowing if the DRb server can't be started (not worth making a fuss about to distract new users) #779 [Tobias Luetke]
Added shortcut :id assignment to render_component and friends (before you had to go through :params) #784 [Lucas Carlson]
Added an empty favicon.ico file to the public directory of new applications (so the logs are not spammed by its absence)
Added ActiveRecord::Base.colorize_logging to control whether to use colors in logs or not (on by default)
Added support for timestamp with time zone in PostgreSQL #560 [Scott Barron]
Added Object#blank? -- see http://redhanded.hobix.com/inspect/objectBlank.html #783 [_why the lucky stiff]
Allow unit tests to run on a remote server for PostgreSQL #781 [adamm@galacticasoftware.com]
stats need the include paths set by the environment #782 [adamm]
Added MultiparameterAssignmentErrors and AttributeAssignmentError exceptions #777 [demetrius]
Added UrlHelper#link_to_if/link_to_unless to enable other conditions that just link_to_unless_current #757 [mindel]
Added web_service generator (run ./script/generate web_service for help) #776 [Leon Bredt]
Added web_service generator (run ./script/generate web_service for help) #776 [Leon Bredt]
Updated docs on auto-indexing #765 [Astinus]
Updated wording in YAML error [noradio]
Better yaml fixture error #759 [xal]
Added inflection rules for "sh" words, like "wish" and "fish" #755 [phillip@pjbsoftware.com]
Added destruction of dependent objects in has_one associations when a new assignment happens #742 [mindel]
Added validates_numericality_of #716 [skanthak/c.r.mcgrath]
Added app/apis and components to code statistics report #729 [Scott Barron]
Use example.com domains to make rails RFC2606 compliant #708
Removed the default border on link_image_to (it broke xhtml strict) -- can be specified with :border => 0 #517 [?/caleb]
Added begin/rescue around the FCGI dispatcher so no uncaught exceptions can bubble up to kill the process (logs to log/fastcgi.crash.log)
add action_web_service/test_invoke, will be used by for testing APIs in a Rails project instance.
Added the original exception message to session recall errors (so you can see which class wasnt required)
allow the client to specify options to be passed through to the underlying SOAP::RPC::Driver. add to RDoc an example of using these options to configure SSL client-certificate authenticated connections to the server.
make the marshaler use the same set of columns as the code that generates WSDL, avoids mismatches when there are associations in the AR model class.
Added String#to_time and String#to_date for wrapping ParseDate
add missing entry for #allow_active_record_expects
Added better defaults for composed_of, so statements like composed_of :time_zone, :mapping => %w( time_zone time_zone ) can be written without the mapping part (it's now assumed)
Made path work for lighttpd again as it uses an empty string where Apache returns nil
Ensure that the schema information table is available before doing any migration
Added preliminary support for an agile database migration technique (currently only for MySQL)
add allow_active_record_expects option to ActionWebService::API::Base, but set the default to false so people don't use it without thinking about the consequences.
Removed a fix that was caused by a bug in RubyGems 0.8.5
drop version back down to 0.5.0 so that we can use 0.6.0 for the real next release.
Make all custom types and method calls are declared in the 'urn:ActionWebService' namespace as a default, fixes SOAP marshaling for .NET, a regression since the merge.
Slicker way of quiting on less than Ruby 1.8.2
Added early failure if the Ruby version isn't 1.8.2 or above #735
--i/index is obsolete #743
Added MacroReflection#macro which will return a symbol describing the macro used (like :composed_of or :has_many) #718, #248 [james@slashetc.com]
Correct default for ip binding on webrick server #717
Added PATH_INFO access from the request that allows urls like the following to be interpreted by rails: http://www.example.com/dispatcher.cgi/controller/action -- that makes it possible to use rails as a CGI under lighttpd and would also allow (for example) Rublog to be ported to rails without breaking existing links to Rublog-powered blogs. #728 [Jamis Buck]
merged the changes for the upcoming 0.6.0:
Tagged the 0.10.0 release
handle elapsed times that are nil in #log_response (happens when API method throws an exception). this fixes exception marshaling so that remote callers get a proper stack trace.
Include Action Web Service and Active Support in the documentation
Marked for release
Made ready for 0.10.0 release
With const_missing loading, its no longer necessary to dynamically require the scaffold model -- meaning the end of RDoc warnings!
Updated a few more docs
Drop the _doc nonsense and use the index.html straight on
Drop the _doc nonsense and use the index.html straight on
Noted things that wasnt mentioned
Changed the auto-timestamping feature to use ActiveRecord::Base.default_timezone instead of entertaining the parallel ActiveRecord::Base.timestamps_gmt method. The latter is now deprecated and will throw a warning on use (but still work) #710 [Jamis Buck]
Made TimeZone even more delicious #709
Updated the license (still referered to the old ruby one)
Documentation stuff
Updated documentation
Updated documentation
Added year-based time calculations
Removed unused methods in url_rewriting.rb #701
Added some unit tests #706
Finished polishing API docs
Finished polishing API docs
Updated documentation even more
Added documentation for database adapters to visible RDoc
Moved over TimeZone test too
Added Base#render_component_as_string
Moved TimeZone to Active Support
Added Base#render_to_string to parse a template and get the result back as a string #479
Remove outdated dev-utils
Removed unnecessary table_name overwrite #695
Where to get the OCI8 driver
Added a OCI8-based Oracle adapter that has been verified to work with Oracle 8 and 9 #629 [Graham Jenkins]. Removed Maiks Oracle adapter until it can be merged with the OCI one.
Added TimeZone as the first of a number of value objects that Active Record will start shipping to provide incentatives to use rich value objects using composed_of #688 [Jamis Buck]
Added FormOptionsHelper#time_zone_select and FormOptionsHelper#time_zone_options_for_select to work with the new value object TimeZone in Active Record #688 [Jamis Buck]
Keep the singular style, like before_filter, etc
Documentation fix #698
Added option :schema_order to the PostgreSQL adapter to support the use of multiple schemas per database #697 [YuriSchimke]
Changed default IP binding for WEBrick from 127.0.0.1 to 0.0.0.0 so that the server is accessible both locally and remotely #696 [Marcel]
Documentation fixes #694
Show value when NOT file
Rake recent should clone db structure like test_units/functional
Added FormHelper#file_field and FormTagHelper#file_field_tag for creating file upload fields
More component fun
More component fun
Made the sharing of request and response safer
Added fine-grained assertions for Routing
Optimized the SQL used to generate has_and_belongs_to_many queries by listing the join table first #693 [yerejm]
Made Action Mailer templates use UTF-8 as default
Added Date::Conversions for getting dates in different convenient string representations and other objects
Added Time::Conversions for getting times in different convenient string representations and other objects
Added some examples for the time calculations
Make it possible to say Time.now.in(1.year)
Added last_month and next_month
Added next_week and made beginning_of_week be a Monday, not a Sunday
Treat UTC times nicer
Added Time::Calculations to ask for things like Time.now.tomorrow, Time.now.yesterday, Time.now.months_ago(4) #580 [DP|Flurin]
Redirects to root should be / not ""
Added lighttpd config example and changed apache.log to less discriminating server.log
Remove debugging statement
All the memory-based stores should use a mutex #611 [inspire22]
Set Railsy defaults for breakpoint client
Upgraded to breakpoint 92
Added options to specify an SSL connection for MySQL. Define the following attributes in the connection config (config/database.yml in Rails) to use it: sslkey, sslcert, sslca, sslcapath, sslcipher. To use SSL with no client certs, just set :sslca = /dev/null. http://dev.mysql.com/doc/mysql/en/secure-connections.html #604 [daniel@nightrunner.com]
Added automatic dropping/creating of test tables for running the unit tests on all databases #587 [adelle@bullet.net.au]
Blame controller files #684
Never end generated paths with a '/' #683
Help against errors in ApplicationController
Made caching work for WEBrick and lighttpd by appending .html for all URLs not already containing a dot
Added support for independent components residing in /components
Added new keyword to specify load paths as being component based. Added better logging for component calls
Updated dependency loading to consider non-standard class/file name combinations
Allows a loading module to load from multiple load paths #675
Allow downloading of WSDL for an AWS controller as a proper file #674
Gives Rescues some Love #680
add code coverage testing scripts, remove dead code detected by said scripts
Tests and tweaks for components
Unit tests for rendering components
Add AWS as a vendor dir
Added --sandbox option to script/console that'll roll back all changes made to the database when you quit #672 [bitsweat]
Added --sandbox option to script/console that'll roll back all changes made to the database when you quit #672 [bitsweat]
Added support for charsets for both subject and body. The default charset is now UTF-8 #673 [Jamis Buck]
Use full status for render_component from within a controller
Added preliminary version of render_component
Added Afghanistan (no more conspiracy!) to FormOptions#country_select and FormOptions#country_options_for_select
Added :order option for date_select that allows control over the order in which the date dropdowns is used and which of them should be used #619 [Tim Bates]
Added ActionView::Base.register_template_handler for easy integration of an alternative template language to ERb and Builder. See test/controller/custom_handler_test.rb for a usage example #656 [Jamis Buck]
A few ignores
One comma too much
Added AssetTagHelper that provides methods for linking a HTML page together with other assets, such as javascripts, stylesheets, and feeds.
Completed FormTagHelper by adding radio_button_tag and select_tag
Added FormTagHelper that provides a number of methods for creating form tags that doesn't rely on conventions with an object assigned to the template like FormHelper does. With the FormTagHelper, you provide the names and values yourself.
Added Iran and Irak to the countries list used by FormOptions#country_select and FormOptions#country_options_for_select
Updated tests for TextHelper#auto_link
Made auto_link the only public method of its clan and added an option to control what to be linked instead
Added Iran and Irak to the countries list used by country_select and country_options_for_select
Renamed link_to_image to link_image_to (since thats what it actually does) -- kept alias for the old method name
ensure clients can handle APIs with named parameter signatures, and test for this
refactoring:
Use per-document setting for hardbreaks on textile
Added defaults and regexp requirements to Routing #666
More Action Web Service minor tweaks
Renamed action_service to action_web_service
rename entire package to Action Web Service
Clear route defaults using :name => nil #663
Added URL escaping for routing #664
Renamed Action Service to Action Web Service
rename service* to web_service*.
Added validates_each that validates each specified attribute against a block #610 [bitsweat]. Added :allow_nil as an explicit option for validates_length_of, so unless that's set to true having the attribute as nil will also return an error if a range is specified as :within #610 [bitsweat]
Get Action Service (soon to be renamed Action Web Service) in the loop
Added TextHelper#auto_link, TextHelper#auto_link_urls, and TextHelper#auto_link_email_addresses to turn those elements into ahrefs
Integrated Action Service with the existing elements
test commit
Added Action Service to the repository
Loading the Routes should happen in the environments #655
Added 'recent' as a rake target that'll run tests for files that changed in the last 10 minutes #612 [bitsweat]
Check class path for conflicts on generation #640 [bitsweat]
Documentation on :include_blank #579
Changed script/console to default to development environment and drop --no-inspect (I caed) #650 [bitsweat]
Skip Active Record tests in Action Pack if the SQLite database cant be brought up
Only load ROUTE_FILE if one has been declared
Addded validation for validate all the associated objects before declaring failure with validates_associated #618 [Tim Bates]. Added that validates_* now accept blocks to perform validations #618 [Tim Bates]
AR, AP, and AM should look for AS in sibling directory before trying RubyGems #648
More tests for Routing related stuff
Added current_page?(options) method to check if the url_for options passed corresponds to the current page
Simplified link_to_unless_current to work with the new Routing
Better fix for requireing a missing route file in unit tests
Forget defaults :action if :controller changed at all
Make Routes drop the default for action when the controller changes #651
Enable diagnostics screen again
Made apache start out on cgi and added back the default apache options
Forget to addd this
Go away you silly externals
Tied to specific version of support
Dont generate rdoc for railties
Call Active Support 0.9 until release
Require the Active Support gem
Move Controllers wrapper module away from environment.rb and into dependencies.rb
All libraries should link against the independent active support
All libraries should link against the independent active support
Moved Active Support into its own gem
No leading return
Updated the Rails generator command to work
A hopefully more successful attempt at the Routing branch merge
Backed out of routing merge.. investigating missing patches
Added routing itself.. wonder why that didnt make it through the merge
Small indent
Stringify the parameters on follow_redirect
Added Hash#stringify_keys and Hash#stringify_keys!
Added follow_redirect method for functional tests that'll get-request the redirect that was made.
Added IndifferentAccess as a way to wrap a hash by a symbol-based store that also can be accessed by string keys
Make the store less verbose when saving the session data
Added keyword-style approach to defining the custom relational bindings #545 [Jamis Buck]
Added that the 'fixture :posts' syntax can be used for has_and_belongs_to_many fixtures where a model doesn't exist #572 [bitsweat]
Added that running test_units and test_functional now performs the clone_structure_to_test as well #566 [rasputnik]
Added an Oracle adapter that works with the Oracle bindings by Yoshida (http://raa.ruby-lang.org/project/oracle/) #564 [Maik Schmidt]
Dont call id explicitly to do reloading that way we get rid of the warnings #583 [Tim Bates]
Added new generator framework that informs about its doings on generation and enables updating and destruction of generated artifacts. See the new script/destroy and script/update for more details #487 [bitsweat]
Minor refactoring to prettify
Prepared for 0.9.5 release
Catch ArgumentError not NameError
Updated documentation for serialize
Updated documentation for serialize
Raise LoadErrors separately
Moved subclass reloading responsibilities to Dependencies
Comply to the new dependency reload system
New approach to reloading that uses remove_const on ARs and AOs as well as ACs
Added methods for removing subclasses -- couldnt make it work with the regular nested-module approach (ObjectSpace was being difficult), so this is a straight inclusion
Added the option of supplying an array of ids and attributes to Base#update, so that multiple records can be updated at once (inspired by #526/Duane Johnson). Added the option of supplying an array of attributes to Base#create, so that multiple records can be created at once. Added that Base#delete and Base#destroy both can take an array of ids to delete/destroy #336. Added that has_many association build and create methods can take arrays of record data like Base#create and Base#build to build/create multiple records at once.
Added @request.raw_post as a convenience access to @request.env['RAW_POST_DATA'] and fixed the patch problems with the session #534 [Tobias Luetke]
The create and build methods are only available for has_one/belongs_to if an association already exist. It will not work when it's nil. Updated the documentation to reflect that.
Applied the dblack patch
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@498 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
Fetch from current dir
Added Base.update_collection that can update an array of id/attribute pairs, such as the ones produced by the recent added support for automatic id-based indexing for lists of items #526 [Duane Johnson]
Added support for automatic id-based indexing for lists of items #532 [dblack]
Added :application_prefix to url_for and friends that makes it easier to setup Rails in non-vhost environments #516 [Jamis Buck]
Added :encode option to mail_to that'll allow you to masquarede the email address behind javascript or hex encoding #494 [Lucas Carlson]
Added Florian Gross' latest version of Breakpointer and friends that fixes a variaty of bugs #441 [Florian Gross]
Added ActiveRecord::Base.timestamps_gmt that can be set to true to make the automated timestamping use GMT instead of local time #520 [Scott Baron]
Added that update_all calls sanitize_sql on its updates argument, so stuff like MyRecord.update_all(['time = ?', Time.now]) works #519 [notahat]
Added bind-named arrays for interpolating a group of ids or strings in conditions #528 [bitsweat]
Added that has_and_belongs_to_many associations with additional attributes also can be created between unsaved objects and only committed to the database when Base#save is called on the associator #524 [Eric Anderson]
Minor tweak
Another swing at reloading
Another swing at reloading
Brought back reloading of models
Added mass-assignment protection for the inheritance column -- regardless of a custom column is used or not
Removed the need for passing the binding when using CacheHelper#cache
Flipped reloads around
Deactivated RAW_POST_DATA pending fix
A few missing files
Added TestResponse#binary_content that'll return as a string the data sent through send_data/send_file for testing #500 [Alexey]
Replaced === checks with is_a? checks #502, #82 [Marcel Molina]
Added @request.env['RAW_POST_DATA'] for people who need access to the data before Ruby's CGI has parsed it #505 [bitsweat]
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@459 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
Made ready for release of 0.9.4.1
Cleanup the proxy rollback #492
Added 5-second timeout to WordNet alternatives on creating reserved-word models #501 [Marcel Molina]
Added assert_cookie_equal to assert the contents of a named cookie
Made human_attribute_name(attribute_key_name) use Inflector.humanize
Added Inflector.humanize to turn attribute names like employee_salary into "Employee salary". Used by automated error reporting in AR.
Added Inflector.humanize to turn attribute names like employee_salary into "Employee salary". Used by automated error reporting in AR.
CHANGELOGs..
Made methods class level methods again
Tagged the 0.9.4 release
Made more stuff quiet
Made more stuff quiet
Made a bunch of stuff quiet in the docs
Made ready for release of 0.9.4
Made ready for release of 0.9.4
Make sure #470 shouldnt be happening
Added test_forgetting_the_load_when_foreign_key_enters_late
Only remember that an association was loaded if it was found
Test for #489
belongs_to association should always honor a present foreign key and condition interpolation should also be possible on belongs_to
Removed debugging aid from dependencies
No need for reloading any more
New adventures in dependency reloading
New adventures in dependency reloading
Minor tweaks
Added more informative error message for "file not found" situation in send_file #484 [Alexey]
Finished documentation for caching
Went back to original breakpointing as I couldnt make the patches from flgr work
Removed the Ruby 1.8.2 test/unit fix as it didnt work anyway
Added the option of passing a block to ActiveRecordHelper#form in order to add more to the auto-generated form #469 [dom@sisna.com]
Flipped code-to-test ratio around to be more readable #468 [Scott Baron]
Added validates_associated that enables validation of objects in an unsaved association #398 [Tim Bates]
Dont polute the load path more than necessary
Added the meat for String inflection
Missing something from #475
Added availability of class inheritable attributes to the masses #477 [bitsweat]
Added a bit more documentation on how to use the instance methods for acts_as_list #478
Added Inflections as an extension on String, so Inflector.pluralize(Inflector.classify(name)) becomes name.classify.pluralize #476 [bitsweat]
Removed silly change caused by inability to grok own code at 3 am
Changed add_to_list_top and add_to_list_bottom to be public
Added the option to specify a controller name to "generate scaffold" and made the default controller name the plural form of the model.
Added arrays as a value option for params in url_for and friends #467 [Eric Anderson]
Refactored ActiveRecord::Base#clone to use Base#attributes #463 [atyp]
Remove length alias of size
Added option to turn off caching
Added Byte operations to Numeric, so 5.5.megabytes + 200.kilobytes #461 [Marcel Molina]
Added a differenciation between AssociationCollection#size and -length. Now AssociationCollection#size returns the size of the collection by executing a SELECT COUNT(*) query if the collection hasn't been loaded and calling collection.size if it has. If it's more likely than not that the collection does have a size larger than zero and you need to fetch that collection afterwards, it'll take one less SELECT query if you use length.
Tweaks and tinkering
Updated to new naming style
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@388 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
Added conditional layouts like <tt>layout "weblog_standard", :except => :rss</tt> #452 [Marcel Molina] -- We are still missing unit tests for layouts in general, so please do contribute if you want some testing workout
Added Base#attributes that returns a hash of all the attributes with their names as keys and clones of their objects as values #433 [atyp.de]
Added MemCacheStore to fragment caching #449 [Lucas Carlson]
Added fourth argument to render_collection_of_partials that allows you to specify local_assigns -- just like render_partial #432 [zenspider]
Added that rake clone_structure_to_test, db_structure_dump, and purge_test_database tasks now pick up the source database to use from RAILS_ENV instead of just forcing development #424 [Tobias Luetke]
Added that form helpers now take an index option #448 [Tim Bates]
Added Base#reload that reloads the attributes of an object from the database #422 [Andreas Schwarz]
Added SQLite3 compatibility through the sqlite3-ruby adapter by Jamis Buck #381 [bitsweat]
Added support for the new protocol spoken by MySQL 4.1.1+ servers for the Ruby/MySQL adapter that ships with Rails #440 [Matt Mower]
Some missing docs
Updated caching to include action caching as well and simplified the name/key reference to just be name
Added that Observers can use the observes class method instead of overwriting self.observed_class()
Also accepts Symbols and Classes by calling .to_s on the word supplied
Added that all renders and redirects now return false, so they can be used as the last line in before_filters to stop execution.
Apparently the temp hack for functional tests was still needed
Removed temporary hack for test/unit problems that only worked for functional tests
Added inclusion of fix for test/unit and rake problems with Ruby 1.8.2
Added run time fix for the test/unit problems with Ruby 1.8.2
Added more core_ext to install.rb
Added more core_ext to install.rb
Updated install.rb
Removed last trace of ill-conceived authentication framework
Removed authentication framework as xal made me realize that with noradios conditional filters, it was actually more code to use the framework than doing it by hand. Killing a darling! Props to noradio for the patch and xal for the nerve to stand up and question the captain before the plane crashed. Oh, and a pad on my own back for walking away from a couple of hours of work without getting pissy
Added conditional filters #431 [Marcel]
Added write_inheritable_hash to use with conditional filters in Action Pack
Added :before option to authentication
Added authentication framework to protect actions behind a condition and redirect on failure. See ActionController::Authentication for more.
Added the first of the coming core extensions
Added the first of the coming core extensions
Added rewrite conditions needed for page caching to work
Taken out as noradio took over
Added first stab at page and fragment caching
Simplified the set_cookie method and made it indifferent to symbol or string as name
Added Base#toggle(attribute) and Base#toggle!(attribute) that makes it easier to flip a switch or flag. Added Base#increment!(attribute) and Base#decrement!(attribute) that also saves the records. Added Base#increment(attribute) and Base#decrement(attribute) that encapsulates the += 1 and -= 1 patterns.
Added the possibility of passing nil to UrlHelper#link_to to use the link itself as the name
Removed Fancy Indexing as a default option on the WEBrick servlet as it made it harder to use various caching schemes
Include package dependency information
Upgrade the dependencies of the Rails gem
Prepared for release of 0.9.3
Minor tweak for readability
Added MemCacheStore for storing session data in Danga's MemCache system [Bob Cottrell]
Added support for SQLite in the auto-dumping/importing of schemas for development -> test #416
Nuke the controllers after the dispatcher reload to avoid the superclass mismatch problem
Added HasManyAssociation#count that works like Base#count #413 [intinig]
Added the possibility of specifying the remaining options for find_first and find_all with the new find_by/all_by* dynamic finders [danp]
Added thread-safety to the DRbStore #66, #389 [Ben Stiglitz]
DB2 driver shouldnt be looking for RubyGems stuff
Brought install.rb up to date #408 [bitsweat]
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@312 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
Added DateHelper#select_time and DateHelper#select_second #373 [Scott Baron]
Added test cases and rakefile to Active Support
Added find_all style to the new dynamic finders
Added dynamic attribute-based finders as a cleaner way of getting objects by simple queries without turning to SQL.
Restored bind arity checking #412 [bitsweat]
Added that Base#find takes an optional options hash, including :conditions. Base#find_on_conditions deprecated in favor of #find with :conditions #407 [bitsweat]
Added the latest two tables to the DB2 schemas
Added a db2 adapter that only depends on the Ruby/DB2 bindings (http://raa.ruby-lang.org/project/ruby-db2/) #386 [Maik Schmidt]. Converted all the fixtures to YAML style ones.
Added the final touches to the Microsoft SQL Server adapter by DeLynn Berry that makes it suitable for actual use #394 [DeLynn Barry]
Added automated rewriting of the shebang lines on installs through the gem rails command #379 [Manfred Stienstra]
Updated documentation for associations #387 [canadaduane]
Added class declaration for the MissingFile exception #388 [Kent Sibilev]
Added block-style for callbacks #332 [bitsweat]
Added automated optimistic locking if the field lock_version is present #384 [Michael Koziarski]
Added "short hypertext note with a hyperlink to the new URI(s)" to redirects to fulfill compliance with RFC 2616 (HTTP/1.1) section 10.3.3 #397 [Tim Bates]
Added second boolean parameter to Base.redirect_to_url and Response#redirect to control whether the redirect is permanent or not (301 vs 302) #375 [Hodel]
Added tests for acts_as_list with scope is null #378 [Tim Bates]
Added :counter_cache option to acts_as_tree that works just like the one you can define on belongs_to #371 [Josh]
Auto-requiring of helpers should stay silent when it isn't found for whatever reason
Restored thread safety to Active Record [andreas]
Transactions are now actually working on the database level on save, but thread safety is currently out the window. Andreas is working on it
Updated Rakefiles for the server move
Include as loaded regardless of success
Switch dispatcher to use the new shared Dependencies approach
Rearranging dependencies
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@278 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
Moved support into Active Support
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@276 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
Moved support files into Active Support
Moved the cookies fix to cgi_ext
Moved support from both Action Pack and Active Record into a separate module called Active Support that can be included using svn:externals in both
Added documentation for using render_with_layout
Added Base.default_timezone accessor that determines whether to use Time.local (using :local) or Time.utc (using :utc) when pulling dates and times from the database. This is set to :local by default.
Added the possibility for adapters to overwrite add_limit! to implement a different limiting scheme than "LIMIT X" used by MySQL, PostgreSQL, and SQLite.
Added ActionMailer::Base.deliver_method = :test to the test environment so that mail objects are available in ActionMailer::Base.deliveries for functional testing.
Added ActionMailer::Base.raise_delivery_errors = false to the test environment as we checks will be performed against deliveries array instead.
Added :host and :protocol options to url_for and friends to redirect to another host and protocol than the current.
WordNet not Nets
Touched up wording on the new recommendation stuff for generate models
Added protection for creating a model through the generators with a name of an existing class, like Thread or Date. It'll even offer you a synonym using wordnet.princeton.edu as a look-up. No, I'm not kidding :) [Florian Gross]
Ignore doc and pkg directories
Releasing Rails 0.9.2
Added scope option to validation_uniqueness #349 [Kent Sibilev]
Added allow_nil options to validates_inclusion_of so that validation is only triggered if the attribute is not nil [what-a-day]
Added work-around for PostgreSQL and the problem of getting fixtures to be created from id 1 on each test case. This only works for auto-incrementing primary keys called "id" for now #359 [Scott Baron]
You should redirect externally on the default action
Forgot to include the new session module
Added Base#clear_association_cache to empty all the cached associations #347 [Tobias Luetke]
Added search through session to clear out association caches at the end of each request. This makes it possible to place Active Record objects in the session without worrying about stale data in the associations (the main object is still subject to caching, naturally) #347 [Tobias Luetke]
Added more informative exception when using helper :some_helper and the helper requires another file that fails, you'll get an error message tells you what file actually failed to load, rather than falling back on assuming it was the helper file itself #346 [dblack]
Added more informative exceptions in establish_connection #356 [bitsweat]
The dispatcher should reload the associations AFTER clearing the inheritable variables, not before, or callbacks and others wont work
Added acts instead of mixins
Deal with associated classes that doesnt reside in their own files
Checked in the proper version of const_missing
Forgot a "or" in Inflector
Switched strategy on the id_before_type_cast problem and just did an explicit method so postgresql wouldnt choke on id is null
Added a require_association hook on const_missing that makes it possible to use any model class without requiring it first. Added that Active Record associations are now reloaded instead of cleared to work with the new const_missing hook in Active Record.
Pulling attributes_from_column_definition should set the primary id to nil instead of not at all
Scrap that
Dont define respond_to? lookups for primary key
FormHelper should only use *_before_type_cast if they available on the model
Changed the interface on AbstractAdapter to require that adapters return the number of affected rows on delete and update operations. Added that Base.update_all and Base.delete_all return an integer of the number of affected rows #341
Added that query benchmarking will only happen if its going to be logged anyway #344
Reworded a few doc things for better comprehension [dblack]
Added graceful handling of an inaccessible log file by redirecting output to STDERR with a warning #330 [rainmkr]
Updated the documentation #329 [rainmkr]
Added higher_item and lower_item as public methods for acts_as_list #342 [Tobias Luetke]
Added documentation for automatic layout inclusion #328 [Marcel]
Added support for a -h/--help parameter in the generator #331 [Ulysses]
Added breakpoints to stand-alone Active Record, so we can use them in tests for AR
Set a high default salary within the validation range
Added Developer#salary for the type tests
Added respondence to *_before_type_cast for all attributes to return their string-state before they were type casted by the column type. Added use of *_before_type_cast for all input and text fields.
Added Request#port_string to get something like ":8080" back on 8080 and "" on 80 (or 443 with https).
Added Request#domain (returns string) and Request#subdomains (returns array).
Added POST support for the breakpoint retries, so form processing that raises an exception can be retried with the original request [Florian Gross]
Base#update_attribute isnt subject to validation
Made Base#update_attributes actually work
File.expand_path in config/environment.rb would fail when dealing with symlinked public directories [mjobin].
Added Base#update_attributes that'll accept a hash of attributes and save the record (returning true if it passed validation, false otherwise). Added a return value for Base#update_attribute, so that you get to know whether the save was successful or if it failed validation.
Added Base.destroy and Base.delete to remove records without holding a reference to them first.
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@205 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
Tagged the 0.9.1 release
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@203 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
Upgraded to Action Pack 1.0.1 for important bug fix. Updated gem dependencies.
Cut down on the documentation visible
Rails 0.9 is a reality
Made the last tweaks before 0.9
Updated documentation
Updated documentation
Updated documentation
Updated and added more documentation
Added Base.validates_inclusion_of
Improving documentation...
Renamed Mixins to Acts to resemble the change from include ActiveRecord::Mixins::List to acts_as_list and renamed @@default_error_messagess to @@default_error_messages
Only requests that require processing from a controller should block the webrick server -- requests for stylesheets, images, and the like should be concurrent
Needed to update the server root for the new placement
Renamed script/envcon to script/console
Renamed public/dispatch.servlet to script/server -- it wasn't really dispatching anyway as its delegating calls to public/dispatch.rb
Renamed breakpointing to breakpointer
Added option for turning off the automated timestamps
Added assumption that a Symbol-based scope should end in _id unless it does so already and that you can pass vanilla string-based scopes as a parameter
Added assumption that a Symbol-based scope should end in _id unless it does so already and that you can pass vanilla string-based scopes as a parameter
Make it possible to use a regular scope string in addition to the symbol shortcut
Shouldnt have removed generators from gemspec
Added Base.validates_inclusion_of that validates whether the value of the specified attribute is available in a particular enumerable object. [what-a-day]
Added Base.validates_inclusion_of that validates whether the value of the specified attribute is available in a particular enumerable object. [what-a-day]
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@177 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
Added that Active Records will automatically record creation and/or update timestamps of database objects if fields of the names created_at/created_on or updated_at/updated_on are present. [Tobias Luetke] Added acts_as_tree that can decorates an existing class with a many to many relationship with itself. Added acts_as_list that can decorates an existing class with methods like move_higher/lower, move_to_top/bottom.
Added that controllers will now attempt to require a model dependency with their name and in a singular attempt for their name.
Added Base.validates_format_of that Validates whether the value of the specified attribute is of the correct form by matching  it against the regular expression provided. [Marcel]
Added Base.default_error_messages as a hash of all the error messages used in the validates_*_of so they can be changed in one place [Tobias Luetke]
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@172 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
Added automatic transaction block around AssociationCollection.<<, AssociationCollection.delete, and AssociationCollection.destroy_all
Moved generate to bin and included it again
Removed redundent tests for success and removed the tests for missing records that were failing out the gates
Generators shouldnt be placed in a new Rails creation by default
Added Base.validates_boundries_of that delegates to add_on_boundary_breaking #312 [Tobias Luetke]
Make Railties *not* include .svn dirs in its gemspec files list #308 [Marcel]
Documented select, collection_select, and country_select #304 [Ulysses]
Insignificante...
Updated examples to use ApplicationController instead of AbstractApplicationController
Added that controllers will now search for a layout in $template_root/layouts/$controller_name.r(html|xml), so PostsController will look for layouts/posts.rhtml or layouts/posts.rxml and automatically configure this layout if found #307 [Marcel]
Renamed AbstractApplicationController and abstract_application.rb to ApplicationController and application.rb, so that it will be possible for the framework to automatically pick up on app/views/layouts/application.rhtml and app/helpers/application.rb
Brought unit tests up to date
Changed validate_* to validates_*_of, so validate_acceptance becomes validates_acceptance_of, and added :on as a configuration option instead of using _on_create/update
Added tree mixin and unit tests for all the mixins
Wrapped multi-step operations in transactions
fixtures :models will now also attempt to include the model.rb file
fixtures :models will now also attempt to include the model.rb file
Added FormHelper#radio_button to work with radio buttons like its already possible with check boxes [Michael Koziarski]
This patch allows urls to be of the form :module/:controller/:action as well as :controller/:action/:id where :id is no entirely numeric by determining if what would be :module corresponds to a directory in app/controllers. If it does not then the :controller/:action/:id scheme is used.
Added a better exception for when a type column is used in a table without the intention of triggering single-table inheritance. Added that single-table inheritance will only kick in if the inheritance_column (by default "type") is present. Otherwise, inheritance wont have any magic side effects
Cut dependency on dev-utils by using included breakpoint lib
Slightly less overzealous testing
Improved the quality of the breakpointing -- especially under FCGI
Added TemplateError#backtrace that makes it much easier to debug template errors from unit and functional tests
Extended no inclusion of messages if theyre nil to base
Added the option of passing false to :module or :controller_prefix in order to "break out" of a module or prefix
Updated unit tests to reflect lowercase post as method in form tags
Moved methods into the main body as only wiring is needed in append_features
Cleaner deactivation of the breakpoint server
Breakpointing that works much better with CGI and FCGI
Added the possibility of marking fields as being in error without adding a message (using nil) to it thatll get displayed wth full_messages #208 [mjobin]
Added collusion handling for FCGI
Added confirmations on successfull connections and resumations
Attempted to capture #286 in a unit test, but couldnt get it to fail
Reload the cached column information between requests when the ActionController is set to reloading dependencies
Added methods for resetting the cached information on classes that you want to clear between requests in development mode
Added pattern for specific actions in a modularized controller
Only start the breakpoint server when included by dispatchers
No longer necessary to guard against reincludes with the new reset of inheritance variables
Turn off ACL for localhost
Moved require_association to associations.rb and added methods for resetting the inheritable attributes on subclasses
Display error messages on scaffolded form pages
Superseeded by rails_generator.rb
Added option to ERB templates to swallow newlines by using <% if something -%> instead of just <% if something %>
Remember to include the right breakpoint for the docs
Differentiate breakpointing on gem or not in an attempt to fix looping problems
No longer needed to explicitly pass the session defaults as the error screen was removed
Added that render_partial will always by default include a counter with value 1 unless there is a counter passed in via the local_assigns hash that overrides it. As a result, render_collection_of_partials can still be written in terms of render_partial and partials that make use of a counter can be called without problems from both render_collection_of_partials as well as render_partial #295 [marcel]
Use lower-case post instead of POST as form method for XHTML compliance #290 [Scott Baron]
Mailer generator should create passing tests
Options for the new validation methods are now given as a hash
Added Base.validate_uniqueness thatv alidates whether the value of the specified attributes are unique across the system. Useful for making sure that only one user can be named "davidhh".
Added Base.validate_presence as an alternative to implementing validate and doing errors.add_on_empty yourself. Added _on_create and _on_update versions for all the new validations
Set border on link_to_image to 0 by default
Added link_to_image(src, options = {}, html_options = {}, *parameters_for_method_reference)
Added breakpoint retries on rescue screens
Added preliminary remote breakpoint support
Updated the usage documentation for the generator actions for their new home
Added Base.validate_confirmation that encapsulates the pattern of wanting to validate the acceptance of a terms of service check box (or similar agreement)
Changed the Proc for a string to avoid repetition problems
Added Base.validate_confirmation that encapsulates the pattern of wanting to validate a password or email address field with a confirmation.
Added validation macros to make the stackable just like the lifecycle callbacks
We need to pass the name when deleting the cookie
Added CookieJar#delete and fixed CookieJar[] to just call first, so you get a string instead of an array back. This limits each cookie to one value, which I consider a mighty fine restriction
A fix that actually works...
Callbacks added to the inheritable que should only be called once -- even as the definition is read again
scope_condition defaults to 1 on list mixin
Added mixins to install.rb
Cleaned up the class_eval stuff in the new mixins a bit
Forgot to include Mixins::Touch by default
Added ActiveRecord::Mixins::Touch that will record creation and update times of objects [xal]
Added ActiveRecord::Mixins::List that can decorates an existing class with methods like move_higher/lower, move_to_top/bottom
Renamed from ListMixin and mixins/list_mixin.rb to Mixins::List and mixin/list.rb
Unofficially added ListMixin
Killed the out of place alias and made sure you can use the different HTTP methods within the same testaction
Only nuke the AbstractApplicationController if its available
Added named bind-style variable interpolation #281 [Michael Koziarski]
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@77 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
Updated Builder to 1.2.2
Added the option for sanitizing find_by_sql and the offset parts in regular finds [Sam Stephenson]
Forgot another small change with the new generators
Forgot a small change with the new generators
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@72 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
New error checking removes the necessity for giving a specific error page along to the dispatcher
Added counter_sql option for has_many associations [bitsweat]
Added the possibility of having validate be protected for assert_(in)valid_column #263 [Tobias Luetke]
Trick tests on url_for
Make the dispatch.rb behave after being run by the WEBrick dispatcher
Added a better generator for scaffolding that actually creates the code, so it can be edited bit by bit. See "script/generate scaffold" [bitsweat]. Added a whole new approach to generators that used the shared "script/generate" command. Run with no-args to see help [bitsweat].
Added that ActiveRecordHelper#form now calls url_for on the :action option.
Documentation bugs
Added all the HTTP methods as alternatives to the generic "process" for functional testing #276 [Tobias Luetke]
Added indifference to whether @headers["Content-Type"], @headers["Content-type"], or @headers["content-type"] is used. Added proper handling of HEAD requests, so that content isnt returned (Request#head? added as well) #277 [Eric Hodel]
Added bind-style variable interpolation for the condition arrays that uses the adapter's quote method [Michael Koziarski]
Added CSV format for fixtures #272 [what-a-day]
Added access to custom headers, like cc, bcc, and reply-to #268 [Andreas Schwarz]
Added TestSession#session_id that returns an empty string to make it easier to functional test applications that doesn't use cookie-based sessions #275 [jcf]
Syntax errors and other exceptions thrown outside of an action are now gracefully handled by the dispatcher
Cleaned it up
Added an easier way of starting a IRB session on the environment
Added an easier way of starting a IRB session on the environment
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@47 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
Added extra words of caution for guarding against SQL-injection attacks
Dont include the primary key in updates -- its unneeded and SQL Server chokes on it
Added options to tailor header tag, div id, and div class on ActiveRecordHelper#error_messages_for [josh]
Added proper handling of time fields that are turned into Time objects with the dummy date of 2000/1/1 [HariSeldon]
Added graceful handling of non-alphanumeric names and misplaced brackets in input parameters [bitsweat]
Added reverse order of deleting fixtures, so referential keys can be maintained #247 [Tim Bates]
Added a real reference to the irc channel, and updated the name of the network to the right name in the Rails docs [imajes]
script/new_controller should create directory for views even when no actions are specified [bitsweat]
Added relative path search for sqlite dbfiles in database.yml (if RAILS_ROOT is defined) #233 [bitsweat]
Moved the global require_* out of the classes so they actually work without stack overflows
Abolished ActionController::Base.require_or_load in favor of require_dependency and ActiveRecord::Base.require_or_load in favor of require_association. Both methods are now also available in the global namespace when you need to require dependencies or associations outside of whats done automatically.
AbstractApplicationController and the individual controllers are now completely reloaded on each request if "reload_dependencies" is set to true. This makes it possible to REMOVE methods and constants and have the changes reflected. Beaware that this is still not possible for models, though.
Pass on the original exception
A change in attempt to combat periodical errors with FCGI processes hanging for a long time before returning the response
Silenced warnings from reloading files
Silence errors occurring when reloading classes
git-svn-id: http://svn-commit.rubyonrails.org/rails/trunk@26 5ecf4fe2-1ee6-0310-87b1-e25e094e27de
Handle empty cookie jars gracefully -- dont pout!
Renamed CookieContainer to CookieJar to be cute. Its a private container anyway, so what do you care?
Report to logger when a cookie is set
Allow symbols to be used as names for setting cookies
Allow symbols to be used as keys for setting cookies
Added a new container for cookies that makes them more intuative to use. The old methods of cookie and @cookies have been deprecated.
Added ActionController#cookies[]= as an alias for cookie "name", "value" -- youll still need to use the latter if you have options to set.
Added ActionController#cookies[] as a reader for @cookies that'll return the value of the cookie instead of the cookie object itself. NOTE: If you were using the old accessor, this could potentially break your code -- if you expect a full cookie object!
symbolize_strings_in_hash shouldnt change receiver -- this should fix the bug with dump_schema in the rakefile
Keep quiet about failing to load association classes. People know what theyre doing.
Added the opportunity to defined method_missing on a controller which will handle all requests for actions not otherwise defined #223 [timb]
Put establish_connection back in...
Dont include svn directories in packages
Cleaned up the Rakefile
Consolidated and better commented the environment files
Added option to establish_connection where you'll be able to leave out the parameter to have it use the RAILS_ENV environment variable
Dump development database, not test database
Added Request#ssl? which is shorthand for @request.protocol == "https://"
Allow form_tag with no arguments (resulting in a form posting to current action) - Patch #236
Initial

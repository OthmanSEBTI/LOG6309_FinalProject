docs - update login troubleshooting
docs - update running metabase troubleshooting
docs - basic env var doc gen (#26428)
Reveal new sample db tables by default (#26505)
Add a way to pause/resume and reset each authentication method (#26430)
Update README.md (#23235)
Row chart polish (#26183)
Delete unused new question route (#26392)
Remove `core-js` (#26483)
Serdes v2: Inline TimelineEvents under Timelines (#26489)
Rerun flaky workflows on `master` and `release` branches (#26495)
Revert "Update IP geolocation tests; the upstream service's output changed (#26255)" (#26434)
Move the config-from-file code into the advanced-config directory since that's the feature we want to flag on (#26461)
Simplify two-case-functions-test (#26485)
docs - datetimeAdd and datetimeSubtract (#26431)
Serdes v2: Migrate `DashboardCard`s to be inlined in their `Dashboard`s (#26330)
Add checkNotNull type util (#26484)
Extract common error messages (#26432)
Allow for "deep-copy" of a dashboard (#25530)
Add dashboard-id to remarks in Redshift driver (#26086)
Make sure lazy seqs get realized during CSV exports (#26327)
Remove unused `underscore` import (#26410)
[CI] Update deprecated `set-output` command in backport actions (#26405)
Remove `@types/isomorphic-fetch` (#26408)
Migrate slack forms to formik (#26273)
[CI] Bump junit report action to v3 (#26400)
[CI] Increase drivers tests timeout (#26398)
fix mongo not able to filter by UUID (#26367)
Datetime extraction and arithmetics for text column in mongo (#26339)
Establish type guards directory (#25978)
Call blur if activeElement is in popover content (#26335)
Streamlines devcontainer Dockerfile and adds fontconfig (#26281)
Migrate some driver tests to GitHub Actions (#25769)
Break `ItemPicker` into view and container (#26334)
Increase backend tests timeout for GitHub Actions (#26374)
Refactor ItemPicker 4 — Convert to TypeScript (#26331)
[E2E] Skip erroring questions tests (#26369)
Pass date and time format to timeline forms (#26289)
Turn `ItemPicker` into a functional component (#26326)
Remove myself from static-viz CODENOTIFY (#26365)
Upgrade webpack, webpack-cli and webpack-dev-server (#26313)
Errors combining datetime interval addition with datetime functions (#26279)
Log errors caught during sync steps (#26306)
Refactor Item Picker 2 — Clean up (#26297)
Upgrade `@cypress/grep` library (#26299)
docs - filters (#26220)
Remove legacy MBQL syntax in tests (#26309)
Upgrade snakeyaml (#26250)
change schema to allow empty strings as table descriptions (#26302)
add arabic as supported language (#26295)
Remove support for Heroku deployment (#25124)
Upgrading jackson-databind to latest version (#26249)
Remove fullWidth from form components (#26290)
Updated gh actions (#26167)
Change the remaning columns that has text type in mysql,mariadb to longtext (#26223)
Use all text scorers in the final result to increase scoring signal (#26026)
docs - add week function (#26152)
Migrate timeline forms to formik (#26247)
Deprecate form framework components (#26270)
Bump woodstox : CVE-2022-40151 (#26269)
replace quotation marks (#26252)
Serdes v2: Search for dependencies both on the filesystem and the appdb (#26217)
Forgot to remove @types/moment-timezone (#26248)
Add FormTextArea (#26257)
Update IP geolocation tests; the upstream service's output changed (#26255)
docs - update full-app embedding (#26239)
Migrate UserProfileForm to formik (#26231)
Migrate ForgotPassword form to formik (#26204)
Migrate UserInviteForm to formik (#26216)
Migrate ResetPassword form to formik (#26214)
Migrate UserStep form to formik (#26215)
Migrate UserPasswordForm to formik (#26228)
Migrate NewsletterForm to formik (#26192)
Upgrade moment-timezone to latest version (#26158)
Add form validation to formik forms (#26219)
Remove react-oauth fork and use the new lib version (#26196)
Serdes v2: Backfill entity_id based on identity-hash before serdes (#26118)
Improve forms API (#26181)
Rename `dateAdd` to `datetimeAdd` - the missing file (#26191)
fix backport comment command (#26185)
Serdes v2: Don't overwrite Database.details with nil when deserializing (#26133)
Cleanup SAML settings in Admin (#26064)
Serdes v2: Include a Card's `:result_metadata` in serdes (#26154)
Serdes: Hide `entity_id` from Serdes v1; it was causing errors (#26141)
docs - history (#26144)
Refactor `ItemPicker` 1 — Extract and basic clean up (#26149)
Move series settings into chart settings popup (#25926)
Rename dateAdd to datetimeAdd (#26147)
Add formik wrappers for basic components (#26137)
static row chart: formatting, missing features (#26146)
Allow category field drop-downs to be single-selection for dashboard filters (#25960)
don't throw an error when there are no new changes in a permissions revision (#26097)
static chart legend (#26107)
get-week expression (#25778)
Support disabling database sync in config files (#26110)
Revamped row chart (#25408)
Config from file: fix User upsert not hashing password (#26105)
Support setting Settings in `config.yml`  (#26109)
Move `metabase.config.file` code => enterprise directory (#26108)
Viz settings suggestion field (#25806)
Make metabase-lib/lib just metabase-lib (#26114)
[RFC] Add first-class formik support (#26100)
Serves v2: Add :created_at to the hashes of all serialized models (#26084)
Move last metabase/parameters function used by metabase-lib (#26113)
[CI] Redo the release script and trigger it manually (#26101)
Move rows logic to aggregation displayName fn (#25921)
Dj dimension cleanup (#25922)
premium features are off when running oss (#26093)
Show collection in data reference for questions/models (#26063)
Update serialization.md (#26096)
fix: Apply reporting timezones for BigQuery functions (#25451) (#25889)
Show collection name in question tag autocomplete results (#26066)
Static pie chart labels (#25262)
Add JWT form (#26040)
Add `saml-configured`, `jwt-configured` and `google-auth-configured` settings, and some general setting refactor (#26045)
Clarify how and why to run Percy tests in the developer's guide (#26080)
fix table link (#26081)
run linter on docs on pull request (#26071)
Pin model if created from scratch (#26069)
[E2E] Tweak `deploysentinel` config (#26044)
Tweak copy and add educational link to the New -> Model screen (#26047)
Add `created_at` to Collection (#25871)
update anchor links (#26070)
Correctly Apply Column Formatting to Static Visualizations (#25493)
Serdes v2: Refactor entire serdes flow to use real Toucan, not low level (#25981)
docs - update email (#26056)
docs - update aws elastic beanstalk (#26042)
Ensure static visualizations with multiple cards are rendered (#25811)
close stale PRs after a year (#25985)
Fetch static viz code changes while running in the dev mode (#26015)
docs - update signed embedding (#26034)
Delete unused field utils (#26012)
[E2E] Try `deploysentinel` for Cypress runs analytics (#26036)
Initialize Metabase with config from a file (#25986)
Move parameter types to `metabase-lib` (#26009)
Properly check if api/*current-user* is bound (#26028)
[Apps] Remove emitters (#25999)
Remove data app permission code (#26016)
Remove unused CardTagEditor code (#26008)
[Apps] Disable data-apps prior to release (#25982)
docs - restore sample db (#25944)
Revert "Prevent repeated coercion of fields (#24718)" (#26004)
Use "apps" collection namespace for app collections (#25963)
Clean query from question treated as pure question (#25996)
initial fix (#25991)
Open the data reference when the cursor moves to a card tag in the native query editor (#25801)
Disable data apps (#25977)
Move more card/parameter value utils to metabase-lib (#25937)
Extract date picker filter utilities (#25964)
Prevent repeated coercion of fields (#24718)
Repro #25908: Using filter Contains on dashboard is case-insensitive, but on drill-through to question becomes case-sensitive (#25979)
Restrict metabase-lib imports (#25939)
update redirect (#25975)
update links (#25973)
Remove metabase/writeback dependency in metabase-lib (#25959)
Replace `isomorphic-fetch` for plain `XMLHttpRequest` (#25837)
untie `getColumnKey` function from code not usable in static viz rendering environment (#25925)
[E2E] Use NodeJS `http` module for Cypress backend (#25952)
Refactor validation when executing a dashcard query  (#25941)
Use resultsMetadata selector for columns (#25933)
Automatically set initial sync status of crufty tables to `complete` (#25945)
Go to view mode after saving new model (#25946)
Move expressions to metabase-lib (#25928)
When creating fresh model, disable Metadata button until query is run (#25877)
Change pulse for subscription in Activity log (#25942)
Remove ActionClickDrill and stop using click behavior for actions (#25924)
Repro #24660: Saved Questions data selector lists all questions for collections with the same name (#25919)
Move more parameters utils to metabase-lib (#25900)
Toucan `:timestamped` property should not stomp explicit `:created_at` or `:updated_at` (#25918)
App DB data source should use default host/port for MySQL/Postgres (#25917)
Update copy in confirm modal for cancelling new model (#25890)
Move click behavior to metabase-lib (#25879)
cleanup Slack error logging (#25902)
Remove metabase/lib/schema dependency in metabase-lib (#25905)
Remove metabase/lib/modes dependency in metabase-lib (#25909)
Move saved-questions to metabase-lib (#25903)
Remove metabase/lib/string dependency in metabase-lib (#25907)
Remove metabase-lib dependency on metabase/lib/engine (#25904)
Add CLI SerDes command for seeding entity IDs (#25655) (#25870)
Return models used by the app in GET /app/:id (#25823)
Data apps: faster action adding (#25846)
25453 merge axis labels tab (#25886)
[Apps] Small scaffolding bug fixes (#25883)
Viz settings field partition dnd (#25882)
Serdes v2: Improved selective serialization; several fixes for Stats (#25834)
docs - date expressions (#25887)
fix flaky test (#25894)
Remove metabase-lib dependency on redux (#25893)
Hide ID filters in data app pages (#25873)
[E2E] Guard workflow against the missing recording key (#25888)
[Apps] Scaffolding cleanup (#25805)
[Apps] Scaffold implicit actions (#25815)
[Apps] Actions on models (#25767)
Adding maxDimensions to waterfall charts (#25714)
Static row chart (#25829)
Adapt cancel button for new model pages (#25862)
Move some parameter utils to `metabase-lib` (#25863)
Tweak data app page style (#25875)
preserve url params when saving data app pages (#25874)
Move data-modeling utils to metabase-lib (#25855)
models update (#25867)
Repro #25543 : Collection list fails to display if there's an invalid parameter in a question (#25868)
Keep "model" in URL when creating fresh model (#25799)
Move FieldRemapping logic to metabase-lib (#25859)
Move PartialQueryBuilder MBQL manipulation to metabase-lib (#25857)
Move mbql & metadata logic from services.js to metabase-lib (#25854)
Move operator utility functions from `schema_metadata.js` to `metabase-lib` (#25839)
Show "Learn about your data" info on fresh model page (#25817)
Move object-detail drill to metabase-lib (#25833)
Implement EE/Pro app permissions (#25764)
heading (#25836)
Implement global app permissions for the "All Users" group (#25679)
Static gauge chart (#25651)
Do not offer to add model to dashboard once it's created and saved (#25828)
Serdes v2: Drop the updated_at field from serialization (#25446)
Move type functions in `schema_metadata.js` to `metabase-lib` (#25822)
[E2E] Consolidate admin > database tests (#25808)
Refactor password reset login for SSO users (#25819)
Refactor GeoJSON URL fetching logic (#25816)
docs - update full-app embedding (#25818)
Move metabase/lib/types to metabase-lib (#25813)
don't show object detail header in a data app context (#25812)
Extract more drills to metabase-lib (#25802)
Update name input placeholder for new question/model (#25798)
Label save button only “Save” when model is brand new (#25800)
Move `DatePickerShortcutOptions` logic utils to `metabase-lib` (#25779)
Include new site UUID in version check requests (#25783)
condense list rows, add icon for clickiness factor (#25797)
Update MB_DB_CONNECTION_TIMEOUT_MS (#25796)
[GHA] Do not use `buildjet` for timezone tests (#25795)
Display modal for naming and adding description to Model before saving (#25780)
Extract drills from metabase/mode to metabase-lib (#25794)
Truncate Slack attachments (namely dashboard filters) that are too long (#25753)
Data Apps: better action-adding behavior (#25719)
Require data permissions for executing actions (#25784)
docs - update section name to match sidebar (#25787)
Move metabase/lib/query_time and metabase/meta/Card to metabase-lib (#25777)
Move metabase/lib/query and dataset to metabase-lib (#25774)
Refactor DatabaseTablesPane and TablePane (#25751)
Move mbql DatePicker utils to `metabase-lib` (#25766)
[E2E] Replace deprecated `cy.server` with `cy.intercept` (#25762)
Prevent modifying app permissions via the collection endpoint (#25684)
Move metabase/lib/query to metabase-lib (#25761)
Move Google Auth toggle to the auth card (#25633)
Open `e2e` tests by default in Cypress open mode (#25763)
Adding columnHasSettings function to ChartSettingFieldPicker (#25724)
docs - remove interactive (#25755)
Update routing/url logic to support unsaved Models (#25720)
Adding placeholder and footer to Viz Settings Map Region (#25708)
Trigger a query run on tab change if the query is dirty (#25721)
Show models in the native query editor sidebar (#25494)
Use a standalone docs page for concat and substring mbql functions (#25727)
[Toucan 2 Prep] Convert `IRevisioned` to multimethods (#25108)
docs - regexextract (#25728)
start using the data app when clicking on an app in the nav (#25729)
Do not autorun ad-hoc native queries (#25675)
Add description for the ssl client key for postgres
[FE] Remove unused `underscore` imports (#25709)
Notify endpoint should 404 with incorrect table name/id (#25627) (#25703)
[E2E] Upgrade cross-version Cypress configs to v10 format (#25711)
Make Database details NOT NULL; add defaults for Database created_at and updated_at (#25717)
Enable Kondo for tests part 3: enable deprecated var linter and fix warnings. (#24751)
Destroy open connections when resetting app DB; add `ReentrantReadWriteLock` around app DB `getConnection` (#21664)
Mysql persistence (#25710)
`POST /api/ee/serialization/serialize/data-model` endpoint (#25640)
Stop a few unnecessary query reruns in Models (#25681)
Update README.md (#25701)
Prevent long titles from overflowing out of 'Recently viewed' dropdown (#25702)
add dev guide to readme sidebar section (#25692)
Infer types for new date functions (#25694)
docs - add instructions to convert key to der (#25663)
Handle metric filters in drilldowns (#25573)
[E2E] Upgrade Cypress-related libraries (#25678)
DateAdd and DateSubtract expression (#25414)
Advanced datetime extraction (#25277)
Changing graph viz settings toggles to inline, updating radio buttons to (#25664)
Adding missing placeholders to various viz settings (#25649)
Changing axis label copy in Viz Settings (#25652)
Remove Stacking option when only 1 stackable series is present (#25654)
update api docs (#25688)
docs - substring (#25667)
Upgrade Cypress to `v10.9.0` (#25665)
update README.md (#25686)
more expert links (#25683)
docs - add metabase expert links (#25676)
[E2E] Add `@external` tag to tests that depend on Docker images (#25630)
Remove website update from the release script (#25647)
docs - concat (#25639)
Too Many Errors (#25554)
Chaninging Pivot Table viz settings labels (#25650)
Action Creator 9: Inline Forms (#25567)
Adding drag and drop re-ordering to graph metrics (#25563)
Action Creator 9a: Simplify action click drill (#25579)
more slash links (#25642)
Waterfall data point values (#25560)
Use `humane-are` lib for tests (#25606)
Implement DB specific execution permissions (#25629)
Remove unneeded and unused import (#25632)
docs - remove extra slash (#25634)
Substitute persisted queries in parameter card references (#25610)
Do not allow to enter an empty relative time interval (#25542)
update anchor link (#25626)
docs - correction (#25624)
update headings and links (#25620)
Change the copy about not supporting PKCS-12 officially (#25607)
Handle missing field id when generating field's uniqueId (#25599)
docs - google sign-in (#25608)
docs - update sync vs. scan (#25604)
Don't run query when entering model edit mode & show the correct data source for model (#25565)
docs - database troubles (#25591)
Move LDAP toggle to the auth card (#25439)
Introduce /execution/ permission (#25529)
Extract updateTemplateTagNames from initializeQB (#25576)
Tidy propagateDashboardParameters (#25539)
Do not merge metadata for aggregation fields (#24896)
[E2E] Cross-version initial dataset (#25195)
Handle bigint and boolean casts in mysql json unwrapping (#25427)
Enable kondo unused bindings linter in tests (#25120)
Allow disabling custom GeoJSON via env var (#25561)
bump deps (#25548)
Backend for Google Sign-In setup improvements (#25519)
Update query instead of datasetQuery in action editor (#25575)
Allow archiving apps (#25580)
[E2E] Unskip repro for #13059 (#25546)
Remove Question's `update` method & related code (#25531)
allow turning off mysql json unwrapping (#25556)
docs - update locked parameters (#25553)
Update README.md (#25558)
Prototype model relationships section for the detail page (#25524)
Adds tests for disallowing ddl commands on h2 (#25523)
Extract `DraggableSidebarLink` component (#25457)
[Apps] Update scaffold after FE change (#25549)
Adding tests for re-ordering bar chart series (#25468)
docs - troubleshooting visualizations (#25520)
rename all the action-button to action (#25517)
[E2E] Unskip repro for #12489 (#25541)
Return app_id for dashboard bookmarks (#25419)
[E2E] Unskip quarantined test due to #24900 (#25518)
Update api-intro.md (#25527)
Use ternary in check (#25526)
Check if dimensionForColumn is function (#25511)
adding reordering tests to funnel charts (#25461)
Open chill-mode when clicking bookmarked model (#25515)
Only fetch cards on same DB for model usage info (#25514)
docs - remove generated api doc tables of contents (#25513)
Prototype model detail page (#25491)
Add a link to specific docs page for selected mbql functions (#25462)
Don't use persisted model tables for segmented users (#25347)
LDAP setup improvements (#25421)
Automatically pin models on creation (#25463)
initial prometheus sketch (#25149)
Make table column width reasonable (#25436)
Use slugs for card template tags in the native query editor + autocomplete (#25319)
Action Creator 8: Required Fields and Default Values (#25445)
docs - update full-app embedding (#25426)
remove tables of contents (#25466)
docs - update "manage database" permission
change dataset to model (#25448)
Preserve Model metadata when changing the Model's query (#25442)
Update popper position when the filter changes (#25380)
remove unused static chart types (#25440)
Small improvements to QueryVisualization component (#25422)
24840 pivot table style changes (#25406)
Action Creator 7: Customize Placeholder text (#25407)
Add helper function sending debug-qp events to portal (#25423)
docs - community drivers (#25435)
Coerce all the static viz charts that could be a combo to be a combo (#24696)
Convert Variable to TypeScript (#23560)
add simple dev actions page (#25434)
Serdes v2: Handle missing User refs by synthesizing dummy users (#25391)
Respect data app nav items (#25416)
Implement scaffolding new pages for existing apps (#25402)
Implement implicit actions for data apps (#25393)
Serdes v2: Find YAML files with human-friendly labels (#25390)
Action Creator 6: Allow user-defined options for select and radio inputs (#25404)
Action Creator: Input type and Saving bugfixes (#25405)
Serdes v2: Several fixes that came out of the git <-> prod workflow (#25310)
Serdes v2: Selective serialization from the command line (#25309)
Exclude implicit joins when virtual card table has an explicit join (#25341)
Refactor debug query processor output (#25394)
Handle the session storage error when saving a location state (#25386)
Static viz polish fixes improvements (#25361)
update strings in tests (#25409)
[Apps] Add scaffolded pages to existing apps (#25343)
Make the signed embedding CTA clearer (#25371)
Update README.md (#25396)
docs - update api/dataset comment (#25342)
Improve slack settings messages (#25379)
H2 disallow `INIT=...` option using connection string (#25369)
Add support for portal (#25377)
Update expressions-list.md (#25387)
Convert test file to TS (#25348)
Convert test to TypeScript (#25346)
Unit test DataSelectorDataBucketPicker (#25271)
Do not save card twice into session storage (#25327)
Enforce import order in ESLint/import (#25123)
[Apps] exclude is_write cards from virutal tables (#25367)
Action Creator 5: Use Action Form Settings In Dashboard Modal Forms (#25344)
Make it clearer how to connect a SQL question to a dashboard filter (#25324)
Normalize virtual card table fields using its `table_id` and `id` (#25267)
Respect data app homepage setting (#25368)
Group nav sidebar files (#25359)
24840 reordering breakouts (#25318)
fix links (#25358)
Action Creator 4: Derive parameter types from form settings on save (#25297)
Support starting Metabase without starting Quartz scheduler (#25349)
Render text in Slack subscription when there is no result (#25336)
Add a description for slack channel form field (#25353)
Inform admins if their account is in bad standing (#25161)
Don't show an error page when loading cardtagEditor if the user doesn't have permission to view the referenced card (#25334)
Add a link to env var docs to settings (#25323)
Extract click behavior types and align with data apps code (#25330)
Add data point values E2E tests (#25325)
docs - update timezones (#25339)
Add referenced question columns to autocomplete results (#25197)
Implement basic "New App" scaffolding flow (#25295)
docs - update docker quick starts (#25332)
Respect custom series names in static viz (#25300)
Unit test DataSelectorTablePicker (#25245)
Static visualization polish fixes (#25145)
users may only send non-ddl native sql to h2 (#25220)
Add goal line settings to the viz-settings map passed to combo chart (#25269)
add frontmatter to API doc page (#25316)
Add white bg (#25268)
[Apps] Prototype backend app scaffolding (#25314)
matching titles (#25313)
[Apps] Hide is_write cards from collection items (#25296)
24840 position formatting popup column header (#25284)
Support arbitrary parameter input for actions (#25257)
[Apps] Allow extra parameters to be passed to action execution (#25198)
docs - fix links (#25311)
docs - update references to jar files (#25298)
Do not load google auth when not enabled (#25288)
Hydrate app_id for dashboard activities (#25270)
docs - readme titles (#25290)
Add schema nesting map errors for defendpoint (#24995)
adds ddiff2 as a dev dependency (#25046)
Adding text-overflow to ChartSettingsFieldPicker (#25266)
fix timelines visual specs flakes (#24342)
Reimplement action parameters mapping and execution (#25256)
Remove current action execution implementation (#25255)
Action Creator 3: Form Field Type Editing (#25119)
fix wrong filename in doc/driver/basic (#25238)
Support filtering by "app" and "page" models (#25223)
Extract DataSelectorDatabasePicker (#25258)
Breakdown data apps `ActionButton` visualization (#25252)
Extract DataSelectorSchemaPicker (#25251)
Rename DashboardCard `sizeX` and `sizeY` to `size_x` and `size_y`  (#25192)
Enable the shortcut to run the query by default (#25263)
Extract DataSelectorDatabaseSchemaPicker from DataSelector (#25246)
docs -  readme structure (#25177)
Report the ID of the app (not the coll) under [:collection :app_id] (#25237)
Return is_app_page for dashboard bookmarks (#25244)
fix doc-md-links running on all PRs (#25240)
Unit test DataSelectorFieldPicker (#25241)
Revert "Flex data selector trigger wrapping (#25131)" (#25167)
fix deadlinks in docs (#25239)
Extract TablePicker from DataSelector (#25217)
Removed redundant check on searchable parameter fields (#24991)
Support data app bookmarks (#25174)
Viz Card Settings in popups (#25125)
Extract FieldPicker from DataSelector (#25162)
Handle env settings in batch form (#25067)
pie chart tweaks (#25202)
Upstream the compressed images from the docs
Return app collections as apps, page dashboards as pages (#25194)
Send show_values key to static-viz js (#25116)
[E2E] Refactor repro for #21597 (#25193)
[E2E] Handle #17450 failures (#25179)
Format Pie Chart Legend Labels as Month, YYYY (#24890)
add a preferred colors for cancelled (#25182)
Pie chart labels (#25009)
Extract DataSelectorLoading from DataSelector component (#25107)
Report page dashboard activities with model "page" (#25158)
Handle tables that were hidden during the initial sync (#25061)
Really use the alternate names for the release container
docs - public link update (#25159)
[E2E] Skip test that manually adds H2 database (#25160)
Serdes v2: Order the YAML keys alphabetically (#25021)
Add `serdes-descendants` for "containment" to serialize a subtree (#25017)
Hydrate app_id on collections in the search endpoint (#25118)
Hydrate app ID on app collection bookmarks (#25024)
Prevent moving Apps away from the root collection (#25103)
[E2E] Skip adding another H2 database to avoid failures in CI (#25150)
Remove `ActionsLinkingControl` (#25133)
Move writeback types to `metabase-types` (#25138)
Remove sort-by first from combo chart rendering (#25040)
fix backports auto-approve (#25137)
add find-replace search box to the native query editor (#25093)
run 24966 spec on ee only (#25134)
Convert `ClickBehaviorSidebar` to TypeScript (#25090)
Refactor `ClickBehaviorSidebar` components (#25089)
Flex data selector trigger wrapping (#25131)
Remove `redux-logger` (#25084)
Extract `ClickBehaviorSidebar` components (#25088)
Move `ClickBehaviorSidebar` to its own directory
redirect to new action on create (#25122)
Show data point values on static viz (followed-up PR) (#24938)
Expand dev docs for E2E tests running against EE version (#25114)
[Apps] Hydrate action on dashcards (#25110)
docs - embedding (#24996)
Use the `Questions` entity to fetch cards/questions for the query builder (#25102)
Action Creator 1: Action Creation (#24997)
Break down dashboard actions into a few files (#25092)
Make the Between filter easier to use and understand (#25033)
[Apps] Hydrate action_id on is_write Card (#25075)
Uninstall `d3-array` (#25094)
Remove `devDependencies` from `dependencies` (#25083)
Uninstall `regexp.escape` (#25085)
Automatically pick data app homepage (#25081)
update link to package.json (#25100)
update link (#25098)
Add dashboard layout visual tests (#24971)
[E2E] Cross-version individual artifacts (#25072)
docs - update syncs and scans (#25047)
docs -markdown linter (#25063)
Updating remaining Funnel Viz Settings style changes (#25035)
Update dev guide for E2E tests running on M1 (#25069)
Introduce data app pages (#25029)
[App] Raise card visualization_settings onto actions (#25043)
Pivot tables conditional formatting (#25059)
Simplify DimensionList component (#25041)
Improve AggregationPopover component (#25053)
Make sandboxing middleware recursive (#25012)
Data app settings form (#25028)
Repro #25031: Embedding Dashboard with Locked parameters does not allow numeric values (#25032)
Revert "Pivot table conditional formatting (#24930)" (#25055)
Remove redirectToNewQuestionFlow (#24998)
correct frontmatter (#25044)
adjust navbar padding (#25034)
docs - update links (#25036)
Change Funnel subtitle to display metric rather than dimension (#25018)
Pivot table conditional formatting (#24930)
Data app navigation (#25010)
docs - update models (#25023)
Lift max results limit for cached models and questions (#24970)
[App] Add action_id to dashcard and endpoint for execution (#25001)
24840 reordering funnel charts (#24948)
Create collection together with the app (#24961)
Support marking dashboards as app pages (#24990)
Always create new items in the current collection (#24986)
Sort collection entity file imports (#24972)
Distinguish data app collections from regular ones (#24975)
[E2E] PoC for cross-version testing (#24617)
fix link (#24989)
closes #24982 (#24983)
docs - links (#24946)
[E2E] Replace occurrences of hard coded user names in tests (#24962)
Remove unused args from function calls (#24874)
Introduce data apps and implement basic "New App" flow (#24944)
[E2E] Obtain the current user rather than hard coding it (#24959)
[Actions] disallow is_write outside of actions api (#24712)
[Toucan 2 Prep] Replace the `IObjectPermissions` protocol with multimethods (#24917)
Use alternative image names for released container
Hydrate app_id for collections with apps attached (#24950)
BE fix for 23505: Models should not allow variables (#24902)
Add new sample Analytic Events and Feedback tables (#24921)
Show data point values on static viz (#24813)
fix backport shows generic error when conflicts (#24928)
[Toucan 2 Prep] Don't use `<Model>Instance` classes (#24916)
[E2E] Replace non-existing ENV `ENTERPRISE_TOKEN` (#24931)
[Toucan 2 prep] Dont call type on models (#24915)
[Apps] Data apps initial migration and endpoints (#24881)
Consolidate E2E tests with nested questions (#24888)
[Toucan 2 prep] Don't invoke Toucan models as functions (#24913)
Updating colum list styling, small text changes (#24867)
Remove commented out code (#24924)
Show all "details-only" columns in the metadata tab of the DatasetEditor (#24882)
Add serdes v2 for FieldValues, which were previously excluded (#24855)
Remove unused functions from Field and Table libs (#24871)
Add new Accounts and Invoices tables to Sample database (#24830)
fix redirect (#24907)
Add --data-model-only option to v2 serialization (#24876)
doc updates (#24901)
Backport Writeback branch (#24827)
Set default engine in admin database forms to postgres (#24826)
docs - more restructuring (#24887)
fix static viz waterfall colors (#24852)
static viz measure text (#24818)
Display the original field name when editing model column metadata (#24848)
docs - more restructuring (#24856)
Remove HTTP action editor (#24849)
Remove unstable writeback FE code (#24846)
[E2E] Consolidate question [WIP] (#24733)
Consolidate query/http action helpers (#24844)
Remove namespace checker linter (#24752)
docs - update google saml (#24829)
[E2E] Replace hard coded sample database IDs (#24833)
Flamber: Docs update envvars (#24828)
Preserve metadata visibility-type (#24754)
default dev env for non-BE is `clj -M:run` which misses our bootstrap (#24750)
Remove chart rendering throttle with the app sidebar animation (#24739)
docs  - questions (#24765)
docs - isnull and isempty (#24747)
Enable Kondo for tests part 2: enable `:unused-binding` linter and fix warnings (#24748)
Enable Kondo for tests (part 1) (#24736)
Refactor Filter Popover to functional component (#24729)
fix reset password flow (#24731)
Replace redux-form in reference forms (#24722)
Retrieve field metadata from cached card object when a dimension has a virtual card table (#24645)
[Actions] Add emitter-usages hydration (#24640)
Apply main args from bootstrap (#24730)
Enable clj-kondo for driver namespaces (#24728)
remove autocomplete match style setting ui (#24723)
Convert EntityMenuTrigger to TypeScript (#24710)
Replace redux-form in MetricDetail form (#24713)
[Actions] Simplify emitter schema model (#24570)
Sql autocomplete options (#24693)
[E2E] consolidate joins (#24707)
Replace redux-form in Metric and Segment forms (#24682)
bump postgres to 42.4.1 (#24704)
Add types to Pulse lib (#24692)
fixing button variant mapping for dashcard parameter filters (#24688)
docs - embed restructure (#24702)
Unit test lib/formatting/colors.ts (#24665)
Referencing snippet in native query for mongoDB (#24656)
Formatting for basic relative date parameters in markdown cards (#24232)
updating question parameters on mobile (#24267)
Properly Display Remapped Categories in Bulk Filter Modal (#24685)
docs - link updates (#24684)
Convert link formatting lib to TypeScript. (#24674)
allow column filters for remapped model columns (#24622)
Don't hardcode the `localhost` serving for Webpack bundles (#24454)
fix editing filter updates wrong filter (#24677)
Allow decimal settings values (#24676)
fixing dashboard sticky params when embedded (#24669)
docs - databases directory (#24663)
Convert parameter operators utils to TypeScript (#24605)
Update parameter-id util to TypeScript (#24601)
Convert parameter field utils to TypeScript (#24600)
Forms Refactoring 7 — Migrate remaining forms to FormikForm (#24465)
top_nav (#24658)
Forms Refactoring 6 — Add proper TypeScript support to FormikForm (#24464)
Forms Refactoring 5 — Isolate legacy form types (#24463)
Forms Refactoring 4 — Migrate entity forms to FormikForm (#24462)
Forms Refactoring 3 — Implement FormikForm container (#24461)
Forms Refactoring 2 — Extract shared utils (#24460)
Forms Refactoring 1 — Clean up types (#24458)
Add types to date formatting lib (#24646)
Add deprecation warning to types namespace (#24638)
Bump shadow-cljs to 2.19.6 (#24647)
Bump postgres to 42.3.6 (#24644)
Bump Mariadb driver to 2.7.6 (#24643)
Updating Structured Query BreakoutOptions to use dimensions rather than fields
Add confirmation modal and input modal description for custom actions (#24598)
show browse data button when iframed (#24632)
docs -  dashboards (#24468)
Add generic with-action for action tests (#24418)
Move writeback migrations to 45 (#24614)
docs - update models (#24623)
Break down formatting lib and add TypeScript (#24544)
Adding timeout to missing action on workflow (#24554)
docs - update "can't view or edit" troubleshooting (#24615)
Set timezone when truncating dates (#24247)
Enforcing Filter Widget Lables be present (#24576)
Recursively nest expressions (#24404)
Add Support for Case-insensitive `contains` dashboard filters (#24582)
Serdes v2: Portable `:visualization_settings` fields on (dash)cards. (#24606)
docs - update ssl (#24599)
docs - enabling caching (#24577)
Support click behavior in Gauge and Progress visualizations (#24588)
use leading debounce for visualizations (#24591)
Ensure to use original query not persisted query when converting (#24580)
fix incorrectly log metadata timed-out when it actually not (#24586)
Convert parameter target utils to TypeScript (#24571)
Convert metabase/parameters/utils/ui to TypeScript (#24566)
Don't run mapping logic that expects a `dataset_query` when there isn't one (#24536)
Migrate text-brand-hover to JS colors (#24548)
docs - case (#24444)
Set `CookieSpecs/STANDARD` on HttpClient for Snowplow (#24579)
Use `linux/amd64` as platform for Temurin images (#24574)
docs -  cache update (#24573)
22831 fix (group-by time bucketing on replacements for json aliases) (#24545)
Get back missing `updateQuestion` option (#24532)
Reload metadata after saving a question or model (#24520)
docs - model caching (#24560)
Serdes v2: Handle other embedded MBQL fragments (#24537)
Avoid using lookaround in regex during optional block parsing (#24559)
bump apache hive 3.1.3 (#24542)
Remove deprecated friend library (#24543)
update translations for x.44 (#24553)
Properly reference repro for #8030 (#24556)
Repro #24500: Corrupted dashboard filter makes it impossible to view the question (#24502)
docs - 44 updates (#24540)
Migrate bg-brand-hover to JS colors (#24427)
Handle flakiness with geojson java.net.UnknownHostException errors (#24523)
fix modal header typo (#24539)
bump snowflake (#24480)
[E2E] Consolidate `dashboard-filters` tests (#24472)
Serdes v2: Handle `Card.dataset_query`, an embedded MBQL snippet (#24356)
Change button label (#24531)
Bulk filter Modal: Make search visible (#24526)
even tighter bulk filter modal spacing (#24521)
exception for none and block (#24475)
revert docs (#24511)
open urls with the site-url origin in the same tab (#24489)
Optional blocks in Markdown cards (#24491)
exclude archived collections from navbar api call (#24507)
Enforce bigint for all int fields derived from JSON instead of doing more complete refactor (#24494)
Include supported versions in the help message (#24419)
reverts the ability to connect public dashboards and questions in the click behavior (#24496)
[E2E] Consolidate dashboard filters on nested questions (#24457)
Show "Starting from" filters only when expressions are supported (#24487)
Replace moment with moment-timezone in remaining files (#24434)
Bulk Filter Modal: New Field Layout (#24492)
move table nav to the side (#24493)
Create Large Category Picker (#24378)
Bump jetty-server to 9.4.48.v20220622 (#24482)
Update deps (#24485)
Bump SSHd lib -> 2.9.0 [master] (#24477)
dont show suggestions on token removal (#24442)
Properly format date-time property for snowplow events (#24436)
Support various column origins in List viz (#24398)
align prefix container (#24448)
Dont tokenize single input values (#24367)
get table name from a non-expression column (#24439)
Back to light input borders (#24435)
[E2E] Optimize `dashboard-filters/parameters` spec (#24449)
dont use error state for remove button hover (#24362)
[E2E] Optimize looping logic in tests for dashboard location filters (#24433)
Add pluralization support to backend i18n system (#24248)
[CI] Conditionally run frontend checks in GHA (#24430)
Extract TokenFieldItem component (#24377)
[E2E] Optimize looping logic in tests for dashboard text/category filters (#24428)
Convert time lib to TypeScript (#24406)
remove fuzzing empty workflow because we will make it optional (#24409)
Pass height in fit mode when embedded (#24391)
Substitute locked params on embedded dashboards into text cards on the backend (#24373)
Multi release jar again (#24366)
fix percy workflow if condition (#24417)
[E2E] Optimize looping logic in tests for dashboard number filters (#24411)
[E2E] One more attempt in fixing the #18512 joins flake (#24401)
[CI] Run backend checks in GHA conditionally (#24397)
fix changing join operator without dimensions selected (#24403)
[Actions] Add validations to action endpoints (#24286)
Cutoff instead of null out nested field column set if there are too many (#24336)
[E2E] Optimize looping logic in tests for dashboard date filters (#24262)
Remove deprecated function formatDay (#24384)
don't use list icon for fields (#24379)
fix purple border on blue button in filterPopover (#24374)
docs - notes on block permission (#24277)
Remove deprecated function formatHourAMPM (#24383)
Update bookmark icon when switching from question to model and back (#24376)
Do now show "Our analytics" in breadcrumbs if the user doesn't have access to it (#24354)
add dummy workflow clones to make originals required (#24361)
Duplicate question button missing, when question is in a view-only collection (#24309)
Update List visualization look (#24272)
Update default text filter operator (#24328)
lighter styling for selects in bulkFilterModal (#24365)
change segment select text (#24368)
readonly check for Adhoc Question title click (#24345)
fix calculating labels for stacked charts (#24324)
Downgrade graal to prevent multi-release issues (#24357)
update API docs (#24348)
Reverts param in snippets (#24298)
Ensure uploaded secrets are stable (#24325)
Do not offer to save questions to view-only collections (#24307)
adjust modal padding and width (#24322)
Hot fix for the some enterprise api docs (#24295)
docs - okta (#24279)
do not assign automerge label on the backported PRs (#24339)
automerge backported prs (#24219)
Mysql filters for JSON columns which are heterogeneous (#24214) (#24268)
Update bookmark name when its collection name has been updated (#24314)
Update bookmark name when its dashboard name has been updated (#24312)
Update bookmark name when its question name has been updated (#24308)
Preserve false as default value in case clauses (#24274)
Deflake the Serdes v2 e2e test by ensuring generated inputs are unique (#24320)
Models update name bug (#24280)
fix http actions param shape (#24318)
Add a tooltip for disabled menu items in collections (#24265)
Remove zombie `Dependency` model code (#24287)
Smarter hashing for Advanced FieldValues (#24096)
Set a timeout for `isValidTimeout` (#24289)
Migrate accent2 to JS colors (#24215)
Do not overwrite non-main accent colors when generating chart colors (#24256)
Bulk filter responsive text sizes and spacing (#24173)
Migrate accent1 to JS colors (#24220)
Remove repro for #21695 because it is a feature request (#24300)
Unskip repro for #20809 (#24275)
Add a check to PUT /user/:id to disallow name edits if an SSO user (#23752)
Revert "turn on *warn-on-reflection* by default in dev env (#24270)" (#24276)
Remove unreachable QB editing mode feature code (#24261)
[Actions] Add emitter and action tests (#24199)
turn on *warn-on-reflection* by default in dev env (#24270)
Ignore fields in joins when hoisting joined fields (#24167)
Serdes v2: Add `--v2 true` flag to the `dump` and `load` commands (#24230)
show date empty and not empty (#24240)
Do not show preview settings for pinned models in collections (#24258)
Extract popover content in RelativeDatePicker component (#24218)
docs - update coalesce (#24241)
Convert to TypeScript (#24143)
Dashboard add-question sidebar is limited to showing 50 questions per collection (#24086)
Remove unreachable "SQL preview mode" feature code from QB (#24257)
Add TagEditorParam unit tests (#24196)
Refactor QB `updateQuestion` action (#24142)
Extract, test and refactor periodPopoverText function (#24193)
Add tests for `updateQuestion` action (#24141)
Move QB `updateQuestion` and shared utils to their own files (#24140)
Support uploading keystore and truststore for presto (#23821)
Enable private key authentication for Snowflake (#24157)
Move Props to top (#24217)
🚚 Move filter popover files to their own subdirectory (#24152)
docs - coalesce (#24224)
Readme for pot backend [ci skip] (#24233)
Disable object detail in notebook preview (#24195)
24213 archive page render items (#24227)
Handle snippets when determining if a query is fully parametrized (#24069)
Update entities -> questions on question moderation update (#24181)
Writeback FE bug fix (#24222)
🧪 Add datepicker unit tests (#24148)
Add bulk update and bulk delete (#24139)
Serdes v2 for Pulse, PulseCard, PulseChannel (#24200)
fix percy flakiness (#23837)
fix incorrect value is used for the bubble size domain (#24099)
Migrate accent7 to JS colors (#24058)
HTTP Actions CRUD interface and execution (#24151)
revert card param validation changes (#24190)
Add entity_id columns to PulseCard, PulseChannel (#24176)
Remove export from component not used out of module (#24189)
Extract CurrentPicker date component (#24192)
White background in pivot tables (#23624)
🗑️ Remove filter sidebar completely (#24164)
Remove unused function (#24158)
Extend the be-tests-mysql-latest-ee timeout to 30m (#24194)
Models should not allow variables (#24089)
Obey `start_of_week` day setting in filter label (#24161)
Serdes v2 for Segments (#24146)
Keyboard focus switches from parameter input to SQL editor automatically after re-running query (#23880)
[E2E] Try out Cypress esbuild preprocessor (#24111)
Include markdown parameters in dashboard subscriptions (#24070)
Add has_more_values to chain filter endpoints (#23985)
Serdes v2 for Timeline and TimelineEvent (#24122)
Refactor `backend.js` #5 - Simplify the main logic (#24119)
Simplify setting of const (#24107)
Simplify conditional (#24108)
Remove Mongo SSL private key password parameter (#24123)
Delete commented out code (#24118)
Remove `u/key-by` (#24131)
Implement `:bulk/update` Action (backend) (#24036)
adjust font size on scalar cards (#24028)
Refactor `backend.js` #4 - Run Cypress against already existing app db (#24098)
Update scanning process details (#24105)
Filters with relative date filters are not formatted properly (#23882)
docs - port note (#24074)
docs - note on viewing alerts (#24102)
Migrate accent4 to JS colors (#24004)
Remove Horizontal Scroll From Picker Components (#24081)
Refactor `backend.js` #3 - legibility (#24084)
List item styling tweaks (#24068)
fix suggesting read-only root as a parent collection (#24066)
bump e2e specs timeout from 35 to 45 minutes (#24092)
Refactor `backend.js` #2 - remove unused code (#24062)
lighthouse (#24073)
Disable erroring json filters (#23872)
update relative date mapping (#23824)
Remove unused `refresh-integration-test-data-metadata` command (#24075)
Closing all Dashboard sidebars when entering/exiting edit mode (#24067)
Update env variables (#24061)
Style cleanup and refactoring of serdes v2 (#23978)
Update copy (#24063)
Move ddl namespaces under driver package (#23974)
Bulk delete action (#24009)
fix xlsx month bucketing regression (#24026)
[E2E]  Obtain version for Cypress runner synchronously (#24065)
add step to fetch master docs on release (#23611)
Allow operator changes on category fields (#24032)
Upgrade List viz UI (#24011)
Migrate NativeQueryBuilder and ExpressionEditor to JS colors (#23996)
Hide data app ID filters when viewing an app page (#24051)
Hide automatic datetime fields from writeback form (#24050)
prioritize date picker over list category picker (#24033)
Add snowplow tracking for new records on TaskHistory (#23893)
Migrate accent3 to JS colors (#24002)
Refactor `backend.js` #1 - remove `fs-promise` (#24034)
Visualization: Bar chart not showing 0 values unlike line and area chart (#23626)
update modal header (#24001)
docs - update permissions troubleshooting (#23937)
[Actions] POST /api/action and PUT /api/action seem busted (#23965)
Retain source alias for aggregates (#23771)
Remove google socket factory (#23976)
Check email test errors for javax.mail.AuthenticationFailedException (#23921)
Handle email password obfuscation (#23925)
Async card metadata (#23672)
Add isDisabled check to queston title and description (#23971)
[E2E] Generate Mochawesome reports from within a Cypress runner (#23972)
Fetch all columns for List visualization (#23902)
Remove writeback changes from QB (#23963)
Tiny i18n fix (#23997)
Make collection dashboard question buttons consistent (#23967)
Restyle EntityMenu (#23991)
note on GitHub raw links (#24000)
Store linked-filter fieldvalues (#23699)
Blurring EditableText component on Esc (#23956)
[TEMP] Skip breaking tests caused by #23887 to unblock `master` [ci skip] (#23993)
fix inconsistent dashboard action buttons hover effects (#23833)
fix redirect url after login (#23973)
Remove color-related settings migration for 0.45 (#23909)
Refactor CSS night mode variables (#23958)
Implement `:bulk/create` action for SQL JDBC. Tons of bug fixes (#23878)
Update email-to test with from from-name setting (#23944)
update workflows (#23969)
standardize input border radii to 8px (#23840)
Serdes v2 for Native Query Snippets (#23961)
Bulk Filter Modal v3 (#23911)
Repro #23862: Group by custom column fails in nested questions (#23888)
Repro #23076: Frontend incorrectly substitutes datetime field incorrect in Pivot Table (#23905)
Add Inter font (#23949)
Add a widget for the illustration setting (#23914)
Run prettier
Session activity timeout (#23349)
Actions multimethod refactor. (#23922)
Remove `u/optional` (#23877)
Remove unused data-test-id attr (#23910)
Remove `u/optional` (#23877)
AppBarRightContainer justify-content to end (#23912)
Add safe-guard for existing http actions
Revert "Create HTTP Actions (#23755)"
Update question name on duplicate (#23907)
Serdes v2 for Metrics (#23868)
Post-merge fixes
Ensure currency symbols are shown in table data if settings say so (#23874)
Migrate whitelabel settings that were dependent on custom colors (#23890)
Handle archived and models reverted to regular questions (#23738)
Small FE writeback bug fix (#23897)
Parametrize data app title (#23896)
docs - note on hosting GitHub fonts (#23899)
Serdes v2 for Dimension, plus refactoring (#23842)
using flex to layout app header and app content (#23867)
Repro #23449: Models fail on fields with custom remapped values (#23891)
Repro #22230: Unable to properly filter on an aggregation (max of) (#23869)
Make metabot setting do not depend on custom colors (#23864)
Deal with SAML responses having whitespace (#23451) (#23633)
BE: adds support for parameters in snippet (#23658)
Create HTTP Actions (#23755)
Log bad token only once every five minutes (#23831)
First pass at parameters in Markdown cards (#23641)
Field Search in Bulk Filter Modal (#23813)
Remove `update_collection_tree_authority_level` from PUT collection/:id (#23718)
Mobile View Info Panel (#23850)
docs - embed params (#23844)
Show lighthouse illustration toggle (#23860)
Bulk Filter Layout v2 (#23746)
Handle field values endpoint has_more_values state (#23709)
Handle errors when turning model caching on/off (#23832)
bastion note (#23855)
Port fixes for Postgresql JSON issues to MySQL (#23758)
Add ignore_view parameter to GET /api/card/:id endpoint and use it in audit log (#23847)
Refactor the YAML storage tests into separate storage, ingest, e2e parts (#23835)
add stroke in text label (#23788)
Added padding below the last cards on the dashboard (#23789)
The new date filter popover overflows browser viewport (#23790)
Serialization for Dashboard, Dashboard Cards (#23804)
Add func as propType to "reload" (#23834)
mobile view for questions (#23827)
Remove propTypes from WidgetStatusIcon (#23836)
Dashboard Mobile View (#23814)
App bar border adjustment and dashboard alignment (#23810)
[E2E] Skip question verification test conditionally (#23829)
Serdes v2 for Cards (#23803)
docs - join operators and bulk filter modal (#23799)
Add StringInputWidget component (#23419)
fix excluding empty or non-empty date values (#23828)
Adding Exasol as a partner driver (#23800)
Add toast after moving questions and models (#23756)
22732 rework (#23722)
fix infinite dashboard resize loop when scroll bars appear (#23798)
Add serialization hierarchy, serialize Database, Table and Field (#23622)
Update Firebolt driver instructions link (#23791)
Update model cache refresh scheduling control (#23696)
docs - appearance (#23644)
load data reference metadata when it is not cached already (#23775)
Update model caching schedule API (#23734)
Disallow`is_write` cards in dashboards alerts etc (#23747)
Updating dashboard info panel styling (#23773)
Editing dashboard title in edit mode (#23770)
Update Filter Input Colors (#23740)
Add question last cached time info (#23787)
Show caching controls only for questions (#23784)
Add more tests for [Epic] Better communicate embedding options in Admin settings (#23498) (#23726)
Make admin settings paths prettier (#23781)
Change the description of the font files setting (#23783)
Repro #20133: Recents list should not return archived items (#23774)
Run repro #22695 only against EE version (#23782)
Repro #22695: Databases with no permission are still shown as search results (#23772)
change column selection icon (#23764)
Include a link to cloud ip address docs in database admin screen (#23767)
LDAP now also properly allows `nil` in names. (#23716)
YAML files for serialization (#23491)
[E2E] Robustify and fix question moderation tests (#23769)
Updating Model title (#23763)
Add plain date type for date picker (#23668)
json note (#23568)
Add tooltip to verify icon for questions (#23761)
Make the question lineage be visible when the sidebar is opened (#23762)
[E2E] Do not run `@quarantine` tagged tests on PRs (#23749)
category format updates (#23745)
fix parameter input loses value (#23750)
allow links in the banner content (#23619)
Version bump saml20 library, which has a fix, add a test to verify (#23714)
Actions test util refactor. Add tests for `GET /api/action` and `GET /api/action/:id` endpoints (#23744)
add validchecksum:any to some migrations I change in #23723 (#23741)
Update Prettier to v2.7.1 (#23737)
hide filter button on small screens (#23717)
Adding Tooltip to Entity Action Menu (#23733)
Upating popover with option to ignore events on trigger element (#23730)
Update some migrations added in 44 to make sure we don't break downgrade ability (#23723)
Changing Query Builder Action to use Entity Menu (#23683)
docs - settings gear and images (#23705)
docs - embedding options (#23648)
Have DashboardStyled use all available screen space (#23708)
Use the brand color for the first generated chart color when there are no custom colors (#23721)
Remove Duplicate Date Shortcut Options (#23646)
bugfix: handle field values lists with no values (#23669)
preserve filter options on change (#23671)
Revert "Add API to fetch and search card parameters values (#23102)" (#23706)
Select collections for selected questions, models, and dashboards in the sidebar (#23725)
Cleanup collection breadcrumbs (#23727)
Repro #23689: Sandboxed group managers can't see other users in the People tab #23689 (#23710)
Handle obligatory parameters without default value (#23691)
Add tests for Improve handling for user name null cases and syncs (#23700)
Button to get rid of spinners (#20863) (#23488)
Add test for user endpoint when user is a sandboxed group manager (#23653)
Spacing and sizing tweaks to question info sidebar (#23666)
Modal tab styling updates (#23620)
Add a way to use a custom font in signed embedding widgets (#23697)
Types for before and after updated (#23701)
Add custom font settings (#23659)
Increase auto-list-cardinality-threshold to 1000 (#23403)
Convert `utils` to TypeScript (#23566)
Prevent closing parens with non-matching paren type (#23690)
Store Sandboxed FieldValues (#23435)
Misc embedding fixes and polishing (#23681)
Update model caching DB control (#23592)
docs - update sso (#23618)
Persist refresh failure email to all admins (#22684)
Close info panel when question is unsaved (#23639)
Show "account disabled" message in readable place when user logging in has been deactivated (#23667)
Parametrize markdown cards in data apps (#23533)
Allow converting saved native question into an action (#23538)
Improve invitation email when SSO is active (#23631)
Add collection and appbar tests (#23614)
removing unneeded actions / modals (#23608)
Return settings to top nav (#23509)
Revert "Replace `babel` presets with `esbuild-loader`  (#22409)" (#23679)
tweaks to collection actions (#23670)
Polish on the Appearance page's color settings (#23673)
Test question that is archived because the collection it is in has been archived (#23650)
Test archived question page is correct (#23647)
Honor dashcard settings in static viz (#23617)
Use `/api/action` (singular) endpoints
skip flaky date test (#23660)
clean up revision history and add a tooltip (#23654)
add border-radius to editable text (#23652)
Better communicate embedding milestone 2 (#23571)
Add `mochawesome` report to Cypress (#23603)
Various fixes to http_action from demo (#23642)
fix numeric filter tests (#23643)
Support enum types in schemas not on the search_path (#23599)
Treat "" as ObjectId value equivalent to nil (#23580)
Handle Number Filters Inline in Bulk Filter Modal (#23582)
Hide filter sidebar button (#23546)
Improve job naming for E2E tests on PRs (#23632)
Unskip repro for #18021 and consolidate `recently-viewed` spec (#23615)
Repro #21984: Viewing tables in Data Model is registered in "Recently viewed" (#23610)
fix the path for the calendar icon (#23621)
Better communicate embedding milestone 1 (#23514)
update unit test for new hour format (#23623)
handle non = category filters (#23597)
Change hour-of-day exclude units to integers, not time with time zones (#23500)
Writeback http action execution (#23598)
docs - more link updates (#23612)
Hide collection path for unsaved questions (#23606)
docs - add links to security page (#23607)
Repro #22727: Do not offer to save questions to view-only collections (#23602)
Add collections breadcrumbs and question lineage to mobile appbar (#23595)
docs - troubleshooting data sources (#23579)
Dashboard Info Panel (#23590)
Replace `babel` presets with `esbuild-loader`  (#22409)
Update images in instance loading page (#23589)
fix: package.json & yarn.lock to reduce vulnerabilities (#23556)
Update and create crud actions work with more types + improved one-ness checking (#23530)
Add repro for #20809 (#23593)
Better Handle Filter Operators in FieldValuesPicker (#23520)
Allow additional join conditions in the query editor (#23578)
remove purple styling from checkboxes (#23583)
[E2E] Replace hard coded field IDs (#23587)
Pass manual static viz colors to frontend (#23570)
Hide download button visibility toggle on Pro/EE dashboard sharing (#23561)
Move question lineage to AppBar (#23576)
Make new color palette colors always hex (#23572)
handle null categories in picker (#23577)
Relax the version restriction for Node.js (#23575)
Add ddl persistence support for mysql (#23443)
Dashboard edit title inline (#23565)
Refactor AppBar (#23569)
[CI] Use `actions/checkout@v3` in all workflows (#23559)
adjust date filter styling (#23547)
Bring back `static-viz` to CircleCI (#23567)
Add E2E tests for showing/hiding visualizations for pinned questions (#23465)
Remove all remaining E2E and frontend bits from CCI (#23553)
Remove collection edit form (#23537)
Repro #23421: `visualization_settings` can break UI (#23562)
[CI] Increase `be-tests-java` timeout (#23558)
Removed QuestionResult (#23503)
Convert ValidationError to TypeScript (#23506)
Add `has_more_values` flag to fieldvalues (#23200)
Offer transparent background in embedding (#23482)
Ignore all unit tests in E2E workflows (#23550)
Remove diff logic from Percy job on `master` (#23551)
Run Percy inside E2E main workflow (#23480)
docs - troubleshooting models (#23544)
Removing cancel on concurrency (#23536)
Updating Dashboard Action Menu, Moving bookmark action (#23528)
Make collections official via menu (#23535)
Respect DB management permission for model caching (#23507)
Move model cache section back to OSS (#23485)
Join slack channels with slack-id (#23495)
docs - known issues (#23522)
fix tooltip overflow (#23475)
Add ISO-8601 coercion support for BigQuery (#23521)
Refactor and tests template tags extractions (#23524)
Add inline collection name and description editing (#23518)
Bulk Filter Modal: Show autocomplete options in popover (#23516)
[E2E] Remove filters and onboarding checks from CCI (#23517)
Specify table for id column (#23525)
application-colors have new keys that may be added via the getter (#23493)
Native query: construct `parameters[]` when necessary (#23210)
Inline Date Filters (#23464)
Stop caching /api/geojson/:key requests (#23474)
Adding breadcumbs for Dashboards (#23489)
Writeback add http action (#23473)
Foundation for v2 serialization and deserialization (#23204)
Move EditableText to core components (#23508)
Rework collection header actions (#23484)
Better filter validity check (#23492)
Enterprise settings (#23441)
Unit tests for getTemplateTagsForParameters (#23496)
Hide password + user form fields when logged in via JWT and SAML (#23476)
Make schema for parameters and parameter_mappings on card more strict (#23456)
Remove panning of choropleth (#23454)
Configure show download button in embedding (#23479)
Add has_required_parameters flag for cards in collection queries (#23486)
Save on AdHoc Question Title Click (#23470)
Removing Question Edit Modal and adding tests (#23472)
Small fixes for custom query actions FE (#23468)
Inline key + text filters (#23374)
update jar link (#23006)
Inline Category Picker (#23341)
Grant readwrite to root snippets for all users (#21940)
Upgrade Typescript to 4.7 (#23147)
Add collection_preview field to report_card table (#23467)
Add troubleshooting for node version (#23400)
Add reply-to and from-name email settings (#23381)
Update parameter validation on cards to support notebook cards (#23208)
Resized Icons and removed unneeded viewBox attrs (#23391)
[E2E] Remove smoketests (#23469)
[E2E] Remove `admin_setup` spec from smoke tests (#23458)
[E2E] Remove `admin` spec from smoke tests (#23463)
Refactor pinned items e2e tests (#23462)
Refactor `metabase-enterprise.serialization` tests to share helpers
show non table names (#23216)
add metabot animation (#23448)
[E2E] Remove `user` spec from smoke tests (#23460)
Remove background color for dropzones (#23459)
Add dashboard section title (#23457)
Update Question name inline (#23330)
fixes flaky visual tests (#23370)
Prevent SSO users from editing their info (#23332)
Add title to NumberInputWidget (#23418)
update slack integration copy (#23433)
[E2E] Experiment running `filters` test group as PR check (#23442)
Add a description icon (#23444)
Cleanup icons and checkboxes in collections (#23413)
Audit Queries fall back to email when first/last names are nil (#23393)
Move pinning items in collection to menu (#23408)
Update collection empty state (#23406)
replace hasOnlyFieldTargets prop with hasVariableTemplateTagTarget (#23345)
Disable parameter popover (#23415)
[E2E] Experiment running `onboarding` test group as PR check (#23438)
[E2E] Remove basic admin setup flow from smoke tests (#23430)
Revert "Do not run backend tests on unrelated changes (#23425)" (#23434)
Do not run backend tests on unrelated changes (#23425)
[E2E] Remove `native-filters` from checks in CCI (#23426)
Disallow `(str ...)` forms for `defsetting` description (#23396)
docs - update email (#23390)
override product voice (#23318)
Fail if Node.js version is not 14 or 16 (#23402)
docs - update encryption (#23388)
docs - update maps (#23389)
fix time filter (#23398)
[E2E] Remove `native` group from checks on CCI (#23405)
Remove extra whitespace in defendpoint (#23350)
Include newly created Emitter in POST /api/emitter response (#23369)
Handle quarters in native queries (#23368)
improved support for Google Cloud SQL (#19302)
Improve clj-kondo linting of with-temp*
Add NumberInputWidget component (#23247)
Refactor card parameter utils (#23063)
Refactor `metabase/parameters/utils/dashboards` functions to be less coupled to Fields (#22964)
Validate required fields in writeback forms (#23387)
Support user-filled parameters for custom actions (#23371)
Return non-zero output from BE i18n on error (#23373)
Make first name and last name optional in user forms (#23327)
Allow Chevron click on select button (#23343)
Simplify pinned questions (#23352)
Test to remove Parameter (#23297)
Prototype custom row actions (Frontend) (#23206)
JSON query in postgres now walks identifier tree if one encountered (fixes #22967) (#23278)
Convert Action to TypeScript (#23299)
JWT shared key can now be any string. Message to suggest 64char key (#23366)
[E2E] Experiment running `native-filters` test group as PR check (#23364)
Writeback crud key specific errors (#23180)
Ensure :error is present for frontend (#23346)
Remove Percy from CircleCi (#23358)
Convert `initializeQB` to TypeScript (#23265)
fix getXValues fails on empty results (#23329)
Run Percy (visual regression) sanity check on PRs using GHA (#23334)
Refactor `initializeQB` action (#23264)
Add unit-tests for `initializeQB` action (#23262)
Upgrade Percy CLI to the latest `v1.3.0` (#23337)
Show disabled menu item to show visualization (#23339)
Update auto-backport.yml (#23340)
Add migration for api-action (#23231)
Make H2 error messages refer to the correct field (#23338)
Add database_required to field metadata (#23213)
Automatic container image on a tagged release (#23274)
Toggle card visualization for pinned collection items (#23317)
Add basic Question mock objects for unit-tests (#23261)
Update sync-fingerprint-scan.md (#23333)
titles and headings (#23331)
Updating icons and spacing (#23315)
Update auto-backport.yml (#23328)
Slider Component Performance Improvements (#23236)
unbounce the checkbox (#23321)
Remove redundant ParameterFieldWidget logic (#23271)
Allow 'null' First and Last names for Users (#23154)
validate current password when changing it (#23302)
Render empty string for null boolean column results
Make Dashboard header responsive to NavBar being open (#23290)
docs - frontmatter (#23272)
[E2E] Remove `collections` group from checks on CCI (#23308)
[E2E] Experiment running `native` test group as PR check (#23309)
[E2E] Remove `organization` and `permissions` checks from CCI (#23307)
parse dataset_query to json (#23207)
Define identity-hash for fairly robust de-duplication when deserializing (#23145)
Add API to fetch and search card parameters values (#23102)
Add pinned card loading states (#23240)
Question and Model Info Panel (#23197)
scan 1000 distinct values for field values (#23138)
[Actions] Execute custom actions endpoint (#23130)
add link to debugging sql syntax article (#22944)
validate common passwords (#23287)
Native query: update parameters upon tags/variables modification (#23269)
sort results to prevent flakiness (#23285)
simplify native query error design (#23244)
Handle null user names (#23111)
fix aggregation custom expression input width (#23280)
fix first row object detail (#23279)
Allow multi-line strings using `str` in translation macros (#22901)
Use big types when we have big JSON contents (whacks #22732) (#23221)
Add pre-wrap to tippy style (#23270)
truncate long columns (#23151)
[E2E] A quick sanity check on template tags handling (#23245)
Force slack channel cache refresh when new token is saved (#23253)
fix custom url click behavior with the same dashboard url (#23237)
Reenable posting Slack subscriptions to private slack channels (#23232)
Hydrate :persisted on Card PUT (#23239)
Adding the Starburst driver repo to docs (#23224)
Save query executions for cached queries (#23228)
Exclude instance not model
Exclude temp models from serialization
restructure dimension filter components (#23199)
Create po template file (pot) from clojure (#23181)
Arrange migrations after merge
Update filter modal tab metrics (#23215)
add :updated-at-timestamped? property and use it on some models (#23220)
Handle time types in render code (#23198)
Support SSL with client auth for Mongo (#22977)
Do not run E2E tests on release branch in CCI (#23209)
Include :features whether or not db is initialized (#23128)
Do trivial identity for passthrough of symbols for nested field column instead of default processing (#23136)
do not offer expore results when a query db does not support nested queries (#23185)
add warnings component tests (#23203)
Run E2E tests on the release branch (on push) (#23193)
remove an errant tap> (whoops) (#23202)
Add starburst in the partner driver list (#23066)
Record Cypress test runs only on master branch (#21299)
Add chart color generation (#23115)
[E2E] Rename the main workflow (#23166)
Run Percy on `master` using the default GH runners (#23178)
Convert mode to typescript (#22915)
Github Actions CI: allow skipping the dependency cache (#23134)
Upgrade Percy CLI to the latest `v1.2.1` (#23179)
Properly decode uploaded Postgres SSL fields (#23176)
docs - update google analytics (#23172)
Allow parameters to target template tags by ID (#23119)
Create a generic parameter formatting function (#22937)
[E2E] Experiment running `collections` test group as PR check (#23169)
Bump google oauth version (#23165)
Have filters be under titles in embedded and public pages (#23153)
Handle deletable state when enabling persistence (#23118)
[E2E] Remove `question` group from checks on CCI (#23164)
Dual Slider Component (#23085)
Bulk Filter Modal: Inline Boolean Filter Input (#23011)
Better FE feedback for CRUD actions (#23148)
Repro #22518: Changing model definition will not show changes until after browser refresh (#23149) [skip ci]
Remove unneeded URIs from content security policy header (#23107)
Add a test to check that all exported models have a portable unique name (#23081)
Prototype data app CRUD actions (#23086)
properly tag strings in dashboard subscription sidebar (#23131)
remove metabot group (#23140)
Prototype List visualization (#23057)
checks that driver var equals :postgres (#23129)
[E2E] Simplify CircleCI Cypress workflow (#23123)
License improvements (#23120)
allow equal or greater starting from units (#23116)
Get params value API returns 400 if param not found (#23035)
Add `parameters` to report_card (#22976)
Add option to turn JSON column unfolding off (boat161) (#22997)
Adjust JWT and SAML fetch-and-update user to save new attributes (#23005)
Remove console log from global styles [ci skip] (#23104)
fix print layout (#23106)
[E2E] Remove `sharing` group from checks on CCI (#23117)
Adding action button to Question Page (#23004)
Update to CodeQL Action v2 (#23113)
Update Cypress to 9.7.0 (#22939)
Repro #22517: Adding/removing columns on an existing model will drop all configured metadata (#23071)
Repro #23024: Not possible to connect dashboard filters to a Model based on SQL (#23089)
Add insert and update API calls to frontend forms (#23032)
Handle new model cache states (#22891)
Add anchor time setting to Admin > Caching (#22839)
Update Google Sign In (#22868)
Add color palette preview (#23084)
Tweak color assignment for 9-16 series (#23078)
fix column settings ignored (#23068)
docs - update sql (#23087)
Add starburst logo asset for frontend client (#22744)
implement GET api/action (#23065)
Simplify FieldValuesWidget fetching/option-handling logic (#22990)
Smart Filter Field Order (#22963)
Add new chart colors (#23052)
Add :entity_id property and use it on all models with entity_id fields (#23067)
[E2E] Experiment running organization and permissions test group as PR check (#22924)
Bump transitive com.google.code.gson/gson (#23069)
Add entity_id columns to serialized tables with external IDs (#22762)
Include field annotations for native queries too (#22962)
fix login form mobile layout (#23046)
fix dashboard parameters tablet layout (#23043)
Migrate card parameter utils to TypeScript (#22965)
Migrate dashboard parameter utils to TypeScript (#22985)
22849 update dashboard and card endpoints to include emitters (#23047)
Alert to typescript (#22832)
Refactor `TableSimple` visualization (#22982)
docs - update saml & sso (#22954)
Repro #22519: Model fails query when columns are using casting in data model (#23048)
Update color range selector (#22999)
[E2E] Experiment running `question` test group as PR check (#23042)
create QueryAction and Action when a card has is_write set (#22935)
Expect a feature flag for model cache controls (#22892)
Skip flaky FE unit test (#23038)
Remove param_values hydration key (#22836)
Use new ColorSelector for single color chart settings (#22974)
Prototype of object view for data apps (#22980)
fix permissions diff shows saved questions (#23010)
[E2E] Experiment running `sharing` test group as PR check (#23015)
[E2E] Remove `embedding` group from checks on CCI (#23014)
Increase E2E job timeout on PRs (#23012)
[E2E] Run OSS-specific tests on PR (#23009)
Docs: avoid redirection, go straight to /start (#23007)
[E2E] Remove `models` check from CCI (#22893)
move booleanPicker to typescript (#22993)
Respect DB `actions` setting on the frontend (#22946)
Add `is_write` field to question create/update forms (#22952)
search keyboard navigation (#22961)
use cljkondo/clj-kondo:2022.04.25 because latest is failing for some reasons (#23001)
Limit of length of row for json parsing (fixes #22636 for most cases) (#22769)
[E2E] Simplify and fix failing repro for #22247 (#22975)
try wrapping scalar titles (#22890)
Do not run E2E tests using CircleCI on `master` (#22986)
Top nav breadcrumb (#22910)
allow filter changes on blur (#22903)
New UI to change the color palette in Admin (#22926)
[Actions] Allow setting `is_write` in Card API endpoints (#22904)
Add Emitter CRUD Endpoints and Models (#22876)
Convert parameter-type utils to TypeScript (#22928)
Expand repro for #22715 with additional scenario (#22955)
docs - update sql & error message landing pages (#22947)
Repro #22788: Filters connected to a custom column lose their settings when editing the dashboard a second time (#22953)
[E2E] Robustify relative date time tests by assertions sync with the UI (#22917)
Repro #22822: Do not offer "Explore results" unless the database supports it (#22948)
Persist model integration changes for front end (#22933)
Indicate field for database error (#22804)
Repro #22929: Circle size not respected on a scatter chart (#22945)
Repro #22715: Model's column identifier is not respected (#22927)
Respect advanced permissions for model persistence (#22860)
Clean up quotes (#22942)
Repros #22859: Multi-level nested questions with joins incorrect column aliasing (#22922)
show permission error for cards with blocked data sources (#22932)
Dashboard converted to TypeScript (#22882)
implements sql jdbc create action (#22761)
Add basic parameter types (#22919)
Support Segments in Bulk Filter Modal (#22899)
Put model refers on their own line in cmd.copy (#22913)
Add anchor time to persistence schedule (#22827)
Remove orphaned bin/check-licenses script (#22925)
Add new parameter fields utils (#22764)
hide back button on the relative date time picker when open from a table column header (#22874)
fix updating field name and description in data model (#22875)
Add `:actions/custom` driver feature flag (#22906)
Improve parameter's date widget components (a few of them) (#22802)
Add extended color pickers (#22880)
[E2E] Remove `dashboard` group from checks on CCI (#22907)
allow google deprecated auth (#22895)
DimensionOptions to typescript (#22811)
Add M1 section to the dev guide (#22900)
Allow for updates through the actions api (first pass) (#22716)
Repro #22872: Pivot Table cannot sort by metric (#22898)
Repro #22768: Cannot view Object Detail of non-numeric IDs (#22894)
Add `Actions` feature toggle to the database settings page (#22613)
Show container counts on README (#22888)
Use GitHub Actions to run back-end tests (#19786)
Put `default-query-constraints` behind a function for setting (#22792)
Handle `nil` cache during initial cache population (#22779)
Add parseFreeFormValue utils (#22679)
Add useMostRecentCall hook (#22718)
allow using public questions and dashboards in click behavior (#22801)
prevent filter modal tab scroll (#22863)
fix usage of invalid value for scatter bubbles (#22866)
Add delete button to object detail modal (#22704)
database cleanup (#22828)
Add types to TokenField (#22675)
Add `:actions` driver feature flag (#22691)
[Actions] Initial migrations for writeback (#22842)
Change permission on GET /api/persist (#22864)
[E2E] Sync pagination tests with the UI changes to prevent failures (#22843)
[E2E] Reduce the chance of failing tests due to slow UI change (#22841)
`defsetting` setter functions should end in `!` (#22800)
Rename useAsyncFunction to useSafeAsyncFunction (#22758)
[E2E] Ensure Groups element is Visible on Admin (#22840)
Improve parameter's TextWidget (#22819)
Allow font selection in embedded widgets (#22809)
rename duplicate tests name in schema_migrations_test (#22770)
[E2E] Experiment running models test group as PR check (#22787)
Remove unused arg in EntityType (#22805)
Add tests for BulkFilterModal (#22808)
remove println (#22818)
docs-user-guides (#22821)
Avoid reading settings namespace-load time (#22793)
dashboard click behavior: fix passing multiple value parameters (#22812)
PUT /api/database/:id can now update Database-local Setting values (#22689)
docs - small update (#22813)
Pod writeback up to delete unreverted (#22789)
bumps outdated deps versions to be current + drop support for java 8 (#22567)
Whitelabelling users font family font setting (#22791)
tag strings in time series chrome (#22797)
Add extra logging for persisted models (#22784)
🍒 Writeback FE changes (#22785)
Prevent do-with-timeout from throwing Throwable return values (#22728)
Revert backend api actions (#22755)
fix click behavior permission error (#22763)
Revert "Add font utilities to derive list of available fonts from font dirs (#22612)" (#22766)
Revert writeback FE changes (#22759)
Persist auto enable (#22756)
Persist model statement_timeout (#22690)
Add remarks to persistence ddl statements (#22757)
URIDecode exported question filenames (#22734)
Add font utilities to derive list of available fonts from font dirs (#22612)
Handle missing parameter `fields` array in ParameterValueWidget (#22656)
Add initial bulk filter modal (#22701)
Upgrade to PostCSS 8.4 (#22670)
Clean up semantics of data model & DB detail editing permission checks (#22505)
Replace deprecated CircleCI image (#19423)
Upgrade Underscore.js to v1.13.3 (#22705)
Improve DateRelativeWidget (#22721)
Support parameter value parsing without a field (#22659)
Translations for x.43.1 (#22724)
Add repro for #22527 (#22719)
Improve DateMonthYearWidget (#22694)
Repro #22700: Custom expression aggregation does not work in metrics (#22713)
Update persist model api permissions for EE (#22601)
Upgrade build-drivers to Clojure 1.11.1 (#22709)
Replace "" with nil for Postgres UUIDs (#22667)
Record startup times (#22707)
SQL JDBC Delete Row Action (#22608)
Don't reschedule syncs on startup (#22680)
docs - break API endpoint groups into pages (#22632)
[E2E] Experiment running embedding test group as PR check (#22439)
Add basic insert/update row form UI (#22642)
Remove the button to open the sidenav for embedding (#22696)
No open redirects for enterprise SSO's (#22622)
Destructible version of `test-data` dataset for testing writeback actions (#22692)
.gitignore: ignore Calva (#22671)
Enable detail view for any row (#22398)
Include EE endpoints in API documentation. (#22688)
Bumps liquibase version (#22594)
Remove the unused, old tree visitor for custom expression (#22660)
Refactor FormField component (#22375)
Limit linked filter to field filter parameters (#22657)
Improve DateMonthYearWidget component (#22652)
Reduce sync query size for expedient amelioration of #22636 (#22662)
do not show restore sample database button to non-admins (#22506)
Clean up CustomForm, extract form types (#22373)
Make parameter mbql conversion code a little more generic (#22658)
Remove `redux-form` from collection create/edit forms (#22586)
Upgrade Cypress to `v9.6.1` (#22664)
Remove `redux-form` from setup (#22585)
Start task scheduler at end of startup. (#22649)
Exclude storybook (*.stories) from coverage collection (#22661)
Use native `Array.isArray` to check for array type (#22653)
MySQL JSON (22174) (#22175)
Tweak bulk action bar height (#22617)
Add test for embedding Metabase with locale parameter (#22618)
Do not render value for null-related conditional formattings (#22627)
Typo fix (#22604)
Make persisted models use "create table as" (#22640)
separate out some pure functions that live on FieldValuesWidget (#22599)
Add propTypes to TokenField (#22611)
Make sidebar white (#22615)
Remove `memoize` decorator (#22610)
Double check state in persisted model jobs (#22565)
Only apply persistence substitution when there's no sandboxing (#22501)
Don’t enable Add Group button with string of white space as a group name (#22576)
fix embedded dashboard is not being updated after changing params (#22635)
Improve YearPicker component (#22603)
Add embedding options for questions and dashboards (#22598)
Verify active database for `GET api/health` (#22606)
Moving E2E from BuildJet to GHA (#22597)
turn on logging in quartz to watch for connection allocation (#22607)
Remove unused nav color constant (#22602)
Update and persist document title when cancelling query run (#22541)
Add `experimental-enable-actions` flag to FE (#22590)
Remove `redux-form` from `DatabaseEditApp` (#22583)
fix invalid unit on dashboard relative date time filters (#22596)
Remove stage1 decorators  (#22407)
Hot module reload with `react-refresh` (#22404)
Add Database-local Setting for enabling Actions for a specific Database (#22571)
Select locale based on query param (#22600)
Pass isNavBarOpen to BulkActionBar (#22579)
Upgrade to Storybook 6.4 (#22592)
Add embedding options for app nav (#22580)
do not run percy tests on release branches (#22593)
add visual label, keep metabase bot command (#22378)
Derive parameter operator, not passing it as a prop (#22570)
Add query builder redux state types (#22536)
[E2E] Remove custom-column check from CCI (#22440)
Show cloud migration help tooltip when setup is finished (#22550)
Always show main sidebar with white bg (#22530)
Fully specify identifier in Postgres JSON describe nested field column query (#22448) (#22523)
Add `experimental-enable-actions` feature flag (#22559)
Do not render "Add your own data" button if user does not have permissions to create database (#22339)
Breakdown QB actions file (#22474)
Allow firing an event (e.g. clicking) on the checkbox's label (#22488)
Clean up aggregation options getter (#22469)
Update copy for whitelabel navigation bar color (#22406)
Retry sending notifications (pulses) on failure (#21881)
Add moderated_status icon to recents list (#22472)
Pass parameter value to disabled TextWidget (#22471)
Clear download perms when setting block perms (#22426)
Don't default to object detail for single result questions (#21895)
Duplicated map (#22427)
Make it possible to convert relative filters to expressions (#22456)
Use a different icon for tables on the homepage (#22445)
Pin map with null locations removed from Map props (#22425)
[E2E] Add download permission tests for native questions (#22468)
Add minHeight option to sizeToFit modifier (#22438)
docs -fix missing link (#22475)
fix issue with missing parameter options in cloned, targeted dashboard (#22289)
Audit usages of `memoize` and `memoize/ttl` and use app-DB-specific memoization where appropriate (#21605)
Repro #22382: Duplicate breakout fields can appear in a table under certain circumstances (#22461)
Repros #22447, #22449, #22450: illogical UI elements for nodata user [ci skip]
fix visualization and settings buttons are visible for questions that use blocked db (#22433)
Add a delay for showing tooltips for relative date filters (#22419)
remove misleading permissions tooltip (#22436)
[E2E] Experiment running `dashboard` test group as PR check (#22405) [skip ci]
add more detail to i18n in docs (#22431)
updates docstring to correct formatting (#22424)
XLSX formatting for temporal breakout fields (#22383)
add permission change warnings (#22355)
Handle not available Notifications API (#22366)
[E2E] Remove `joins` check from CCI (#22410)
Refactor FormMessage (#22376)
prevent triggering backport when adding other labels after merge (#22377)
User with view collection perms can create Alerts (#22364)
Persisted hydration was changed last-minute to batch, but the check needs to be done against card_id (#22387)
Wait to execute deletion of peristed models (#22388)
Missing org in docker ref (#22400)
update api docs (#22392)
Add nowrap to Cloud CTA link (#22353)
Change "Distincts" text to "distinct values" (#21108)
[E2E] Experiment running `custom-column` test group as PR check (#22393) [skip ci]
Reproduce issue 22206 (#22349)
Adding Trivy code scanner (#22326)
fix **User filter** field (#22363)
Add a test that the app works for all available-locales (#22315)
[E2E] Simplify download permissions tests (#22358)
show correct settings UI when MB_ENABLE_EMBEDDING env var specified (#22304)
Prevent channging visibility_type when updating table properties (#22318)
docs - update login troubleshooting
remove words-by-inv-frequency file (#22351)
lots more color fixes (#22346)
Wrapping Radio Group in ChartSettings (#22264)
fix relative datetime colors (#22323)
Add docstrings to persistence `jobs/defjob` macros (#22338)
Allow SCOPE (for max/min) to work also on STRING (#22302)
Complete the support for "All Time" in the time-series filter (#22308)
Repro #22293: Non-admin database manager can delete database using the API (#22311)
Persisted models schema (#21109)
Hide "Add another series" button when there are no series to add (#22269)
Widen Object Detail Modal (#22143)
docs - minor edits (#22286)
One Clojure lint to rule them all (#22213)
docs - adds note on deleting databases (#22298)
try/catch around moment.locale (#22291)
Unskip repro for #20517 (#22320)
Hide navbar in fullscreen dashboard (#22278)
[E2E] Sync UI changes with XHRs to let the chart appear properly (#22273)
Treat type/Category as STRING for the purpose of filtering (#22231)
Remove abillity for users with DB detail perms to delete DBs (#22296)
Unskip repro for #22192 (#22290)
hide settings button when navbar is closed (#22292)
note on postgres json sync (#22257)
Upgrade yaml-lint to v1.6.0 (#22276)
bump snowplow-java-tracker (#22267)
Don't hard-code timeout in Druid driver (#22161)
Handle locationlization errors from java.util.Locale (#22226)
docs - update sql user guide
Add `-Dclojure.main.report=stderr` to `:dev` alias (#21637)
Indicate that visibility buttons are clickable (#22268)
Remove value-label-outline text (#22208)
Ignore exceptions when updating permissions in test macro (#22162)
[E2E] Smoketest user: wait for the dataset before assertion (#22262)
update driver doc (#22234)
Support empty card title in the dashboard (#22199)
Removing wait for intercept due to race condition issues (#22215)
18180 better handle unauthenticated route (#22239)
Add a help link to homepage sections (#22241)
Adding can_write check to save question modal (#22136)
invalidate revisions on question revert (#22152)
exclude feb date fix (#22238)
Migrate remaining usage of the `reify-ee-strategy-impl` pattern to `defenterprise` (#22169)
fix implicit date parsing from numbers (#22158)
`mbql.u/add-temporal-unit` should ignore invalid units (#22156)
remove random comma in data model (#22209)
Repro #22192: Selecting language Indonesian causes error (#22202)
Sign in form: "Remember me" checkbox should be left-aligned (#22150)
fix y-axis scatter extend calculation (#22164)
Unskip repro for #17139 (#22176)
fix permissions url with a schema name (#22185)
Allow navbar on embedded homepage (#22183)
Optimise ExplicitSize performance (#22094)
Filters blocking small screen devices (#21848)
Field filter: treat :type/Name as STRING instead of NUMBER (#22114)
Migrate LDAP code to using `defenterprise` (#21687)
Validate datasets are found when checking bigquery (#22144)
`defenterprise` macro (#21672)
docs - troubleshooting sql, error messages, and sql error messages
fix isDirty prop on DashboardApp.jsx (#22112)
Add git pre-commit hook to catch `nocommit` lines (#22096)
Stop stacktrace on shutdown + current site-locale (#21831)
Remove decimals 0 from default static-viz y-axis (#22113)
Removing test to analyse H2 lock (#22108)
[E2E] Create and run new `organization` CI group (#22132)
[E2E] Create and run new `filters` CI group (#22131)
fix missing visual options on text cards (#22129)
Custom expression: avoid circular reference (#22051)
last minute translations for x.43 (#22120)
Show selected field value is restricted (#22098)
Do not show saved questions db (#22097)
[E2E] Revert running all `question` repros together (#22107)
Update dashboard link in README (#21740)
Upgrade to Clojure 1.11.1 (#21837)
Bump bigquery version to first version that supports SNAPSHOT tables (#22049)
Gh 21549 snippet permissions (#21927)
Gh 17910 revision history (#22004)
Translations x.43 (#22088)
add simple mobile admin menu (#21832)
Entity menu shouldn't be too far off (#22077)
Restrict custom mapping values access (#21781)
fix missing padding on text cards (#22093)
Enable :unsorted-required-namespaces and lint cleanups (#22087)
Better logs for rotate encryption key + better command error messages (#21901)
Docs - relative date filter (#22084)
Relative datetime filters: Dashboards fixes (#21857)
[E2E] Increase the timeout on `master` (#22079)
[E2E] Remove auditing related test from `sharing` again (#22078)
Expose more QB actions to no-data users (#21823)
Adding fullscreen check to hasNavBar (#22058)
[E2E] Experiment running `joins` test group as PR check (#22075)
Upgrade Cypress to `v9.6.0` (#22066)
Reload FKs when browsing object details (#22015)
fix auto backport branch search (#22067)
Pass `instance_version` and `diag` to help links (#21510)
Deserialize dashboard Starting From/Exclude datetime filters (#22035)
return download results button to publicly shared questions (#22033)
fix links with slashes (#22046)
Hide parsed JSON columns when they get parsed (details-only visibility) (#21934)
Remove subscription button on Fullscreen (#22041)
extends ring.protocols/StreamableResponseBody to keywords (#22025)
Show nicer empty state for fresh login history (#21963)
fix infinite-loading dashboard on 403 (#21827)
sticky permissions table header (#22045)
fix permissions layout (#22044)
Missing Oracle and Vertica in the official drivers list (#22030)
docs - group manager (#22036)
Change default "Relative dates..." datetime filter from "Current" to "Past"  (#22032)
Close notebook when opening question details (#22003)
Use grab/grabbing cursor style when sorting bookmarks (#22010)
Open dashboard history on last edit info click (#22016)
Disable bulk actions on view-only collections (#21930)
Hide redundant border in question details sidebar (#21999)
fix full app embedding layout (#21965)
Docs - add partner driver (#22008)
Ensure the correct type on revision.timestamp (#21959)
Keep navigation UI on errors (#21947)
Clear browser caches when logging out (#22001)
21481 remove group clickable area (#21866)
docs - LDAP update (#21956)
Handle custom colors in pivot tables (#21936)
fix member input width (#21988)
Unskip repro for  #13186 (#21989)
[E2E] Remove dashboard filters check from CCI (#21991)
Unskip repro for #17212 (#21986)
Fallback to Card's description when sending Pulse (#21910)
Handle March 31st + 3 months (June 31st?) for Oracle  (#21841)
visual permissions fixes (#21799)
Enable Custom expression for segments and metrics (#21798)
add implementations of write-body-to-stream for numbers / booleans (#21828)
Make /api/user works with Group managers (#21794)
adds search param for database/:id/autocomplete_suggestions (#21887)
Skiping flake Permission test (#21955)
Markdown->Slack refactor and fix for nested bold/italic rendering (#21905)
Allow strings to be empty in metadata (#21880)
Use dissoc in reducer when archiving bookmarked entities (#21944)
Handle Plural Translation and Path String Bugs for i18n (#21116)
Allow using some string filters for fields without special type (#21920)
Set consistent height for object detail modal (#21899)
better people name alignment (#21889)
remove unnecessary X scrollbar (#21890)
make sure we pass :port when creating ssh tunnels (#21775)
Removing delay/blur/focus after running query (#21932)
Hide drills for no-data users (#20320)
Group-by fix for JSON columns. (#21741)
Enable object detail view on nested native queries (#21883)
Create a collection from sidebar menu (#21792)
box-sizing added to init.html CSS (#21916)
Refactor App, AppBar and Navbar components (#21749)
Get JSON sync to not explode if top-level array entity in JSON encountered (#21845)
Hide dashcard actions when loading (#21879)
Expand collections on drag-n-drop hover (#21795)
Clean collection items bulk selection when opening another collection (#21803)
[E2E] Robustify X-ray tests by waiting for all datasets (#21906)
[E2E] Ensure that there is a reference for cy.wait (#21904)
[E2E] Experiment running `dashboard-filters-sql` test group as PR check (#21898)
Allow users with block perms to still use the `rescan_values` APIs if they have DB details or data model perms (#21808)
fix boolean literal icon (#21858)
Check for errors when transforming series (#21825)
AppBar: switch between homepage link and sidebar buttons on hover (#21724)
Web Notifications even handlers and fixing toaster bug (#21773)
Remove console.log (#21884)
fix e2e failures due to PR #21855 (#21882)
Native query: allow dots in the variable names (#21872)
[E2E] Experiment running `dashboard-filters` test group as PR check (#21809)
Easy Entry + Exit for Object Detail View (#21592)
Filter out the is_saved_questions db (#21840)
List all field values in data reference sidebar (#21836)
Prevent the loss of Field metadata when converting Fields into FieldDimensions (#21782)
Add a tooltip for the question's last edit date (#21862)
Show datetime shortcuts when selecting a datetime field a second time (#21855)
Enable bookmarking pinned dashboards (#21861)
[E2E] Robustify some tests which involve X-ray (#21843)
[E2E] Completely rewrite and reinforce a `visitDashboard` helper (#21801)
fix relative datetime sidebar back button so only single click is needed (#21856)
close relative datetime options popover when clicking outside (#21859)
19671 scrollbar for title card on firefox (#21791)
scientific notation obeys custom separators (#21824)
Use `nth-of-type` and `first-of-type` in styles (#21402)
Include moderated_status on /api/activity/recent_views (#21777)
Enable bookmarking pinned collection items (#21767)
Don't pass query parameters when compiling Saved Question references (#21818)
fix links to schemas with schema names containing slashes (#21790)
tweak style of Add your own data button to better fit sidebar (#21796)
Don't copy collection_position when copying card (#21784)
21597 - Query build card save modal errors (#21668)
re-sort the reference database list (#21783)
Object Detail Modal (#21683)
set correct html language (#21776)
Show site-url placeholder message when using MB_SITE_URL env var (#21731)
docs - update images (#21797)
Adding hover state for web notifications toaster dismiss button (#21758)
[E2E] Remove `binning` group from CircleCI (#21785)
Repro #21246: Cannot use sub-query referencing a GUI question and date based filters
Make namespace aliasing consistent everywhere; enforce with clj-kondo (#21738)
Adding key for Dashboard Subscriptions button (#21755)
Disallow nil for timeline/event icons (#21770)
SQL snippets should not always have scrollbars (#21725)
Log execution context as collection for pinned. (#21732)
Gh 21521 users permissions groups (#21650)
Make partial= test helper take exactly two arguments (#21717)
Returning Kerberus workflow to master branch since fixed and merged in remote (#21746)
Add repro for #21695 (#21739)
Add repro for #21665 (#21735)
add disableStartingFrom to all options widget (#21737)
Repro #21452: POST firing on each keystroke when changing series display name on cumulative calculations (#21736)
docs - 43 updates (#21734)
Repro #21550: SQL snippets show scrollbars when it isn't needed (#21730)
Support boolean literals in custom expression filters (#21342)
fixes (#20938) by limiting embed previews to 2000 (#21005)
Handle missing aggregation in a segment (#21716)
Repro #21160: Number filter, comma separated values (#21722)
Bookmarks: animate question button (#21714)
Tweak new button height to conform to search box height (#21712)
Run `backend.js` with `node` rather than `babel-node` (#21711)
docs - permissions update (#21684)
Include the site URL in new login emails (#21718)
Allow for relative date/time filtering and overhaul date/time filter UI (#21242)
Move settings popover up from its button (#21713)
allow to update ldap setting without sending password (#21700)
Animate button to bookmark collection (#21705)
fix typo 'aplication' -> 'application' (#21710)
Tweaks to permissions strings (#21704)
Change bookmark actions text (#21707)
[E2E] Optimize `collections` spec (#21685)
Bookmarks reorder (#21536)
change data model permission icon (#21679)
Improve performance of editing labels in chart settings (#21692)
Silence error message in render-pulse-email-test (#21698)
Remove deprecated column rendering limit (#21696)
Updating favicon and changing toaster/notification behavior (#21670)
Revert "Migrate ParameterFieldWidget to TippyPopover (#21545)" (#21693)
Unskip repro for #14985 (#21690)
BE: Group Manager - Permissions enforcement (#21554)
Scale the font-size of Scalar dashcards with card size (#21003)
[E2E] Experiment running `binning` test group as PR check (#21681)
[E2E] Remove `downloads` and `moderation` checks from CCI (#21680)
[E2E] Run EE only check on `pull_request` in GHA (#21676)
Make sure we don't remove admin mappings when ldap-sync-admin-group is (#21667)
data model ui for json fields (#21599)
Refactor Object Detail Component into Typescript (#21621)
tweak search result and active color (#21657)
update download permission hint text (#21649)
[E2E] Remove `permissions` group from the E2E on PR workflow (#21663)
Extract dashboard management tests to a separate spec (#21662)
BE: Enforce Monitoring Permissions APIs (cont) (#21630)
[E2E] Extract `revision-history` to a separate spec (#21660)
Make field-values work with JSON fields (really, make the type hierarchy work and get field values to the 90-yard line) (#21609)
remove console logs (#21661)
[E2E] Extract question permissions/management tests into a separate spec (#21659)
Add bookmark ordering (#21652)
Validate Card query Field Filters match query Database when saving (#21598)
Migrate snippet sidebar to TippyPopoverWithTrigger (#21075)
12985 dropdown nested question findings (#21472)
[E2E] Quick fix for the table spec [ci skip] (#21648)
[E2E] Simplify field metadata tests (#21647)
Improve homepage loading speed (#21628)
BE: Add group manager (part 1) (#21473)
Custom expression: fix the confusion of function vs field (#21537)
Use TippyPopover in TokenField's DefaultTokenFieldLayout (#21098)
Upgrade `jsonwetoken` to the latest version `v8.5.1` (#21614)
tweak lower bound of comparison in png test (#21632)
Docs - selective sync (#21634)
docs - events and timelines (#21527)
Update Cypress to latest version - 9.5.4 (#21629)
Add repro for #21559 [ci skip] (#21595)
Set US locale for the dev environment (#21631)
Repro #21581: Normal users can't create first snippet in Enterprise version (#21617)
[E2E] Consolidate test scripts (#21627)
propagate permissions fix (#21571)
Clean up and breakdown URLs file (#21544)
Enforce Setting Permissions for sharing APIs (#21610)
Make event lines render for native queries (#21611)
[E2E] Consolidate embedding tests (#21568)
Use date_joined for showing popular items on the homepage until the backend is fixed (#21606)
Migrate ExpressionEditorSuggestions to TippyPopover (#21576)
Migrate ExpressionEditorHelpText to TippyPopover (#21572)
Migrate ParameterFieldWidget to TippyPopover (#21545)
Migrate AggregationWidget to TippyPopover (#21519)
Migrate DashboardHeader to TippyPopover (#21465)
Popular Items should no longer have duplicates in the returned list (#21602)
Small UI fixes to bookmarks (#21601)
Repro #21513: Custom Expression validator too strict when field name is the same as a function (#21567)
docs - general permissions (#21596)
Allow highlighting collection in bookmark list (#21594)
Dashboard / Question Toaster and web notifications (#21414)
docs -  bookmarks (#21526)
Make events work for native queries (#21589)
Do not render timeline events for non-timeseries chart (#21587)
Unskip repro for #20638 (#21582)
Show x-rays when there is no question and dashboard (#21579)
Make timeline visible when its even it selected (#21577)
Move timelines between collections (#21569)
fix inability to go back from admin (#21570)
Bring metabot tooltip back (#21575)
Move events between timelines (#21557)
change admin nav order (#21560)
Hide subscriptions and alerts editing buttons in account settings (#21541)
disallow adding recipients by non-admins with monitoring permission (#21540)
Whack more divergences from JSON column spec (#21543)
Add `exclude_uneditable_data_model` and `exclude_uneditable_details` flags to database list API (#21556)
Repro #15860: Multiple Linked Filters connected to Locked parameters shows dropdown values of the last filter (#21533)
[E2E] Embedded dashboard with linked filters connected to a GUI question (#21529)
[E2E] Embedded dashboard with linked filters connected to SQL question (#21520)
[E2E] Refactor `personal-collections` spec (#21565)
Catch exception during sync group (#21547)
[E2E] Deprecate the `/question/new` route for simple mode (#21564)
Add concurrency to E2E tests on `pull_request` (#21563)
[E2E] Experiment running `permissions` test group as PR check (#21561)
Deprecate the `/question/new` route for custom questions (#21558)
FE: Database details permission  (#20953)
FE: Upsell new permissions (#21408)
Add AddYourOwnData link to nav (#21555)
[E2E] Deprecate `openNotebookEditor` helper (#21552)
Enable 'Sync Multiple Schemas' For other DBs (#21022)
Start page be simplified popular items (#21553)
[E2E] Experiment running `moderation` test group as PR check (#21538)
FE: Settings access global permission + tweaks (#21460)
Pin JBCrypt and bump version from 0.3m -> 0.4 (#21548)
Handle names for default timelines (#21514)
FE: Data model permission (#20952)
DB detail editing permission enforcement (#21531)
improve the positioning of the settings trigger (#21523)
fix failed to reset un-nil setting (#21542)
handle nil last-updated times by setting :default to epoch (#21456)
Disallow FDW connections in SQLite (#21525)
Handle Default Timelines (#21490)
Cleanup new homepage (#21448)
[E2E] Experiment running `downloads` test group as PR check (#21492)
Give home card title a max-width (#21498)
Inform the user when a database driver isn't official (#21409)
Data model permission enforcement part 2 (#21475)
Show back button only when there are multiple timelines in a collection (#21516)
Custom expression: fix error message on unknown field (#21501)
Allow creating events with 12:00AM (#21508)
Tweak bookmark button position in sidebar items (#21488)
Display unfiltered events in data view for a question (#21497)
Count only non-archived events (#21496)
update widget docs (#21509)
[E2E] Split Cypress run command on multiple lines (#21495)
[E2E] PoC: Run all `question` repros together (#21474)
Unskiping 11037 (#21486)
[E2E] Rewrite repro for #13097 (#21494)
Data model permissions enforcement part 1 (#21459)
Add currency symbols to inputs (#21398)
Unskip repro for #13097 (#21477)
21056 long question names wrapping for question modal (#21426)
[E2E] Dedicate the current E2E tests for master only (#21480)
Type backoff and limits on JSON nested field columns (#21461)
Use collection permissions fns to select correct timelines (#21362)
Clear out existing DashboardCards when running `load` with `--mode update` (#21241)
Remove unnecessary steps from the `e2e` job (#21478)
fix redux console error (#21457)
Document Title and favicon updates for loading questions (#21425)
Create dynamically rebindable `metabase.db.connection/*application-db*` (#21332)
Unskip repro for 8406 (#21469)
update download permission copy (#21458)
Mobile friendly search (#21434)
docs - installation and upgrading docs (#21230)
FE: Monitoring permission (#21407)
Adding Onboarding E2E to GH (#21422)
Bump clojure CLI to the latest version in CI (#21449)
Add keyboard shortcut to control the sidebar (#21450)
Use semantic HTML for new nav elements (#21435)
Address nav cleanup feedback (#21447)
Add popular section to the new homepage (#21429)
Reset dashboard state when leaving the page (#21445)
Browsing nav cleanup (#21418)
[E2E] Move public question spec to the `sharing` group (#21444)
Run E2E tests using Chrome instead of Electron (#21438)
[E2E] Optimize native filters tests (#21427)
Upgrade Cypress to the v9.5.3 (#21433)
FE: Download permission users UI (#20931)
QP middleware for download perms (#21021)
FE: Subscriptions management permission (#21307)
The skeleton of the new homepage (#21355)
Grant Subscription permission by default (#21179)
Cover more entities (#21406)
DB details permissions reads & writes (#21327)
Data model permission writes & reads (#21168)
Ignore running E2E workflow when not needed (#21384)
Don't autoexpand sidebar on mobile (#21415)
15876 fix time random casting with without timezone (#21340)
Clean up EditBar component (#21395)
Remove `getPlainNativeQuery` (#21401)
Remove collection sidebar code (#21400)
Updating page title as dashboard loads (#21259)
Update bookmark list when archiving Questions in Collection page (#21390)
Browsing | Automatically close navbar in certain scenarios (#21358)
Browsing | Show sidebar on collection pages when embedding (#21352)
Set visualization mode via QB state when we are zoomed in on a specific row (#21371)
Skip `filter-by-current-quarter-test` for :oracle because of #10072 (#21396) [ci skip]
[E2E] Reinforce repro for #17514 (#21394)
Browsing | Improve mobile sidebar (#21347)
Set `modifyObstructiveCode` to false in Cypress config (#21376)
Downgrade buildJet instance of Percy (#21391)
Browsing | Refactor navigation sidebar (#21298)
Clean up SearchBar component (#21369)
Reverting the unifying Percy+Build PR (#21383)
Reverting cache (#21378)
Reverting #21346 (#21375)
Revert "Bump executor (#21036)" (#21373)
Bookmark Model from Collection page (#21367)
Browsing | Refactor `Tree` component (#21287)
Add global navigation sidebar (#21069)
Downgrade Github actions to version 2 (#21364)
Bookmarks remove favorites (#21353)
Docs - point Models link to the right directory (#21331)
[E2E] Log output to file (#21360)
Use whitelabelable color (#21351)
update links (#21356)
Remove unsupported flag from the `open` mode in Cypress [ci skip] (#21357)
Unify build + Percy processes (#21104)
Added bookmarked-score to enable boosting of bookmarked items (#21171)
Increasing Buildjet machines on Uberjar and E2E for better performance (#21346)
Remove flicker in SQL editing autocomplete (#21302)
Make it easier to get help (#21212)
Show the events time range in the sidebar (#21293)
[E2E] Add `embedding` group to GitHub Actions (#21295)
JSON column API change and fixes (#21175)
[E2E] Explicitly point to the running Snowplow micro (#21335)
Make "Invite someone" button not overlapping with other elements (#21279)
[e2e] use maildev version 1.1.0 (#21333)
Don't log stack trace when opportunistically trying out SSL (#21280)
Repro #21034: Autocomplete flicker in SQL Editor (#21301)
Bookmarks: render official icons for collections (#21240)
Separate `auditing` related tests from `sharing` E2E group (#21324)
[E2E] Run the tests with Snowplow (Micro) (#21319)
[E2E] Refactor `parameters-embedded` spec into `embedding-dashboard` (#21292)
Add markdown label for events (#21254)
Scroll to selected event when opening the sidebar (#21317)
Misc bug fixes for download permissions (#21275)
Repro #15876: Incorrect casting to `TIME` (#21316)
Changing currents group from folder to edition (#21314)
Allow non-admins to read and write user-local settings via the API (#21235)
Add General Permissions graph APIs (#21124)
Speed up cypress start time (#21310)
Decrease the margin between the event title and author (#21294)
Select timeline events from the sidebar (#21289)
Add new `valid-path-format?` predicate for schema validation to fix downgrading issues generically (#21255)
Better key parsing for json in test HTTP responses, and new test for data perms graph GET endpoint (#21216)
Add a way to unarchive timelines and delete them permanently (#21177)
fix overflowing long schema names (#21252)
Improve backports (#21148)
Add :dataset key to card bookmarks (#21261)
Enable subdimensions on time column (type/Time) (#20902)
Resolve node-forge to v1.3.0 (#21273)
[E2E] Add sharing test group to GitHub Actions (#21274)
[E2E] Add models test group to GitHub Actions (#21272)
Moving Currents.dev from CCI to GHA (#21258)
[E2E] Add admin test group to GitHub Actions (#21266)
Bump minimist to v1.2.6 (#21256)
Make clicking on the event title open the edit form (#21193)
Rollback on version (#21257)
Updating Github actions to latest ones and making Ubuntu 20.04 LTS default (#21249)
[E2E] Add native and native-filter test groups to GitHub Actions (#21251)
Add distro (#21253)
Add timeline permissions (#21126)
Fallback cache keys & upgrade caching actions (#21234)
Admin E2E tests: guard assertions with element visibility check (#21197)
Toggle bookmarks list visibility (#21203)
Bookmarks: render more specific icons when bookmarked item is a question (#21170)
Add basic markdown support to events (#21214)
Upgrade `@types/webpack-dev-server` to the latest version `4.7.2` (#21232)
Add :can_write to the :collection hydration for timelines (#21236)
Robustify timeline E2E tests (#21219)
show loading wrapper until all data is available (#21172)
Dashboard filters E2E: sync assertions with important API calls (#21200)
Ignore Empty Conditional Formatting Queries (#21224)
Remove ScratchApp (#21220)
Display Custom Parameter Fields on Mobile (#21189)
Clip voronoi by X axis (#21186)
[E2E] Introduce `visitDashboard` helper (#21218)
Hydrate Collections on Timelines for card/collection endpoints (#21227)
Attempt to fix SummarizeSidebar flakiness (#21130)
Remove concurrency (#21225)
Test bookmarking from a Question page (#21164)
Resize mail icon to fix the standard viewbox (#21211)
Make `mt/with-everything-store` parallel capable and mark more tests as `^:parallel` (#21207)
Support quarters in Dashboard filters (#21205)
E2E repro 17514: another element visibility check before assert (#21199)
[E2E] Expand embedding native tests (#21185)
Mongo E2E test: fix race condition between typing and dataset (#21123)
Default Icon for Timelines / Events and Root Collection Hydration (#21201)
Increase the click area for the back button in event modals (#21187)
Replace remaining references to `qp/query->preprocessed` with `qp/preprocess` (#21047)
[E2E] Add collections test group to GitHub Actions (#21159)
Escaping quotation marks in a tru string to pass the linter (#21202)
Unskip repro for #18729 (#21194)
Unskip repro for #20845 (#21195)
Add snowplow events for timelines (#21008)
Typo on DashboardSubscriptions (#21013)
Exclude /_internals from production build (#21162)
Add e2e tests to bookmarking in dashboard page (#21059)
Events BE fixes - Hydrate :collection on timelines and default icon "star" (#21169)
Running Currents only on Master (#21161)
Models E2E tests: ensure query and table view before assertions (#21151)
remove explicit z-index on DateOperatorSelector (#21146)
Add e2e tests on bookmarking in a Collection page (#21058)
Making sure directory is there to restore cache (#21181)
Postgres JSON nested field columns (#21007)
Various fixes for errors seen in the console while browsing (#21060)
parse canonical collection id when saving question (#21145)
Use option icon in case it exists for selected items (#21152)
Make event icons responsible (#21141)
Line chart value replacement for Mongo DB (#21012)
Add initial test coverage for native questions embedding (#20909)
use relative urls in app template (#20710)
Use TippyPopover in the AddMemberTypeahead component (#21097)
Repro  #21135: CC with the same names as the existing columns causes confusion in the expression editor (#21139)
Bookmark display and authority keys (#21142)
docs - link maintenance (#21143)
Change event icon sizes in chart (#21128)
Test
Mix
Remove
Revert "Test"
Test
Force conflict
Remove permission path validation from specific functions to preserve downgradability (#21040)
[E2E] Add a few more query-related CI groups to GitHub Actions (#21122)
Don't format non-temporal columns as datetimes in XLSX exports (#21048)
[E2E] Robustify visit question by applying `visitQuestion` helper (#21127)
Filter timelines by question's dates (#21095)
E2E for repros: check dataset and table view before assertions (#21121)
MySQL E2E test: wait for dataset and table view before assertions (#21115)
Binning E2E tests: ensure dataset and table view before assertions (#21118)
E2E tests on master: use Buildjet 4vCPU (#21119)
Search E2E test: ensure that the People table is really loaded (#21117)
Dashboard drill E2E tests: ensure element visibility before assertions (#21114)
Smoketest admin E2E: guard assertions with element visibility check (#21110)
Resolve nanoid to v3.1.31 (#21113)
[E2E] Add `question` CI group to GitHub Actions (#21099)
Auth E2E tests: wait for the dataset to load before assertions (#21107)
Search E2E tests: ensure element visibility before assertions (#21106)
fix percy (#21103)
Upgrade `percy` to the latest version `3.1.1` (#21010)
change sharing icon (#21096)
Enabling Currents.dev on CircleCI (#21071)
Add validation logic to TemplateTagDimension dimension tag handling (#20878)
Skip repro for 8406 due to #21026 (#21094)
docs - remove enterprise refs (#21091)
Upgrade `@cypress/webpack-preprocessor` to the latest version (`5.11.1`) (#21067)
Make Models not embeddable #20815 (#21025)
Highlight selected events in the query builder (#21038)
docs - driver guide (#20567)
Add autolink support and better email link handling to backend Markdown parsing (#21039)
Containerizing using the current release container process (#19885)
Robustify E2E model tests by waiting for the dataset to arrive first (#21068)
docs - update sql editor page (#21033)
Adding cy2 to the project (#21070)
Add tippy/popper replacement for PopoverWithTrigger (#20930)
Delete MetaBot permissions group (#20925)
Upgrade `eslint-plugin-cypress` to the lastest version (`2.12.1`) (#21062)
Bookmark items in collection page (#21024)
Upgrade `@cypress/skip-test` to the latest version `2.6.1` (#21053)
Upgrade `cypress-grep` to the latest version (`2.13.1`) (#21029)
Increase E2E QA DBs timeout (#21052)
Increase no_output_timeout to DB tests (#21044)
Sharing dashboard subscriptions slack performance (#20570)
SQL editor: explicit trigger of autocomplete (#20970)
Google Analytics: use service accounts for auth (#21004)
FE: Download permission management (#20883)
Upgrade `@testing-library/cypress` to the latest version (`8.0.2`) (#21016)
Remove bookmarked items from list (#20977)
@wilsonpg's "Show download progress/indicator while exporting to avoid multiple clicks" (#21037)
Bump executor (#21036)
Upgrade `cypress-real-events` to the latest version (#21011)
Upgrade Cypress to the version `9.5.2` (#21019)
Try making the encryption clearer (#20661)
Skip failing visual test caused by #21026 (#21027)
feature level permission based routing (#20979)
E2E on master: only a subset of selective test groups for now (#21023)
Add event tooltips in charts (#20982)
Migration to add default download perms for existing DBs (#20964)
Bookmark Dashboards (#20971)
Backend changes to ensure download perms stay consistent (#20880)
Upgrade Liquibase to latest version; remove final Java source file and need for `clojure -X:deps prep` (#20611)
Write path for download permission graphs (#20759)
Bookmark collections  (#20950)
docs - fix links (#20996)
Add event creation to the query builder (#20990)
Adjust GET /api/timeline to allow include=events parameter (#20972)
Reinforce admin `field-type` E2E tests (#20987)
Clean up static chart components accessors (#20968)
Quarantine caching e2e tests (#20984)
Make sure auto binning always has at least one bin (#20978)
Show timeline events in charts (#20899)
yarn upgrade xlsx@0.18.3 (#20894)
Cleanup and schema for bookmarks (#20942)
Custom expression: stricter acceptance of aggregation function (#20949)
Custom expression: escape/unescape field name (#20927)
Removing `native` since was running twice (#20961)
Add event sidebar to the query builder (#20944)
Allow user-local settings to be fetched and set via the API (#20736)
Add sizeToFit prop to TippyPopover (#20861)
docs - remove GA version note; fix broken link (#20945)
Add flip prop to TippyPopover (#20860)
use site-url setting when opening links via JS (#20568)
MBQL schema: allows :case for a string expression (#20913)
Creating cypress action on CI (#20904)
Default TippyPopover's interactive prop to true (#20859)
Pass H2 options as connection properties; add LOCK_TIMEOUT=60000 (fix flaky tests) (#20914)
Handle numeric values for :number parameters in JWTs (#20908)
Localize personal colections's name (#20884)
fix ssl-key name typo (#20855)
Update env vars of SAML (#20653)
Convert Bookmarks component to TypeScript (#20924)
Bookmarks: clean up unnecessary code (#20920)
Add the :archived status of card/dashboard/collection for filtering (#20921)
Bookmark questions and display them on sidebar (#20918)
Upgrade Cypress to the latest version (9.5.1) (#20483)
Create action for Uberjar (#20905)
Nested column enrichment for JSON nested columns (#20778)
Disable `auditing` e2e CI group (#20897)
fix navigation to new dashboard from collection view (#20709)
Update `yarn.lock` after upgrading Prism (#20889)
Update bigquery-drive.md (#20890)
docs - fixing glossary links (#20886)
/api/user return only active users when include_deactivated=false (#20844)
Enable subdimensions for aggregation (#20837)
F/static viz/tester (#20842)
Bugfix/various fixes from console error messages (#20829)
Repro #20845: Embedding with Locked parameters does not allow numeric values (#20849)
Upgrade to Prism v1.27.0 (#20794)
Add e2e embedding `jwt` helper (#20853)
Extract hard coded embedding key for e2e tests and store it as a variable (#20852)
Consider modelInstance always a used var (#20847)
Modify expression dimension to support subdimensions (#20645)
Document entity api response requirements (#20802)
migrations: remove duplicate comment (#20839)
Fetch databases on schema step of DataSelector (#20771)
Bump buildjet timeout for Cypress tests to 30 minutes (#20826)
Embedding questions (#20812)
Repro #20815: Models should not be embeddable (#20819)
split data permissions selectors (#20712)
Permissions sidebar refactoring (#20693)
make init health request a relative url (#20737)
use correct urls when setting up on nested path (#20730)
update links (#20797)
Update env var to disable geocoding (#20804)
Increase "randomness" for caching e2e tests (#20801)
Separate "auditing" e2e group from the "admin" (#20793)
docs - fix & update permissions links (#20788)
docs - remove premium embedding, update screenshots (#20785)
Cleanup some lint errors (#20770)
Add basic documentation on entity creation (#20780)
Polish timeline events in collections (#20708)
Make conditional `describe` blocks more readable (#20777)
Add 12-hour clock support to events (#20704)
E2E oss/ee versions helpers cleanup (#20775)
update README (#20769)
Add embedding smoke tests when embedding is enabled (#20764)
Add write checks (#20762)
Revert to old template tag validation logic (#20750)
Handle legacy Field filter template tags that did not specify `:widget-type` (#20751)
Add embedding smoke tests when embedding is disabled (#20761)
Embedding cleanup: Enable premium embedding token tests (#20753)
Teach custom column's type inference about semantic_type (#20748)
ScalarValue: display line break (#20652)
Make auth page scene img src relative (#20733)
Convert Tree component to Typescript (#20692)
Events Backend Cleanup and Adding Start/End Range test (#20633)
Remove legacy EE hard coded version info (#20746)
Replace hard coded sample database id in ALL e2e tests (#20734)
Global E2E Config: Solve circular dependency issue in helpers (#20741)
Linting improvements for modules/drivers: zero errors (#20626)
Small cleanup for Events and Timelines (#20731)
Upgrade MBQL of expression & aggregation dimension to include options (#20713)
Replace hard coded ids in E2E custom commands and helpers (#20729)
Run unadded additional dashcard series using card query endpoint (#20707)
Export and use `SAMPLE_DB_ID` for snapshot generation (#20726)
Describe the JSON within tables for postgres (#20547)
Handle missing `dataset_query` when trying to map parameter targets to fields (#20678)
Embedding e2e group (#20721)
Repro #19744: Custom Column after aggregation causes dashboard filtering to be very limited (#20696)
E2E tests: add some more question-related test groups (#20706)
Handle nulls in ListField filter (#20680)
Update permission path regex & parser to support download permissions (#20699)
Replace `add-migrated-collections` with Liquibase migrations (#20407)
Move options handling from FieldDimension to the parent class, Dimension (#20690)
Remove MetaBot Group (#20565)
Always show database sync buttons (#20687)
Apply `visitQuestion` helper to the related tests (#20671)
Don't consider `:field` `:join-alias` when escaping aliases (#20684)
Increase H2 lock timeout for E2E tests (#20688)
Repro #20683: Error when filtering date by current quarter in Postgres (#20695)
Clean up QB sidebar layout components (#20617)
Repro #20469: Main page loading spinner spins forever on API error (#20675)
Repro #20471: Ugly error state in Admin > Databases (#20676)
ì changed to i (#20578)
Add time to event dates (#20668)
Add repro for #18814 (#20673)
Add repro for #15353 (#20672)
Repro 20638: Creating a new dashboard from the New button in a collection should take me to that dashboard (#20667)
yarn upgrade style-loader@0.23.1 (#20644)
yarn upgrade xlsx@0.18.2 (#20646)
Repro #20624: Model metadata not overriding question column settings (#20663)
Repro #20656: Dashboard with filter connected to a card that a user doesn't have permissions to view breaks (#20662)
Add events search (#20629)
Accept UnsavedCard type in Question class (#20595)
permissions table ui fixes (#20640)
Repro #20627: Nested queries with long Data Model names causes failing query with incorrect aliasing (#20631)
E2E Helper `visitQuestion`: Ensure that the query loaded before moving forward with the test (#20630)
Add timeline empty states (#20585)
Repro #20517: Removing or adding column descriptions to metadata of Models results in "failed save" (#20589)
Repro #20548: Changing Y-axis order can cause duplicate legends when modifying metrics after (#20587)
Turn QueryBuilder container into a functional component (#20594)
Install @testing-library/react-hooks (#20593)
Migrate `clear-ldap-user-local-passwords` migration to Liquibase (#20574)
Make date widget respect date/time format settings (#20509)
User-local settings (#20456)
docs - elaborate on dashboard edit options (#20601)
New structure for data permission graphs (#20564)
Events migration (#20452)
Custom expression editor: do not always suggest an open parenthesis (#20533)
Replace `add-databases-to-magic-permissions-groups` with Liquibase migrations (#20401)
typo (#20590)
Upgrade webpack dev server (#20583)
E2E tests on master: add permissions and sharing test groups (#20566)
Make time-series filter work with expression dimension (#20510)
Dashboard Subscriptions *should* use `:default` param values. Dashboard QP should ignore them. (#20569)
Repro #20560: Shouldn't display filter action menu when clicking on a value in single-record view (#20579)
Repro #20438: Embed dashboard Field Filter cannot work when choosing single option (#20536)
Repro #20551: Filter dropdown only allows filtering on "starts with" (#20581)
Use includes instead of startsWith to filter options in ListField (#20561)
Add date input for timeline event dates (#20562)
Replace `add-admin-group-root-entry` with Liquibase migrations (#20400)
Replace `add-users-to-default-permissions-groups` with Liquibase migrations (#20399)
Add lots of exclusions to Spark SQL JDBC driver (#20563)
Bump SAML lib version (#20539)
docs - expanding google drive instructions in bigquery docs (#20557)
Adding encryption algo's to docs (#20553)
Add timeline editing (#20455)
E2E tests on master: run for EE as well (#20542)
Replace `copy-site-url-setting-and-remove-trailing-slashes` with a Liquibase migration (#20402)
Dashboard QP endpoints should ignore :default values and treat them as no value and compile Field filters to `1 = 1` (#20503)
Ensure token_features and created_at are included in backend Snowplow events (#20523)
Replace `migrate-humanization-setting` with Liquibase migrations (#20404)
Embed query endpoints should handle operator filters with a single arg (#20512)
Repro #20519: Summarizing with implicit join does not allow subsequent joins and nested query (#20521)
fix data picker another double scroll and add a visual test (#20524)
Replace `mark-category-fields-as-list` with a Liquibase migrations (#20405)
Upgrade Hive JDBC driver version from 1.2.2 -> 3.1.2; Bump Spark SQL from 2.1.1 to 3.2.1 (#20353)
Force clojure -X:h2 to use H2 (#20513)
fix double scroll bar in the data picker (#20507)
Clean up `QueryBuilder` top container and view components (#20416)
Add hook which replaces OnClickOutsideWrapper behavior (#20431)
Disable sample dataset engine form field (#20458)
Add aliases for H2 and Liquibase CLIs (#20409)
Disallow engine change on sample db (#20447)
Custom expression editor: don't suggest a unique matching function (#20485)
Restore version of test from #20434 (#20508)
Replace `ensure-protocol-specified-in-site-url` with a Liquibase migration (#20403)
Repro #20436:Restricting and unrestricting access to a table results in the DB-level permission still being "Granular" #20504
Add logic to truncate and uniquely-suffix column alias identifiers (#19659)
Repro #20493: Dashboard filter with defaults, doesn't work if values are removed, query fails (#20495)
Permissions UI groundwork (#20433)
Repro #20488: Trend visualization percentage rounding decimals (#20492)
Include (new) site UUID in EE token check request (#20475)
add standard cookie policy to test http client (#20019)
Refactor Test to use API Call (#20491)
Custom expression editor: use ace-builds instead of brace (#20480)
Custom expression editor: Esc hides the suggestion list/help text (#20477)
yarn upgrade react-motion@0.5.2 (#20481)
Creating reproduction for 20442 + some refactor (#20453)
Simplify tests by improving custom `cy.createQuestion` command (#20441)
yarn upgrade icepick@2.4.0 (#20473)
Upgrade type definitions, i.e. @types packages (#20479)
yarn upgrade xlsx@0.18.0 (#20478)
yarn upgrade eslint@7.32.0 (#20472)
Support running Oracle tests with local Docker image (#20358)
BigQuery should qualify columns from source query with `source` in the `SELECT` clause (#20434)
Clear google auth client ID setting if empty string is saved (#20462)
Ensure PNG cropping doesn't clip table content (#20448)
use column settings instead of display_name for pivot table value header (#20435)
Creating regressions for 16621 (#20445)
fix accordion list keyboard nav (#20446)
Add basic timeline & timeline events creation (#20344)
Linting improvements (#20424)
Remove unused reducedf metadata param (#20311)
Remove duplicated binning repros (#20429)
Refactor question URL builder arguments (#20366)
Handle scenario where query props are undefined on a StructuredQuery (#20394)
Pass metadata-populated parameters to the embedded dashboard modal (#20383)
docs - questions (#20422)
Bi-basics e2e helpers (#20395)
Remove some stuff from the `window` (#20415)
Dashboard checkbox should honor reduced-motion (#20385)
wait for all people page requests (#20370)
Add org.quartz-scheduler/quartz as an explict dep and bump version from 2.1.7 -> 2.3.2 (#20343)
Collection permissions E2E: wait for the complete collection data (#20347)
update links (#20375)
Replace BigQuery deprecation test with the Presto driver (#20373)
remove mac app reference (#20351)
remove tsc-files (#20369)
Remove not used `isCardDirty` helper (#20367)
Simplify QP cache middleware (#20310)
Remove unused dep on aleph (and thus unused transient dep on Netty) (#20342)
Use Docker Hub credentials to avoid being rate-throttled (#20339)
Migrate styled-components 3 to the latest emotion (#20275)
localStorage can't be used in Chrome Incognito (#20345)
Remove :bigquery driver (#20142)
Set default waterfall colors static viz (#20334)
improve spacing above unpinned items table (#20336)
Add hideOnEsc plugin to TippyPopover (#20299)
fix visual tests command (#20330)
docs - mention prefers-reduced-motion setting (#20325)
Remove accidental `.debug()` from a test (#20324)
Rewrite open table helper (#20304)
Add Event and EventTimeline entities (#20313)
Make Ad hoc question e2e helper automatically wait for the query results (#20295)
Disallow moving items to a collection it's already in via drag-n-drop (#20288)
Rework how the remappings middleware matches remapped to/from columns for explicit external (FK) remaps (#20009)
E2E tests on master: add dashboard groups (#20302)
Add Select and AccordionList keyboard navigation (#19858)
docs - remove filtering on this field (#20294)
Docs - postgres, truststore, and keystore (#20118)
Clean up `ObjectDetailDrill` (#20099)
Disable model editor's "Save changes" button when there are no changes (#20191)
Remove `has_field_values` form field for models (#20271)
Reinforce time-series binning e2e test (#20284)
Changing circleCI resource (#20270)
Run selected E2E groups with GitHub Actions (#20266)
Migrate test-build-scripts CI to GitHub Actions (#20257)
Prevent flaky tests based on contents of TaskHistory (#20240)
Add Exasol driver to list of community drivers (#19767)
Retain property file path when revisiting database edit page (#20199)
Ignore hidden/archived tables cards and dashboards in recent list (#20238)
Hide pin action button when user can't pin (#20272)
disable leaflet pointer-events in collection visualizations (#20267)
Allow to unmap native model column from a real one (#20219)
Remove `metadata_checksum` from the frontend (#20261)
Remove grid-styled (#20259)
Migrate admin from grid-styled (#20223)
Update serialization documentation (#19732)
Migrate "enterprise" from grid-styled (#20256)
Migrate "internal" from grid-styled (#20255)
Migrate Grid from grid-styled (#20258)
Move Liquibase migration tests to GitHub Actions (#20218)
Migrate query-builder from grid-styled (#20220)
Migrate "visualizations" from grid-styled (#20215)
fix deselecting columns hides custom fields (#20239)
Repro #20229: Custom columns not appearing in result set when selecting subset of fields (#20242)
Simplify time-series binning e2e test (#20237)
Update copy (#20123)
Update filename of sample DB (#20194)
Bump backend dependencies (Feb 2022) (#19827)
Migrate parameters (#20211)
Migrate "nav" from grid-styled (#20210)
Migrate "home" from grid-styled (#20209)
Update style for code in dashboard dark mode (#20172)
Repro #20043: Don't show pins or helper on view-only collections (#20217)
When recording activity, indicate if dataset (#20202)
Migrate pulse from grid-styled (#20213)
Improve linting when third party libs have been linted (#20212)
Repro #20044: "Explore results" shown for no-data users (#20197)
Add repro for #20018 (#20198)
Migrate from grid-styled in new-query (#20169)
Migrate "containers" from grid-styled (#20192)
Migrate "components" from grid-styled (#20184)
Migrate from grid-styled in collections (#20178)
Migrate from grid-styled in browse (#20173)
Migrate from grid-styled in search (#20171)
Migrate "dashboard" from grid-styled (#20193)
Use shareable, local actions to avoid workflow repetitions (#20187)
Circle CI: Build with Java 8 (#20156)
Maps E2E test: ensure that the map data is received (#20195)
43 qp middleware overhaul part 6: convert post-processing middleware to new pattern (#20096)
Simplify models query e2e tests (#20175)
Handle NULL value for integer fingerprints (#20003)
Add repro for #19737 [ci skip] (#20137)
Add repro for #20045 [ci skip] (#20164)
Crop pngs to their content width after rendering to remove extra whitespace (#20032)
let user add missing options to ListField widget (#20136)
increase font weight on selected AM/PM in filter (#20029)
Remove trailing slash from /api/tiles call on frontend (#20091)
Migrate from grid-styled in sharing (#20168)
Migrate from grid-styled in account (#20167)
Add missing React keys (#20165)
Add homepage keyboard navigation (#20129)
Make FileInput assessible (#20107)
Support `MB_DB_USER` and/or `MB_DB_PASS` in combination with `MB_DB_CONNECTION_URI`  (#20135)
43 QP Middleware Overhaul Part 5: new qp/compile fn and remove some s… (#20095)
Metabase QP middleware overhaul part 4: use new-style preprocessing middleware directly (#19938)
Add repro for #20042 [ci skip] (#20149)
Metabase 43 QP middleware overhaul part 3: convert all pre-processing middleware to the new pattern (#19937)
Repro #19776: New data picker shows blank after archiving a model (#20138)
Disable remapping when syncing Field values. Handle human readable values in `GET /api/field/:id/values` (#19901)
BE for stacked area viz for #20004 (#18676) (#20013)
CI with GitHub Actions: focus on PR trigger (#20128)
fix renovate config (#20134)
Unused bindings part1 (#19995)
include type defs to tsc-files (#20126)
0.42 translations: adds Indonesian, cleans up some strings, and updates our i18n build script (#20041)
assorted UI screenshots and text updates for 42 (#20117)
update new slack setup in docs (#20112)
fix crowded ordinal ticks (#20006)
docs - fix docker dev branch instructions (#20106)
Simplify Slack setup (#20062)
Remove the empty pinned section banner (#20074)
fix datamodel borders (#20103)
Make custom setup buttons accessible (#20053)
Run ESLint for staged files on pre-commit (#20040)
Enable quick filter drills on aggregated, custom columns and native query results (#20014)
Don't parse MB_DB_CONNECTION_URI; use javax.sql.DataSource everywhere for app DB connection sources (#19970)
Split QP middleware into different groups (#19935)
MBQL :expressions should use strings for keys (#19960)
Metabase 43 QP middleware overhaul part 1: split pre+post middleware into separate fns (#19931)
Joins E2E tests: ensure that the schema is completely loaded (#20067)
Models E2E tests: ensure that the Run button is visible first (#20059)
docs - updates to reflect new db advanced settings UI (#20076)
Override IP address in Snowplow logging (#20082)
Static viz funnel fix (more #18676) (#19983)
Remove most of the info popovers (#20070)
fix license infinite loop (#20075)
fix select button look (#20077)
Hide explore results button for no-data users (#20065)
Card copy trs fix (#20063)
Add drag and drop reordering of pinned items (#19966)
CI: setup-node@v2 also does yarn caching (#20035)
Metadata lifecycle improvements master (#19899)
support stacked area static viz series (#20004)
Time-series chart E2E tests: ensure that the chart is ready first (#19969)
run eslint on typescript files (#20021)
Change model icon from waffle to building block (#19852)
Hide custom GeoJson settings when they are set by the env var (#19621)
docs - instructions for running development branch (#19926)
Updates stats job to run at a random time of day (#19828)
docs - collections changes screenshots and UI text (#19958)
PoC: Restore from a custom snapshot in the `before` hook (#20001)
Copy API endpoint (BE bit of #15255) (#19940)
Make engine widget accessible  (#19988)
Postpone showing syncing modal on the home page (for 0.42) (#19925)
Visual Design Cleanup for Headers - Filters and header buttons (#19912)
More collection overview styling (#19972)
Check user exists for setup redirect (#19846)
Dashboard Subscription overview: display useful piece of text, instead of null  (#19992)
Activation fixes for 0.42 (#19947)
Revision history fixes (#19985)
Ensure that XLSX temp files are cleared if output stream closes before export completes (#19963)
fix cut-off info popover text in Safari (#19887)
Binning E2E tests: ensure that the query result is available (#19967)
always show permission help (#19957)
Show model metadata changes revisions (#19913)
Remove delete db button from db list (#19951)
Add question link to the 'stopped working' email template. (#19815)
Trim whitespace around commas in schema filtering code (#19949)
License & billing page fixes (#19878)
Release script: no need for `git pull` (#19835)
Custom expression suggestions: honor database features (#19928)
Support overriding ROWCOUNT for SQL Server (#19267)
allow enabling eslint (#19934)
Sanitize tracking urls (#19907)
Add visual tests for model query and metadata editors (#19920)
Improve error message layout (#19795)
docs - update bigquery docs (#19919)
fix trend line on charts without all series visible (#19927)
preserve colums order when a query changes (#19933)
Custom expression editor: explicit plain text mode (#19932)
Finishing nits for waterfall static viz (#19868)
Unskip repro for #14178 (#19890)
Add program_name connectionAttribute for MySQL (#18707)
Apply schema inclusion/exclusion filtering to sql-jdbc drivers (#19651)
Unskip repro for #17512 (#19891)
Collections changes feature branch (#19848)
Linting improvements: 0 errors in src + shared/src (#19836)
Add test for #15863 (#19896)
Send snowplow event when user is invited during setup (#19808)
E2e tests housekeeping (#19915)
Handle failing model queries (#19886)
Use GitHub Actions to run shared CLJS tests (#19854)
Switch to Temurin official image (#18923)
Enable "Joins" e2e group (#19892)
Raising to 15 min timeout on GH actions (#19888)
Use matrixes to reduce complexity (#19490)
Consistent "Verify" button for models (#19800)
Mask page urls we track with Snowplow (#19874)
Make Radio accessible (#19840)
Make ExternalLink accessible (#19870)
Add models metadata e2e tests (#19788)
Handle disabled or not available nested queries for models (#19798)
Add models educational modal to Admin > Data Model (#19832)
Ensure fields sorting is in sync with viz settings (#19844)
Eliminate E2E join tests flakiness by ensuring schema loading (#19837)
Wrap ex-info message in format (#19698)
Data picker empty state (#19818)
Ignore `cypress_sample_database.json` (#19842)
Static viz card vs. normal errors 18676 (#19771)
E2E tests: give some time for the popover to appear (#19838)
i18n(Syntax) delete repeated words (#19833)
Make SelectButton accessible (#19782)
Make checkbox accessible (#19778)
Make toggle accessible (#19769)
Revert "Add option to force latest GitHub release (#19336)" (#19823)
`add-alias-info`: recognize `:field` clauses in join source queries to be the same if it has a `:temporal-unit` (#19789)
Add whats new for driver authors in 0.42.0 (#19820)
Update API documentation for 0.42.0 (#19819)
Postgres: avoid unnecessary casts of DATE or TIMESTAMPTZ to TIMESTAMP (#19790)
Add drive scope to BigQuery client (#19629)
docs - models (#19750)
Don't add `:join-alias` to `:field` clauses for fields that came from source query (#19791)
Add test for #7487 (#19810)
Disable Notebook animation (#19131) (#19806)
hide new question menu item when there are no dbs (#19811)
The return of parallel tests (#19793)
`partial=` (#19679)
update yarn lock (#19802)
Rename sample dataset to "sample database" (#19682)
Update copy for SavedQuestionIntoModal for models (#19801)
Custom expression editor: initial overflow to fix text cut-off (#19785)
Add semantic type icons to metadata editor (#19726)
Update paths without navbar
Preserve metadata changes for models (via editor)  (#19724)
Add tab-key navigation for metadata editor (#19379)
Repeat "Metadata editor styling" (#19397) (#19425)
Manage column formatting for datasets + add extra form fields (UI) (#19291)
Add basic dataset metadata editor UI (#19206)
Add dataset metadata strength indicator (#19194)
Make button accessible (#19749)
Return more useful error messages when you don't have collection write/"curate" perms (#16481)
Add semantic type icon/name to dimension info popovers (#19731)
Add test for #15538 (#19779)
Remove hardcoded project-id from bigquery-cloud-sdk tests (#19780)
Add `retired-setting-names` list & clean up metabot code (#19755)
add funnel and progress static viz e2e tests (#19761)
Log a shortened version of the enterprise token (#19756)
Warn about archived model used as a data source (#19775)
Disallow variables usage for native models (#19752)
Add test for #13932 (#19766)
Truncate static viz legend items (#19733)
Allow using models in native queries and dashboards (#19743)
Unskip repro for #15352 (#19770)
upgrade-field-literals should do case-insensitive fixes (#19713)
Nested Queries Overhaul 2022: Split logic for determining appropriate table & column aliases out of SQL QP (#19384)
Wipe special chars from branch names (#19673)
Render previous scalar value in narrow public embeds (#19746)
Add enter handling to the database delete form/modal (#19719)
big query schemas settings (#19693)
Add group mapping on enter (#19718)
change email table styles (#19654)
Remove duplicated attach-workspace (#19728)
Rotate crowded ordinal ticks on static charts (#19702)
Update `dataset` to `model` references in the activity page (#19736)
Extract HelpText from Expression Editor (#19729)
CI for Percy: cache Cypress binaries (#19711)
Update datasets' route to `model` (#19730)
Update all helpers and references from datasets to models (#19703)
Convert the newsletter form to the standard form (#19715)
Static viz bundlling: don't bother with ESLint (#19714)
fix list of values filter height (#19674)
Clean up database guide usability during configuration (#19643)
Trend visualization fix for trivial trend (#19635)
added ttag i8n to pratt parser (#19697)
Incorrect progressbar alert 10899 (#19649)
Separate builder from tester (#19491)
docs - slack update (#19593)
Slack app settings polishing (#19666)
Update assets related to Models (previously "Datasets") (#19676)
Add extra spacing for form toggles (#19689)
Add placeholder text for Snowflake additional JDBC options field (#19691)
Add new copy to description fields in sample dataset (#19681)
Revert "Clean up old static charts (#19653)" (#19688)
Validate slack files channel name on save (#19665)
Update copy: replace "dataset" references with the "model" (#19675)
Clean up old static charts (#19653)
Extract `models` into a separate e2e CI group (#19650)
Custom expression editor: workaround focus issue on Firefox (#19670)
Add PropType option to expression editor (#19669)
docs - SAML troubleshooting (#19667)
Build EE on branches (#19639)
add waterfall static viz e2e specs (#19652)
Add alias info util namespace (#19610)
Don't update tables in a schema one by one (#19658)
Custom expression editor: handle source reformatting (#19646)
Correct setting access in enterprise/embedding/utils.clj (#19648)
Add Pulse URL param to email settings (#18879)
Cache dashboard parameter values (#19479)
add removed detail re: toggle (#19642)
Sync multiple schemas for BigQuery (#19547)
More backend changes to support Slack app integrations (#19592)
Inline deprecated driver warning (#19636)
Slack app settings (#19597)
Nested queries minor code cleanup (#19613)
defsetting should put :tag metadata on :arglists, not on var itself (#19628)
Custom expression editor: use new parser/compiler to generate diagnostics (#19557)
Add fix-bad-references middleware (#19612)
Debugging QP Improvements (#19565)
Repro #19494: Dashboard filter with default value sends the wrong parameters to all cards of the same questions
Repro #19603: Archived sub-collections are still showing in Permissions (#19615)
Build and publish branches (#19562)
update nav copy to be clearer (#19622)
Custom expression editor: fix the behavior of Tab (#19594)
Exclude archived collections from tree view (#19609)
Move `is-hosted?` check out of memoized function for cloud gateway IP setting (#19576)
Hide table info popover when the table has no description & when table is a nested card (#19561)
Sparkline nits in static viz email (#19550)
Waterfall bignum display fix (#19025) (#19563)
add delay prop to table/dimension info popovers (#19560)
add static viz e2e tests for multiseries line/area/bar/combo charts (#19396)
Docs: explicitly mention to target master for bug fixes (#19599)
rmv TableInfoPopover from nav search (#19532)
Custom expression editor: avoid null ref (#19586)
Chromatic in CI: only publish if the token is available (#19600)
Prototype/simplify starting points (#19572)
Convert NewsletterForm to TypeScript (#19511)
Converts styled-components folder to TypeScript (#19517)
don't try to show number fingerprint for ID fields (#19579)
Allow override of WEEK_START in Snowflake driver (#19375)
downgrade cypress to 6.4 (#19591)
Bump log4j2 from 2.17.0 -> 2.17.1 (#19588)
Add more valid checksums for changeset id 313 (#19570)
Update `caniuse-lite` (#19585)
Update Metabase copyright year (#19582)
Custom expression editor: don't commit an invalid expression (#19549)
Disable table header info popover when viz is clicked (#19559)
add mention of FS_CACHE to devenv.md (#19541)
Backend changes to support Slack App integrations (#19499)
docs - screenshots for multiple groupings in GUI QB (#19542)
Add yarn caching to chromatic (#19540)
Custom expression editor: show error marker (#19520)
Parser fuzzing: remove previous limitations which do not apply anymore (#19474)
Unskip repro for #16273 (#19553)
Add basic types for api and store (#19552)
Invalidate tables after manual re-syncing (#19527)
Custom expression editor: don't process invalid expression (#19533)
typo (#19544)
fix field filter missing schema metadata (#19536)
JWT Login URL configured by user may have URL parameters (#19381)
Replace enterprise with license page (#19343)
Add chromatic (#19539)
Only use webpack filesystem caching when FS_CACHE=true is set (#19463)
Add storybook for database statuses (#19537)
fix typo (#19531)
docs - remove faq (#19528)
Check for and ignore broken `table-columns` when determining export column order (#19530)
Show dimension/table info popover immediately when one is already visible (#19521)
Improve login flow (#19498)
Custom expression editor: hide error on the correction attempt (#19516)
promote troubleshooting guide (#19518)
Refactor static viz to be compatible with individual cards with multiple series (#19402)
Add checks for _FILE env vars (#18887)
fix misplaced warning log for enable name tracing (#19502)
Update suggestion from AdoptOpenJDK to Eclipse Temurin (#18881)
Database-local Settings (#19399)
Improve password reset flow (#19478)
Handle nested queries which have agg at top level and nested (#19437)
Bump tools deps (#19492)
Send credentials with request for manifest. Incorporate changes from #12524 (#19482)
Settings/Setup - redirect to metrics/segments page (#19483)
Add syncing modal to admin (#19475)
minor edits in upgrading metabase guide (#17725)
Spelling fixes causing i18n syntax errors during translation. (#19481)
Update timezones.md (#18708)
Add option to force latest GitHub release (#19336)
Update certificates README.md (#19179)
fix typo in URL for Sydney AWS region (#16301)
Dashboard and question list filter with checkboxes (#19467)
Consolidate first db sync modal and X-ray selection (#19447)
fix lack of metadata in QB when coming from dashcard (#19471)
Add DimensionInfoPopover to DataSelector (#19284)
Add TableInfoPopovers to data selector, query builder header, search, and native query reference sidebar (#19468)
replace FieldPane UI with DimensionInfo UI (#19455)
Update question/save e2e test (#19466)
Allow SCOPE type (for Min/Max) to aggregate over category and entity (#19416)
Custom expression editor: don't clobber SQL editor (#19448)
docs - remove mentions of mac application (#19462)
skip intermitently passing sharing test (#19457)
Add DimensionInfoPopover to FieldsPicker (#19286)
Add DimensionInfoPopover to the Filter sidebar dimension list (#19287)
Add DimensionInfoPopover to the Summarize sidebar dimension list (#19288)
Add DimensionInfoPopover to Custom QB expression editor suggestion list (#19285)
note on disabling animations (#19458)
Add setup invitation validation (#19441)
added a statement to set connection lock timeout in testing restore api (#19412)
Custom expression parser: error messages are i18n-ready (#19438)
docs - clarify sql access in sandboxing (#19450)
Enable inviting second admin during setup flow (#19414)
Support for "advanced options" section in DB connection form (#19262)
fix missing text wrapping (#19442)
Add DimensionInfoPopover to Table column headers (#19350)
Indicate selected item in the admin nav (#19424)
Add setup admin invitation (#19404)
Add `TableInfoPopover` and add it to Table cards on the `/browse` route (#19322)
Wrap names in AccordionList (#19430)
Restyle the Radio component a bit (#19417)
docs - install & setup consolidation (#19433)
Revert "Attempt to fix flaky tests in `e2e-tests-admin-ee` by adding retry logic to `restore` (#19386)" (#19413)
Use spinner for database sync progress  (#19427)
Update log4j2 from 2.16.0 -> 2.17.0 (#19421)
Custom expression: allow a leading decimal point (#19408)
tweak driver deprecation banner BannerCloseIcon size and add hover (#19410)
Custom expression editor: restore the color of string literals (#19415)
Release script's website update: pull deps using npm (#19394)
Custom expression type-checking: less strict for some aggregations (#19395)
Respect disabled nested queries on the frontend (#19356)
Attempt to fix flaky tests in `e2e-tests-admin-ee` by adding retry logic to `restore` (#19386)
Rename setting/properties and setting/all; GeoJSON via env var tests (#19382)
Remove the `field-filter-operators-enabled?` feature flag (#19378)
Custom expression: switch to a recursive-descent parser (#19335)
Validate dashboard parameter types (#19261)
add missing typescript configs (#19390)
change between filter layout (#19365)
Add database syncing status (#19338)
Revert expression editor help text y offset (#19392)
Parser fuzzing: avoid invalid left-hand side in a comparison (#19353)
Honor `enable-nested-queries` setting in expansion (#19380)
Datasets preserve metadata (#19158)
Make expression variable regex less greedy (#19376)
Reset password use site url bugfix #14028 (#19367)
use DateAllOptionsWidget for single date and range date filters (#19360)
Handle unauthed/data mismatch dashcard query builder states better (#19300)
Negative progress bars valid, different color (#19352)
Add home page analytics (#19363)
Change admin UI: navbar and premium embedding widget (#19304)
React Ace: Have custom expression suggestions and help block closer to editor (#19312)
docs - plans blockquotes (#19361)
don't pass dashcard viz settings to query builder (#19329)
Bump log4j2 version to 2.16.0 (#19358)
CI with GitHub Actions: Run some of them with BuildJet (#19349)
Area static viz (#19306)
Add database modal to homepage (#19314)
CI for i18n: Cache those M2 packages (#19332)
Add info from `field.fingerprint` to the `DimensionInfo` component (#19280)
Add useAsyncFunction and useIsMounted (#19321)
Build in GH actions and push to Dockerhub head (#19303)
Add DimensionInfoPopover component (#19281)
add renderItemWrapper fn to AccordionList (#19279)
Ensure Concat's implicit type casting is honored (#19320)
Big QP parameter refactor; validate param :types for Cards (#19188)
Docs - revamp README (#19299)
Move database schedule fields to the main form (#19290)
Bump log4j from 2.14.1 to 2.15.0 (#19309)
Only use bold for custom question in expression editor (#19295)
Add syncing progress indicators (#19015)
Add database driver deprecation notice (#19090)
Organize expression editor code (#19298)
Site url validation fixes #14491 (#19276)
docs - expanding description of LDAP features (#19272)
Custom expression editor: make the I-beam cursor more subtle (#19294)
Only reject number literal on the left-hand side of a comparison (#19293)
Add parameters to GUI query builder & make permissionless title drilldown use parameters (#19027)
Add missing ellipses (#19292)
Combo / Multi chart static viz BE (#19151)
Have Custom Expression Editor use React Ace as its engine (#19129)
support ts and tsx in parse-deps (#18329)
Add unauthed state to dashboard parameter mapping ui (#19201)
Skip node_modules caching for Percy CI (#19266)
docs - JWT (#19238)
Select no columns in the custom question mode (#19186)
Update presto-kerberos-docker branch used by run-presto-kerberos-test (#19256)
Add linter for metabase-plugin.yaml files (#19240)
docs: typo MB_EMOJI_IN_LOGS (#18886)
Only select type information on type inference of coalesce (#19008)
docs - edit FAQ (#19254)
docs - fixed links and replaced screenshots (#19251)
fix progress bar text alignment and missing translations (#19249)
docs - created troubleshooting permissions (#19234)
update link (#19242)
add renovate config (#19145)
Percy CI: fix node_modules caching (#19243)
fix link types (#19239)
Convert homepage to TypeScript (#19204)
Remove flow support (#19235)
Convert metabase-lib to TypeScript (#19224)
Convert basic components to TS (#19237)
Remove flow from EE (#19236)
CI with GitHub Actions: cache node_modules (#19202)
update links (#19231)
Enable Snowplow only for Cypress tests (#19225)
Remove broken flow types (#19227)
Omit thousands separator in XLSX format string if specified in viz setting (#19228)
Remove flow from modes (#19216)
Add helper text to database form fields (#19105)
Convert metabase-types to TypeScript (#19222)
Backend for DB sync progress UX (#18952)
Remove flow from public (#19219)
Remove flow from lib (#19215)
Remove flow from parameters (#19218)
Remove flow from new query (#19217)
Remove flow from internal (#19214)
Remove flow from questions (#19220)
Remove flow from reference (#19221)
Remove flow from hoc (#19213)
Remove flow from entities (#19212)
Remove flow from dashboard (#19211)
Remove flow from containers (#19210)
Remove flow from components (#19209)
Remove flow from admin (#19208)
fix miscalculation of y ticks width (#19195)
Change homepage sections for activation (#19162)
fix rendering of the progress bar static viz without a grouping separator (#19196)
Custom expression: improve the type-checker (#19187)
Secrets 🔐 PR 7 - Enable Postgres driver to use secrets for configuring SSL parameters (#18968)
Ensure dashcard order is deterministic in dashboard subscription tests (#19199)
Datasets educational modal restyling (#19168)
Add TippyPopover component (#19042)
Snowplow backend integration (#18784)
update about copy to reflect the real world (#19163)
Add `cloud-ip-address-info` to DB connection config (#19147)
Hide collections without datasets in dataset picker (#19153)
Require data permissions to set parameter mappings (#19130)
Make sure API response streaming context helpers preserve dynamic variables (#19169)
Block permissions should require the :advanced-permissions feature (#19132)
Added test email steps; minor reorganizing (#19183)
Funnel static viz BE (#19172)
A truststore is still a keystore (#19178)
Dataset query editor (#19103)
Expand GeoJSON validation to all link-local addresses (#19164)
Bump connection-pool version (#19064)
Datasets collection tree archived fix (#19156)
docs - small formatting changes (#19144)
Sort static viz data (#19149)
docs - new field types page; delete database basics (#19126)
Remove unused parseOperators() (#19137)
remove errant redirect (#19125)
Limit autocomplete results for tables and fields (#19066)
Implement funnel chart renderer (#19106)
upgrade deps with vulnerabilities (#19128)
Custom expression: use an improved field resolver (#19100)
interval function: lossless conversion between GUI and MBQL (#19095)
CI with GitHub Actions: Bump timeout (#19127)
Update driver icons (#19115)
Drop invalid column refs when normalizing viz settings (#19075)
Simplify additional options in set up flow db configuration (#19058)
Add storybook (#19083)
Progress bar static viz BE bits (#18945)
Static multi-series Line/Area/Bar chart (#19019)
show trend previous value in full-screen mode (#19109)
Simple mode for native datasets (#19102)
Remove unneeded driver deprecation messages (#19084)
Update dataset simple mode implementation (#19101)
Add "radio" form widget (#19104)
Fuzz the parser with CASE and COALESCE functions (#19068)
Remove data types section and minor reorganization (#19089)
update prettier for Typescript (#18778)
add support expression for time-interval clause (#19054)
Validate suffix & strip whitespace from Google auth client id (#19036)
Harmonize Google dependency versions (#19059)
Add index on QueryExecution card_id + started_at (#19065)
Add `ga-enabled` setting (#19077)
New dashboard query endpoints and consolidate Dashboard API/Public/Embed parameter resolution code (#18994)
Add `snowplow-enabled` setting (#19074)
Add snowplow CI (#19040)
new lock icon, and remove unused outlined lock icon (#19026)
update link (#19072)
Add default value for webpack bundle to prevent errors (#18916)
Add `snowplow-available` and `snowplow-url` settings (#19060)
Mock site-name setting in dashboard subscription tests (#19050)
Remove errant `tap>`s (#19047)
fix chart tooltip isOpen boolean evaluation (#19052)
Use /dataset URLs for datasets (#19032)
Custom expression suggestion: tackle a dangling single/double quote (#19033)
Custom expression suggestion: don't highlight too many characters (#19024)
fix funnels with zero initial step (#19030)
Remove accidentaly commited files (#19043)
Simple mode for datasets, update dataset headers (#18993)
Reimplement tooltips using tippy.js (#18880)
Use filesystem caching in webpack (#19022)
Adding collection items from collection page (#19009)
Display datasets in recent searches and on activity page (#18987)
Add fixture warning to rebuild static viz on failures (#18995)
Secrets 🔐 PR 6 - Update Oracle properties (#18320)
Docs – jar install page and getCallerClass error (#19018)
Track new question creation (#19007)
Fuzz the parser of custom expression (#18942)
add BooleanPicker component (#18950)
new archive and unarchive icons (#19004)
new folder icon (#19001)
Show inactive tables in database & table pickers in the query builder (#18717)
Put new dashboards in edit mode (#18990)
Open in a new tab on ctrl key (#18985)
New logging utility functions for REPL usage (#18859)
add quarters to qb date options (#18970)
Elevate database engines in setup (#18949)
Move initial user setup from hash data to env var plus token (#18763)
Dataset recent activity (#18967)
Suppress bundle size warnings for the static visualizations bundle (#18991)
Custom expression tokenizer: rewind on an unterminated string literal (#18969)
Show inactive tables in search results & recent items (#18743)
Static viz waterfall, including backend bits (#18915)
add show total setting to the waterfall static viz (#18989)
Add firewall info block when connecting to a database on Metabase Cloud (#18671)
Cleanup QuestionDataSource and fix breadcrumb links issues (#18962)
Disable all pivot tests on redshift (#18979)
pass 'noEvent' api option to prevent unauthed event (#18920)
add TableLabel and TableInfo components (#18940)
docs - update sql parameter page (#18934)
Add `cloud-gateway-ips` setting (#18931)
Put migrations in correct order to fix `check-migrations` script in CI (#18959)
Show inactive tables in data browser (#18699)
Change query_cache.results column to correct blob type (#18848)
update postcss deps (#18860)
Map tiles improvements (#18912)
Nest qbnewb under /modal to allow for other modals (#18926)
Remove unneeded loading and error wrappers (#18947)
mark dataset queries in the qp (#18900)
update link (#18937)
Disable these tests for Redshift, since they are consistently failed with Out of Memory errors (#18935)
Custom expression editor: Press Tab to select (#18919)
Skip JoinStep tests (#18929)
Custom expression editor: use icons to distinguish the suggestions (#18744)
Implement waterfall static visualization (#18885)
Update question header breadcrumbs (#18903)
GitHub Actions CI: split docs-triggered workflow (#18904)
Secrets 🔐 PR 5 - Translate secret connection-properties into existing types understood by frontend (#18236)
Show inactive tables in admin (#18732)
Extract DataSourceSelector (#18905)
Add ability to turn a dataset back into a question (#18873)
Use SameSite=None for EMBEDDED_SESSION and DEVICE cookies (#18824)
embed: call postMessage to "*" origin (#18838)
Update new BigQuery driver to only use project-id in qualified names if it differs from credentials (#18843)
docs: reworks SAML group syncing parts to add example of mapping (#18216)
Editing Google Analytics documentation (#17693)
Implement progress static visualization renderer (#18884)
Add list to reload function for entity polling (#18883)
Add "Datasets" search filter (#18878)
Secrets 🔐 PR 4 - Add backend support for keystore type secrets (#17756)
Add syncing state snackbar & sample dataset modal (#18816)
Catch all exceptions when parsing strings as datetime values in XLSX exports (#18896)
Track tracking permission changes (#18893)
remove outdated kubernetes page (#18892)
Show verified and official statuses in data picker search (#18876)
Add revision messages for datasets (#18875)
add DimensionInfo component (#18819)
simplify logic for checking if a parameter's fields are populated with values (#18721)
add DimensionLabel ui component (#18796)
Add created at to `instance` analytics context (#18711)
with-temporary-setting-values should use Setting's getter to fetch orig value (#18861)
Add `instance-creation` setting for inclusion in Snowplow analytics (#18684)
Add temporary defaults for initial_sync (#18868)
Update undo toast look (#18854)
Static hourglass indicator when reduced motion is preferred (#18847)
fix permissions page race condition (#18863)
Undo turning a question info a dataset (#18855)
Make jetty client SSL auth configurable (#13297)
Don't qualify breakout field name for BigQuery when source is not from a table (#18772)
CI with GitHub Action: run tokenizer fuzzing tests (#18841)
Refactor question ViewHeader component (#18827)
Add special case for sample dataset exploration (#18832)
bigquery + java notes (#18846)
Handle api/tiles requests for native queries (#18810)
Annotate collection tree with datasets and cards (#18833)
Change all active TEXT columns in MySQL app DB to LONGTEXT (#18749)
Increase node memory limit for FE dev build (#18839)
Disable run button's animation when reduced motion is preferred (#18831)
docs - custom expressions (#18836)
Add NOT NULL constraint to Card.database_id; attempt to set database_id if possible (#18472)
Add index to ModerationReview moderated_item_type + moderated_item_id (#18799)
Adopt new migration numbering scheme (#18821)
Update query builder data selector for datasets (#18764)
Do not bin numerical fields on join condition (#18800)
Add visual tests for table visualisation (#18826)
Revert changes from Jeff's PR (#18798)
Disable menu transition if reduced motion is preferred (#18813)
Remove Mac App (#18811)
improve support for variable type TemplateTagDimensions (#18795)
fix expression dimension failing to find underlying field (#18748)
Refactor the Parameters component and rename it to SyncedParametersList (#18683)
mute ts warning in settings.ts (#18812)
Bump the threshold for front-end coverage to 40% (#18809)
Custom expression editor: decouple suggestions and diagnostics (#18773)
Add entity polling to EntityListLoader (#18786)
#18573 Repro: Remapped columns do not use renamed titles in exports (#18793)
Dataset search (#18715)
#18729 Repro: XLSX export of "X of Y" (eg. Month of Year) is formatted as date column (#18792)
tree view for datasets (#18704)
fix failed to start front-end development due to missing version.properties file (#18523)
wrap moderation plugins in feature flag (#18768)
MAX_INT as default audit query limit (#18583)
Change information collection page (#18756)
Abstract e2e downloads helpers (#18746)
Skip sending dashboard subscription if dashboard is archived (#18712)
Improve downloading test logic (#18745)
Add helper to run jest tests in enterprise environment (#18529)
Prevent secret records from being orphaned (#18714)
Remove the remaining of syntactical-based highlighting (#18720)
Unblock UI development in Typescript  (#18528)
Custom expression editor: less intrusive suggestions (#15688)
Update the keys we consider to unverify a card (#18734)
Repro #18589 (#18730)
Enable anonymous tracking (#18726)
move dashboard parameter utils (#18694)
Fuzz the tokenizer of custom expression (#18586)
Handle long running sync in connection pool hash check (#18664)
Add ability to turn a saved question into a dataset (#18702)
Make the checkins_interval transient datasets more uniquely named in BigQuery test runs (#18600)
Disable dashboard transition when reduced-motion is preferred (#18693)
move parameter ui utils to separate file (#18690)
Use setup schema with data validation (#18696)
Circle CI: do not remove .git directory for release branch (#18649)
Attempt to fix flaking repro for 18061 (#18700)
tune static viz appearance (#18686)
Improve TokenizedInput readability (#18681)
Add `hosting` to `token-features` setting (#18654)
move parameter values logic to separate utils file (#18639)
#18646 Repro: Cannot select granularity/binning on fields from SQL question, which is joined (#18661)
Extract getDataSelectors function from NativeQueryEditor (#18628)
move parameter target utils to new file (#18662)
Summarize sidebar improvements (#18587)
Remove steps from non-step events (#18673)
move mapping options function into own utils file (#18638)
Add setup tracking (#18645)
Revert "VACUUM and ANALYZE after insert" (#18665)
Update Redshift JDBC driver version (#18653)
Dataset schema (#18629)
Add global instance context for Snowplow events (#18623)
move template-tag options logic to own file (#18637)
move dashboard parameter options logic to own file (#18635)
#18011 Repro: Post aggregation drill-through by dragging/selecting a portion of a chart results in an error (#18651)
Extract VisibilityToggler component from NativeQueryEditor (#18627)
Disable expanding content transition when reduced-motion is preferred (#18636)
Extract right click popover from NativeQueryEditor (#18609)
move parameter operator logic into own utils file (#18633)
Extract sidebar component from NativeQueryEditor (#18596)
move parameter type utils into own file (#18632)
Remove deprecated email helper (#18625)
Hide password reset screen until token is loaded (#18595)
Overworld: use consistent CSS for close buttons (#18592)
Refactor alert e2 tests (#18624)
Optimize classloader/require a bit (#17813)
Add snowplow tracking (#18293)
Add analytics-uuid setting for snowplow (#18607)
Register mocked Slack configuration (global e2e helper) (#18618)
Refactor pulse specs (#18603)
Secrets 🔐 PR 3 - Integrate secret handling with db-details (#17677)
docs - ee caching note (#18604)
Unskip repro for #18317 (#18599)
Disable modal transition when reduced-motion is preferred (#18588)
Secrets 🔐 PR 2 - Add secret model (#17649)
Small readability improvements to NativeQueryEditor (#18585)
Reorder imports in NativeQueryEditor (#18582)
Remove animation from notebook editor under reduced motion (#18532)
Drop long-unused Table.entity_name column (#18470)
Correctly ignore cache (.cache) (#18561)
#18547 Repro: Wrong id used in links for questions added to dashboard in the activity page (#18575)
Autofill inputs for repeated fields during self-serve set up (#18471)
Create E2E `visualize` (notebook results) helper (#18520)
Refactor notebook editor container (#18130)
For reduced motion, snap the motion translation (#18564)
cypress: 16693: add note for future reference (#18569)
fix wrong drill down query when using nested query (#17942)
Support encryption of binary data (#17646)
Prevent duplicate connection properties (#18359)
Normalize field refs in viz settings, rework column ordering approach, and expand test coverage (#18490)
Coalesce audit question query runs to be 0 if no query executions (#18559)
Add custom hooks for some of metabase macros (#17964)
Circle CI: build a complete Uberjar on a release branch (#18550)
Audit cards data display problem (#18527)
add more parameters unit tests (#18308)
Allow caching of fonts and images (#18239)
Revert "Circle CI: build a complete Uberjar on a release branch (#18370)" (#18544)
Consolidate DB connection timeouts; raise default to 10 seconds (#18541)
Circle CI: build a complete Uberjar on a release branch (#18370)
Tools for fixing errors problems with postgres semantics of limits (blank display of error table) (#18432)
Mongo custexp fixes: group by and filters (#18403)
Cap XLSX column widths at 255 characters (#18535)
Use Dimensions to access Fields in Parameters code (#18431)
Custom expression editor: use lexical-based highlighting (#18482)
Ensure we are paginating resultsets (#18477)
Unskip the repro for 14776 (#18525)
Remove deprecated lifecycle methods in auth (#18459)
Friendly revision history messages (#17858)
Add custom react-testing-library render function (#18353)
#18512 Repro: Cannot join saved questions with the same implicit/explicit grouped field (#18516)
#17767 Repro: Summarizing with implicit join does not allow subsequent joins (#18515)
#18317 Repro: Audit > Questions > Total runtime displays link instead of an actual time (#18514)
#18476 Repro: Visible columns list in table options sidebar does not respect renamed columns (#18507)
#18502 Repro: Cannot join two saved questions based on the same table (#18508)
#18382 Repro: Downloads missing renamed columns when using old field dimensions (#18494)
Refactor repro for 15578 (#18504)
Make EE audit app frontend display error if queries fail
Revert removing ci commands (#18493)
refactor getMappingsByParameter function in metabase/meta/Dashboard.js (#18340)
#18458 Repro: Caching does not respect user defined settings (#18479)
Add type check on CI, remove obsolete unused commands (#18489)
CI with GitHub Actions: another bump in the unit tests timeout (#18481)
Remove deprecated e2e helper `createNativeQuestion` (#18486)
Attempt to fix GH Actions sql-field-filter-string flake (#18466)
#8283 Repro: Not possible to sort by metric (#18473)
Refactor field ordering logic in exports to avoid dropped fields (#18441)
Remove sortable limitation for aggregation (#18429)
Make axis labels selectable (#18449)
Only allow the dimensions suitable for aggregation (#18260)
adapt prettier and eslint for typescript files (#18457)
#18440 Repro: Exports drop columns with remapped display values (#18443)
#18219 Repro: Temporal breakout fields are not formatted in export (#18436)
Add codenotify files (#18456)
Add codenotify (#18390)
Relativize links when emitting html from md in pulse/subscriptions (#18428)
Extract downloads into a separate CI e2e group (#18424)
Updating the account docs for Snowflake (#18434)
CI with GitHub Actions: make some jobs conditional on the context (#18425)
Replace deprecated lifecycle methods in admin (#18409)
Convert simple filter with case-insensitive string function (#18374)
Add MB_SEND_EMAIL_ON_FIRST_LOGIN_FROM_NEW_DEVICE (#18401)
Add approved domains FE validation (#18327)
Binning time-series: wait for @dataset to reduce potential flakiness (#18399)
Two column table (#18392)
Correctly format 0 decimal places (#18397)
Conditionally scope the PR run for the new Presto JDBC driver (#18395)
Use dashcard title instead of card name in dashboard subscriptions, if it is set (#18360)
#18384 Repro: Data Model shows blank page if there are any hidden tables in the database (#18391)
#18386 Repro: Cannot filter on the null values using the inline context menu (#18387)
Add Presto database e2e coverage with #18351 repro (#18366)
#18364 Repro: Unable to save a nested question in the "Our analytics" collection (#18380)
GitHub CI: Switch to Temurin distribution (#18369)
docs - update docs landing pages (#18367)
#18352 Repro: Pulse table cards with INT64 values fail to render in 0.41.0 (#18356)
#18344 Repro: The original question title is shown in the subscription instead of the curated title (#18355)
Enable `allowJs` and some other options in tsconfig  (#18332)
Extract "custom column" into a separate e2e and CI group (#18336)
fix xlsx exports for data with big integer values (#18323)
tag official collections (#18328)
Update assertions in repro for #15612 (#18313)
Append indexes to duplicate expression names (#18152)
expressions->subselect: exclude fields used only inside expressions (#18065)
Copied `delay` utility function into Cypress backend (#18330)
Circle CI: build without cache for the release branch (#18280)
add basic typescript configuration (#18284)
#17963 Repro: MongoDB cannot use filter expression comparing two fields (#18305) [ci nocache]
#12439 Repro: Clicking on legend in native question breaks the UI (#18294)
Static viz: allow rendering non-timeseries line charts (#18279)
Approved domains tests (#18075)
Reset filter value when widget type changes (#18256)
Static viz: respect custom X and Y axis labels (#18276)
Change implementation of docsUrl to handle RC suffixes for EE versions (#18270)
Static viz: respect whitelabel colors (#18277)
#18114 Repro: Dashboard Textbox does not render links unless using Markdown (#18265)
Add `is-hosted?` setting based on metastore token (#17256)
docs - updates to auditing, landing page, and more (#18266)
#18148 Repro: "Save" button shouldn't appear before one selects the source for a native question (#18259)
Cypress email setup (#18247)
Erroring question page nits (#18190)
Currency list: Add Papua New Guinean kina (#18234)
pull in translations for 0.41 (#18268)
Snowflake: fix error in aggregation expression having different casing in order clause (#18221)
Use UTC as default timezone in alert template when report timezone isn't set (#18257)
Disable question's "Save" button until native query can be run (#18252)
Restyle the Verify button (#18134)
Docker build: just one build stage (#18196)
Static viz whitelabel colors (#18248)
decrease data picker search results to 50 (#18250)
Add missing categorical charts (#18186)
Make webpack output closer to webpack 4 and fix whitelabelling (#18238)
Remove unused function props passed to ParameterWidget (#18202)
GET /api/database/:id/schemas should not return 'empty' schemas (#18123)
Make temporal fields selectable for max/min summary (#18135)
fix missing prop types import after renaming (#18213)
Rename NODE_ENV to WEBPACK_BUNDLE (#18087)
Allow JDBC additional-options in Redshift plugin (#18111)
Reject less/greater than operators on booleans (#18206)
Show permissions for hidden tables (#18171)
Fetch and use fields associated with a parameter to parse parameter values found in URL query (#18104)
Cypress E2E MySQL snapshot (#18193)
Convert deprecated k:mm time style to HH:mm on viz settings normalization (#18167)
Cypress E2E Mongo snapshot (#18184)
Separate qa db snapshots (#18179)
Add scrolling to SQL error messages (#18144)
Translate Whitelabel color options (#18170)
Cypress E2E postgres snapshot (#18106)
fix filters alignment (#18139)
Do not emit view logs when there's no card id for query viewlogs (fixes #18136) (#18138)
Don't compress content when opening sidebar in Question page (#18128)
docs - updated permissions (#17882)
Run all QA DB docker images at once in CI (#18129)
docs - question details sidebar (#17926)
docs - multi-column joins (#17948)
Add cypress tests (#18140)
Check feature flag on backend /graph PUT API for block permission (#18109)
Alert schedule in email template (#18084)
Remove animation from ViewSidebar under reduce motion (#18102)
Include dashboard filters in email & slack subscriptions (#17824)
Programmatically wait for the QA DB metadata to load (#18116)
Remove placeholder code for the new 41 premium features (#18126)
Remove special cases in tests for Snowflake (#18127)
Enforce allowed domains when sending test Pulses (#18122)
Refactor query builder sidebar  (#18098)
Minor async require cleanup (#18059)
Revert reversion of error cards details page (#18107)
unskip repro for markdown in dashboard subscriptions (#18110)
Do not truncate X labels in timeseries charts (#18100)
Unverify cards when they are edited (#17997)
Audit cache controls 2 (#18046)
Revert "Tool to fix broken questions, details page (#18022)" (#18103)
Do not change display on drill to questions (#18008)
do not show time for date columns (#18056)
Tool to fix broken questions, details page (#18022)
revise activation guide (#17861)
Simplify function in LoadingAndErrorWrapper (#18081)
Simplify LoadingSpinner animation in reduced motion (#18082)
Add total value to static donut chart (#18091)
#18021 Repro: "Recents" list in search should display the Verified badge (#18080)
Revert "Separate positive / negative stacked charts (#18007)" (#18088)
Adjust driver deprecation language ("a future" instead of "the next") (#18083)
Add test for ordering when nils are present (#17914)
Troubleshooting the app database (#17669)
Support query cancellation in new BigQuery driver (#17959)
#9027 Repro: New questions do not appear in 'Saved Questions' until you refresh the browser (#18076)
Add initial E2E coverage for "Tools to fix question errors" (#18057)
Start Cypress browser with prefers-reduced-motion set to true (#18041)
#18063 Repro: Pin map with null locations shows tooltip of the wrong row (#18070)
Git ignore `clj-kondo` cache (#18071)
Separate positive / negative stacked charts (#18007)
#18061 Repro(s): Pin map only containing null location results crashes the frontend (#18073)
Add labels to settings fields (#18072)
Do not stack up channels when creating a new dashboard subscription (#18054)
update link in troubleshooting article (#18037)
Escape HTML in markdown cards when rendered for emails (#18000)
Update subscriptions and alerts tables when data changes (#18052)
Grammar and microcopy tweaks to Unsubscribe modal (#18040)
Skip subscriptions audit tests (#18038)
#18009 Repro: Nodata user can create dashboard subscription, but receives an error (#18014)
Handle composite pk filters (#18016)
Tools to fix broken questions timeout fix (#17985)
add PK icon (#18015)
#18028 Repro: X-ray dashboards crash on first opening immediately after they are saved (#18033)
Revert changes to ModalRoute (#18034)
docs - update api doc gen code (#17994)
Fetch fields before parsing parameter values so we correctly parse values for boolean fields (#17999)
#6239 Repro: Not possible to sort by Custom Expression fields (#18029)
Subscriptions and alerts audit (#17765)
docs - restore original file name (#18026)
show meaningful error for waterfall chart of multiple series questions (#17992)
fix tables are not clickable in recents (#17995)
Static Viz Formatting (#17957)
Wrap long question titles to prevent overflows (#17996)
Add unsubscribe user modal in admin (#17803)
Allow searching a table in a specific database in DataPicker (#17987)
Audit cache controls (#18001)
fix wrong data used for click actions in old pivot table (#17937)
fix dashboard subscription default value for non-field filters (#17967)
Improve `defsetting` validation and other misc small tweaks (#17896)
DELETE /api/ee/audit-app/user/:id/subscriptions archive Pulses created by user (#17981)
Add DashboardSubscription and Alert audit queries (#17818)
When fetching field also fetch field associated with its human_readable_field_id (#17958)
Fully deprecate alert deletion, and rename some alert/subscription endpoints (#17740)
GeoJSON URL validation fix (#17990)
handle unaggregated data warning for waterfall chart (#17988)
treat empty string parameter in url like it is unset (#17912)
Disable parameter widget input when not mapped to a card on dashboard (#17956)
Allow using Grid map in native questies questions (#17930)
For sparklines, check that viz type is line (#17950)
Add repro for #17975 (#17980)
Handle retryable exceptions in new BigQuery driver (#17908)
EE API endpoint code reorganization (#17913)
added padding override to .RunButton class (#17953)
Select temporal units for join date-time dimensions (#17883)
Update order-by field when the breakout changes (#17960)
Move block permission under advanced permissions flag (#17927)
Make docs a bit more clear what values to use for MB_LDAP_SECURITY. (#17745)
fix clearing of sidebar state when removing a parameter (#17934)
Add approved domains for notifications setting (#17685)
Show error messages when rendering card fails (#17929)
Feature | More Granular Caching Controls (Frontend) (#17802)
invalidate revision entities cache when questions/dashboards updated/deleted (#17887)
Handle REPEATED mode fields in BigQuery sync (#17907)
Do not display dashboard sticky filter container if no filters set (#17928)
Add subscription-allowed-domains allow list Setting (#17897)
Tools to fix broken questions (ee) (#16842)
Test the JAR with Java 17, the new LTS (#17911)
dashboard filter: do not display "No matching..." if not filtered (#17900)
fix a few prop errors causing console warnings (#17840)
Remove some left-over references to Leiningen (#17909)
do not unlock question display if it was locked in unsensible visualization (#17860)
Tweak Avatar: don't use attrs() with styled (#17890)
Presto JDBC driver: hide Kerberos related properties when Kerberos is not enabled (#17868)
Update URL when converting to native query (#17873)
i18n: do not remove missing plural from translation (#17799)
Add new Settings (placeholders) for the new 0.41.0+ premium features (#17891)
combine sidebar state for various dashboard sidebars (#17843)
Better with-temp error messages (#17889)
Removed extra border-bottom on EntityItemWrapper (#17867)
Test fix :wrench: (#17888)
docs - update API docs format (#17716)
Do not reset filters when saving, cancelling, refreshing dashboards periodically (#17165)
unskip 17738 repro (#17877)
Add extra space and text trimming for static viz axes labels (#17859)
Remove outdated resolutions in package.json (#17863)
Handle expressions viz settings (#17866)
Ignore hidden tables in search (#17804)
Add E2E test for joins on multiple fields (#17878)
Unskip: Cannot add filter for an integer field in a question based on a saved native question (#17872)
New email design for dashboard subscriptions, alerts and pulses (#17781)
Refactor audit queries to use defmethod instead of ^:internal-query-fn metadata (#17817)
split dashboard.js into actions + reducers + utils (#17816)
Update logic to hide db add/edit fields (#17845)
permissions fixes (#17757)
Cache ttls nillable now (#17852)
Delete user pulse/alert/dashboard sub subscriptions when User becomes inactive (#17809)
Update 05-visualizing-results.md (#17684)
Visual test for UserAvatar component (via _internal) (#17847)
move fullscreen toggle onClick to button from icon el (#17844)
Don't pass a component with propTypes to forwardRef (#17836)
Update link to e2e doc page (#17857)
Filling in missing text (#17835)
docs - dev guide links (#17842)
Basic skeleton of front-end dependencies analyzer (#17743)
BQ expression fixes (#17347)
Ignore the coverage of semi-constructors only for type hints (#17841)
fix PropTypes console warning (#17838)
add keys to arrays of routes (#17839)
Do not bin relation fields even if they have fingerprints (#17782)
DB and Dashboard-contingent caching backend (#17679)
don't show exact seconds for a formatted relative time (#17828)
Unify .dir-locals.el files (#17815)
Remove unused arguments from functions (#17805)
Allow creating & editing dashboard subscriptions if you have view-only access to a collection (#17722)
translate options in SchedulePicker (#17792)
remove a random console.log call (#17806)
Adds paid plan-specific links (#17748)
Static viz send viz settings (#17736)
Attempt to fix #17751: filter widget input value overflowing (#17761)
don't set pulse on SharingSidebar mount to prevent race condition when moving between sidebar views (#17791)
let users disable attachments with questions checked (#17793)
Move `notifications` spec to the `onboarding` folder (#17794)
bugfix: browse data sorted using display name (#17542)
dimension list: hide sub-dimensions for fields that are FK (#17783)
#17763 Repro: Trying to set "Granular" permissions after "Block" is broken (#17787)
#17777 Repro: Hiding all tables in data model removes them from the permissions page (#17779)
remove Parameters component defaultProps to get rid of warning message (#17788)
rmv .info.js files from coverage (#17766)
XLSX export formatting for pulse attachments  (#17755)
#16785 Repro: Search shows hidden tables (#17786)
#17775 Repro: Dashboard filter on a custom column doesn't work (#17780)
New `permissions` E2E CI group (#17778)
Refactor CollapseSection (#17754)
#17768 Repro: If Entity Key fields are fingerprinted, then they show binning options in GUI (#17776)
Make dashboard filters sticky in edit mode (#17719)
#17738 Repro: "Native query editing" permission selector is inconsistent between "No self service" and "Block" permissions (#17742)
#17751 Repro: Filter with a single long value hides the remove-button (#17760)
Edit Permissions help text (#17741)
Run Percy (sanity check) visual tests in CircleCI (#17747)
Remove deprecated pulse DELETE API (#17700)
fix percy cypress tests (#17733)
Hide configurations that are handled by Cloud (#17730)
Donut fixes (#17731)
Refactor static viz, add formatting, add area chart (#17728)
Block permission front-end (#17638)
Migrate frontend docs from wiki (#17720)
Add `archived` parameter to `GET /api/alert/question/:id` (#17645)
Make sure built drivers do not contain clojure core classes. Handle either string or keyword args to build scripts (#17608)
use preventScroll in focus call in ListSearchField (#17692)
only apply DataSelectorContainer css hack in QuestionDataSelector (#17676)
Only delete alert for card with multiple breakouts when a goal is defined (#17678)
Add jest-watch-typeahead plugin (#17713) [ci nocache]
Close all descendant collections when clicking on an open parent (#17703)
Collection sidebar: expand/collapse children when clicking on parent collection name (#17680)
Collapse small donut slices into a single "Other" category (#17637)
Remove Cypress from yarn `resolutions` (#17715)
sqlite: update sqlite-jdbc to 3.36.0.1 and improve date/time handling (#17567)
Test init code: read driver parents from driver deps.edn (#17612)
#17658 Repro: Not possible to delete dashboard subscription unless dashboard is in root collection (#17699)
Only include dashboard subscriptions in `GET /api/pulse` if `user_id` param is included (#17647)
Svg test improvements (#17652)
Don't throw exception when archiving a dashboard in non-root collection (#17670)
Remove some superfluous return types in the queries library (#17681)
Add "on" string to translation (#17696)
Turn dataset_query into structured data in search results (#17690)
Add i18n to js engine (INTL) (#17688)
Allow joins on multiple fields in the notebook editor (#17633)
unskip repro (#17674)
Add vertical labels for bar chart (#17664)
CI with GitHub Actions: bump the timeout for front-end unit tests (#17682)
When creating database, pass syncing schedule options to api (#17639)
#17657 Repro: Subscriptions are enabled without the recipient, which leads to an error (#17666)
match tick stroke color to axis stroke color (#17665)
Isolate BigQuery legacy and new driver test runs (#17626)
Vertical legend fixes for LineAreaBarChart (#17552)
Consolidate dashboard sql filters (#17661)
ESLint rules to prevent prop shorthands for w and h (#17656)
Add test for dashboard filter applied to the explicitly joined field (#17650)
Extract sidebar component from DatabaseEditingApp (#17597)
GridItem should not use prop shorthand (#17610)
Avoid prop shorthand in month-year parameter widget (#17654)
Components in store admin should not use prop shorthands (#17640)
Add recent views list (#17582)
slightly split existing search components (#17581)
[Dashboard filters coverage] Add test for required and default values set on dashboard SQL filters (#17628)
Unskip and relocate (extract) repro for #13960 (#17641)
Troubleshooting: can't log in (#17558)
docs - troubleshooting sandboxing (#17593)
Revamped Developer's Guide (#17625)
Add initial set of tests around SQL dashboard ID filters (#17607)
#17490 Repro: Field Filter variable type cut off by Nav for SQL questions (#17605)
#17615 Repro: Valid Email settings disappear on save (#17624)
Unskip "email" part of the reproduction for #16226 (#17623)
#17619 Repro: "More options" menu not opening (#17622)
Improve driver deprecation UX (#17281)
Keep mongo 4.0 for backend tests until its end of life (#17575)
categorical bar on the backend (#17620)
Support building and hacking on third-party drivers with our new Clojure CLI setup (#17606)
Add simple static categorical bar (#17600)
Correct the instruction to run E2E tests (#17603)
Avoid prop shorthand in query download widget (#17611)
Block permissions backend (#17428)
Example snippet should not use prop shorthand (#17604)
Include markdown cards in Slack dashboard subscriptions (#17457)
Update Presto JDBC lib version (#17591)
fix permissions editor missing scroll (#17595)
use backticks in auto-backport workflow (#17594)
Add modals to unsubscribe from and archive notifications (#17516)
User details on moderation review (#17482)
Effective type in result cols (#17533)
Update notebook editor's join step UI (#17523)
Add read-only Notifications tab (#17503)
Make the front-end metadata sources valid JavaScript (#17539)
Unify styled component file extensions: .styled.js → .styled.jsx (#17580)
Add Kerberos support to Presto JDBC Driver (#16307)
Support counting grouped on an aggregated field in BigQuery (#17536)
Improve EntityForm component (#17583)
Keep `collection_id` of dashboard subscriptions in sync with same field on dashboard (#17537)
#17512 Repro: Custom Expression case is using wrong field reference when nested query (#17576)
New Permissions Pages (#17328)
Move our E2E guide from wiki to in-repo .md (#17540)
Visual tests for static-viz (via _internal) (#17561)
#17524 Reproductions: Visualization type is not always respected, when filters are applied (#17565)
Update dev guide with info on deprecated Debugger for Chrome (#17571)
Revert Mongo QA Docker image update back to the version 4.0 (#17574)
#17547 Repro: Editing an alert causes it to be deleted in some circumstances (#17563)
Avoid prop shorthand in the login page (#17566)
enable default parameters to be unset on dashboards (#17522)
Do not track testing coverage for styled.js* files (#17505)
Refactor `cy.editDashbardCard` Cypress custom command (#17560)
Mongo custom expressions (#17117)
Avoid prop shorthand in the database/schema/table browser (#17559)
Add typing hints to `isa` to assist type inference (#17530)
New endpoints for fetching alerts & subscriptions (#17531)
#17551 Repro: Dashboard date filter "Include today" does not work for relative "Next" (#17557)
Don't warn when running interpreted js (#17529)
Formatting & whitespace fixes in Clojure files (#17441)
add workflow that creates backport PRs which had a backport label before merge (#17550)
Unifying all troubleshooting guides so far (#17553)
Add day of week formatting with formatting options (#17549)
Add formatTimeWithUnit (#17527)
#17514 Repros: Run-overlay not going away on GUI question (#17534)
#13468 Repro: Question with joins causes re-run overlay after first save (#17535)
refactor/move parameter object transformations to one place (#17461)
Make filters sticky in Dashboard page (#17406)
New BigQuery Driver (#16746)
Enable proper type inference for call, bind, and apply (#17518)
Remove some superfluous return types in the metadata code (#17519)
Avoid prop shorthand in collections (#17517)
Edit Cypress custom command `cy.createDashboard()` (#17521)
New columns picker for notebook editor (#17511)
don't prefetch data for the data selector (#17455)
replace backport label with a more flexible backport command (#17497)
Split UserSettings into routes and individual components (#17474)
Add `right` prop to NotebookCellItem (#17435)
fix ModalRoute close removes last segment instead of navigating to the parent path (#17508)
Build static viz in the dockerfile (#17507)
Add `editDashboardCard` Cypress custom command (#17493)
docs headings (#17492)
Display official collection tooltips (#17453)
codecov config: disable patch checking (#17502)
[Dashboard filters coverage] Add initial set of tests for dashboard SQL date filters (#17483)
Refine create question custom commands (#17459)
Warn if .lein-env is present on launch (dev-only) (#17477)
Ensure Setting :default values match the Setting :type; fix user-facing-value for calculated Settings. Cleanup & extra tests for email settings (#17442)
Svg/percentages (#17415)
Svg/labels (#17413)
docs - links to dashboard subscriptions (#17489)
Backend SVG rendering proof of concept [ci skip] (#15781)
Refactor notebook editor's join step (#17445)
#17450 Repro: New databases with "This is a large database ..." still uses the default sync+scan settings (#17476)
upgrade to @percy/cypress 3.x (#17485)
Change clj-kondo linter levels from :warn to :warning so it exits with nonzero status (#17475)
Avoid prop shorthand in chart sidebar (#17478)
Add "moderation" folder to e2e CI groups (#17481)
Update Snowflake JDBC driver version (#17452)
Make DB name in c3p0 name more robust (#17447)
[Dashboard filters coverage] Add initial set of tests for dashboard SQL location filters (#17423)
Avoid prop shorthand in _internal (#17471)
add moderation events to question timeline (#17401)
Update 03-metadata-editing.md (#17470)
Update Snowflake documentation (#17449)
Avoid prop shorthand in the navbar (#17460)
Prevent infinite re-rendering when the scroll bar appears/disappears (#17444)
Add initial set of tests around SQL dashboard number filters (#17395)
Add vertical legends with Popover (#17433)
Add LegendLayout to LineChart  (#17467)
codecov config: enable carryforward (#17454)
add verification badge to question lists (#17426)
Don't use prop shorthands for some home containers (#17451)
Use LegendCaption directly in LineChart (#17396)
Upload front-end code coverage to codecov.io (#17440)
Polish CollectionBadge for official items (#17408)
Increase official collection badge in search results (#17409)
Update homepage official collection display (#17404)
Update collection type input (#17405)
Add "Send to Slack now" button (#17438)
Trigger front-end linter CI if ESLint configs are modified (#17437)
Add hourly option for email scheduling (#17425)
Do not use prop shortands in the database edit (#17421)
Remove Flex/Box prop shorthand in metabase/components (#17345)
Add visual smoke test for notebook editor (#17432)
Improve Dashboard component: separate semantics from styles and extract subcomponents (#17366)
Do not use Flex prop shorthands in version notice (#17416)
#13136 dynamically determining supporting features by database instance (#17319)
XLSX auto-sized columns, frozen header and auto-filters (#17325)
Changing type (#16776)
Namespace for extensions to clojure.test (#17400)
Refactor CollectionBadge component (#17393)
XLSX export formatting (#17226)
Add visual regression tests for dashboard page (#17376)
add unit tests for (most) metabase-lib/metadata classes (#17367)
Remove TitleLegendHeader (#17374)
Whitespace linting (#17348)
Java + Spark SQL prep steps should delete target dir on failure (#17360)
Include moderated status on virtual db/table information (#17340)
Verification in search (#17329)
Remove unused Slack's client library (JavaScript) (#17384)
Missing last letters in troubleshooting guide titles (#17392)
Add initial set of tests around SQL dashboard filters for text/category (#17382)
Visual test: consistent baseline with no randomization (#17380)
Percy GitHub Actions: shortcut the process to get the version (#17370)
Include card names in export filenames (#17349)
Webpack prod build: exclude ESLint loader (#17371)
#17060 Repro: Duplication of the displayed table columns (#17361)
#17211 Repro: No matching dashboard filter found when it clearly has been found (#17364)
Visual tests for some important URLs post on-boarding (#17358)
Continuously check when Metabase is ready, instead of waiting 3 mins (#17369)
fix percy bot command (#17362)
Clean up prop destructuring in Dashboard component file (#17338)
Remove flow types (#17337)
use target of 'web' when using webpack-dev-server (#17356)
Update log-configuration.md (#16652)
Regularizing titles of troubleshooting guides. (#17296)
#17212 Repro: Not possible to apply dashboard ID filter to a nested QB question (#17343)
Repro for #17339: collection tree should expand/collapse on parent collection name click (#17344)
Invalidate cached pooled connection when DB details change (#17307)
GitHub Actions: remove the check for Clojure version (#17341)
e2e test for "About Metabase" modal (partial repro for #15656) (#17308)
correct typo in driver prestor -> presto (#17334)
Bump some more backend dependencies (#17326)
devcontainer: Remove Leiningen and use the latest Clojure (#17327)
Bump Jetty/Bouncycastle/Jackson/Apache Commons dep versions (#17318)
Minor test runner/config fixes (#17323)
Change default for currency style to code if symbol not supported (#17301)
improve searchability of metabase-lib class instantiations (#17320)
docs - troubleshooting logs (#17304)
Bump depstar version to prevent annoying messages about having multiple SLF4J bindings (#17309)
Remove last of leiningen, update comment in shadow and lsp classpath (#17317)
correct moderation review hydration (#17311)
update strings for 0.40.2
Update `project.clj` references (#17294)
Make the field search do limits (whacks #17228) (#17283)
Use `jest-dom/extend-expect` library globally (#17292)
Remove .git directory in .dockerignore so version can build correctly (#17300)
Cloverage shouldn't instrument tests/test utils (#17298)
🏎️🏎️🏎️ test runner improvements 🏎️🏎️🏎️ (#17286)
Upgrade `@cypress/webpack-preprocessor` (#17180)
Prepare jest config for FE code coverage (#17182)
Add the ability to verify/unverify questions (#17030)
Handle mutation of vizSetting column when syncing columns in a native question (#17279)
Update lein references in scripts (#17291)
fix dev run (#17270)
Close collection sidebar on mobile (#17278)
#17268 Repro: Snippet folder permissions applied to root (#17280)
Update yarn build scripts (#17269)
Improve CollectionsList component (#17277)
Add :nrepl alias [ci skip] (#17276)
Let VS Code recognize decorators (#17258)
Switch to tools.deps (#16749)
Default pagination #17200 (#17210)
Only build currently active drivers (#17262)
Visualization settings query processor middleware (#16972)
Troubleshooting sync/fingerprint/scan (#17255)
Upgrade babel to 7.x.x and jest to 27.x.x (#17137)
Hide currency symbol option if not supported (#17240)
Move currency list from JS to Clojure (#17243)
Run Eastwood linter against test namespaces. Remove reflection-warning script (#17193)
docs - update troubleshooting section (#17236)
Run namespace checker linter on test namespaces (#17239)
devcontainer: Ensure that Node.js and Yarn are installed (#17237)
auto cherry pick to release branch on merge into master (#17225)
Display official collection badge on the homepage (#17215)
Include authority_level on collections in collection items (#17204)
Allow only admins to edit collection types, hide form field for personal collections (#17170)
Display official question's badge when it's in regular dashboard (#17167)
Add ability to make all children collections official or regular (#17168)
Display official badge throughout the application (#17125)
Bootstrap collections plugin, add collection types form (#17071)
Troubleshooting guide for sandboxing (#17207)
Skip Percy job triggered by comment early (#17232)
Minor fixes to performance troubleshooting guide (#17221)
Update auto-generated API documentation [ci skip] (#17227)
Enable clj-kondo failures on missing docstring; remove bikeshed (#17224)
add basic percy setup (#17162)
Performance troubleshooting guide (#17174)
docs - troubleshooting guide: load from h2 (#17209)
Editing FAQ. (#17153)
Don't use extend for PaddedTextButton (#17197)
First editing pass through troubleshooting guide (#17154)
#17186 Repro: People search dropdown goes outside of the screen (#17203)
Repro for #15342: The order of join-type causes query fail (#17201)
#17200 Repro: Only the first 50 user groups are displayed (#17202)
Refactor FormField component (#17089)
add question details sidebar (#16803)
Implement JDBC based Presto driver (#16194)
[Dashboard filters coverage] Add initial set of tests for dashboard text/category filters (#17192)
[Dashboard filters coverage] Add initial set of tests for dashboard location filters (#17191)
[Dashboard filters coverage] Add initial set of tests for dashboard number filters (#17188)
[Dashboard filters coverage] Add initial set of tests for dashboard ID filter (#17190)
Add support for driver deprecation (#17028)
[Dashboard filters coverage] Add initial set of tests for dashboard date filters (#17173)
Improve Collection Sidebar UI for mobile (#17163)
Improve Collection Sidebar component (#17114)
Upgrade `xlsx` library (#17181)
Remove regionid from Snowflake config (#16740)
change iframe-resizer height calculation method to max (#17158)
add basic static-viz internal route and examples (#17172)
fix Radio component with new syntax (#17103)
Bundle static viz charting code (#17157)
Add and enable `cypress-grep` library (#16930)
Remove `image diff` (#17159)
Extract component from ParameterFieldWidget (#17091)
site-url test improvements (#17142)
Add Metabase Cloud link to admin settings for hosted instances (#17134)
#17139 Repro: Clicking on cancel edit dashboard without any changes removes the dashboard filter (#17140)
Do not change route in case collection archiving is cancelled (#17135)
Don't guess site url from requests to healthcheck endpoint (#17136)
fix stacked buttons on embedded dashboards (#17126)
Do not reload settings on error when explicit Save is used (#17123)
Don't use extend with styled-components anymore (#17048)
Upgrade Webpack to the v5 (#16113)
Run Cypress jobs in CircleCI as a matrix (#17104)
#17043 Repro: With Whitelabel custom name, Metabase name is still shown multiple places in Admin Panel (#17112)
Remove Number from semantic types (#17109)
Improve Collections Header component (#17098)
[Cypress runner] Run Cypress (#17099)
Replace ButtonGroup component with SegmentedControl (#16958)
Use `saturated-yellow` instead of `warning` (#17085)
Separate the (whitelabel) color theme tests (#17106)
Link to MB docs from Google Sign-In admin page instead of Google docs (#17075)
offset is a reserved word in mariadb as of 10.6 (#17101)
Add propTypes, remove Flow types from ParameterFieldWidget component (#17081)
Allow displaying info tooltips on FormFields (#17073)
Refactor entity `getIcon` to return icon props (#17074)
Set program name on Oracle connections (#16968)
[Dashboard filters] Create initial infrastructure and group repros (#17079)
Rename CI group `filters` -> `native-filters` (#17066)
Add `createNativeQuestionAndDashboard` Cypress custom command (#16970)
Remove db paging (#16990) (#17054)
🍒 Cherry pick changes from July 9, 2021 from `release` -> `master` (#17051)
docs - fix pulse link [closes #16953] (#16959) (#17055)
Remove Multi-Release from manifest (#17027)
Scroll to selected collection and question in the saved question picker (#16957) (#17052)
minimal hack fix search results being below the data picker (#16998)
[Cypress runner] Use Cypress Module API to generate Cypress snapshots (#17010)
[Cypress runner] Get version (#17015) (#17047)
[Cypress runner] Extract print helper functions (#17008) (#17017)
[Cypress runner] Set `HAS_ENTERPRISE_TOKEN` using Configuration API (#17006) (#17016)
Smartscalars (#17020)
Humanize coercion strategy strings (#17029)
Form: guard against undefined submit function (#17023)
When running some TokenField unit tests, shim Element.closest (#17021)
#17019 Repro: Question filters don't for for embed/public scenarios (#17024)
Entities search: guard against undefined data (#16996)
Data selector: avoid toggling popover when it's not ready (#16987)
Unskip #16617 (#17004)
Improve SettingsUpdatesForm component (#16988)
When running some Jest unit tests, use a MutationObserver shim (#16985)
Remove email quotations which could be deemed controversial.  (#16944)
When running <Logs> unit tests, mock XMLHttpRequest (#16974)
Don't offer to save on visualize unless dirty (#16994)
Easy checking for missing library licenses (#16989)
Update iframeResizer.js (#16952)
VS Code launch config to facilitate debugging (#16975)
Test CTA renders for Enterprise and Cloud in Settings › Admin › Updates (#16966)
Remove console logs (#16982)
Run unit tests with Jest with --silent (#16967)
[SQL filters coverage] Add initial set of e2e tests around SQL field filter type of ID (#16926)
[SQL filters coverage] Add initial set of e2e tests around SQL field filter type of "None" (#16928)
CI GitHub Actions: Cache JARs for Shadow CLJS (#16965)
Render/scalar (#16955)
Refactor CheckBox and StackedCheckBox components (#16913)
Mark "Every field is hidden right now" string for translation (#16915)
Remove `recompose` (#16829)
update remaining strings for 0.40 (#16945)
Saved question picker bug bash (#16940)
fix typos (#16734)
Saved question picker fixes (#16904)
Update logic and labels for settings updates preferences in Cloud and Enterprise (#16920)
GitHub Actions: correct the way yarn is supposed to pull the deps (#16933)
don't show error card in prod & make it fullscreen when running cypress (#16908)
Hardcode fake salt and pw hash for timing attack prevention (#16932)
docs - sso tutorial auth0 14185 (#14206)
add autofocus to some of inputs (#16858)
Test collection sidebar responsiveness (#16896)
Backwards compatibility for friendly field names (#16860)
Add instructions on running enterprise FE (#16911)
#16855 Repro: Search does not work for users without data access (#16903)
Excise 45 day clause from view line graph in audit (#16906)
Consistent request timing for login and password reset endpoints (#16837)
docs - connecting to dbs with ssl certificates (#16341)
docs - update links (#16905)
#16886 Repro: "Run selected text" removes everything but the selected text from the query (#16902)
[SQL filters coverage] Group reproductions (#16898)
Make mobile Collections Sidebar hidden on page load (#16878)
Add SegmentedControl component (#16885)
[SQL filters coverage] Extract and apply SQL field filter data (#16893)
Simplify `openEntryForm` helper function (#16895)
[SQL filters coverage] Extract and apply date filter helpers (#16892)
[SQL filters coverage] Extract and apply SQL field filter helpers (#16891)
[SQL filters coverage] Extract and apply basic SQL filter helpers (#16887)
[Cypress Helpers] Extract functions into separate files (#16884)
[SQL filters coverage] Add initial set of e2e tests around SQL field filter type of Date (#16854)
Group personal collections in the saved question picker (#16875)
[Cypress Helpers] Add `filterWidget` helper function (#16882)
Ensure the unique key for this Link instance (#16864)
When used in data picker, Popover's children is actually an array (#16866)
Extract `getInitialCollectionId` selector helpers, add unit tests (#16867)
Clean up Radio component (#16874)
Move stray folders into existing CI e2e groups (#16868)
VS Code: Add the tasks to format code and to run linters (#16835)
Add initial set of e2e tests around sql field filter type of String (#16851)
Add initial set of e2e tests around sql field filter type of Number (#16852)
Add saved questions picker (#16808)
Supress invalid props to a div element (#16841)
Add Cypress helper function `openNativeEditor` (#16846)
Chain filters cpu utilization (#16817)
docs - update column header formatting image (#16833)
Add Tree component (#16812)
Add unit tests for syncQueryParamsWithURL (#16821)
Extract SelectList component (#16814)
update strings for 0.40 and add Serbian (#16815)
[SQL filters coverage] Basic SQL filter types (#16813)
Sort deps in package.json (#16809)
Correct static interop (#16804)
#16789 Repro: Clicking column name when dropdown menu is open should close menu (#16807)
#16784 Repro: The list of collections available on homepage "Our analytics" depends on the name of the first 50 objects (#16806)
Tell user their account is deactivated in password reset email (#16744)
Retrieve multiple get params for Public Question (#16795)
Refactor before fix: Retrieve multiple get params for Public Question (#16765)
#16781 Repro: Error when setting column type to Number in data model settings (#16799)
Xray joins 14793 mk3 (#16723)
Unskip the repro for #16379 (fixed by PR #16707) (#16779)
Reimplement subdimensions menu in the time-series footer (#16768)
filter possible native question mapping options by parameter operator (#16747)
#16770 Repro: Changing granularity/binning of a field, which is already used for sorting, will fail the query (#16777)
Divide SSO spec into separate files (for each of the providers) (#16772)
Unskip repro for #15974 (#16769)
docs - note on pivot table database support [closes #14876]
Unskip repro for #15397 (#16760)
fix linear interpolation of missing values (#16733)
#16739 Repro: Filter feature flag causes Run-overlay of results in Native editor unless editor is expanded (#16753)
Since CodeQL check is required, always have it run (#16758)
Cache results dont affect average execution time (#16720)
Licenses file (#16554)
fix map visualization is not suggested with first numeric column (#16706)
Move smoke tests to the CircleCi (#16742)
:wave: `get-id` (#16730)
Check environment variable before db or cache in `setting/get-string` (#16644)
Expand the supported filters for coordinate type (#16728)
#16672 Repro: Implicit binning on longitude from SQL question results in error (#16738)
#16671 Repro: Auto-binning on time series field is different for SQL than it is for QB (#16737)
#16670 Repro: Auto-binning on number field is different for SQL than it is for QB (#16735)
[Binning e2e coverage] Asserting on the bins from the regular QB table (#16712)
[Binning e2e coverage] Longitude Correctness (#16630)
[Binning e2e coverage] Time Series Correctness (#16643)
Add marginBottom to SelectPicker (#16716)
Better error message when logging in as a deactivated user with email or LDAP (#16685)
Move *ignore-cached-results* to middleware (#16695)
Clean up styles on password reset button (#16721)
Remove " (ms)" from "Query Runs" label in Enterprise admin section (#16715)
Surface error message during Google login if there's no corresponding MB account (#16719)
GeoJSON validation and support for `Feature` type (#16688)
Do not break waterfall when there is 0 in the series (#16687)
docs - 0.40 (#16696)
#16693 Repro: Binning from a column popover (distribution) on explicitly joined field renders incorrect title (#16705)
#16675 Repro: UI inconsistencies for bucket display on tables from explicitly joined tables (#16703)
Localization also works already without reference to null semantic type, here is test to memorialize this (#16641)
Restore Google sign-in deactivated account message (#16689)
FK table search on data model admin screen (#16632)
#16674 Repro: UI inconsistencies for bucket display on tables from implicitly joined tables (#16698)
[Binning e2e coverage] Asserting on the saved QB question with explicit joins (#16661)
[Binning e2e coverage] Asserting on the bins from the saved QB question using implicit joins (#16662)
Move block of code about getting input placeholder out of render function in FieldValuesWidget component (#16686)
support date ranges for click behavior that updates dashboard filter parameters (#16682)
unskip and fix repro (#16684)
wait for schemas/tables to load before running permissions grid logic (#16677)
fix inability to change series settings when its title is an empty string (#16602)
Show login history tab for LDAP/Google auth logins (#16676)
Restore admin Tasks pagination (#16678)
adjust row bar chart appearance (#16657)
Simple question summary sidebar: highlight the selected binning (#16665)
[Binning e2e coverage] Asserting on the saved SQL question (#16660)
Hide permission controls for personal collection's sub-collections (#16668)
Do not let boolean literals break standard filter (#16655)
Hit new API for reading GeoJSON data in custom map settings form (#16610)
fix trend visualization is not visible if the first column is not date (#16638)
don't apply parameter filters to object queries (#16637)
New endpoint for fetching geojson from URL (#16607)
Audit questions BugBash fixes (#16545)
Data picker search: do not complain on empty string (#16642)
post merge fix
expose error in UI when database GET fails (#16645)
#16379 Repro: Selecting bin count on intermediate data question fails (#16633)
Pass along `redirect` URL search parameter in Google auth to email/password form (#16634)
Hour of day was fixed 0.39 but test enabled here (#14124) (#16636)
Show email/password login errors when SSO is active (#16593)
Keep click behavior when reset settings (#16600)
Exclude non-standard filter from being propagated to the view header (#16614)
Group existing binning repros together (#16629)
#11503 Repros: Filters from dashboard not used in question (#16627)
use is-null filter when value is null (#16601)
Add repro for #16617 (#16618)
Typo in connection pool diagnostic JSON download (#16599)
[Binning e2e coverage] Binning options (#16622)
fix inability to use hidden columns for click behavior (#16589)
stop hiding broken dashboard parameters so that they are removable (#16582)
refetch card on qb/RELOAD_CARD action (#16571)
Add propTypes to LoginApp component (#16595)
Extract largish sort-order function (#16577)
#16555 Repro: Collections appear in items list for user with revoked access to collections (#16624)
Add propTypes to PasswordResetApp component (#16597)
Add propTypes to LogoutApp component (#16596)
exclude parameters from isDirty check to avoid unnecessarily showing the "Save" button (#16579)
Bump up REPL timeout by a minute (#16604)
Don't compute only on non-zero scores (#16598)
fix click behavior on pin maps (#16568)
Re-throw error in custom map form so that it appears on frontend (#16580)
fix click behavior on pie charts (#16574)
hide snippets folders from the collections sidebar (#16576)
Cherry pick ExpressionEditorTextfield from release branch (#16587)
Repros for #12782 and #4995: Problems with the labels when showing only one row in the results (#16585)
Lookup ip address for new login email off thread (#16348)
Remove unused code from auth/selectors (#16578)
Add tests for collections metadata (#16538)
Rename Header's `showBadge` into `hasBadge`
Order by _revision_ id, not _user_ id (#16536)
Add sorting to collection items (#16385)
Add tooltip displaying the exact time of the last collection item edit (#16492)
Add drag-n-drop to collection items tables (#16360)
Remove "Pinned items" text assertion
Sort by last_edited_by (#16388)
Switch the collection page to table-based layout, display last edit info (#16357)
Display last edit info in Question and Dashboard headers (#16354)
Revert "Feature | Collection Metadata (#16510)" (#16570)
Feature | Collection Metadata (#16510)
#16386 Repro: Filtering on `boolean=true` column causes blank screen or "Something went wrong" (#16495)
Support multiple domains for Google Auth in EE (#16549)
more dox updates [ci skip]
Clarify Mac App build steps
Don't need to download uberjar yourself anymore [ci skip]
Add propTypes to QuestionEmbedWidget (#16557)
MBQL: allow case statements inside arithmetic operators (#15126)
Add tooltip to question share icon (#16556)
Compacted scalars over different widths (#16528)
Replace real TLDs with `.test` in frontend tests (#16552)
Unskip repro for #15695 (#16551)
Dashboard param values endpoints should return 1000 results max (up from 100) (#16546)
Allow LDAP logins even if givenName or sn attributes are missing (#16139)
Close Custom Expression Helper after blurring (#16541)
Capitalize only first letter, don't mess with existing caps for unfriendly field name (#16539)
Move Google auth code into separate namespace (#16530)
Unskip repro for #13751 (#16535)
Allow custom filters for LDAP group search (#16240)
#16498 Repro: Should be possible to drag items to the root collection (#16525)
add husky with precommit hook for linting FE code (#16515)
Point CircleCI to 0.186 version of Presto CI image (#16527)
Presto test fixes (#16524)
Refactor Google sign-in settings page to use Form component (#16506)
Move items to root collection via drag-n-drop (#16502)
add a spec for checking values render on combo chart (#16513)
#16181 Repro: Dashboard Contains filter doesn't apply when clicking on Question title (#16503)
fix missing value labels on timeseries for combo charts (#16488)
Add helpers to define Settings with multiple impls (#16365)
Friendly names bugfix 2 (#16482)
Post-merge fix :wrench:
Ignore unmapped groups during SSO group syncs (#16314)
Pass UTF8 as a literal into grouping by a bytes->temporal column (#16336)
Update criterion for checking language in onboarding setup e2e test (#16493)
Detect if file is blank or bad for SQLite DB connection (#16372)
DB Pagination Backend 11806 (#16346)
Adjust CSP header to make React Dev Tools work on Firefox (#16375)
Migrate friendly names (#16330)
Unskip merged repros (#16390)
#12128 Repro: Can't change label on empty row value (#16426)
Update feature/project epic issue template
add missing prop-types to question audit (#16383)
#16378 Repro: Cannot enable JWT authentication (#16384)
align labels on non-bars in combo charts (#16369)
switch to column settings when sidebar is already open (#16368)
#16226 Repro: LDAP/Email settings gets cleared if validation fails (#16364)
fix hash link (#16367)
#16322 Repro: "Custom mapping" is only available, when "A list of all values" is set (and after a browser refresh) (#16361)
#16327 Repro: Double binning menu for date fields when using Saved Question (Native) (#16359)
#16334 Repro: Click Behavior targeting a question with filter mapped causes the visualization type to change (#16343)
#15993 Repro: Click behavior with filter pass-thru does not show filters defined on question (#16342)
#16350 Repro: "Invite someone" button overlaps activate/deactivate radio buttons on small screen widths (#16355)
filter nulls out of histograms (#16345)
prevent sending password reset email when LDAP is active (#16349)
Audit optimization for questions (#16220)
Paginated collection metadata (#16275)
VS Code: bind the default build task (#16325)
Expand PK/FK filter operators to cover some more comparisons (#16238)
Always show Popover footer regardless of Popover inner scroll (#16308)
Warn users about sandboxing and public sharing (#15951)
Authority Level on collections (formerly Typed collections) (#16191)
Remove unit tests snapshots (#16321)
Add Prop Types to a few Popover components (#16313)
Generate correct SQL for columns from joins inside other joins or source queries (#16254)
#12629 Repro: Human-readable number formatting not working properly (#16231)
Create composite Cypress custom command `cy.createQuestionAndDashboard` (#16294)
Aggregation query should always specify name (#16259)
Unskip repro for #15119 (#16297)
Revamp Cypress custom commands (#16292)
fix missing plural form for the total people number (#16278)
Cleanup from dump-load-entities-test (#16281)
#16273 Repro: Relative date filter applied to the custom column doesn't work (#16280)
Upgrade devcontainer to Java 11 (#16276)
Add basic sidebar for adding questions on a dashboard (#16242)
Serialization fixes for x.39 (#15858)
#16246 Repro: Incorrect values on data points for waterfall charts when one of the values is 0 (#16265)
#16249 Repro: Tooltip of combined dashboard cards does not show the correct column title (#16263)
Improve dashboards drag-n-drop and resizing experience, make them more responsive (#16255)
Bring the dockerfile build to release branch (#16247)
Search: do not complain on empty string (#16251)
#16229 Repro: Drag functionality not working in dashboard visualization options modal (#16252)
Delete appropriate GTAPs when permissions change (#16222)
Restore Custom Expression suggestion highlights (#16215)
#16173 Repro: LDAP setting should hit the correct endpoint (#16205)
#16212 Repro: Questions used in SQL query aren't linked correctly from variables sidebar (#16228)
#16198 Repro: Specific combination of filters can cause frontend reload or blank screen (#16209)
#13313 Repro: It shouldn't be possible to save invalid (non-numeric) LDAP port (#16204)
Yyyymmddhhmmss date strings (#15790)
Parse number filter inputs (#15992)
Don't cast in the outer select when inner select will (#16118)
Collections pagination for #15769 (#15941)
Don't fetch field (values) when in a dashboard (#16056)
Test fix
fix replacement for plural message (#15988) (#16186)
#16170 Repro: Line Chart on MongoDB drops all values when using "Replace Missing Values with nothing or zero" (#16183)
Add PropTypes to TokenizeInput (#16162)
Update running-metabase-on-debian.md (#16163)
Async validation of new password in account settings (#16051)
Reduce fieldname friendliness (#16119)
Dashboard: do not break filter dropdown (#16117)
Display link to database integration docs when connecting a new database (#16018)
#15211 Repro: Pivot table don't show stand-alone values on the upper level grouping (#16149)
Synchronize `ExternalLink` component with the `release-x.39.x` (#16145)
#15558 Repro: Login History tab not available for LDAP/Google logins (#16146)
Coercion strategy hierarchies [PoC] (#16088)
#15882 Repro: Only retains first 2 data series when saving chart with custom expressions (#16143)
#15974 / #11659 Repro: Google sign-in client ID setting fails to save on subsequent tries (#16142)
#16122 Repro: Normal login errors are not surfaced if SSO is also active (#16135)
#16108 Repro: Missing tooltip for sharing individual question (#16133)
#16103 Repro: Filter dropdown sends request for values every time widget is opened (#16128)
Use ExternalLink to automatically use noopener/noreferrer (#16111)
Add Semantic/* and Relation/* ancestor types (#15994)
use lower case email when fetching user from DB (#16091)
test that LDAP works with $ in password (#16092)
Refactor ExpressionEditorSuggestions (#16110)
hide pagination controls when there is only one page, increase page sizes for people management pages (#16084)
Search pagination single model postgres 9 fix (#16060)
Remove extra space before colon in form validation errors (#16057)
Add slugs to URLs to make them friendlier (#15989)
./bin/build should give EE a snapshot version starting with 1 (#16050)
Cleanup logging diagnostic info (#16008)
Update js lib: recompose (#16039)
#15959 Repro: Adding cards to dashboard via search can cause the card to show spinner until browser refresh (#16040)
Add `cypress-real-events` library (#16033) (#16036)
Add `cypress-real-events` library (#16033)
Cypress run: guard against unspecified specs (#15969) (#16019)
fix replacement for plural message (#15988)
format links on the table visualization (#15964)
Dashboard param value (chain filter) endpoints should return cached FieldValues (#15943)
Handle token-like values in encryption key rotation (#15796) (#16009)
Cherry pick Cypress custom command `cy.button()` (#16011)
Add Cypress custom command `button` (#16007)
Dimension type inference: handle CASE and COALESCE (#15996)
Type inference can have access to the environment. (#15982)
Use type inference in ExpressionDimensions (#15965)
Add Microsoft Azure deployment guide (#14733)
Parallel building (frontend & backend) + unify running scripts (#15819)
Use GitHub Actions to run front-end tests (#15507) (#16001)
#15998 Repro: Tooltip only shows first Y-axis value when X-axis is numeric and style is Ordinal/Histogram (#16003)
search pagination (#15923)
Field type validation/error handling (#15991)
Bump version due to security alert (#15662)
Port legacy data type migrations -> Liquibase (#15990)
update Google sign-in docs (#15973)
Add deny list of common passwords (#15912)
Repro #15980: Gauge visualization causes re-render on hover when there are no labels (#15987)
Add Explore results button to saved SQL questions (#15984)
#15981 Repro: Feature flag causes problems with Text and Number filters in Native query (#15985)
Emit events outside of db/transaction (#15909)
#15947 Repro: Hiding a table makes it impossible to edit related questions (#15966)
Cypress run: guard against unspecified specs (#15969)
#15946 Repro: Converting mongo question to native query doesn't pre-select table (#15968)
fix broken permissions editing (#15962)
Reduce tabs font size down to 14px (#15955)
Omit revision history item from list if no `diff` (#15942)
include new line before source hash in version.properties (#15881) (#15933)
Basic type inference for custom expression (#15940)
Add diagnostic info for connection pools to Help page (#15704)
Fall back to base_type when calling parse-value-for-field-type (#15905)
Custom expression: improved message for dangling closing brackets (#15939)
Restore table visibility (#15916)
#15922 Repro: `isNull` function in Custom Columns does not work (#15938)
Druid docker image (#15873)
Add with-temp-env-var-value and with-temp-file test util macros (#15921)
#15893 Repro: Cannot use numeric value before an operator in Custom Expression (#15934)
#15891 Repro: Don't show Custom Expression helper when input is not in focus (#15936)
Search 15768 15738 (#15875)
Split e2e CI groups (#15924)
Make it more difficult to change Site URL (#15849)
Change applicationName to include local process identifier for SQL Server connections (#15908)
Allow multiple `--spec` arguments in Cypress `run` command (#15917)
Add hidden embedding parameters to the documentation (#15739)
Update running-the-metabase-mac-app.md (#15735)
Update environment-variables.md (#15340)
Custom expression: consistent message for missing parentheses (#15910)
Update helper_text_strings.js (#15906)
Collections metadata backend work (#15718)
Reorder test setup so that outer with-secret-key uses test driver (#15911)
Return 401 on auth failure instead of 400 (#15883)
Handle token-like values in encryption key rotation (#15796)
Capture and log diagnostic info about DW connection pools (#15682)
Refine CI checksum calculation - extract e2e files (#15900)
Custom expression: tweak error messages (#15890)
Reorganize test folder: Move e2e support files into a separate folder (#15899)
Custom expression: refactor the logic for the help text (#15897)
Custom expression suggestion: refactor the logic for partial matching (#15889)
Waterfall test: use absolute date range (#15895) (#15896)
Waterfall test: use absolute date range (#15895) (#15896)
Waterfall test: use absolute date range (#15895)
fix groups not updating after a change (#15888)
Search for filter values in questions with contains, not starts-with (#15879)
Admin people pagination backend (#15687)
Remove the `node` parameter from Cypress CI job matrix (#15878)
docs - database connections (#15856)
Use GitHub Actions to run front-end tests (#15507)
Rename Cypress CI groups to `e2e-tests` (#15877)
Delete whitespaces to fix `be-linter-bikeshed` (#15880)
include new line before source hash in version.properties (#15881)
Custom expression editor: correctly accept the suggestion (#15872)
Cap the method cyclomatic complexity in the front-end code (#15871)
fix funnel dashboard card overflow (#15869)
Minor copy-editing in information collection docs (#15852)
Adding the changes from 15780 (#15868)
Add new endpoints in .39 (#15823)
Update API key documentation (#15780)
set Example <pre> overflow to auto (#15859)
fix incorrect selection range in expression triggers popover (#15865)
Cypress: also open DevTools when using Chromium (#15864)
Improve Cypress runner command line config (#15854)
Custom expression: First cut at removing operator suggestions (#15839)
Serialization: support dashboard cards being in a different collection (#15842)
make TableInteractive cell more button-like (#15833)
Use GitHub Actions to run smoke tests (#15792)
Custom expression tokenizer shouldn't barf on undefined char (#15845)
Custom expression: display only one error message (#15818)
Small grammar/typo fixes in developers guide (#15836)
#13217 Repro: Custom Field `concat` only shows filter options as numeric (#15830)
#14307 Repro: User shouldn't have to scroll to see the add-filter button in the popover (#15827)
#13095 Repro: Data point values uses formatting style of first serie on all series (#15825)
Update .ebextensions (add Cloudwatch agent & AWS Inspector) (#14718)
Set c3p0 dataSourceName property to include Metabase specific info (#15681)
#9772 Repro: View only user cannot resize column width (#15815)
#15620 Repro: Filter doesn't work on twice summarized questions (#15810)
#13122 Repro: Custom Column does not maintain data type (#15811)
#15393 Repro: Cannot add new columns after hiding some (#15813)
Custom expression: friendlier message on failing tokenization (#15787)
remove flow suppressions (#15805)
Custom expression: allow parenthesized logical operations (#15802)
#15808 Repro: Cannot add filter for an integer field in a question based on a saved native question (#15809)
#15734 Repro: Contenteditable field losing value and resetting CC formula (#15736)
#15785 Repro: Tooltip shows incorrect values on unaggregated data with breakout (#15788)
#15465 Repro: Waterfall visualization is not working with unaggregated data (#15786)
Custom expression: friendlier message on mismatched parentheses (#15775)
Custom expression: a new exception-free, safe (bounded) tokenizer (#15659)
look for column by id rather than first PK (#15779)
Cherry pick fix tooltip on unaggregated data (#15783)
Add a basic ClampedText UI component (#15723)
add timeline component (#15777)
temporary set resize throttling to 0 when the app is open in Cypress to reduce flakiness (#15522)
Rename collection revision (#15616)
#15754 Repro: Can't use parentheses as expected in filter expressions (#15758)
#15748 Repro: Custom Expression filter is showing a reference to the field id (#15757)
add icons for bucm (#15717)
CI GitHub Actions: No need to mark Java >= 15 as known issue anymore (#15750)
#15744 Repro: Dashboard subscriptions don't include text cards (#15749)
#15737 Repro: X-Rays auto generated titles contain "null" (#15751)
#15741 Repro: Custom expressions don't recognize floating point numbers with 0 omitted (#15753)
#15725 Repro: Summarize on saved question drops user defined metric  (#15747)
Correct the arguments for PERCENTILE function (#15724)
#15694 Repro: Dashboard filter shows placeholder instead of expected value for translated languages (#15729)
#15705 Repro: Dashboard subscription fails when using default dashboard filter value on native query with required parameter (#15727)
Switch from Nashorn to GraalVM JS engine; support Java 15+ (#15708)
Add repro for #15714 (#15722)
#15655 Repro: X-rays from a nested question fail (#15684)
Test sandboxed dashboard subscriptions (#15686)
#15695 Repro: Dashboard filters only search the first 100 values (#15703)
Move dashboard card action buttons in a popover (#15623)
Add repro for #15700 (#15702)
add category/location options back to meta/Parameter options (#15701)
#15689 Repro: Dashboard filters should allow multiple selections (#15699)
map category/location to string so we can treat them like string/= in UI (#15698)
#15648 Repro: Binning on values from joined table should work (#15691)
Build script fixes :wrench:
Include application identifier in pg connections (#15664)
Return "Duplicate" action for read-only dashboards (#15652)
Enable `maildev` SMTP server in CI for Cypress tests (#15665)
#15598: Data reference database list is unsorted (#15631)
fix missing x-axis in Firefox because of wrong positioning of empty svg groups which led to miscalculations (#15661)
Munge setting names (#15640)
Unskip repro for #15591 (#15643)
add sizeToFit to DimensionList popover (#15645)
Remove unused ./bin/deploy-webhook script (#15639)
doc - clarify IE11 support (#15644)
docs - drop support for IE 11 (#15641)
revert to pre react 16 popover and calc popover height before tether positions things(#15608)
#15612 Repro: Wrong tooltip labels and values for multiple series charts in dashboard (#15638)
Replace "Other Categories" with "Text or Category" section (#15557)
update translations and the import script (#15630)
Add Cypress test for typeahead search (#15629)
Fullscreen scroll fix #15596 (#15621)
#15578 Repro: Remapped columns failure in joined subquestions (#15617)
Make search typeahead available to non-admins (#15614)
#15591 Repro: Data selector popover is too small (#15597)
#15596 Repro: Not possible to scroll vertically after fullscreen layer is closed (#15601)
fix inability to filter by a field of a joined table (#15605)
#15563 Repro: Date foreign key references produce duplicates when remapped (#15592)
Date breakout quicker fix #15445 (#15600)
CircleCI: restore backend deps cache before building uberjar FE (#15587)
Don't add temporal subdimensions to a FieldIDDimension (#15582)
docs - account settings page (#15583)
Update Python code snippet for Python 3.7 (#14424)
Don't show duplicate descriptions in search results (#15572)
Cleanup migration comment (#15594)
Remove unixtimestamp type (#15533)
Add repro for #15574 (#15580)
Popover movement #15502 (#15524)
Support both 0 and null values in a dimension for X axis (#15554)
#15570 Repro: Can't create a filter on joined table (#15579)
Dashboard parameter field filter operators feature flag (#15519)
Request IP address logic should use X-Forwarded-For by default (#15553)
Various improvements to version update checks (#15517)
re-enable search for category and location/* params (#15556)
Open Chrome dev tools in Cypress `--open` by default (#15569)
datetime fields in nested queries should get auto-bucketed the same way as top-level ones (#15555)
docs - EE filter values for dashboard subscriptions (#15525)
Upgrade `eslint-plugin-react` (#15529)
Add databases to search results (#15518)
always show axis settings (#15492)
always show axis settings (#15492)
fix bugs causing native queries with only default values to fail to run (#15476)
#15471 Repro: Visiting /user/edit_current when logged out results in a blank page (#15514)
hide field search when using non-exact operator (#15477)
Normalize serialized adhoc questions (#15497)
#15502 Repro: Popover rendering issues (#15513)
#15445 Repro: Breakout binning popover is barely usable if rendered too low on the screen (#15496)
docs - casting to a specific data type (#15503)
(#15460) Correct field names in native field filters (#15493)
Dashboard Subscription Filtering (#15404)
Quarantine possible offenders behind CI timeouts (#15504)
Quarantine flaky test in `auditing.cy.spec.js` (#15501)
Normalize query in search when prioritizing exact matches (#15499)
Repro for #15118: Incorrect result of divide or multiply two CumulativeSum expressions (#15125)
Send email when logging in from new device for the first time. (#15473)
#15444 Repro: Can't run native query with default field filter value set (#15490)
#15446 Repro: Binning for date column on a joined table is rendering 2 sets of values (#15489)
Revert "number and category filter options (#15422)" (#15491)
Update and fix tests in `scatter.cy.spec.js`
#15460 Repro: Field filter failing on question with join when using similar columns (#15468)
Log error on failure of any /api/session endpoints (#15474)
Throw an error if a setting already exists (#15359)
show the right filter text when clicking a fk link from object view (#15469)
Only attempt to sync schemas that have some/any possible permissions (#15291)
Put schema forms in meta for schemas (#15325)
Show currency list in native queries and add Kyrgyz Som (#15457)
Turn on `eslint-react/prop-types` rule and make it error out for new files (#15450)
Upgrade Cypress to v6.8.0 (latest) (#15451)
Drop maxIdleTimeExcessConnections (#15388)
flambers thing is a much better idea (#15428)
Improve card permissions errors (#15424)
Use correct series names from chart settings to be show in tooltips (#15435)
fix ask a question cards layout (#15447)
Bump Lein versions and replace images (#15201)
number and category filter options (#15422)
Test fixes :muscle:
disable submit button on pristine user settings form (#15385)
add Parameters list component that doesn't automatically update (#15411)
Toggle search typeahead (#15418)
Add space btwn colon and next word in CaveatMessage (#15360)
docs - update search for 39 (#15419)
docs - add duplicate question section (#15421)
Trim unused requires in EE sso.api.sso (#15420)
fix missing total on pie charts after the initial render (#15405)
Decrement the absolute max rows limit by 1 (#15414)
#15397 Repro: Using aggregation functions on top of saved SQL question errors out (#15406)
Custom expression editor: avoid being too wide in a sidebar (#15403)
add default param values section (#15362)
Add missing "is" assertions to various tests (#15254)
Wipe stack trace (#15374)
Revert "Allow users to more easiy explore saved SQL results (#15010)" (#15377)
Support empty date field filters (dashboard subscriptions) (#15323)
Custom expression editor: avoid squiggly red lines (spellchecking) (#15402)
RIP Expectations tests 2015-2021 (No more old-style tests) (#15313)
#15387 Repro: Snippet updates not being applied to existing query (#15400)
#15250 Repro: Click behavior not parsing measure value for first row on Pie chart (#15399)
#15279 Repro: Dashboard filters not working if one of them is corrupted (#15398)
#15316 Repro: Custom Expression name containing brackets can break the UI (#15396)
Add pointer cursor on voronoi map of the line charts (#15382)
#14145 Repro: Field id doesn't update when database source is changed (#15384)
Update common.clj (#15335)
add string/number operator subtypes to dashboard parameter filters (#15068)
safeguard email/slack configured checks (#15383)
#15324 Repro: Count of rows from drill-down on binned results doesn't match the number of records (#15381)
#15331 Repro: Drill-through on PK/FK to the "object detail" when filtered by explicit joined column fails (#15380)
Add CollapseSection UI component (#15358)
#15333 Repro: Column filters not working for metrics (#15378)
#15352 Repro: Different time filter query used in saved and nested question (#15375)
Check to see if `done` button is enabled whenever custom expr changes (#15293)
add default param value selector (#15361)
#15368 Repro: Click behavior leading to the dashboard without permissions causes a permission error (#15371)
#15338 Repro: Not possible to select pinned collection item using checkbox (#15348)
#15339 Repro: Admin can't see other users' personal sub-collections (#15346)
#8406 Repro: It shouldn't be possible to change permission levels on sub-collections inside personal collection (#15345)
Personal collections testing (with repro for #15343) (#15344)
Update MS SQL Server JDBC driver version (#15287)
Check columns for datetime behavior based on special_type (#15319)
#1926 Repro: We shouldn't print revision history steps without description/diff (#15322)
#6884 Repro: Reverting the dashboard messes up the UI (#15321)
Support SSL server certificate parameter for MySQL (#15172)
Consolidate collection permissions tests (#15308)
split SharingSidebar into a few separate components (#15203)
Add it.only error linting rule (#15312)
Make exact search matching case-insensitive (#15249)
Shared MBQL lib (#15267)
Remove Getting Started Guide related code from frontend (#15209)
Open #15208 within the org (#15310)
expand fieldset wrapper div to width of container (#15292)
Test question revert mechanism for users with curate permissions (#15305)
Nicer "no results" copy (#14978)
Nontrivial prefix trim for operators in custom expressions (#15261)
docs - consolidated db lists [closes #14996]
Expand "pin collection items" test (#15303)
#12489 Repro: Users can edit archived collections (#15301)
#15289 Repro: Abandoning archive collection process should let you stay in the same collection (#15299)
Update new_user_invite.mustache (#15300)
Custom expression editor: fix Enter not committing the change (#15268)
Allow users to more easiy explore saved SQL results (#15010)
add utm tag to migrate cta link (#15161)
#15281 Repro: Users with read permissions are offered to save new dashboard in collections they only have read access to (#15282)
Custom expression editor: avoid being too wide in a sidebar (#15274)
Change wording of the GA form (#15269)
fix hash links (#15258)
Custom expression editor: fix caret position with Firefox (#15273)
Only display schema in search results if there is more than one schema (#15230)
#15255 Repro: It's not possible to duplicate question from the collection root  (#15266)
#15253 Repro: User with curate access can't unarchive question (#15263)
Record login history (#15129)
#11719 Repro: Users with curate access can't edit question's metadata (#15262)
#15256 Repro: "Duplicate" dashboard modal says it "failed", when it actually did duplicate successfully (#15257)
#13229 Repro: User without permissions can see "Revert" buttons (#15202)
README: Advertise the new dashboard subscriptions feature (#15248)
add minWidth to Sidebar (#15242)
#15237 Repro: User with sufficient permissions can't revert the dashboard (#15238)
Look at effective-type in the UI (#15213)
Handle renaming column casing (#15174)
tweak coercion copy (#15239)
Custom expression editor: avoid squiggly red lines (spellchecking) (#15234)
add throttle to ExplicitSize height/width recalc (#15235)
Prioritize exact matches when querying the DB for a search (#15214)
Expand user roles for testing (#15236)
Update mongodb.md (#15065)
Add Bitcoin and Ethereum to currency list (#15167)
Update running-metabase-on-elastic-beanstalk.md (#15206)
GitHub Action CI: No need to check for msgfmt anymore (#15210)
normalize MetabaseApi.field_search data structure (#15215)
Add `cypress-skip-test` library (#15200)
#15080 Repro: Archived items not shown in archive (#15198)
Port code for building i18n resources to Clojure build scripts (#15189)
Enforce permissions on revision API
Text fixes :wrench:
Convert even more old-style tests to the new style (#15191)
More search relevance tweaking (#15178)
Enable parallel minification (#15166)
Custom expression: feedback on CASE arguments (#15179)
#15170 Repro: Cross-Filtering doesn't work for all field types (#15180)
Add helpers to populate a database (#15112)
Add lsp (#15181)
#15163 Repro: Cannot view SQL question when accessing via dashboard with filters connected to modified card without SQL permissions (#15169)
#13347 Repro: Cannot select "Saved Questions", which belongs to database user doesn't have Data-permissions for (#15177)
Semantic types 2 effective type (#15022)
Improve search result comprehension (#15123)
Custom expression: constrain the type for boolean nodes/sub-expressions (#15159)
Replace 😢 error screen with a closable error card (#15154)
Move code from meta/Dashboard to meta/Parameter (#15140)
replace prefix search with contains in parameter value search, squashed (#15032)
#15119 Repro: User without data access should be able to use dashboard filters (#15138)
#15106 Repro: "Dirty" query fails when sandboxing on linked table column with multiple dimensions and remapping (#15141)
#15152 Repro: Waterfall chart should not be enabled for question with more than 1 series (#15158)
Include partitioned tables in sync (#15151)
CI: Run clj-kondo linter (#15148)
#15105 Repro: When Sandbox is granted to linked table column, but no access to the linked table, then "dirty" queries fail (#15139)
Update full-app-embedding.md (#15095)
Use GitHub Actions to run i18n checks (#15134)
Add container build for metabase-enterprise-head (#14895)
Clean up sync scheduling (#15043)
Avoid unneeded CAST() statements (#15115)
Remove flow-typed/, not necessary anymore with no type-checking (#15136)
Refactor ParameterValueWidget (#15097)
Optimize SQL Server GROUP BY and ORDER BY with :year, :month, or :day bucketing (#15099)
Add support for connecting to Oracle with SSL (#15078)
Don't give search bonuses based on ordering of pinned items (#15121)
Custom expression parser: add more tests (#15117)
Preemptively whack casing problem in two places (#11424) (#15081)
Use GitHub Actions to run back-end linters (#14701)
Consolidate users in Cypress tests (#15058)
Build script fix :wrench:
Click through migration (#15050)
Test fix :wrench:
Abbreviate search context (#15028)
#15077 Repro: Dashboard sharing is not possible for dashboards with text cards only (#15096)
Unskip repro for #14294 (#15087)
#14844 Repro: Sandboxed users cannot send Pulses to Slack (#15056)
Improvements on development environment with docker (#15085)
Delete feature-implementation.md
search visual tweaks (#15069)
Test fix :wrench: (#15082)
Shared CLJ/CLJS lib  (#14980)
Update the guide for deploying Metabase in Elastic Beanstalk (#14273)
Adding a feature of Docker to encrypt secrets (#14839)
Add AWS and Azure PEMs for SSL in connecting to managed databases (#15025)
Update API documentation (#15070)
Remove type-checking with Flow (#14236)
Prettier
Links in new tab/window #12366
Add Cypress custom command for sandboxing tables (#15038)
Date range filters should respect the start-of-week Setting 📆  (#15040)
Test the argument count feedback on a custom expression (#15020)
Add Cypress custom command for creating native questions (#15007)
fix(load) aggregated questions can be dumped/loaded (#14871)
translate remove button in ParameterSidebar (#14991)
Delete unused `metadata.js` file (#15037)
add eslint-plugin-react-hooks (#15031)
#14990 Repro: Dashboard Subscription sidebar broken for Sandboxed users (#15035)
Add JDBC fetch size option for Redshift driver (#14617)
Add Cypress custom command for creating the question (#15005)
Add Cypress custom command for creating the dashboard (#15004)
Custom expression completion: test that "case" is offered as a choice (#15024)
Enable the test for arithmetic inside a filter (#14997)
Minor guard to catch (unlikely) corner cases of logical NOT (#14973)
MBQL syntax sugar (for negative filter) in the custom expression compiler (#14938)
Custom expression: properly convert negative filters (#14938)
#14880 Repro: Negative filter can not be converted to custom expression [ci skip] (#14885)
Custom expression: new function ISNULL() and ISEMPTY() (#14866)
Custom expression: suggest CASE when editing an expression (#14721)
Custom expression: constrain the argument type of function/case (#14693)
Custom expression: build a compact version of the syntax tree (#14579)
Rename dimensionExpression to identifierExpression (#14656)
Custom expression: compiler can delegate field resolving (#14427)
Custom expression: use i18n plural for giving error feedback (#14342)
Custom expression: type-checker should be aware of variadic functions (#14325)
Custom expression: feedback upon an incorrect amount of function args (#14310)
Custom expression parser tests: unskip the ones which now pass (#14295)
Revamp the grammar of custom expression (#14235)
Expression post-parsing: infer metrics in aggregation (#14234)
Expression post-parsing: infer segment vs dimension (#14232)
Add a barebone type checker for the expression parser (#14226)
Custom expression parser: formalize the tree visitor (#14219)
#14985 Repro: Pivot table breaks with custom mapping of display values (#15018)
format table cells with dashboard click behavior as links (#15015)
Switch native query execution to use Statement instead of PreparedStatement (#14883)
Make the number formatting, global or otherwise, apply to percentages in pie charts (#14995)
Set `react` to the version `~16.14.0` (#15021)
Adding the ability to sync admin groups in EE (#14993)
Upgrade HoneySQL version to latest in 1.x line (#14934)
#14989 Repro: Pivot Table does not work for users without data permissions (#15011)
Blended score for sorting (#15009)
Upgrade React to v16 (#14391)
Add recency score to search (#14987)
Add new dev QP tool to convert an MBQL query to MBQL shorthand (#15002)
Add Cypress custom log command (#14986)
Search/item UI fixes (#14975)
Replace ExitOnOutOfMemoryError with CrashOnOutOfMemoryError (#14972)
#14969 Repro: Pivot tables don't work for sandboxed users [ci skip] (#14981)
Add an error from SQLite (#14479)
Update details in 05-setting-permissions.md about raw querys (#14921)
Add set of Cypress custom commands related to permissions API (#14948)
Optimize relative datetime filters (#14835)
Coerce query id for object details prev/next buttons to int (#14977)
Implement ssh tunnel reconnection (#14563)
MBQL Refactor: Combine various Field clauses into one new clause (#14897)
Search: Use number of occurrences in a dashboard (#14946)
Add styling for "no results found" in the type ahead search box (#14958)
#14515 Repro: Slack-based dashboard subscriptions should have a "Send to Slack now" button (#14968) [ci skip]
Change the sorting order of models (#14966)
#13455 Repro: Order of rearranged columns not preserved after column removal via sidebar [ci skip] (#14967)
#14959 Repro: Can not convert case-insensitive filter to custom expression (#14963) [ci skip]
#14957 Repro: Saving a question before query has been executed can be slow with UI "hanging" [ci skip] (#14965)
Use GitHub Actions to run YAML linter (#14940)
remove unused dependencies (#14937)
Updgrade `react-sortable-hoc` library to the latest version (#14955)
Search: Favor pinned items (#14944)
Enable running a single spec in Cypress (#14942) (#14947)
Enable running a single spec in Cypress (#14942)
Use GitHub Actions to check for Dockerfile correctness (#14783)
Use SearchResult component (#14867)
Auto-retry ssh test (#14453)
#14873 Repro: `regexextract` breaks query on a sandboxed table [ci skip] (#14925)
#14907 Repro: Snippet folder is showing as part of collections [ci skip] (#14922)
#14919 Repro: "Reset to defaults" on dashboard card "Visualization settings" removes all "Click behavior" [ci skip] (#14920)
Add link to examples repo on JWT and SAML authentication (#14890)
fix crash in InputWithSelectPrefix on null site-url (#14891)
Make SSH heartbeat interval configurable (#14679)
Increase REPL start timeout to 3 minutes, for both :dev and :run-with-repl profiles (#14855)
#14178 Repro: "Saved Questions" dialog doesn't respect nested collections structure [ci skip] (#14902)
Revert "#14757 Repro: New collection saved inside "My personal collection" not available in "New collection" modal [ci skip] (#14899)" (#14901)
Extend the definition of sensitive-fields in the Database model to include any custom password type properties (#14712)
#14757 Repro: New collection saved inside "My personal collection" not available in "New collection" modal [ci skip] (#14899)
Update Dockerfile for parallel and 20% faster builds (#14694)
Make 'esc' button work with full page modal (#14882)
#14880 Repro: Negative filter can not be converted to custom expression [ci skip] (#14885)
Add Cypress custom commands (#14881)
Update feature/project issue template.
Remove security issue template.
#14872 Repro: Multi-level aggregations fails when filter is the last section [ci skip] (#14875)
Mongo DB: Massively simplify generated queries (#14840)
add copy action to saved question (#14689)
docs - add dash subs to user guide toc (#14865)
Upload 'latest' uberjar for OSS releases.
docs - clarify pivot tables only work with simple and custom questions (#14371)
Remove unused tool: colopocalypse (#14797)
Revert "Mb db connection uri parsing (#14716)" (#14856)
#14854 Repro: Custom Expression using `case()` function fails when referencing the same column names [ci skip] (#14857)
Watch out for errant DS_Store files in modules/drivers (#14851)
#14843 Repro: Filtering a Custom Column does not give correct results when using "Not equal to" (#14847)
#14841 Repro: Cannot remove column via QB sidebar / settings (#14845)
initial cut of SearchResult component (#14823)
reorder waterfall and pivot viz options (#14826)
Remove errant println (#14834)
#14753 repro: Collections without sub-collections have an "expand" arrow [ci skip] (#14831)
#14776 Repro: Autocomplete results not correctly showing summary columns when full word entered [ci skip] (#14827)
#14775 Repro: Custom column not removed when a join is removed [ci skip] (#14821)
postgres ssl cert validation note for 0.38 (#14646)
Upgrade field literals (#14812)
Refine and upgrade repro for #12985 (#14815)
Semantic types pt 1 (special-type -> semantic-type rename) (#14780)
Include cards' SQL queries when searching (#14583)
Unskip repro for #11439 (#14816)
Ignore source metadata for sources queries if missing 0.38.0+ field refs (#14804)
#14749 Repro: Email settings "Save changes" button enabled without any changes [ci skip] (#14798)
#14793 Repro: X-rays fails on explicit joins, when metric is for the joined table (#14796)
#14787 Repro: "Distribution" doesn't always work on joined saved question (#14795)
Add Hours and Minutes to dashboard time filter (#14512) (#14794)
Add Hours and Minutes to dashboard time filter (#14512)
Add LDAP instructions + troubleshooting (#14771)
#14705 Repro: Cannot select all items in a collection using checkbox [ci skip] (#14778)
#12492 Repro: Custom expression filter with dates wrong display on subsequent click [ci skip] (#14772)
Make access logging happen again (#14777)
fix(rotate-encryption-key) settings-last-updated is not encrypted (#14769)
#14766 Repro: Cannot summarize columns from joined table based on a Saved Question [ci skip] (#14770)
Relax restriction that sandboxes cannot add columns (ignore additional columns instead) (#14735)
Add hover effect to pivot table cells (#14763)
hide change password tab when user is auth'd via google (#14741)
fix bug with download popover on pivot tabes (#14761)
Add "remapped" version of the repro for #14724 (#14738)
Update latest OSS on downloads.metabase.com (#14737)
Export `remapDisplayValueToFK` function (#14736)
move Search.ListLoader inside of card (#14739)
Prevent greeting refresh on the homepage (#14729)
Allow for `quick` parameter on `notify/db/:id` for quick syncing (#14645)
Make sure field refs returned by sandboxing middleware match non-sandboxed field refs (#14719)
Make sure resolve-joined-fields works on all levels (fixes #13642) (#14717)
disable change password page for ldap users (#14714)
Mb db connection uri parsing (#14716)
Use log instead of printf/println for copy (#14692)
#14724 Repro: Cannot use saved question with joins as a base for new question [ci skip] (#14727)
Query results metadata should include field refs (#14695)
#14726 Repro: Custom filter expression does not show original editor on subsequent click [ci skip] (#14728)
#13150 Repro: Dashboard card sends a query for each filter defined [ci skip] (#14725)
#14649 Repro: Cannot add subsequent aggregation on a custom expression in notebook (#14723) [ci skip]
add documentation for rotate-encryption-key (#14720)
unskip repro for 13415 (#14715)
update timeseries data interval computation (#14706)
Sort GeoJSON maps (#14697)
Tests: do "quick" sync for non-test-data datasets; shave MINUTES off of test runs (#14691)
[Feature] Search Improvements (#14554)
Use correct filter value for region maps, fix tooltips (#14688)
add cmd rotate-encryption-key (#14552)
Update feature-implementation.md
Add loading/error state to sample dataset restore (#14670)
Show error messages in create/edit GTAP modal (#14673)
fix broken tests - guard against undefined settings (#14704)
Add default value to report timezone dropdown (#14684)
Trim whitespace on non-password database form inputs (#14594)
Split repro for EE_520 in two versions (#14663)
fix(doc) put jdbc user&password in querystring (#14702)
Skip failing pivot tables Cypress tests (#14698)
Make sure resolved-joined-fields deduplicates :fields  (#14655)
Don't show reset settings button for text cards (#14667)
only apply cellData class if there's data to display (#14687)
Turn off Cypress recording/parallel runs (#14686)
Convert hundreds of tests to the new style (#14623)
Log complete token validation error only to debug log (#14674)
#14650 Repro: Drill-through on a map results in a wrong filter value [ci skip] (#14665)
Collections tree API endpoint results should always return :children key (#14622)
Update customizing-jetty-webserver.md (#14658)
Add an alternative QB-version of the repro for EE_520 [skip] (#14661)
#14636 Repro: Troubleshooting tasks pagination not working [ci skip] (#14641)
Skip `ee520` again (the issue has been reopened) [ci skip] (#14643)
Don't run visualization auto-selection when drilling from dashboard (#14640)
#14604 Repro: Custom columns break pivot tables [ci skip] (#14618)
#10474 Repro: Cannot use Saved Question with remapped "Display values"="Use foreign key" [ci skip] (#14638)
image and link fixes (#14633)
Trim URLs generated using user input (#14616)
Make user type database name to delete (#14620)
#14629 Repro: Sandboxing should work on tables with remapped FK display values (#14631)
disable width on pivot table AutoSizer (#14630)
workaround safari css issue by swapping visibility toggle to display (#14627)
Include Vertica/Oracle JDBC drivers in EE version (#14550)
Refactor engine form fields building function (#14610)
#14052 Repro: Cannot save to sub-collection when access to its parent is revoked [ci skip] (#14619)
Pivot tables – Add "Show totals" column setting (#14621)
Allow SSL client certificates to work in pgsql (#13797)
Use GitHub Actions to run front-end linters (#14050)
CI: include sample-dataset.db.mv.db in frontend checksums (#14615)
Remove Cypress test for EE_524 issue (#14611)
handle long body cells in pivot table (#14608)
fix bottom of pivot tables getting cut off on dashboards (#14592)
#13785 Repro: Clicking on a bar graph that represents a date range chooses only the start of the range [ci skip] (#14593)
Update values and fix failing Cypress tests on `master` (#14606)
Nested queries revamp base (#14014)
Add support for the "CHARACTER VARYING" and NUMERIC Redshift type (#14496)
Build scripts should use oss/ee like everyone else instead of ce/ee (#14551)
Update the developers guide with all the steps to build from source (#14543)
Update mysql.md (#14407)
Issue #12203 - Sample Dataset data doesn't add up (#14513)
Trim packages and update (#14585)
add 'jdbc:' prefix to connection-uri if needed (#14573)
Integrate driver JAR strip-and-compress logic into build-driver script (#14535)
Add Log4j2 config for containers :) (#14455)
Don't inform admins about MB cloud on EE instances (#14569)
Don't save site-url on general settings page load (#14558)
Prettier
Update `cypress_repro.md` template (#14589)
Use docker --no-cache --pull for building Docker images
Pivot table: Cypress test to ensure no value sorting (#14577)
#8055 Repro: Dashboard drill-through on a FK fails [ci skip] (#14587)
improve MB_DB_CONNECTION_URI example (#14586)
Try bluer bg colors for pivot tables (#14556)
Add autofocus to username input (#14572)
fix right alignment of cells with multiple value columns (#14580)
update pivot table image and text (#14570)
Pivot table options: hover effect with DragWrapper (#14538)
#13832 Repro: Filters should use cached results after the first DB call [ci skip] (#14571)
#12720 Repro: Dashboard filter connected to a card without data-permissions blocking QB question (#14557) [ci skip]
When logging db, actually need to select name and engine (#14567)
Pivot tables sorting (#14559)
Pivot table options: check expand/collapse the field options (#14562)
disable settings cache to fix flakiness (#14541)
Polish/style metric segment lists (#14539)
PivotTable scroll alignment fix (#14522)
Issue #14456 - Enable search in timezone select component (#14519)
#14494 Repro: "Done" button should be disabled prior to selecting Slack channel (#14544)
#14473 Repro: Click behavior with cross-filter does not list columns [ci skip] (#14536)
Validate dashboard sub to Slack creation (#14531)
Pivot table: Cypress to check for value formatting (#14532)
use the right bg color for ProfileLink's hover state (#14537)
Add Cypress coverage for the Cloud CTA in admin panel (#14520)
Very fast vertica data loading (#14484)
Sanitize URL substring used for determining if the instance is hosted (#14526)
Add link to dashboard in emailed dash subs (#14500)
Use docker --no-cache --pull for building Docker images
#14517 Repro: Regex escape characters shouldn't be removed [ci skip] (#14530)
translate last-minute 0.38 strings (#14527)
Support development using VS Code Remote Container (#14412)
add a link to store.metabase.com for hosted instances (#14511)
Pivot table: Cypress test to check for column formatting (#14518)
Pivot table: column options (#14464)
abiltity to dump-to-h2 removing encryption (#14457)
docs - dashboard subscriptions - closes #14075
#14495 Repro: Cannot drill-through on question joined with SQL [ci skip] (#14510)
#12581 Repro: Revision history restore shows wrong query and misconfigured UI  [ci skip] (#14501)
Add drill-through items to pivot tables (#14469)
pivot tables: add column-level expand/collapse (#14485)
Add CTA to migrate to MB Cloud in admin panel (#14458)
#14405 Repro: Dashboard subscription should not display "null" day of the week (#14498) [ci skip]
Convert metabase.query-processor.middleware.add-implicit-clauses-test to new style; (#14466)
#14482 Repro: UI should update when a collection changes parent [ci skip] (#14483)
Make sure GET /api/collection/tree elides Collections you can't see (#14367)
Remove extra column options from admin (#14480)
Rotate the loading spinner in a non-linear fashion (#14438)
Disable sharing button on public dashboards (#14475)
test.metabase.pulse.render.* tests -> new style (#14130)
Convert metabase.api.preview-embed-test tests to the new style (#14416)
Reduce the verbose error message in the custom expression input field (#14452)
Improve pivot table performance (#14448)
#11183 Repro: Missing Time series filter and granularity widgets (#14460)
Add script to run EE version of Metabase with one command only (#14459)
Use system timezones instead of a hardcoded list (#14429)
#14426 Repro: Admin localization tab showing excessive options [ci skip] (#14449)
Pivot tables public/embed Cypress coverage and repro for #14447 (#14418)
Un-stuck codecov diff report?
replace the positional qp-runner with a keyword arg (#14415)
fix translations for 0.38 (#14432)
Ignore the collapsed setting when column split setting was updated (#14382)
Pivot tables - Display more levels of subtotals (#14370)
Tweak the rows that get returned by the pivot QP  (#14389)
Sync startup cleanups (#14428)
Update which-databases-does-metabase-support.md (#14156)
Disable pivot tables for DBs that don't support them (#14419)
Disable the Sidebar component's Done button after click (#14422)
Make the rows/columns/values text in pivot table settings stand out more (#14425)
Revert part of "Don't return Pulses used for DashboardSubscriptions (#14300)" (#14410)
Apply dashboard filters to subscriptions (#14354)
Run `collections.cy.spec.js` tests in isolation (#14383)
Run Cypress OSS tests in isolation (#14372)
Revert frontend changes from 8fd4f2af6fdcaa02e88ec2163280ddb1a981a086 (#14392)
Remove jasmine (#14390)
avoid exceptions trying to use pivot tables on sql queries (#14381)
add docstring for system-exit! (#14375)
Pivot tables public/embed endpoints (#14189)
docs - saved question page - closes #14198
Modify color utility classes in night mode dashboards (#14364)
Run Cypress EE tests in isolation (#14339)
Add test for load from h2 and dump to h2. (#14353)
Randomize sync times (#14343)
Default databases with auto_run_queries to true (#14355)
#14327 Repro: Cannot add date filter when calendar is collapsed [ci skip] (#14356)
#14341 Repro: Custom expression filter doesn't display options [REGRESSION] [ci skip] (#14344)
Add basic collapse/expand for pivot table row groups (#14320)
#14287 Repro: Questions saved in collections with colon in their name not available [ci skip] (#14335)
#14294 Repro: Native questions don't respect Start of the week [ci skip] (#14330)
Clean namespace
Don't return Pulses used for DashboardSubscriptions (#14300)
Update new migrations linter to use checksum instead of cache-key
Use $CIRCLE_STAGE for the run-on-change cache key (#14328)
Don't show "Pulse" in dashboard subscription subjects (#14260)
Clean up SharingSidebar data loading (#14283)
metabase.db & dump/load refactor (#14275)
Move webserver-related namespaces -> metabase.server.* (#14279)
#14254 Repro: Map visualization not suggested when first column type is number [ci skip](#14308)
Switch to flat namespace declarations (#14281)
Persist email attachment settings correctly in dashboard subs (#14290)
Remove Enzyme (#14094)
Pivot tables - fix binned dimension issue (#14271)
Remove useless and/or unused CSS animations (#14269)
#14302 Repro: Native question with filter - dirty state without changes [ci skip] (#14304)
#14285 Repro: Rows collapse when last value is 0 [ci skip] (#14292)
#14280 Repro: Moved collection isn't shown in sidebar [ci skip] (#14286)
fix typo in simple embed retina image (#14289)
Update year in copyright notice [ci skip] (#14272)
Misc code improvements (#14247)
Backport migrations fixups from master (#14276)
Move PageHeading to /components/type/ (#14265)
fix alignment (#14270)
allow cancel to navigate back a screen in SharingSidebar (#14261)
disable sharing popover if the dashboard doesn't have data (#14266)
#14255 Repro: CC and table column same name [REGRESSION] [ci skip] (#14267)
Group by "pivot-grouping" column (#14176)
only display SharingSidebar if sharing and we're not in edit or fullscreen modes (#14259)
Enable CodeQL (security) code scanning for JavaScript (#14249)
Constrain sandboxing queries (#14099)
use more descriptiive allow/deny for vars (#14239)
Extract SearchBar from Nav (#14227)
Another round of pivot tables polish (#14222)
Refresh the invitation email (#14230)
Refactor collection components (#14220)
Convert integration tests to Cypress (#14174)
Revised "New collection" icon (#14221)
Clean up BrowseApp (#14217)
Closes #14090 & #14074 (#14163)
Collection content item filters (#14184)
Better safe than sorry: really check only the hostname (#14208)
Use ExternalLink component instead of <a href> (#14207)
Update translations for 0.38 (#14191)
Remove `react-retina-image` package (#14205)
remove single use of system components (#14204)
Do not escape closing curly braces in a regular expression (#14202)
#14117 Repro: Dashboard subscriptions don't persist attachments [ci skip] (#14170)
#14193 Repro: Custom column is dropped after removing filter (that comes after aggregation) [ci skip] (#14197)
Pivot tables: a few scroll performance improvments (#14166)
Full height sharing sidebar (#14182)
scoot label over (#14183)
Create SECURITY.md (#14112)
add cypress helper to visit an adhoc question (#14165)
#14124 Repro: Date is included when binned "by hour of day" [ci skip] (#14167)
#14136 Repro: Use binned numeric dimension as a grouping in a pivot table (#14161)
#14148 Repro: Switch visualization to pivot table in Postgres [ci skip] (#14164)
check can_write before displaying collection create (#14159)
Change default Total waterfall bar color (#14162)
docs - closes #14098 & #14095 (#14153)
Improve a11y of our custom checkbox component (#14158)
#13175 Repro: Can not do arithmetic in filter expressions (#14155)
center align pivot table left column header (#14151)
New dashboard action icons (#14144)
remove overflow-scroll on wrapping div (#14149)
pivot tables: add spacing to left header (#14139)
Pivot tables: Include fewer subtotal queries, switch to bitmap grouping representation (#14096)
#14122 Repro: Sub-collections under Personal collection should be available in save/move modals [ci skip] (#14143)
#14114 Repro: Cannot see child collection in sidebar when access has been revoked to its parent [ci skip] (#14137)
#13415 Repro: Visualization type should be respected when entering a question from a dashboard [ci skip] (#14142)
Remove unused New User Onboarding Modal (#14129)
Defer the parser and its related construction until it's needed (#14133)
Mac App build script tweaks
Populate result_metadata when saving/updating a Card (#14125)
Make the dashboard subscription text in the popover more generic (#14123)
#13187 Repro: FE should respect (BE) settings for `auto_run_queries` [ci skip] (#14120)
Revert "Unix fingerprinters (#14068)" (#14110)
Dash subscription polish batch 3 (#14105)
Collections UX tweaks (#14107)
Pivot table styling - batch 3 (#14111)
Add Swiss number separator style (#14101)
#11957 Repro: Changing filters shouldn't drop aggregated filter [ci skip] (#14103)
CI: Check Liquibase 000_migrations.yaml against core.spec (#14097)
Keep PulseCards in sync with the dashboard (#13671) (#14069)
#11907 Repro: Tooltip should display correct value for unaggregated data [ci skip] (#14102)
Java run-time: recommend Zulu, another OpenJDK distro with TCK compliance (#14100)
Pivot tables - fix bug with single row of data (#14093)
Remove -Xverify:none since it has no effect anymore with Java >= 13 (#14059)
Add more checks to waterfall scenario (#14087)
Cannot use an expression with an implicit join (#14089)
Improve assertion in repro for #14080 [ci skip] (#14088)
#14080 Repro: "Input to aggregation-name does not match schema" (#14085) [ci skip]
#13817 Repro: "Save question" modal wrong state applied to "Save" button (#14082) [ci skip]
mark pivot tables as not "live resizable" to debouce rendering during resize (#14072)
Repro for metabase#13868 - embedded dashboard with chained filters (#14066)
Add basic Cypress tests for waterfall charts (#14065)
Unix fingerprinters (#14068)
Allow filters to work in pivot tables (#14029)
Pivot table styling - batch 1 (#14064)
Pivot tables - add dashboard click behavior (#14062)
run query when switching away from pivot (#14063)
Remove reset buttons from viz settings (#13968)
Pivot table fixes (#14044)
Check Uberjar by launching it and testing /api/health [ci skip] (#14017)
Add initial Cypress tests for pivot table (ref: #14049) (#14051)
Microseconds support (:type/UNIXTimestampMicroseconds) (#1889) (#14024)
#13112 Repro: X-rays should work on questions with explicit joins (#14043) [ci skip]
Return 400 if password login is attempted when disabled; fix flakey test (#14045)
Remove duplicate method
Enclose negative values in waterfall inside parentheses (#14039)
#13961 Repro: Should clear the default filter value for native questions (#14036) [ci skip]
i18n(App) syntax errors found while translating (#13972)
Even more dash subscription styling fixes (#14026)
#13960 Repro: Should clear default filter value and preserve "state" on reload [ci skip] (#14025)
switch to folder for collection icon (#13978)
Apply auto-bucketing to :joined-field clauses (#13991)
Chore: remove the last remaining traces of Sauce Labs (#14020)
Tweak waterfall behavior on mouse hover (#14021)
Minor clode cleanup (#14023)
add useAutoSizerHeight prop (#14022)
Remove old type components (#13966)
Dashboard subscriptions work, squashed (#13390)
Peek at metadata for native SQL sandboxing queries :eyes: (#14007)
#12445 Repro: Substring in custom column returns empty value (#14019)
Add metadata sync for external DBs (#14015)
GitHub Actions CI to build and archive Uberjar (#13996)
Implementation of waterfall charts (#14010)
Allow text strings to special type to date [ci drivers] (#13860)
Smoketest: no need for version file (#14013)
Update repro for #13990 with new metadata method [ci skip] (#14011)
Update Cypress tests with new metadata retrieval method (#14004)
Extract sample dataset metadata in Cypress (#13994)
Apply auto-bucketing to :joined-field clauses (#13991)
Wait for DB Docker image ports to be ready before running Cypress tests (#14001)
Add timeouts for both configurations (#13568)
#12625 Repro: Remove sorted metric leads to "No results" page (#13990)
#13457 Repro: Drill-through combined cards with different amount of series (#13987)
Change back to manual navigation in smoke tests [ci skip] (#13993)
Use report timezone for XLSX results (#13986)
Revert 614effe388857 (#13895) (#13964)
Refactor and unskip repro for #10829 (#13971)
Start each test in `parameters.cy.spec.js` in isolation (#13973)
#13642 Repro: Drill-through not working on questions with joins with sandboxed target table, and target fields cannot be filtered [ci skip] (#13969)
#13927 Repro: URL click through doesn't include fields from hidden table [ci skip] (#13967)
More CI improvements (#13942)
Consolidate sandboxing reproduction tests (#13943)
13097 Repro: Same result for distinct count on multiple columns for MongoDB [ci skip] (#13962)
Update row limit copy to better explain what's going on (#13929)
Cypress `table` helper functions improvements (#13952)
Tweak collection sidebar item spacing (#13949)
#13857 Repro: Cannot use custom expression after aggregation [ci skip] (#13948)
Quarantine `public.cy.spec.js` [ci skip] (#13945)
Wow! Skip tests if relevant files are unchanged (#13925)
move timezone selection to localization (#13940)
Revert dependency bump in build-drivers deps (#13941)
Another empty commit to see how fast things are N O W
Use correct cache key for frontend client
Bump joda-time (fixes #13867) [ci drivers] (#13921)
TagParam schema shouldn't be so strict :wrench: (#13877)
CI tweaks :wrench: (#13924)
Bern4rdelli bigquery cache per question (#13923)
CI: Always run driver tests when there are backend changes (#13528)
Revert "Add unique constraint on database [name + engine] (rebased PR) (#13878)" (#13905)
Repro for `EE#520`: Advanced sanboxing ignores object details and/or FK (#13903)
Consolidate QA DBs tests (#13875)
Improve yarn test scripts (#13906)
Repro for `EE#524`: Advanced sandboxing (saved question with joins) prevents the use of joins for SB user (#13902)
Remove `enzyme-2` library (#13900)
Upstream cypress improvements (#13898)
Repro for `EE#154`: Sanboxed table should allow joins to it (#13888)
Quarantine `field.cy.spec.js` (#13896)
Display field description in field list (#12508)
Add repro for `metabase-enterprise#548` [ci skip] (#13885)
Add unique constraint on database [name + engine] (rebased PR) (#13878)
fix: allow the container to be started as non-root (#13214)
Dockerfile Improvements (#13280)
Don't set Site URL on requests from ELB HealthChecker (#12996)
Add QA Mongo DB to the Cypress tests in CI (#13854)
#13751 Repro: Custom column based filter should allow strings (#13865)
Restyled drill-through and actions popover (#13695)
Collections redesign (#13765)
Add EDN definition of Sample Dataset for use in backend tests (#13853)
Don't substring json fields in postgres (#13850)
Add MySQL Cypress tests (#13827)
Order fields to dump by ID (#13839)
Enable enterprise cypress tests on release branch (#13809)
tag untagged strings (#13838)
Add `updated` special type for timestamps (#13818) (#13837)
Revert "Add `updated` special type for timestamps (#13818)" (#13836)
Add `updated` special type for timestamps (#13818)
#12507 Repro: Nested queries using metric (#13816)
#13186 Repro: Missing dashboard filter columns for nested questions (#13831) [ci skip]
Remove object count from log output (#13823)
Check dependency licenses in CI (#9290)
#13649 Repro: Custom column from joined questions (#13813)
Repro for #13801:  Dashboard should handle cards with null values (#13811)
Mac app build script improvements :apple: :wrench: (#13810)
Refactor Cypress repro for #13000 (#13789)
Repro for #12839: Can't use filter based on CE from aggregated results (#13784)
release script template fixes
Tweak the title used for draft release notes for EE releases
Mega release script improvements 🤯 (#13795)
Revert "Remove restriction text about group mapping for admins (#13781)" (#13794)
Revert "Allow the Administrators group to sync (#13629)" (#13791)
Another build script fix :wrench:
Pass MB_EDITION to webpack build (#13780)
Repro for #11439: Date granularity [ci skip] (#13782)
Remove restriction text about group mapping for admins (#13781)
#13764 Repro: Granularity of aggregated fields in nested question [ci skip] (#13779)
#13717 Repro: Choose between 'Object detail' and 'Table' view [ci skip] (#13774)
Render negative values in pulse bar charts (#13646)
#13597 Repro: Map pins not updating dashboard filter on click [ci skip] (#13768)
fix: typo metabse (#12202)
Enable enterprise cypress tests (#13756)
#13710 repro: Trend visualization blank screen [ci skip] (#13753)
Add docstrings to chain filter endpoints (#13759)
Mega sync performance improvements (#13746)
Reproduce datetime downloads (#13745)
Disable video uploads for successful Cypress tests (#13747)
Repro for #13744: Join saved question with sorted metrics (#13750) [ci skip]
Improve Cypress helper functions with log messages (#13749) [ci skip]
Add Cypress file download testing (#13430)
Port Cypress fixes/updates from `master` into `release-x.37.x` (#13743)
Allow the Administrators group to sync (#13629)
Add exclusion for drivers that do not support `foregin-keys` [ci drivers] (#13722)
Repro for #13604: Wrong day names on X-axis [ci skip] (#13738)
Unquarantine `question/nested.cy.spec.js` (#13733)
Unquarantine ee `custom_drill_through/drill_through.cy.spec.js` [ci skip] (#13734)
Unset `DISPLAY` ENV in smoketests CI group (#13732)
Unquarantine `scenarios/pulse/pulse.cy.spec.js` (#13727)
Improve `segments` tests with the use of API (#13718)
Upgrade Cypress to v5.5.0 (#13674)
CI: Ensure the use of lockfile when running yarn (#13720)
Fingerprints reduce over table-rows-sample instead of realizing all (#13688)
Mega build script improvements (#13638)
Smoketest: run nightly at 1am PST (#13711)
Narrow down the quarantine for dash_drill spec (#13682) (#13706)
CI: Update uberjar oss key for smoketest (#13704)
MBQL: fix generated SQL for custom columns referring to aggregations (#12762) (#13643)
MBQL: correctly alias duplicate col names in breakouts (#10511) (#13648)
Narrow down the quarantine for chart_drill spec (#13682) (#13699)
Add a circleci workflow that runs a set of Cypress smoketests (#12775)
Initial refingerprinting (#13687)
Capture component doc progress (#13656)
Repro for #12928: Join saved questions already containing joins [ci skip] (#13689)
Enable the OOM killer (#13681)
Quarantine flaky tests (#13682) (#13683)
Repro for #13626: Pie chart shows spinner for `0` or `null` [ci skip] (#13673)
Repro for #13235: Filter with remapped values [ci skip] (#13667)
Add Cypress repro PR template [ci skip] (#13668)
Repro for #13634: CC after aggregation w/ Cumulative Sum/Count [ci skip] (#13663)
[styleguide] - add basic info about color picker (#13654)
Update issue templates
Linux tools requirement as `apt install` step [ci skip] (#13619)
Docs: Save 17M by compressing all PNG images *losslessly* with Zopfli [ci skip] (#13644)
Repro for #12872: `Between Dates` filter (in)consistency (#13631)
"upsert" sensitive password-like fields during DB update (#13587)
Repro for #13098: datetime filter granularity (#13637) [ci skip]
Migrate build/upload Elastic Beanstalk artifact code into main release script and other improvements (#13635)
Update obsolete repro for #12985 (#13617) [ci skip]
Put yaml-lint into devDependencies (#13600)
Show engine in Task trouble shooting logs (#13608)
Adds dev/src/dev/nocommit to ignore file (#13353)
tweak webpack config for more legible output (#13609)
[[null]] is a valid response (#13596)
Build script improvements
v0.37.0.2
v1.37.0.2
Repro for #13571: Display rows whose value is `null` (#13591) [ci skip]
Add repro for #11007: Dashboard filters to custom questions with filtered aggregate data (#13589)
Move Metabase® Enterprise Edition™ code to core repo (#13590)
Repro for #13062: Multiple dashboard filter values not parsed on drill-through (numeric values) (#13580)
Bump snowflake driverfor "GEOGRAPHY" type (#13505) [ci drivers] (#13586)
Build script should set latest tag for OSS releases [ci skip]
v0.37.0.1
v0.36.8.1
Wait for initial query to be ready before paginating
add guard against null aggregation options (#13579)
v0.37.0
Build script tweaks
Build script tweaks
Updated build scripts
v0.36.8
Test fix :wrench:
Test fix [ci sqlite]
Test fixes :wrench:
Amazing test improvements (#13547)
Add repro for #13175: Arithmetic in Notebook (#13576) [ci skip]
New release build script (#13417)
Docs: Update API [ci skip] (#13574)
CSV/JSON/XLSX downloads will use a 200 status code (#13500)
resources/log4j2.xml: remove ansi formatting. (#13553)
MBQL: Wrap field references in `joined-field` where needed
Docs 37 release new dashboard functionality 13237 (#13502)
Catch map errors on client, remove some server-side validation (#13565)
Handle infinity/-infinity (fixes #12761) [ci all] (#13539) (#13564)
update translations and add Bulgarian (BG) (#13566)
update language list (#13567)
Docs - added first day of week option to localization docs page (#13446)
Remove license badge PNG [ci skip]
Handle infinity/-infinity (fixes #12761) [ci all] (#13539)
Add repro for #12649: Joins+custom column duplicate results (#13557) [ci skip]
Allow for open schema on fingerprints (fixes #13543) (#13562)
Add pagination within the BigQuery driver (#13530)
Don't follow question/dashboard links if we're missing its data (#13554)
Add repro for #13534: Filter joined table on "Is not" (#13555)
QP: don't add duplicate joins when adding implicit joins
QP: don't cache empty results
Reduce log noise (#13544)
Comment out the RollingFile appender (#13525)
checkbox should define its own border radius (#13521)
Update timeseries scale to align with the data's week boundaries (#13522)
Smarter state fields (#13512)
CI reliability improvement (#13524)
Repro for #13504: Drill-through on Filtered Aggregated Results [ci skip] (#13517)
Repros #12568: Nested questions (#12572)
pin some versions to prevent issues when yarn.lock merges are needed (#13514)
Update styleguide (#13495)
Catch query description errors and improve client error message (#13508)
Update jetty (#13510)
MBQL: handle nils in SQL filters more intuitively (#13477)
Cypress test for chart drill with date types (#12497)
Cypress test for hidden tables (#12343)
Handle LocalDate values in Excel export (#13447)
Repro for #12585 (#12647)
Repro/dashboard searchbox permissions (#12219)
Show sync exception in troubleshooting log UI (#13501)
Use "table - field" style for join aliases (#13503)
Add repro for #13469 (#13499)
Add repro for #13470 (#13506)
Add repro for #4506 (#13459)
Backport OSS namespaced collection code from EE [ci drivers] (#13483)
fix typo (#13490)
fix logic error that showed field values for filtered fields (#13494)
Add Cypress metadata test for custom remapping (#13497)
Obfuscate database details in the APIs (#13440)
Convert e2e tests to Cypress (#13418)
Tooltip constrained width (#13478)
Make sure QP handles sequable? (non-vector) result rows properly [ci drivers] (#13484)
Disable rando failing test
Lint fix :wrench:
Support forward slashes in schema names (#13476)
Sync tests refactor (#13474)
Use variable name for native question field filters when mapping (#13427)
`metabot list` shows a message when there are no cards to show (#13397)
suppress drag behavior when custom click behavior is set (#13463)
hide "on click" for small dashcards (#13460)
Add QP middleware to auto-parse string values to correct type (backported from master) (#13443)
Add repro for #9299 (#13454)
Yet another dashboard interactivity fixes PR (#13424)
More dashboard interactivity tests and fixes (#13408)
Only get substrings in fingerprinting when supported [ci drivers] (#13432) (#13441)
Handle slashes in oracle schema/table names #13225 (#13340)
Attempt to fix flake in public.cy.spec.js (#13438)
Add repro for #10829 (#13439)
Disable file appender (#13425)
Add repro for #11452 (#13317)
Only get substrings in fingerprinting when supported [ci drivers] (#13432)
New driver build scripts (#13383) (#13428)
v0.36.7
New release build script (squashed)
New driver build scripts (#13383)
Cherry pick bug fixes from master into release-0.36.x (oom fix and postgres sync with ssh tunnelling) (#13420)
Revert merge release script [ci skip] (#13416)
New driver build scripts (#13383)
Remove Selenium and Karma (#13401)
v0.37.0-rc2
use new release script
Embedded chain filtering API endpoints (#13392)
Revert Cypress upgrade (v5.3.0. -> v3.8.2) (#13398)
SQL: sync only tables for which we have SELECT privilege (#10892)
When a user specifies SSL explicitly, never try without it (#13304)
(Temporary) Disable Cypress test retries (#13393)
Half of fix for OOM in sync (#13288) (2.1) (#13325)
User-definable start of week implementation proposal (#13090)
Remove Danger Zone (#13389)
Convert migrations-test namespace to the new style (#13395)
More i18n verification in CI (#13373)
Dashboard interactivity: custom drill through and chained filters (#13354)
Upgrade Cypress to v5.3.0 (#13343)
Add repro for #13069 (#13363)
Upgrade to log4j 2.13.3 (#13310)
Revert "Docs: Restart clarification, when changing SAML settings [ci skip] (#12828)" (#13331)
Feature/postgres cypress tests (#13311)
Add repro for #13332 (#13339)
Repro for #13000 (#13307)
Add repro for #13306 (#13320)
Add link to Neo4j driver (#13309)
Repro for #13022 (#13308)
Add repro for #13289 (#13300)
Add repro for #12762
Repro for issue #13241 (#13252)
Update and use consistent references to the issues in test reproductions (#13269)
Migrate `Button` test from enzyme to react-testing-library (#13276)
fix build: skip db migration test for lowercase email edge-case on mysql and mariadb (#13273)
Add --keep-existing flag to dump-to-h2 command (#13260)
Email Case Insensitive Handling for User Account (#13222)
Migrate `EntityMenuTrigger` test from enzyme to react-testing-library (#13264)
Migrate `EntityMenuItem` test from enzyme to react-testing-library (#13265)
New test util stuff for testing schema migrations (#13258)
Improve querying icons in tests (#13230)
v0.36.6
Don't duplicate remappings (#13243)
MBQL: make mbql.u/field-clause->id-or-field work with expressions (#13242)
Skip test when the app db isn't H2 (#13197)
v0.36.5.1
remove extraneous log/spy (#13234)
v0.36.5
Support IPv6 for LDAP connections (#12882)
Handle date formatting specifically for Excel (#13133)
Remove orphaned sync jobs from the database (#13121)
Convert ID Integer columns to strings (#13107)
Update java-time to work in Turkish (#13113)
Add an error msg for disabled accounts via Google Auth (#13155)
Lift dimensions from nested queries (#13202)
Upgrade React Testing Library (#13221)
Migrate `PasswordReveal` test from enzyme to react-testing-library (#13213)
Switch to Cam's Cloverage fork (fix upstream bugs) (#13198)
Field ordering: ignore non-active fields when validating (#13182)
Adding examples to create databases (#13178)
Slightly rework error handling for site URL (#13173)
Update mariadb driver to support SYSTEM VERSIONED tables (#13115)
correct a reference to column-level perms (#13176)
Docs describe embedding multiple values [ci skip]
Unicode params in dashboard params (#13143)
Data model heading spacing (#13134)
Add note about not letting screen lock [ci skip]
v0.36.4
Add description icon to public/embed question/dashboard (#12803)
Remove fs dep (#12959)
Restore question public link file types (#12804)
Include dashboard name in browser title on public links (#12805)
Add description to SQL Server database port (#12786)
Update login layout and illustration. (#13099)
Slack tweaks for orgs with large numbers of channels/users (#13105)
Handling of queries with custom exprs (#13038)
Handle ARRAY return types in BigQuery (#13093)
Dataset test tweaks (#13040)
Repro/unix timestamp filter (#13085)
Test for null BSON ObjectId properly (#13087)
Repro/settings spinner (#12958)
Repro/auto dashboards (#12931)
Delete duplicate entries in `.gitignore` (#13086)
E2e to cy/port/databases (#13018)
xrays: change logging level to debug (#13074)
v0.36.3
Update copyright to the current year (#12990)
update version
Test browser locale support during setup process
Update bin/version
v0.36.2
switched to contains to minimize failures on admin_setup (#13035)
E2e to cy/port/segments (#13017)
Include card's display to prevent marking as dirty (#13050)
fallback to english if we don't have the browser locale (#13048)
v0.36.1
fix bug with null remapping, add cypress snapshot with sqlite db (#13037)
E2e to cy/port/metrics (#13028)
E2e to cy/port/people (#13020)
Allow remapping fields with null values (#13033)
Uppercase certain identifiers for snowflake (#12832)
Support for externally linked tables (#12741)
remove deleted entities from state (#13027)
Handle named aggregations (#13030)
finished settings port (#13019)
deleted file (#13016)
deleted ObjectDetail.e2e.spec.js (#13009)
deleted settings.e2e.spec.js (#13008)
deleted question.e2e.spec.js (#13007)
Don't try and fetch metadata for dashcards without perms (#13010)
use `popover().within` to retry getting popover (#13011)
guard against undefined sections when formatting description (#13023)
Cy improvement/admin (#13006)
Upstream EE frontend changes (#12998)
don't set filter_operators when creating field literals' fake fields (#12997)
Repro/filter dropdown (#12994)
Repro/universal search (#12957)
don't parse unix date query params, fix field value loading (#12983)
Remove card id from questions updated by drills (#12960)
fix FE unit test flake in generate password (#12887)
Remove unused occurances-of-substring fn (#12979)
Sync views in Snowflake databases (#12936)
make it pretty [ci skip]
style fixes [ci skip]
more markdown fixes [ci skip]
style fix [ci skip]
style fixes [ci skip]
Update JRE instructions [ci skip]
Link fixes (#12967)
Adds a is-empty/not-empty for strings (#12947)
clarifications [ci skip]
Clarify cert step [ci skip]
clarifications [ci skip]
fix indentation [ci skip]
clarification of mac app steps [ci skip]
v0.36.0
Update Mac App build dox (#12965)
add translations for 0.36.0 (#12956)
Docs enterprise toc update (#12963)
Docs ee snippets (#12943)
docstring cleanup (#12711)
avoid render loop that POSTed field values to the server (#12955)
repro/Dash w text box cards (#12914)
Update eslint (#12951)
add additional tests for all types together (#12849)
Remove deprecated viewport meta tag `minimal-ui` (#12920)
Repro for #12651 (#12919)
fixes boolean check on including custom expression aggregation (#12949)
I left stray log/spys behind (#12945)
remove CODEOWNERS (#12950)
Repro for #12899 (#12911)
Rework more tests (#12941)
Rework MBQL normalize tests (#12940)
As a fallback get database type from select * (#11358)
Test refactoring [ci drivers] (#12927)
skip test until issue is solved (#12929)
Docs for data model, localization, https redirect (#12876)
Feature/trendline w many outputs (#12811)
Repro/Column confusion (#12833)
Repro/Email alert toggle (#12835)
Repro/filter without permissions (#12852)
Search: don't show inaccessible metrics & segments (#12916)
MySQL supported version was wrong in docs (#12909)
Smoketests/skips and type issues (#12890)
E2e to cy/delete empty drills (#12868)
file deleted (#12867)
Add support for TIMESTAMP columns in SQLite (#12886)
Closes #12717
Metabase lib cleanup - metadata edition (#12859)
Port/homepage app (#12875)
Move flow types to metabase-types (#12857)
Metabase lib cleanup 2 (#12853)
Infer native query col types even if first 100 values are nil (#12843)
SQL placeholder should not be translated (#12866)
Remove duplicate impl of equiv() -- fix build failures (#12881)
Minor doc tweaks [ci skip]
use base_type if there's no special_type for custom formatting (#12855)
mark flake as pending (#12858)
Turkish [ci skip]
Maz suggestion [ci skip]
Docs 36 labels multiseries (#12772)
Adjust expressions and driver supported features (#12675)
SQL snippets documentation (#12795)
Test fix [ci mysql] (#12861)
Remove unused artifact util fns [ci skip]
New Metabase build script
v0.36.0-rc1
Smoketests/improve merge (#12810)
Allow setting Snippet collection_id from API (#12848)
Update data model nav (#12665)
Quote rows column, otherwise MySQL migration fails (#12844)
Handle comparing ChronoLocalDateTime and Instants (#12834)
Frontend Metabase lib cleanup #1 (#12812)
xrays: don't barf on names with % in them (#12815)
Docs: Restart clarification, when changing SAML settings [ci skip] (#12828)
chore: add simple doc for connecting to Snowflake (#12755)
Sync: don't override user-set values (#12802)
Docs: Update environment variables (#12820)
EE Native Query Snippet Permissions Preliminary Work [WIP] (#12819)
Remove unused Table.rows column & sync code (#12797)
Fetch nested card table metadata on dashboard load (#12734)
typo (#12779)
Pre-36 snippet updates (#12723)
Feature/smoketests (#12656)
Make fields orderable (#12559)
set SelectButton min-width to 200 in FormSelectWidget (#12763)
Add scroll to Notebook column popover (#12754)
reduce min-width of selects (#12751)
Add basic functionality for multi-series chart values (#12645)
Remove duplicate Java sections and change sandbox paragraph (Jeff suggestions) [ci skip]
correct setup step numbers (#12749)
Apply suggestions from Jeff [ci skip]
Adjust dashboard card title hover (#12318)
Prettier [ci skip]
Java versions, main README and a few minor things [ci skip]
Cypress test cleanup
Minor changes and prettier
Custom styling for file picker button (#12733)
Various docs fixes and clarifications [ci skip]
Clean up DB form styling (#12691)
BigQuery service account docs (#12710)
fix test flake by setting up question with API rather than UI (#12709)
Native query snippets front end (#12157)
make jetty request header size configurable (#12683)
Allow connection URIs for Mongo (#12667)
Apply skip-driver-tests.sh check to fetching (#12707)
shift question buttons over (#12698)
language selection padding and color (#12690)
First time sync BigQuery data w/ Service Account (#12677)
User-friendly message when server requires SSL (#12668)
Repro for #12354 (#12525)
Attempt to fix flakiness w/chart drill test (#12676)
Docs: Environment variables (#12182)
Update API docs (#12131)
Native query snippets (#11965)
Support changing the language in the FE at runtime (#12566)
Backport a few tweaks from EE (#12611)
wait for network requests to avoid race condition in bulk table test (#12638)
Make cumulative aggregations work with nils (#12632)
Check https before allowing https redirect setting (#12628)
Faster CI (#12620)
Remove blurb about instant-cheatsheet since it's not in project.clj anymore [ci skip]
Remove unneeded step from build steps list [ci skip]
Wait for the Category field to be ready (#12613)
v0.35.4
v0.35.4
avoid crash when PinMap is missing a warning handler (#12607)
Store test results for drivers (#12601)
Allow specifying the server cert chain for MongoDB (#12564)
Clean up most of the tests in metabase.api.table-test (#12570)
Test fixes [ci drivers]
Backport some test tooling changes from master -> release-0.35.x [ci all]
[ci drivers]
Harden fingerprinting (#12573)
Druid: allow filtering on Metric columns (#11823) [ci druid] (#12562)
Tests for filtering by numeric columns in Druid (#10935) [ci druid] (#12561)
Druid: don't make timestamps PKs  (#12542)
MBQL: make `concat` work with any number of args (#12546)
Upload JUnit XML test results to CI (second attempt) (#12534)
Replace XSSFWorkbook with SXSSFWorkbook (#12521)
/api/database: Don't include virtual DB if nested queries are off (#12530)
Look at X-Forwarded-Host when inferring site-url (#12529)
Generate correct query when no DB supports nested queries (#12527)
try and fix cypress flake
Cherry pick #12495
Enable parallel cypress (#12438)
Make timeseries tick spacing depend on the current format (#11268)
Filter nulls in pin maps (#12159)
Change Map Tile Server URL to https (#12431)
Forcing the run profile to include all drivers (#12435)
Harden fingerprinting (#12573)
ssh key support (#12548)
Bulk hide/show for tables (#12569)
Move table hidden table filtering to backend (#12513)
Allow inclusion of hidden fields on table metadata (#12478)
Language settings part 1 (#12541)
Druid: allow filtering on Metric columns (#11823) [ci druid] (#12562)
Tests for filtering by numeric columns in Druid (#10935) [ci druid] (#12561)
Add GCP service account support to BigQuery (#12498)
Add Turkish back in (#12557)
Druid: don't make timestamps PKs  (#12542)
MBQL: make `concat` work with any number of args (#12546)
Bump version -> 0.36.0-snapshot [ci skip] (#12539)
Upload JUnit XML test results to CI (second attempt) (#12534)
Update visualization auto-selection logic (#12476)
Support dashboard params for Cards with nested queries (#12531)
Replace XSSFWorkbook with SXSSFWorkbook (#12521)
/api/database: Don't include virtual DB if nested queries are off (#12530)
Adding option to force all traffic to HTTPS (#12503)
Look at X-Forwarded-Host when inferring site-url (#12529)
Generate correct query when no DB supports nested queries (#12527)
add crossed out eye icon (#12514)
try and fix cypress flake
require fixes
Allow users to run ad-hoc query starting with Card if they have perms for it (#12505)
Add Cloverage for test coverage reporting (#12495)
Add dox about changing session expiration [ci skip] (#12475)
Enable parallel cypress (#12438)
Make timeseries tick spacing depend on the current format (#11268)
Filter nulls in pin maps (#12159)
use include_sensitive_fields when fetching table metadata in datamodel (#12485)
Null datetime objects can blow up pulse rendering (#12468)
Allow / in expression names (#12467)
Allow a driver to customize the query remarks (#12422)
remove myself as a CODEOWNER for all of frontend/src (#12454)
Change Map Tile Server URL to https (#12431)
wrap lines in object detail json display (#12442)
Forcing the run profile to include all drivers (#12435)
update fingerprint schema to allow for empty result text fingerprints (#12427)
remove old workaround that broke login redirect with hash (#12425)
Restore settings slack form (#12415)
Repro for #12221 (#12234)
Don't do too many pending `put!`s (#12407)
SQL QP: banish laziness (#12387)
Increase mac app build step timeout [ci skip] (#12391)
v0.35.3
upstream changes from EE (#12277)
refresh site settings after logging in with google (#12360)
MBQL: fix expressions+joins+multiple columns with same name (#12328)
Disambiguate duplicate native cols (#12345)
have datamodel include hidden tables that are excluded by default (#12355)
Bump flatland/ordered (#12347)
Feature/cypress mongo (#12292)
Log userland query processor exceptions (#12325)
Make sure native queries return valid results metadata (#12324)
Sb fixes from master (#12315)
pass onRenderError to maps, but don't call it if there's an error tracking (#12307)
Rename substitute function to replace. Resolves #12306 (#12316)
v0.35.2
Generate snapshots before running Cypress tests (#12301)
use null for schema-less db schema name rather than "" (#12299)
Improvements to Form error handling. Resolves #12291 (#12293)
More test fixes (#12298)
MBQL: add nil comparison tests (#12290)
Settings email form fixes (#12283)
Harden insights (#12289)
Insights: fix `change` looping infinitely on input (0, -1) (#12282)
v0.35.1
Add Cypress test for #12228 (#12235)
v0.35.0
Docs: Explain how to hide X-rays and Our data sections (#12183)
Update info on languages in README and docs (#12218)
MBQL: add more math functions (#12096)
Bump ring/ring-jetty-adapter 1.7.1 -> 1.8.0 (#12206)
avoid passing undefined in for slack channel value (#12178)
Split Chinese i18n into zh, zh-HK, and zh-TW variants (#12193)
Clear a User's Session on password change (#12199)
Add file.encoding to Diagnostic Info (#12168)
Attempt to infer better base type than type/* for native queries; fix H2 NPE (#12197)
Bump Toucan version (#12184)
v0.35.0-rc2
Docs for notebook expressions (#12170)
fix extra popover scrollbars (#12179)
New HTTP request cancellation implementation (#12180)
Chart label updates (#12169)
Rewrite sources in all joined-fields (#12161)
fix dimension & metrics keys possible undefined (#12046)
Don't i18n expression syntax names (#12155)
Carry along - Add environment variables documentation (#11550) (#11764)
Finish consolidating column to field ref functions (#12095)
popover overflow scrolls rather than hides (#12149)
Allow . separator in expression identifiers (#12148)
Docs: cleanup (#12124)
Docs: EE SameSite (#12133)
Docs: Troubleshooting Proxies (#12119)
Add Share/CountIf/SumIf to suggestions (#12136)
fix some typos in docs (#12142)
Docs: Dashboard Filters - cleanup (#12101)
Tiny Troubleshooting link correction (#12102)
Show field suggestions for filter expressions. Resolves #12077 (#12127)
refresh site settings after login (#12132)
Always pass param values as an array if param is only connected with fields (#12108)
Check regexextract driver features (#12111)
Better logging/error-handling for web server (#12122)
Don't make Redshift connections read-only [ci redshift] (#12117)
cancel running queries in situations we missed (#12114)
Add popover with column function help text (#12094)
Don't use `system` command as alias [ci mysql] (#12098)
Parse sequential field filters with UUID values (#12083)
Organize Cypress tests in `scenarios` directory (#11848)
Add new env vars (#12107)
v0.35.0-rc1
Don't use ParameterFieldWidget if any targets are variables not dimensions (#12012)
Test fixes :wrench:
copy over chart drill fixes from EE
Potential occasional cache-test failure fix
Potential fixes for occasional cache test failure (#11987)
Test fixes :wrench: (#12088)
add background hover on bubble radio items (#12055)
add hover color to dash card titles (#12053)
Make question reference vars look like other vars in sidebar (#12072)
Avoid calling /database/:id/metadata in BrowseApp (#12052)
preload databases and tables in QB init (#12063)
fix bug when expanding one multi-schema db when another was already open (#12064)
Expressions: filter expressions, case statements, string extracts, and share aggregations (#11868)
include html in bin/build-for-test hash (#11996)
Replace util fns with ones from (updated) medley (#12061)
don't let metadata permissions error block QB init (#12048)
Remove QP context cancelf and metadataf fn which aren't needed/used (#12065)
StreamingResponse async tweaks (#12049)
Added short description of sub-query functionality (#12038)
High-performance metadata endpoint tweaks (#12047)
Make DataSelector load metadata on demand (#11809)
Bump ring-core to 1.8.0 (#12028)
use "card-id" rather than "card_id" in subquery reference tags (#12039)
Add new notebook expression function helper strings to dummy file (#12030)
Support empty/nil schemas GET /api/database/:id/schemas and GET /api/database/:id/schema/:schema (#12036)
Implement for GET /api/database?include=tables and ?saved=true (#12027)
Implement GET /api/database/:id ?include=tables and ?include=tables.fields (#12026)
Hi-performance metadata API endpoint changes part 1 (#12025)
Test fixes & cleanup for metabase.api.database-test (#12024)
Don't pass gridSize if it was computed from null width/height (#12022)
Mac app clojure build script (#11998)
Improve month picker legibility (#11973)
Tweak date picker visuals (#11990)
Support for question references in native query template tags (#11835)
Generate druid scan queries (#11992)
Make wait-for-port and fetch-jdbc-driver generic CI steps (#11989)
Cleanup metabase.api.field-test (#11986)
Faster CI & JUnit output for backend tests (#11985)
Adds support for empty title (#11941)
v0.34.3
Change max_series to 100 (#11305) (#11981)
fix selected state in single date widget (#11955)
Parse url params/default values for parameters (#11937)
Don't consider text box dashcards for loading timer (#11939)
Add info about community drivers to the docs (#11745) (#11954)
Add more special field type groupings and reorganize them (#11947)
Support NO_COLOR env var. pprint-to-str perf improvements (#11950)
Streaming API response tweaks (#11949)
Restyle SQL variables side panel (#11922)
Simplify streaming QP/API response glue namespaces (#11943)
Simplify new QP middleware pattern (#11942)
Streaming/single-pass transducing query processor (#11832)
don't get parameter options for text box cards (#11929)
Disallow robots from scanning metabase site (#11862)
fetch table fks in object detail (#11930)
Potential build fix (#11918)
Use trust auth for postgres-latest CI Docker image [ci postgres-latest]
Add setting for chart value formatting (#11893)
Add DB limitation to data sandboxes (#11921)
fix pulse creation dropdowns (#11920)
Add 'block' support to Select (#11894)
add search boxes to data model pickers (#11912)
Use JDK instead of JRE to build Docker image
Russian ruble have symbol "₽" (#11874)
Switch Docker image used for building from openjdk to adoptopenjdk (#11908)
Create a fake field for an aggregation dimension's field() method (#11800)
don't throw if there's just one column for scalar (#11880)
Mac app build script improvements [ci skip]
Add info about using a hardened runtime-compatible JRE
Add note about bumping version.properties [ci skip]
Clean up dashboard filters with multiple distinct fields (#11741) (#11858)
v0.34.2
Allow mapping parameters to joined fields (#11827)
Automatically convert MySQL/MariaDB application DBs to utf8mb4 on launch (#11753)
Remove broken Getting Started Guide (#11843)
MBQL: fix integer divisions (#11116)
Give each action button a unique key (#11834)
Update Heroku docs (#11831)
Add info about community drivers to the docs (#11745)
Clean up dashboard filters with multiple distinct fields (#11741)
Test fix? [ci presto]
convert streaming endpoints (#11817)
Harden sync agains errors in downstream steps (#11820)
Add docs links checker to CI + misc package.json script cleanup (#11814)
Docs beanstalk fix health check (#11780)
Improve Google auth token error message (#11803)
a way for async exceptions to get treated as such (#11726)
Scope down URLs where a 403 triggers a error page (#11747)
Show a second counter in title while queries are running (#11611)
Parse timestamps only if either the scale or this dimension is timeseries (#11156)
whoops this needs to be executable
add env var config to enable tracing (#11757)
Switch Cypress snapshot generation to just use API calls directly (#11746)
update some file perms
Minor cleanup to sql-jdbc.execute (#11777)
add back google error message display that was overwritten by EE LoginApp refactor
test idle application DB connections async every 60 seconds (#11771)
remove public.e2e.spec.js, which was accidentally added back
Embed metabase.util/metabase-namespace-symbols as ^:const var in code (#11651)
Update GA driver's Google dependency version (#11733)
pull over EE underscore flow types
merge master
Debug logging for syncing users' group memberships (#11761)
upstream changes
Minor tweak to SAML docs (#11772)
Add tests against Postgres latest to CI [ci postgres] (#11770)
Add MySQL latest, MariaDB 10.2, and MariaDB latest to CI  (#11769)
Warn when connecting to unsupported MySQL versions (#11767)
Remove unused npm dependency (#11766)
fix col_count typo (#11750)
Add @testing-library/cypress, port some existing tests, add arial-labelledby to forms (#11722)
Use UTF8/InnoDB for new MySQL tables (#11742)
Cleanup question details form + add isEditable check for summarize button and editable row limit (#11720)
override wontifx default and remove label check (#11744)
Add probot/stale config (#11740)
Drill-thru actions more click-friendly (#10629)
Provide fix so windows paths get determined correctly when loading metabase in cider (#11705)
close editor in test to prevent timing bug (#11738)
"Underlying database connection" error message clarification + troubleshooting (#10791)
Change max_series to 100 (#11305)
Carry along - Add a new item in the feature list (PR #11118) (#11734)
only try to auto set site URL when the request has a current user associated (#11732)
remove remaining code referencing generate-sample-dataset, which was removed (#11731)
Cast PG 'money' columns to ::numeric so they can be used in numeric fns (#11717)
Return Postgres MONEY columns correctly [ci postgres] (#11716)
Display permissions save errors (#11709)
Tag untagged strings (#11633)
Port pulse e2e test (#11661)
make site url validation more permissive. (#11710)
minor test refactor (#11652)
Close modal when unmounting QB (#11707)
Metabase Mac App build script / instructions updates [ci skip]
[ci skip] remove double addition (#11708)
Add ACSL URL Section to SAML Configuration Guide (#11253)
Add ACSL URL Section to SAML Configuration Guide
Add 'lein run-with-repl' command (#11610)
Smart numbers: correctly handle descending time series (#11658)
io/reader cleanup; allow GeoJSON proxy response to be cached (#11706)
Run api embed tests for all response formats (#11555)
v0.34.1
Bump version -> 0.35.0-snapshot
v0.34.1-rc-test
x-rays: harden against incomplete fingerprints (#11698)
11655 pulse custom names (#11685)
core(pulse): fix year format (year-of-era vs week-based-year) (#11692)
add delay to try and fix flaek
Reconcile temporal types in BiqQuery parameterized SQL field filters (#11678)
remove "restore()", add manual cleanup
strip metadata from segment/metric before passing to segment/metric form
Preserve template-tags key order (#11582)
Ensure Question.isDirtyComparedTo works for native queries (#11579)
Use `Form` on login, user setup, and user password forms (#11087)
Improved public settings (#11239)
Consolidate Select component (#11522)
register fonts for use by cssbox (#11577)
E2E test snapshot/restore (#11564)
fix typo [ci skip]
Updated Mac App build steps [ci skip]
 Port note to IE11 users from EE docs (#11583)
Update personal collection name when user name is updated (#11379)
Update Mac App build instructions [ci skip] (#11645)
update older-than test to not use hard coded date (#11642) (#11644)
Document the hide_parameters URL option in the embedding doc (#11622)
fix trend arrow icon spacing (#11629)
update older-than test to not use hard coded date (#11642)
fix info icon spacing on dashcards (#11627)
Remove useless MetabaseApi e2e snapshot test (#11632)
Ensure Question.isDirtyComparedTo works for native queries (#11579)
Preserve template-tags key order (#11582)
bump version!
Use time format settings for hour-of-day (#11566)
config now ignores empty-string env vars (#11549)
Update strings for 0.34, and remove Ukrainian and Norwegian (#11563)
use passed field prop if getObject select returns null (#11562)
Make variables sidebar look nicer (#11553)
Treat missing "template-tags" as equivalent to "template-tags": {} (#11517)
Docs fixes and clarification of versions and Field Filters (#11117)
ignore applicatino errors in cypress (#11551)
Update docs for 0.34 (#11540)
upgrade ace from 1.2.9 to 1.4.7 (#11515)
use case insensitive sorting on strings in TableSimple (#11541)
i18n(App) syntax errors found while translating (#11506)
Make sure query templates containing newlines are parsed properly (#11532)
Whack a React warning (#11539)
11525 restore stencil templates in build (#11533) (#11538)
v0.33.7.3
v0.33.7.2
11525 restore stencil templates in build (#11533)
Lint fix :shirt:
MongoDB test fix
Sort .gitignore
Bump MBQL dep -> 1.4.3 (#11521)
Add MongoDB params examples to FE (#11518)
Update .gitignore
Field filters for MongoDB (#11513)
Total and amount are too generic to be classified as currency (#11056)
move npm to dev deps and upgrade react-markdown (#11512)
include fieldRef in table.columns default (#11508)
add id to "try it" sql examples (#11510)
Port query_builder.e2e.spec.js to Cypress (#11487)
Space months evenly (#11497)
unpending overworld cypress tests (#11501)
Resize Ace if the NativeQueryEditor's width changes (#11491)
fixed small error (#11051)
Track query run card renderer time in GA (#11064)
Scroll viewport if dragged item goes out of bound (#11468)
Add logic to reconcile temporal types for BigQuery (#11492)
Use report-timezone for GA relative datetime filters (#11494)
Allow admins to hide `Our data` and `X-rays` on the homepage (#11478)
Improvements to MongoDB params [ci mongo] (#11485)
Don't automatically display chart values on saved questions (#11479)
Support parameters for MongoDB [backend] (#11474)
Show error when running selected SQL (#11476)
create frontend-checksums, update cypress test commands (#11467)
SQL editor fixes (#11464)
fix issues with chart values (#11465)
add FAQ section for supported browsers (#11450)
world.json IS0-3166 and simplify=1% :rocket: - us-states.json with names (#11436)
Show data values on charts (#11363)
Add Cypress E2E tests (#11302)
Use java.time classes everywhere (#11390)
Drop `special_type` when aggregating PKs and FKs (#11221)
Display error message from setup submit (#11042)
Move chmod command to entrypoint script and apk --no-cache (#11416)
Make LDAP attribute discovery case-insensitive (#11412)
[update] depency postgresql (pgjdbc) to 42.2.8 (#11430)
Client timezone tests (#11090)
Return a default y axis title for multiseries (#11073)
Only show object detail for single rows (#11209)
Warn when asking radio's to underline with no value (#11423)
pull field from state into FieldValuesWidget (#11214)
Log handle nil status (#11407)
specify a resourceType for dashboard embeds (#11386)
Update embedding docs for embedding origins setting (#11400)
Update SAML setup docs (#11387)
MongoDB: add nippy serialization for BSON.ObjectId (#11373)
SQL editor UX update (#11378)
Remove "tall" modals (#10950)
Update auto-viz selection (#11368)
Druid: fix HLL aggregation queries  (#11360)
Relax schema for Columns returned by the DB (#11351)
v0.33.6
move publicPath from file-loader options to extract text plugin (#11350)
Don't attempt to load card metadata if the card's table wasn't fetched (#11326)
Sort fields before checking if a query has been updated (#11311)
B I G timezone improvements :wrench: (#11308)
Update Mac App Xcode project for Xcode 11 [ci skip] (#11331)
Don't center pie charts on dashboards (#11314)
v0.33.5.1
Massive timezones refactor :calendar: (#11280)
remove mine icon (#11295)
update download icon (#11247)
Make the Data Reference a little nicer (#11262)
Include Oracle JDBC driver as a build dep
Upgrade MariaDB Connector/J to 2.5.1 (#11286)
v0.33.5
Test fix :wrench: [ci postgres]
E2E test improvements (v3) (#11278)
e2e test improvements (#11277)
Simplify redux 'requests' reducer + entities (#11263)
Add Slovak and update translations for 0.33.5 (#10760)
Clarify sandboxing docs re: SQL (#11267)
Improve styling of Data tab for Line/Area/Bar charts (#11250)
deduplicate yarn packages (#11093)
fix file loader public path (#11206)
update arrows and standardize names (#11246)
give table settings gear a hover state (#11245)
Remove unused icons (#11244)
ensure that list header icons inherit hover colors (#11236)
update mail icon (#11242)
Update SAML link (#11226)
run prettier 1.18.2
Upgrade prettier to 1.18.2
Timezone aware scale (#11111)
parse.clj: fix typo (#11188)
Pulse code refactoring & additional tests (#11192)
add 508 compliance FAQ entry [ci skip] (#11185)
Google Auth error messages (#11168)
remove leading slash on publicPath (#11174)
fix bug where column settings were dropped (#11154)
Upgrade redshift driver to 1.2.36.1060 (#11181)
Add expected & actual timezone to query results (#11176)
Timezone fixes  (#11081)
fix padding on password reset. Resolves #11145 (#11146)
Hide section picker if when viewing column settings (#10996)
undefined -> null, you can spread null aparently
Update pulse table style to match app (#10989)
use generic props override instead of just `title` and `onBack`
prompt for save when sharing unsaved question (#10976)
Add schemas to data reference sidebar (#11030)
change scalar compact formatting to depend on pixel width rather than grid width (#10932)
Add DeletionTimestamp family of types (#11075)
Return timezone in query results (#11067)
Druid: generate correct count clause for HLL fields (#11039)
Change metabase_field.database_type to text (#11043)
Suppress noisy `ls` errors (#11100)
Update the it's-ok-to-play-with-saved-questions modal (#11105)
add spacing btwn first and last name (#11107)
Update version
Needs triage label (#11099)
Try to get working YAML, testing this out. [ci skip] (#11096)
needs triage label to simplify triage (#11095)
Test code improvements (#11082)
v0.33.4
Bump metabase/connection-pool dep version (#11085)
Drill through fixes and cleanup (#11032)
add "unsubscribe from pulse" endpoint (#10688)
require custom expression name (#11065)
Don't cache DB -> driver forever; fixes #9844 (probably) (#11078)
Validate trs/tru args counts at macroexpansion time (#11045)
Improve entities performance (#11040)
Add DeletionTimestamp family of types
Test to help debug #9844 (#11068)
Test for #7435 [ci bigquery] (#11060)
Clean up and reorder AWS EB install steps (#11050)
Remove .git from .dockerignore so bin/version gets the correct branch/hash (#11061)
update password complexity statement for more accuracy (#11041)
show am/pm if locale uses 12-hour clock (#11049)
Don't use column settings when formatting pie chart legend percentages (#10962)
Don't fail entire query if we don't know how to convert value to literal (#11046)
call onResize during onResizeStart to set state (#10951)
sort schema and table names
Update screenshot in readme (#10952)
unused imports
update tests
filter to querable tables
add schema pane
Full support for all dimension types in expression editor (#10981)
Align platform parameter in JS redirect (#11031)
add tests
Bundle fonts (#10963)
fix confirm modal footer padding (#11020)
use name instead of display_name
keep everything as one list
group reference sidebar tables by schema
BigQuery code improvements (#11024)
Test data warehouse connections on checkout (#11018)
add hover style to question description (#11017)
Optimize datetime filters! (#10980)
remove unneeded diff
override sidebar title
some ie11 fixes (#10993)
lint
Only show line/area/bar buttons for line, area, bar, or combo charts (#10979)
always show column settings title
add ChartSettingsSidebar test
Some small changes to the permissions & collections docs [ci skip] (#10998)
hide sidebar title
hide section picker if when viewing column settings
4779 locked params (#10878)
Move MBQL filter negation/desugaring logic to MBQL lib (#10977)
Add support for metabase.util.date/date-trunc for :seconds unit. (#10978)
reliably remove mouse blocker div (#10964)
Improve qb startup performance (#10948)
Druid: set correct type to complex aggregators in post aggregation (#10836)
Don't don't set dimensions in ExplicitSize until after initial mounting (#10890)
change setCardAndRun to onChangeCardAndRun in LeafletMap (#10917)
Don't run native queries with invalid template tags (#10946)
[style] whitespace (#10937)
Documenting the ability to disable password log-in [ci skip] (#10887)
alternative implemenation of permission graph conversion (#10919)
catch fullscreen error and mention limitation in docs (#10896)
Cover visualization with "mouse blocker" if dashboard is being edited (#10931)
v0.33.3
Dump to h2 (#10877)
permission parser (#10933)
use key rather than keyCode for comma (#10902)
Use parsed `datas` when finding row for tooltip (#10939)
permissions bugs (#10918)
Test tweaks (#10925)
Add back in fa.po and zh.po (#10907)
Run apt-get update before apt-get install gettext (#10909)
Run apt-get update before apt-get install gettext (#10903)
Don't overwrite column unit before getting column settings (#10864)
Filter nulls out of non-ordinal x axes (#10846)
Enable eqeqeq eslint rule (#10888)
Clarify microcopy for Do Not Include column metadata setting (#10889)
filter perms (#10799)
save immediately when moving a question (#10832)
only load membership if user is updating group_ids (#10815)
mark vis warnings as translateable (#10847)
Refresh database list after re-adding sample dataset (#10800)
wrap full screen modals in OnClickOutsideWrapper (#10883)
use the dimension column for getXValues and getParseOptions (#10875)
[cmd] dump to h2 (#10843)
use the dimension column for getXValues and getParseOptions (#10827)
Switch to clojure.test (#10863)
Load initial Docker Metabase db from provided H2 dump (#10834)
Debug helpers (#10845)
Druid: fix day bucketing (#10782)
Don't fingerprint sensitive fields (#10776)
Standardize form presentation (#10673)
update version
v0.33.2
revert #10387 (#10809)
fix search app error with shadowed import (#10811)
fix 04-asking-questions content [ci skip]
fixes
fixes
More clarity around password reset (#10645)
fix null key in tooltips (#10797)
Refactor apply_tooltips (#10555)
xrays: add table name to title for fields from joined tables (#10731)
Various frontend cleanup (#10450)
clean up UX on SSO login (#10023)
Handle unsupported formatting operators gracefully [WIP] (#10737)
Use count as default new metric aggregation (#10732)
only show queryable tables when there are multiple schemas (#10757)
update timeouts for ELB (#10756)
Druid: typed numerical fields in checkins (#10742)
Audit docs (#10671)
Updating the configuration settings page [ci skip] (#10721)
Adding translation FAQ [ci skip] (#10733)
Alow blank name & display name [ci all] (#10739)
allow for IconWrapper hover customization on EntityMenus (#10750)
Add passed, error, and unstable defaults to chart colors (#9182)
No red ink server name protection is dead (#10753)
default date picker to have today selected (#10137)
PR 10295 with test fixes (#10752)
fix broken link to jetty connector config docs [ci skip] (#10687)
GH issue template adjustments (#10615)
more REPL ergonomics (#10702) (#10744)
Small typo and punctuation fix (#10713)
Insights: include unit in response (#10740)
Convert nulls to "(empty)" in row charts and line area bar charts (#10609)
Add support for classification of NaN and -Infinity/Infinity doubles (#7914)
Use row index to sort x values (#10675)
speed up getAllFeaturesPoints by swapping concat for push (#10724)
Update Redshift JDBC driver to 1.2.32.1056 (#10321) (#10680)
Update running-metabase-on-debian.md (#9037)
more REPL ergonomics (#10702)
bandaid to resolve #10651 (#10718)
use compact formatting for long choropleth legends (#10654)
MySQL additions to troubleshooting guide (#10706)
Log database connection error before humanizing it (#10695)
Don't lookup field ID for template tags, without a query (#10653)
Add verify-i18n-files step to CI (#10666)
fix safari bug in chart settings (#10686)
keep refreshElapsed state in refresh widget (#10505)
use a watch to convey cache changes outside the cache (#10636)
Insights test intermittent failure fix, second try   (#10676)
fix setting cache synchronization issue (#10661)
Filter out style properties with empty values (#10650)
update incorrect bit of asking-questions doc [ci skip] (#10647)
fix links that use anchors by changing .md to .html [ci skip] (#10674)
Display form errors in database details form (#10644)
Add `deferred-tr*` macros as gettext keywords (#10643)
Cast all numeric dimension values in sql qp to numbers (#10351)
Add MSSQL system views to cruft (#10659)
Make test numerically stable (#10660)
Small changes to the database set-up page (#10652)
make repl development a little quicker (#10639)
fix i18n files; Update toucan (#10642)
Only throttle failed login attempts (#10593)
Center chart with legend (#10406)
v0.33.0
0.33 instrumentation [WIP] (#10610)
Fingerprinting: correctly handle datetimes that are also FKs (#10621)
Don't return table data for archive searches (#10627)
FAQ section of the docs (#10587)
QB3 permissions fixes (#10631)
Adding a small section on downloading results (#10628)
update languages and remove those under 90% (#10619)
Add display_name to Table search results (#10612)
don't bust cache when autorefreshing a dashboard (#10608)
Docs for 0.33 (#10414)
Miscellaenous typo fixes (#10467)
Operations guide breakout (#10569)
Navbar tweaks (#10605)
Revert width: 0 on search bar (#10600)
add refresh back to native editor (#10601)
update langs and add Dutch (NL) (#10597)
hide run button in notebook (#10589)
Don't create API callback if no database is associated with card (#10573)
Don't disable preview for fields with non-trivial type  (#9687)
QB3 mobile layouts (#10563)
tweak plugins dir instructions headers
Add vertica + Docker link
Wrap `tru` and `trs` macro results in `str` (#10571)
Add link in Oracle guide to Docker /plugin instructions
Add note about adding plugins when running via Docker
Clarify which version of Oracle driver we recommend
Change the Oracle driver link to the generic download page instead of a specific version (#10586)
Change sync log levels from DEBUG to INFO (#10584)
Bump Toucan version to include Turkish lower case fix (#10581)
move convert to SQL trigger (#10542)
make permissions edit bar match admin nav bar color (#10572)
Correct proxy command line [ci skip] (#10430)
Add message with link to docs for fields without any filter widgets (#10340)
Added page about maps and updated nav (#10495)
MBTL (#10105)
revert text color to #74838f (#10560)
Joined fields: use FK name (implicit) or join alias (explict) (#10564)
add hover to notebook preview buttons (#10562)
add brand color to view header actions on hover (#10541)
Factor out test for access to localStorage (#10533)
Bump HoneySQL version (#10559)
Transfer log events as JSON objects and allow filtering on front-end (#10522)
Insights: correctly handle infinities in results (#10502)
Add max size to pie chart + toggle off raw data when switching viz (#10509)
Improve post-agg filter field picker (#10529)
Always show chevron on column headers, but not when pivot (#10461)
switch from hollow to filled pencil (#10536)
update pie icon to match the visualization (#10535)
More 0.33 polish (#10526)
Ignore cache when auto refreshing (#10479)
Join on collection table's ID, not the joining table's `collection_id` (#10481)
Remove `--add-modules=java.xml.bind` Java option (#10521)
Ensure that Metabase JAR is readable by `metabase` container user (#10510)
 backport non-EE-specific fixes & improvements from EE repo (#10517)
Misc layout polish + table performance (#10497)
fixup button horizontal spacing (#10513)
Compute Content-Security-Policy hashes for inline JS (#10504)
update screenfull (#10508)
Responsive NavBar and show WriteSQL-button only with permissions (#10454)
i18n() syntax fixes found while translating (#10501)
remove t tag that was causing problems with i18n script (#10494)
Tag untagged strings (#10463)
replace accordian with accordion everywhere (#10449)
Improved aggregation names for column names (#10262)
Updating the labels issue templates use (#10407)
v0.33.0-RC1
Notebook Mode (#9592)
Adding note about proxies (#10428)
Don't strip options from filter when updating relative date values (#10404)
Include Tables in search results (#10429)
Add :collection_name to GET /api/search results (#10426)
Add database auto_run_queries setting (#10423)
In settings, show selected option even when the default is selected (#10411)
only use compact format when standard formatting has >6 characters (#10374)
Use pie slices to compute number of decimals (#10391)
load memberships after creating a user (#10403)
return empty action list if visualization doesn't have metadata (#10420)
Avoid race between logging out and refreshing page (#10376)
Null out invalid dates and warn users (#10400)
Allow non-numeric data in pivot cells (#10225)
perform startOf/endOf manipulation in "en" locale for formatting (#10378)
fetch relevant db's metadata when card is added to a dashboard (#10325)
fetch field values for multiple field_ids (#10341)
tweak scroll behavior to prevent jumping the whole window (#10352)
Update ForeignFieldReference (#10358)
render 404 view when there's no settings page for the url (#10412)
Added more detail around filing bugs (#10405)
Document MongoDB admin config (#10393)
Adding information about Group Schemas for SAML & JWT (#10216)
Handle long names better (#9711)
Use table display_name when generating Join display names (#10342)
Support MBQL 1.3.x :aggregation-options clause (#10337)
Minor insights fixes (#10320)
Adding myself (SB) to CODEOWNERS for some parts of the clj codebase (#10324)
accept null column in formatUrl (#10314)
Add datetime interval arithmetics (#10303)
Convert test fixture DB to MVStore (#10318)
Try reverting CI docker image -> lein-2.8.1 (#10317)
add regexpEscape instead of deprecated RegExp.excape (#10277)
Remove unused test fn (#10309)
Use metabase/connection-pool lib (#10306)
Include Table info in Metric/Segment search results (#10305)
add special case for timeseries with one x value (#10200)
Disable draggable action buttons on cards when editing dashboard (#10206)
Support nested queries with 2+ of the same aggregation; improve metadata (#10289)
More improvements to QP debugging tools (#10288)
Bump ring-gzip-middleware dep version; remove customizations (#10287)
Better qp debugging (#10278)
Changing the anchor link back to Line + Bar chart (#10213)
remove old images (#10259)
Field refs (#10253)
Use Table.display_name for joined-field display_name in QP results (#10265)
Reorganize `pulse.render` code (#10263)
Spark SQL driver: read Hive database schema and partitionned tables (#9889)
Include name of joined table in field display_name (#10252)
Adding SparkSQL to the list of supported databases (#10248)
Display metric name instead of underlying aggregation name in QP results (#10251)
Test simplification & fixes; remove :columns; better ag display_names (#10245)
allow LoadingAndErrorWrapper to be empty (#10250)
Update troubleshooting bugs.md (#10223)
remove reference to dated PaaS (#10236)
Maz suggestions
Better documentation about HTTPS (#10214)
Display custom protocols as links for URL columns (#10211)
Humanization (#10174)
Update issue templates (#10215)
add calendars to the component guide (#10147)
Added anchor links for improved navigation (#10210)
only use formatStringFallback if there's no special type on the column (#10181)
switch transform from css to svg attr (#10189)
Use SQL Server Docker image for tests (#10204)
Test fixes (#10202)
Use Clojure 1.10.1 :racing_car: (#10199)
Use adoptopenjdk/openjdk11:alpine-jre as new Docker base image (#10194)
Separate MBQL lib :scream_cat: (#10193)
Disable humanization for native query results (#10196)
GA driver doesn't support basic aggregations; add missing declaration (#10179)
Use classloader/require everywhere; un-HACK driver test HACKs (#10177)
Make Field Filter usage more clear, when used with Optional Clauses (#10168)
update d3 choropleth scale to match legend (#10094)
fix truncated histogram bars (#10133)
round very small values to zero on the y axis (#10156)
Format compact currency and scientific style values (#10059)
fix bug where bubble size couldn't be in column index 0 (#10091)
Adding SAML set-up troubleshooting tips (#10167)
only show funnel legend header if there are action buttons but no title (#10121)
parse time with timezone like we do timestamps (#10146)
update elastic beanstalk docs (#10074)
Don't send Pulses to inactive users; code cleanup (#10169)
Connects to Mongo (#10130)
Test for #9286 (#10166)
SAML doc changes - updated screenshot & added table (#10144)
change back to last run text (#10148)
sort idfields in datamodel (#10083)
Native query endpoint; cleanup of metabase.test.data :shower: (#10140)
xrays: Add smart-row visualization option (#9625)
Use proper DN comparison with groups (#10058)
Add :include-all-drivers to :ring profile; fix middleware when deps not present (#10124)
add prefer-const eslint rule (#10109)
Improved version of column settings in ObjectDetail (#10110)
BigQuery *is* supported for nested saved questions (#10042)
Use topological sorting for source query cycle detection (#10113)
Pass through column settings as formatting options (#10107)
show x axis with just one label (#10106)
Metabase© Joins 2.0™ improvements (#10060)
upgrade ttag (#10090)
fix bug with one zero value row (#10082)
Update CODEOWNERS (#10093)
fix issue with adding/subtracting partial months (#10076)
stop showing currency in minibar and columnheading (#10089)
ensure pie chart percentages have the same number of decimals (#10078)
Document yarn hot reload polling fallback (#9782)
scratch (#10069)
Format all percentages in stacked charts with the same number of decimals (#10041)
Refactor data model tab (#9957)
Use feature name on hover (#10065)
show stacked charts and stacking options with one series (#10067)
cleanup / modernize user settings (#9937)
Re-enable formatting unit tests (#10061)
escape the variable in default value example (#10003)
fix safari public table display issue (#10053)
respect number_style=percent when using compact formatting (#10033)
prevent admins from removing their own admin permissions (#10012)
add CODEOWNERS (#10036)
Use https for default map-tile-server-url (#10043)
shrink color array in ChoroplethMap vis when domain has lesser size (#9692)
MBQL Explict Joins support (#10011)
Improve Presto support for dispatching queries (#10006)
Test data loading improvements :racing_car: [ci drivers]
Use new MBQL joins syntax internally :new: [ci drivers]
Add identifier-type to hx/identifier :information_source: [ci drivers]
Code cleanup :shower:
Test suite improvements & other code cleanup :shower:
Async QP improvements :racing_car:
Faster test launch & other cleanup :racing_car:
Add new MBQL :joined-field clause :new:
Add Identifier type to support all special chars in SQL names :symbols: [ci drivers]
v0.32.8
Test fix :wrench:
Update Pulse + Sync misfire instructions
Reschedule Quartz triggers :calendar:
Include Quartz task trigger misfire instruction in debugging page :bug:
Use delay for cache-backend-instance so there is no thrashing on init
remove bordered class to sharpen modal appearance (#9952)
switch margin order on StandardForm buttons (#9951)
Support building Mac App with Xcode 10 [ci skip]
v0.32.7
set min-width in admin panel to prevent weird gear overlap
Properly clone/restore thread binding frames in async QP :frame_with_picture:
Auto-retry Vertica tests; increase Snowflake timeout to 15m :white_check_mark: [ci drivers]
CircleCI config improvements :white_check_mark: [ci drivers]
v0.32.6
Bump Redshift JDBC driver version :new: [ci redshift]
Code cleanup :shower: [ci googleanalytics]
fix text card scroll issue
No need to run JDBC queries in futures since async-wait already does that
Always use shared classloader when resolving drivers :spiral_note_pad:
Extra tests to make sure JDBC queries release resources when done
move public question visualization to z-index: 1
Async QP performance improvements :racing_car:
remove extra single quote
Move index.html template code -> new metabase.routes.index ns :twisted_rightwards_arrows:
Cache i18n; shaves off ~5ms from index.html response time
Use .textContent instead of .innerHTML
run prettier 1.17.0
update prettier to 1.17.0 in package.json and yarn.lock
add explicit projectionFrame to legacy choropleth maps
Re: Change SQL Server driver getutcdate to getdate
Cleanup for DashboardCard util fns :shower:
More u/url? improvements
Remove unsafe-inline directive from CSP :lock:
LDAP test cleanup [backported] :shower:
alias clojure.string :as str; improved u/url? fn
site-url setting fixes :wrench:
Add CSV setting type; Settings framework improvements
#9987: Leading slash for tasks API
CSV/JSON/XLSX downloads should not be subject to default constraints :1234:
Group admin integration tests
use https in download link
add docs about activation
remove redundant heading
Change MB_SESSION_COOKIES_ONLY [ci skip]
tweak guide title
fix broken link
simpler guide for now
revise guide summaries
add suggestions for securing embeds
clean up general enterprise guide and copy images to customer-facing guide
flesh out the customer-facing guide
progress
enterprise guides init
Avoid leaking information with external links
postgres & mysql executors [ci drivers]
Parameterized test-driver command [ci drivers]
Add exp to embed snippets, switch backend unsigning to use :leeway
parameterized test-driver command
fetch-jdbc-driver-jar & wait-for-driver commands
CircleCI config simplifications step 1
Add MetabaseSettings.docsUrl(), use it for consistent docs links
Support new MB_SESSION_COOKIES=true option :white_check_mark: :closed_lock_with_key:
v0.32.5
Set X-Accel-Buffering header in streaming resp so nginx doesn't buffer :speaking_head_in_silhouette:
Set X-Accel-Buffering header in streaming resp so nginx doesn't buffer :speaking_head_in_silhouette:
Set X-Accel-Buffering header in streaming resp so nginx doesn't buffer :speaking_head_in_silhouette:
Set X-Accel-Buffering header in streaming resp so nginx doesn't buffer :speaking_head_in_silhouette:
Druid test fixes :wrench: [ci druid]
Make some QP middleware async :twisted_rightwards_arrows: [ci druid]
One more no_results
Move QP async wait logic into middleware :timer_clock:
Async QP middleware pattern :twisted_rightwards_arrows:
Clearer implementation of catch-exceptions QP middleware
Remove unused log-results-metadata middleware
Move 'userland' QP function logic into new middleware :twisted_rightwards_arrows: [ci bigquery]
Migrate C3P0 config settings to c3p0.properties file
Update pull request template to reflect existence of lein lint :shirt:
Indentation improvements
fix: Filter technical/cruft table types
Include Quartz task trigger misfire instruction in debugging page :bug:
Remaining ttag references
adding priority framework to contribution guide
Code cleanup [ci druid]
Add druid tests [ci druid]
[ci all]
Tests: cast results to double everywhere
Mongo: wrap value literal in :value [ci all]
Adding comma as separator for connection string
v0.32.4
Extra logging for intermittent test failure :writing_hand:
Always include Path=/ directive in Set-Cookie; fix Google Auth :wrench:
Add missing space between to i18n strings :abc:
Correctly (don't) extract col from share [ci all]
Use correct fn name [ci all]
Add `sum-where` [ci all]
Upgrade c-3po to ttag
v0.32.3
Remove Field.min_value and max_value from snapshot -- these don't exist
Don't set sessionVariables=sql_mode='ALLOW_INVALID_DATES' for MySQL/MariaDB [ci mysql]
https everywhere
Code cleanup :shower:
Update Test DB fixture
New API request logging middleware impl to handle async responses :alarm_clock:
e2e tests for adding card to dashboard and duplicating a dashboard
Add tests for Visualization colors
Add tests for load-from-h2 to CI :100:
Add file: prefix if needed when running load-from-h2 :wrench:
No need to migrate TaskHistory when migration H2 -> MySQL/Postgres
Update ambigious dox; fix misspelling :writing_hand:
Better error handling when saving TaskHistory fails :warning:
prettier
prettier
Remove Path= directive from Set-Cookie; breaks non-root mounting :wrench:
https everywhere
Stop loading GA script if Anonymous Tracking is opt-out
Re: Change SQL Server driver getutcdate to getdate
Make filter operator selector non-gray
Code deduplication & indentation fixes :wrench:
Remove commented-out code :speaking_head_in_silhouette:
Sort log4j properties & add notes :notes: [ci skip]
process-query-and-save-with-max! -> process-query-and-save-with-max-results-constraints!
Update API dox [ci skip]
[ci mongo]
Mongo: don't overwrite _id in the final $project stage [ci mongo]
Support additional connection options for Snowflake :snowflake: [ci snowflake]
Add CLIENT_SESSION_KEEP_ALIVE connection option to Snowflake (#9674)
Bump Snowflake JDBC driver dependency from 3.6.21 -> 3.6.27
Remove test for removed code
Mongo: add fields used in perdicates to $project stage [ci mongo]
Simplify Quartz classloader helper; task namespaces already required
Load task namespaces *before* initializing Quartz scheduler :calendar:
Copy newer versions of modules when launching
Don't test expressions when testing Mongo [ci mongo]
[ci all]
Test `simplify-compound-filter` on query dicts [ci all]
Don't create empty :query keys
Tests for #9090/#9679 :100:
fix dashboard single date filter
Expose count-when, make sure the entire QP supports share
fix dashboard single date filter
Quick fix for dashboard multiseries with identical columsn using the wrong seriesKey
New Quartz ClassLoadHelper & ConnectionProvider record type impls
Use reify to define the Metabase logging appender; fix build errors
Make metabase.db/connection-pool private
Add tests to check DisallowConcurrentExecution annotations are present
Allow omitting port for Postgres and MySQL
Add missing word to 03-basic-exploration
Add missing word to 03-basic-exploration
Bump version -> 0.32.2
Make sure to wrap (trs) in (str) to convert to string
Add spec test for port defaults for Postgres and MySQL
Allow omitting port for Postgres and MySQL
https all links to metabase.com
HTTPS in the README ! [ci skip]
v0.32.1
Indentation fixes & missing i18n tags :speaking_head_in_silhouette:
Test for #9593
address sb's suggestions
Additional tests for #9631 :pencil: :100: [ci mysql]
Handle errors gracefully in log-response server middleware
v0.32.0
update de, fr, it, nb, pl, pt, tr, vi
Add index on field.parent_id :card_index: [ci mysql] [ci postgres]
Add IMPORTANT NOTE!™ [ci skip]
Update Enterprise Edition SAML integration dox; include Okta instructions [ci skip]
Make verify-driver script executable
Update i18n from POEditor
Bump version -> RC2
Revert accidental merge of release branch
Better verification of drivers in build scripts :heavy_check_mark:
Change HttpOnly cookie name -> metabase.SESSION
Test fixes :wrench:; set session cookie when resetting password
FE tweaks for session changes, no longer require setting cookie in JS
Add HttpOnly, SameSite, and Secure directives to session cookies
Update locales
Update metabase.pot, also pushed to POEditor
Add POEditor scripts, remove unused update-translation(s) scripts
v0.32.0-RC1
Revert "Add HttpOnly, SameSite, and Secure directives to session cookies"
Revert "FE tweaks for session changes, no longer require setting cookie in JS"
Revert "Test fixes :wrench:; set session cookie when resetting password"
build_image: follow redirects when downloading JAR
Install JS dependencies before running translations
Disable content-type check for time being
Always set Content-Type of request body; minor logging & i18n tweaks
Async QP endpoints :racing_car:
Test fixes :wrench:; set session cookie when resetting password
FE tweaks for session changes, no longer require setting cookie in JS
Add HttpOnly, SameSite, and Secure directives to session cookies
Add middleware to respond w/ error if Content-Type != application/json
Update test
Make datatime unit inference more robust
Disable "." log in CI since it break's CircleCI's no_output_timeout
Include checksum of project.clj when calculating uberjar checksum
fix can not expand string when page too short and text too long
Empty commit -- fix CI
Replace fetchData with useCachedDataAndRequestState
Add withAction decorator, use in entities
Refactor some entitie action logic into thunk decorators
Bump a few deps
Switch to async web server :racing_car:
i18n(Task) minor syntax error
Make normalization aware of share
Clear result when reloading a PublicQuestion so that the spinner is shown
Add query cancellation to dashboards
Improve scrolling to new dashcard behavior
Round the number correctly before sending it off
Add some tests for SortAction and fieldRefForColumn
Close sync resultsets as soon as possible [ci oracle]
EntitiesApp tweaks
Add/fix form definitions for databases, groups, metrics, segments
Better entity containers displayNames
Add boolean and numeric form widgets
Move StandardForm error message to correct side of footer
Remove unused loaders/forms containers
Update docs [ci all]
Bump Mongo to 3.4
Move Logs to Troubleshooting tab
Hide delete action for segments/metrics/collections since it doesn't currently exist
Test fix :wrench:
Lint fix :shirt:
Port various forms to EntityForm
Add object (and entity name alias) to create/update action result, update EntityForm with modal version
Breakout tests: coerce to int to make Oracle happy [ci all]
Port Entity*Loader to entity-specific versions, e.x. Collection.ListLoader
Retain ordered-map on merge. [ci all]
Test fixes :wrench:
Tests for /api/user endpoints handling of group_ids :scream_cat:
Tests for user/group-ids and other new functions
Add setArchived for segment/metric now that it's been implemented in the backend
Support unarchiving Metrics & Segments via the API [WIP]
Make linter happy
Minor refactor
Make xray dashboard filters more diverse
Update druid tests [ci druid]
Remove crud [ci druid]
[ci druid]
Support Druid
Test complex share predicate
Work around Mongo stupidities [ci mongo]
Mongo: / can't be group aggregator [ci mongo]
Wrap values in aggregations, test Metric and breakout [ci all]
Remove unneeded requires [ci all]
Move tests to own ns, user proper scafolding
Remove MetaBot data permissions; over 2 dozen new MetaBot tests :robot_face:
prettier docs
add clarifiers from simon
Prettier
Test interaction with segments
Increase yarn network-timeout to try fixing DockerHub builds
Add Mongo support [ci all]
Add MBQL `:share` clause.
Refresh memberships when users are updated to ensure they stay current
Splice parameters into SQL when converting MBQL -> SQL [ci drivers]
Add FormGroupsWidget and use it in User form
prettier
address tom's comments
Add group_ids support to POST/PUT /api/user endpoints
prettier demands a comma
validate database prop for eslint
change layout for list of all databases
formatting
add next link
docs init
Remove these again
remove delay import from FieldPane.integ.spec.js
remove tests for data ref functionality that was removed
Add group_ids to User model and GET /api/user* endpoints
include complete exception info in messages captured by metabase.logger
show field values examples if they're avaliable
Drop data ref into currently selected db/table
make ESLint less angry
remove potentially useful questions, metrics, and segments
fix table descriptions plus prettier
Flip archived flag for Metrics incorrectly archived by migration 84 [ci drivers]
Add yamllint step to CI
Add series name test case to LineAreaBarRenderer-bar.unit.spec.js
Re-enable LineAreaBarRenderer-bar tooltip tests
Add a note about the QB error image paths not working in build-hot and ShipIt™
Move lein plugin dependencies into respective profiles
Add :sensitive? Settings; move Settings cache logic into new ns
Add :sensitive? Settings; move Settings cache logic into new ns
Add i18n to api/email 'autocorrected' messages
Floats should never be categories
Update tests
Don't remove list-like tables from x-ray candidates
Add missing requires
Show series title in tooltip. Resolves #9407
Only show user signups in activity feed to admins
FieldName: simplify and improve FieldName using query.parseFieldReference
Improve getFriendlyName
Use Dimension to fix misc sort bugs
Make query.fieldReferenceForColumn and fieldRefForColumn support aggregation indexes correctly
StructuredQuery: fix bug in columnNames
AggregationDimension: more correct displayName
Cleanup collection action modals. Resolves #9409
CollectionBadge: don't use loadingAndErrorWrapper, and include list of required properties so a load may not even be necessary
Print warning when running with H2
Defrag H2 database on shutdown
Clojure 1.10/Leiningen 2.9.0 fixes :wrench:
Rename Entity.loader and Entity.listLoader to load and loadList
Port admin permissions to use group entities, and fix Metabot appearing in admin groups listing
sync text style
fix text alignment on small cards
Port admin groups pages to mostly use entities system
EntityMenu tweaks
Add entity container wrappers, e.x. User.Loader, User.ListLoader, User.Form, User.Name, etc
Fallback to temp dir for unpacking modules if ./plugins is unwritable
Add 'hide_parameters' hash option for dashboards and embedded dashboards/questions
More tweaks to prevent duplicate plugins dependency messages in logs
Cleanup [ci druid]
Add getFormValues integration test helper
Add form filling helper and some more comprehensive tests for EditUserModal and NewUserModal
Explicitly cast to long [ci druid]
Make ints coercable to Date [ci druid]
Add Enzyme wrapper 'async' functions (just 'find' so far) and 'eventually' helper
Change date filter formatting from 'past' to 'previous'
Linter fix :shirt:
A few more date picker strings that need to be translated
Add EditUserModal.integ.spec.js and integration test helpers
Upgrade Enzyme for unit and integraiton tests (but not e2e tests)
Upgrade Enzyme for unit and integraiton tests (but not e2e tests)
Add way to pass props to modal in ModalRoute, use to make Troubleshooting Job modal wide
Test fixes & redirect troubleshooting to troubleshooting/tasks
Tasks cleanup & admin troubleshooting page
Add frontend integration tests
Rename test.js to spec.js for consistency
Prettier
Make test tree more consistent with src tree
Move tests into metabase directory to match source tree
Rename 'integration' tests to more correct 'e2e' tests to make room for frontend integration tests
Route cleanup and fix closing of UserSuccessModal
QP middleware to sort result rows for Mongo & Druid; use ordered-map [ci drivers]
Move User*Modals to containers directory
Code cleanup / indentation fixes :wrench:
restyle columns list
transition timing and hover styling
show message if last-change or previous-value are null
Update copyright [ci skip]
style tweaks
Revert removal of supportsSeries=true in Scalar. Resolves #8948
set absolute max rows on JDBC connections; redshift code cleanup [ci redshift]
test updates wip
fix empty state and night mode sans fitViewport (#9315)
activation
Fail ./build-drivers.sh if any driver fails to build [ci skip]
Only warn once about missing plugin dependencies
Increased support & tests for Query.constraints.max-results [ci drivers]
fix modal routes
group loading
rm console logs
require recipient for test email in pulses (#8291)
Make sure auto datetime bucketing is still applied in compound filters [ci drivers]
start swapping display names with names
Support Oracle CLOB data types [ci oracle]
Reorganize MetaBot namespaces; dont show archived Cards for metabot list
rename the saturated blue and add a note about usage
improve json-based query styling
Misc cleanup / flow fixes
Remove unused files
Extract various improvements from data_worksheet branch
prettier
style sql editor and add saturated colors
Add plugins dir to Dockerfiles
Extra logging when Pulses fail to send
Switch to latest MariaDB JDBC driver [ci drivers]
Move unused [by core] jdistlib dep to generate-sample-dataset profile
remove erroneous commas
Add allLoading, allLoaded, allFetched, allError props which are merged with the provided props
try multiple entites
Upgrade to Clojure 1.10 [ci drivers]
Add namespace sorting linter :shirt:
fix tiny typo, 'colelctionId'
clean up actionDecorator
Add test for HoneySQL serialization of Ratios
Change clojure.lang.Ratio honeysql to serialize as a double instead of a ratio
SQL Server use getdate() instead of getutcdate() [ci sqlserver]
Add ellipsified for table header and rows (#9067)
Add apple touch icons (#9211)
remove custom drill through from users guide
add Next links
Convert cxs to styled-components (#9169)
default documentation script to use serve instead of build (#9230)
lint
remove fetchUsers
password reset init
new and edit + success
fix forms
groups entity
rm user select
init port to use entities
Never strip plugin manifest when removing plugin duplicate classes
Test fix :wrench: [ci drivers]
Add UNIQUE constraints WHERE column IS NULL for Postgres [ci drivers]
cleanup
remove asterisks
reel good gramer
move enterprise feature docs and images to new home
Use default value for apple-mobile-web-app-status-bar-style (#9209)
Squash all SVG images (#9212)
Test updates :wrench: [ci drivers]
Add unique constraints: Table db_id/schema/name, Field table_id/parent_id/name [ci drivers]
Don't 'clean' all drivers when running ./bin/build [ci skip]
Don't explode if dash params have invalid targets (#8917)
Don't rebuild drivers unless needed [ci skip]
enterprise guide toc init
move things to enterprise guide and add some images
add z-index to ensure modal content close is always clickable (#9195)
small formatting edits
flesh out instructions for linking to dashboards
including building uberjar on build all
Make sure Max Cache Entry Size setting handles string inputs correctly
Test to confirm Postgres propertly handles identifiers with hyphens [ci postgres]
Prettier
improve i18n workflow documentation (#9160)
use fitViewport on DashboardApp (#9173)
Tests don't need to call add-to-classpath! [ci drivers]
Only add lazy-loaded modules to classpath when needed :sleeping: [ci drivers]
Add profiles for lein run and lein ring server that ignore the tests :100:
Revert "Update NativeQueryEditor.jsx"
Update NativeQueryEditor.jsx
Bump mostly all of our dependencies [ci drivers]
Typo in `Months of year`
Java 11 support :arrow_up: [ci drivers]
Add dox about building drivers :page_facing_up: [ci skip]
Remove def of $subtract now that Monger includes it [ci mongo]
[ci mongo]
whitespace :tableflip:
more snapshot blues
snapshot: fix indentation
update snapshot
Bump Monger to 3.5.0
Bump fingerprint version, update tests
Make sure with-test-user macro causes *is-superuser?* to be bound correctly
Modular drivers :twisted_rightwards_arrows: [ci drivers]
More robust field values heuristics
More driver test fixes
Renamed driver/driver-supports? to driver/supports?
Don't get too eager with removing casts to str
Don't fill template before instantiating translation; quoute '
lint
make sure navbar doesn't shrink in full page layout mode
handle no items state in archive
unify heading style
no back heading
bulk delete
better spacing of actoins
add delete action to archived items
Piechart with no results on dashboard should display No Results instead of asking which columns need to be used
remove unnecessary height declaration (#9076)
Revert adding/updating i18n files
Clean up datetime UI i18n
update languages and add german
Disable tests that are failing on CI
Don't log info messages or async load Liquibase during compilation :construction_worker:
Warn on Postgres conn str w/ ssl=true but not sslmode=require :warning:
check can_write when displaying dashboard header buttons (#9047)
fix img name
docs for customizing drill-through
Disable tests that are failing on CI
lint
translation
translation
translation
Open links in new tab if command/'meta' key is pressed
docs: make ELB zip URL and <a> tag
Auto-bucket type/DateTime field literals where appropriate :calendar: [ci drivers]
Cache Slack files-channel to avoid rate limiting :floppy_disk:
QB should use normalized cumulative count/sum MBQL names :abcd:
Update MongoDB driver :up: [ci mongo]
Bump version -> 0.31.2 :up:
tests: coerce nil to false
Switch to period-based check
Only calculate change if dates are roughly equidistant
Remove runtime resolution of fn that is no longer needed
Make sure to require ns before resolving fns from it
fix typo: publc-settings-test -> public-settings-test :pencil:
Remove stray paren/bracket
i18n(geojson) syntax fix
v0.31.1
Test fix :wrench:
Add expression_name to QP cols results
Fail gracefully when migrating invalid BigQuery legacy SQL questions :skull:
Gracefully handle normalization of invalid queries :warning:
Add ability to copy a dashboard :page_facing_up:
Auto-bucket datetime field in filter clauses :calendar: [ci drivers]
Revert tree-shaking
Driver reorganization :twisted_rightwards_arrows: [ci drivers]
fix acrosss typo
Handle missing columns in MongoDB results :male-detective: [ci mongo]
Remove some unused files from uberjar
Update `upgrading metabase` section
Update version to v0.32.0-snapshot
v0.31.0
Update translations
test-run
handle smaller smart scalar cards better (#8897)
add numeric support
update bigquery java api
Diff the expected/actual Mongo fields in error message [ci drivers]
Add format-name for SparkSQL test extensions [ci drivers]
Remove unused default-schema; share Presto catalog for all test data [ci drivers]
Add test profiling info & don't suppress dataset load output [ci drivers]
Add new bird-count dataset; fix division by zero in MBQL expressions
Bump docstring checker -> 1.0.3
Support backslashes in DB/schema/table names for permissions checks
Change query perms-set fn to take kwargs for opts :white_check_mark:
Add a few util fns; other minor code tweaks
Record database_id in QueryExecution; record query in Query :page_with_curl:
Add query-perms/can-run-query? helper fn :closed_lock_with_key:
Add u/hexadecimal-string? util fn
Add test for updating permissions graph from API :white_check_mark:
Ignore results_metadata in revision tests
MBQL schema tweaks; make SQL QP nested-query-level available to public
Remove dead code in tests :skull:
Namespace form & indentation cleanup; docstring improvments
Add some i18n tags and wrap in str where missing
Use middleware impl for test util fn bind-current-user
Better-organized HTTP client used for tests and add full-response option.
Bump Jetty server version
update tests
Don't strip insights from response in public links
Bump the `java.classpath` and `tools.namespace` versions
Switch to a stream based cache serialization/compression
Simplify SparkSQL driver; fix nested query support [ci drivers]
BigQuery nested query support [ci drivers]
Remove BigQuery driver custom implementation of field->alias [ci bigquery]
Typo fixes and other code cleanup :shower: [ci bigquery]
Use compressed bytes for caching size comparison
scroll table selector (#8857)
Add Snowflake to list of supported databases in dox [ci skip]
Far-future cache header for JS/CSS files with cache-busting query strings
Add a C3P0 exclusion to Quartzite [ci drivers]
add scroll to outer container for database / schema selector (#8782)
Don't show unaggregated field warning for stacked charts. Resolves #3905
Only include a CSV attachment for pulses when XLS is not selected
Add better error messages to loading GeoJSON files
Far-future cache header for JS/CSS files with cache-busting query strings
Ensure consistent ordering of maps/sets when hashing metadata
Dropped tables should appear in a schema's data browse page
filter out hidden tables in table entity (#8831)
Could the admin nav bar use a little color? (#8819)
Update copyright year (#8711)
v0.31.0-RC1
Metastore code SHOULD NOT barf it API response includes unrecognized keys
Ensure queries to compute metadata include user information
Change query result hashing to convert integers to floats first
restructure visualization settings markup to fix label wrapping (#8816)
Link should not be relative (#8814)
Select component style tweaks (#8725)
Tiny grammatical error (#8808)
Add exclude_members, and switch from string to stream
Add tests around slack integration (specifically user/channel calls)
Move `exception-and-message` to a shared/util namespaced
Revert unintentional indentation changes, etc. [ci drivers]
Breakout other non-Snowflake minor tweaks from Snowflake PR [ci drivers]
create-db! -> default-create-db! [ci drivers]
Add DB to QP Store; other cleanup [ci drivers]
Bump Snowflakes `no_output_timeout` to 10m [ci drivers]
Trigger CI [ci drivers]
Change the Snowflake TZ test exception
Add a comment around a Snowflake TZ issue [ci drivers]
Default wrapper  padding left & right
Doc: add current date example for parameter
i18n(App) syntax errors found while translating
Instantiate all localized strings before saving a dashboard [ci all]
Round :sd [ci all]
Round :sd in tests [ci all]
Dash card display fixes (#8777)
Test fix; remove unused new driver methods [ci skip]
Add Snowflake to the oracle/redshift timezone shift results in unix-timestamp-test
More test fixes [ci skip]
Don't run date-bucketing tests for Snowflake; fix fetching timezone
Code cleanup :shower:
Prettier
Open correct tab when clicking 'choose fields'. Resolves #8755
More Snowflake work
query.js unit tests
Run `yarn prettier`
Changed to clojure style and fixed indentation
Minor refactor
Update yarn.lock
Remove duplicate Fields specified in both Fields and Breakouts
Added BQ style test data setup.
Group same strings
Don't use msgctxt
Skip loading FE deps if yarn checksum hasn't changed
Suppress expected error messages in tests; fix broken tests
Try setting Presto mem to 2g ?? [ci presto]
Deduplicate :cols :name keys in QP results (#8763) [ci drivers]
make db creation form links apparent (#8764)
Make sure GA metrics come back with correct type info
make row chart y-axis labels darker
Switch order of claueses
We don't need to check for empty names any more
Add unit test for EntityListLoader
more cleanup of charting docs
Add unit test for EntityListLoader
Bucket order-bys referencing bucketed breakout fields if needed
bunch of small changes to visualization docs
clean up gauges docs
Make sure expression aggregations come back with name
fix safari buttonface problem on downloads menu
fix typo in 19-formatting-settings.md
Nil pad results of last-n when (count seq) < n
Update tests
update why you might turn x-rays off
Add tests
Correctly handle nested `[field-id]` expressions
Change trs/tru to capture ns at definition rather than at runtime
Add preprocessed & native forms to QP error responses
Add nil guards to accessor fns
Update to new i18n library
Add nil guards
Whitelist cyrillic characters for slugs
More dimension fixes
Move unecessary Dimension.integ.spec to Dimension.unit.spec and fix broken tests
Remove bad timezone test [ci drivers]
Dimension: normalize fk->, use normalized .mbql() in isEqual, fix render for DateTime/Binned, add tests
Remove reference to deleted namespaces [ci drivers]
check for xrays enabled after DB add (#8728)
update product screenshot in README (#8729)
add a note about one sandbox per user
Change Presto result processing function to always return vectors
update pivot table docs
Don't use baseDimension in FieldList if useOriginalDimension is enabled
update conditional formatting docs
Show task history in the admin section (#8692)
Add test for pivot sort inference
fix another couple typos
fix a typo
Cleanup pivot sort logic
Detect sort order of pivot table columns and sort them if necessary
Use original breakout dimesnion when adding order by clause
If default specified, do not give required message
Change fit metric to MAE
Correctly parse fk-> field references + Ensure time is 1st dimension
docs for turning off x-rays
docs for trend lines
X-ray settings toggle  (#8706)
Update smart scalar for new insights format
Multiseries and non-linear trendlines frontend
change accent6 and swap alpha with lighten
Add docstring to best-fit describing the approach
Make smart scalars work with the new format
Use 50% opacity version of series color for trendling
docs for admin formatting settings
update snapshot, part 2
Update tests, part 2
update snapshot [ci all]
docs for chart column formatting
Choose the right code-path for UNIX timestamps
Update tests
Removed bracket/parens
fix declaration ordering
Add schemas
Ensure adhoc query normalization
Add :best-fit
default to case insensitive for friendlier UX (#8696)
Table visual improvements (#8635)
add search to pulse slack recipient picker (#8454)
Changed query throttling to opt-in
Enable insights on multi-line charts
add images for real
add docs and images for new visualizations
Use formatValue for pie chart percent
QP refactor part 9 [ci drivers]
Revert line/area/bar tooltips
tweak lightness and saturation
Improve choropleth colors, remove debug settings
Computed choropleth color scales
More tooltip cleanup
Gauge: tooltips
Pin map tooltips and drill through
QP refactor part 8c [ci drivers]
mbql.u/match and mbql.u/replace macros [ci drivers]
Final MBQL schema update & other code cleanup [ci drivers]
Misc settings tweaks
Tooltip and formatting cleanup
Use column settings in tooltip formatting
Revert snapshot changes
Add self referencing FK test exception for Vertica [ci drivers]
Make smart scalars play nice with unix timestamps
Add nil%, sd
PostgreSQL table description test fixes [ci drivers]
Add column setting button to graph dimensions/metrics
Max width on global and field settings
Enable search for currency setting
Conditional formatting: add contains, does not contain, starts with, ends with
Remove mbqlEq() and mbql() functions obsoleted by MBQL normalization
Convert remaining MBQL using CAPS_AND_UNDERSCORES to lower-and-dashes
Don't show number style setting for currency fields
ohhhhh so pretty
change accent5
Allow field filters to be required
standardize use of selects, radios, button groups
api.js: merge options and retryOptions
Conditional formatting: add support for strings + null/not null
Add docs for the MB_DB_CONNECTION_URI parameter
Add column settings to pie chart, add gear icon next to field picker to get to column settings
Reflect currenct currency in currency style picker
Cleanup currency picker in data model
Various column formatting enhancements
Add support for extra parsed params for MySQL app DBs
Update tests to correctly handle :insights field [ci all]
Add illustration to empty state
Add updateSettings function which removed undefined settings and includes analytics tracking. Use for both nested and top level settings
Don't show setting reset button on global settings
Use side bar for FieldApp
Split up massive FieldApp file
Temporarily revert FieldApp to make merging easier
Ignore leading `jdbc` prefix in JDBC connection uri
Ensure we don't try to hydrate a nil pulse
prettier all my lil pretties they're so pretty and precious
Rmove our honeysql.helpers metadata hack
restyle FieldApp
Specify English locale when formatting H2 SQL identifiers
make selects with no selection legible
clarify show the time options
global settings layout and options
Minor FE unit test refactoring
Backend test fixes
fix postgres connection string
yarn.lock update
Integrate column settings into line/area/bar charts
Integrate column settings into line/area/bar charts
Cleanup deprecated settings
Make series settings inputs same height
Tweak line/area/bar chart name logic to show metric name for single series
Default to 'Display' chart settings tab
Add button to reset settings
Superscalars (#8383)
settings ui tweaks
Add a missing docstring to `metabase.util.date/date-trunc-units`
Add 503 retry logic
tweak scalar size at different breakpoints
Test fixes & extra tests :wrench: [ci drivers]
Trendline frontend
CR cleanup
Don't normalize linear function
Use :unit to determine step whene possible
Add some more default color mappings
Support :year aggregation
Series settings misc cleanup
Add whitelist/blacklist to ColumnSettings
Add tabs to FieldApp
Initial implemenentation of global and field level formatting settings
Hide number style for currency
Add option to only show currency in header
move night mode colors to colors.css
Add line and bar icon to ComboChart
add lineandbar icon path
Add goal label
Use series title for y axis labels
Implement improved stack setting logic
flip chevrons around and give them a hover color
use destructured data object for scalar isSensible (whoops)
lint fix
check for insights
pass all data to isSensible
proper drill through
Adjust line width based on spacing
fix alignment
actionButtons
Update the Oracle section of the administrative guide
Query processor refactor part 7 [ci drivers]
Add _seriesKey and use it for dashcard multiseries to preserve colors of first series
Preserve line/area/bar when zooming
fix down arrow
fix tests
More test fixes
Make sure SQLServer tests are running [ci drivers]
lint and font fixes
scalar titles
Make user not required for MongoDB connections
Test fixes :wrench: [ci skip]
play down fullscreen change
fullscreen card color
fullscreen night mode text
fullscreen change tweaks
only show comparison value in fullscreen
more styling tweaks
add arrow
tweak title and smart value placement on dashboards
Empty commit (fix CircleCI)
Test fixes :wrench: [ci drivers]
Use new MetaStore v2 endpoint
Make sure we're running Vertica & MongoDB tests [ci drivers]
Lots of tweaks [ci skip]
Add snowflake to CI [ci skip]
Add custom load-data! impl for Snowflake
Fullscreen dash header fixes (#8586)
Remove unused namespaces
add visualization click to smart scalar
remove unused file
silly linter workaround
Remove unneeded requires
bump version [ci all]
QP refactor part 7 [WIP] [ci skip]
init sync styles
remove extra spacing and clean up component (#8584)
Add an environment var to disable login/session throttling
Add a query throttle middleware
QP refactor part 6 - rework add-dimension-projections [ci drivers]
add NoBreakoutError and use for SmartScalar
add pencil icon to formatting action group (#8582)
Add new auto-bucket-datetime-breakouts middleware; test fixes [ci drivers]
Addd tests for embedded token expiration
remove transition (#8525)
icon
lint
use column settings for Gauge
use column settings for Progress
Make a fail-safe i18n translate function
Integrate field settings into column settings and cleanup currency support
Include settings for ag fields in QP response
Add tests for settings/nestedSettings
Fallback to formatColumn
missed currencyType
currency > currencyType
use field setting for currencyType
Add formatting click action, refactor ChartSettings substitute widget fuctionality
Add column title setting
Test fixes :wrench:
Validate time_enabled setting is appropriate for the current unit
Disable currency number style for now
Add context to the IOException when creating temp files
redo images for advanced sandboxing examples
add advanced sandboxing examples
remove links on paid docs
Persist pivot table columns
Add pivot column selection and don't sort values
Update /bin/docker/Dockerfile to openjdk: as well
Use supported docker image
Move add-implicit-clauses to pre-expansion [WIP] [ci skip]
Misc tweaks
More flow
More flow
More flow
Refactor date/time formatting
Test fixes :wrench: [ci drivers]
Whoops, make sure to attach workspace before using deploy-webhook script
Add Field.settings column
Add deploy webhook back to CircleCI 2.0 config
Remove unused SparkSQL call to qp.store/table
Integrate deterministic colors into pie chart
Upgrade node version in packages.json and the Dockerfile [ci all]
Port column settings to nested setting
Add frontend/src/metabase/visualizations/components/settings/ChartSettingNestedSettings.jsx
Backport changes from series settings branch
Add combo chart type
Series settings: fill
Reorder charts so lines are on top of areas are on top of bars
Misc column level
Make AvatarURL derive from ImageURL
Column settings: hide markdown template, consolidate table formatting/data, add link/image options, and more
Query Processor Store [ci drivers]
Test fixes :wrench: [ci drivers]
change order of next links to match TOC
jwt docs and update toc
add decimal places to field settings app
hack - reflect in table header
hack - use caveats for currency symbol for now
layout fix
add currency type / picker and currency list
Test fixes :wrench: [ci drivers]
Series settings: combo charts, deterministic series colors, axis assignment, etc
Add a unique index to databasechangelog
Query schema fixes; add query validation middleware [ci drivers]
Ensure connections are closed when a db is deleted [ci drivers]
Cleanup based on feedback from @senior
Clean based on @sbelak comments & fix FE integration tests [ci drivers]
Remove logs
only use aggregation column
Update po files
v0.30.3
ensure container is full width
Add optional static columnSettings to visualizations to add custom column settings, use for mini bar
Test updates :wrench:
Consolidate some code for adding Content-Type header to responses
Misc cleanup
Add columnSettings function which takes an optional getColumns function
use column settings for formatting
Add placeholder to multiplier setting
Add markdown_template column setting, replaces prefix/suffix
merge formatting-refactor
mini bar white center line
Misc number format improvemnets/refactoring
Mini bar chart in tables
Query normalization [ci drivers]
Cleanup time formatting functions
Replace legacy scalar settings with column settings, add date formatting settings
Use refactored settings code for column settings
More settings refactoring
Move some functions to visualizations/lib/utils
Add basic column settings
Move graph specific settings functions to settings/graph.js
Add a test for the self-referencing column bug [ci drivers]
Revert build-for-test and run prettier
Remove unused ChartSettingRange component
Use NumericInput for gauge settings
Make visualization type menu scrollable (finally)
Update ExplicitSize mock to match implementation
Gauge: remove global range, support negative numbers
Add tests to GET `/api/pulse/form_input`
Add tests to GET `/api/pulse/form_input`
Port remaining Scalar settings to formatValue/formatNumber
Add frontend linters to CircleCI 2 config
specify button type to fix form submission (#8435)
Add UserLocalizedString and SystemLocalizedString for i18n
add internationalization info to the readme (#8273)
Gauge: don't animate on chart settings
Gauge: remove invalid segments
Tweak gauge segment color picker size
Don't allow deleting the last segment
Various improvements to gauge chart
Gauge: fix layout overflowing and blocking chart settings buttons
arrow height tweak
tweak arrow style
Gauge: defaults based on value, better color palette
yes it's 1px
grabby grabber
ensure container is full width
Implement template tag re-ordering
Param reordering: Switch from drag handle only to using distance prop
Remove 'comma' formatting option
Restore build-for-test
bump version [ci all]
More tests
add basic smart scalar viz settings
Correctly handle blank column names
Update locale .po files
Correctly handle JodaTime [ci all]
allow vertical scroll if viz popover list is truncated (#8434)
Update tests [ci all]
Remove unneeded requires
Rename SmartScalar -> smartscalar
Add smartsclars to xrays
Correctly handle questions with datatime units
docs: Now Java 8 is required
Add drag handle for sortable parameters
Update metabase.pot
past > last
Remove unused i18n plugin; revert back to CircleCI Docker images
Use CircleCI docker images where possible !
CI experiment: use caching instead of persist to workspace
microcopy tweaks
Switch to CircleCI 2.0 (Workflows) [ci drivers]
style jvm tz toggle
Don't wait for SparkSQL docker image to start if not running SparkSQL tests
Separate caches for different CI steps
simplify
Switch to CircleCI 2.0 (Workflows) [ci drivers]
Add new flag for BigQuery to use JVM timezone [ci drivers]
handle flex wrap
responsive dash card layout
Correctly handle JodaTime [ci all]
return a nil fingerprinter if no insight applies
Add TaskHistory for storage sync and background task metadata
core.async take/put ops in `go` blocks use single `!` functions
make animation slower
tiny tweaks
Allow typing localized "DELETE" in DeleteDatabaseModal (#8395)
Gauge: Various improvments and refactoring
Add optional 'measureClass' to ExplicitSize so that Visualization only measures viz element
smart scalar vis
change text color of dirty run button
add a little padding to settings
Gauge: misc tweaks / cleanup
Initial parameter reordering impl
Gauge chart
proper % change
add granularity to labels
show previous value
Add :previous-value
tweak colors and last value style
Ensure we handle no git Metadata for BQ startup [ci drivers]
lint
add SmartScalar to LineAreaBarChart
tweak position
hook up to viz settings
add last-value to timeseries
add :insights to query response
[ci all]
Use histograms for fingerprinting numbers. Add q1 and q3 features [ci all]
bump version
Show pinning message to admins (#8364)
Update pt.po (POEditor.com)
Update es.po (POEditor.com)
placeholder
sizeToFit DataSelector
Update pot
fix admin checklist curate link to point to root collection (#8265)
update color reference to reflect color sync (#8340)
Download widget improvements (#8341)
shorter x-ray and compare action labels
Remove the redundant Redshift port config
avoid needless sort
Remove blank line. Slightly better wording in docstring
Dataset exports should check for nested queries
update datetime format
Bump fingerprint version in test
Add test
Make sorting algorithm clearer.
Pulse graphs should skip nil value rows
Sort result rows in a single pass
Remove unneeded code
Set base_type to type/* if sample is empty
Add user info to search values query
Add a new `api/common` `with-current-user-info` function
Add a JoinQuery to `metabase.query-processor.interface` [ci drivers]
Ignore binning instruction for non-numbers
Correctly unpack nil dates
Use map display to compare states and countries
fix html inside of translation tag in db delete modal (#8290)
fix recently viewed overflow (#8292)
Sort require
Make sure we properly parse OpenJDK version strings
Respect active flag
Use nils as placeholders when all values are nil
Don't treat GA metrics as saved metrics
Ensure stable series ordering
add overflow to constrain long item names
Update version to v0.30.1-snapshot
Add missing Redshift driver password field
Change the resolver to allow breakouts on nested FK related fields
tag missing strings
Update es.po (POEditor.com)
Update translations
[ci all]
[ci all]
Instrument entity actions (#8248)
[ci all]
Use correct test version
Don't disqualify dimension if we aren't using binning. Add FK comparison rule [ci all]
Update API dox :newspaper:
Add tests [ci all]
Add engine info to injected fields
Don't create binned cards if the driver does not support binning
remove unneded requires
Add #: comments
Add context
Remove duplicate key
bump version
Add extra security headers to generic error message responses
prettier
Change root-collection-with-ui-details to a function so that the name is properly localized
i18n tag 'collections' in collection perms breadcrumbs
Localize group names an a few other things?
Remove fuzzy translations
Add some Spanish translations
Update po/pot
Homepage visual tweaks (#8239)
Update `/pulse/test` to accept HybridCards
Update pot
i18n chart settings section names
Integrate translation builds into ./bin/build
fix collection sidebar show / hide logic (#8232)
update pot
Don't overwrite :middleware
Rename 'Everyone else's personal collections' to 'All personal collections'
Update .pot
Tag misc missing i18n strings
Don't fingerprint results when exporting data
Refactor and externalize driver details strings [ci drivers]
remove unneeded requires
More consistent series names
Don't overlay multiseries cards; don't nuke cards we can't filter
Make sure LDAP mappings up to date
check for data access to display new questions and data reference nav items (#8216)
Hide homepage sections without content (#8207)
Consolidate empty states (#8187)
Only show sub collection toggle if there are sub collections
update tooltip descriptions of access levels
move toggle to right
dial in toggle and popover
add description info item if a collection has a description (#8225)
Filter subcollections of personal collections when propagating collection permissions
Add option to propagate permissions to sub collections, enabled by default
fix linters
Update settings to use (non-translated) slugs to identify sections
Metabot needs to include `collection_id` when pulling cards
fix dumb apostrophe
consolidate some strings
Ensure we call setLocalization before loading any files with translated strings
fix search title overflow (#8213)
tweak run / refresh button overlap and spacing (#8217)
match width of results (#8212)
Don't add default collection to native query unless required
i18n(ES) update to 0.30rc
add more explicit trigger for collection permissions (#8200)
turn button to link
Allow for entity menu triggers to have tooltips and add to NavBar (#8199)
Other rando Groups shouldn't get perms for 'Migrated' Collections
Remove unnecessary use of cx
Give all groups root collection r/w perms
fix merge conflicts
visual and spacing tweaks and update snapshots
ensure searchText has a value before redirecting to results (#8184)
use our own UI components (#7295)
Correcting the table format
remove db xray link on overworld (#8183)
Update snapshot
Don't decrypt obviously not encrypted strings
Move collections permissions to admin panel, add data/collections tab, add collections breadcrumbs
small copy edit [ci skip]
Add 'underline' mode to Radio component, use it everywhere
Remove special logic for collection breadcrumbs now that effective_ancestors includes root collection
Lint fix :shirt:
Add root collection to effective_ancestors
Test fix :wrench:
Make overworld xray title spacing consistent
update pulses doc re archiving [ci skip]
update a few images with old nav bar that i missed [ci skip]
fix broken image link [ci skip]
fix "jut" typo [ci skip]
fix-profile-help-link (#8172)
Remove leftover unused raw_column_id and raw_table_id columns
Update druid tests [ci all]
29 -> 30: Migrated Dashboards/Pulses/Questions Collections
Update metabase.pot
kyle's comments [ci skip]
If PK is a DateTime fingerprint it as such [ci all]
Don't special-case :type/* when deciding if field is a category [ci all]
Treat (& cast) unix timestamp as date [ci all]
let-bind lower-casing of field name
Special case category detection for bools and type/*
Don't assume no values if fingerprint is not text or number [ci all]
[ci all]
Correctly handle PKs; skip results_metadata step when fingerprinting [ci all]
appease flow
Add comments for TOOLTIP_STACK code
Add collection permission warning when subcollection has greater permissions
Add can_write in a few places; remove read_only
fix icons
Enforce collection permissions in drag and drop. Pending backend modifications to include can_write in various places
Only show 'Edit Permission' if the user is an admin. Only show Edit menu if there\'s at least one action
Port pulses to use entities
Add a function to entities to consistently get the correct object from the result of an entities action.
Don't delete pulse channels/recipients when archiving
lint
fix tests
merge
Add unarchive button to archived pulse
Archive pulses backend
Remove old pulse listing
Make pulses archiveable
Make pulses pinnable
Don't show drilldown fields for GA tables
Correctly generate metric name for GA metrics
Ensure name uniqness only on the level of parent collection
Don't require admin permissions
Convert strings to java Dates when fingerprinting :type/DateTime
Don't skip column type inference when fingerprinting
Remove overly agressive shouldComponentUpdate from EntityType, which broke collection links etc (#8149)
v0.30.0-rc
RC1
update var definitions
FE changes to allow users to save things
xray description
lint
Disable defaulting any time extract to histogram
add updated icons
fix generic error layout
initial sidebar update
Include Root Collection in GET /api/collection response
fix archive redirect (#8108)
Generated passwords can be longer than the minimum complexity requirements. Use the previous default of 14
fix_typos
Potential fix for _location CI failures
Ie11 fixes (#8145)
Instrument 0.30 (#8130)
Xray comparisons raised from the dead (#7792)
Add some unit tests for chart fixes
Overworld title fixes (#8134)
use transpiled version of icepick 2.x for ie 11 (#8140)
Change the structure of related
Shorter names for segments, don't split Y axis in overlays
Allow canceling out of create dashboard pane in AddToDashSelectDashModal
Port dashboard create modal to use DashboardForm component. Optimize EntityType and EntityListLoader
Additional perms checking for schema list endpoints :lock:
When saving to root, save into a container collection
Account for derivation when generating SQL for PK exclusion
Better name for the middleware setting. Update comments
Minor refactor
Don't classify columns when run in the context of fingerprinting
Update comments
Minor refactoring, add comment explaining cast to str for type/Text
Another CI _location error test
Cleanup pulse table formatting
Group add user typeahead popover when only one result
Update flow types and backend test for pulse table formatting
Optimize pulse formatting
small copy changes (#8124)
remove invisible bg shadow (#8123)
prettier formatting for Overworld
admin guide updates
more small updates [ci skip]
update or remove old images [ci skip]
update dashboard images [ci skip]
clarify archiving [ci skip]
update asking questions doc [ci skip]
some updates to basic exploration doc [ci skip]
comparison x-ray screenshots and remove unused pngs [ci skip]
merge in master
add fields blurb and screenshot [ci skip]
Update tests
Add a save endpoint which picks the parent collection automatically
Clean up accidental color changes from color consolidation. (#8121)
Remove unused components and css (#8114)
Don't requeire admin permissions to create a new collection
Save transient dashboard as a new (sub) collection
Nested collection picker + initial collection fixes (#8101)
Work on cleaning up empty states for the home page and collections (#8106)
remove fingerprint/sample ns
Minor refactor
Update tests
Spaces polish (#8104)
update the sharing answers page [ci skip]
add images to admin collections guide [ci skip]
add images to intro guide [ci skip]
Add 'yarn ci' which runs all frontend and most backend tests (no drivers etc)
microcopy cleanup
overworld db links
table x-ray and reference links
homepage blocks
fix another merge conflict
change label
fix merge conflicts
merge master
remove welcome page from admin guide [ci skip]
fix archive redirect (#8108)
Communicate to skip fingerprinting to qp
Move record-and-return-metadata! higher up the stack
Correctly handle jdbc blobs
Better with-error-handling
Push some of the transducer utilities to redux
Remove unneeded requires
Don't converte datetimes twice
Update tests, part 3
Remove duplicated tests
Update tests, part 2
Update tests
Generate correct title for cells of row questions
Better col-wise
Don't apply default port for SQL Server [ci drivers]
Include Root Collection in GET /api/collection response
Make linter happy
Generated passwords can be longer than the minimum complexity requirements. Use the previous default of 14
Minor refactor
Make flow happy
fix_typos
Potential fix for _location CI failures
Drag and drop cleanup (#8077)
Update query fingerprinting to use transducers
Parse Postgres UUID fields correctly in Field Filters [ci drivers]
use table instead of flex layout for revisions (#8092)
change pulse urls to make sure a pulse in a collection links to the e… (#8095)
make sure auth views are full screen (#8090)
Add comparison_title to heursitics
Better cell titles; skip redundant titles
clean up extra padding on QB modal content (#8086)
Restores the sidebar that was reverted in a recent merge
05-setting-permissions.md next: title fix etc.
Respect password complexity requirements when generating new password
Try wrapping setTimeout to check for closed window
Collection badges (#8048)
sync toast style (#8078)
show correct items based on admin status + tests (#8071)
If sending a Slack pulse/alert fails, still send email pulse/alert (#7409)
Convert visualization settings and columns to JS data
small microcopy tweaks and purple dbs (#8049)
Bump to Toucan 1.1.9
Parameterize quoting strategy
Top align titles
Simplified way to keep setup token in sync.
Migrate db admin page to use metabase/entities/databases actions
Multi instance DB migration failure fixes
Use redux action to save xray dashboard, make sure it invalidates dashboard listings
hide filters if no unpinned items (#8057)
Add a bit of MetaBot MetaJitter
MariaDB should have the same migration exceptions as MySQL
Add quoting to fix issues with newer MySQL
PR review tweaks
scroll to top when the route pathname changes (#8056)
Remove duplicate pinInitialAttachment prop on ItemSelect
remove duplicate prop
Hide personal collections in permissions grid, fix flow types
pin item picker attachment
fix item picker scrolling
Don't fingerprint PKs, don't do numerical fingerprinting on FKs
Gracefully handle errors, match api to existing
Lint + prettier + snapshot iifixes
Misc ItemSelect/ItemPicker fixes
Collection empty states (#8050)
Extract table formatting code and use for pulses
Component and color tweaks (#8038)
Loosen the query result rows schema for the color selector
Bump Liquibase to 3.6.2
Add some schema around the data the color picker expects
Include `:data` from query results in the color selector call
better distribution comparison title
icon size
responsive data browser (#8041)
Responsive collections (#8035)
Undo changes to fingerprint.datetime
update snapshots
dial in lists
First attempt
change fixed height
make entity icons a little bigger
mobile icons and width (#8034)
Code cleanup :shower:
Tests for MultiMetaBot am-i-the-metabot? functionality
Hydrating personal_collection_id should force creation of Personal Collections
Make add question to dashboard modal not full page
Add inheritWidth prop to ItemSelect, default true
Basic item picker search, fix personal collections children
lint
initial fixes (#8033)
Collection picker handle personal collections
tweak cards and browse all link
Switch from `make-array` to `object-array`
Tests for new defsetting options
Driver pulse table cell color from visualiation settings
Rename ChartSettingOrdered{Fields,Columns}, fix up unit tests
fix export and binds
merge origin/master
Add comparison_title
remove reference / x-ray links on schema for now (#8023)
white bg for pulse channels (#8024)
close entity menu on link click (#8022)
lint
remove trailing commas
spacing and sizing
Hide collection color field on collection forms. (#8012)
redirect to dashboard when creating new dash (#8021)
small setup fixes (#8017)
Misc lint fixes + table columns setting improvments
updates to the users guide [ci skip]
MetaBot tweaks for multiple instances
Collection layout polish (#8008)
more progress [ci skip]
Implement new 'additional fields' design
Don't include dimension options for nested PK/FK fields [ci drivers]
move spaces out of translated strings
Add support for binning of nested queries [ci drivers]
address sameer's feedback
Move search field to top of AccordianList if alwaysExpanded=true
First pass at UI for adding new fields in table chart settings
Don't barf if task has already been scheduled
more progress [ci skip]
Sync table.columns to query's fields clause
Responsive overworld grid (#8001)
MySQL fixes :wrench: :broken_heart:
add a shadow to toggles
Update test
Postgres fixes :wrench:
Quartz scheduler JDBC backend
progress [ci skip]
Retain structure (provisional)
Add day-of-year and test for all the available units
use brand color for search background (#8000)
fix dangling  in day-of-week xrays
fix wrong arg order. ADD TESTS for datetime humanization
Add type hint
Properly handle timezone
prettier
make x-ray suggestions look nicer
Various homepage and collection layout tweaks (#7993)
Revert "Add support for binning of nested queries"
Add no-color-literals lint rule
fix regression
correctly extract table_id from adhoc quesions
Allow positive numeric values for text fingerprint average lengths
Refactor `/api/table/query_metadata` route logic to a function
Update email troubleshooting docs
better ordering of search results (#7982)
Humanize periodical datetime components nicer
reorder minute and hour titles, remove comma from year titles
fix tiny typo
update tests
Don't show superfluous datetime components
Flatten filter clause
update header style for embedded visualization
Switch conditional table formatting to use semantic colors
Make colopocalypse a bit more idempotent so we can run again
Run colopocalypse after merging with master
upgrade all calls to the new api
Generate color harmony (and sync other color familys with )
make saved question titles text-dark
Store fingerprints and special types for native cards
make text-medium slightly darker as well
make text-light slightly darker so it's more legible
Discard cell-query for comparison side
Fade out edit header bar
Make user avatar in nav transparent
fix color contrast on toggles
Consolidate shadow color
darker bg for entity menus
fix collection archive
clean up profile link
Restore AdminInput light background
Tweak permissions grid bg alpha
fix z-index for embedding modal
Various post-colopocalyptic cleanup
prettier
update header style for embedded visualization
Colopocalypse!
Add brand color family
Add primary/secondary colors to border
Improved colopocalypse that uses jscodeshift
Temporary changes for colopocalypse
Make colopocalypse aware of color semantics
Use CSS variables for our colors
Resolve and replace CSS variables
Use color-diff for better matching
Use some real colors in colopocalypse
Add script to replace colors in frontend with closest match from predetermined set
initial default color
Flatten filters where possible
lint
use entity menu for item creation
lint
remove unneeded require
pinned item size
all items link
pinned items spacing
layout tweaks
metabot suggestion spacing
MySQL fixes :wrench:
collection overworld spacing
icon spacing
new collection
nav padding
refactor profile link to use entity menu
Prevent google and ldap users from changing their email address
Encrypt Settings :lock:
create new items from nav
Log probably-ignorable SQLException just to be safe :lock:
rearrange TOC [ci skip]
more robust save dashboard test
correctly flow query-filter to aggregate card constituents
Don't skip small categories in GenericTable
Add docstring
Don't throw away :query-filter for adhocs; expand segment macros
saml docs [ci skip]
initial cut of paid feature docs [ci skip]
drill entry points
Add a migrate to clear locally stored LDAP user passwords
ellipsify collection text
update url
We should not be storing/update passwords for LDAP users
Appease the defendpoint gods
fix indentation
explicitly test for show=1
merge changes
remove use of 'these'
entry action
tests: set up collection for cards so that permissions work
Correct title for questions with no breakout dimension
don't explode if cell-query is nil
Don't show cards and filters where breakdown dim is a cell dim
Test for more working correctly
horizontal collections
Horizontal Scalability: invalidate Settings cache when appropriate :scream_cat:
tweak crumbs
section headings and title changes
fix border bottom
1/3 for pins
lower side for collections
Add migration & update docs [ci drivers]
split, 1/3
1/3 pinned items
collection cards, sizing
switch order
Use BigQuery standard SQL instead of native SQL :wrench:
Add support for binning of nested queries
Proper spacing in table name humanization string
Correctly handle cell xrays of questions with multiple breakout dims
downsize titles when merging dashboards
Change cell xray to be based off card xray
cursor pointer on crumbs
fix typo short-title -> short-name
small tweaks and fixes
Don't stuff filter clauses into `cell-query`.
Implement nested collection item picker, use across app
Refactor to use a map instead of multimethod
More ballanced and more random recommendations
Alow acces to both root and what's binded to this via dot notation
Introduce [[this.foo]] syntax and make GenericTable and segments nice
Split cases where we have query-filter and cell-query
Improve copy. Make cell titles more sensible
Change the Pulse API to accept a CardRef or HybridPulseCard
Add Question redux{Create,Update} and use in QB to ensure the store is updated when questions are created/saved
Misc QueryHeader cleanup
Add a bit of spacing to the x axis if the ticks are disabled
For linear axis only show ticks that are multiples of xInterval
Use normal formatting function for histograms, but don't use ranges, only start point
Only use histogram for certain x-of-y date extracts
Enabled a few more lint rules
Split `/collection/:id` and `/collection/:id/items` tests
Change collection position tests to use more heterogeneous collections
Don't use u/get-id where we might be dealing with adhoc queries
Remove log
Make collection position span all items in the collection
Add related
More pin reordering improvements
Prettier
Account for description row height
Update drag and drop collection_position indexes
Rename Input to InputBlurChange for now
Add "compare with entire dataset" related for segments.
Add frontend tests
Add backend tests, factor out common utilites for testing xrays
Convert some <button>s to <Button> and remove Button--success-new class
Convert question move modal to non-full modal
Add segment descriptions where possible. Move segment summary up top
Add bulk settings API
Refactor LDAP/Email settings pages
Possible fix for "Cannot read property '_location' of null" CI errors
Rename :metabase.models.collection/is-root? to ::collection/is-root? per @senior's suggestion
Add collection position reconcilliation to cards/dashboards/pulses
Move drag-and-drop components to their own files
Update collections API tests
Don't split Y axis for overlay cards
Split up /api/collection/:id endpoint and cleanup collections FE
Add Gitter links
Make linter happy
Better related using per-entity/dashboard type recommendations
Search results should not include alerts
Fetch only fields we need for a table
Don't try to recast ints to int
Use CollectionMoveModal in qb
Manually cast ids to int
Change api endpoint argument name to avoid broken magic
Add indeterminate state to Checkbox, cleanup bulk actions selection logic
Don't inherit `query-filter`
implement code review suggestions
Ensure all segment components are present in the comparison
Don't use alias for having
Add missing argument to in
Correctly handle empty table lists in `enhance-table-stats`
Use strings for col names
Don't use Druid metrics as breakout fields
Don't calculate specificity too soon
Cache rule specificity, remove Schema checkes on the hot path
Rework candidates to use only 4 queries
Sort pinned items by collection_position
Add updateOnInputBlur prop to TokenField, use in RecipientPicker to ensure email addresses are committed on blur. Resolves #6935
Make sure you cannot edit perms for descendants of Personal Collections
Require parent perms when moving/archiving Collections :lock::lock::lock::lock:
Remove the collection param from search, use standardized attr names
Logic + tests for moving Collections "across the boundary" :scream_cat:
Correctly handle legacy `[:rows]` aggregation clause.
Implement breadcrumbs for CollectionLanding
Add :link data to injected (root) field. Test for valid queries
Copy permissions for parent when creating new Collection
Add  to /api/collection/:id items
Grant Current User perms for descendants of their Personal Collection
Improve LoadingAndErrorWrapper error message handling
Finish implementing nested collections on CollectionsLanding, migration item type->model and favorited->favorite
Drag to unpin
Improve drag-and-drop
Rework GET /api/collection/:id to return things in 'search-friendly' format
List user collections for admins [WIP] (#7851)
add positioning component (#7846)
Port DashboardMoveModal to CollectionMoveModal, fix moving to root collection
Port EntityMenu to use Popover
Implement simplified collection permission modal
Finally drop RawTable & RawColumn tables. Bye Felicia! :wave:
lint fix
Remove ComputationJob and ComputationJobResult models
merge
allow movement into root collection
prettier
fix move button
Remove unneeded requires
Reorder defns
Add provisional API endpoint and UI hook via related
Collections project overworld empty state (#7785)
Nested collection permissions
Perms checking logic for Collection recursive moves/archiving :scream_cat:
Virtualize CollectionLanding and ArchiveApp
Simplify undo/toast by pushing createUndo logic into reducer. Add auto-undo to various entity objectActions
Handle Azure Cosmos DB connections
Ensure search lists are invalidated when objects change
Replace metabase/dashboards/{dashboards,selectors}.js with metabase/entities/dashboards
A few extra tests
actions mimic list position
Test fixes :wrench:
Make favorite icon appear gold and not only hover if favorited
Swtich from rebass to grid-styled (#7838)
bulk action styling updates
Minor search column refactoring
Breadcrumbs component library spec
Update remaining collection select widgets
Return personal_collection_id with users list
Implement nested collection picker
Move favorited boolean conversion to Clojure-land
Clean up people modals (#7831)
Add permission checks and tests for said checks
Docstring fixes
prettier
Lint fixes :shirt:
More tests around editing Personal Collections
Include favorited status in search results
More tests for using perms collection granting fns with personal collections
Tests to make sure you can't edit Personal Collection perms...
Test updates :wrench:
remove flatMap from urls.js
Implement automatic reloading of lists after create/update/delete actions
Add fetched selector and use in EntityListLoader
Implement automatic reloading of lists after create/update/delete actions
Add fetched selector and use in EntityListLoader
Collection management drag and drop
Implement moving actions
Move onToggleSelected to parent element to expand click target
Update search collection parameter
Refactor column selection for search endpoint, add archived etc
Add support for searching root collections
Cleanup EntityItem, explicitly pass in all actions
hide edit menu on personal collections
highlight personal collection
archive styling and show select
Switch metric/segment `is_active` to `archived`
force z-index on toasts (#7818)
Add migration to remove native read permissions entries
Personal Collections! :scream_cat:
Code cleanup etc.
Add missing LDAP special chars to escape function
individual archive action
Rename pin/unpin to setPinned
action bar for collections
Get listSelect working on CollectionLanding
Cleanup entities/search and ListSelect
Add segments/metrics to search entity
Update CardRenderer.jsx
collection list item icon swap for selection
Revert "Refactor alert.integ.spec cleanup"
Cleanup flow types
don't show edit or archive on root collection
Add `login_attributes` to `core_user`
per item actions
style / animate bulk bar a bit
fixed bottom bulk actions bar
hover parent / child should only go down one level
First pass at bulk selection/actions
Refactor alert.integ.spec cleanup
Change forBothAdminsAndNormalUsers
Revert some integration test changes
Begin unifying collection list and search
change heading for seasonal components
tweak to generic field again
tweaks to country, datetime, and generic field copy
Update FE tests to account for the new action
Tweak action copy
Nested Collections: archiving
Change copy on xray action
state tweak
Don't show ID fields in related
tweak copy for field x-rays
Add qb action
Apply code review suggestions
Add geographical breakdown to Number field
Add overview, Number heuristic, crosstab
Remove unneeded requires
Update related to new api, add test for aggregate adhoc question
Collections project item creation (#7753)
Flex like no one's watching (#7772)
Update permissions unit test to reflect removal of native read permission
i18n(es) update to latest code
Add root collection to collections permissions. Remove PermissionEditor modal mode
fix syntax errors found while translating
Switch a field values sync test from an atom to promise [ci drivers]
Revert a change removed a needed monger require [ci drivers]
CSS based colors for the nav (#7768)
Remove 'View raw queries' permission option
Improve Toast workflow (#7755)
Add a search endpoint for quering names across entity types
code review changes
clean up toast
add confirmation of dashboard move
Return can_write with Root Collection :scream_cat:
Only show pin/actions if user has can_write collection permission
Root Collection Permissions :lock:
Color by segment, add segment names to legends
Reenable comparisons
fixing set timezone typo
Nested Collections :bird:
Run CI [ci drivers]
Lower the Spark executor memory and MB test memory [ci drivers]
Revert the addition of is_active in the default model props for user
Refactor fill-templates some
Implement code review suggestions
make pretty
Add type classifiers
removing required db attribute
adding auto increment support
Explicit reactivation: ensure is_active is always returned by /api/user endpoints
Consolidate queryResult and queryResults. Rename getQueryResult to getFirstQueryResult
Remove :more field before attempting to save
Add most interesting fields to drilldown on if no indepth
Refector
Reenable permission check
refactor ->field
Update information-collection.md
Table formatting: improve min/max settings
DO NOT RUN TESTS ON SHUTDOWN! EVER!
Table formatting: Change button text based on whether the rule is new or not
Table formatting: drag to reorder help text
Table formatting: move add/update/cancel button inside the settings panel
Table formatting: column select placeholder
Chart settings: try another layout
Add render prop with onClose support to Triggerable. Use in table formatting setting
Table formatting: hide if no formattable fields
Table formatting: open field picker immediately
Table formatting: new rule preview layout
Table formatting: add new rule at top
remove superfluous classes
Table formatting: misc tweaks
left panel settings scroll
Chart Settings: cleanup
Chart Settings: right aligned button layout
i18n inflection fixes
Distribution drill: exclude PK, Description, Comment, SerializedJSON
Add tests
Add support for nested and native tables
Change heuristics to properly account for Times and Dates.
Add a note about security disclosures to ISSUE_TEMPLATE
Change the core_user.updated_at migration
Force connection pool reset before running db tz tests [ci drivers]
Put together a report and database timezone test suite [ci drivers]
Add a new report-timezone dynamic var, use it as a default [ci drivers]
remove nested flex-full
Remove unused namespace in metabase.middleware
Add underscore import to PeopleListingApp.jsx
fix timestamp test failure and mismatched casing of columns
adding snowflake test driver information
using native snowflake millis->timestamp conversion
typo
only fetch database schemas that the user requests
adding snowflake driver
Enable Eastwood unused namespaces linter <3
Update driver deps [ci drivers]
Revert admin/people/people.js actions to thunk actions since they don't swallow errors
Update snapshot
Update people listing to show deactivated time, misc cleanup
Drop support for Java 7 :wave:
Remove sync fiels min/max test [ci drivers]
Add timing and other metrics to sync/analyze/field values [ci drivers]
add a test for query parameters
Reorganize tests/generalize one-off-db test util macros
Add multiple support to Select, use in conditional table formatting column selector
Implement conditional rule reordering and port columns reordering to react-sortable-hoc
Remove no-longer-suggested option from bin/start as well [ci skip]
fix formatting
prettier
fix types in QueryDownloadWidget
fix the DownloadButton parameters
remove 'download all questions' functionality
Don't override pivoted column name so that conditional formatting works
Conditional table formatting WIP
Add blurb about SparkSQL w/ CustoMetabase build
Add appropriate message for people running on Java 9
fix spelling mistake
Update suggestions for adding external deps w/ Java 9 [ci skip]
Rename drill from 'by time' to 'over time'
Remove redundant CountByColumnDrill and rearrange other drills
Don't derive type/ZipCode from type/Integer
Add partial matches for fields named *_country and *_state
bump version [ci skip]
i18n(es) update to latest code
Implement code review suggestions
Include entire root object in ex-info.
Don't overwrite PKs and FKs when infering special_type
fix formatting and remove unused import
Refresh after logging out to ensure all application state is cleared
bump [ci skip]
Add dox for SparkSQL [ci skip]
Separate SparkSQL dependencies [ci drivers]
fix datamodel
Add transition for dragged columns
Disable column reordering for pivot tables
Improve performance of table column dragging
Draggable table columns
Distribution drill
fix admin settings
Removed unnecessary boolean cast
flex like you mean it
Do not use absolute URLs in illustrations
Change GET `/api/user` to optionally return inactive users
Switched user api errors to a map containing the error
Add an `updated_at` column to `core_user`
Ensure is_active is included in user PUT/POST responses
Move date related functions from `util` to `util.date`
Add top level error message to EditUserForm
Surface errors when adding/editing users
Implement deactivate/reactviate for people admin:
Add memory constraints for a 2x dyno
Update PR template with simplified frontend commands
Add tests
Upgrades unmerged test to new rules format
Reorder defns
Add memory constraints for a 2x dyno
Missing ")"
Make a getSortedUsers selector
Update Heroku docs with tips about logs and out of memory errors
Return generic error message for nonexistent API endpoint 404 message
Sort the /admin/people list by last_name & first_name
bump version number [ci skip]
Use heuristic file for title and description. Refactor
Update tests for /candidates
Don't wait for analysis in /candidates
A simpler test for unanalyzed situation.
Add fallback to GenericTable
fix test
Wrap rules in a delay
Update/add tests
Add type hints
Minor refactor
Load rules in memory on system load
fix up progressbar in flex context
Use clicked column instead of default date column for count-by-time
Add related
Remove old code
Add types to EntityObjectLoader
Simple but imperfect fix for xray candidates race causing /explore to not show sample dataset candidates
Support xraying cards with aggregations
Add missing include
add paragraph about x-ray permissions [ci skip]
Don't capitalize items in the sidebar
Correctly handle empty filters
Skip redundant filter clauses when merging question and cell filters
v0.29.0
bump version
update comments
remove unneeded includes
make sure were only dealing with StructuredQueries
Remove duplicate type postfix
More this
fix drill-through to automatic dashboards
Tweak colledtion name
Move GenericTable to use this where possible
Only use type postfix for titles
Add short titles
Alow this in card titles
Usage stats for Alerts & CSV/XLS Pulses
Remove FE tests
disambiguate endpoints
Remove async tests
fix typo
pretty
Add api endpoint tests
Trigger analyze whenever the user manually syncs a database
Revert removing some of the deps
remove routes
Remove unused vars
fix test
Remove deps from project.clj
Remove more from FE code
Change user updates to require explicit reactivation
fix ns name
Add tests
Remove legacy xrays
pretty
fix lint
Alert instrumentation
update tests
switch icons and links
fix typo
Automatic dashboard instrumentation
Implement code review suggestions
Refactor FilterWidget+FilterList into Filter+FilterList and FilterWidget+FilterWidgetList, and use in auto dashboard filter rendering
Only match table names where entity keyword is a prefix or postfix
Add tests for native and nested questions
Better matching-rules test.
add 'the people in' to transient title
Hash field metadata to bypass field sync if not needed [ci drivers]
Refactor FilterWidget to Filter component, use in automatic dashboard filters
Add /:prefix/:rule endpoint for questions and ad-hoc
replace users with table name
fix metabot alignment
Trim trailing comments from native nested queries [ci drivers]
Add an animated thin progress bar component and use it on /explore (#7398)
replace delay with eventually in FieldApp integration tests (#7445)
Infer types
wip
In /explore make sure we poll candidates even when providing a db id
Enable eslint no-var rule and fix existing violations (#7415)
Clean up padding for x-rays and text card titles (#7421)
disabling filters that dont seem to work
try fixing intermittent test
Add idempotent ./bin/build-for-test and update package.json scripts to always run yarn
Add manual filters
Remove default past 30 days filter from GA dashboards
Correctly handle nested queries
Remove :param_fields before saving
Integrate auto dash i18n script
Add page titles to auto dashboards
added test to catch this
enable question xrays
fix_is_not_filter_error
Use the same protocol as public/embedded dashboards
Use {} instead of nil for dataset_query in text cards
fix lint error
Extract translatable strings from rules and dump them into a pot
prettier
Test fixes :wrench:
update db save toast copy / style
unbin users
Integration test 'eventually' helper to make tests more robust
Allow for multiple hashes when constructing an app name for google [ci drivers]
Pick a random color for autogenerated collections
Send filter and fields used to the FE instead of parsing the query
Test saving transient dashboards
i18n(es) update to latest code
i18n(frontend) some strings that were not translated and a missing plural
Test: check for valid :related urls
ensure unique collection names when saving dashboards
a bit of cleanup - return to daily defaults and move summary up
add blurb about row charts [ci skip]
Minor i18n related frontend changes
Backend i18n related changes
Ensure we have a user when testing candidates
fix(i18n) syntax error in console message
more robust test
contrast toast
Auto Dashboard: disable save button after saving
revert to pin maps
merge
reorder sections to improve layout
Auto Dashboard: only show save button to admins
Code cleanup
Don't contort the type system for IDs, but just check during binding
Revert "Add :type/ID"
More efficient permission checking
Revert "Don't overwrite previously infered special types"
Revert "More efficient permission checking"
EBA-13726 fix include today not working for past/next date filters on SQL queries
Don't overwrite previously infered special types
More efficient permission checking
Implement permission scheme 7
Add :type/ID
Overwrite dashboard description w/filters; nuke singleton label
smaller scalars and better singleton group name
Stop putting people in the ocean in Sample Dataset :boat:
x-ray images [ci skip]
remove the other reference to a specific version
remove reference to specific version
fix missing p
add transient titles to heuristic files
Refactor entities
Add comment describing graph.x_axis._is_histogram logic
Cleanup Dashboard component/container
Auto Dash: Hide background on loading screen. Fallback to label icon if no filter type is set
Update snapshot
Change lat/lon drill down to always just divide binWidth by 10
Tweak lat/lon binning and drilldown
Re-enable grid heat maps which were never re-enabled after shipping binning...
Respect permissions for /candidates and linked tables
blurb about filter UI options
Multistage Dockerfile + cleanup
Improve latitude 'inside' filter
Reduce padding on histogram scales
Add icons to Auto Dash filters
Add 'Show error details' to GenericError
Remove obsolete entity type schema from `metabase.models.table`
Remove println causing extra nils written out during tests
Update filter blurb in description when saving
rearrange defs
Humanize datetime values
Update alert_test.clj
Add tests for waiting on analysis to finish
for /candidates only consider tables that have alredy been analyzed
Add 'rich' formatting option for linkify URLs, emails, etc. Only enable in Table and ObjectDetail
Add default value to pie chart slice threshold setting. Resolves #4884
Correctly handle empty filters
Comprehensive and humanized filter values
Cleanup tests
Add tests for cards and ad-hoc questions
v0.29.0-RC1
Use fixed height (based on dashcard sizeY) for text cards in mobile view
release 0.29.0 [ci all]
Update snapshots
darker grey and different applied filter description
Disable logic causing refresh when changing display which broke some tests + misc cleanup
tweak metabot intro strings
remove duplicate schema
merge
spiffy up the bysource x-ray
Be more strict what can be aggregated on
fix cell deep linking. Correct titles for indepth
Bottom align group titles
merge
shorten order table titles
Full width group titles
clean up microcopy
missing a space
Don't postfix table full names.
never call it an adhoc question
tiny tweaks
tiny tweaks
Add schemas to api endpoints
Save applied filters as description
More flexible naming & return applied filters
Alow table type reference in dashboard titles
Update alert_test.clj
Update messages.clj
images for tables in pulses [ci skip]
field values images [ci skip]
fix failing tests
remove invalid require
change the done text on /explore
Add descriptions to ExplorePane candidates
Rename /ready to /explore
Add transient_name and transient_filters support on frontned
merge
a new day, a new metabot
disable comparisons
Implement code review suggestions, part 1
minor refactor
Make metrics available to template expansion.
Scroll to top when switching dashboards. Won't have any effect until independent scrolling is resolved
futzing with titles
Update PostSetupApp for new candidates structure
simpler action
Add related
update dashboard filters main image
generictable microcopy fix
merge
whole bunch more microcopy tweaks
better docstring -- describe the ranking
better ranking
group candidates by schema, sort by interestingess, reduce db calls
More correct test, small fixes
label for schema dropdown
remove dead code
Hide deleted columns
fix typo
load rules correctly attempt 1
reset form after action
add clear button and action
field value searching docs [ci skip]
update pulses doc [ci skip]
x-ray docs [ci skip]
SparkSQL Driver [ci drivers]
Better explore UI when a db has schemas or many tables
Add endpoint for clearing email settings
microcopy for events table
Switch analyze steps to database focused rather than table
Add generic error page
Clean namespace decl
remove unneeded require
fix tests
Add datetime, state, and country field analysis
Added check to ensure update description isn't run if description is already blank
Simplified based on review feedback
Add birthday type, add exclusions for birthday and zip
Remove group title background
Reduce number of db calls
Mostly style changes based on review feedback (fix for table update issue still TBC)
Update snapshot
Text visualization: add horizontal/vertical alignment and dashcard background visibility settings
help ensure key uniqueness for token field items (#7293)
Don't make filters for fields with cardinality < 2
explicitly sort
ensure stable ordering of segments
refactor visibility checking. Tests for all entities.
generic table timeseries microcopy tweaks
Text visualization: add horizontal/vertical alignment and dashcard background visibility settings
merge
more microcopy
Hide sidebar if 0 related items
merge
Add more dashboard filters.
define setting section slugs manually (#7292)
update formatting
change the icon and cursor style in QueryDownloadWidget
fix test and typo
Don't barf on Card read_permissions migration if a single Card is invalid
merge
microcopy
Fill templates in candidates
Tidy up indepths, add seasonality, make test more robust
Raise GeoJSON file timeout & stream GeoJSON parsing and API responses
Allow ParameterFieldWidget to change attachment points if not enough room. Align text when left aligned
Cleanup ParameterFieldWidget footer border + padding
update snapshot
fix operator layout
move operator selector
dial in filter headings
why yes i did forget to run yarn run prettier
simplify token field and search visual design
tweak popover dropshadows
Misc search widget polish
roar tests!
Eliminate CategorySmall, make linter happy
Tweaks to TransactionTable
match existing python style: double quotes
decode bytestring token in sample code to generate url correctly
fields form
Better heuristics; fix coloring bug
Refactor pulse render
Externalize strings for `api/session` and `driver`
remove label related components and emoji (#7215)
Improve memory usage for computation job result cleanup
Refactor
ensure full height background and add some spacing in bad cases
fix overflow
Add database type to create db sync
Test fixes :wrench:
Add customizable labels
Remove the entity type validation from `/api/table/:id`
Migrate most of metabase/redux/metadata to entities
prettify things
Ensure y axis labels don't overlap when x axis labels are rotated
Ignore archived collections
ignore related
i18n(backend) adjustments on review comments
Better table recommendations
Check for permissions everywhere
refactor
i18n(backend) translating some strings
fix cell urls
i18n(backend) eliminate unnecessary includes
remove logging
Hide overlapping x-axis labels
fix eb guide typo [ci skip]
i18n(es_es) update translations
i18n(frontend) some more missing strings
fix(Expression) change html entity to minus sign. fixes #7123
Shinny new db
Add adaptive datetime resolution
Better EventTable heuristics, nicer rule error reporting, limit related to schema
update sample dataset analysis results and snapshots
Better grouping
Pull in FKed dimensions. Add number distribution
Use more categories in dashboard definitions
why are we using flow again?
fix arglists
remove unused function
React 16 step 1, squashed
add forward declaration
fix whitespace
Add type postfixs to titles.
Docs: Configuring Logging Level :wrench:
Add support for overloading metric and field heuristics
Pass params through for auto dashboards
Cleanup loading/error on EntitiesObjectLoader/EntitiesListLoader
Up the max number of cards
limit max number of cards + show more
Limit number of filters
Smarter colorization
Refactor EntityForm
Dynamic forms etc
Nested forms, top level error, misc cleanup
Cleanup scaffolding
run prettier
More scaffolding, including create, update, and delete
microcopy changes
add some more strings plus i18n
Improve color documentation in the style guide (#7207)
add note about the style guide to the contributors guide (#7218)
Use nicer code examples in the component guide (#7209)
Stop component guide from jumping (#7208)
Remove unneeded entity injection
Beginnings of CRUD scaffolding
fix flow error
interesting info styling tweaks
creator info
related items
server_https before server_name to avoid overwrite
fix lint errors 2
fix lint error
loading controls
show currently applied segment
filter out currently applied segments from filterSegmentOptions
use raw series
make things prettier
Add to flow types
send you to the right database
Virtualize question list and misc cleanup / flow typing
entity page
provide a ready landing page for databases whenver they are added
Add segments convenience method to help get at currently applied segments (#7149)
Improve CollectionBadge when collection color is black/dark
Only use fields with normal visibility
Use scalars for singletons
new components for easier question and result loading (#7134)
Implement drill through from and between transient dashboards
add /adhoc/cell endpoint
Disable links for question click actions for now
prettier has opinions
microcopy and dash height fix
Create new collection if existing one is archived
Add colorization
Link to /ready after db addition in admin panel
Make sure NativeQueryEditor doesn't crash if ace isn't available. Was causing integration test failure
Minor cleanup, re-enable settings for x/y axis labels
Disable label style setting
Add 70% height limit for rotated labels
Refactor graph rendering to use chart.settings, pick better graph.x_axis.axis_enabled when they overlap
Add 45ª and 90ª rotated x-axis
Add temporary setting for compact axis
Add compact representation of month/days
add asset
metabot
Implement auto dashboard drill. Switch to using links in drill throughs where possible
use brand blue for automagic collection color
dont redirect on save
Redo cell api, fix decoding bug
[ci all]
fix test
set default className of full-height (#7147)
run all tests [ci all]
Add "this" to heuristics language
Make bucketing a per-card propert
i18n(backend)
i18n(Dashboard/Admin/Setup)
fix green button classes
Test fixes :wrench: [ci drivers]
text, color, height
numerous small style tweaks
dunce cap revisited -- aka fixing lint errors
I need a dunce cap
regenerate all the things
use wrapper instead
use classes, ya dummy
fix misspelling in the service script
remove unused var
this should fix the created_at special type error
i18n(es_es) update translations
maybe this will work
fix add-to-dashboard width
clean up lint error
Update modes dictionary to match inc/dec
i18n(xRay) convert variable to translatable string in Insight
Add test one-liners [ci skip]
fix lint error from i18n additions
Add sample dataset re-scan [ci skip]
Undo incorrect correction
wire up field dashboards again
fix tests I think
spam is wrong
expect metadata to be analyzed in the sample dataset
Handle aggregation of categories and datetimes properly
regenerated db fixture
Field analysis
Revert safe yaml stuff as it's not compatible with jre 7 :(
More efficient hidration
Only add infered filters if they apply to all cards
Use yaml safely
:wrench:
:wrench:
fix lint error
Helpers for integration tests to cleanup after themselves + cleanup mtrics and segments
Cache fKs for filters
prettier
fix unintended change to entitymenuitem
merge
styling and microcopy
Implement code review changes part II
Implement code review suggestions
Remove extra logging
fix dupe props
add correct new test
change icon + fix tests
hydrate field.target.has_field_values
Fitler inactive segments/metrics from API endpoints and Cleanup parameters.integ.spec
make js pretty
make logging less chatty
Make linter happy
use withBackground for automatic dash app
Add docstrings to IRootEntity protocol
remove show more stuff + pass lint
Cap related
Enable autoD for table-like cards & adhoc questions
Fetch Field.has_field_values before trying to hydrate
Add cell analysis dashboard
Frontend: Correctly display Scalar values w/scale in compact cards
Remove unnecessary double quote
comment out things that dont work
Update post-setup flow
Add post-setup flow with auto dashboard suggestions
Add "America/Sao_Paulo" timezone
Frontend: Center icons in nav items
Frontend: Tweak New Questions screen on smaller screens
Test fixes :wrench:
Revert adding ExploreStep to setup flow
Properly handle filters for dashcards with series
Add missing dep
Add card ids
Add support for segments and table-like questions
Use the date inlcuded in the query to calculate offset in MySQL [ci drivers]
Get parameters working on transient dashboards
fix metrics autoD
use updated error color var (#7104)
Add parameters to automatic dashboards. Not currently functional
Clear out FK target IDs so FKs can get reset
fix typo and remove max-width
Lift populate and call it only for the actual dashboard
Reduce number of db hits
Add MetabaseApi.table_query_metadata snapshot test
Add `lein run refresh-integration-test-db-metadata` cmd & update metadata
Support arbitrary sub paths for auto dashboards
Cleanup auto dashboard suggestions
fill out analysis endpoints
Add endpoint for specific rule
change url endpoint to /auto/
Change related url to public
Wire up auto dashboard title and suggestions
Add tophat api
Adjust pulse tests to match changes to email template
track events via redux action dispatch (#6977)
Add a with-db clause around the nested query perms test [ci drivers]
Auto dashboard saving
clean up comments
GET -> POST for saving
Update automatic dashboards frontend
add in+outs stage 1ish
add links in
Ensure users have been created [ci drivers]
Remove extra curly brace from permissions confirmation
signup.integ.spec: use empty db instead of fixture app db
Add remaining comparison combinations
Externalize schema strings
Update Sample dataset metadata for FE tests
FieldValues search endpoint BigQuery fixes [ci drivers]
alignment
Minor refactor
misc style cleanup
Remove ns prefix
Rename dashboard type from auto to transient
Minor refactor
clarify route logic comment-out
use /api/dataset endpoint for transient cards
header cleanup
basic skeleton
fix up alerts email
begin consolidating error colors (#7073)
content and layout tweaks
initial content for setup step
init
use one error icon (#7076)
upgrade moment (#7075)
Unwrap numeric values in graphs
Change how pulse table column limits are enforced
fix rename
Add transient endpoints
don't go into /special directory
Fetch entire dashboard for comparison
Add dashboard saving
Build transient representations
i18n(frontend) caught some missing translations while navigating the application
i18n(es_es) fixing translations
i18n(es_es) first release
i18n(frontend) caught some missing translations while translating
Sync 3.9
Add / update navigation for `/_internal` (#7060)
fix syntax and grammer errors and combine some repeated strings detected while translating
fix lint
prettier merge fixes
Update translation instructions [ci skip]
add docstring
Style changes for larger pulse/alert tables
Frontend changes to support larger pulse/alert tables
Add support for larger pulse/alert tables
revert type changes
Update pot
Convert c-3po ${0} references to xgettex {0} references, and other i18n improvements
Update developers-guide.md
Update developers guide
Add docstring
Make linter happy
Remove untranslated strings from frontend locale files. Also remove redundant msgids
Update .pot etc
Update c-3po to enable numberedExpressions support.
Give FOREIGN_KEY type an icon
Use correct value in parameter widget
Remove unused advanced property on operators
Add special case for FK operators
ALL OF THE TESTS :white_check_mark::x:
Various FieldValuesWidget polish
Make Metabot's exceptions visible in Slack
Run prettier
fix tests, lint
When saving Card with source Card use its read perms
Log pulse image writing exceptions before throwing
tiny change to search icon
Update operator selector
Revert filter/parameter button sizing
FieldLiterals on date fields should parse as dates [ci drivers]
FilterPopover: don't show filter options button for date/time
Clean up button sizing/padding
Make sure pasting doesn't update input value
FilterPopover: tweak various behaviors
FieldValuesWidget search default state
Cursor pointer on ParameterFieldWidget
TokenField: scroll to end of values list when adding value
FilterPopover: Add padding to operator name
FieldValuesWidget: Add auto expanding behavior
FieldValuesWidget: improve empty state logic and text
FilterPopover: improve operator selection behavior
TokenField: don't show X when multi=false
Add query cancellation support to dataset queries [ci drivers]
Add integration tests for parameters on private/public/embedded questions/dashboards
Switch sql templates to an instaparse grammar [ci drivers]
Update public.integ tests
Field remappings endpoints
Hydrate :human_readable_field in :dimensions for public/embedded Fields
Perms checking to make sure search Field is allowed for use with other Field
Consider parameters when checking whether Field is referenced by Card
Add public card + parameters widget tests
Add remapping support for public/embed
Flow type TokenField and FieldValuesWidget
Get FieldValuesWidget working on embedded/public dashboards
Get FieldValuesWidget working on embed cards
Get FieldValuesWidget working on public cards
Include :name_field entry for :param_fields
Include param_fields for public Cards + Dashboards
Don't need card-id for public/embedded dashboard endpoints
Synchronously update filteredOptions to avoid flicker, ensure we cancel searches when possible
More unit tests for FieldValuesWidget placedholer text
Start implementing frontend for FieldValuesWidgert support in public/embeds
Add parameters for long and time-consuming Bigquery queries.
misc cleanup
Manually pull over changes from field-search-css
FieldValues search new endpoints
Automatic dashboards frontend PoC
Add unit tests for FieldValuesWidget, tweak placeholder text
Clear input when accepting an option. Refactor tests
Run prettier on branch
Upgrade prettier and enable for all {js,jsx,css}
Run prettier on everything
Turns out last set of fixes got rid of the need for this kludge
Added tests and logic for various table comment updating scenarios.
Added basic comment import for tables.
Added feature to update description with comment if and only if the description isn't already set.
Updated tests to use 'with-temp-db' which appears to be the newer way of testing.
Separated comment tests
Testing more scenarios
Working implementation and tests of comment syncing for both h2 and postgres.
Column comments implemented and tested against h2 driver
Added tests and logic for various table comment updating scenarios.
use email input type to validate email (#6932)
fix long pulse name rendering (#6931)
Update has_field_values setting copy
Remove global t/jt lint exceptions and explicitly import them
Switch an expression agg test to use `non-timeseries-engines-with-feature`
Tweak FieldValuesWidget placehodler text
s/parseUnsignedInt/parseInt/ for now
TokenField should blur on tab when multi=false
Autofocus field values widget and make sure we don't show more than one set of options at once
Another pass at placeholder text + misc fixes
fix unit tests
Added basic comment import for tables.
Scroll token field selected element into view
Update field values settings copy
fix lint
Update NotFound.jsx
Update date formatting export code for SQLite
fix selectors/metadata.integ.spec.js
fix qb_editor_bar.integ tests
Save Card read_permissions
Add no-case-sensitivity-string-filter-options feature for SQLite [ci drivers]
Add logging for Jetty's threadpool
Use jest mocking instead of previous hacky method
Mock RemappedValue
Modal routes POC (#6712)
Remove unused files
Enable case-insensitivity on search endpoint
Don't allow empty strings in FieldValueWidget
Hydrate has_field_values; don't hydrate values except where appropriate
Revert "Switch sql templates to an instaparse grammar"
Clean up status messages
communicate error message to user
Setting bad MetaStore token should return 400, not 500
Make FieldValueWidget work with SQL parameters
Make TokenField input a little biggger. Don't allow searching remapped PK field in filter
Misc cleanup
fix flow
Update 10-pulses.md
Add new IDriver default-to-case-sensitive? method
GA case-insensitive support
Update version
allow unbound variables [ci skip]
use proper overflow (#6926)
fix update settings version info text in translation tag (#6898)
release 0.28.1
Better filter options handling, add support for case-sensitive
fixup! Add new JSON options column to Database [ci skip]
Add new JSON options column to Database [ci skip]
Add new JSON options column to Database
Case-insensitive MBQL string filters [ci skip]
Add exception class to stacktrace filtering code
Use has_field_values, implement admin setting
Hydrate has_field_values for API endpoints
Add has_field_values to Field
Add API tests
bump back version to merge into release
replace md with direct links
Add check for empty date columns on export
bump version
Fetch field values when mounting FieldValuesWidget
Support functions for valueKey and labelKey
Remove interestingness stuff and focus on flow/grouping
Enable autoLoad of remappings for values in FieldValuesWidget
Don't set parameter value to empty array
Support multiple values in parameters, don't commit immediately, add 'Done' button, misc UX polish
tag + bag for real [ci all]
Add analysis dashboard
'fix' pulse preview actions title overlap (#6885)
v0.28.0-RC
tag+tag [ci all]
Treat field x aggregation pairs as distinct
We don't need to remove duplicate bindings any more
Ensure each field gets bind to only one dimension
fix test barfing cause of GA tracking
Update DataSelector properly when props change
Explicitly convert user-specified query params keys to keywords
minor refactor
fix typo
Don't show selected option if not focused
Move implicit remapped fields to frontend, for now
None for all nations
fine maz ... you dont like money... I get it
user settings
Use magic getter for site-uuid Setting
send over a uuid
instrument current period toggle
consolidate instrumentation logic, fix props validation
add instrumentation for pulse attachments
update dashboard filter images [ci skip]
update dashboard filter and friendly field name docs [ci skip]
docs for text cards and pulse attachments [ci skip]
Rough integration of FieldValuesWidget to parameters
Cleanup misc FieldValuesWidget bits
Use datetime arithmetics
Ensure GA QP returns nil for 0 aggregations
Clean up `.scroll-show` class (#6835)
Build histograms from preaggregated data
bump RC
Add latest and earliest to datetime fingerprints
fk-> forms are context bearing too
Add automagic filters
Wait until completion of question creation/saving in QueryHeader
list item styling
fix_6829 [ci skip]
Add test case for time-multiseries that fall back to raw data alerts
color selected values
Add search to FieldValuesWidget
Disable rounding in FieldValuesWidget, add support for non-multi mode
Remove visualization-specific remapping code from formatting.js
New API endpoints handle FKs automatically
A way to hydrate field.has_dimensions
Resave the question also when updating an existing alert
Cover both creation and saving of a question in integration tests
Persist default viz settings while saving question
Extract question creation and updating to their own Redux actions
Implement FieldValuesWidget, excluding search
Hybrid dashboard
"More robust" value parsing for GET /api/field/:id/remapping/:remapped-id
Add 2 col comparision
Remove unused :require for environ.core
Implement code review suggestions
Add check-i18n command
Move command-line commands into metabase.cmd
Split DataSelector to smaller components, fix cosmetic issues
Lazy load tables and fields used in filter picker
Extract data selector pickers to their own components
Initial working DataSelector in variable field mapping
Extract TokenField component from RecipientPicker
some stragglers
Nicer test
Remove cards already added from dashboard->card recommendations
Add recommended cards for dashboards
Add recommended dashboards and collections
Show special heads-up message if creating an alert for multiseries
Use row alert as fallback for goal alert if multiple series
Switch jest maxWorkers to 8, fix nested Jest tests
Changed is-url? to url? in test files also
Add multiple aggregation support to GA driver
Switch to use field search/remapping endpoints
Endpoint POC's
v0.28.0-RC2
Reference correct ns
Remove superfluous check
Add support for ad-hoc queries
Add tests
Don't try to expand GA gaid: 'metrics'
Added canonical metric
Switch to "interesting mix" recommendations
Ensure aggregation expressions have base_type included
minor refactor
fix_6781_sync_controls
Update pulse code to allow user-specified x and y axes
Add similar cards
Permission checks
Ensure collection_id is included in series dashcards
Misc search fixes for parameters
Add provisional related entities
Add grouping and visually space out groups
Add Pulse integration tests
Add frontend support for time fields
Add backend support for time fields
Add backend code to auto include CSVs on rows alerts
Implement CSV/XLS attachment pulse UI
Add CSV/XLS Pulse attachment support to the backend
Changed is-url? to url? and is-email? to email? and changed all the function calls accordingly
v0.28.0.RC1
bump version
Use arg destructuring
Skip single-field tables
Nips and tucks
Don't add in_public_dashboard status to (empty) Cards of text-only DashCards
Add correlation dashboard
Add distinct count for FKs
Add more rowcounts, limit categories to 10 rows
Add max_cardinality filter, retain ordering, add rowcount
Add dimension options to dates and coordinates on nested queries
Add i18n debug feature to assist in finding untranslated strings
Correctly flow types thorugh FKs, add more time breakdowns
Just test SQL query generated with params for H2 [ci drivers]
Some random code cleanup :shower:
Update UserTable.yaml
Make sure MBQL param tests use driver-specific identifiers [ci drivers]
Add an integration test case
Split query builder tests to multiple files
Persist default axes of a visualization, proof of concept
Remove dead link
Add subtables for Transactions, fix some bugs
Add some margin to the removal button in ExpressionWidget
Make expression editor field popover expandable
only return non archived cards in nested queries (#6731)
Lift 1 table, 1 dashboard restriction
Switch sql templates to an instaparse grammar
On export, format dates to not include times
Disable alerts in frontend if more than one Y axis column
Use new Toucan select-reducible for updating Field/Table display names
Add chunking to re-humanize-names!
humanization-strategy Setting frontend
Add new humanization-strategy Setting
Code cleanup [ci drivers]
Add more types, improve type detection heuristics
Support goal alerts for all line/area/bar questions
Shift mocked date 12 hours to account for timezone
Add documentation/example
Move table types to own hieararchy.
fix Calendar.unit.test.js not using mocked date
fix flow for parameter value type definitions
fix multi-select dashboard filter clickthroughs for native query questions
remove multi-select filter placeholder text. fix multi-filter card clickthrough.
fix multi-select filter lint error
fix multi-filter select when no items are selected
fix parameters test and set CategoryWidget min-width
change category filter display of multiple selected params
add integration test for CategoryWidget.
change CategoryWidget to use multi-select SelectPicker component
Support multiple param values in QP params
Update orders.yaml
Update users.yaml
Code cleanup
Remove dupe 2
remove dupe
Skip perms checking for Public Cards & Dashboards :closed_lock_with_key:
Add SimpleDateFormat as a fallback to the JodaTime for db timezones [ci drivers]
Update calendar snapshot
Provisional grouping
Remove old example yaml
Make linter happy
Switch to grid units everywhere
Layout control and auto-flow
Add a MySQL date parser that can handle abbreviated offsets [ci drivers]
Add Link to enable GA API to admin add database page
Explain why & how we use SnakeYAML
Humanize error message when GA needs API enabled
Notify users when alert emails are disabled
remove pointless file
Add name/displayName distinction to date operators so we can localize the names
Add 'current period' support to date parameters
fix inline link uses
fix lint errors
Change the argument order of `make-current-db-time-fn`
Make EventTable more robust
Better key-like field elimination.
Add map dimension binding support
Add clearCheckSums to `migrate force`
Better handling of Druid tables
Add past<n><unit>~ filter syntax to include current <unit>
Don't generate dashboards for pure link tables
Add more date filter unit tests
Port date picker elements to <Select> and misc other layout cleanup
Allow additional connection options for Vertica
Upgrade java.jdbc to 0.7.5 [ci drivers]
Add some nil guards
Correctly handle output of nil best-fit and linear-regression
Upgrade Toucan to 1.1.2 [ci drivers]
Java 7 apparently doesn't have isFinite
Correctly handle infinities
Rearrange ns
Add named predicate to dimension definitions
revert raw type chenges
Add aggregation to dimensions
MongoDB 3.6+ support [ci drivers]
Code cleanup :shower:
fix i18n gsg segment typo
fix select db string in native query editor
Change visualization so we don't get broken charts.
Revert code accidentally removed in #5794
fix small i18n typos
Bump SQLite driver dep version [ci drivers]
Change database sync and field values job scheduling [ci drivers]
Make sure GA describe-table returns database-type
SQL driver simplification: remove prepare-value method [ci drivers]
Correctly handle multiple FKs pointing from-to the same table
Added feature to update description with comment if and only if the description isn't already set.
Skip hidden tables, smarter type matching
New and refreshed heuristics
Add test :wrench: [ci drivers]
Add EventTable type
more stringent income pattern
Make count less ambigious
Add more field type classifiers
Stream all JSON responses [ci drivers]
Add names to Schema constraints
Cleanup include-current date filter option. Only show checkbox if applicable
Simplify dashboard layout (since we always start anew)
Clean up created models after test.
Disambiguate FKs, fullly qualified field references in native
Add support for native queries; more tests; more robustness
Fill templates
Remove ordering from GA
Add order_by
doall -> dorun
Test that all rules are valid
Validate order_by references
Add docstring to max-score
Make Schemas private
Add & fix tests; add missing docstrings; add logging; refactor
Minor refactor
Work better with weird inputs
Add command line entry point to validate heuristics
Use with-defaults throughout
Massive refactor
change top page cards to tables
Update additional examples
Add GA yaml
Support GA engine, minor refactoring
Minor refactor: defer transforming models to references
naming
comment out GA things we can't do yet
Minor refactoring
Keep using --add-modules=java.xml.bind flag for SQLServer driver
Add new test util with-temp-db-vals macro; remove resolve-private-vars [ci drivers]
Remove need for --add-modules=java.xml.bind flag on Java 9 [ci drivers]
Minor code cleanup :shower:
Minor cleanup :shower:
Update example/test yamls
Minor refactor
Yank 100 into max-score
Support dimension references in metrics and filter definitions
Add explicit links
One heuristic per table
night mode code display
Add limit and add all autogenerated cards to a collection
Primitive table classification
add GA table yaml
remove help text styling
remove help text
Don't try to use inactive fields in queries
GA table progress
Use same column order in tooltips
Code cleanup :shower:
Definition language v3
Change field sync to chunk inserts of new fields
Avoid issue metadata updates in sync unless there's a change
Write JSON to a piped input stream for /database/:id/fields
Add entities to public settings.
some example yaml files
Use metadata types
move text card creation code to dashboard.js
Change inline code markdown to display as inline in text dashcards. Up dashcard breakpoint showing markdown help link
Remove the target/uberjar reference from the running metabase docs
Add java version information to the operations guide
Add a deprecation warning for JDK 7
Don't show "Add this to dashboard" if modifying existing question, fixes #6541
Updated tests to use 'with-temp-db' which appears to be the newer way of testing.
Remove HTTP connection closing tests
Separated comment tests
Testing more scenarios
Working implementation and tests of comment syncing for both h2 and postgres.
Column comments implemented and tested against h2 driver
Add docs for HeapDumpOnOutOfMemoryError to the troubleshooting guide
Add docs for perf monitoring a Metabase instance
Automatically inject table names in native queries
Create dashboards only if needed
Change the metabase.middleware default log level to DEBUG
Switch alert-test `expect-with-temp` calls to `expect`
Carry over 'time-interval' options when opening filter widget
Update 000_migrations.yaml
Add row charts, limits, sorting
Add inline pulse rendering
Add metrics
Add a few more missing `with-expected-message` calls
Switch infer spaces from doubles to floats
Add nested queries, maps
Postgres enum support
Code cleanup :shower:
Temporarily disable failing tests :unamused: [ci drivers]
Clarify some of the code in the Mongo driver. [ci drivers]
Make sure DB sync can update Field base-type & database-type
add missing import and semicolons
Add database_type to Field [ci drivers]
night mode text color
merge
fix long line
i18n tags
Add more nil guards
Add a comment explaining the watch
Check for cancelation
Immediately write pulse card graphs to disk
Change retry criteria
Add missing `with-expected-message` calls in alert-test
Move export logic from api/dataset to utility namespace
Wait for result to become available
Change done detection to use watches.
Add done? guard
Remove unneeded order-by
Change async API to be more conductive to testing
Remove fading out filtered cards. Hide text card markdown supported help text on smaller screens.
Don't try to perms-check Cards for cardless DashCards
add a max-width to paragraphs
whole bunch of small style tweaks
Simplify stopping condition
add toggle + some tests
Add async/cancled? predicate
Check for canceled
Add (s/set-fn-validation! true)
Remove ^:always-validate metadata
Explicitly wait for transaction to finish
Add a noop `-init-driver` function to `metabase.driver.google`
Don't defer done futures
Check for cancelation
Code cleanup :shower:
Add optional options map to MBQL time-interval clause
Explicitly define dashboards
Add typehints
Add tests
absolutely positioned menus
clean up and layout based on date filter type
Always create a new dashboard
Ad limit scope to a table only to api
Docstrings, minor refactor
Resolve FKs, mode cards
hide text visualization in visualization select dropdown
trim user name before set
Switch to the redshift depndency that doesn't embed the Amazon SDK [ci drivers]
persnickety styling tweaks
add text card styling for tables, lists, code blocks, and links
Support native queries
Add permission checking
Add YAML frontend
Add autolayout
Remove constraints that potentially touch the warehouse
Add provisional API endpoint
Improve memory usage of infer-spaces
merge release-0.27.0 into master
Long lines cleanup
i18n integration (#6442)
Automagic dashboards POC
i18n(components/containers)
i18n(admin/alert/auth)
add support for dashcards without backing cards
Make sure cardless dashcards get returned by GET /api/dashboard/:id
Allow card-free Dashcards
type sizes
add dashboard text cards
fix typo and clarify text
Add some unit tests for AccordianList
Reimplement scrolling AccordianList to selected item on mount, and fix error due to ListSearchField trying to focus after virtualized row is unmounted
Comments and cleanup
Add loading state to data selector
i18n(Dashboard-meta)
Use Druid Segment Metadata for field types
Use hyperUnique aggregator for Druid distinct queries
change custom expression icon
Add more predicates
Add example configuration YAML
Add while-with-timeout
Refactor result! to make it more clear what's going on with derefs
Prevent a potential race condition when canceling
Prevent a race condition when cancling
Remove usage of _ for sequental results.
Improve middleware test
State atoms don't need to be vars
Rewrite async tests to not use sleep.
Add mapping for Postgres CITEXT type
Add missing comments for when migrations were added
i18n(Nav/NewQuery/Parameters/Public)
remove unused file (#6440)
defocus on click outside
add enter commit + tests for methods
add more tests
removed logs
download all questions in the series for a chart
add initial tests
format to make things more readable
De-couple sizeToFit from maxHeight, enable for FieldLists
Have Utils.isEmpty() cast its arg to String()
Compare email 'to` as a set, not a vector
Refactor pulse and alert tests
change url for premium embedding link [ci skip]
simplify insights and add alerts to TOC [ci skip]
get rid of email card border
Disable snapshot test for AccordianList
Compute Popover maxHeight and inject into popover content component to support virtualized AccordianList which requires an explicit height
Add AccordianList examples
Misc AccordianList fixes
Add _internal/component/:componentName and _internal/component/:componentName/:exampleName routes
Don't try to expand GA metrics
Grab the visualization settings from the first result for the goal value
Recipients added at alert creation should be notified
When an admin deletes their own alert, don't send an email
Add alerts to the activity feed
Relax defsetting precondition for descriptions
Change Druid queries so that their weeks start on Sunday [ci drivers]
Add report-timezone support for Redshift [ci drivers]
Add support for sending alert emails via a background thread
Go ahead and sync the sample dataset
Make sure to require clj namespaces before we import their classes
Include max memory settings for lein commands in ci
merge
Don't forget your t
Smaller initial Mac App screen size & smaller min size [ci skip]
Mac App isn't an installer, it's a disk image [ci skip]
fix flow
remove unnecessary backslashes [ci skip]
spacing and fixes
add more translation tags
fix translations
translate a few things
size select list to fit contents if smaller than the provided height
Alerts Backend
Alerts Frontend
Integrate CellMeasurer into AccordianList to handle overflowing item/section titles and avoid hard coding row heights
translate some lists
Don't update state in SQL editor variable pane on every text change
Middleware test saga: isolate state
Trying to catch a race condition
Add note explaining approximately limitation
remove dead code, ns ordering
Add centroid test
Make variance trend test (even) more robust
i18n for activity.jsx
Make variation trend test more robust
use cx module for conditional classnames in Table.jsx
add chart settings enable/disable toggle test and null state test
add toggle fields test for ChartSettingOrderedFields
Add custom null state messaging when visualization has no columns enabled
Improve performance of toggle all columns in table settings. Add null state to tables with no columns.
Toggle all fields button in table options
Make zero and nil insights work with no data
Added missing tests
Refactor
More tests
Docstring tweak
Docstring tweaks
Add output sampling
merge
Make outliers work with empty input
Make linter happy
Implement code review suggestions part 1
cleanup and translation
Use actual URL of the Metastore
add insight image [ci skip]
add alerts images [ci skip]
MetaStore integration (#6315)
add paragraph about premium embedding
make it look good on mobile
Add regularization to trend fitting and correctly handle NaNs
Update to latest kixi.stats
merge master to fix failing test
changes kdoh requested
restyle new user invite email
email styling and update pw reset email
change base size and color of text
update gitignore to include .DS_Store, bin/node_modules, and yarn-error.log
changes kdoh requested
updated developer docs frontend unit testing section to use correct yarn commands
minor refactor
disable troublesome middleware tests
minor refactor
Optimize some insights using transducer magic
Add empty commit hint to Heroku upgrade instructions
Reenamble middleware test
Show all columns in tooltips
add a placeholder spot for premium embedding [ci skip]
add insights docs [ci skip]
Code cleanup and more docstrings for timeseries ticks calculation
flesh out the rest of the alerts doc [ci skip]
don't collect coverage in watch mode (#6326)
Update Popover.css (#6328)
Code cleanup :shower:
Add trend insight
Speed up variation-trend and stationarity insight
Test fix :wrench:
fix test
Add missing ;
Make sure MetabaseUtils.isEmpty() disallows blank strings
Check Pulse permissions before deleting
AccordianList cleanup
AccordianList row height tweaks
add alerts doc
restyle new user invite email
email styling and update pw reset email
increase timeout for xray tests
Make breaks list pretty.
fix integration tests
Remove unneeded sleep from test
comment out middleware tests that fail intermitently
Minor touchups
change base size and color of text
Don't try to read a settingDef if it doesn't exist
Refactor AccordianList, virtualize with react-virtualize
Add breaks test
More comments, more tests, minor refactor
Download functionality on embedded dashboards
Improve coverage stats
add stationary insight
Remove outlier insight from card xrays
Reenable multimodal insight, list out breakpoints
More rebalancing
Rebalance by moving full uberjar build to node 4 [ci all]
fix multi row card height
Initial implementation of CI build stats
Add structural breaks and outliers insights
Add an in-context test fixture to help diagnose stale test data
Don't set max heap size unless testing; only reload src/ for dev server
Code cleanup :shower:
Trigger ci rerun
fix name collision
Add tests, adaptive cutoffs, minor refactor, share y label unit
Show nicely formatted field name in insights, fix an issue with empty stats
Remove mock insights
Temporariliy disable multimodal insight (to get the PR green)
Add multimodality insight
push iqr into features
More helpfull error messages for failing asnyc tests
Add zeros insight. Add docstrings to insights. Minor refactor
Correctly handle case where slope=0
Seperate error path
More div by 0 checks
Catch async errors
Catch async errors
add ly
ensure cards have the same height
tweak variation copy
tweak insight icon types
fix intermittent failing async test
fix test
Make fill-timeseries work on not evenly spaced data
instrument feedback
More robust async cancelation test
Cap max-lag at period length for well formed time series
Add seasonality insight, update sample dataset.
Remove incanter dep in favour of distributions.
update deps
More sound variance trend detection.
add translation tags
Dynamically space X-axis ticks
more text spacing. add feedback widget
Round ticks in stacked normalized charts
fix variation-trend
remove not null constraint
Update sample data
text and card visual updates
type annotations
virtualize select content (#6255)
add space between inputs
fix mobile navigation (#6256)
Add Pulse email tests
Separate pulse data transformation from side affects
Add Insight cards
value -> values
ChartSettingInputs -> ChartSettingInputGroup
New chart settings to change title of serieses (#5951)
update tests
Refactor out timeseries, math, and insights
Java 9 fix: add java.xml.bind module back to classpath :wrench:
fix component info file regex (#6244)
webpack 3 uglifyjs compatibility (#6242)
Make frontend responsible for storing term definitions and links
Use HTTPS for Redshift driver
Check in integration tests that insight cards are displayed as expected
Extract TermWithDefinition to a reusable module
Update regime change insight, have equal height grid
Visual formatting, add link to term definition
Add example insights to the frontend
Support arbitrary comparisons, add support for raw data cards too
add card-table and card-segment comparison endpoints
added examples with filters and tooltips
Allow whitespace in params in native query builder
Remove broken deps badges [ci skip]
Switch to a metabase presto docker image [ci drivers]
fix int icon viewbox
Restore old version of react-hot-loader
Upgrade webpack, fix hot loader CORS issue, do cleanup
Make postgres ssl-params/disable-ssl-params ^:private [ci drivers]
Move db.spec/redshift -> driver/redshift/connection-details->spec
More robust test
Add test
Remove unneeded api endpoints
Partial merge
Partial merge
Remove an accidental `fit`
Add tests, don't let user compare an entity with itself via dropdown
Make it easy to switch compared models in comparison pages
Apply ComparisonDropdown for segment xray page too
Add ComparisonDropdown component
Create generalized TableLikeComparison, add table-by-table comp
Entity menu components + tests (#6162)
Make things const when possible
Consider the font-weight (#6154)
Add explicit ended_at instead of reusing updated_at
remove unused icons (#6176)
Move tests to async version
Update version
PostRenderer -> PostRender
Split out fill_data.js
Unify chart axis tick and label styles (#6132)
Linty fix :shirt:
Ignore nils for top contributors, fix ks-test for empty histograms
Correct ordering in response
Add inverse comparison routes
Nil type for unknown
Initial insights frontend
Add missing arg
Add missing arg
add model field to constituents
Flow makes my life unsatisfactory
Add yarn lockfile again
Use new simpler type tag format in frontend
Add some round brackets that fix Clojure code
Add comparables to comparison, add segment/table endpont
Webpack vendor bundle (#6159)
Add tests
Log retries
Delete yarn.lock
Add experimental comparison to table xray as well
Better comparison options for segments, filter out empty contributor values
Show comparison options for segments, fix segment-table comparison
Minor refactor
Parse type-tag
Check for valid comparison
Set difference when comparing with nil to nil
typo
fix vestigial path 2
fix vestigial path
Add style link tags in correct order to resulting html files
More loader configuration cleanup
Remove empty xray route paths, show 'No value' if no feature value available
Upgrade Webpack from v1.x to v3.x
Some reorganizing, mention that you have to install Ubuntu on Windows
Recommend using WSL for Windows development
extend filter duration
Use fancy function syntax
More cleanup :shower:
More cleanup :shower:
Split post-render stuff into separate file
Some code reorg
Organize onRender() stuff
Move more stuff to renderer_utils
Make RowRenderer a separate file
Move applyChartTooltips fn into separate namespace
Split applyAxis functions into separate namespace
Webpack cleanup (#6124)
use jest spies / timers + remove sinon (#6127)
fix new question integration test
Add available_locales to metabase-bootstrap to fix integration tests
rails 5 internal table
Add a couple of mock data stories in 2 formats
Minor refactor
Add :type-tag to models, unify model field, comparables as models
ugh
not so fast
import t
fix linters 2
fix lint error
pass linters
Remove awkward fix-name and use MBQL
Only show language setting if more than 1 locale. Only leave 'en' in locale.clj to disable it until it's more complete
fix search results page to match
Replace sync-locale hack with site-locale custom setter. Move i18n related code to metabase.util.i18n
locale.clj should not be .gitignored
tiny nqf copy changes [ci skip]
move search box
Set the min height to 3 cells for tables (#6106)
convert modal backdrop to dark (#6123)
Add metric xrays
put nav on a diet (#6122)
Compare fields across shards
Wrong defmulti definition
Add comparables
Remove obsolete comparison endpoints from services.js
Add endpoint tests
Rework pw reset to stop main task. Remove H2 AUTO_SERVER mode and 60s timeouts
increase contrast (#6113)
Misc minor cleanup
Warn if xgettext not installed
Remove i18n applicationName override
Stop being too cute/generic. Stop faking Cards.
Extend xrays tests, add some failing test cases
Remove empty xray route paths, show 'No value' if no feature value available
robert@metabase.com should have write permissions by default
Use explicit formatter
fix reflection warning
add logging
[ci drivers] Be less clever
add comment poiting to metabase.api.card
remove schema to make context more flexible
Ids will again never be negative
add migration
Redo caching with proper TTL and explicit context
Improve Elastic Beanstalk VPC docs
Catch all Throwables
Switch to longs
Remove obsolete unit test, remove notions of table search in Redux actions
Expand test coverage, fix bug with redirecting to QB if only Custom option available
Extract option showing logic to actions, refactor tests
Add a shared login for a non-admin user
Add 'Metabase is no fun without any data' state to new question flow
fix test
Add transparant caching to async
update copy to reflect no limit to number of pulses
Remove uneeded extractor
We can reuse Num extractor via constituents
Add Any to extractors hierarchy
Add Category x Any feature extractor; add pre-aggregated histograms
Add covariance to comparison features
Add correlation and deltas to timeseries comparison
Add comparison for timeseries
Remove frontend caching logic, fix linters, remove obsolete unit test
Add :crated-at field to job results
Remove unnececcary xray api endpoints
Convert rest of xrays Redux actions
Revert "Remove async fuckup" (because async stuff leaked to master too early)
Add test stubs for request API
Remove unneeded require
Parse directly to Date
If :format-rows? is false, return jave.util.Date for Druid DateTimes
Added timestamp formatting for druid select queries [ci drivers]
Move the with-jvm-tz to test utils
Add the OpneSourceSubProtocolOverride flag to PG and Redshift [ci drivers]
Ensure the test db is created before checking an id
Upgrade the PostgreSQL JDBC driver to 42.1.4
Running CI [ci all]
bump version number
Move entire xray api to async, give async it's own toplevel api
Reverse the order of dropping the async xray tables
X-ray preview banner (#6051)
Make cached job IDs specific to request parameters
Cache existing job IDs in the frontend
Handle the :result-not-availale job status
Try to fix transient CI failures in ObjectDetail.integ.spec.js
Create migration to will safely revert the async xray tables [ci all]
Running CI [ci all]
release! [ci all]
Remove async fuckup
Make card xrays work with table-like datasets
Refactor xray api endpoints. Add query to model comparison
Add request API class for background jobs
Tentative request API that integrates to Redux
Switch from the PostgreSQL driver to Redshift
Add ad-hoc query endpoint /x-ray/query
Change logging level to INFO
note that enhanced monitoring is free
this makes things run
reds
tiny typo fixes
beanstalk instructions for the new UI
v0.26.0.RC2
fix flow fuckery
fix lint error
Make tests more robust
fix field filter screenshot [ci skip]
Add new `initialize` action, implement componentDidUnmount reset hack
make nils comparable
remove unneeded edn
fix ns
Correct cleanup age, fix ns docstring
add cleanup task
Add models to load-from-h2
make predicates return bools
Add permission checks
Add error handling, (test) api endpoint
Add docs: running metabase on kubernetes
Added timestamp formatting for druid select queries [ci drivers]
add clarifier about time series [ci skip]
Move the with-jvm-tz to test utils
add navigation test case
Add test case
use object spread instead of icepick
protect against nulls
Run Prettier
Add docs, test, cancelation
use built in jest timers
fix typo
add tests for LoadingAndErrorWrapper
add field x-ray test
Filter out retired metrics in CommonMetricsAction
error handling + refactor
fix text cycling
remove unused code
clean up messages / scenes
Tiny styling change to the button grid
Drop the segment search from new question flow
Use query metadata rather than Field metadata
Add the backend for async computation.
add nil guard
add type hints
Make unix-timestamp? private
Minor refactor based on code review, move months to 1-12 range
merge
merge
merge
fix flow
fix drill
add loading messages
loading cycling
determine loading
use isLoading for load status
Add commentary, extract inlined expressions to variables
Add scalar pulse tests
loading animation
Remove some ratios
handle potentially missing data
Properly handle truncated DateTimes
Support all Dates, communcatie with query processor via query
cast timestamp to double to prevent overflow
Update cards to the new logic
Update README.md
fake commit
Handle nils properly, tidy up tests
Keep QP schema validation exception sizes reasonable
Change the min node version from 8.4.0->6.7.0
Add doc string
add cycling of messages to loading and error wrapper
Remove roundtrip Timestamp->string->JodaTime
Minor cleanup for eslint
Add tests, fix issue with public/embedded dashboard filters
fix incorrect quarter duration
Clean the metabase.api.table-test namespace
More commentary about field value selectors
Remove unneeded endpoint
Remove the new question tests from query_builder as they were already moved
Remove old dashboards selenium tests
not sure Im a huge fan of this method signature, but whatevs. linters pass
add extra margin-right to x-ray stats
Wrap link URLs within map popups
code review
Remove unneeded merge
fix qb spec
clean up test
cleanup and more tests
more tests
Ramove cost estimates
cleanup
properly disable cost selects
add xray related settings to public properties
highlight current max limit
Date binning should be shown on all DBs
test / flow
Backport i18n fixes from whitelabel branch
change xray to x-ray throughout
data ref entry
check canXray in qb
Check if xrays are enabled
Enforce global cost cap
hook up
Misc i18n cleanup
Unify shcemas
Add system info to stats collection
Add endpoints for settings
test scaffold
disable disallowed costs
Clean up locale setting
admin xray toggle
Date dimension options should apply to unix timestamps
nil proof for missing rows metadata
Change nil to -1 when we punt on the cost estimation
Add cost estimations
provide `crate` database user as default
only show NQF SQL option if the user has permission to at least one db (#5906)
Bump node version to 8.4.0
Bump node version to 8.4.0
Add withBackground HOC to fix full page backgrounds (#5896)
show values as % in 100% stacked bar charts (#5905)
Ensure timezone detection doesn't cause sync to fail [ci drivers]
fix #5824
Support cards with naked sql
another small edit [ci skip]
clarify and correct field filter help
Add MB_DB_CONNECTION_TIMEOUT_MS env var to configure connection timeouts
Add timezones to pulse rendering
move primary buttons to left
per-field and per-table sync docs [ci skip]
add x-rays page to TOC [ci skip]
QB visual tweaks (#5882)
xray cleanup (#5880)
gear icon spacing fix
Manual FieldValues re-scan for Tables & Fields
little more detail [ci skip]
add faq item about friendly field and table names [ci skip]
corrections for nested queries instructions [ci skip]
fix data ref img and edits kdoh suggested [ci skip]
Disable temporarily the segment xray test
Remove the RAW_TABLE FK reference to METABASE_DATABASE
add white text to purple button hover [ci skip]
docs for x-rays and comparisons [ci skip]
Remove the double encoding of the collection's slug
Add type information to expression columns
Finish dashboards e2e test conversion
Convert dashboards E2E tests to Enzyme, part 1
Add `waitForRequestToComplete` for inlined API requests
add docs about binning [ci skip]
add new query flow documentation [ci skip]
Render pulse even if pulse channel is missing  prop
small edits
Add to the overview section of the timezone troubleshooting docs
add info about sync scheduling options [ci skip]
Holy hell, so many modals (#5833)
Compress PNG files (also other than new question flow -related ones)
fix method name and capture param (#5835)
Allow users to navigate sequentially between object details  (#5832)
Improve test runner, rewrite testing docs, add a way to test browser events (#5834)
Final test fixes :wrench:
Dashboards On-Demand updating & tests
Tests for On-Demand updates for Cards
improve goal line visibility in night mode (#5831)
styling, and removed Description prop
Finish logic for Cards + Dashboards updating
On-Demand FieldValues Caching [ci skip] [wip]
Added similar date bucketing test exceptions for JVM timezone [ci drivers]
Add redshift to the date-bucket-test exceptions list [ci drivers]
XRay comparison v2 (#5793)
Minor fixups to the new date bucketing tests [ci drivers]
Add exceptions for SQLServer when changing the JVM timezone
Increase the docs and timezone related date bucketing tests
Convert query option for search text to string when parsing it
Arrow button should always return to start of flow
Test that the url gets updated properly
Reflect current search term and grouping in metric/segment search url
Add some arrow key search commentary, don't use desc in search
Run prettier for new question flow
Properly disable the EntitySearch nav buttons when needed
First take on arrow key navigation in EntitySearch
If user is admin, show all buttons immediately
Add missing new question flow route titles
small tweaks and remove descriptions
fix query builder image not appearing
modify illustrations
modify illustrations
Use links instead of `onClick`s in new question flow
fix sql illustration [ci skip]
fix pagination conflict
tweak spacing and colors
Add time zone string schema validation
Minor changes for code cleanup
Minor fixes for reflection and a long line in the mysql tests
Focus back to input after clicking the input reset button
Add site-locale setting
Add su/api-param helper fn for defendpoint schema checks
Switch to official M$ SQL Server JDBC driver [ci drivers]
Polish pagination styles, add input clear button
Focus on input when grouping changes, add pagination v0.1
add no results illustration
Add support for jt i18n function for use in JSX
Detect locale
Add unit test workarounds for oracle report timezone
Ensure custody of timezones from query to results, add debugging info
add some spacing to make things a bit easier for readers to parse where comment/code pairs are
Add Debian guide to operations start page
Add guide for running Metabase on Debian-based systems, as a service, with nginx.
Make sure QP 'macro' expansion code is case-insensitive
Add empty states for both segments and metrics
Solve problem with leaked inactive segments/metrics
Remove the table-rows-sample driver method [ci drivers]
Rename metadataLoaded to metadataFetched, make it more robust
Add `getMetadataLoaded` for metadata load state, fix tests
fix icon, and hover colors
Add failing tests for metric & segment flows, add cleanup code to other tests
Start a question from segment correctly, more EntitySearch styling
Styling for EntitySearch
break cards into one row at large sizes
vertically center options
Functional metric and segment pickers, generalized EntitySearch
Metrics picker WIP
Just use default impl of table-rows-sample for Druid [ci drivers]
Include localization in index.html
Add update-translations tool
i18n more of the homepage strings
Internationalize a few frontend and backend strings, add lame Google Translate translation for German
Initial i18n implementation for frontend and backend
Remove the old E2E signup test
Try to fix CircleCI H2 problem by starting backends sequentially
Complete the signup tests
Enable table-rows-sample for Druid [ci drivers]
Refactor UserStep, extend the scope of tests to scheduling settings
Don't fail entire query if results metadata is invalid
Add explanation about the database syncing process to scheduling form
Make scheduling an explicit step in signup process
clean up copy
Add test case for failed db validation
Conform with the validation endpoint API contract
Hide engine selector in scheduling step of setup wizard db creation
POST /api/database/validate endpoint
Implement a migration path from old analysis settings to new ones
fix JSON display in object detail + test (#5767)
Optimize table sampling [ci drivers]
First take on updating the setup wizard
Add the new scheduling settings step to db creation
Add missing illustration image
tweak spacing and text, fix sql img
Allow POST /api/setup to set DB schedules
Draft of how the scheduling options could be shown during db creation
Move shcheduling overriding logic to DatabaseDetailsForm
Add `let-user-control-scheduling` field to db details
Update in-depth analysis toggle title and default it to false
Linter fixes
Run backend with empty db, add incomplete test suite
Revert "Try to speed up CI by dropping the frontend build step [ci e2e]"
Drop frontend build step, always run integrated tests in CI
Try to speed up CI by dropping the frontend build step [ci e2e]
merge atte's changes
tiny string changes [ci skip]
Add bottom border to the active tab
Add integration test cases, add url helper for new question [ci e2e]
First iteration of new question flow
fix strings [ci skip]
add faq about dashboards [ci skip]
info about dashboard filters [ci skip]
New query start page styling
init new question flow
margin, size, and color fixes
Convert people e2e test to Jest, refactor EditUserForm
clean up EditReferenceHeader and Detail inputs (#5719)
fix broken image link [ci skip]
X-ray comparison (#5731)
Sync scheduling API changes
Sync scheduling frontend
add way more info about field filters
waitForActions takes only into account actions called after prev call [ci e2e]
Use new helpers in rest of tests [ci e2e]
Use new input helpers everywhere, move them to enzyme_utils
Formatted store errors, better link/input helpers
Remove the query builder E2E test that has became obsolete
Convert sql query / template tag test to Jest [ci e2e]
Revert variable names changed for debugging [ci e2e]
Convert sql query / template tag test to Jest [ci e2e]
Convert data model section tests to Jest
Convert Admin General Settings test to Jest
Field fingerprint versioning
Remove fingerprint versioning stuff from sync scheduling PR
Revert "Use JDK 8 in CircleCI [ci all]"
Run integrated tests [ci e2e]
remove fastutils from deps
more changes
update based on cams comments
add some useful snippets
explicitly cast to double array
More type hints
More type hints, remove clojure.data.avl
Add type hints to STL
Downgrade stl lib
Remove extraneous dependencies.
Use JDK 8 in CircleCI [ci all]
More consistent naming, run Visualization tests as unit tests
Migrate all but one of our Karma tests to Jest [ci e2e]
Always log stacktrace when scheduling/unscheduling DB task fails
Run integrated tests [ci e2e]
Move jest tests under frontend/tests directory [ci e2e]
Upgrade clojure/java.jdbc to 0.7.0 [ci drivers]
Rework DB sync tasks logic + add tests
Run integrated tests [ci e2e]
Add tests for remapped fields in QB and fix regressions
Don't use getHumanReadableValue for equivalentArgument filter
Small edit to info about configuring log level [ci skip]
Add dox about using custom Log4j properties [ci skip]
add pulse info to faq and some reformatting [ci skip]
remove chart settings "Done" button statefulness (#5691)
Separate analysis/FieldValues scheduling and Fingerprint versioning
Add tests for drill-through, format the binned coordinates [ci e2e]
better flow types + lint
add earliest / latest
add error handling
fix flow
lint
remove use of simple histogram
simpler way of changing cost using links instead of actions
Trigger ci [ci all]
fix header hierarchy
remove unused file
Round fingerprints (in test) to 3 decimal places [ci drivers]
fixed remmaping
guard against empty datasets
Use `driver/sync-in-context` when getting samples [ci drivers]
(temp) fix for clobs
Switch from min/max value on field to fingerprints
fix segment xray url
break out into components + segment page
merge
Update GettingStartedGuide.jsx
lint
Making linter happy
defmulti doc workaround
pull complicated logic outside of the template
split getting started guide into a view and a form component
fixed tests (and a regression)
Split analysis into separate fingerprint/classification stages
make linter happy
Changed cardinality estemation library
Making linter happy
comment out action + update based on toms feedback
add troubleshooting guide item about timeouts [ci skip]
fix typo
Run integrated tests [ci e2e]
Add test for location breakout with binning
fix order-of-magnitude
Add descriptions, tidy up some features.
round all floats to 2 decimals
Pick optimal number of bins
add optimal-bin-width
Add tests for adding a binned breakout in QB
Add integration test for input filters
change download button tooltip and menu label (#5667)
Make test db fixture contain complete db analysis results
flip SimpleStat order
update cost select + rough icons
clean up requests to use optional params
add additional stats
add keys
remove unnecessary component state
Disable heat and grid map visualization types
Minor optimization to row chart drill-through/tooltip logic
Update 03-basic-exploration.md
Only analyze newly created Fields
update title
layout updates
Don't show FK source for date/binning breakouts
Show 'Unbinned' in hover, show FK name correctly in breakout widget
Put 'Don't bin' as the last option
page organization
merge
change strings, remove dead code
Add a "Don't bin" strategy to the table API response
Add actual metadata to histograms, mock for labels & descriptions
add table name to title and page
add link to table from field
add histograms to table page
show periodicity for date fields
fix fields endpoint
Add table and model metadata to all fingerprints. Recursevly pretify
link to approximate by default
link to default cost
add cost to table, separate out cost selector
fix metadata order, use embellished histogram
Serialize histograms like cards
Support `transformResponse` request option in integrated tests [ci e2e]
pull out histogram
Don't return binned fields from FieldList without subdim selector
use actual visualization for histograms
add ability to choose cost to field fingerprints
Add BigQuery and Vertica to list of valid engines [ci skip]
Add note about how you should include h2 in ENGINES list for tests [ci skip]
Sync refactor :sunglasses: [ci drivers]
link table to field
placeholder table title
field xray title
Run integrated tests [ci e2e]
Add test for link, make metrics test more robust
update table to handle api change
Add Setting to disable nested queries (:no_entry_sign::bird:)
clean up fingerprint response
Color cleanup (#5551)
Improve the explanation of goal line fix
Implement the goal line height fix suggested by @tlrobinson
Add timezone "Europe/Istanbul"
Tweak Mac App build script for Xcode 8
Pass metadata to getQuestionUrl in FieldDetail
Use `String(value)` instead of `value.toString()` as it supports nulls
Have ./bin/osx-setup use getcwd() to figure out where ./bin/build is [ci skip]
You probably need to do sudo cpan install [ci skip]
Actually you do need to install JSON module [ci skip]
Update run_metabase.sh
Don't show Saved Questions DB in Perms Graph
Address in frontend the issue that backend filters boolean field values out
Convert filter display values to strings for showing booleans
fix broken link and make text legible
Instrument remapping admin settings
Better UI state for db adding in admin section [ci e2e]
Split pulse HTML creation code from it's backing data structure
Remove healthd enhanced logging references from EB nginx config
Backported cleanup from sync refactor :shower: [ci drivers]
Ensure that the stored site-url has the protocol specified [ci all]
Update version
remove false bit about nested queries [ci skip]
Add additional details in case you run into build issues [ci skip]
Simplify Mac App setup steps
Minor tweaks to fix engine->driver and break login logic into smaller fns
v0.25.0
tag+bag
Update version
Update version
Simplify Mac App setup steps
hat tip @camsaul
Simplify Mac App setup steps
add failing test
dont include cards in the data reference for now
Add test cases for seriesAreCompatible
remove needless closing bracket
wrap long data selector titles (#5538)
Omit schema name if target fields are from same schema
Format with Prettier
Update the integration test [ci e2e]
Bind to all available interfaces -- seems to fix an issue where a metabase container can't be accessed from multiple docker networks.
Infer the aggregation name in FieldName
Let people use comma-separated numbers in SQL num param inputs
Only show supported aggregation drill-throughs for a field
Allow mixing cards broken out by DateTime and numeric timestamps
setup message should not provide its own styling (#5534)
Extract title header to TitleLegendHeader and use it in Funnel viz
Recover display settings if they get lost in dash drill-through
Run integrated tests [ci e2e]
Let AggregationPopover stretch to the container width
Another linter fix [ci e2e]
First stab on merging field values from different fields
Added a missing require for an interface defrecord
Add searchField prop to FieldSearchInput
Add integrated test case for non-blocking db creation UI [ci e2e]
Refactor SearchInput to FieldSearchInput, use RemappedValue in FilterWidget, prevent fetchRemapping from loading same remapping more than once
update version
[ci all]
Minor cleanup/refactoring for binning
[ci all]
[ci all]
get tests to pass
remove crap code
dont know if this makes sense
fleshed out
Add non-blocking "Adding..." UI state during db creation
Sync everything else display (#5518)
update tests to match new parameter format [ci e2e] (#5522)
Include `can_write` and other missing props to POST /api/card response
rework the SSO doc a bit and add images
Format files with prettier
Test that section titles are hidden and we show subset of options
Show a stripped version of AggregationPopover with new boolean param
Minor code style cleanups from the remappings changes
Added some simple heuristics for nicer bin sizes & bounds
Update dimension name when changing field name, dethrottle inputs [ci all]
Show remapped values for parameter widgets
Add default_dimension_option for binning/dates
Add loading/empty state, default only match
Return binning strategy in the field's binning_info
Extract SearchInput from SearchTextWidget, add filter SearchPicker
Move NumericInput to top-level components
Switch the external remapping order by test to fk engine [ci all]
preserve collection_id in overwrite mode (#5498)
add email troubleshooting guide to docs
Clear dimension data when the special_type is not supported
Clear dimension data when the special_type is not supported
Add a test for field values and sensitive visibility types
add breadcrumb links
add tip about field name
add breadcrumbs
error message styling
Add permissions checks for dimension updates
Delete unintentional `store.dispatch`
Use fixture for reseting created at field, fix reset test failure
Add support for sorting by an externally remapped column
Add the Enum type to core.js
Use entity name by default, otherwise ask user to choose the field
Use the JSON encoders for XLSX objects with no encoders
Show popover and always select a field when choosing 'Use foreign key' [ci e2e]
Clean up drilldown.js, add spec, misc other improvements
get tests to pass
cleanup as per review comments
mend
let admin know a given setting was injected from the environment
Use the JSON encoders for XLSX objects with no encoders
Add a validation of dimension POST for human_readable_field_id
Remove debugging cruft
Add a new enum type for remapping
Ensure the category_id special type is restored after changed
some tiny improvements to filters (mostly hover states) (#5490)
Add test for checking that parameter values are picked correctly
Don't call `updateFieldValues` if we have field values before mount
fix flow errors by removing information =/
dont use magic constants
Run integrated tests [ci e2e]
Remove over-engineered logic that resets FK remapping on FK target field change
Use metabase-lib in FieldApp
Add missing ns docstring
add our first native action!
Use shared login session between integrated tests [ci e2e]
v0.25.0.RC1
update version
Don't show retired segments/metrics in data ref sidebar
update snapshots
clean up stacked checkbox
clean up instances
Rename WIDGETS -> DATE_WIDGETS
Always show date widget for dates in dashboards
Apply field-should-have-field-values? predicate to query_metadata
Revert "Remove the category type predicate from remapping"
Add remapping awareness to pulses
Update running-metabase-on-docker.md
use better identifier and add doc link
update examples
isolate checkbox styling + color options
Include is_saved_questions field for the Saved Questions DB
Include dimensions to PUT field/:id response
Improve 'should reset FK' logic in admin settings
misc cleanup and nested queries help message
Proper save statuses, fix cases where dimension doesn't get reseted
Unbreak prettify
add segment to table comparison endpoint
Split megafile into fingerprinting namespace + minor refactoring
Minor formatting and argument changes with some extra explanation
Field update should have coerced special_type to a keyword
Add instructions for migrating from H2 to another database container
fix url
fix compilation errors
hmf. typo?
Pass arguments to Docker entry point at runtime
special treatment for saved question item
add images [ci skip]
Comment out spammy deprecated field value comments
Mark filter tests as pending until fixture db has Category field values
Add tests for filter adding/removal and table viz settings
nested queries and column remapping [ci skip]
Workaround for AOT protocol bug with getStackTrace
Add comparison, refactor vectorization & output into seperate stages
basic action setup
use the right param
Update metabase-head jdk version to java 8
A really awkward fix to a weird field value property
Clean up some indentation and other code
Backported improvements from sync refactor branch
Reload metadata always when showing FieldApp
Show remapped names in multiscalar legends
Remove external dimensions when FK special_type is removed
only change trigger styles
Hide non-remapped x-axis values, disable drag-to-filter for remapped strings
Make bind-dn optional to allow anonnymous binds
Make Card fingeprint act like a multi-field fingerprint
have all the pieces
non blocking database deletion (#5432)
username is now used for login instead of email [ci e2e] (#5456)
Filter dates out, choose entity name as default in FK remapping
Add binning support for presto and bigquery [ci drivers]
Groundwork for comparison, change api to alow same named fields, add datetime x metric fingerprint, add week scale.
Lint fix [ci e2e]
Add tests for custom remappings [ci e2e]
Remove min/max from mongo's expected field values [ci drivers]
Add min/max to presto expected test results [ci drivers]
 stubs for craptastic comparisons
Add frontend tests for almost all admin stuff
organize things a bit
hide action popover when scrolling data table (#5442)
Integrated tests WIP
replace sidebar links for x-rays
Add stubs for integrated tests
fix typo in setup.clj
Add visibility and field type pickers
Code cleanup to prep for review [ci drivers]
fix column settings layout + hover state
layout tweaks
add placeholders
Feature flag binning
Hide field type and field visiblity temporarily
Restrict Foreign Key mapping to only FK fields
Working FK selection, only support integer custom mappings
Revert "Force the reload of the driver namespaces after plugins load"
call functions directly, not through props
not sure this is actually necessary
unify duplicated actions
use correct proptypes
add things to propTypes
unwind hungarianism
formating + get segment
First (not very successful) take on foreign key picker
Combine admin auth options into own section. (#5427)
new things to ignore in an upgrade
get tests working
Remove the category type predicate from remapping
Rename functions with µ to microseconds [ci drivers]
Adds multi-agg support and fixes nil falsey values
Save the chosen mapping type to `dimension` table
Working custom mapping editor
add test for number of dbs in the list
Rework wording
move tests into workspace [ci all]
Remapping admin fixes for the backend
break tests up into multiple files
fix failing test
[ci all] remove integration tests from where non-integration tests would find them
add site_url to public settings (#5436)
clean up html structure a bit
Add metadata loading & back button logic
fix lint errors
Add casting to Date/DateTime objects in Vertica [ci drivers]
Explicitly load driver code and fail tests when driver is present
Integrated test infrastructure + simple QB test case [ci e2e]
fix compare bug
Unify test application db environment variables [ci drivers]
basic positive path tests
add button
disable cache section for now
initial field settings page
Include fields metadata for Saved Questions 'virtual' DB
Increase waitForActions timeout v2 [ci e2e]
See if the tests pass after increasing waitForActions timeout
template for running EBS inside a CloudFormation stack
Nested Queries + dashboard params fixes :wrench:
Show visualization error even if a card object is missing
start comparison
Add test case for grouping by a date field in data ref
Refactor drill downs, implement for heat maps, misc heatmap improvements
remove sections!!!!!
remove more usage of sections
move tryUpdateMetric and delete tryFetchData
add additional date histograms to field xray
remove tryUpdateData
Refactoring, renamed resolution to scale, added back :field
add time breakdown
specify fields
grid
Change histograms in returns to PMFs.
unwind get wackiness
remove another fetch
remove fetch data
Put images in loading/init screen [WIP] (#5362)
suppress uglify js warnings in production (#5411)
remove headerlink from sections
remove sidebar from sections
remove autogenerated breadcrumb helpers
remove empty and questions from sections
unwind sidebar craziness
Minor code cleanup :shower:
Add tests for both MetricPane and SegmentPane
only show Scalar title and description if in a dashboard (#5309)
Incorporated all of @camsaul's suggestions
Whitespace cleanup to make linter happy
Add tests
Add tests, small touchups
fix paths + unwind some of the reference header insanity
Tests for segment tooltips, new TestTooltip class for testing
add simple stat / histogram
remove old files
re-organize files
Test for #5406 *cough*
Don't send/show archived cards in pulses (#5224)
Test that activity list is rendered correctly and that metric link works
remove un-used vars
Add first activity feed tests
probably should create an entitylist component
unwind more excessive abstraction
Unify question creation/saving in integrated tests
WIP - Add type based defaults for coordinates
Add saved question tests for server offline and cancelling
Don't try to load metadata in initializeQb is card is empty
Add num-bins test
Extract costs to perdicates. More tiding up.
Add latitude/longitude specific binning options
Switched bin calculation from case to equation
add :default fingerprinter, fix typos
Refactor, docsstrings, conform to code style
New integrated test store API
Minor code style changes [ci drivers]
Rename the dimensions table to dimension
Test the presence of title/lineage in QueryBuilder smoke test
Remove the empty image placeholder from VisualizationError
fix links [ci skip]
Heat maps v2
Add the "bin-width" binning strategy
Add for missing QB error image, add store.waitForActions'
minor refactoring
Robustness/corner case tweaks
Show Is Empty and Not Empty texts in TimseriesFilterWidget
Add a failing test for missing Is Empty text + some passing tests too
Druid fixes for remappings [ci drivers]
Added admin routes for dimensions and human readable values
Transform remapped values to the correct type before comparison
Added realiasing code for Oracle column remapping
java.jdbc column renames should update metadata
Add internal remapping support to breakouts
Added auditing columns to the dimensions table
Minor code cleanup and refactors for remapping
Show human readable field values and remapped column name everywhere on frontend
Add dimensions/human_readable_values to the query_metadata response
Port Object detail to a visualization and mode
Refactor field test values to reduce duplication
Add FK related remapping
Split expand and resolve into separate middleware
MVP frontend implementation of displaying remapped columns
Add support for remapping user provided enum-like values
clean up xray response display
update log fetching + test (#5351)
fix imports
Remove console.logs in tests, mark commented test as pending
Mark incosistently behaving metadata tests as pending [ci e2e]
Use the new session API contract introduced by LDAP login [ci e2e]
Return the exit code of Jest child process in integrated tests
Don't run H2 in AUTO_SERVER mode
Remove the legacy FieldName karma test [ci e2e]
Set --maxWorkers=1 for integrated tests [ci e2e]
Use CircleCI container 6 for `yarn run test-integrated` [ci e2e]
Refactored fingerprint-query to do all fingerprints in one pass
Major refactor: spit cost into 2 axes and expose it to fingerprinter
Add a test helper function for test scaffolding cleanup
Typecheck onChangeCardAndRun
unwind interesting questions
limit jest workrs [ci all]
pull empty state out
Set appropriate JVM options for E2E tests
Set appropriate JVM options when running e2e tests
Run Prettier formatting
add link to upgrade instructions in Docker doc [ci skip]
removed debugging trash
refactor fill-timeseries
add category x * multi-field fingerprint
Integrated test cleanup
Disable whole E2E suite because of Sauce problems [ci e2e]
Separate test-jest and test-integrated, fix H2 server mode issue in tsts
Disable E2E tests that fail / are converted to use Jest [ci e2e]
Add 2-field fingerprints for datetime x num and num x num
Nested Queries :bird: [ci drivers]
Return null in question.mode() if no mode available
improve FF text rendering (#5378)
Add integrated test for checking that QB renders without errors
Histogram x-axis option
Migrate Karma tests that don't deal with DOM to Jest tests
more question tests
Nested Queries :bird: [ci drivers]
add some native query unit tests
add clarifying info [ci skip]
Tiny fix to mode spec stubs after playing with modes
Temporarily block integration tests if no E2E_HOST, fix failing test
Add stubs for actions widget and viz tests to cover more QB navigation
Add stubs for mode actions and drills
be less picky about streaming responses in tests
Add stubs to dimension spec, add some renaming suggestions
Dispatch on both base and special type, include type in fingerprint
Viz & QB action test stubs, marking tests as pending
Port old Jasmine FieldName test to use Jest and metabase-lib
Add NativeQuery tests with stubs and some trivial test cases
Trivial test cases & stubs for metadata action integration tests
Add new Mode class and test stubs for it
wip
Reorganized tests, fixed aggregationFieldOptions bug, renamed newQuestion
redirect to /questions/ after collection creation (#5306)
Cleaner field-values
Add costs to api
remove more cruft + some bug fixs
removing more cruft
Strip segments/metrics from metadata in metric/segment editors
Add to parseFieldBucketing support for the current DatetimeField syntax
Add tests for how initializeQB handles urls
fix typo
Add a test to make sure that the save dialog works
remove more cruft
send children to an orphanage
intermediate refactor
Add new failing UI test for expressions, remove old misguided one
Add a failing test for pivot actions when having a date breakout
Removed typos
Remvoe typos in documentation
Able to add >1 breakouts, change the behavior of ActionsWidget test
Extend the native query test
Update the test for SQL parameters and fix it
Use a shared Redux store for integration tests, add helper for reference section tests
wip
Resolve Loss of Navigation on smaller screens (#5350)
wip
Binned drill through
re-organize constants
Add a failing integration test for native queries
First take on fixing SQL parameter questions
dumbest possible display of segment, table + field x-rays
Add failing test for choosing a custom expression as aggregation
Change accidental fit(...) to it(...)
Show category filter dropdown in public dashboards
Add failing test for Query.cleanQuery in legacy query lib
Add a failing test for PRODUCT_ID field display name
Remove multimetric logic from metabase-lib
Remove multimetrics React classes & use lastRunDatasetQuery in VisualizationResult
Add api + implementation for (very naive) table, card & segment fingerprinting Add api + implementation for (very naive) fingerprint comparison
Add missing import line break
Add failing test for checking if you can filter by same field that is used in breakout
Add an integrated UI/query test for SummarizeBySegmentMetricAction
Add a test case for the missing ActionWidget
defensive cloning. need to switch to icepick for this
Add a failing test for not being able to add more than one breakout
adding some scar tissue + fixing most tests. still some failures
Test the precence of timeseries filter widget which was accidentally commented out
Move the integrated test boilerplate to __support__/integrated_tests
Add a failing integration test for 'pivot by category' action
more failing tests
some failing tests
First experiment with Jest integration testing
Force the reload of the driver namespaces after plugins load
Switch min/max columns from floats to doubles
pass lint maybe
remove old fixture
use realish looking data for tests
use realish looking data for tests
metadata selectors tests
Simple tests for StructuredQuery
initial table spec
a couple tests
Added support for multiple min/max affecting criteria clauses
Remove the unneeded commented code from FieldName
Disable multimetrics feature, cleanup imports, add comments
Throw a better exception when binning with no min/max
Docstring fixups
Fields without min/max data should not include dimension options
update ga metadata
First cut at constraing min/max from query criteria
Rewritten multiquery breakout dimension logic
Aggregation field selection in new query flow
Begin adding StructuredQuery tests and stubs
StructuredQuery docs, partial.
Added min/max values to binning_info
Sort column dimension_options numerically
Use common question/metadata fixture in StructuredQuery spec.
Somewhat working new query flow roundtrip
Switching binning metadata to use underscores
Switch to a case based binning, added binning metadata to results
Wire up the api
Switch to using dimension_options provided by backend
Added dimension_options to the query_metadata response
add copy widget to user confirmation modal (#5311)
connect to api
style
include fake histogram
fix dumb typos
some more small fixes
end to end attempt
small fix to pw reset paragraph [ci skip]
fix some broken links [ci skip]
Minor refactoring
Add drill-through blurb to FAQ [ci skip]
Another test fix :wrench:
downgrade sketchy to avoid jdk 1.8
Small fixes
remove notebook cruf
Initial sketch of fingerprints for numbers, dates, categories & text
Heavy refactoring of Query logic, new metric dimension picker
Test fix :wrench: [ci drivers]
Test updates :wrench: [ci drivers]
Add metric dimension options dropdowns
Show only metrics with compatible breakout table fields, use first field available
Misc cleanup and fix flow types
Autoload multi queries on the page load, refactor initializeQB
Use temporarily the full table metadata in PartialQueryBuilder
Docs and types for Dimension
Load metadata for all queries in loadMetadataForCard
Use Question.isDirtyComparedTo everywhere, fix React warnings
Lineage fixes
Add dimension tests
Disable 'Add a metric' action for questions with >1 breakouts
Quickfix to a visualization error on multiquery conversion
cleanup
Add getResults to Question, refactor the update logic of Query classes
Oh actually there were tests. Move them over :broken_heart:
Add some tests :wrench:
Remove duplicate fn
Use new Question::isRunnable for getIsRunnable
initial new question steps
don't initialize with a database
Add 'Add a metric' action which converts question to multiquery
Dimension improvements
Mock dimension_options until API returns them
Dimension improvements
MultiQuery class and related refactorings
mock out field xray
Backported tweaks & improvements from nested-queries (part 3)
fix typo in python example (#5286)
Port aggregation widget to metabase-lib
Port filter widget to metabase-lib
Port drill throughs to metabase-lib, port ExtendedOptions to metabase-lib, misc cleanup
Action refactoring, runQuery=>runQuestionQuery etc
Correct indecies to indices in migration file
fix #5214
Working toggling
More improvements backported from nested-queries
SavedMetricSelector cleanup
Isolating the state of SavedMetricSelector part 1
Refactored RUN_QUERY, new UPDATE_QUESTION, new `dispatch.action()` middleware
Add notes about how annotate/sort should be decoupled/reörganized
Combine QP macro expansion middleware namespaces
Reörganize parameter-expanding QP middleware a bit
Combine QP perms checking logic into single NS
Add fingerprinting notebook.
Changed copyright years to 2017
make same edits as on website guides [ci skip]
Show the results of multiple queries in VisualizationResult
Rename CardBuilder->QuestionBuilder etc
First take on multi-query execution
v0.24.2
Replace card with Qestion in many places, move dirtiness check to Question
fix links
starting point for troubleshooting
Use Question in VisualizationResult.jsx
Use metabase-lib and Flow in QueryVisualization
Cleanup backported from nested-queries branch :shower:
Extend questionUrlWithParameters tests
Add tests for utils.spec.js
Rename IGenericSQLDatasetLoader -> IGenericSQLTestExtensions
NativeQuery, fix various flow types
Remove unused import
use grid classes (#5205)
WIP
Rename IDatasetLoader -> IDriverTestExtensions
fix #5225 (#5226)
Make composed dashcard custom titles unclickable
Cleanup, fix SavedMetricSelector
Revert "point-type-support"
point-type-support
Refactor visualization click logic
Working version which uses metabase-lib
WIP
Remove unused imports
Extract `handleEntities` and `mergeEntities` to lib/redux
Only merge `entities` if the redux action is relevant
Split Query into StructuredQuery and NativeQuery
Migrating to the new query lib
Cover a case where both schemas have mixed permissions
Sub-dimensions!
Remove redundant single-schema test, add schema-level perm tests
Tests pass now also for multi-schema dbs
More test refactoring
Extend the first test case, refactor
fix bunch of broken links [ci skip]
Add first, pretty trivial test case
Redesign welcome modals (#5143)
Documentation update (#5157)
Dimension!
Refactor MetricList and MetricWidget
Add loading state, fix favorites filter, sync button sizes
Improve positioning of info/tooltip icons on Scalar cards (#5152)
Use the same shade of grey in both dash and question lists
Add multiple metrics functions
Breakout cleanup
Port aggregation and breakout widgets (temporary wrapper components for now)
Disable brush for dashboard multi series + SQL
Highlight selected dots
Don't update filter when selecting no points
Cleanup click interactions with brushing, fix scatter drill through
Right align lat/lon. Add tests
Increase table row height slightly
Add mutation methods to metabase-lib and gui query editor
Typo fix
Committing and cancelling the changes
Update the visualization locally in the modal
Working adding/removal of metrics, visualization still fails
Store initial aggregations and chosen aggregations separately
Almost working aggregation adding
Port first layer of query builder components to metabase-lib
Remove NYIs
Preparations for having an isolated state in SavedMetricsSelector
Extract metric list to its own component for reuse
Render the current visualization in saved metric selector
Saved metric chooser skeleton
Proptypes for query builder
Add color bubbles next to metric names
Add metric selector screen, disable it for other than line/area/bar charts
Rename 03-setting-up-email.md to 02-setting-up-email.md
More work on metric adding screen
Avoid code duplication with new AddMetricButton component
Add metric adding screen & refactor buttons etc
Add empty space to bottom if no ModeFooter
Show active filters in the bottom
Show CardBuilder for dirty saved cards too
Button reorganization
Use ES6 lambda notation in CardHeader
Extract add button to a reusable component
Move collection text below title + add dummy details button next to it
Button refactoring (though new button style not applied yet)
Remove @nyi decorators for now
Removes join notification on LDAP signup
New CardBuilder container for saved questions & a refactored header
Remove docs for now
Flesh out metabase-lib stubs, integrate documentation.js docs generator
sync favorited item star color (#5086)
Add `supportMultipleAggregations` flag for hiding add button
Allow http health checks.
add reference to our buildpack
v0.24.0
Use consolidated metadata redux actions/store for permissions.
Address Enzyme quirks in tests
New beautiful questions list empty state
QuestionIndex cleanup, fix header glitch
Add questions illustration
Generalized <Archived> component, handle error in App.jsx
v0.24.2-snapshot
Improve the error message when using wrong ssh tunnel host
Add Stack Overflow link, remove setTimeout
Force repaint to make Safari render buttons correctly
tag release 0.24.1
Number of bins now optional
move params around
Make QuestionIndex testable and add Jest tests
Streamline the QuestionIndex component display logic
Improve brush filter logic for friendlier date filters
Fade deselected bars when brushing
Consistently name keycode consts
typo
take 2
Added min/max metadata to numerics and a default binning strategy
Automatically change granularity when brushing small ranges
Rename getFieldClauseFromCol to getFieldRefFromColumn
Round start and end dates
Much improved brushing implementation
Extract keyCode constants into their own lib file
Say "You don't have any saved questions yet" if no questions
Center archived dashboard msg, update error wrapper to support JSON response
Misc Clojure style
Test update
Right align numbers on TableSimple
Change 404 response format for archive objects so frontend can parse more easily
Tell to user if current question is archived
v0.24.1-snapshot
v0.25.0-snapshot
Increase max uncompressed size of Mac App DMG [ci skip]
Tell to user that dashboard is archived
Use formatValue directly instead of <Value> for slightly improved scroll performance
Don't run multiple API calls same time in E2E [ci e2e]
Very rough sketch of query library
Update dashboard url method signature [ci e2e]
fix require ordering
Extract card adding url to urls.js [ci e2e]
Use hash parameter from query string, remove it after use [ci e2e]
Disable log colors & emoji by default in Windows
Small typo fix
Disable title links on public dashboards
Add 'multiplier' to the cache TTL setting name
[ci e2e] actual release version
v0.24.0.RC4
v0.24.0.RC3
one more test cleanup
refactor value collection for settings + instrument caching (#5005)
add caching doc and fix a typo
A more robust permission inferring logic
Add cache to anonymous backend metrics
Action instrumentation
update users guide [ci skip]
fix dash height (#4987)
stop pretending to support java 6
Happy linter and comments
cleanup and style improvements
comment correction
add streaming json responses
Confirm when disabling public link
Don't add extra comma to fn calls with no args in Mongo native queries
archive questions instead of deleting them from the query builder (#4953)
make loading bg transparent
Drag to filter initial implementation
adding tests for streaming query responses
Add an experimental way to infer the permissions based on descendants
Improve comments of getRevokingAccessToAllTablesWarningModal
style
v0.24.0.RC2
Add some comments + slight refactor
change view underlying data to view as a table
Cleanup
Calculate dashboard header height only when needed
Use offsetHeight instead of forcing dom recalculation
Make click target + cursor-pointer in header cells consistent
Table: Right align numbers, tighten up spacing, fix scroll bar hiding
use core.async to stream responses
create a separate section for underlying records drill-through
about to break everything
clean up drill icons and text
Support Date() calls in MongoDB native queries
Better week formatting. Resolves #3449
Support additional connection string options for MongoDB
Use brand color on hover in dash tables
Replace Icepick's `updateIn` with simple array insertion
Hides account details in admin panel as well.
Adds LDAP icon. Hides account details for SSO accounts.
Get rid of shouldComponentUpdate altogether
v0.24.0.RC1
Remove original_card_id from Flow type
Allow for custom setCollection function in MoveToCollection (#4935)
Rename runCard=>nextCard
Retain the original card id if QB starts from a saved question
Show lineage correctly when using QB actions
set max-width on popover (#4959)
Use custom streaming implementation in jetty
Use new original_card_id for retaining the original id across actions / browser history states
Update out-of-date docstring
Move druid-topN-results constant to somewhere more sensible [ci drivers]
Remove problematic jest config
Make the handleOnChangeCardAndRun work correctly also on QB drills
Clean up Oracle connection options
Check either SID or Service Name is set; tests; API code cleanup
Add field for specifiying Oracle service name instead of relying on params
allow modal triggers to nest inside links (#4940)
change bg color and use minHeight: 100%
Make Flow test pass by suppressing the warnings
Add link with Google Drive scope to BQ db details
handle exceptions
Make Oracle SID connection param optional
write resposne & close ostream as soon as its finished
Stream JSON responses in a way that will prevent heroku from killing connections
Adds collapse pannels for attributes. Adds headings.
Misc lint/flow errors
Replace instead of push URL in INITIALIZE_QB to avoid double back button issues:
add MaxPermSize JVM setting for running tests [ci drivers]
Test cleanup :shower:
Don't show zoom action if already all the way zoomed
Give 'count of rows by time' an icon/section
Give clickable region maps cursor-pointer
add newline
more code review improvements
Don't use expect-with-temp when temp objects aren't used in expected
Replace _.isEqual with shallowEqual (experimental)
Have a correct url and show the lineage correctly
Make test more expect-like
remove extra verbs (yay nowns)
more code cleaning
code-cleanup
add tests to make sure we don't sync hidden tables
Redirect to /question but preserve card id in dashboard pivot
Typo fixes, new comments
Ensure pie slices and bars have cursor-pointer
Update API documentation [ci skip]
Rename `onChangeCardAndRun` Redux action to prevent confusion, add Flow types
Add click action for area chart area
Add drill actions to tables on dashboards
Add regex to download redirects so only csv/json/xlsx are valid extensions
Add the missing `./bin/build` step to E2E testing instructions
Minor cleanup for endpoint changes from Excel download PR
Adds better error messages and makes group base optional.
Changes the group mapping modal to match the standard.
add tests for re-sync on visibility change
slight code cleanup
Don't analyze :technical or :cruft tables either
Name schemas LikeThis instead of like-this :shower:
Include attrs for imagey icons
resync tables when visibility changes
More efficiently only analyze visible tables
Allow additional connection string options for Oracle
Code cleanup :shower:
Make sure icon.attrs is defined before trying to get icon.attrs.className
Don't do detailed analytics on hidden tables
Misc cleanup and tests
Add dashboard parameters (as query string or MBQL clauses) to question URL links
Replace `linkToCard` boolean with `onChangeCardAndRun`
fix snaps
fix spacing of drill through actions
extracted topN limit into constant
fix run / refresh placement (#4881)
modal fixes (#4902)
decreased the default limit of topN results to 1000
Check that query_average_execution is non-null because null < <number> is true
Use initial attachment for drill through popover so it doesn't jump around
Include query_average_duration with Dashboard cards instead of requiring second API call
Flow types
Refactor and comment animation code
Revert underlying records drill title
Add 'All Time' operator for timeseries time widget
Experimental list item crossfade
Handle multiseries
Cool archival animation
Dashboard item UI changes
Replace dashboard remove button with archive button
Ensure that dashboards are always listed in alphabetic order
Dashboard drill through first pass
Add empty state ui to dashboards archive
Correctly formatted archive page, empty state for filters
improved excel export tests by parsing the resulting file back
code cleanup
remove fullscreen dimming logic (#4877)
Lint fix
Finish new drill action menu + icons
further appeasement for linter
Remove mutation from db details tunnel fields
Sort namespace decls in reset password and sample dataset code
Automatically sort test namespace declarations with clj-refactor
Use dashboard icon for 'All dashboards' filter item
appease diligent linter
sizing and nightmode for public dashboards
Minor improvements to function that generates API dox from schemas
Test fix?
make ssh form fields required when ssh tunnels are enabled
Test fixes for Oracle [ci drivers]
PR #4062 cleanup [ci drivers]
Add guide for ssh tunnels
merge
Use real API, create a separate archive list page
Add missing :archived clause to dashboards-list
Dashboard archive list
Dashboard archival with undo
ssh tunnel ui cleanup
New drill design, mostly complete. Needs correct icons, and a few stray actions need correct titles/sections.
Mock the favoriting API call
Another manual ns form fix
Use cljr-clean-ns + manual fixes
Revert "Right click prototype (only on scalar and table for now)"
Another atempt to fix E2E tests [ci e2e]
Code review cleanup
Polish, massage and nurture the favorite button
Favorites filter, rudimentary favoriting button
ssh tunnels for sql-server
Create section filter for showing user's own dashboards
ssh tunnels for oracle
ssh tunnels for redshift
ssh-tunnels for vertica
ssh-tunnels for presto
Add a filter list and ability to change its value
xlsx export tests
refactored result exports to use the same endpoint for multiple formats
Dashboard improvements backend [WIP]
Add controls to public dashboards
Simplify API logic with new select-non-nil-keys and select-keys-when fns
remove header background image (#4850)
Rename FilterWidget => ListFilterWidget because FilterWidget exists already
fix alignment and remove useless file
use proper viz settings key for goal tooltip (#4842)
Whoops, fix other call to load-file
Adds actual saving to LDAP mapping modal
Moves LDAP handling out of session API
Adds group adding row and information text.
Splits things more cleanly.
Adds some group picking to the mappings modal.
Scaffolds some of the mappings panel
Starts adding a mapping widget for settings.
Adds basic group matching.
Removes unused LDAP test utils
Adds more group sync settings
Adds a group mapping table/model
Starts adding group fetching logic
Moves LDAP migration to the end
Adds settings validation and connection testing
Adds working admin panel with filter validation
Adds not yet functional settings page
Adds complete tests for auth
Makes LDAP fixtures a little bit more Metabase
Adds LDAP tests (and test utils)
Changes TLS to StartTLS
Split LDAP in find and validate parts
Refactors to use username/password and adds fallback auth.
Refactors a bit, puts LDAP stuff in its own ns.
Adds UI integration (needs a lot more work)
Adds basic working auth endpoint
Use React props instead of unstable context feature in Modal
placeholder
Misc polish
Show warning if the user tries to remove access to the last table for a user group
ssh tunnels for Druids
Suppress React warning by adding keys to permissions edit bar buttons
added excel export format
Use a BEM-compliant CSS naming convention
Split tests to smaller pieces
<user> accepted YOUR invitation -> <user> accepted THEIR invitation [ci skip]
consolidate more ssh-tunnel code into util/ssh.clj
Don't show the clear button on IE11 inputs
Right click prototype (only on scalar and table for now)
Cleanup redux/metadata, add selectors/metadata
Show PageFlag (a tutorial arrow) above of other elements
allow ssh tunnels for postgres and MySql with connection pools
split DB connection code from ssh-tunnel code
Use `display: flex` for edit bar buttons, fixes IE11 layout glitch
Add `flex-basis-auto` class, used for growing flex item with its content
Rename `flex-retain-width` => `shrink-below-content-size`
Add CountByTimeAction, cleanup CommonMetricsAction, misc
Remove `margin: auto` from modals when using flexbox, fixes #4470
Extract ssh tunnel code to it's own namespace.
Replace selectors that used functional React components [ci e2e]
Don't encourage +1 comments [ci skip]
Add common metrics action
Remove the current dashboard in the end of dashboard filter test
Add column header actions and some tests
Add example `-Xmx` amounts [ci skip]
fix typo [ci skip]
Add link for OOM heap space fix instructions [ci skip]
Add blurb about dealing with Heap Space OOM errors [ci skip]
linkify bullet points in developers guides TOC [ci skip]
Add instructions on using the MGID and MUID parameters
New instructions for recovering a DB from a container
Add test for link detection
Add Karma tests for testing that dashcards with emptys do not cause errors
Safely set permissions when an H2 db is mounted in a shared volume
Tiny style fixes + let's run E2E tests [ci e2e]
Paraemters/embedding e2e tests [ci e2e]
Remove Jest tests (bad snapshot tests, and E2E tests cover interactions well)
Use  as the default state of dashboardListing if no dashboards have been loaded
remove unused icons (#4806)
Allow custom h2 path in containers
provide a fallback font family (#4805)
dont run as root in docker containers
Avoid leaving temp files in hidden docker layers
Preserve hash when redirecting from /q -> /question and /card/:cardId -> /question/:cardId. Resolves #4799
Update to jest 19 snapshot
Run e2e tests in CircleCI before merge vol. 2 [ci e2e]
stray proptypes
Update frontend to support param_values on cards. Move parameter types to their own file
Run e2e tests in CircleCI before merge [ci e2e]
Use case-insensitive search in dashboard list, extract search to lib/string
Don't use identity-obj-proxy due to CircleCI problem
Comments to describe the reasons behind authentication guessing
Flip the logical condition as requested in review
Add instructions to developers guide
Add 'warnings' support to settings. Implement for email 'corrections'
Namespace admin reducers, ensure all action types are namespaced consts
Autocorrect email security settings where possible
Add a space between New and Question words in navbar button
Create an empty group instead of skipping it
Find the first non-empty graph for rendering
fix #4782 (#4786)
fix db-pre-migration not running on postgres
add support for starttls smtp authentication
Escape strings we're injecting in the index.html script to prevent XSS.
More helpful warning when site url isn't correct
Update jest snapshots for v19
Bump versions [ci e2e]
Remove deps that were removed in master to make merge easier
Add DashCard tests
Consolidate all DB migrations into a single yaml file
simple mobile question viewer (#4755)
Add new kanye quote [ci skip]
Remove automatically running precommit hook.
Remove the chrome extension as it would require rethinking
Modernize dashboards e2e spec, add small test for dashboard page too [ci e2e]
Add a test for :param_values
Return :param_values with Public/Embedded Cards
Add iframeResizer to /app and docs
Remove created dashboards in E2E test
migrate json db migrations to yaml part 2
migrate json db migrations to yaml part 1
Add smallDescription option to EmptyState
Add test for dashboard getting started guide properties
Add accidentally deleted updateDashboard to GSG
Add clarifying comments
Dashboard page UI finetuning
Remove embed script
Run prettier [ci e2e]
Prototype of generating style guide + snapshot tests from *.info.js
Add E2E test for dashboards page
Minor code cleanup for #3858
Upgrade misc frontend dependencies [ci e2e]
Make Card/Dashboard description blankable
Maybe make tests not fail randomly as often
Tests for unsetting Card/Dashboard description
allow use of scalar or number for icons (#4743)
Drop Redux to not be forced to mock API calls
Add experimental React+Redux Jest test
Update redux-logger
Upgrade some frontend deps, fixing const issue. Simplify webpack.config.js. [ci all]
Use higher-priority GCD queue for health checks [ci skip]
Increase Mac App health check timeouts [ci skip]
Set cookie path to MetabaseRoot
Migrate a couple fetch calls to services, fix some <a href="#"> links.
Document EmptyState
Hover styling, refactor EmptyState component
More main view formatting + view for no dashboards
Remove the accidental fdescribe
Namespace/export auth action types, use in user reducer
First version of an improved E2E testing workflow
Improved root path handling. Uses path in site-url, but checks to make sure it's correct.
Allow running at non-root path, version 2. Resolves #2090
Remove eslint special case for React imports.
Migrate to react-v15.5.0
Preserve whitespace in GSG content. Resolves #3943
Missing script type
Cleanup index.html: remove old Angular cruft, make HTML validate
Pass commitImmediately down from NativeQueryEditor
Further styling of the dashboard page
Dox for how to unblock file when running on Windows [ci skip]
Update instructions for setting up Druid test instance for CI
Add styling to the dashboard page
various typo and language fixes [ci skip]
handle display of 0 in the number picker (#4689)
tiny copy change [ci skip]
Organize parameters code
Dashboard search + commenting and renaming actions/selectors
Refactor parameter widget field values to work in questions as well as dashboards. Resolves #4655
Adding search field, renaming methods, extending Flow typing
add "known limitations" to CrateDB doc
fixed some code indentation
added :crate quote style that supports nested columns
fixup! wip: display nested object as columns
wip: display nested object as columns
Update qb result message size to .h5
fix parameters in qb
Don't hide widget filter if filtered result is empty
Extract EntityFilterWidget to more generic FilterWidget
correctly format donut chart center value on hover (#4686)
Layout dashboard list and add title
Add a test for #4707 [ci drivers]
Add page titles
Support expression aggregations for BigQuery + handle special characters [ci drivers]
merge branch presto-driver [ci drivers]
Handle ObjectId(...) calls in Mongo native queries
Remove log from webpack.config.js and misc cleanup
Add an embedding js api with auto-sizing
Update compression lib version
CAST(x AS INTEGER) doesn't work for MySQL :unamused:
Flow type updates: Dashboard->DashboardWithCards, new Dashboard without cards
Move the dashcard logic back to dashboard/dashboard.js instead
Bump dependencies
Pass moved DeleteDashboard to DashboardApp
Docstrings
Update backend URL formatting
Make propTypes for Item less strict to prevent warnings
Druid analyze-table implementation [ci drivers]
Extract result emptiness check to lib/dataset.js
proper backgrounds on pulse channel config selects (#4687)
Use HtmlWebpackHarddiskPlugin to avoid having to build twice when starting build-hot
Move actions from dashboard/dashboard.js to dashboards/dashboards.js
Handle multiple params in optional SQL param clause
Rework query result messages to collapse if there's not enough room
Skeleton for new dashboards list
Return average_execution_time with query executions
Automatically reload cache instance namespace if needed
Make k-means grouping work with less than 5 rows
Remove unused ReactDOM import
Query Builder 2.0 [WIP] (#4496)
Explain in comment why [[nil]] is considered empty result
Say 'No Results' if the query result is a single null cell
Use snake case in pulse update keywords for consistency
Code cleanup for missing #metabase_files error
Send a pulse even if count aggregation returns 0
Refer to query results instead of dashcard db instance
Use JDBC metadata fn to fetch MATERIALIZED VIEWS (credit: @lindsay-stevens)
Set version back to 0.24.0-snapshot
Make sure FieldValues get deleted if cardinality passes threshold
Rename filter to 'Date Filter' in floating label
Add min width for widget, adjust floating label position
Hide minute and hour selectors in dashboard date widget
Don't use time zone conversion on absolute date ranges, fix code style
Just UPDATE Settings that already exist if INSERT fails
using pulse instead of Pulse for consistency with other copies in view
cleaning up
empty card identification in pulse.render more robust
merge
don't show success style when skipping test pulse
test pulse button gives alternate message when pulse is skipped
Add tooltip to run button when refreshing will take a long time
Run button should ignore cache
Show 'Last updated' for cached results
Ensure all cache properties are JS identifiers.
Add a numeric setting widget for cache settings (and smtp port)
Tiny typo change
Throw a helpful error if #metabase_files is missing
Hide is empty / not empty operators on dashboard date widget
Unify the filter parsing, replace the old implementation
Initial support for new date filter values
Check whether Metabase DB is set up before attempting to set site-url in middleware
Prepend http:// to site-url if it has no protocol when setting
Field filter widget: fix teplate-tag->parameter logic
update version num
Cleanup + Flow error
Add widget support to field filter template tags
Replaces custom unprepare with unprepare/unprepare
Adds LDAP Basic authentication
Adds Presto to the CI setup
add test of sorting by timestamp on raw data queries
Add dox about OOMs [ci skip]
Adds a presto driver
Extend test suite for past/next, harmonize current=>this
Filter pin map by drawing rectangle
Use rolling averages for query execution times :timer_clock:
Avoid intrusive codebase changes by using old filter names
Add serializer and deserializer for all date filter types
Return 503 if Metabase is still initializing :flushed:
actually address #4609, derp [ci skip]
fix the world's least significant typo, investigate self-diagnosis of OCD [ci skip]
add screenshots for each viz type [ci skip]
Move /q to /question. Cleanup metabase/lib/urls.
Move /dash/:cardId to /dashboard/:cardId
Move /card/:cardId to /question/:cardId
add in explanation of funnels [ci skip]
Exclude border of DatePicker in dashboard filters
Add a dummy implementation of All Options date filter to dashboard
commit filter on enter [WIP] (#4574)
Auto-resizing embeds
Remove unused variable
update icons and remove old illustrations (#4569)
Handle local text field state and parsed values separately
Use kmeans to automatically group map data
made is-card-empty? private
Catch and surface pulse channel errors. Resolves #3016
Use auto-sizing textarea, strip newlines
bump version number to 0.24-snapshot
Support multiple filter values using comma separation instead of multiple input fields
v0.23.0
v0.23.0.RC4
Make sure to de-CLOB-er the error message for H2 legacy query executions
Switch funnel to use SVG. Resolves #4534
Update cache migration #
v0.23.0.RC3
Move legend styles from inline to css file
Change the field border color as now the bg is transparent
Style default picker in SQL pane, fix code style
v0.23.0.RC2
Remove the legend animation for now, make TextWidget transparent
0.23.0 instrumentation (#4550)
Reworked QueryExecution table
fix warning position (#4561)
put in some language about public links in existing docs [ci skip]
add link to app embedding doc [ci skip]
moar changes
move things around
fix some language in the sharing modal [ci skip]
Don't pass isQB to ParameterWidget anymore
Add wrapping margin, don't show field icons when editing / in full screen
Streamline label css, improve UI of template tag editor fields
used lisp style in parameter name in pulse test fn
changed unnecesary underscores to hyphens
docs for embedding
Show filter type icon in filter widget
hide url in image
add doc for public links and update TOC
pulse test endpoint returns :skip param
Pass error messages thought in embed previews. Resolves #4485
For text widget, move field name to floating label on focus
Show 'enter or return' icon when text field widget has focus
pulse copy
Add missing PropType, use composable CSS selectors
First draft of float labels in dash filters
changed unnecesary underscores in fn name
051 migration remark consistent with interface copy
crate jdbc: version bump to 2.1.6
RC 1
Embedding usage stats
More cleanup
Even more cleanup :shower:
Remove unused fns & fix instance created at date
Use chunked lazy seq to summarize QueryExecutions + more cleanup
Usage stats cleanup
Make URL and Email regexes more strict
Use when-not instead of if-not if there's no else clause
minor change
added remark to 051 migration
changed migration number 49 to 51 for skip-if-empty, removed comment
clean up pulse empty state modals (#4422)
use MetaBot's proper name to avoid a robot rebellion (#4501)
Separate embed entrypoint with licenses
Add embed title option, change share widget tooltip text
Make sure to remove :parameters not present in embedding-params
Test fix :wrench:
Lint fix :shirt:
Test fixes :wrench:
include disclaimer
Disallow :alg = :none and test
initial embedding EULA
BigQuery driver: make #standardsql flag case-insenitive to match actual BigQuery api behavior
produce valid python dictionaries
In-DB Caching :floppy_disk:
Make preinstall work again (and also with Busybox)
fix modal content display (#4476)
Return non-generic error messages for /embed endpoints
Make sure embed frontend shows errors from server
Detect URL and Email in unspecified strings
merge 1f166fd7af0f54065cc707715947f11b4f289f91
removed comment
resolve conflict
Druid test fix :wrench: [ci drivers]
Mongo test fix :wrench: [ci drivers]
BigQuery test fix :wrench: [ci drivers]
Scan first 100 values to determine type info for native queries [ci drivers]
Query Processor Code Cleanup :shower:
Ensure group select fits on screen/scrolls. Resolves #3636
Only show custom expression aggregation if driver supports  feature. Resolves #4447
Don't try running empty selection. Remove instead of add event listener
Don't try to fill more than 10,000 points. Resolves #4307
Use page(X|Y)Offset in IE instead of scroll(X|Y). Resolves #4279
Invite email overhaul :e-mail:
Run selected text when cmd+opt+enter or ctrl+opt+enter is pressed
Allow either ctrl or meta key for running query.
Lint fix :shirt:
Lint fix :shirt:
Tell UnusedFilesWebpackPlugin to ignore Jest files
Minor logic tweaks + comments for clarity
Don't use 'Other' slice if there's only one. Resolves #2642
Migrate qb error pages to setErrorPage. Resolves #4297.
Ensure login redirect includes hash/fragment. Resolves #4430
Ensure parameter values are set when dashboard is first loaded to prevent double-query issue. Resolves #3923
Allow BigQuery standard SQL (inspired by @gitram)
JWT embedding for Cards & Dashboards :yum:
Show info tooltip from cards on dashboards (#4224)
Set site-url via middleware
Don't return hidden tables as autocomplete suggestions
Use minute bucketing for date filters with times. Resolves #4192
Use 'mbqlEq' for datetime-field, relative-datetime, template-tag, field-id, and fk->
Add to dash content fixes (#4414)
add jest for front-end component testing (#4165)
Ensure subclasses of Error work with instanceof. Resolves #4209
FKs are IDs too! Resolves #4193
allow to reduce webpack-dev-server stats
option for watching webpack-dev-server work progress
Make sure encrypted DB details are de-CLOBbed before decrypting
Add 0.5rem padding to ColumnarSelector row Icon-check (fix for issue #4244) (#4362)
Update README.md (#4380)
Tweak title of new section about details encryption :lock: [ci skip]
clean up z-index (#4357)
not breaking any tests from introducing skip_if_empty
Add dox about using new DB details encryption [ci skip]
Make sure you put spaces before bullet point lists! [ci skip]
Optional encryption for DB details (PBKDF2 + AES256 CBC + HMAC SHA512)
Hide SQL editor when opening existing cards. Resolves #4133
Resizable and auto-sizing SQL editor
Add constrainToScreen function and Component, use for dashboard dropdown and Popover.
Misc funnel fixes/improvemnets
Hide variables pane when starting new query. Resolves #4324
Unprepare args for BigQuery [ci drivers]
Remove date-string->literal
Use prepared statements for SQL params
Lint fix
Rewrite LineAreaBarChart breakout to not use crossfilter. Also show full row data for scatter plot tooltips
Refactor settings code to colocate settings with viz
Add 'sizeToFit' option to Popover. Use for vis display type menu
Reorganize visualizations
Row chart
ensure parameters are on top of empty state (#4305)
update setup to reflect collections (#4306)
Document titles HOC and Route wrapper
simple chart colors expansion. (#4270)
clean up dash card header (#4268)
Public links admin empty state
Confirmation when disabling public link in admin settings
GET /table/:id/fks shouldn't return inactive FK fields
Disable crate for the time being [ci drivers]
Mongo test fixes
Bump backend dependencies
update crate-jdbc to 2.1.4
:row-count -> :row_count and small fn simplification
Public Cards & Dashboards :yum:
do not show relationship if related table is hidden (#4061)
only show queryable tables in data reference (#4060)
Add autocomplete to SelectPicker and CategoryWidget (#4147)
fix bubble path (#4269)
Docs: link to migration instructions, note about production deployments
Docs: how to copy the app db out of a container
Add a note the root Dockerfile
Update to toucan 1.0.2 :yum:
Update to toucan 1.0.1 [ci all]
Add exclusion for toucan's honeysql dep
Move some db/models/hydration code into separate lib :yum: [ci all]
Better support for non-English characters in slugs
Don't blast people with follow-up emails :joy:
Commit filter when the enter key is pressed
Add some debugging logging for random test failures
Dashboard parameters search widget, both entity id/names and text fields. Resolves #2739
specific version numbers and replace with the latest version in the website
Rename pulse skip to skip_if_empty, add migration and other backend changes required, clean up frontend
[ci all]
update to 0.22.1
Ensure we use mbqlEq when comparing 'time-interval' MBQL clauses. Resolves #4231
More CI fail fast tweaks [ci all]
CI fail fast tweak
Fail all CI nodes when first one fails to avoid wasting time
Don't change URL when showing 403 error page
unran -> unrun [ci all]
Extra permissions checking
Failing tests
Don't send new user emails to inactive admins; tests
Use ResizeObserver ponyfill for ExplicitSize HOC to ensure it updates the size in all cases, not just window resizes
Minor cleanup :shower:
change icon positioning. fixes #4116 (#4162)
update metadata editing documentation. resolves #4141 (#4152)
allow closing of add to dash modal (#4146)
Return hydrated Card info with PUT /api/card/:id :yum:
update icon name. fixes #4110 (#4163)
fix frontend console errors (#4150)
start in non editing mode when a new query is initialized (#4151)
proper link to documentation. fixes #4137 (#4143)
Handle ISODate() calls in Mongo native queries [ci drivers]
Compare set of migration files with set of ran migrations :100:
Skip loading Liquibase if not needed :racing_car:
ensure filters without values are centered (#4118)
Ensure choropleths use the correct column for computing the scale. Resolves #4221
fixed ns requires order
coding style improvements
Flow annotations for qb filter widgets
Bar/Area chart tooltip unit test
Scatter unit tests
Lint fix
functionality for skipping empty pulses, issue-2430
Use ResizeObserver ponyfill for ExplicitSize HOC to ensure it updates the size in all cases, not just window resizes
Add eslint import plugin and fix a few things.
Make icepick imports consistent
Correct grammar/spelling
use a valid sans-serif font (#4160)
Add missing newlines in docs pages (#4108)
Dynamically generate .mute- selectors based on max number of series
Backported cleanup from public cards & dashboards branch :shower:
fix a broken image link typo
Code cleanup :shower:
Quick fix for dashboard header modal z-index [ci e2e]
Cleanup chart padding
Cleanup graph css
Add series name to tooltip. Resolves #3899
Detect the correct series in graph tooltips
Defaults for scatter chart
v0.23.0-snapshot
Failing tests for #3910
Tweak stacking settings logic. Resolves #3780
Add flow annotations for visualizations and misc
Use new driver/format-custom-field-name method in tests [ci drivers]
Handle unknown BigQuery column types gracefully [ci drivers]
Just increase z-index of modals and nav so full screen modal is under nav
Revert "use z-index utils for nav and onclickoutside (#4079)"
use z-index utils for nav and onclickoutside (#4079)
Update redux-form (to 5 not 6) [ci e2e]
Upgrade normalizr [ci e2e]
Upgrade diff
Update dc.js
Upgrade recompose, react-auth-wrapper, redux-actions [ci e2e]
Update react-router and history [ci e2e]
Upgrade react-redux
Upgrade node-libs-browser [ci e2e]
Upgrade glob and fs-promise
Upgrade a few more dev dependencies [ci e2e]
Update misc frontend test packages
update loaders, remove coverage for now [ci e2e]
yarn upgrade flow-bin
yarn upgrade kadira/storybook
yarn upgrade color
yarn upgrade; yarn upgrade chrevrotain
Remove Cards from Dashboards when archived
Make aggregations case-insenstive
Sort segments by name in GET /api/segment
Allow aggregation names as field names (if quoted). Resolves #4049
Cleanup: use disj instead of set/difference where appropriate [ci drivers]
Alternative fix for pie chart crash
Include correct metadata for mulitple ags of same type [ci drivers] :wrench:
fix #4064 (#4067)
Ensure back button skips forms. Resolves #4055
more generic color picker and collection colors (#4051)
Only show quesiton edit buttons if the user can edit it. Resolves #3869
use raw sql to get around prepared statement limitation on read-only connections/replicas within postgres
version bump to 0.22!
Only use dataset-api/query-constraints for non-csv/json endpoints, and discard constraints from incoming requests
Go to correct collection url after changing collection name. Resolves #4032
more appropriate empty state text (#4033)
Make collection buttons real links. Resolves #4017
More testing fixes [ci e2e]
add a helpful link [ci skip]
Switch to cheap-module-source-map and update some frontend dependencies [ci e2e]
include card in collections metrics
add collections stats
various collection style and layout fixes (#4028)
update query_builder.spec.js to use webchauffeur with :contains() and :react() [ci e2e]
add documenation about custom aggregation expressions [ci skip]
fix overly large save button img [ci skip]
fix admin TOC because I always forget that [ci skip]
add docs for collections [ci skip]
prevent scalar values from overflowing. fixes #3342 (#4016)
setCollection instrumentation and undo
Modal fixes [ci e2e]
fix unarchive copy
align description icon
collection card sizes
thicker lock
fix icons
Comment settings.spec.js
SSH tunnel proof-of-concept using JSch SSH client
Restrict collection name to 100 characters or less. Only enforced on frontend for now
Allow cards to be moved to 'nil' collection. Resolves #4004
Cleanup SaveQuestionModal collection select
Add animation to inline modal. Search result empty state
Extract DisclosureTriangle widget and hide 'Everything else' if empty
Misc fixes
FormField proptypes
Lint fixes
Move Undo out of /questions. Show collection name/link when unarchiving
Make entity list action / section selector consistent font size and color
Update collections permissions layout to use full page modal
Animate full page modal
less aggro arrow spin
Start with previous collection selected in MoveToCollection modal
Show error message when moving card fails
Misc fixes and cleanup
Only show writable collections in MoveToCollection modal. Use CollectionsList in SaveQuestionModal
Remove metrics from expressions tests [ci all]
Add a test for @salsakran
Lint fixes
Rename 'update aggregation' button to 'done'
Updated qb bar styling
Add forward delete support
Disable metrics and cleanup parser error messages
indentation part 2
indentation
strip commented old code
Use unique Content-IDs to workaround confused email clients. Resolves #3982
Archive page, archiving/unarchiving collections
whitespace fixes
Make admin header and edit bar prettier (#3989)
Archive collection
Full page modal should scroll to top and disable scrolling, then restore when closing
Misc polish
Add Move button to qb
Misc empty and admin/non-admin states
clean up logic
Remove extra css
Disable esc to dismiss aggregation popover
More tokenized editor refinement
Misc token editor improvements
Negative number literal tests
Support negative number literals
Add labels back in. Add collections badge
fix icons
show collectionss icon on save question screen
remove unused class
add description
header icon hover
search text color
icon spacing
header icon spacing
fix header archive icon and tooltip
use proper type for comparison
Add collections widget to pulse card picker
Update option text/icons/tooltips for collections permissions grid
Add group/entity highlighting to permissions grid
Move modals out of routes, implement moving multiple cards, keep listings up to date.
fix prop
default everything else to collapsed if collections exist
search text size
search results header spacing
add ability to specify whether edit bar is admin
switch MoveToCollection to Modal
AddToDashboard
Change 'is-crufty-table?' function to use regular expressions.  Add expressions for common crufty tables created by the Drupal content management system.
Revamp modals, misc other fixes
clean up entity list filter options
expand / collapse animation
collection actions hover
expand arrow
clean up question list
fix hover
only show filter widget if there are items to filter
proper icon
back button
update icons
update crate-jdbc to 2.1.2 which fixes a critical bug
Test fix :wrench:
Add deprecation warning to POST /api/card/:id/labels
Add variant props to Modal
Only show collections the user has write permission to
[ci drivers] token change
Include :can_write with GET /api/collection
Add Collections widget to SaveQuestionModal
Add option to return archived collections to GET /api/collection
Add test to make sure named clause works with METRIC clause :100: [ci drivers]
Update parser/formatter to use string literal or identifier for metric names
v0.21.1
Change grammar to enforce aggregation arguments, misc cleanup
Update .input style
named aggregation #2
Show search result count, hide filter input
Wire up EntityFilterWidget
Hydrate :collection for GET /api/card
Search, edit collections, misc
POST /api/card/collections (bulk update) endpoint :yum:
Wire up collections permissions grid
Remove Labels -> Collections data migration :tomato:
Bunches of collections frontend stuff
Remove AUTO_SERVER from placeholder
Tokenized editor
trim unused code
Be consistent w/ AmE usage: behaviour -> behavior [ci skip]
Add mappings for BigQuery DATE and DATETIME types [ci drivers]
Test fix for BigQuery SQL params [ci drivers]
Add new field->identifier protocol method
Add new date-string->literal ISQLDriver protocol method
Clarify that lein installs deps automatically; don't need to `lein deps` [ci skip]
Specify Content-Type charset=utf-8 for HTML pages :unamused:
Enable other BigQuery features as well :yum: [ci drivers]
Make sure BigQuery driver declares :basic-aggregations feature [ci drivers]
Make sure collection names can't be blank; add tests :100:
Additional tests for /api/collection endpoints :100:
Use blank string to show Cards in no collection for GET /api/card
use latest stable version of crate for tests
Cleanup ExpandingSearchWidget
misc
Only show valid aggregations and fields
Named aggregation prototype
Refactor AggregationWidget for named aggregations
Misc fixes
Support for metrics and custom fields in expressions
Test fixes & cleanup :wrench::shower: [ci drivers]
Handle METRICs inside expression aggregation clauses [ci drivers]
Add support for new MBQL "named" clause :unamused: [ci drivers]
Initial metrics support
Ensure custom expression editor doesn't allow aggregations
Don't allow field names outside of aggregations
Update webpack to not minify Chevrotain tokens
Misc expression tweaks
Update API documentation [ci skip]
Don't try to convert 'rows' to custom expression...again
Chevrotain parser + misc UX improvements
Add babel-core to get yarn to stop complaining
Lint frontend tests, including checking for accidental fdescribe/fit
v0.21.1-snapshot
Sort dashboards coming back from GET /api/dashboard
start things off right 2
start things off right
don't auto-split if the metric columns are all identical, i.e. it's a breakout multiseries
boosh!
update query builder tutorial and tests [ci all] (#3886)
v0.21.0-rc3
Misc tweaks
Add confirmation modals for 'All Users' permissions warnings
Filter out fields you're not allowed to see when hydrating :target
Add failing test for #3867
Failing test for #3888
'All Users' greater permissions warning tooltip
use predefined relative date picker for dashboards
Add tooltips to special permissions groups
misc aggs fixes/cleanup
Don't try to convert 'rows' to custom expression
Make start script for docker retain JAVA_OPTS
since an aggregation isnt used initially dont make it requred
strip logging
dont try to get the short name of a null
use correct value (#3880)
bump h2 version (#3881)
Tests for running cards in collections :100:
persist values for between (#3879)
Collections backend :card_index:
Math aggregations initial implementation
[ci drivers] token change to test drivers
Include :can_write with GET /api/card/:id
fix alignment (#3865)
search results page [ci skip]
add to dashboard
move collection
v0.21.0-rc2
new collections [ci skip]
Add minute time grouping, week filtering, and tweak date operator/oeriod select chevron
misc fixes
update viz docs [ci skip]
wip
Consolidate TableInteractive CSS
unit tests
add some permissions clarifications too [ci skip]
attempt to clarify dashboard filters [ci skip]
upgrade version
only return fields that are used
Make sure empty groups come back with GET /api/permissions/group :wrench:
hover
wip [ci skip]
destructure event [ci skip]
wip - search actions and animation [ci skip]
wip - the wip continues, long live the wip [ci skip]
wip - more [ci skip]
wip rearrange [ci skip]
wip - split up components [ci skip]
wip [ci skip]
reenable tests
temporarily disable e2e tests as they broke master when the new time filters stuff went out
fix test
re-order deps
do it the other way
indentation
Re-enable e2e tests
snakes for life
reorder deps
time filter improvements (#3750)
style fixes 2
run dev with one command (#3811)
Misc Visualization.jsx fixes
style + logic fixes
Enable table canvas hack, fix horizontal scroll issue, upgrade react-virtualized
use a different lambda gateway
Hide table header scrollbars, add debug way to toggle canvas hack
fix relative timefilter bugs
unhang
some basic tests 2
some basic tests
remove unused function
cams comments 2
some fixes for cam 1
Eliminate another layer of DOM elements in table view
Only scroll AccordianList to selected element if it's not visible.
fix bikeshed errors
lint error fix
cron this puppy up
Warning tweaks
SQL expression aggregations support :1234: [ci drivers]
Test fixes & cleanup [ci drivers] :wrench: :shower:
fix lint errors 2
fix lint error
figure out where the jar is running
figure out where its running
hide private functions
characterize by latency
add instance start date
friendly emails + sso
moar stats collection + api endpoint
changed psql port of CrateDB in test suite
removed between filter since this is released with Crate 0.57
update crate dependency to 2.1.1
update wording to CrateDB and added "HowTo" docs to administration guide
Break metabase.query-processor-test into separate namespaces
Druid Expression Aggregations :1234:
Table perf
spacing
react-virtualized version of Table visualization
Show column name in unaggregated warning
Add MB_EMOJI_IN_LOGS option for disabling emoji
Parse BigQuery ints as longs [ci drivers] (Credit: @felipegasparini)
first stab at some anonymous usage tracking
Button component propTypes
Switch DownloadWidget to function component
Update frontend to match csv/json endpoint changes
OS X support for new DownloadButton
Change param for card CSV/JSON download w/ params & add tests
JSON download button
Move FieldSet to metabase/components
Don't barf if ./bin/version doesn't work during dev
Reënable day-of-month date grouping option (credit: @tbatchelli)
Support postgresql:// db connection URLs
change logout to sign out [ci skip]
lint fix
Handle additional options for Postgres as well [ci drivers]
Allow custom MySQL JDBC connection string params
send-message -> send-message!
Change row warning copy to 'Showing first X rows'. Resolves #2475
Add warnings when graphing unaggregated data or truncated rows
rip off cams comments
Don't return inactive users with permissions endpoints :wrench:
revert to known good sqlite driver
Add 'Edit Settings' button when chart requires user picking settings
Remove unused :make-pool? option [ci drivers]
Don't download Oracle/Vertica JDBC drivers unless testing them [ci drivers]
Vertica Driver :tada: [ci drivers]
Format field names with parent field names, e.x. nested mongo fields. Resolves #3173
Show missing field warning in QB when field is missing. Resolves #1986
Cancel the query when initializing a new question or navigating away from the query builder. Resolves #3416
Don't re-run query when card is created/updated
If the card is dirty use the MetabaseApi.dataset endpoint instead of CardApi.query
GET /api/card/:id/json endpoint :100:
Google Analytics Driver :bar_chart: [ci all]
print stylesheet (#3670)
Test typo
Misc humanization tweaks
Misc map settings tweaks
Initial cleanup of admin settings code + consolidate map settings
Check that version is equal to or newer than latest published version. Resolves #3658
Consolidate radio button components, use for stacked chart setting
Let user create a new dashboard when adding a question to a dashboard (#3598)
Reset QB state immediately so we don't see old data when navigating away and back
Misc qb cleanup, no reason to pass services down as props. These should be redux actions anyway.
Stacked option copy tweak
lines betweek functions
code chiropracticery
fix things
mark email types
Add 'Email' type + formatting on frontend. Needs sync support.
Add 'Email' type + formatting on frontend. Needs sync support.
Use formatValue in ObjectDetail for things like dates and URLs
Linkify URLs in table view, object detail, etc.
Add field.js query lib
Order by + misc multiple aggregation fixes
Adds support for reading authdb if supplied, defaulting to dbname
Adds authdb field to MongoDB configuration
Breakouts + misc cleanup
Aggregations
Start cleaning up / typing query library
Multiple aggregations frontend
Backend support for multiple aggregations :100: [ci drivers]
Usable table column enable/disabling with default disabled for "detail-only"
Use formatValue in ObjectDetail for things like dates and URLs
Initial implementation of normalized stacked charts
Add a e2e test for settings, use nice webchauffeur webdriver wrapper [ci e2e]
Linkify URLs in table view, object detail, etc.
Simpler hasMultipleSchemas calculation
oops...
Minor docs formatting [ci skip]
Remove Google Maps script
Remove Google Maps setting, add tile server URL setting.
Fit map to bounds by default
change to ems [ci skip]
add letter-spacing to text-uppercase [ci skip]
Refactor leaflet pinmaps into their own  components
Port PinMap to Leaflet
Rename viz settings functions to be more clear
getColumnCardinality test
More types
v0.20.3
Test fix :wrench:
Copy list of already-ran data migrations when loading from H2 :wrench:
Remove old disabled JAR packing code :shower: [ci all]
More cleanup :shower:
Rename publish-event -> publish-event! :shower:
Remove unused API endpoints :shower:
Add tests for POST /api/card/:id/query/csv :100:
Cache cardinalities in a weak map instead of mutating potentially immutable column object.
Update version tag -> v0.20.2 [ci skip]
Configure CircleCI to only notify on master and release-* branches
Switch from deprecated eslint-plugin-flow-vars to eslint-plugin-flowtype [ci e2e]
Use /api/card/:id/query/csv for CSV downloads
Update bin/heroku/deploy to use node buildpack branch with yarn support
Indicate H2 file might have h2 or mv suffix in docs [skip ci]
New POST /api/card/:id/query/csv endpoint :yum:
Correct H2 filename in docs
Make command-enter run the query
Add api-documentation command :page_facing_up:
Use schema for API endpoint param validation :white_check_mark:
Remove a couple more references to Angular
Get rid of AngularResourceProxy, make names consistent
Update to yarn 0.16.0 [ci all]
Remove last bits of Angular 😻
Add default values for row and col to create-dashboard-card! :wrench:
Don't round small numbers to 0 in compact scalar format. Resolves #2866
Update version
Tag release-0.20.1
address comments
update slack docs [ci skip]
Upgrade eslint
de-nitting
cause tirefires
Remove extra Underscore flow declaration
Misc clojure cleanup
More emphasis around warning against using H2 in production :warning: [ci skip]
Update old hydrate documentation :page_facing_up:
Shave another second off of Metabase launch time :racing_car:
handle order-by for select queries
Be more aggro
Respect METABASE_PASSWORD_LENGTH and METABASE_PASSWORD_COMPLEXITY :wrench:
Tell flow to ignore json files in node_modules test directories. https://github.com/facebook/flow/issues/1420
Use table.fields instead of Object.values(table.fields_lookup) ಠ_ಠ
Add a unit test :100:
Hide native parameters unless db has native-parameters feature
Improve alert styling
Hide cursor if editor is read-only. Consolidate and cleanup editor CSS
slack-token marked as required on front and backend, validation interpreting 'false' as empty. Resolves #3518
Add new version command :1234:
Remove log
User nicer modals for alerts
Remove unused :require in metabase.core :racing_car:
Add `lein profile` alias w/ extra JVM flags :racing_car:
Add profile util fn :racing_car:
Lint fix :shirt:
Hide special group actions menu. Resolves #3517
Make native query editor read only if user doesn't have write permissions. Resolves #3514
Reörganize Metabase commands and add profile command :page_facing_up:
Add new initial log message :page_facing_up:
Add -Xverify:none when running from dev or Mac App :racing_car:
Add unit tests :yum:
Add CIRCLE_BRANCH_REGEX environment variable to CI script to allow enabling all CI tests on certain branches. Default to master and release-*
Shave 2 seconds off of launch time :racing_car:
Try replacing npm with yarn [ci all]
fix formating
Names aren't a type of Address :sweat:
More permissions instrumentation
instrument group membership addition and deletion
Add extra logging for DB setup during launch :page_facing_up:
Add valid check sums :white_check_mark:
fix image url [ci skip]
update blank guide screenshot [ci skip]
revise doc per changes to feature [ci skip]
shortened sql remarks for consistency with MySQL 5.1
gsg fixes (#3488)
gsg empty state round 2 (#3499)
Revert "getting started guide empty state fixes" (#3498)
getting started guide empty state fixes (#3491)
permission tweaks (#3458)
Remove !important
Add a clarifying comment
Comment about resetting parameter values
Don't show raw data aggregation in metric creation
fix broken image and improve sections.png [ci skip]
add docs for GSG [ci skip]
update icons to fix visualiztion spacing (#3489)
Make bar chart hover consistent with other charts. Resolves #2751
Move admin/datamodel/metadata.js to admin/datamodel/datamodel.js
Misc e2e fixes [ci e2e]
formatValue tests + lint fix
Don't show 'qbnewb' modal more than once. Resolves #3078
Remove Zip type, should be ZipCode
Data model no longer filters out unix timestamp options for non-numeric base types
Data model foreign key target selection doesn't appear
Don't reload dashcards that have unmapped filters. Resolves #3339
Show db name in SQL editor if you have a single DB. Resolves #3466
Enable login redirect test; Ensure we're on the right domain before calling deleteAllCookies. [ci e2e]
Add unit tests for visualization title [ci e2e]
Visualization propTypes
Lint fix
Make sure we show card titles in error/loading/etc states
Remove faulty funnel checkRenderable for now
Ensure we show the generic error on dashboards, unless we're given a specific error in props (e.x. permissions)
add links in doc to related docs [ci skip]
add docs for perms [ci skip]
Refactor e2e tests and fix a couple [ci e2e] [ci screenshots]
Use recompose/pure instead of recompose so we don't include everything
Move webpack-dev-server config to webpack.config.js
More concise error logging :warning:
Test fix :wrench:
Druid timezone fix :wrench: (credit: @moumny)
Remove timezone workaround for moment 2.15 bug since reverting to 2.14 is better. Update shrinkwrap.json to get moment 2.14.
Bump dependencies :fist:
Don't set default value for visualization settings :broken_heart:
Dashcard visualization settings :control_knobs:
Heed MBQL '98 warnings :warning:
Minor cleanup :lock_with_ink_pen:
release 0.20
Permissions test suite :100:
Minor cleanup :shower:
Frontend support for unauthorized/empty dashcard cards + change backend to return { id: card_id } for unauthorized cards.
Remove unreadable cards and series from dashcards :eyes:
Move qb components into components directory
Show dashcard remove button even when loading/slow indicator is visible
Default metabot to off
Reset dashboard state when loading a dashboard
In SQL editor don't show dbs the user doesn't have native write permissions for
Minor code cleanup :shower:
Add :native_permissions column to dbs in GET /api/database :heavy_plus_sign:
Remove extra whitespace :shower:
Make druid driver output timezone in +HH:mm instead of +HHmm
Revert "Preseve timezone when converting Date to moment"
Remove final vestiages of old perms system :closed_lock_with_key:
Permissions groups v1 :lock:
fix typo [ci skip
Remove old Angular hacks
Triggering a minimal build
Preseve timezone when converting Date to moment
parse +-hhmm timzones
Balance ci nodes a bit. [ci all]
Disable lein test2junit since it doesn't work with expectations. [ci all]
Refactor ci script [ci all]]
Use junit xml reporters so Circle can report them more better
Remove old Query spec
Upgrade flow, fix errors [ci all]
Upgrade flow-bin and cleanup / fix various types
Add [ci all]
Add flow to ci, cleanup logging
time each ci step [ci drivers] [ci e2e] [ci compare_screenshots]
Disable driver and e2e tests by default (except on master), enable with [ci FEATURE_NAME] (drivers, e2e)
Test case for Postgres foreign data wrapper support.
editor-proof fix
add spaces around segment + table names
Even more robust wonky type fixing :wrench:
Annotate test names. Catch errors in cleanup()
tweaks
Disable some failing tests
Add 'FOREIGN TABLE' to the types of tables we sync in order to support Postgres foreign data wrappers. Resolves #1468
fixing zen.md link
Kanye for president 2020 :us: [ci skip]
kanye for president :flag-us: :two::zero::two::zero: [ci skip]
Remove unused tables and columns :boom:
Add exclamation points to some DB fn names to denote side effects :tophat:
Use includeAll to automatically include all liquibase migrations :yum:
fix lint error
update title
merge
GeoJSON test fixes :wrench:
resolve-private-fns -> resolve-private-vars :shower:
Last CI fixes
Frontend lint fixes
Disabled sections shouldn't have 'cursor-pointer border-brand-hover'
CSS fix/cleanup
Add 'Sample values' to geojson property selecr
Change geojson settings names to friendlier descriptions?
Tweak GeoJSON property selector CSS. Move Updates tab up.
Cleanup geosjon loading/error logic.
Goal toggle setting
Colors setting title
[skip ci] this seems to clean things up 2
[skip ci] this seems to clean things up
Support Mongo BSON IDs :water_buffalo:
Update auth scene (#3343)
[skip ci] undo bad fix
[skip ci] fix block quotes
Use native Dates instead of Moments in LineAreaBarRenderer for improved performance
Test fix :wrench:
Frontend test fix :wrench:
Update sample dataset to use newest _metabase_metadata :yum:
Add some frontend unit tests for STRING_LIKE :100:
Add new :type/TextLike for things like 'inet` that aren't text per-se :sunglasses:
Support postgres 'inet' (IP Address) type :information_source:
More robust viz fade out when resizing
Improve styling and error handling of custom maps settings
Test fixes :wrench:
Frontend fixes :wrench:
MongoDB fixes :wrench:
Disable leaflet pan/zoom for now
Test fixes for Postgres + SQL Server :wrench:
Implement Leaflet choropleth, use for custom geojsons
simplify template and add context (#3336)
Make sure to use TYPE everywhere in frontend :yum:
only use wordCount if 'children' is a string (#3335)
Try fading out viz while resizing
Add H2 checkbox [ci skip]
refs #2926: Funnel implementation (v2) - fixed gridSize unspecified on preview mode.
Hierarchical types frontend implementation :taco: [WIP] [ci skip]
use tooltip for descriptions on entity pages (#3317)
Hierarchical Type System (Second Try) :two:
Don't switch from progress viz every time query is run
Hide sidebar on getting started guide
edit cleanup
refs #2926: Funnel implementation (v2) - introduce hover effet and standardize tooltip code.
refs #2926: Funnel implementation (v2) - split TootltipTable component
refs #2926: Funnel implementation (v2) - fixed HTML tags used in popover
refs #2926: Funnel implementation (v2) - small version.
refs #2926: Funnel implementation (v2) - initial.
fix purple button style
fix ,
Improved bin/heroku/deploy script supports tags etc
Stop the insanity :scream_cat: :gun:
Remove field-type from Druid test code :shower:
Cleanup in prepartion for new hierarchical field types :shower:
wip
further fixups
more fixups
fixup
Clarify that OS X docs are not for development :yum: [ci skip]
Clarify that OS X docs are not for development :yum: [ci skip]
Linkify prereqs :yum: [ci skip]
Remove migrate down command :arrow_down:
Make things that should be private private :lock:
Add missing punctuation :pencil: [ci skip]
Make sure field-ids is non-empty / fix API 500 :wrench:
Expontential backoff for Metabot reconnection :back:
Remove debug logging :page_facing_up:
Minor cleanup :shower:
Use comp where possible in middleware :lightning:
A tiny bit of cleanup :shower:
Further clarify Issue template :information_source: [ci skip]
Further clarify Issue template :information_source: [ci skip]
Further clarify Issue template :information_source: [ci skip]
Update ISSUE_TEMPLATE.md
merge
cleanup and refactor
Oracle driver documentation :page_with_curl: [ci skip]
Add Druid, Crate, Oracle to list of supported DBs :page_with_curl: [ci skip]
More efficient batched hydration :car: :checkered_flag:
Fade out dashboard cards that don't have all active filters applied (#3212)
[ci skip] Tweak Markdown formatting for developer's guide (#3270)
auto populate email for forgot password page (#3273)
Pie: hide percent in tooltip if metric is named percent
Progress scaling
Goal label + tooltip
tweak bubble size, implement/cleanup tooltips, fade out on hover, disable clicks
More tweaks to improve reliability
Added workaround for uncatchable findElement errors
Added bar chart test
Add some extra comments explaining how Oracle tests work :pencil:
Add some extra comments explaining how Oracle tests work :pencil:
Adding line chart to dashboard, more tweaks to improve reliability
Clarify comment about "shameless hack" :computer:
Cleanup #2872 :shower:
Added line chart test, trying more things to combat brittle tests and improve debugging
Add entry for .jsx files :file_folder:
appease the pedants
updates
remove whitespace
fixes #3263
Updated screenshot function to hide moving elements and blur input
Final test fix; set OS X app plugins dir :wrench:
Oracle driver :car:
Waiting for segments and metrics list updates, removing init fixture db
Using valid session_id cookie from previous tests for login tests
Trying running tutorial on default fixture db
Try using new db instead of fixture db for signup test
Added query builder pivot table test
More cleanup :shower:
Initial frontend implementation of custom maps
Added admin datamodel tests
Minor cleanup :shower:
Waiting for modal to appear before screenshotting
Trying a different implementation
Added error handling for waiting for already removed element to be removed
Added admin user management tests
update slack instructions to refer to Bots not test tokens
Custom GeoJSON setting + proxy endpoint :globe_with_meridians:
fix copy to not refer to a master password
Add test GeoJSON file [ci skip]
Cutting short query builder e2e test for now
More minor cleanup :shower:
Add pie chart slice threshold setting
Minor settings cleanup :shower:
Increased tutorial timeout, handling error case to get more debug info
Added trigger id for popovers with triggers
Also adding screenshot capture
Taking a look at log output on ci fail
Trying even longer timeout
Use longer timeout for query run
Added more possible workarounds for intermittent click failures
Added ids to querybuilder elements to make selectors less brittle
Refactored common patterns into utils, waiting before clicking elements to make tests less brittle
Added query builder tutorial test and add db steps to sign up test
Change class name [ci skip]
Veritcally align progress bar viz
Scatter
Added setup tests
Refactored shared code to support directory
Initial progress viz
Create higher-level .text-reading class [ci skip]
Don't log API calls to /health or /util/logs :pencil:
Stop using legacy H2 storage engine :imp:
[ci skip] you and your facts
npm shrinkwrap [ci skip]
Hiding expand/collapse arrow for segment selector in guide editor
Hide single section title instead to avoid unlimited list height
Always expand table selectors list to hide expand button
Removed redundant css modules classes
fix checks
Hiding edit button from non-admins
Various tweaks backported from permissions :lock:
Added height transition on save question modal fields
Use lighter grey for unselected radio
Added custom styling for radio inputs
Tweaked dialog text
Tweaked save question default mode and change behavior
Implemented important fields editor for metrics data-ref pages
Added important fields display to metric data-ref pages
Adjusted spacing above edit labels
Only show close button when form inputs have changed
Added empty placeholder prop to select component and disabling when empty
Switched title links to query_builder links
Adjusted guide item title max-width
Added edit labels
Implemented collapsed state for all sections
Implemented collapsed and disabled states for dashboard section
Added collapsed section component and dashboard create modal
Update path to deployment file
Chart setting <select> cleanup
Added fixes for instances with no databases
Goals on line/area/bar charts
v0.19.3
Added explore by links for metrics
Implemented metric field updates
Include metric_important_fields with /api/getting-started :yum:
Added select disabling behavior
screenshot thingy
Saucey
Addessed webpack warnings
Added metric important fields multi-select
Augmented select component to enable multi-select functionality
Implemented disabling items for simple selectors
release-0.19.3 branch
Centered data selector popover
Show segment picker when segment is selected
Disabling items when selected elsewhere instead of removing them
Widen and slightly move Undo notification to fit longer text
Improve Archive and All Questions empty states
Remove exclamation point [skip ci]
Move npm install into circle dependencies
Try disabling minification
Added segments and tables details display
Added tables and segments data updata from getting started guide
Implemented filtering out already selected segments and tables
Wired up details fields change on segment/table select
Styled dataselector for editor view
Integrated dataselector into details editor component
Extended DataSelector to support segments selection
Added data selector from querybuilder with correct props
Only allow fields up to number of current metrics
Implemented metrics removal, fixed lingering edits after cancel
Implemented removal mechanic for dashboards
Added remove button and related styling
Only reload guide data if edits were made
Added contact name and email updating
Implemented things to know updating
Hiding empty sections from guide details view
Added loading indicator for getting started guide
Disabling caveats, points_of_interst textarea when nothing is selected
Changed getting_started endpoint to return ids only
Added dashboard update on submit
Wired up add metric and add segment/table buttons
Implemented segment & table unified editor
Implemented dashboard and metric textarea change on selection
Populating guide edit view selects with real data
Fetching getting started guide data from backend
Refactored generalized data fetching and updating function to redux lib
Added hardwired links on details page
Removed see all link for dashboards
Possible fix for persistent horizontal scroll bar
Adjusted font sizes to better match other data-ref sections
Finished adding edit view basic components
More tweaks to guide left padding layout
Added things to know and questions
Added explore links to guide details
Polished details common items styling
Tweaked header-content alignment
Tweaked title font weight and link color
Refactored edit button into component
Added getting started guide header and detail components
Added empty guide detection
Add edit header to getting started guide
Added separate empty state component for getting started guide
Screenshots
install latest chrome on circle
1st attempt at CI integration
Update path to sample dataset on launch in case JAR moves :pouting_cat:
v0.19.2
Cleanup e2e test harnesses, implement a couple tests
Quantitative X/Y scales, general cleanup
Quantitative X/Y scales, general cleanup
v0.19.2
Update version to 0.19.2-snapshot
Cleanup/fix chart title logic. Resolves #3146
Reverse the z-index of stacks so 0 points don't appear on top of non-zero points. Resolves #2771
Fetching metrics/segments and their revisions in parallel
Bump dc+d3 versions
PropType fix
Add 'missing value' setting + fill 'missing' values
Refactor timeseries axis in preparation for more settings
explicitly tag things
clarify OS X release steps :yum: [ci skip]
clarify OS X release steps :yum: [ci skip]
clarify OS X release steps :yum: [ci skip]
clarify OS X release steps :yum: [ci skip]
clarify OS X release steps :yum: [ci skip]
clarify OS X release steps :yum: [ci skip]
clarify that updating perl might not be needed for OSX build scripts :yum: [ci skip]
Update developers-guide-osx.md
fix OS X build/release steps :yum: [ci skip]
fix OS X build/release steps :yum: [ci skip]
fix OS X build/release steps :yum: [ci skip]
fix OS X build/release steps :yum: [ci skip]
Update developers-guide-osx.md
Moar test
bump to 0.19.1
fix #3105: Title in User guide page
fix #3107: code block indentation in docs (H2 to PG)
fix #3106: bullet points in database list
Add parameters to CSV download
Refactor qb/dash dataset_query parameterization
Added onclick functions to fields to group by
Remove formula from edit views
Added fields to group by new styles
Refactored QueryButton into common components
Remove QB logging
Make updateUrl an action
Remove console.log
Angular deps cleanup
Add bracket/paren/braces matching to SQL editor
Misc frontend fixes
s/Single Sign On/Single Sign-On/
Add Google auth to Admin Guide toc
misc auth fixes and cleanup
End-to-end tests using Jasmine + Webdriver
Add SQL Template docs to index
v0.19.0
Change version to v0.20.0-snapshot
Instrument chart settings
Ensure QB doesn't reload when saving
Replace Angular routing with react-router, react-router-redux, redux-auth-wrapper. 🎉🎉🎉 FINALLY 🎉🎉🎉
Refactored table selector to allow for getting table by metric and segment
Refactored header styles into ReferenceHeader.css
Refactored fields list to use edit header component
Refactored edit header into separate component
Refactored details view to use ReferenceHeader component
Refactored fields to group by to new component
Refactored useful questions into separate component
Refactored field type details into separate component
Added tests for getQuestion utility function, refactored non-selectors into utils.js
Only show filters when filters exist
Added vertical margins for Formula viewer
Updated formula expansion animation (still really choppy)
Added metric and segment formula viewer
Added unstyled query/segment definition
Added group by links to query builder
Rename pie chart dimension and measure
Added fields to group by for metrics
No longer need every routeProvider.when. Remove misc unused code
Adjusted table & fields actual name color
Adjusted header links font
Added subset of link to segment subheader
instrument data reference (#3051)
fix
Added alternative visualizations for field questions
merge
add instrumentation for sql params (#3017)
Add a few new quotes :speech_balloon: [ci skip]
fix
fix
don't remove useful things like setquery goofus
Rename "Dimension" template tag option to "Field filter"
instrument data reference
use data-event
Disable broken 'try it' button for dimension example
use data-event
Remove unused MetabaseCore service
Implement dashboard actions/reducer for Navbar
More Angular murder
Add onClose to About modal
Add onClose to qb modals
OnClickOutsideWrapper fixes
Add onClose to admin/settings modals
Use our own OnClickOutsideWrapper in place of react-onclickout everywhere. Remove dependency.
Implement onclickout functionality directly in our OnClickOutsideWrapper. Resolves #3023
Added questions for segment fields
Added fields questions
Added questions for count of tables and segments
Updated useful questions icon styling
Programmatically adding useful questions
Added useful questions links
Forward style prop to LoadingAndErrorWrapper root element
Quick fix for keeping main element classNames up to date when switching routes
Remove some logs
Change Variables button tooltip to 'Variables'
Switched BooleanField icon to I/O icon
Lint fix
Only transform to multiseries if metrics.length > 1
Added checkmark icon as placeholder for booleanfields
Add issue stats badges :shield: [ci skip]
Cleanup scalar formatting, disable currency menu
Removed logging from fields list
Expel errant dimensions and make things useful instead of important [skip ci]
Some cleanup and updated image [skip ci]
Google Maps API key setting
Map field validation
Rename field -> column in viz settings
Add currency scalar option. Close color popover when clicked
Remove deprecated expect-eval-actual-first macro :new:
Remove expect-eval-actual-first from metabase.api.table-test :new:
Remove expect-eval-actual-first from metabase.api.user-test :new:
Remove expect-eval-actual-first from metabase.api.setup-test :new:
Remove expect-eval-actual-first from metabase.api.session-test
Remove usages of expect-eval-actual-first where it wasn't needed :new:
Remove expect-eval-actual-first from metabase.api.field-test :new:
Upgrade HoneySQL :new:
Bump dependencies :new:
Remove final usage of expect-let :tada:
Remove expect-let from pulse-test :yum:
Scalar settings
Remove expect-let from metabase.api.user-test :yum:
Bump angular version to fix infinite digest issue in QB
Add chart options info to docs [skip ci]
Disable chart settings on dashcards for now
Minor tweak for email settings validation :mailbox_with_mail:
Cleanup 'visualizing results' dox :page_facing_up: [ci skip]
cleanup viz settings
Misc cleanup
additional instrumentation
Cleanup icons
Data ref icon cleanup
remove console log
Turn logging level for re-humanization down in tests :ear:
Rehumanize field names; only rehumanize non-custom names :yum:
Additional re-humanization tests :yum:
prevent header modal content from showing in full screen
Round the value returned for distinct count by druid
Cache the sorted group
typo
fix crash
Remove unused components
Extra tests & minor tweaks for settings :heart_eyes_cat:
Docs for sql params
cleanup enable-advanced-humanization description :shower:
Remove legact settings system, improve numeric input, fix map.zoom setting
Frontend implementation for de-humanization :skull:
tweak animation
Backend implementation for table name re-humanization :bird:
tweak layout
Remove unused function :yum:
Add :json type settings :yum:
Split ChartSettings components up into their own files. Add table field list grabber + style
Frontend tweaks :wrench:
Switched segment/metric emtpy state actions to docs link
add documentation for google-auth (#2994)
Remove debug logging :bug:
add instrumentation
Test fixes :wrench:
Only show schema headers if more than 1 exists in database
New settings framework [cont.] :wrench:
Remove stray log
remove setLatitudeAndLongitude
Combine map visualizations + implement new chart settings
Minor cleanup :shower:
Close modals / popovers with the esc key. (#3008)
Updated schema separator test with correct expectation
Added placeholder test for table schema separator
Refactored table schema separator logic to utils
Made input styling more consistent with existing input style
Added schema to table header
Added tables schema separator
Settings Framework Improvements :heart_eyes_cat: [wip] [ci skip]
Cleaner implementation of settings-list :shower:
Remove last use of getDOMNode() for compatibility with React 15
shrinkwrap
Table settings
React v15
Misc chart setting refinements
Field selection polish
Change 'add another' text. Swap existing field
Implement field selection for line/area/bar, colors, and misc other improvements
Added see this x link for tables, metrics and lists
Renamed Item component to ListItem
Updated field with simpler select implementation
Reset Select.jsx to version from master
More cleanup/consistency/refactoring
Misc refactoring
Make sure all tags get an id so parameter values work correctly
Show default value in parameter widget, don't allow reset if using default
Make text parameter input widget commit immediately in QB
Don't run query when updating a parameter
Cleanup QueryBuilder isDirty/isNew props
New variable icon
lint fix
use for instead of map
typo
Move template_tags from dataset_query to dataset_query.native
Add id to tag/param, preserve template_tags when switching between dbs
Use ParameterValueWidget for default values, cleanup styling
Misc cleanup/fixes
Reüse BigQuery test databases between tests :recycle:
fix next step icon (#2976)
Adjusted field type column padding
Added tests for non-trivial selectors
Added utils tests
Ensure the 'try it' buttons use the real sample dataset. Hide them if no sample dataset exists
Simple script to deploy current branch to Heroku
Implement tag help
Refactored data fetch and update functions into utils.js
Slightly tweaked empty state message width
Moved utility functions in metadata to shared redux lib
Removing never used large button class
Renamed updateImmediately to changeOnSelect for clarity
Cleanup indentation :unamused:
Test fix :grimacing:
Test fix :wrench:
Removing unused circle class
merge master
Add chart settings to dashcard
Refactor ChartSettings to take 'series' prop instead of card+data
Change Triggerable to inject onClose automagically
More graph + pie chart settings
Reverted hardcoded empty state for lists
Updated backend tests to add missing new fields
Test fix :broken_heart:
Clarify Metabase backing DB vs data DB :information_source: [ci skip]
make CLA requirement a checkbox :white_check_mark: [ci skip]
Ultimate timezone fix! :timer_clock:
Implement more chart settings
Added width limit to empty state message
Added revision message modal for lists and metrics
lint
Initial stab at chart settings
Test fix :wrench:
Align title text input to top when editing
Updated getting started guide placeholder view
Adjusted empty state to align to top with 75px padding
Restored getting started guide route and section
Prepopulating metrics and segments when asking new question from empty state
Added ellipsis to list item titles
[skip ci] appease fascists part 7.
Convert IDs in dashboard params from String -> Number :1234:
Added icon background, ellipsis and popover for lists and fields
Added icon background, ellipsis and popover for details title
[skip ci] appease fascists part 6.
[skip ci] appease fascists part 5.
[skip ci] appease fascists part 4.
[skip ci] appease fascists part 3.
[skip ci] appease fascists part 2.
[skip ci] appease fascists
[skip ci] new questions in faq
Test fix :wrench:
Adjusted fields list fonts and layout
Showing breadcrumbs tooltip only when ellipsified, adjusted layout
Test fix :wrench:
disable timeseries when limit is set
Test fixes :wrench:
Using lighter text color for placeholder values
Added max-width of 550px for details and list items
Linty fix :shirt:
[skip ci] additional questions
WHERE 1 = 1 instead of WHERE 1 to make SQL Server happy :flushed:
Integrate settings panel
Simplify/refactor line/area/bar chart. Remove old geochoropleth code.
😳
Additional tests :yum:
Use correct timezone for param substitution :yum:
Cast date fields to date :yum:
Updated fields list editor with new header styles
Adjusted edit header style to match dashboard edit header
Handle dimensions in SQL params :yum:
Added placeholder breadcrumb and new segment icon
Changed table empty state questions to ask question directly for table
Updated empty state for segments, adjusted header borders
[skip ci] fix typos
Refactored details into separate component, tweaked styles
[skip ci] add a FAQ
Test fixes :wrench:
Remove old backend implementation of SQL params :yum: [ci skip]
Remove some debug logging :yum:
Wire up support for dimensions in SQL parameters :yum: [ci skip]
Adjusted horizontal rule position and reduced empty state illust size
Renamed Lists to Segments
Test fix :yum:
Extra logging to determine cause of CI test failure :broken_heart:
New parameterized SQL backend :yum: [wip] [ci skip]
refactor card dimension/variable functions, cleanup flow types
fix indent
Added tests for data fetching and updates
Removing duplicate emoji icon component
Refactored out duplicates of shared components
Added empty messages for other lists
Added empty states for metrics and databases
Added data type and field type to field details
Added how this is calculated to metric details page
Added icons for question lists
Added workaround for angular react-router redirect loop
Added description to questions list
Added error and loading indicators for fields list editor
Updated details editor to use new loading & error
Updated components to use new loading & error implementation
Switched to a simpler loading indicator implementation
Updated put endpoints to support updating caveats and points_of_interest
Added field table multi updates
Handling corner case for table with missing primary key
Added field table headers
Added foreign key selector
Implemented foreign key show/hide logic
Wire up field picker for dimension template tags, and add dimension template tag support to parameter mapping
Updated custom select component to allow for immediate updates
Integrated redux form with custom select component
Added field type selectors to field edit view
Added workaround for fetching race conditions
Added field view & edit table layout
Added separate fields list component
Refactored breadcrumbs implementation
Rename more template tag files
Rename SQL parameters to template_tags, wire up pseudo-parameters
Allow somebody to update DB descriptions :page_with_curl:
Add -server to JVM options :yum:
Add caveats field for Metric :yum:
Send email to *all* admins :email:
Query visualization cleanup (#2944)
Test fix :wrench:
Minor tweaks :email:
Adjusted revision top padding for consistency
Hiding revision history for non-admin users
Wire up new user notification email :email:
Only show edit button for admins
Added header icons for lists and details views
Switched out placeholder icons in sidebar
Added new icon paths for data-ref
Added breadcrumb tooltips
Updated broken links in Metabot docs (#2948)
Removed naive breadcrumb layout in favor of flexbox
Implemented sidebar styling for breadcrumbs
re-arrange color pallete (#2951)
track auth events (#2941)
Removed debugging statements for revisions
Added revision history validation
Adjusted edit button layout again
Adjusted edit button spacing
Styled edit button
Added icon placeholder spots for list titles
Finished styling edit header
Styled edit button and title input
Reënable Crate tests :scream_cat:
Added style for details editor textarea
update pulse test text (#2928)
use color harmony for more than 5 slices
Removed unused function
Updated questions list to use existing filter/aggregation checks
Added details editing for metrics and lists
Generalized data update for all sections
Implemented details editing for databases and fields
Readded fetch condition for tables
Normalized fields data to top level metadata reducer
Google auth v1 :lock: (#2818)
updated jdbc client to be compliant with 0.55
Implemented details editor for tables
Refactored requestState and data fetching routines
wip
Disable crate tests for now :broken_heart:
basic structure
Hooked up redux-form based edit mode
Add some notes :notes: [ci skip]
Getting Started Guide Backend :information_source:
user joined notification template
Added editable fields to details items
Added edit button and begin/end edit mode
Moved edit functionality into details viewer
Added editor routes
Removed tables revisions section
Added more details to details view
Added actual name in database to details view
Hiding gettings started guide section for now
Added revision history for lists
Added revision history view for metrics
Added data fetching for revision history
Added fields view for lists
Allow only up to 3 breadcrumbs
Added field details for tables
Added fields list
Code cleanup :shower:
Using different section titles when appropriate
Quick fix for CI error
Added questions view for tables, added missing data fetches
Refactored data fetching to support multiple fetches
Make sure to check for non-empty seq before using in SQL :in clause :broken_heart:
remove custom query executor
Added questions for lists and metrics
Make sure we have cards before we try to fetch favorite status for them :spades:
Added data fetching for lists
Further generalized metadata fetching and requestState
Added data fetching for metrics, generalized data fetching process
Added metrics and lists sections and routes
Add additional SQL param UI + misc fixes
Resolving merge conflict in shrinkwrap
Remove unused foreign key model :ghost:
Added table details view
Even more test cleanup :shower:
whitespace
Actually don't make unit->extraction-fn a const :cry:
Added dynamic breadcrumbs
Tiniest tweak for sync error logging :shower:
Added sections for table view
Refactored section ids to use full route path
Added basic styling for breadcrumbs
Added basic styling for detail views
Added table list
Refactored sections to use path as id
Rename rename loadTable to loadTableAndForeignKeys
fix Object detail page punctuation
use isomorphic fetch (#2853)
Log backing DB type during launch :rocket:
Cleanup reduxification of admin/settings
Don't show 'next step' section if there is no next step
Added description to details view
Added sidebar breadcrumbs
Update README.md
Logic tweaks for admin setup :information_desk_person:
Return integers when appropriate for Druid date bucketing :bathtub:
Added dynamic sidebar links
Added loading and error indicator, database details view
More test cleanup :100:
metabase.mock.* -> metabase.test.mock.* :100:
When metabase can't connect to its DB log DB type :cry:
Remove a couple lines that are no longer needed :yum:
Don't update Crate dependencies, they cause tests to fail :unamused:
Test fix :wrench:
Rework view-log-test to clean up after itself :crab:
Update activity feed tests to clean up after themselves :wrench:
Remove superuser checks from new endpoints :tophat:
Endpoints for listing all segments/metrics :chart_with_upwards_trend:
Moved dashboard metadata duck to top level /redux directory
Added generic list and item components
Refactored sidebar into shared component
fix missing querytype, timezone and compatibility with druid < 0.9.1
missing )
Use timeseries instead of topN for query with breakout by timestamp
Upgrading npm to latest v2
Bump dependencies :chart_with_upwards_trend:
move github files to own directory
Added missing component
Added database fetch
Bump Clojure JDBC version :honey_pot:
Resolving merge conflicts
Added entityid selector (not working, data is in separate store)
Extraneous console.log
Prevent native query editor from marking freshly loaded card as 'new question'
Hooked up entity list routes, still buggy
Added redux boilerplate for data reference
fix stable build link in readme [ci skip]
A little bit of cleanup
Clear out queryResult when initializing QB
make it possible to deploy a branch to heroku immediately
Minor cleanup for new korma replacement DB stuff :honey_pot:
Finish removing korma from load-from-h2 :honey_pot:
Cleanup for new transaction-related fns in metabase.db :honey_pot:
Remove korma from load-from-h2 :honey_pot:
Move sample dataset generation code off of korma :honey_pot:
Finish removing korma from main part of codebase :honey_pot:
Remove korma-entity from SQL driver protocol :honey_pot:
more work removing korma.db :honey_pot:
Move Korma spec functions to metabase.db.spec :honey_pot:
Lint fixes
/s/once/one
fill-rule hack on auth graphics
Just show extra version info if not a release version. Don't use tooltip
Removed mock failure, fixed inconsistent indentation
Refactored fetch error handling into function, added tests
Disable FlowStatusWebpackPlugin by default
Switch from using $routeChangeSuccess to $locationChangeSuccess since were have a single route now
Update outdated propTypes
Remove unused code
Refactored out redundant statements
Removed 504 error mock
Added error handling for dashboard cards
v0.19.0-snapshot
Minor DB serialization tweak :lock_with_ink_pen:
Removed empty line
Refactored out separate render container function
Made pulse card container function private
Added title and link for pulse cards with error
v0.18.1
Refactored function with destructuring, updated docstring and error message
Updated last instance of render-pulse-card
Updated other uses of render-pulse-card
More robust mbqlCanonicalize, just in case
Using when over if, fixed indentation
information about the mac application db
just in case
break things out for real
put image in the right directory
relative doc images
info on upgrading
Unit tests
Potential fix for x-axis ordering, #2527
Unit tests
Test fix :keyboard:
Add a test for druid :keyboard:
make necessary tweaks to prevent controller reloading when changing routes.  this introduces some new gotchas :scream:
Test fix :keyboard:
Update BigQuery native test to make sure types are checked :keyboard:
reset fix
forgot pass layout
clean up login app
add height context to parents
organize imports
Revert to using underscores sortBy which actually sorts numbers correctly ಠ_ಠ
Don't apply magic sorting to BigQuery native queries :imp:
remove other stale test.
remove stale test.
migrate auth pages (login, logout, password reset) over to global redux store + redux router.  also trimmed a bunch of unused angular stuff.
Cleanup and fix FieldName
move NotFound & Unauthorized pages to redux router.
move the QB into the global redux store + redux router
move Setup and User Profile routes to global redux store + redux router.
move the remainder of the admin routes onto the global redux store + redux router
move Homepage, Pulses, and rest of Admin Datamodel redux pages into the global redux store.
Expose the rest of the version info in a tooltip
tidy up some unnecessary code.
admin settings page angular -> redux
migrate table/field metadata editing from angular -> redux.
Update index of user's guide
clarify OS X release steps :yum: [ci skip]
clarify OS X release steps :yum: [ci skip]
clarify OS X release steps :yum: [ci skip]
v0.18.0
Revert removing API logs for now
tweak header transition timing
Avoid divide-by-zero when no query executions exist, and ensure we use the exact dataset query when fetching expected duration
tighten up some stray debug logging.
convert database editing code from angular -> redux.
Add query_hash column and indexes, use for /api/dataset/duration endpoint
Add database checklist description
Ensure the 'Done' button doesn't appear #2786
Don't detect D-M as D-M-M which causes multiseries header to be shown
Change version to RC
more refinements.
Add images to dashboard filters doc.
couple small tweaks.
Add documentation for dash filters and rearrange sections.
DB call counting :1234:
basic frontend for handling parameterization of native based cards.
release-0.18.0-snapshot -> release-0.19.0-snapshot :label: [ci skip]
Tag 0.18.0 as version 0.18.0 :label: [ci skip]
fix a couple small things.
re-enable our unit tests against native SQL substitution.
tweaks to unit tests after adding :parameters attribute to Card
re-enable parameter substitutions for native queries.
add :parameters attribute to Card
Temporarily disable metadata queries tests for redshift/crate :cry:
Commenting out consistently failing tests for now
Prevent quartz scheduler from phoning home to terracotta.org
Indentation fix :unamused:
More naming consistency :yum:
Indentation cleanup
Code cleanup :sunny:
Make state/country maps more robust to nulls. Resolves #2724
add an additional unit test just to make sure an admin can reset their own password.
minor code simplifcation :yum:
Minor cleanup :yum:
Use `case` instead of `condp =` (idiomatic Clojure) :unamused:
Add unit test for BQ native queries :yum:
invert conditional
slightly loosen api reset password logic.  only check for `:old_password` if it's a non-admin updating their own password.
go for a slightly lighter touch and still allow the user to modify their own details from the People admin page, except for removing themselves.
don't allow the normal People admin actions to be enabled on oneself.
fk filtering fix [wip] [ci skip]
fix up unit tests.
appease the linter.
Header modal animation
few more tweaks and fixes.
Scroll options list, add default icon
Ensure popover position updates when size changes
Better error message when fk-> is required :notes:
initial wip on data reference
Combine relative date filters metadata
Params spacing
Test fix :wrench:
additional tests.
Additional metadata queries tests :100:
Inject Heroku DB SSL parameters to fix upgraded databases
disable native parameter substitution until we are going to use it.
comments and formatting.
Lint fixes
prioritize things more clearly
Fullscreen parameters treatment
Hide action buttons when editing parameter mappings
Show mapping option section headers if there are any fk options
fix typos + clarify
Add filter icon blue on hover
ParameterWidget 'X' should have cursor-pointer and close popover when clicked
Close SingleDate widget when clickign a date
Improve dashboard 'no results' message logic
Use col.source to disambiguate dimensions/metrics. Resolves #2549
fix a bug in the SaveQuestionModal where we aren't properly checking if a card has a structured query before trying to generate a description for it.
Sort line/area/bar chart's xValues according to actual data sort direction, default line/area to ascending, don't default bar
Test fix :wrench:
Return column :source in QP results :information_source:
Replace original `lein h2` with the more useful one
fix reflection warnings.
fix bigquery :features so that we don't get nils
Don't be specific about RawTable type information :crying_cat_face:
Continue to show edit/remove buttons when editing another parameter, but fade them out
go back to clj-time 0.11.0
Better placeholder text when editing
Ensure category popover closes when set
Use native reset password dialog in Mac App :apple:
Parameter option type filtering, improved widget and popover
add code review guidelines
Add h2-with-db task to easily get a H2 REPL to your metabase.db
fix migration.
couple more updates on style/naming.
updated documentation and naming to clarify things a bit more.
formatting fix.
undo some of the QB parameters prototype work that we decided not to use.
Side by side filters
Add no_results message to dashboards
Don't show spinner when auto-refreshing
Show spinner when refreshing, fade card in and out
Show titles and warning when mapping multiseries
prevent incompatable card warnings from shrinking based on card title length
clean up after ourselves and remove the old QB code and route handling.
fix loading state scenario when loading a card by id + serialized card.  that situation is only possible when a card is being edited, so when it happens make sure that the user is dropped back into the same situation.
fix issue where visualization wasn't updating after data ref toggled open/closed.
Green text in parameter mapper
Change funnel icon to version with plus, remove circle treatment, add hoverstate to add filter popovers
Add a way to clear paramter mapping
Rework card data loading + misc other
Remove unused parameter mappings when saving dashcards
ensure parameter mapping header modal thing always covers nav bar
Don't show tooltip if target element isn't in the DOM
Ensure Tutorial is rendered twice so it can get the portal/page flag/modal targets from previous render
fixes for native query handling.
fix issue where ace editor was not updating mode to match current db properly.
move our DOM event listeners into our react component and out of angular's hands.
doh. underscores arent used in sorting =/ [ci skip]
bring issues the community can help on up to the top
lint fix
fix issue with postgres driver treatment of clob values, which was causing us to lose some data in the migration.
more cleanup + just jdbc directly for connecting to H2 database.
Check whether we should log HoneySQL form before doing so :honey_pot:
update clj-time to 0.12.0, add a bunch more unit tests for parameters date range calculationsa along with a couple fixes.
Test fixes :wrench:
support for more date ranges options.
Update URL when parameter changes. Use URL-safe ~ as date separator
Mapping options for fk dimensions + SQL parameters
if we are migrating to a postgres db we need to manually update the sequence values otherwise postgres will attempt to reuse values and we'll get PK violations.
multiple joins support :table_tennis_paddle_and_ball:
multiple joins support :table_tennis_paddle_and_ball: [WIP] [ci skip]
Implement all parameter widgets
fix issue with lowercasing of column name which was causing issues with postgres, which allows for strict casing on column names.
handle case where no email is configured
fix issue #2632 where self-referencing columns were causing FK constraint errors on migration.
move components to new directory structure
couple tweaks to remove redundant cloning.
Minor cleanup :beach_with_umbrella: [ci skip]
declobify results in failing test :imp: [ci skip]
QB running on redux.
Cleanup :yum:
Tweaks :yum:
we will expect a parameter :type of "date/*" for the various date widgets.
single date picker
Ensure field values are loaded up front
Non overlapping field value detection and field value widget
Better filter button + tooltip
Set default paramter name, show red border when duplicated
Don't blur cards when editing
Fade out cards with unmapped parameters. Ensure default parameters are used when saving. Ensure dashboard is reloaded when saved
s/cardData/dashcardData/ and key off of dashcard.id+card.id to avoid conflicts in parameterized dashboard
Cleanup package.json scripts
Ensure parameter mapping works even when parameters == null
Cleanup text parameter input widget
Move Dashboard to main React router / Redux store, add initial URL param and default values
only do parameter substitution on :native cards if the driver supports :native-parameters
Prepend info about query execution to SQL :information_desk_person: :information_source:
Dashboard filters working end-to-end!
Improved parameter editing flow
Don't require spaces between operators & fields in expressions
Small fix for new HoneySQL table-rows-seq logic :honey_pot:
updating structure of parameters to use `:target` attribute with specific structure for native parameters vs MBQL dimensions.
Crude ability to set parameter values, send those parameters with dataset query
Basic parameter mapping working end to end. Needs better dimension/parameter option logic
Initial DashCardParameterMapping
Add redux-devtools-extension integration: https://github.com/zalmoxisus/redux-devtools-extension
Disable Flow for production builds
Disable flow validation in CI
Export types
fix up database migration so that we get a proper NOT NULL column with the default value we want.  also some unit test fixes.
handling of :parameter_mappings attribute on DashboardCard
Initial dashboard filter adding/editing UI
fix up migration which was throwing an error.
api and db support for saving :parameters on Dashboard.
fixes #2553 by removing some of the flex and full-height css settings.  this creates a complementary UX issue where as the length of the content changes the sidebar background gets longer/shorter.  we'll address that separately.
hover states and spacing
update task descriptions
fixes #2660 by removing several single letters from the word dictionary.
fixes #2645 by returning an empty vector in the case where a query results in no rows.
Minor cleanup :honey_pot:
Move prepare-identifer to test protocol :honey_pot:
New impl of `field-percent-urls` that avoids full table scan :honey_pot:
Tweaks :honey_pot:
*data-loader* -> *driver* :honey_pot:
Additional tests for generic SQL introspection functions :honey_pot:
Remove some remaining Korma usages :honey_pot:
Switch drivers over to HoneySQL :honey_pot:
Wire up admin checklist to backend, add 'next step' panel on homepage
Bump dependencies :punch:
New `key-by` util function; eliminate some `select` variations
Add tests for Druid min / max aggregations using metrics :lightning:
more work on QP handling of parameters to flush out date range handling.
Partition admin checklist steps into groups :pineapple:
Remove korma from mostly everywhere; cleanup :honey_pot:
Remove unused post-insert :honey_pot:
Mongo test fix :honey_pot:
db/sel -> db/select :honey_pot:
Failing test for #2635 :broken_heart: [ci skip]
Deduplicate card IDs in query :spades:
Tell UnusedFilesWebpackPlugin to ignore 'types' directories
Tell UnusedFilesWebpackPlugin to ignore 'types' directories
Don't fetch *current-user* just to check superuser :racing_car:
Start adding some Dashboard types
start breaking out parameter pickers into different types [wip].
basics for parameterized SQL + some styling updates.
quick and dirty application of url params to card params.
quick implementation of dashboard filters using parameterized cards.
very quick implementation of parameterized cards.
Change BigQuery application name format :watermelon:
Add type mapping for MySQL SMALLINT type :scream_cat:
Slightly faster way of checking for hidden tables :ghost:
Make "triggered" a boolean in the response :watermelon:
GET /api/setup/admin_checklist endpoint :watermelon:
re-enable logging for API endpoints :pineapple:
Add return to fix MD typo
added Crate to supported dbs
Add some unit tests
Add unit test specific eslintrc
Cleanup Query types
Start implementing new (type-checked) Card, Query, etc libraries
Flow types for query
use proper download urls.
remove stray logging message and finalize couple missing touches from QB icon tweaks [ci skip]
small icon and positioning fixes [ci skip]
css tweaks [ci skip]
Make sure jdbc/insert! quotes identifiers :honey_pot:
updated icon.
add some very basic formatting to the SQL.
weirdness fix :honey_pot:
updating the query mode toggle into a standard QB button and building out a transition modal for MBQL -> Native queries.  also added tooltips on all the button bar icons per #2542
Metadata wrappers
db/ins -> db/insert! :honey_pot:
db/upd -> db/update! :honey_pot:
db/del -> db/delete! :honey_pot:
Require metabase.db :as db everywhere :honey_pot:
upd-non-nil-keys -> update-non-nil-keys! :honey_pot:
cascade-delete -> cascade-delete! :honey_pot:
new implementation of exists? :honey_pot:
initial components and layout
Tell linter deprecated DB functions are ok for right now :older_man:
Convert metabase.api.card to HoneySQL :honey_pot:
Extend flexibility of invoking a Metabase entity :honeybee:
Basic HoneySQL DB primitives :honey_pot:
don't use io/file because that breaks when we are reading out of a zipped jar file.
Default date/time field unit to 'day' if time grouping is enabled
Flow type checker integration.
comment out the frontend changes for the MBQL->NATIVE transition.  we'll come back to that work in a subsequent PR.
connection not transaction.
log native form.
comment indentation.
remove stray `replace-params` code.  we are going to tackle that at a later time.
Limit card duration computation to 10 executions. Set DATASET_USUALLY_FAST_THRESHOLD to 15
Lint error
Crate driver code cleanup :broken_heart:
A few indentation fixes and other minor cleanup :yum:
Default to `:day` bucketing everywhere except when sorting. :sweat:
more docstrings.
forced to add a docstring, again.  :unamused:
run crate unit tests on one of our existing containers.
lint fixes.
fix up Crate driver.
Add link to date format args for `format-date` dox :calendar:
More dox indentation fixes :poop:
Mark crufty tables as such :poop:
revert build date calculation.
Add dox about the `:dyanmic-schema` feature :disappointed:
Code cleanup :sweat:
Add Django tables to the blacklist :page_facing_up:
Add logic to blacklist tables with certain names :page_facing_up:
fix the rows query case.
tidy up some of the frontend UX and only let a user toggle from native -> MBQL if they haven't modified anything.  also start with the native browser open.
Make sure BigQuery metadata comes back in the format we expect :sunglasses:
Add missing docstings :unamused:
Smarter table/field name humanization
simplified field base type function declaration
changed order of :require items
several code improvements
use timezone specified in metabase settings
set ip address field to unknown
implement inside filter
fix several date-interval issues
adapt circle-ci configuration file to use Crate
code cleanup
fixed broken imports after rebase with upstream master
map Crate data types correctly
fix test that checks date-interval implementation
rewrite between filter
fix: added supported driver features
fix: set default schema to `doc`
changed crate input paramters so it’s possible to connect to multiple hosts
load test-data parses to valid Crate timestamp
fix primary key sql type
use JDBC library to disable autocommit in test
extend generic sql to avoid disable auto-commit
fixed exceptions if database gets added
added support for objects and arrays
code formatting
implement date time handling
applied custom filter
Added Crate type mappings
add test environment
fix: added char_length function handle
fix: changed incorrect datatype mapping
added base field types for demo table
added verification for Crate connection setup
added crate dependencies
register Crate in Metabase
Don't use datetime_field for sorting. Don't render unit if there is none
Slow dash card warnings
Allow joins for BigQuery :sweat:
formatting fixes on Heroku docs
Cleanup LoadingSpinner
updated paths to download files.
fix up bad reference to JVM_TIMEZONE which should have been JAVA_TIMEZONE
Don't default to bucketing datetimes by day when sorting :calendar:
Add type info for calculated columns :information_source:
fix formatting quirk with native mongo test.
Ensure x-axis is sorted, in particular for D-D-M multiseries
Consolidate line/area/bar chart type logic
format the results from bigquery in the updated structure.
Remove SMTP addon
lint fix
lint fixes.
clean off parts of the query which aren't relevant before we save.
trim off superfluous keys from the native_form returned in a query result if we are going to make it into an actual native query.
move the 1 function in generic_sql/native into generic_sql/query_processor
remove the old `process-mbql` and `process-native` functions from the IDriver interface.
add `mbql->native` and `execute-query` implementations to bigquery driver.
unit test for native mongo query.
set :collection attribute directly on the :native query form instead for native mongo queries instead of putting a :table on the outer form.
allow for running annotate on any result if the driver wants it.
make the sql<->native toggle a permanent part of the QB and tweak the logic for transitioning a little.
fix up expand resolve QP test.
update druid driver and implement new `mbql->native` and `execute-query` functions.
fix method signature.
update mongo driver and implement mbql->native and execute-query
few tweaks to unit tests to account for the fact that `:native_form` now appears on query results.
use the resolved Database on the query instead of looking up the database directly.
make generic-sql `execute-query` return results in the desired format now.
one more tweak to run-query in QP to only call annotate/annotate on mbql queries and otherwise to simple results formatting for native query results.  also, updating annotate/annotate to deal with the new expected execute-query results format.
Support Postgres Materialized Views :mount_fuji:
resolve `:database` on all queries no matter what, and remove any fiddling with the structure of mbql->native and just leave it however the driver wants it.
implement `execute-query` for generic-sql driver.
implement `execute-query` for generic-sql driver.
add `execute-query` to the IDriver protocol.
implement `mbql->native` for generic-sql driver.
tweak QP so that we execute MBQL queries by first calling `mbql->native` then wrapping that in a native query structure that gets passed to `process-native`.  we are also calling `annotate/annotate` on all results now.
add `mbql->native` function on IDriver
Don't update MySQL since the new JDBC driver requires Java 8+ :cry:
Less hacky table selector for mongo native queryies
Use today's date as Metabase "built on" date :calendar:
Clean npm cache in CI
add a simple script for creating and uploading the Metabase version information. [ci skip]
fix clob issue.
add react-ansi-style
make the version info url pluggable and set its default to something logical.
dial back the update frequency to a normal cadence.
add a little indicator on the settings sidepanel to inform the user that an update is available.
styling updates.
In data ref move segments/metrics above field listing, bring back connections
modify frontend to use a new "Updates" section on settings which has the check for updates toggle along with information about the update.
few final tweaks to satisfy linters.
ULTRA-hacky way to select tables for native MongoDB queries :smirk:
Table drop-down for Mongo native queries
New `string-or-keyword?` util fn :yum:
Remove stray debug println :scream:
Allow native queries for MongoDB :scream_cat:
get onClickOutside working so you can exit the modal and only show the link to admins.
use a buffer for the log instead of an unbound list, move the endpoint into /api/util for simplicity and limit it to superuser access.
Add segments and metrics to data reference
SQL Dialect-specific native query autocompletion :tophat:
Bump dependencies :new:
Metabot responds to `metabot` (no command) :robot_face:
Cleanup dataref FieldPane
Metabot support spaces in card names :robot_face:
provide a pretty lame rendering of the new version information on the settings sidepanel, as a POC.  need a better design for this.
Rename some data ref components
Move data ref to it's own folder
Bump BigQuery query timeout a bit :unamused:
Bump number of auto-retries for BigQuery data loading a bit :cry:
Minor style tweaks for metabase.driver.redshift :yum:
task for checking for version info updates and UI setting for toggling it off if users don't want it.
update the `value` column of our setting table so that it can store more than 254 characters.
Move RunButton behind viz settings
RunButton icons
Tests for cumulative count :yum:
Expose cumulative count queries on frontend :yum:
Backend implementation for cumulative count aggregations :cry:
RunButton min width
Better error messages for druid :scream_cat:
Update frontend to show ACE JSON editor for Druid :tophat:
Allow native queries for Druid :tophat:
Try consolidating run/cancel/refresh button
Cancel query button, and actually cancel the /api/dataset request in dashboards and query builder
One more minor ns cleanup tweak :sad:
Don't import namespaces more than once :unamused:
Remove references to clojure.tools.macro :unamused:
slightly more upbeat url
bump version.
Labels tooltip, ensure it doesn't show when the popover is open
Add documentation for new saved questions features.
Analytics for questions, labels, and undo actions
update to final urls
updating links in EB guide.
update link to Slack token generation.
updated link [ci skip]
updated instructions for EB.
More BigQuery CI tweaks :cry:
Remove debug println :scream_cat:
BigQuery CI fixes :unamused:
timezone docs
ie 11 archive icon 'fix'
Add documentation for custom fields feature.
updates to Heroku docs.
version number for v0.17.0 release.
need to have `:last_login` on the user record we lookup during login.
fixes #2485
fire off different events when archiving/unarchiving/updating a card, which also prevents archive/unarhive events from going into the activity feed.  fixes #2479
unarchive icon
fix wrapper on new segment / metric actions
In-app logs prototype
finish adding stylings for custom fields in #2462
fix width of segment / metric builders
tweak the field ordering so that segments go on top of custom fields
handle long revision history entries
handle long segment definition strings
move timeseries-query-processor-test.  resolves #2447
Add data_grid unit tests. Change data_grid to idiomatic ES6 module
Update line/area/bar chart error message
fixes #2378 and updates the form validation state immediately after any change to the slack token.
reduce logging from database syncs during unit tests.
fix up activity feed unit test.
fixes #2448 by reworking the logic for determining when it's a users first login.  we no longer lookup the first session for the user because it's possible they logged out and deleted their only session, then logged in to create their "first" session.  we now use the :last_login timestamp on the User record, which is more consistent and accurate.
More strict sensible and renderable checks for line/area/bar charts
Add more elapsed time logging for sync processes :timer_clock:
Faster BQ data loading :unamused:
Add whitespace :yum:
fire off an event when a database is deleted so that we can inform drivers and in the case of the generic-sql driver it can shutdown the connection pool for the db we deleted.  i suspect this fixes #2374
split follow-up emails into 2 distinct paths.
Use query :settings to get TZ info :unamused:
Declare the :set-timezone feature for Druid :cry:
auto-retry BQ table-row-count in case it times out
lint fix
Bump query timeout for BigQuery a bit :scream_cat:
update copy and template
Use report-timezone for Druid QP :timer_clock:
add fonts and fontconfig package. includes locale env vars. fixes #2425
fix sidebar scroll
fix empty states
fix long label list display
fix search / action header jumping
fix for missing Sunday.
lint fixes
fix bracket placement.
bump docker JVM to java 8
allow the JVM timezone to be set via environment variable when launching from docker image.
basic scaffolding for sending a one-time follow up email to users.
Handle paging when fetching BigQuery metadata :scream_cat:
tidy up.
also need to deal with possible duplicate fields ... sigh.
search icon alignment
use a set instead of a vector.
fix sidebar icon position
handle specific scenario from really old Metabase instances where we could potentially have duplicate active tables.
simplify size defaults
restore proper icon defaults
fix lint error.
remove the erroneous stacktrace logging which was happening because we use exceptions as a way to pass messages in some cases and thus they weren't actually errors.
tidy up some of the pulse code organization.
fix hydration of FK targets which was still using the old ForeignKey model
Scroll to the top of the question list if the section changed
Change  to
Change migration id to match filename
Remove legacy /card UI, redirect to /questions
Clear search text when switching label sections
Disable redux logging unless in 'debug' mode
Revert shrinkwrap
fixes disappearing questions
set the default app logging level to INFO and only have a couple key namespaces like drivers & qp set to DEBUG logging.
small tweak to unit test to make sure we don't run into issues.
Add a disabled pulse channel to test 'enabled' functionality
move a couple functions/macros into the test code since they are only used in unit tests.
de-dupe QP process functions.
move the dataset-query functions into the query-processor
move driver/process-query -> query-processor/process-query
Only show aggregations if the table has required fields
finish moving the rest of the driver.query_processor.* namespaces up a level to query_processor.*
Pre-select database if there's only one. Update tutorial to make selecting the db optional if it's already been selected.
move the query-processor namespace up one level and out of the `driver` namespace.
Add 'enabled' field to pulse channels, use to enable/disable without forgetting settings
small test tweaks.
add details-fields
formatting fix.
more docstring workarounds
adding one more fairly complex multi-schema unit test.
fix lint error :scream_cat:
"scrub" query to remove references to removed expression :cry:
final unit tests for sync functions along with a couple fixes.
Cleanup :scream_cat:
more unit tests (plus a couple fixes) for sync-dynamic functions.
rename button to "Update" instead of "Save Changes" when modifying an expression.
return proper expression name when generating card descriptions.
one more unit test.
add a couple unit tests for formatExpression function.
hover for danger button
adding some more frontend unit tests.
Remove backend code for handling deprecated wrapped expression form. :ghost:
Don't keep expression string anywhere in query
Make '=' appear permanently
formatExpression()
Use findDOMNode instead of global dom IDs
Add missing semicolon :scream_cat:
merge :scream_cat:
Backend expressions unit tests :ghost:
Ensure axis timestamps are formatted in the correct timezone. Resolves #2340
cap the height of the suggestions list.
Update storybook config
fix another react warning.
clear up some react warnings and get segments and metrics forms to load again.
Update npm version to 2.15.3 in package.json and circle
re-shrinkwrap
switch back to running non-sample databases for sync task.
Update shrinkwrap
Try updating node version on circle to resolve failure
fix alignment
emoji category icons
unit test for retire-tables! function.
Change label create error handling to match endpoint changes
Throw 400 if slug name already taken :scream_cat:
Don't mutate props
fix pulse empty state
checkbox positioning
Don't pick the timeseries dimension as the series dimension. Resolves #2338
Delete label confirmation
form + error styling
Better label error handling
fixes #2323 by avoiding any SQL casting of a column if its unit is `:default` in the query.
Surface label loading error
Use 1900/2100 instead of -5000/5000 as default druid interval :cry:
Make emoji.json more smaller
Lint fixes
LoadingAndErrorWrapper for label edit page
More label form validation
Label loading + LoadingAndErrorWrapper cleanup
cleanup label layout
Label name validation
Add mappings for MySQL unsigned int types :yum:
couple tweaks to unit tests to satisfy postgres.
Unit tests [WIP]
add lighter scrollbar treatment
label hover style
Option to close triggerable if trigger is obscured
fix the database listing api unit test, which has become a real abomination :disappointed:
fix for mongo syncing.
more lint fixes.
Clear selection when switching sections
fix reflection warning.
conform to updated describe-* output requiring :schema attribute.
implements #2337 and prevents duplicate concurrent calls to sync-database! from actually triggering a database sync, thus only allowing a database to be syncing a single instance at a time.
one tweak to data migration.
make room for capturing database specific column-type instead of using base-type.
Archive name
Ensure sort order stays same when undo-ing
Update tests :scream_cat:
Re-ellipsify sidebar item names
fix for cardinality test to account for the fact that we won't always have string values.
resolves #2329 by adding in hourly syncs for just the basic schema introspection.
Add propTypes, misc cleanup
fixes #2332 by avoiding the return of FieldValues when their total length is more than a sensible size.
empty states + misc formatting
Remove unused import
Keep labels sorted by name
use moviedb for sync tests.
Make sure duplicate quotation marks aren't inserted :scream_cat:
unit test for sync-metabase-metadata-table!
unit test for save-fks!
Use field display_name, quote it in the expression :sad:
don't be quite so verbose in our data migration.
add a data migration which populates the RawTable and RawColumn tables.
add uniqueness constraints on RawTable and RawColumn.
rename migration to account for migration in saved-questions branch.
Typo
better home for postgres specific unit test.
just stick with :fields for naming instead of :columns
fix comment
couple tweaks to introspection of a single table.
hide actions other than unarchive when a question is archived
Disable pointer events on popover triangle doohickey so it doesn't obscure the button below
Misc css
Add cursor-pointer to label icon picker
fix position of emoi in sidebar
continuing to flush out introspection unit tests in greater depth.
add icons + misc cleanup
Loading/error states for questions listing
require all table-defs from describe-* driver functions to include a :schema attribute (which can still be nil).
RawTable and RawColumn need to be in our load-from-h2 command.
take the sync specific schema definitions and put them in metabase.sync-database.interface rather than have them in metabase.driver
account for case in table sync where we are syncing a dynamic-schema table.
wrapping up the updates to the sync process and updating unit tests to account for the tweaks.
add a :last_analyzed attribute to Field so that we can keep track of which fields are being analyzed for the first time.
flush out the sync path for :dynamic-schema databases (like Mongo) which has a slighly different path than the normal raw table sync path.  also have analyze process mostly working now.
adding newly flushed out sync-database/* namespaces and their functions.  This handles an introspection process which scans the db an flushes the resulting data into RawTables/RawColumns followed by a sync process which updates working data model metadata.
add fk_target_column_id to raw_column table for better tracking of fks and remove previous :fks attribute on raw_table.  move our sync related raw_* functions to a new namespace.
introduce models for RawTable and RawColumn.
tweak describe-table and describe-table-fks to accept the DatabaseInstance directly as an argument.
Remove storybook temporarily
fixes #2304 and provides a default of returning null if the BreakoutWidget doesn't have enough input to render the widget.
Remove console.logs
Add bulk labeling undo
Split undo reducer/actions into it's own duck
resolves #1742 and adds the ability to group a datetime field by "quarter-of-year"
add back in time bucketing info on FieldName which went missing.
Add undo + misc cleanup
fixes #2289 so that the quick filter option on a valid datetime will apply an appropriate filter for our query.
fixes #2037 so that the dot for the most recent data point is always placed over the most recent value in the sparkline.
add a tooltip for each custom field so you can see the formula without clicking in.  still needs work to fill out the function which actually formats the expression into a valid description.
Make autocomplete suggestions clickable :yum:
Make label icon appear when popover is open
Make Tooltip work with components directly rather than having to wrap in a DOM element
fix ability to sort on a custom field by click on the table header of the visualization.
merging in updates.
instrumentation.
Tab to auto-complete, fix missing function error & autocomplete regression :sweat:
custom-fields -> expressions :sad:
consistent naming.
formatting.
Driver feature is `expressions` instead of `custom-fields`
use a default base_type of "IntegerField" for custom fields for now.
pull a few of the parsing/tokenizing functions for expressions out of the React components and put them in their own lib, then start adding some unit tests.
Cleanup label picker
Link 'Questions' button to '/questions/all'
Shrinkwrap + update-emoji script
Emoji!!!!! :heart_eyes_cat:
Actually link question item to question...
Make `:expressions` a driver feature :sad:
custom-field -> expression :yum:
add in a link to remove a custom field from the ExpressionWidget.
Clean up label editor styling
Allow sorting by calculated columns :sweat:
Cleanup utils :cry:
update the styling of the autocomplete popover.
Test fix :sweat:
separating out the input textfield for a custom field expression into its own react component so that we can reuse that independent of the rest of layout around it.
Auto-convert expression arguments to floats :sad:
Immediately reflect addition/removal from loaded lists
Wire up backend to use expressions in other clauses
some styling tweaks and refinements along with a check that the chosen database supports `:custom-fields` otherwise we don't expose them in the UI.
Section name. Move label button
Bulk actions
fix up FilterPopover handling of new custom-field definition.
don't allow the user to open the extended options panel in the QB unless a table has been chosen.
Label popover styling
Temporary fix for React router not updating
Test fix :sad:
Don't return archived cards for other card listing options :sad:
Link labels to label listing, fix entities merging
Make '?f=' optional on car/dash listing so that label filter works
couple style tweaks.
Wire up label actions
Lazily create popover element. Lazily render popover if passed as function
Add label CRUD
another quick indentation fix.
few indentation fixes.
resolves #1931 and updates the extended options popover so that it automatically closes after picking a new limit.
ability to use Custom Field in order-by clause.
ability to use Custom Fields in breakout clause.
ability to pick Custom Field in aggregation clause.
ability to pick Custom Fields in filters.
Tests for Labels :disappointed_relieved:
separate a bunch of the Limit/Sort/Expression code from GuiQueryEditor into it's on react component ExtendedOptions so that things a bit more bite sized when working on them.
Tests for POST /api/card/:id/labels, general test cleanup :sweat:
flushing out the custom fields widget a bit more to match the design.
Allow filtering cards by label, add test :scream_cat:
Test for new GET /api/card filters; fix sorting for recent :cry:
Test for GET /api/card?f=archived
Update tests to handle new :archived field for Cards :yum:
Let PUT /api/card/:id change archived :card_index:
`recent`, `popular`, and `archived` filters for GET /api/card :card_index:
Include `favorite` info with `GET /api/card`
add expressions to `:fields` inside of pre-add-implicit-fields instead of using a separate QP middleware function.
formatting fix.
Rework questions redux/selectors
couple other small fixes plus some more docs.
start adding some unit tests specifically against the (expand) and (resolve) functions of the QP.
add some unit tests for wrap-catch-exceptions and post-add-row-count-and-status QP middleware functions.
small tweak to be consistent with all QP middleware functions and separate the middleware function from the annotate function.
separate out the middleware functions for macro expansion from the middleware for expand/resolve.
quick renaming of NS to better group the QP tests.
small styling tweak for readability.
Remove Topic stuff
Saved Questions Backend [WIP]
Add unit test that checks whether the load-from-h2 command will migrate all entities :sad:
additional fix
Add section about configuring dashboard via URL
Start wiring up redux for questions
Initial saved questions UI
Add a few more stories + update CheckBox + add StackedCheckBox
Remove unused display-types
Don't enforce specific 'display' property on backend. Resolves #2205
fix copypasta error
fix link
react-storybook setup
updated links to downloadable files.
couple more unit test fixes.
unit test fixes.
Don't default to grouping dates in raw data queries by day :calendar:
run unit tests with JVM timezone in UTC.
add a link to installation guides.
if no report timezone is set, use the JVM timezone for our QP datetime formatting.
fix bug in hour-of-day assertion.
version 0.16.1
prevent users from toggling metabot on/off if they don't have a valid slack token.  fixes #2272
add sqlite [ci skip]
cleanup [ci-skip]
[ci-skip] add product screenshot
restructure readme
Cleanup unreferenced frontend files
Add unused-files-webpack-plugin to find unused frontend files
Add load/dump debug functions for query builder
Move all 'global' CSS to frontend/src/css, move self contained CSS to .css file corresponding to React component
Remove unused CSS rules
Add the last few explicit imports for Angular files, stop globbing every *.js file
Use case-insensitive sort for GET /api/database :ghost:
with-temp* macro :unamused:
with-temp* macro :unamused:
Defaults for `with-temp` :scream_cat:
Even more strict D-D-M and D-M-M detection logic
Tighten up logic for D-D-M and D-M-M+ multiseries, fixing stacked charts
Update npm-shrinkwrap.json
fix typo
remove stray console.log
updates to download links for 0.16
update based on feedback
tweaks based on feedback
explicit fullscreen text classes + cleanup
fix the setting of queries from the data reference useful questions list, which was not updating the QB properly.
proper case for Slack
instrumentation on enable/disable of Metabot.
add some instrumentation on new dashboard features for: fullscreen, nightmode, and auto-refresh.
add images + more docs
add images and list command explanation
add to user guide index
initial wip metabot documentation
unit test to validate that fk_target_field_id is unset when special_type is set to something other than :fk
fix for allowing special_type to be unset on a field.  plus unit tests.
More useful error message if index.html is missing when running `lein ring server` :unamused: #2195
finalize 0.16.0 release version.
fix issue with stale reference to angular ForeignKey service.
Add auto-retry to bigquery queries when they time out :unamused:
Add bottom padding on delete modal. Resolves #2241
fix link to users-guide
add a try/catch block to the code which introspects a Mongo collection so that if an unexpected exception is thrown we can catch it and have a nice stack trace while not affecting the sync of other collections.
fix potential NullPointer caused when .getAuthority or .getProtocol is null on a valid url.
Better error logging when BigQuery times out
Additional fixes for intermittent test failures :unamused:
A > a
update query run text. closes #1205
bump version
Reduce intermittent CI failure rate
missed remove the old ForeignKey api endpoint/service.
update frontend code to simply set fk_target_field_id on a field to update an FK target and remove the old code dealing with the ForeignKey model and endpoints.
allow Field.fk_target_field_id to be updated when a field is updated and add in some checks and logic to make sure it's set to proper values.
Truncate should happen even if value of unit is 0
Consolidate visualization logic + show title when dash cards error + new error treatment
Move card header to Visualization so we can show it when there's an error
remove old references to ForeignKey model and delete EOLed /api/foreignkey and a couple other endpoints.
replace the old /api/table/:id/fks implementation with one that works simply using Field and :fk_target_field_id instead.
add a data migration which sets the proper values for `fk_target_field_id` based on existing metabase_foreignkey entries.
add `fk_target_field_id` attribute to metabase_field for tracking FK targets.
use alpine as base image and subsequently fix npm build failures
Use SVG instead of PNG for clojars status badge :yum: [ci skip]
Bump dependencies :unamused:
Punctuation fix - add missing period :scream_cat: [ci skip]
Bump copyright year to 2016 :scream_cat: [ci skip]
Bump copyright year to 2016 :scream_cat: [ci skip]
Add GPL badge [ci skip]
update dashboard guide text
[ci skip] typos
Disable dragging dashcards when not in edit mode on mobile.
clean up
fix links
new labels
style tweaks.
Update redux-thunk and protractor
Update html-webpack-plugin
Update babel-eslint + humanize-plus, fresh npm install --no-shrinkwrap, eliminates left-pad dependency.
add migration to fix any dashboard cards with NULL :row or :col values.
capitalization fix :scream_cat:
Remove skip-aot from h2 task
Add 'lein h2' to easily get a H2 console
make sure we have a default value for `metabot-enabled`
Remove xkcd card display type
Autocomplete improvements :pencil:
fix data reference scrolling
Autocomplete works anywhere in the expression :pencil:
make sure scalars in the query builder are larger
make sure pie and chloropleth legends aren't too big in fullscreen mode
Tweak ChartWithLegend padding + size rules
Hide donut detail if very small
fix header size
scope embiggening
Remove legacy chart customization code which was messing with axis/label size calculations
make more embiggened
Autocomplete for expressions widget :pencil:
Dashboard action tooltips
how doe parens work?
Basic autocomplete
bump fontsize in fullscreen mode
add a toggle to our Slack settings for enabling/disabling Metabot.
update slack api settings endpoint to handle `metabot-enabled` setting and add a new metabot-lifecycle event handler which can listen for the appropriate events (:settings-update) and trigger startup/shutdown of metabot as needed.
add a new setting for `metabot-enabled` which defaults to true and only launch metabot when it's enabled.  also, remove printlns and tidy up logging a bit.
typo fixes
Use original dimension ordering for ordinal axis. Resolves #2085"
Remove 15 second refresh option
tell your friends
rename `Details` heading to `Type`
Force mobile layout to not reduce card fidelity
link from the front porch
add contribution guide
fix issue where `:id` was not included on database when creating the connection :scream:
style tweaks.
remove `field_type` as a user presented/controllable thing.  only meaningful implication is that the list of fields for breakout becomes all fields by default now.
tidy up a few things and improve style/syntax a couple places.
actual content
starting point for the Zen of Metabaes
provide a small warning about the Report Timezone on the settings page and the fact that it won't work on databases that don't have timezone support.
fix lint warning.
publish a `:database-update` event and create an event listener which calls our driver notify-database-updated method whenever we get a :database-update event.
add a new optional driver method for `notify-database-updated` which allows drivers to be informed when their databases are updated. then implement this method on the generic-sql driver and use it to actively shutdown any open connection pool on the updated database so that we can recreate it as needed.
update the connection-spec acquisition code for our generic SQL driver to unify it based on acquiring a connection for a given DATABASE and to replace the memoize/ttl with our own atom for caching db connection pools to each database.  This avoids the unnecessary recreation of connection pools every so many hours.
Additional dashboard height fixes
More fixes :-/
adding permanent data migration code for dashboard card scaling to new grid density.
separate out ListSearchField into its own component.
Add new :min & :max aggregation types :cherries: #1660
Only show scalar tooltip if it's different than the displayed tooltip (or if it's truncated)
Update default and min card sizes
Switch dashboard from viewport-height to full-height so the background doesn't get cut off in night mode
Remove white bg from table header so it works in night mode
Swap sun/moon in night mode icon
Hide table card scrollbar except on hover
Only animate color/bg-color if in fullscreen, fixes slow hovering color change
More space between header buttons
little bit of final cleanup.
Disable clicking and pointer cursor on bar charts
Don't update hash if nothing has changed as this causes favicon to flash
Exit fullscreen when we exit fullscreen.
Add compile-time checked strict-extend fn :ghost:
cleanup a couple final references to the old preview_display attribute
update frontend data model edit page to use new visibility_type field (also removes "sensitive" as a field_type option)
add data migration which sets the proper initial visibililty_type on fields.
Make tiny pie chart 'other' slice barely visible
Disable refresh when editing/adding cards
add a client side search on the table name in the data selector.
Ensure area charts are always stacked
Bump dependencies :mask:
fix up the LimitWidget and use it as a declarative UI component.
fix typo that was preventing description from saving on cards (fixes #2151)
fixes #2159 , construct the new rows query from the data reference in a more appropriate fashion.
we have the column metadata to tell us if the column is a date, so lets use it.
padding on header buttons to align with content
More scalable table card
Night mode transition
Metabot improvements :ghost: #2154
Metabot improvements :ghost: #2154
replace the use of :preview_display with :visibility_type = :details-only
tidy up a few more places where Field :active true was being used and replace it with :visibility_type "retired"
cursor-pointer on fullscreen icons
start using :visibility_type instead of :field-type "sensitive" or :active true/false
make the schema migration more robust by adding the not-null constraint w/ an update statement to an interim value.
Try out css modules, add cursor-pointer to refresh widget items
add :visibility_type to Field and make it updatable by the api.
Ask people how they're running Metabase
Table minSize. Fall back to Table if visualization is missing.
Hide fullscreen/refresh on empty dashboards. Align button sections
Update moment.js
Unify all 3 'multiseries' types (dashboard multiseries, dimension-metric-metric+, and dimension-dimension-metric).
Calculated columms :disappointed_relieved:
small fix for inferred parsing of iso8601 timestamps when formatting values.
Use the timezone returned in the data to format tables, tooltips, and axis.
Night mode twerks
Don't set 'hovered.event' automatically since we do it within the charts that want the tooltip to follow the mouse now. Resolves #2145
fix up greeting and do some tidying
remove unused declarations
Add a bit of margin to pie/choropleths
Make grid 18 wide and fill width.
remove 'home' specificity on shared layout css. apply to saved questions page.
fix up the rendering of retired metrics in the field list and the description on retired metric tooltips.
don't show the `Common Metrics` aggregation section if there are no active metrics the user can reasonably pick from.
fix typos in retire metric/segment modal.
White text for night mode
ensure sidebar is tall enough when there's not enough activity feed content
CSS tweaks + shouldComponentUpdate in DashGrid
Re-enable babel cache
Enforce displayName for React components
Remove usage of React.createClass, enforce in eslint
Remove uses of React's isMounted, enforce in eslint
Type 'xkcd' to swap line/area/bar charts. Disable menu option
Experimental hiding of offscreen/overlap dashcards in fullscreen
Fullscreen
refactor homepage layout
Auto-refresh
Don't blow up the world if we're missing an icon.
restore printlns.
use logger instead of println.
0 is a valid hour.
Correct typos
use a reader so that we load the data properly out of a jar file.
be even more explicit about datetime checking.
Pie chart 'other' and better tooltips
fix up the identification of datetime fields in the `format-cell` function.
fix rendering of timeseries which were failing due to query results containing serialized iso8601 strings now instead of raw java.sql.Timestamp instances.
Change legacy dashboard vertical scaling factor from 2 to 3
fix broken filename.
update url paths in docs.
version number bump.
Better pie legends
fix homepage height
Lint
Visualization settings saving in dashboards + pin map editing
Update QB URL when changing visualization settings
Refactor visualization settings UI so visualizations can declare their own settings UI
cleanup proptypes
ensure an icon border is passed an Icon and use props to define the border
add proptypes and default props to icon component
clean up admin sidebars
when describing FK relationships using JDBC we need to include the available schema to filter the results.
Improved line/area/bar chart fidelity rules
Scalable Table
Make legend hide items if not enough room
Hide debug background colors
css-loader config for human readable names in dev
Better ChartWithLegend layout
Switch WorldMap to ChoroplethChart
Improved ChartWithLegend layout
fix error where our attempt to delete the data intensive fields from a Table/Field before making an api call wasn't happening.
Tweak line/area/bar fidelity rules
React ChoroplethMap component
clean up setup / welcome app mounts & welcome intro
fix the overuse of `Modal` component which is implied with `ModalWithTrigger`.
Extract 'ChartWithLegend' into a component
use spread in place of absolute top left bottom right
create spread rollup class for absolute top left bottom right atomic classes
update auth views
uze atomic z-index styles
no need for main class, use atomic styles
add viewport height and reclaim full-height makes more sense for full height to be height 100% and adds viewport-height for instances where 100vh is needed
refactor app mount point to remove flex context by default
Linty fixes :shirt:
Dual mode pin-map, markers for < 2000 rows, tile overlay > 2000
MetaBot [WIP] :robot_face:
Scalable pin maps
Remove old pie chart
Scalable line/area/bar charts
XKCD Chart
fix docstring.
Don't blow up the world if we're missing an icon.
Enforce min card size. Cleanup pie chart
Shrinkwrap dat icepick
couple more tweaks to is-temporal? plus unit tests.
docker entrypoint shell scripts: use exec to allow graceful docker stop
Cleanup hovered API
Add AbsoluteContainer higher order component, use for dashcards
Scalable Bruno pie charts, aka donut charts
rename ->ISO8601DateTime to ->iso-8601-datetime
a few changes to update code styling, add docstrings, etc.
Scalable scalars
Dashcard action refactor + tweaks
New dashcard styling
Make docstring checker separate linter
fix reflection warning.
When editing dashboard, add a vertical screen's worth of row height to ensure the grid is visible
Switch to new grid dimensions, add temporary client-side dashcard migration
Prevent Java icon from popping up in dock when running OS X app :coffee:
Update angular-cookie
Update eslint, add some rules, fix some errors
version bump.
rename broken docs file.
don't fail unit tests for docstrings.
Update more frontend packages
Remove unused redux packages
Update more frontend packages
Update shrinkwrap
Update webpack, babel, cssnext, etc
make use or the :report-timezone in the newly applied query :settings instead of having lots of different code look up the value itself.  update a few unit tests to account for the fact that query results are now converting temporal values to strings.
use our new ->ISO8601DateTime protocol to simplify things a bit and create unit tests specifically for our new QP middleware functions.
add a protocol specifically for formatting ISO8601 date times w/ timezone and test it.
fix typo in events.clj
fix typo in db.clj
fix typo in config.clj
Display dashcards in rougly the same order in 1D mobile layout as 2D grid layout. Resolves #1024
Parameterize grid width, aspect ratio, and margin
Don't expand grid height unless editing. Resolves #2055
Drag grid when editing
format query result temporal values using report-timezone.
add a couple events around QB Tutorial.
instrumentation of a few changes to QB flow with new saving semantics.
instrument new multi-series stuff.
save and cancel should have the same text color
move images to proper directory
add screenshots and update guide with feedback.
move the connection pool settings for sql drivers back.  new settings were making things worse regarding proliferation of unused connections.
Every public var in Metabase now has a docstring :page_with_curl:
Even more dox :tv:
Add some docstrings to things that are missing them :page_facing_up:
Bump deps :flushed:
Tweak autogenerated docstrs for defsetting :page_facing_up:
Include default value in Settings dox
Extra dox for Settings :page_facing_up:
Extra dox for Settings :page_facing_up:
be even more conservative.
don't allow quite as many values to be parsed as date/times by moment.
add a note about not syncing the contents of databases, only the schema information.
Update docstring :robot_face:
start some docs on running w/ Cloud66
Workaround BigQuery NULL value bug :unamused:
avoid issue where BQ queries fail trying to connect to a local postgres in order to build SQL.
add specific troubleshooting section on Heroku docs about clearing migration lock.
BigQuery docs.
Bump deps :robot_face:
update links to EB files.
bump final version number.
Update issue template :unamused: [ci skip]
Update ISSUE_TEMPLATE.md
initial multi-series documentation
Slack & Pulses code cleanup :flushed:
a little edit to clarify that you can schedule email Pulses monthly now
added in language about new saving semantics
only attempt to update dependencies when we actually get back non-null dependencies.
change the order of operations a little to make it more natural.
fix issue with saving modal calling method on null value
fix admin guide toc to link to segment and metrics guide
order the list of engines on the add database dropdown.
show the table schema (if appropriate) on the FK target field selector.
don't force row-count to be an integer when analyzing table.  nil is a valid value if driver couldn't get an appropriate value.
auto-populate the name/description in the save modal when user selects "replace original question"
only return active Tables/Fields in autocomplete suggestions.
Update pull request template :unamused: [ci skip]
Update issue template :unamused: [ci skip]
Update issue template :unamused: [ci skip]
Update ISSUE_TEMPLATE.md
Update ISSUE_TEMPLATE.md
Update PULL_REQUEST_TEMPLATE.md
Update ISSUE_TEMPLATE.md
Issue template & pull request template :heart_eyes_cat: [ci skip]
Add NPM dependencies badge :sob:
Bump BigQuery driver version :unamused:
metabase.throttle -> throttle.core :yum:
metabase/throttle is now a separate lib :yum:
tweak styling
Don't need 2 different HTTP libs :scream_cat:
little bit of organizational tweaking to avoid having to repeat information.
Remove bootstrap.clj :flushed:
Update developer's guide :yum:
Initial card title for 2D multiseries
update docstring on `table-rows-seq` to reflect the fact that the function expects a Map describing the table now.
More cleanup
Remove d3-tip dependency
Update shrinkwrap
Remove unused Angular code and dependencies
scroll to end when new filters are added
fix syncing of _metabase_metadata table which started failing at some point.
Force MySQL to use UTF-8 Encoding :database:
explicit query filter scrollbar
Ensure Angular digest is run when changing location in qb. Resolves #1917
remove old cursor svg files.
change from SVG cursors on dashboard card editing to normal css cursors.
add a very short delay to throttle test to try and avoid intermittent failures.
Rename 'Add Data' to 'Edit Data', add 'x' to remove series
Don't link legend if no id is set
Make tooltip a little more robust
Don't split axis in certain cases
Remove extraneous logs
Multi series scalars
colorize config check on initialization only
use a slightly easier approach.  hooray!
provide a little bit of handling on case where a db exists but it has no tables.
More robust computeSplit
Limit 2 dimension splitting to < 10 series
New split axis logic
Adds detail on network options
fix typo.
addressing warning about method not being used for hydration.
couple fixes for revisions api test.
fix for models revision test.
update our revert-to-revision protocol function to require passing in a user-id which is necessary for most entities and add revision/revert endpoints onto our dashboard api with unit tests.
update the functions for reverting a dashboard so that it handles restoring DashboardCardSeries now.
update implementations for serialize-dashboard and diff-dashboard to account for the addition of :series on DashboardCards.
fix issue where deleting a DashboardCard wasn't properly cascading to DashboardCardSeries as well.
Don't show dashcard until all cards are loaded.
add DashboardCardSeries to our h2 migration code.
Cleanup color handling for stacked charts
Use the min timeseries unit for x-axis
Pie is only sensible with exactly 2 columns
Auto multi dimension multiseries
Cleanup line/area/bar renderer, fix multiseries different granularities issue
when no field-values exist for a field, clear out any previous field-values so we don't leave stale data lying around.
optional-colorized-logging
tweak value
die Listenelemente entfallen lange Wörter jetzt
don't provide an option in the special-type dropdown for timestamp_* conversions if the field base type is not numeric.
apply a check for `valid-metadata?` when updating the attributes of a Field so that we can prevent invalid metadata configurations (#824)
More accurate description of raw data behavior
add a predicate function for testing if the metadata for a field is a valid combination.
update a couple links that target _blank so that they don't do that from within the Mac app.
when deleting a card make sure it exists first, otherwise throw a 404.
prevent users from entering in empty table/field names.
explicit th text alignment
Prevent resizing/moving cards from causing body to scroll horizontally. Constrain resize to 1x1 cell
Add forman .env to .gitignore
Cleanup chart tooltips
Cleanup label display logic and margin adjustment
remove unecessary flex declarations and min-height from modals
Specify charset=utf-8 for CSV downloads :blush:
Veronoi hover and density computation fanciness
allow field-type to be specified when describing a table field.
no need to set :pk?, :special-type, and :preview-display values when they are just the defaults anyways.
update schemas to reflect data coming back from drivers.
Disable dots at high density
Update driver.clj
Update driver.clj
Update sync.clj
Update driver.clj
Update driver.clj
Use schemas to validate driver output :yum:
fixing up dashboard api test.
update the rendering of the breakout clause on the QB to be an atomic action so that we don't have to put null breakouts into queries to power the UI.
final tweaks to aggregation widget display.
Better detection of timeseries. Resolves #855
separate the functions for dealing with the AggregationClause into it's own object and write a bunch of unit tests for those functions.
Move pivot logic up to Table.jsx so table dashcards also get pivoting. Resolves #1887
Format TableSimple cells same as TableInteractive cells. Resolves #1942
Don't format non-number special_types (e.x. zip, year) with commas
Cleanup timeseries chart X axis, resolves multiple issues
Format date-like objects in tooltips
Move card/lib to visualization/lib, add more 'year' granularities
Don't use ES6 features in webpack.config.js
Load Google Maps & Google Fonts asynchronously :flushed: #1922
Disable legend header outside of dashboard
Missing key in TimeGroupingPopover
Only show legend header tooltips if titles are ellipsified
Don't use filteredCards when determininig which DBs to load
Set sslmode=disable explicitly for plain Postgres
Add :exclusions in project.clj :imp:
RIP dashcard pencil button
update a couple places where old card urls were being form in the backend.
Use actual dashcard data.cols in filteredCards so non-SQL cards can be added to SQL cards
Make columnsAreCompatible more robust
update the AggregationWidget so that the process of picking an aggregation is fully atomic.  this is specifically relevant to cases where a field needs to be chosen in addition to the aggregation operator.
Remove unused :requires :sweat:
Filter compatible cards in Add series modal
Cleanup naming
More docstrings :sweat:
Switch charts back to linear interpolation
BigQuery driver :flushed:
Cleanup getCardColors
couple final tweaks on validations for monthly pulse settings.
Update shrinkwrap
Replace uses of 'await *' with 'await Promise.all(...)'
Switch from react-components TimeoutTransitionGroup to official react-addons ReactCSSTransitionGroup
Ensure moment.js unminified version is used in dev
Remove old tooltip code
Cleanup tooltip code, use new tooltip system for all visualizations
make 2 more tweaks to our SQL driver connection pool settings to aid in preventing situations where 1) dbs actively close long running connections and 2) dbs have low max connections and the pool fills up those connections and never reduces again.
shorten the TTL on the sql driver connection pools from 3 hours down to 1 hour.
update the frontend to allow for selecting the monthly pulse schedule options.
calculate monthday and monthweek and use it in our pulse scheduling task.
update `retrieve-scheduled-channels` to handle including monthly pulses.
couple more fixes for unit tests.
add a new field :schedule_frame to PulseChannel to aid in monthly scheduling choices.
Use new elide-metadata feature when compiling uberjar :notes:
Cleanup IconBorder, fixes some React warnings
Bump a few more dependencies :notes:
Upgrade to Clojure 1.8 :notes:
More charting cleanup
fix up a few cases where visualization settings on a card were changing or the query was being updated by the visualization component and we weren't accurately tracking these changes as a modification to the card in our new saving semantics logic.
fix up mongo unit tests now that :DateField -> :DateTimeField
cleanup some build warnings.
Don't party too hard :tada:
map java.util.Date -> :DateTimeField instead of :DateField
remove QB code that disables Mongo date bucketing.
Rework LegendHeader, Tooltips, misc chart style
More BigQuery branch improvements :flushed:
BigQuery driver improvements :flushed:
Split axis
Improved scalable LegendHeader
Improved Tooltip that doesn't add extra DOM node, and fix some React 0.14 incompatible double mustaches
one more style update.
hide the "grouped by" useful questions from the data reference if the field is not a valid dimension.
style tweaks.
instead of passing a link to the Mac app, just pass the query serialized as JSON and let the Mac app send the post request to the API to get the CSV.
Spelling fix for elastic beanstalk docs
Consolidate line/area/bar chart, add initial multiseries implementation
fixes #1908 by switching the csv download over to using an http POST request.
Update line/bar/area, remove ChartJS prototype and dependency
Remove default card size
Metabase tax cut :money_with_wings:
render scalar values when they are 0.
when the user dismisses the QB newb modal, persist that so they don't see it again.
unit test fixes after adding :is_qbnewb to User object.
adding a new attribute to users so that we can track if they've seen the QB informational modal and wiring up the modal on the frontend.
add in a user field for tracking when the user has been informed about how the QB saving works.
prevent name and description from being carried over when we reset a card so it's new.
update the click target on our radio buttons.
update add to dashboard flow so that we follow our new link to a dashboard in edit mode.
add the ability to load up a dashboard with the `?add=<card_id>` query string to start in edit mode and add the specified card to the dashboard.
DeCLOBify Field descriptions :yum:
Update CardRenderer code style, misc refactoring
prevent card from being dirty when it's just a new card without any modifications.
Remove old proptype
getting the new add to dashboard flows in place.
Start spliting up card.charting
Guard against missing 'series' dashcard property
Update dc and d3
Move CardRenderer.jsx and legend header to subdirectory
Update some React packages for 0.14
small bit of shuffling around on rendering approach for buttons.
update `addtodash` icon.
fix up editing of card description.
Enable 'eval-cheap-module-source-map' source maps for hot/watch builds
update QB save modal so that we can offer the choice of "create new" or "save over existing" when the user is saving a card that was started from another card.
cleanup a couple webpack warnings.
implementing the various state updates to make the new saving semantics fully functional now.
More ReactDOM
ReactDOM
Unit tests for filtering datetime column against `nil` :scream_cat:
Update shrinkwrap.json
Remove react-grid-layout, replace with simplified version, update to React 0.14 😀
Backport various improvements made while working on BigQuery driver :flushed:
more bits and pieces of cleanup after updating with changes from master.
small fix after rebase conflict.
add missing new HeaderBar component.
get the basic editing workflow going between toggling on edit mode, canceling, saving, etc.
update the basic urls and make sure the QB still loads.  we are also going to redirect /card/:id -> /q/:id now.
add a data migration to clean up the duplicate FK entries.
prevent duplicate FK entries in the db.
fix issue with absolutely positioned empty state messaging
Add flex-no-shrink to vis header to prevent table from re-rendering unecessarily
Pass the last run card to vis to prevent sort from prematurely updating
Optimistically update sort/direction to avoid race condition when popover goes away
Load and persist additional series. Do some validation
update release file paths to point to 0.14.1
switch from fetchDashcardData to fetchCardData
use element.classList.add/remove for a cleaner implementation.
apply a special bg-color class to the body element when the Dashboard component is on screen to work around some flexbox, chrome, css shenanigans.  sigh.
adding an api endpoint for GET /api/dataset/card/:id which runs the given Card's query, then returns the result along with the card details.  also did some updating on the unit tests.
Move React router to root
base light bg color
fix settings header
fixes #1855 - prevents broken links in the activity feed for entries regarding the addition/removal of cards on dashboards.
dashboard bg fix
fix data model header
hydrate `:series` on the DashboardCards returned from GET /api/dashboard/:id
update api endpoints for adding/updating DashboardCards to allow for specifying the `:series` of additional cards to apply.
add the DashboardCardSeries model which allows attaching additional cards to a DashboardCard.  this includes the new database migration, new model code, new persistence functions on DashboardCard, and a bunch of unit tests.
Initial AddSeriesModal and multiseries Bar chart
Allow nil values when filtering against DateTimeFields #1860
a little more cleanup work on dashboard api code.
update api endpoint GET /api/dashboard/:id to remove the superfluous wrapper with {:dashboard {real thing we want}}
move api endpoint POST /api/dashboard/:id/reposition -> PUT /api/dashboard/:id/cards so it's more consistent with the other dashcard api endpoints.
tidying up dashboard api unit tests a bit before we start.  also added a unit test for the reposition endpoint, which was missing.
Pass bound action creators instead of dispatch to child components
Prevent clicks on dashcards in editing mode
one more fix.
unit test fix.
Prevent table from re-rendering when card changes
Remove unecessary debug code
Better name for Visualization variable
Comments in empty checkRenderable functions
Name CardRenderer to match filename
Use absolute module names
add a unit test for the new api endpoint scenario.
fix up data reference rendering.
fix typo which was preventing GUI QB from loading.
switch serialized cards over to hashes instead of url path elements.  this addresses the issue with long SQL queries generating large referer headers that cause Jetty issues.
cleanup a bunch of uses of anchor tags with href="#" which causes some issues and isn't necessary.
More docstrings
More robust metadata handling if we don't have field_values
Add docstrs for public vars missing them in metabase.driver :yum:
Remove flexbox on dashboard grid to workaround Chrome 48.0.2564.97 bug
Revert back to old isShowingTutorial, which also fixes merge error
use a more accurate representation of the current running version of Metabase.
Add documentation for upgrading metabase on Heroku
Switch dashboards and qb visualizations over to new system
Move VisualizationSettings from angular service to lib
Add scafolding of vis implementations for new vis API, switch VisualizationSettings to use it
Cleanup and simplify legacy charting code
Remove more obsolete code
Remove dead/obsolete code from metabase/lib/core
manually back porting the fix from #1830 to the 0.14.0 release branch.
Add `not` and `does-not-contain` filters to MBQL :yum:
Hide chart if there's an error. Resolves #1817
Remove obsolete card title code
Misc style fixes
Expose additional string filter options in QB :yum: #1422
Don't render sparkline if there's only one row
Print pulse failure stack trace and give warning padding.
Make sure to load druid data (if applicable) before starting test suite
add cursor pointer to before / after in date picker
100x faster query builder & cards :unamused: #1726
Prevent multiple popovers from opening
Run Druid unit tests on CI :persevere:
when there is an error downloading a CSV just return a 500 w/ a plain text error message instead of a JSON document.
fixes #867 where the state heatmap was not showing up as a viable visualization when grouping by State.
Show warning if tutorial remains in inconsistent state for > 10 seconds
update links to point to the new 0.14.0 download location.
Disable tutorial back button for now
Don't update URL when QB tutorial is open
rename the aggregation "Row count" to "Count of rows"
fix typo.  "question" -> "questions"
Improve AccordianList initially open section logic
lint fix.
show a simple 404 page on the QB if someone tries to load a card that doesn't exist.
fix visual design of multiple filter values
Druid driver tweaks :unamused:
Druid driver tweaks :unamused:
fix issue with flex squashing on filters in safari
Druid driver :scream_cat:
list all dashboards instead of just the users created dashboard when offering target dashes.  fixes #1717
Remove redundant code, fixing Firefox syntax error
Make hot-reloading play nicely with frontend tests
Add has-sample-dataset pseudo-setting, use to hide tutorial in onboarding
Use is_sample instead of checking name is 'Sample Dataset'
Remove legacy 'org' param from db service URL template
use the approved form of react `refs` which recommends a callback instead of a string ref.
make a general statement about not collecting any detailed values so we don't have to repeat ourselves.
couple final tweaks.
Switch from passing 'dispatch' to components to using pre-bound actions
Hide QB tutorial link when Sample Dataset has been deleted
Warn when deleting Sample Dataset that it will disable the QB tutorial
update docs about information collection.
Test joins with duplicate column names :yum:
small tweak to maintain ability to lazily load drivers.
Use /q?tutorial to start tutorial to ensure QB is in a totally fresh state
adding section to operations guide detailing how to migrate the H2 database to MySQL or Postgres.
update the QB error message to be formatted a bit differently and include an option to expose the detailed error message.
Keep SQL editor in SQL with query
Re-focus the SQL editor after clicking 'Run Query' to prevent 'delete' from navigating back
More data ref fixes
Wrap pulse card list
fixing up some corner cases and adjusting api unit tests to account for returning `:features` in our database objects now.
Don't highlight selected db if there's only one schema
Increase Pulse card hard limit to 25, add warning for soft limit of 10
add a little trimming to protect against stray spaces in our event names.
Add extra step to QB tutorial to reflect changes to data selector
update our QB operators calculations to check if a given aggregation requires a certain database feature.
add `:features` as a key on the `Database` model so that we can use it throughout the frontend.
Added instructiosn to users guide about segments and metrics.
Added documentation for segments and metrics in admin guide.
instrumentation on data model pages.
people admin instrumentation.
more instrumentation on admin settings.
add instrumentation on dashboard actions.
New script to check for reflection warnings :unamused:
New script to check for reflection warnings :unamused:
Don't log kv pairs in korma form that have empty keys
tweak our tracking approach for links a bit to use a listener instead of a custom react component.  filled out a lot more events.
Only log API calls once :ghost:
Don't log "macro-expanded" query when it has no macros
fix FK delete issue.  fixes #1755
Database schema support in data model
create a new React component `A` which wraps a simple HTML `a` tag with the ability to 1) fire a Metabase tracking event and 2) call 1 or more functions onClick.
Actually fix existing lint warnings
Lint JSX files and error on warnings
Support schemas in data picker
small formatting fixes.
Add metabase-bootstrap.js to testing environment to emulate settings inlined in our index.html
dump and load-dump commands :punch:
removing stray file.
trim email address before validating/saving them.
support a more diverse set of timezones.
fix up our script for extracting the git version
update to docs in prep for v0.13.3 release.
updating slackbot icon url to a new image to work around Slack image processor garbling our icon.
couple quick additions to unit tests.
small tweak to ensure we are properly identifying map/vector classes for field base typing.
final touches so that setting up Metabase with a new db that wants to skip the in-depth analysis will work without issues.
Typo in qb tutorial
Add cursor-pointer in qb tutorial
update Database form to add in the new toggle for optionally skipping the full table analysis work when syncing a database.
tweak our method signatures just a little and update our sync logic so that by default we always defer to the stored value for `:is_full_sync` for a database when syncing.
Don't initially open data selector when showing tutorial
add new `is_full_sync` field to Database model so that we can track if the given database should run a full-sync? when its time to update its metadata.
a fixes after merging refactoring stuff from master.
fixes #1719 by first creating a channel for #metabase_files where we can post files into, when uses the new :url_private from the slack response to reference the uploaded file.
Remove unnecessary function in models/users :moneybag:
Update sample dataset to include timestamps in the future
Update shrinkwrap
Replace delay-based hydration with fns :yum:
Replace post-select delays with formal methods
more tidying up.
remove field-avg-length and field-percent-urls from IDriver interface since those are handled as part of analyze-table now.
make it clear we require Mongo 3.0 or higher in the docs.
lint fixes.
fixing up all of our new models/entities to work with the new IEntity structure.
need to have a default.
tidyness
formatting.
fix up the macro expansion stuff in the QP after merging in the new QP expansion code.  ended up putting that stuff in its own ns.
remove old unit tests that were accidentally included in merge from master.
Remove unused hydrate form :yum:
Refactor MB Models a bit :yum:
allow segments and metrics to be fully deleted, which is required when we delete a database and its tables.
fix typo and remove colors from dropdowns on data model column editing.
fixing stray issue from merge w/ master.
one more lint fix.
remove stale references to determine-fk-type function
lint fix
couple final cleanup things.
a few final fixes for unit tests to make everything pass.
use `long` instead of `int` since row counts on tables can be big.
small organization thing.
more hardening work after running some additional tests.  preventing field-values from being calculated by our fields model, we do that in our sync process exclusively for now.  removing the active-nested-field-name->type function from IDriver since it's not used any more.
document the `:full-sync?` kwarg that's now an option when triggering a sync.
small docs tweaks.
a few unit test fixes mainly to account for a couple cases where we changed the special-type that a new field will have after sync.
fix support for syncing nested fields in mongo.  we now do that as part of the same pass over the raw data that we do in describe-table.
we also need to do cardinality & field-values tests in our mongo analyze-table function.
implement our analyze-table functionality.
more streamlining.
remove active-column-names->type, table-pks, and table-fks from IDriver protocol, they've been fully replaced by describe-table and describe-table-fks.
remove the driver-specific-sync-field! function from the IDriver protocol and replace it with a column->special-type function on the ISQLDriver protocol, which is more in tune with the reason it existed.
fix FK identification for redshift and get it working again.
next batch of work on updated sync.  includes updates to mongo driver and some new unit tests.
first batch of work to break apart sync process and make it possible to sync a database without running row level analysis.
Rename assoc* to assoc<> :scream_cat:
Cleanup pulses code a bit :scream:
Escape dots in SQL identifiers :unamused: #1408
Add qb tutorial illustrations
Modal transitions
filter out retired metrics & segments from the QB widgets.
Allow Windows domain auth for SQL Server :crying_cat_face: #1638
fix up admin UI to honor deletion of metrics and segments and not show them in the listings anymore.
unit test fix.
Support SQL Server SSL connections :yum:
add tweaks to HistoryModal to restore the little bit of copy we had around revision descriptions which detailed when it was the first revision and when it was a reversion from a previous commit.
final tweaks activity feed rendering to allow for linking to QB with segments & metrics.
flush out activity feed rendering for Metrics & Segments.
Support SQL Server Clobs (`VARCHAR(MAX)`) :sweat:
Specify how to JSON-encode byte arrays :scream_cat:
PageFlag enter/leave animation
Small cleanup of Query eXpander :yum:
Define dispatchable QL functions with metadata annotation :yum:
MBQL schema constraints for ints > 0 :yum:
Minor fixes :yum:
MBQL '98 :yum:
Remove driver-specific QP code for rows/inside :yum:
Remove Q macro; return innermost schema validation errors :scream_cat:
Remove use of Q macro in metabase.driver.query-processor-test :yum:
Query Builder tutorial
Use schema for validation :yum:
Reworked Query eXpander :yum:
Show different description when editing segment/metric
Add Breadcrumbs to revision history page. Correctly assign colors to user icons
cursor: pointer; on tooltip target
Use .wrapper in segment/metric forms to ensure margin matches nav bar
Add spaces in text diffs
Give textarea Lato font
unit test for `serialize-metric` function for Metric revisions.
simple test of `serialize-segment` function for Segment.
Improved query description, including colored JSX support
finish updating formatting on notifications email.
Improved query/metric/segment descriptions
Add aggregation to revision diff and tooltip. Add tooltip to metrics
more complete dependency tree for notifications and cleaned up the rendering process a bit.  notifications now also get sent for metric updates.
finish wiring up Metrics with dependency tracking.
unit test fix.
updating various things based on feedback in code review.
Add tooltips to aggregation widget
capture the fact that metrics now have a dependency on segments.
fix macro expansion issue with metrics occurring when original query had empty filter definition.
Metrics frontend implementation
update current docs to point to new version.
update current docs to point to new version.
lint fix.
log the macro expanded query form to help with debugging.
return all Segments and Metrics in our database metadata endpoint.
make a test Database + Tables for unit test instead of using hard coded values.
small fix for metric macro expansion when there is no :aggregation clause !?
lint fixes.
Metrics!  all the same basic capabilities as Segments, but now applied with the option to define the aggregation.
s/Fieldset/FieldSet/
Be less aggressive about striping 'resolved' from shrinkwrap
Use outlined star for segments in QB
Add segments to query builder
unit test fixes.
listen for segment updates and send out a notification email as needed.
small tweak to unit test to avoid random failures.
finish flushing out dependency code.  we now listen for create/update events on cards and when they occur we extract the dependencies on Segments for cards and update them in our dependency tree.
fix up macro expansion code which was a bit overworked and wasn't accounting properly for the case when the filter clause doesn't start with a ["AND"] or ["OR"] operator.
Segment revisions formatting etc
expand ["SEGMENT" <segment-id>] clauses in the QP.
another revision diff fix for case where definition is only removing things.
return the whole definition of a segment with the revision diff, not just the filter clause itself.
few more tweaks to segment revisions to account for case where we are comparing against nil object for initial revision.
updating segments diff code to provide all the details about the changes.
basic dependency framework.
Segment create cancel button, misc tweaks
Segment revisions
Add missing admin frontend files
Retire modal validation
segment delete endpoint needs to take revision message as a query param not from json body.
Wire up segment retire button
More npm wrangling
Integrate Redux/React Router to start transitioning away from Angular router
tweaks to revision system to allow for more options describing deltas: * updated IRevisioned protocol to add a `(diff-map)` function which provides a structured description of the change. * renamed `(describe-diff)` on IRevisioned protocol to `(diff-str)` just for naming consistency. * reworked some of the code around how revision details are added to revisions * new default version of `(diff-map)` for existing revisions objects * cleanup on unit tests, etc.
Rename metabaseadmin modules to metabase.admin for consistency
Bump dependencies :heart_eyes_cat:
Working segment creation/editing
extend `rows` column from integer to bigint so that we can support large row counts.
if initialization throws an exception then exit the app.
activity feed entries for segments.
Fast implementation of `active-tables` for SQL DBs :scream_cat:
update download paths in docs.
segment delete should required a commit message + addition validation tests on segments api.
Fast implementation of `active-tables` for SQL DBs :scream_cat:
unit testing on Segment revision endpoints.
More frontend query/sort cleanup
unit test for segment delete via api.
use :is_active instead of :active for our Segment column name just to follow convention.
support for adding revisions on Segments.
Remove more special casing in QP unit tests :heart_eyes_cat:
Driver improvements :unamused:
Remove legacy Heroku memory settings
More sort fixes for time groupings and foreign keys
fix for test workaround.
lint fix.
Remove superuser check for pulse test endpoint
Add clean-shrinkwrap tool to make npm-shrinkwrap.json a litte more sane
Port remaining usage of react-onclickoutside to react-onclickout, remove dead code
Update misc redux related packages
Update redux to v3.0.4, move middleware config to metabase/lib/redux
add a :message attribute to Revision model.
fix up segments api test to account for adding :active field to Segment model.
make sure that when listing segments for a table we default to filtering out deleted segments, but provide an option to get them if desired.
add in support for soft-delete of a segment which simply sets :active false
include :segments as part of our database metadata api call.
More s/metadata/datamodel/
Update URLs from /admin/metadata to /admin/datamodel/database etc, add Segments and Aggregations listings
add GET /api/segment/:id
lost some formatting.
various docs fixes.
Sync bin/start with metabase-deploy repo
Bump OS X version
lint fix.
Update developers-guide-osx.md
disable the key-pins-header until we decide how we want users to input it because it's causing an issue trying to use a db connection before the db is initialized.
allow for inline images via `data:`
add our mailing list form destination to our security headers, otherwise users can't sign up.
stubbing out segment api.
attach segments to a Table.
add a new model + schema migration for Segment.
Thinner pulse bars
Flip responsive rules, misc cleanup
Responsive™ pulse email, fix content-id issue on iOS
make sure we are setting the version before pageview tracking.
small update to developer guide formatting.
small tweak.
provide a way for users to unset the special type of a field.  fixes #1575
add our slack settings link in the index page for the admin guide.
simplify our doc structure a bit.
missing parens.
Cleanup Pulse service
Pulse validation improvements + addition for channel test button
Pulse test button (still needs validations)
use toDateTimeAtStartOfDay() instead of toDateMidnight(), which is deprecated.
copy update.
Don't let large pulse cards overflow the pulse card preivew. Just scroll for now
More aggro conditions (blur, comma, tab) for adding channel recipients
remove bin/release completely now that we have all those scripts/files in new places now.
tidy up and consolidate all of our aws-eb scripts.  remove unneeded release/dockerhub scripts.
Loading spinner on pulse card previews
updates to admin guide to account for changes on email setup and add new doc for slack setup.
Remove unused format-number-short method
Empty pulse card
Make pulse card link open in new tab
Format sparkline timestamps with relative dates if possible
new database options listed.
Add the Pulses doc and images.
include all the normal EB log files in our papertrail log files config by default.
add small blurb about the newsletter in the setup guide.
we want to use defaultValue instead of value.  doh!
small tweaks to Heroku docs.
create a new document for Customizing Metabase which details various options for modifying the default run state of the application.
update EB docs to include new config options from JClarke and upgrade version numbers.  also adds a TOC at the top because there are several sections to that page now.
Link entire card, add external link button
De-duplicate images in emails
update our aws-eb release scripts to reuse our more generic scripts for building an aws-eb-docker deployment file and add in a little code which publishes the EB launch file.
make deploy script executable.
Move deps badge to README.md
Move deps badge to README.md
Redshift driver :yum:
Only load temp DBs once :heart_eyes_cat: #1458
Simplified sparklines, misc Pulse email improvments
Switch pulse list buttons back to using 'flex align-center' to fix alignment issue
remove tab from beginning of log message.
continue including the source because it turns out we are using it as part of some of our classpath searching code.
recents empty state copy should definitely not be in the form of a question?
Add simple Pulse name validation
Base64 unit tests
reset password for Mac App :yum:
Formatting cleanup
Small useful script/proxy for debugging frontend issues on deployed instances
oops.  fix typo.
Refactor email mustache templates to use partials, for use in pulse email (and password reset)
Move timestamp parsing to reducers to fix pulse list ordering bug
cascade delete on a User should include Pulses.
add border and shadow to focused list item
Add Tooltip component, use for Calendard before/after buttons
reset password for Mac App :yum:
selectively apply a css class to our "focused" pulse list item.
do our app build during our docker image build step in order to speed up launch of the app.
scroll down to items in pulse list using #<pulse-id> hashes.
UI for the reset password window :yum:
activity feed descriptions for Pulse activity.
make sure that during activity hydration we indicate if a pulse is available.
capture activity feed entries for :pulse-create and :pulse-delete events
fire off events on :pulse-create, :pulse-update, :pulse-delete
remove empty unit test.
Remove unnecessary classes
New SpecificDatePicker before/after and text inputs
make our scripts for packaging docker images and aws-eb version files a bit more generic so they are more reusable.
open pulse channel config in new tab
Misc Slack settings improvements
Hide buttons in Slack pulses since they are not clickable
Custom Slack settings with validation
also set a `selected` state on Dashboard item on the navbar whenever user is on a dashboard.
Provide a `selected` state for our main navbar items.
tweak the sorting logic in our QP annotations to use the `clause-position` for sorting on :breakout type fields.
use our events framework when manually syncing a db so that we reuse code more effectively.  also, add a try/catch around the execution of the `sync-database!` call so that if an exception is thrown on our background thread we get some indication of what happened.
fixing indentation issue.
fix our destructuring and conditional to account for the fact that we are operating on a list of maps now.
fix subscribe buttons in safari.
add tracking to various aspects of the Pulse UI.
Put loading indicator on top of table viz
content with and danger zone spacing
white bg on scheduling select items
remove pulse icon hover color
buttons should use Lato
s/Irrellevant/Irrelevant/
actively remove old database-sync events from the activity feed now that we are not planning to have those in the feeds.
fixing comment.
not sure why that tab is in there.
switch back to simply calling `register-driver!` as part of namespace initialization.
re-write unit test to get around strange test failure on circleci.
disable unit test around activity feed items from database syncs
remove sync events from the activity feed because it's overly verbose
oops.  need to make sure drivers are loaded for unit tests.
small tweak to driver initialization code.
Make sure drivers get loaded at some point :yum:
fixes #1219 - be more explicit about how we calculate when to create the user joined activity feed entry.
add a function for finding the first session created for a given user (including unit test).
Remove null breakouts in cleanQuery
Test pulse endpoint
Actually sort pulses by decending created_at
Remove debug logs
Link pulse cards to view rather than edit
Reverse pulse list ordering
Use last two data points in sparkline summary rather than first and last. Take out relative date formatting (today/yesterday)
Show channel specific setup buttons that deep link to settings
add a quick unit test on permissions of the send_invite endpoint.
Load user for use in pulse channel stuff. Add setup message to pulse channel edit screens.
allow any authentic user to pull the list of users from GET /api/user and also add a check for superuser perms on the send_invite endpoint because that's only meant for admins.
add a resolve on our pulse routes to ensure we have access to the logged in user in our controller.
ISQLDriver protocol :yum:
don't use `?` in attribute names for properties returned to the frontend.
small fix on unit test.
updating shrinkwrap file in hopes of resolving some frontend testing errors.
Try shrinkwrapping with old version of node/npm
fix bad variable usage on download link.
a proper settings section for Slack.
doh!  fix a missed merge conflict.
improve the slack icon that gets used in message posts.
add in a `:configured?` property to the /api/pulse/form_input definitions of the available channels so the frontend knows if a given channel is actually available to the user.
try shrinkwrapping again :-/
Don't try to check if engine is valid before drivers are loaded
Add pulse channel setup modal.
IDriver protocol :yum:
Render sparkline axis/labels to an image because CSSBox and HTML email hate Tom
IDriver protocol :yum:
remove dev dependencies that are specific to Emacs because they cause issues with the REPL on Intellij.
Make drivers implement clojure.lang.Named :yum:
Small driver loading tweaks :yum:
Basic typing for drivers
Format various date granularities properly
Remove `runtime-resolved-fn` :imp:
Eliminate redundant queries namespace :yum:
little bit of reorg.
bikeshed fixes.
finish up api unit tests for pulses.
getting the Pulse api unit tests going.
Embiggen card picker click targets
finish flushing out persistence unit tests for Pulses code.
Show timezone in Pulse schedule
If you try to set a Setting to an empty string, just set it to nil :yum:
Security Headers :guardsman:
Improvements to format-date :scream:
Improvements to format-date :smirk:
Don't use bad Last-Modified header :smirk:
Add external_link pngs for Pulses
Pulse card truncation warning and general cleanup
finish off pulse-channel unit tests.
Update shrinkwrap
fix require issue.
add a modal indicating to the user that their CSV download may be pretty large if their query hit our normal api result limits.
code tidy.
SQLite Driver :smiling_imp: #1435
update QP max results limitations in a few ways:
Various pulse UI enhancements
Rework how tests get selectively enabled for certain drivers :yum:
don't generate empty tests for datasets we're not testing against
Improved pulse card detection, error handling, misc other
Combine *DriverData classes into *DatasetLoader classes :yum:
code tidy.
finish updating middleware to only apply itself on appropriate types of queries.
Remove metabase.driver.mongo.test-data namespace :yum:
condense the `(process-*)` functions in the qp namespace into a single function definition and unify the call stack so that we simply apply all of our qp middleware functions regardless of the query.  this simplifies the understanding of the qp code path and reduces a bit of redundant code.
icon position
Move data for OG Test Database to EDN File :yum: #671
restoring inadvertant change to project.clj
removing some unnecessary comments.
remove duplicate definition of slack-token setting which is now in the slack integration namespace.
add the option for users to subscribe to the Metabase newsletter from the end of the setup flow.
Reduce log leve for CSSBox dependency
Replace Pulse card iframe preview with JSON endpoint including warnings
Embed images in emails as attachements instead of Base64 data URIs
don't test email connection on unit tests.
unit tests for new email functions.
Allow setting instance for SQL Server DBs :yum: #1481
Escape card and column titles to prevent XSS
small copy change to test emails.
track the dirty state of our form and don't show the 'send test email' button when the form is dirty.
when saving email settings automatically test for connectivity and report errors if we find them.  improve our handling of smtp connection testing and format the errors as a valid api response.
revert some of our changes to the `(send-message)` function because we don't actually need them in the end.
simplify a few things with the management of our EmailSettings form.  swap the location of the buttons on the form.
adjust the email endpoint for sending a test email to always just use the locally saved settings.
more updates to Email settings frontend to support then new api endpoint at /api/email/*, to complete handling of the full saving states including success indicators on our action buttons, and to support a new option for sending a test email.
update our email messages test to account for changes to default values in our smtp email settings.
add a new api path for /api/email/* which has endpoints specific to dealing with email settings and testing.
modify the `send-message` function to optionally accept a `:details` kwarg which specifies the smtp details to use when sending the email.  if not supplied we fall back on our normal smtp details from the application settings.
when applying multiple settings, if a value is set to nil treat it as a delete.
all the basic elements of a unified SMTP settings page are now working.
add a new function for `(set-all [map])` in the settings model and add a new api endpoint for PUT /api/setting/ which allows applying multiple settings in a single api call.
small fix.
fix unit test.
fix the issue with edit boxes losing input on the metadata page by using our full database metadata endpoint to load all our necessary information at one time.  part of the underlying problem is that we were looping over the tables to get the metadata and each time the data updated we re-rendered our form and it would clear existing input, so while loading was happening it was easy to lose your input.
remove old CSRF code that was only relevant to django app.
consolidate all of the angular API service code into the main services.js file.  we were mostly going this route already, but this just makes it simple and puts all the api code in a single place.
couple fixes for unit tests.
update our predicate function `field-should-have-field-values?` to include a check that the field is not one of our Date/DateTime/Time field types.
remove code around connection testing from frontend database create/update now that it is being handled in the api.
couple fixes for unit testing.
a few things happening here:
Minor formatting cleanup :yum:
keywordize the :schedule_type and :channel_type values of a PulseChannel more consistently and ensure we are expecting the same type of value throughout the code.
Improve Pulse delete flow
Mongo Query Processor 2.0 :scream_cat:
add some try/catch on our slack api calls just to make sure they don't cause unwanted exceptions getting thrown up the call chain.
more testing on channel persistence methods.
small fix on channel update logic so that we update recipients even when there are no user-id based recipients in the update itself.
Implement 'Get this email' and unsubscribe from pulse buttons
fix issue where database create/update was still trying to call the db_form_input endpoint which we removed recently.
squash! Mongo Relative Dates :scream_cat:
Mongo Relative Dates :scream_cat:
Redirect on pulse create+save or delete
Remove core.logic
Pulse card picker with search and unsuitable card filtering, improved layout
extra dox
copy changes.
Add summary table to sparkline pulse
Load Pulse channel specs from the server
avoid trying to set the admin email to nil in data migration.
squash! squash! Rework the way field flattening happens in annotate :yum:
squash! Rework the way field flattening happens in annotate :yum:
Rework the way field flattening happens in annotate :yum:
unit tests for filter/breakout on same, different granularities :scream_cat: #1257
Switch spinner to CSS because SVG animations are deprecated and Chrome complains
include a Metabase icon when we post messages to a slack channel.
fix up the logic around calculating the current hour/day so that we properly apply the reporting timezone.
use our :admin-email setting in the public settings that we bootstrap with.
migrate existing installations and automatically set the `:admin-email` if it hasn't been set before.
automatically set the admin-email setting to the email address of the first user during setup.
add a custom npm script for `shrinkwrap` which runs our full shrinkwrap command.
okay, apparently you need to use `npm shrinkwrap --dev`
Add sparkline axis, cleanup old render-png functions
create an `admin-email` setting and make it available on our General settings section.
updated shrinkwrap file (why is it so much smaller now!?)
fix a couple small bugs and make sure that if we don't have a slack token we still get a sensible response from the api.
Beginnings of Pulse sparkline generation
updating the contents of the `/api/pulse/form_input` endpoint to be relevant again and adding in the list of slack channels and users.
add a function to Slack integration for getting the list of users.
tightening things up a little bit and moving all of our Slack api handling code into a metabase.integrations.slack namespace so it's centralized.  also added a new function for `channels-list` which pulls the list of channels available in Slack.
Misc UI tweaks
Slack and Email pulse sending
change the way the password reset unit test is done to avoid issues with the way mysql handles datetimes.
Need cond-as-> macro :flushed:
cleanup a few more things and provide a more natural and testable signature for `(send-pulses)` function.
Java HTML->PNG rendering experiments
little bit of tidy up.
task scheduling which triggers execution of the pulses.
* remove the migration junk which deleted old tables, lets skip that. * tweak the way we store schedule information and just keep `schedule_day` and `schedule_hour` directly as their own columns. * add a function for `retrieve-scheduled-channels` which makes it easy to get a list of the channels that should be triggered given a day & hour as input.
Improve card formatting
Add pulse validation, deletion, misc style fixes
fix broken code that was half-baked :/
small fixes to the way we fetch venues table to ensure we end up with the right record.
Implement editing of Pulse channel recipients and other fields
add in a small delay on view_log entries to account for the fact that MySQL datetimes don't include milliseconds.
Implement pulse channel schedule editing
/api/pulse/form_input endpoint
SQL Server Driver :yum:
more tweaks based on PR comments.
removing unit test for api endpoint that no longer exists.
squash! SQL Server Driver :yum:
SQL Server Driver :yum:
formatting fix.
provide information about our `:engines` through our main MetabaseSettings which simplifies some things and removes the need for a /api/database/form_input endpoint.
cleanup a few bits and pieces based on feedback on the PR.
Implement most of pulse listing/editing (except channels)
make `:db-details` an optional argument to `(setup-db)`
don't update the PulseCards if there hasn't been a change.
allow `setup-db` to be called by explicitly providing a map with specified db details.
update the way we fetch Pulse :cards so that we maintain the proper ordering by :position
ability to save/update channel recipients.
fussing around a bit with a more complete persistence layer implementation and really simplifying api endpoints.
wrap our main create/update persistence methods for pulses in a transaction so that everything is atomic and we don't get partially modified db records in the event of an error.
get the management of the PulseChannels to work and be connected through the api.
Add Pulse service
Move duplicated redux functions to a lib
fix ArrayOfMaps annotation.
Pulse card renderer for bar charts
remove the :in-context function we played with for unit tests.
basic initial working set of pulse api and models.  doesn't support channels yet, which is coming next.
SQL Server Driver
Initial implementation for Pulse UI
more work on migrations:
preliminary work to copy over old EmailReport code and start adapting it to pulses.  this work is mid-stream right now.
allow our previous checksum to be valid for this migration.
oops.  fixing typo.
update circle to run an additional container using MySQL as a backing store.
Add length limit to schema column in new migration :yum:
use retina friendly badge
set a length on our varchar to keep mysql happy.
remove unused binding :yum:
Schema support
Mongo's SSL key in details is :ssl, not :use-ssl
Schema support :yum:
Exclude ENTITY, LOCATION, and DATE_TIME from SUMMABLE fields
Schema support
Encode org.bson.BsonUndefined as null
Don't sort numeric field values lexically
Refactor .ebextensions, add support for Environment Properties
Don't show links in table cells for aggregations
Don't use private/SSH remotes (e.x. git@github.com) because they break Heroku deploys
Frontend changes for loading engines from form_input in setup
<< SCHEMA SUPPORT >>
apply the same basic logic and styling to the Data Reference section for FK connections that we just added to the object details page.
tighten up the styling on the connection "via" span and update logic to only show the path of the FK relationship is needed (aka if there are multiple references from the same table)
add a function in our schema metadata lib for `foreignKeyCountsByOriginTable` which counts the occurrences of FK relationships by the origin table they come from.  this allows us to know if a given origin table is represented multiple times in a list of FKs.
SQL Server Driver [WIP] :yum:
Linty fix :yum:
Add definition for 'ssl' field to mongo driver
`defmigration` macro for defining data migrations
`defmigration` macro for defining data migrations
Expose clause handler fns to SQL drivers
Don't need to eval in SQL QP
provide an indication of the FK field that was used to determine the connection on object details relationships pane.
order the list of connected FKs by the name of the origin table.
sort tables in the QB data selector drop down by their display name.
merge metabase.driver.interface -> metabase.driver
allow configuration of Jetty SSL vars through environment.
Tweak DB forms to use API form_input
SQL Server Driver [WIP]
fix up unit test failure.
Update README.md
linty fix
Don't blow up when saving a question with a unicode characters 😁
changed port to default mysql port
Added MySQL database configuration to the docs
squash! squash! squash! Rework the way drivers are defined
squash! squash! Rework the way drivers are defined
squash! Rework the way drivers are defined
Rework the way drivers are defined
Improved loading page
More consistent people/databases header styles
Remove unused /admin/databases/ partials
it would be good if i could spell properly.
circle still not liking our curl command for deployment
circle being difficult with us.
Refactor DatabaseDetailsForm, fix usage in Database editing/creating
update our deployment command in circle.
support RDS environment variables in our bin/start script
add a couple of MySQL specific mods to our migrations where we need to use the `TEXT` type instead of `VARCHAR` on mysql.
add `:mysql` as an option for running the Metabase application database.
Mongo SSL Support #1312
Mostly working conversion of database edit/create to React. Also incorporate some of the UX improvements (delete confirm, animating FormMessage)
fix em dash
Dockerfile which is intended to run the app from source by building it first.
add exceptions for epl libraries
Bump dependencies. Move tools.reader dep to :dev since it's only needed for expectations
semicolon.
kill unnecessary variable creation.
when grabbing the admin email, make sure it's an active user.
make it possible to complete the initialization process from outside the metabase.core namespace and trigger it in our test setup process so that logins work for unit tests again.
State that only H2 and Postgres are available
more consistent highlighting
highlight file path as code
add a quick conditional to our current-user-id middleware to ensure it doesn't attempt to validate the session if we haven't initialized the app yet.
Update developers-guide-osx.md
Update developers-guide-osx.md
Add information about the MB_JETTY_PORT variable
Initialization progress bar
trim out unnecessary check for ssl === true
Disable JRE stripping in bin/osx-setup since it breaks SSL
fix link to setup guide
Give empty timezone a name
put it on our own domain
add link to CLA form
add back the ssl and non-ssl database connection try logic which went missing when we moved setup over to react/redux.  fixes #1304
Allow user to unset report timezone
Add NSAppTransportSecurity exception to OS X app Info.plist
fix link to setup guide
Add NSAppTransportSecurity exception to OS X app Info.plist
update tests to run against mongo (= filtering against relative dates is WIP)
final bits of cleanup and removal of old angular templates we don't need any more.
new implementation of user account settings page done in react/redux.
update password update api endpoint to always check the current password when a user is updating their own account.
Convert /admin/database listing to React
fix links to base docs directory. /docs/ doesnt work due to lack of a version
Change == to === in greeting.js
Add server error graphic
Server/timeout error screens + admin email setting
remove reference to report server
we are not registered.
update marginalia dep since old version is incompatible with Clojure 1.7
More explicit copyright notice
Add logic to put ? after 'How's it going' greeting.
remove the links to legal docs from our About Metabase modal.
fix links to looking up database info for heroku and rds.
fix link to users-guide
provide a link.
remove specific version from docker launch command.
Tweak OS X upload scripts to upload to downloads.metabase.com
Remove jQuery
fix getting started link.
use our tracked aws and heroku launch urls from our documentation.
Add a missing apostrophe to Let's Get Started, and add commas to dashboard greeting.
use the same EB zip file name everywhere.
don't include built EB zip file in repo.
scripts for building and publishing Docker image + scripts for publishing Elastic Beanstalk version.
Add a couple pixels margin between list items
Add table/db icons to data sector list, tweak hover/selected states
remove version numbers from docker launch command.
removing marginalia docs link.
remove broken link.
add "SNAPSHOT" back to the name/description of our clojure project.
fixing another download link.
fixing broken link.
fix download link.
Combine metadata guide content into administration-guide/03-metadata-editing.md
rename jar file to metabase.jar
remove readme.txt file, which is empty.
remove etl guide which is incomplete.
couple quick updates to the developers guide.
fixing link.
cleaning up some typos and little things in install guides.
Heroku install guide plus a much nicer AWS guide with images and stuff.
Use display_name for chart axis
Re-enable null/not-null for dates.
Improve date grouping/extract formatting, add unit to table column header, fix bug where column header content wasn't taken into account in column sizing
Format chart tooltips/labels/axis with time granularities when appropriate
Enable hour-of-day and use uppercase AM/PM because maz/Chicago Manual of Style says so
Update and simplify README.md. Small edit to getting started guide.
First pass at formatting date/times by granularity
rename Elastic Beanstalk install guide.
couple more tweaks on Docker install guide.
couple copy tweaks on mac install guide.
small tweaks to jar install guide.
adding a link to the setup guide in the jar install guide.
finishing off the docker install guide.
Correct getting-started.md's filename.
Combine getting started guide into a single file. Add new setup guide.
mac app install guide
Retina version of loading animation assets [ci skip]
Minor tweaks to OSX release script [ci skip]
fix typo in slackbot announce script [ci skip]
New loading animation; fix release script typo. [ci skip]
fix up end of page links.
fix a up a couple links.
rename install guide to operations guide.
shuffle around a few bits of information between admin and install guide and then start to flush out some more details for install guide.
Integrate Metabase OS X repo.
Remove .DS_Stores
consolidate information about adding new databases into the Admin Guide under "Managing Databases".  this removes the FAQ which is really not populated enough to warrant having yet, and removes a page from the install guide.
Include DateTimeField unit in QP response
asking for data is presumptuous.... spurious promises of peer approval not withstanding
Finish off updates to Admin Guide.
Surface HTTP errors for the dataset endpoint (Heroku, etc)
please stop party rocking
remove news score references
remove references to report server + updated running info
Always load external resources over https since sometimes the app will be running locally over http
remove proto deploy script.
no need to rename the uberjar after build now.
Remove silly showScrollbars thing and always just use 'scroll-show' class with 'overflow-y: auto'
Various scroll bar fixes for non-Mac platforms (a.k.a. we forgot 'overflow: auto' exists)
Format nested objects as JSON in table view
fix table rendering
Stringify objects in object detail, e.x. MongoDB nested objects
Change backend to start Jetty immediately, add show loading screen until db is ready
Remove deploy-metabase-deploy script (replaced with script in metabase-deploy repo
move build script back to bash
squash! Better error-checking for ./bin/build
Better error-checking for ./bin/build
nix half baked docs
Initial changes to admin guide and some cleanup on getting started guide.
move build script back to bash
Finish updates to last two pages of the users guide.
squash! Better error-checking for ./bin/build
Better error-checking for ./bin/build
Make a bunch of updates to users guide and remove old images.
Don't build as part of the deploy-metabase-deploy script
Add metabase-deploy script and addons to app.json
nix half baked docs
Double ; for comments
Change success_url in app.json to /setup
db/parse-connection-string unit tests
fix circle ci badge.
Redirect back to page after logging in
s/an Sample dataset/a sample dataset/
Refactor schema_metadata's field type parsing, resolves zip/state/country showing INSIDE operator
Remove nerd shaming. 😇
Refactor connection string parsing, move NonValidatingFactory import to postgres driver
Make some improvements to getting started guide and add new images.
Rename .react.js files to .jsx
Move all propTypes/defaultProps to static/class variables
Convert a couple more React components to classes
s/getDOMNode/findDOMNode/
Pass props and context to every super() call in React components
Remove 'React' global exception from ESLint config
Use React's codemod to translate most remaining 0.12 components to 0.13 ES6 classes
Move version and dox Makefile to scripts in bin/
Move build-uberjar to bin/build, remove redundant install commands from package.json, and add bin/start
fix bug where SortableItemList wasn't properly sorting by last modified time.
clean up markup and fix positioning
Heroku support, including connection string parsing.
New text for Getting Started guide.
fix positioning of help on welcome step + markup & copy refactor
don't force `table` visualization on a :rows query if the display is set to `pin_map`
Hide relative date filters and time extracts for MongoDB
use our new chart type illustration icons consistently across all pages they are present (dashbard add card, saved questions, homepage recent views)
Clamp dashcard titles to 2 lines using clamp.js
Add illustration for pin maps.
have the installing user go through our new user onboarding.
add our password complexity description to the account settings password reset form.
add offset=false on our people admin user editing modal forms to fix label alignment issue.  fixes #1143
use a version specific docs url for our information collection link.
fix missing padding on first line of user setup form caused by Grid class.
add autofocus on first input of setup form.
update cmd line setup url and remove token.  fixes #1153
add a try/catch when we update the sample dataset so that failures don't cascade to other code.
update import path.
just for the sake of normal naming schemes, use `src` as the folder that holds the frontend code.
update empty state graphic
Mongo driver handle empty strings
Humanize DB connection error messages #881
Add flex-shrink:0 to card listing author/date to prevent from getting squished
Refactor Popover positioning code
Don't use Tether's constraints, do it ourselves for better control
use regular on dashboard empty state
light is still a bit too light in these situations so use regular
switch to Lato 300 for light, remove unused 200
use proper webkit font smoothing property
re-add the gear icon.
remove Intercom from main repo.
Limit Select widget to 340px max-height, add option to show scrollbars (can't auto-show custom scrollbars?)
Remove insane code to load Google Maps
set proper font-smoothing
add in some tracking in the event of errors.
add version number on documentation link for 'Help' in dropdown list.
Added transition animations to navbar items.
fix filter icon
Hide hidden tables in data ref
Remove unecessary tetherOptions props
Intelligent popover placement
Remove redundant Popover classes
Cleanup Popover, merge DEFAULT_TETHER_OPTIONS, get actual trigger element as target
use the GA code that is injected into the app dynamically and instrument our setup steps so we know if people fail on install.
default state of anon_tracking_enabled is `true` if the value is unset (meaning a fresh install).
restore some icon paths that went AWOL.
return our older more cryptic error response when the user is running native queries.
button back + styling
final touches on the About Metabase modal.
fix a couple final spacing issues with new filter icon.
lighten up the box shadow on the new question button.
re-introduce new filter icon.
use the `area` illustration where we have `line` charts.
Remove unused AddToDashboard component
few fixes and tweaks to get the new chart/dash illustration icons working and showing up properly on Recent Views box on homepage.
Make pie chart use expanded color harmony again
Added visualization illustration SVGs
add version to GA event tracking.
update setup help link to go directly to the docs for the current version, not just the latest docs in general.
Wire up download button so it can work in Mac App
make commit hash a link back to github.
include has in About Metabase modal.
updating versioning stuff so that we have individualized pieces of information which allows us to do different formatting in various places where needed.
Dedup colors list to ensure stacked charts don't have the same color
Use smaller set of colors for chart color options. Remove extra padding on color picker
style touchups
add icons next to our recent views items.
use new filter icon.
new icon for filter.
Iterate through color harmony in correct order for pie charts
update empty state for dashboards dropdown with new icon and new copy.
Pass dataset_query to card renderer, fixes pin maps
allow breakouts to include PK, FK, and Entity Name type fields.
s/metabaes/metabase/
removing duplicate components that were moved to frontend/app/card/components
fix up styling on sidebar headers for Recent Views and Cards Filter
add agpl license
navbar updates to make the buttons a bit more trim and impactful.
add justify-content
remove inline unprefixed flex for safari 8 compatability
Move hasLatitudeAndLongitudeColumns to schema_metadata to fix pin maps
Cleanup webpack js/css globs
Add ESLint rule to prohibit 'use strict' since it is no longer needed
Remove 'use strict' from *.js files since ES6 modules are always in strict mode
put in version number dynamically.
add image assets and message markup
adding an `About Metabase` option to the user profile dropdown.  still some pieces missing though.
update styling of sidebar headers to use dark grey uppercase lettering.
add header to Saved Questions page.
add Activity header on the homepage.
remove tabs on the homepage and make Saved Questions its own top level nav button with its own page separate from the homepage.
fix issue where dashboard listing doesn't update after user login/logout.
Rewrite Java code for rendering map tiles in Clojure
Update fixed-data-table and enable allowCellsRecycling to try to improve scroll performance
use `db/exists?` instead of `db/sel :one`
fixes #1097 by applying cursor-pointer on our actions dropdown items.
fixing stray link that pointed to old path to csv downloads.
remove Cards when a Database is deleted.  this now allows a Database to be deleted at any time without failing on an FK error from the database.
use cascade-delete to remove Revision entries when a Card or Dashboard is deleted.
fix issue where unit test causes setup-token to be recreated on namespace reload, which is annoying in dev.
Move frontend src to /frontend
unit test fix.
Minor code cleanup: Remove some unneeded imports, etc.
fix broken events initialization. Remove some unneeded imports
capture name/description/engine from databases at event time and use that for our activity feed rendering.
mongo fix
simply sync the sample dataset on app startup, but explicitly skip any activity feed entries related to the sample dataset.
bump dependencies
Correct way to have table take up full available height
update last-login event listener to use the new `events-init` bootstrapping pattern.
make sure that the initialization functions for task/events namespaces is actually optional.
do a little bit of reorg on the init flow and specifically carve out an easy way for us to trigger an update of the sample dataset when that becomes necessary.
noticing an unrelated issue with FormLabel react component and fixing it here.
Command for manually releasing migration locks
Improved logic for re-computing contentWidths/columnWidths, add ellipsis for overflowing cells
Prevent Liquibase migrations from leaving unreleased locks by running inside a transaction.
treat the "I'll add my data later" link as a normal branded link instead of a grey special link.
fix for special chars regex.
be more idiomatic and update docstrings to better describe how the initialization pattern works.
more code & css cleanup.
code cleanup.
fix unit tests to account for the fact that `:is_sample` is now part of all Database objects.
finish off styling for sample dataset re-add link.
simple UI to allow an admin to re-add the sample dataset if they deleted it previously.
simplify sample dataset management by adding a column `:is_sample` to the Database model.  also add a new api endpoint which allows us to easily recreate the sample dataset if the user wants to do so.
add some migration logic for Sample Dataset so that we don't accidentally add it twice and explicitly putt the creation of the sample dataset in our app installation code block.  we also create a new namespace for the sample dataset functions so that we can reuse them easily.
don't shutdown quartz scheduler if we never initialized it.
update initialization for events namespaces to fix reloading issues and allow events to load in namespace.
update task initialization code to prevent rescheduling of tasks.
fixing issue where Exit Admin was showing up for non-admins.
update shrinkwrap file.
fixing namespace resolution issue.
make sure user can't remove the last admin.
make PasswordReveal a global component.
finish off styling for password reveal component.
default sorting for users will be reverse chrono by creation.
Convert QueryVizsualizationTable to ES6 class
fix data reference scroll issue
apply password complexity when we automatically reset people's passwords.
make our generatePassword() function actually enforce password complexity rules when needed.
streamline public settings availability and syncing.  this is driven mostly by the need to have an `:email_configured` property that we can use on the frontend to dictate some of our UI.
make it possible to link directly to a specific section of the Settings page.
make all of our actions have eager confirmation, so we don't wait for server responses for any of the actions.  also, add in a confirmation on user removal.
more styling tweaks for modals.  at this point everything should be done according to the designs.
code tidy up.
provide a little space on the bottom of the page.
remove the line from the top of the table header.
more fixes for modal launches and styling, plus make our PasswordReveal component start to look appropriate.
fix up styling for password reset modal.
create button coloring for `warning`
add css option for a `small` modal.
make className prop configurable on ModalContent component.
fix up styling on AddPerson and EditDetails modal forms.
make it possible to disable application of `Form-offset` style on FormLabel component.
enable resending of user invites.
list for :user-login events and update the User :last-login attribute to keep it accurate.
H2 requires that we set the column type on a dropNotNullConstraint
cleanup.
make :last_login for new User accounts default to null.
several more updates.  getting fairly close now.
second batch of updates for new people admin screens which includes all the new modals for add user scenarios (unstyled at the moment).
initial work on new People admin section.  still a WIP but we now have everything converted over react/redux and most of the core functionality is in place.
Add a class to show scroll bars even in OS X which hides them
default props.
fixing typo.
code cleanup.
clearing out some old angular code that we don't use any more.
navbar is now rendered via React.
Filter nulls from select widget
Default bool filters to true
Cleanup schema_metadata, add special case for bools
Reenable accidentally disabled multi select
Enable lots of additional security headers for Metabase.
give LogoIcon a default width/height of 32px which is what we use on the homepage navbar.
Add better UI for non-multi SelectPicker
Add non-multi support to SelectPicker
Remove extra console.log
Add missing filter operators
cap height and scroll field list
Combine middleware namespaces since they're all fairly small.
Combine middleware namespaces since they're all fairly small.
update function name
short + long versions
First pass at smarter column widths, number rounding, and full height table
Misc SelectPicker cleanup
handle custom versions with spaces
./build-uberjar lets you specify version interactively
comment cleanup
clarify comments in ./build-uberjar
remove commented out code
Put version in properties file
Refactor filter fields/metadata, add custom placeholder texts
imports cleanup
Add unknown field type icon
Convert FieldWidget to ES6, make color configurable and default to text-brand
Extract AccordianList React component and use for data selector
Remove chevrondowns from aggregation widgets, convert to ES6
Convert GuiQueryEditor to ES6 component
Reenable null operators
Tighten up filter widget spacing. Convert to ES6
Filter placeholder text
update shrinkwrap to latest
linty fix
generate a version.js file
undefined placeholder for version.js
fix typo
tell git to ignore changes to version.clj
'undefined' placeholder file for version.clj
describe tags from origin/master instead of master
A lil bit of script magic to generate a Clojure file containing latest MB git tag :sunglasses:
Autofocus TextPicker fields
Don't show 'Add another value' until the first one is set
Don't mark new values as invalid
Missing padding
Improved foreign key display in FieldList
 Always show section header, but don't make toggle-able if only one section
OCD ns declaration cleanup :scream:
fix typo in docstr
speell correcctli
Make time grouping item hit target full width
Sample Dataset sync improvements. Options for `defsetting` :yum:
fix alignment of run button
add z-index lib and apply to relevant elements
make password complexity description on password reset page dynamic just like we do on the setup page.
Clear field selection when hitting back button in filter widget. Use field presence to determine which pane to show
Refactor FieldList icon rendering
Open FieldList section to previously selected section
add missing && :yum:
Eliminate CircleCI bottleneck.
code formatting tweak
New endpoint to check if token is valid, and page to show if it isn't
Show bucketing in field name even for default (day)
put in the actual link to the information about collected data from our docs and set its target to _blank so that it opens in a new window/tab.
lint fix.
add some try/catch logic to prevent an exception from killing the whole job.
cleanup a few references to old task code.
use Quartzite for scheduling and running background tasks to give us some more options.
update getting started guide
couple more heading size tweaks.
some reorg and updates to developer guide to flush it out more.
Color FieldLists properly
Time groupings
fix layout
Improve filter value copying logic, show correct date picker pane, clear filter value when switching date picker pane
initial pass at adding visibility column to table metadata editing.
Don't accordian unless we have more than one section
Move FilterWidget into filters directory
fix select
Replace FieldSelector with FieldList for aggregations and breakouts
add step title component and clean up spacing
Implement new filter bar display including date/time
use existing toggle
css cleanup
don't show bullet points on usage tracking step if user toggles tracking off.
extend the password reset token expiration from 1 hour to 48 hours.  this is mostly driven by the fact that new user invites include a password reset and expiring those after 1 hour seems ludicrous.
one more unit test fix.
unit test fix.
make password complexity part of our bootstrap settings for the frontend and then allow the UserStep of our setup flow to dynamically build a label regarding the password complexity.
remove `help` param from FormLabel, we'll handle that elsewhere, and allow explicit setting of the error message.
Refactor _getTarget into Query.getFieldTarget
add dynamic password complexity checking to the UserStep.  this is done by adding an /api/util/password_check endpoint that we can use to test passwords against as the user puts them in.
test fix
Use transparent borders to avoid fluid qb reflow thrashing
test fix
code cleanup
Return useful error message for when password error token expires
Style new new date picker
lint fixes
final unit test fixes.
remove stray logging.
use the events system for triggering a database sync when a :database-create event is triggered.
fix a couple lingering issues with database creation during setup.
Missing keys
New new date picker layout
clear out some logging.
few more polishing items.
tidy up the UserStep and finish off all the proper form handling there.
tidy up the DatabaseStep and add in full form validation support along with the ability to use the setup api to validate the connection details of possible new database creation.
new setup process working end-to-end in React now.  still more to do, but all the pieces are in place now.
Default shortcut tab to 'this'
Don't use Moment's UTC mode in Calendar/filter widget
Implement relative date range display
linty fix: fix some lines that are *way* too long
Metadata for the Sample Dataset. New functionality to sync data included in a _metabase_metadata table.
Change filter buttons to normal font weight
Implement and cleanup calendar ranges CSS
Style and cleanup date picker buttons
Change ESLint no-unused-vars rule to warning
Use new filter widget for exiting filters as well
Relative date shortcuts
first batch of work laying out new setup page flow.
update /setup/ route handling so that we only send people to setup when it's appropriate, otherwise to prevent them from accessing it.
add a new ES6 lib for MetabaseSettings.
remove redirect to setup with token, we'll handle that on the frontend going forward.
Enable hot module replacement for CSS
Rename setValues to onValuesChange
Implement validation and logic for disabling the add/update button
make variable injection a function because it needs to be realized at runtime.  also add the setup token to the bootstrap info.
use a more appropriate name for our variable on window.
fix naming bug after merge.
basic ability to inject a JSON object in our index.html page to use for bootstrapping.
removing old & unused code.
update the delivery of the index.html page so that we can inject values into it dynamically.
Add overrides for operators/names/visibility
Consolidate metadata utilities (explore.services, lib/field_type.js) into schema_metadata.js
Default to first operator upon setting filter field
Wire up checkbox
one more fix to ensure we start with an empty Activity list before our unit test begins.
update revision api tests so that they are focused on testing the endpoint functionality and not a bunch of other stuff.
Cleanup
Make filter field accordian functional
fix title
more datepicker styling wip
test fix
validate the :object of the stored revisions in our unit tests for `(push-revision-event ...)`
flush out the unit tests for `(process-revision-event ...)` function which handles new events related to revision tracking.
we don't need a couple of our work arounds for the activity test anymore.
fix
date picker init
fixes
layout tweaks
type parsing + tet and apply to field list
Some cleanup to metadata guide doc
initial styling and icons + misc cleanup
typo
fix stuff again
rename to index to keep jekyll from barfing
rename to index to keep jekyll from barfing
tweaks to developers guide
fix link
another fixed link
fix capitalization error
fix link
gh markdown generator doesnt like lack of extra lines
break up documentation into digestable piecess
fix placeholder on metadata field
add harmony
Beginnings of new filter widgets. Supports categories, text, and numbers, and multi-selection for each of those.
add route for favicon
cleanup
handle subject to deal with sql backed cards
fixes #577
update to our current lack of a token
fix filter widget height issue
Fluid query builder layout
consistent auth scene
Remove sorts referencing the dimension that was removed
Remove dataset_query argument from runQuery so that it always cleans and runs the canonical version of the query (fixes issue with cleanQuery modifications not being persistent)
create an `:mb-run-mode` config property which defaults to "prod" and add couple predicate functions in our config ns for checking `is-prod?` and `is-test?`.  then update our event listener startup calls and wrap them with `(when (config/is-prod?) ...)` so that we only start them up when we intend to run the app for real.  lastly, update our environment for our expectations unit tests so that :mb-run-mode is "test" and thus our event processing listeners are not started for unit tests.
quick tweak to revision code to avoid protocol implementations on classes as basic as java.lang.Object so that functions like `satisfies?` can be useful.  this simply removes the base implementation of IRevisioned from java.lang.Object and instead defines a couple default implementations of the protocol functions which entities can reuse.  also, we remove the base implementation of `serialize-instance` because that just feels dangerous and we want to encourage each entity to provide its own version of that function.
documentation and refactor for icon border
fixes #970 by refetching the dashboard after a save in order to ensure all previous editing state is cleared.
fixes #912 by updating the Dashboard :name, :description, and :public_perms on a reversion
small bit of cleanup and removal of duplicate/unused code.
upgrade the revisions code to work off our new events system so that we can remove some unnecessary code from our api endpoint implementations.
use inflection on table and relationships for object details
another attempt to fix activity api unit test.
a couple small tweaks to our activity unit tests to prevent race conditions which intermittently cause test failures.
provide an activity description of the install activity.
we need to start the events system BEFORE we try to publish our install event ;)
one more time.
update frontend test.
remove duplicate implementation of Settings services and consolidate them.
more removal of frontend service endpoints that are not valid any more.
trimming out old fronten service endpoints which are no longer part of the actual API.
rename /api/dash -> /api/dashboard
move /api/meta/fk -> /meta/foreignkey
move /api/meta/field -> /api/field
title attribute for add question. fixes #964
move /api/meta/table -> /api/table
move /api/meta/db -> /api/database
move /api/meta/dataset -> /api/dataset
small test for unit test.
add preamble describing what a guide is about
be consistent about setting propTypes on all of our new react components.
fix react key warning on recent views
code review: - remove unnecessary else condition
add title attribute
code review - add some proptypes cause types are neat.
non proptype code review
move icon border to components dir
font size tweaks
better spacing on empty state
tab spacing
small unit test fix to ensure we clear out existing activity entries before our activity api test.
cascade delete of user should include ViewLog entries.
limit recent views to 10 and activity to 40 for now.
unit tests for /api/activity endpoints.
Update the messaging on the cards listing page when there are no cards for a given filter so that it includes a more clear description of why there are no results.
fix bug where it was giving every activity item the user name "You".
add guide descriptions
cleanup and more subtle color
check bg
new nav tweaks
more unit testing.  this time for the view_log event processing code.
first stab at responsive refactor
unit tests for our activity feed processing functions.
clean up saved questions
imports cleanup.
set the :model to "install" when doing :install activity.  set the :model_id to the `user_id` on :user-joined activity entries.  and make the proces-activity-event public so that we can use it for testing easily.
tweak sidebar borders
actually add avatar component and align tabs
tweak user avatr in nav
user avatar component and activity styling
full height fix
add a very simply unit test of our publisher/subscriber system in metabase.events
fix recent wrapping alignment
latest docs
avatar border width
add sync icon
one more formatting tweak.
fix formatting on api/routes.clj which got lost in a previous commit.
new question button
use null instead of empty array as default state for cards and activity lists so that we know when they are unset and thus are still loading.
remove old angular test which is no longer relevant and hasn't been of any use for a while.
include a :card-create event in our view logging because realistically the user is always looking at the card they are creating.
remove the normalizr stuff since we weren't actually using it for anything.
add in missing border line on card filters accordion.
indicate if the model object of an activity feed item is still in the system in the api results.
use `cursor-pointer` on the CardFilters sidebar.
more work to streamline the activity feed display.
tidy up a bit more angular code we don't need any more.
reorganize things a little and simplify the rendering code a bit where possible.  also remove react components that weren't really needed.
removing a bit more old angular homepage code that's not relevant any more.
purge old angular code for rendering homepage modal which has been replaced now.
reintroduce our new user onboarding modal into the new homepage implementation.
we don't need the old angular homepage template anymore.
fix imports
merge
full height sidebar and activity item refactor
provide separate routes for each homepage tab.
fix card sorting so it actually sorts by created_at
fix issue where previous table listing was being displayed momentarily even after a new database is chosen.
a little more work to get color assignment working in the case where we have more users than colors.
remove stray logging.
support more card filtering options such as by database, plus make it possible to indicate and clear the table filter choice.
close the accordion when you click on it if it's already open.
little more alignment tweaking.
tweak the spacing on the tabs so that they align exactly with the activity feed below.
tweak the coloring on the Metabase user initials on activity feed.
encapsulate all of the logic for rendering the ActivityDescription inside that react component.
bump up the font size on the sidebar headings.
fix smile
provide an empty state view for recent views.
add css background color options for purple and green and update our user initials colors array to use all the colors.
remove old ace editor directive which is no longer used.
fixing a small issue with minification of the frontend.
fix bikeshed lint error.
strip out old activity unit tests which are not relevant any more.
update unit test to account for the fact that we changed the query param for specifying the model id.
if a User happens to be deleted then cascade deletes to their Activity items due to FK constraints.
make the new question navbar button white.
report the users name as "You" when it's an activity they did themselves, and simplify a couple other things with activity description rendering.
get colors and a couple more things working with activity user initials, fix up formatting for database-sync type activity.
when recording a database-sync activity set the database_id value as well as the model_id value for the activity.
filter out views of items that don't hydrate properly (likely because they were deleted)
do a little cleanup work on our event processors to make them more robust and fix a small bug in the event tracking for database sync.
put in the user initials on the activity item.
try to get the smiley face working, but something not right :(
adding in the new view tracking code so that we can have an accurate Recents section on the homepage (implements #938)
add `clock` icon path.
cleanup the way the ActivityDescription is rendered and use a small react component to wrap that display.
start to flush out recent views stuff a little bit formatting wise.
get all of the card filtering by Table stuff working.  formatting is pretty close now on Saved Questions tab.
put some formatting into the activity tab layout.
add missing import
include :display_name in the set of hydrated fields on a table for Activity
publish events for :dashboard-read and :card-read
finish off the layout for the greeting and tabs so that everything lines up.
getting the layout more nailed down and flushing out the saved cards tab.
do a quick reshuffling of the events lifecycle functions so that we can make it easy to spin up new event listeners for different things, including our second listener which will be for view count tracking.
update migration to account for the fact that we merged in an existing 012_* migration.
basic scaffolding for new homepage implementation using redux + react.
hydrate :table and :database in activity api api responses.
finish off card activity handling by adding in ability to track the database & table associated with an activity item.
finish off the handling of dashboard events which feed into the activity feed.
begin processing dashboard events for activity feed.
be consistent about using :custom_id instead of :tracking-hash or other ways of specifying an activity custom identifier.
update the database sync event publication so that we can actually track start & end as separate events but part of the same activity.  to do so we add a :tracking-hash to the events when they are published which is meant to remain consistent throughout the sync, then we implement our activity tracking code so that we can lookup an existing activity item and update it based on the custom hash.
publish and :install event and listen for it in our activity feed so that we can create the first entry.  also, implement user login event handling so that we can identify when a user logs in for the first time and we can publish an activity feed entry for :user-joined.
track user-login events.
create a new GET /api/activity endpoint for listing activity items.
couple more bits of cleanup to ensure we are publishing the right events.
start writing our activity events to the db!
streamlining more of the event bus and activity stuff and rounding things out.  adding new migration which creates the `activity` table.
rounding out a few things.  now have all persistent functions for cards & dashboards publishing activity events.
basic pub/sub framework using core.async
add core.async
Reset sort when switching to/from 'rows' aggregation
remove css references and shrinkwrap
turns out we don't even use sanatize either
also remove from webpack config and vendor
kill unused deps. fixes #947
code review
shrink more wraps
shrink the wraps
define colors and apply as default
no longer need these scope vars
move profile link to react
remove unused css components
de-importantify colors. fix hover on user settings
couple updated comments.
add missing filter on `sel`
fix setup screen full height issue #850
ensure long no space object detail values are visible #826
fixes mobile password reset and confirmation #869
unit test fix.
ensure the detail isn't too wide on large screens
oops.  wrong column name.
object detail width fix #873 removes explicit width from object detail so that it is the width of the qb and does not overlap the data reference panel
one more security check to validate that user has read perms on the database they are filtering by.
add some additional api validation so that we ensure the caller passes in an `id` param if they specify a filter mode of :database of :table
ability to filter list of Cards returned from GET /api/card by `:table` or `:database` both of which require a second arguement for `id`
make sure that new card attributes extracted from query dictionary are always set automatically on pre-update and pre-insert and tidy up unit tests to make sure everything is passing.
add new migration which adds :database_id, :table_id, and :query_type as direct columns on the Card entity.
adding a unit test.
create a new endpoint at /api/meta/db/:id/metadata which contains all of the metadata for the database.
Actually remove underscore global
Add another case for removing sort fields, and moar unit tests
Explicitly import underscore, remove redundant jslint/global directives
Remove deprecated use of React.addons.classSet in favor of 'classnames' package
Remove old is_creator checks for editing cards
shrinkwrap
tests
MySQL tweaks
add the QP date stuff from old PR
test fix
test fix
test fix
a few more tweaks
more refactoring
linty fix
Minor QP reorgainization
Add 'no-unused-vars' eslint rule, remove unused variables
Remove (frontend) references to 'corvus' and 'cv'
Rename query builder modules to match component name
Some cleanQuery unit tests
lint fix
Remove non-numeric limit (should never happen anyway)
Remove aggregation sort clauses if we aren't allowed to sort by aggregations
Clean the query before saving
Various bits of refactoring & cleanup
fixes
fix migration id
Various bits of refactoring & cleanup
Change dashboard data load timeout to 60 seconds
Workaround for modal incorrectly opening
clean up pointer svg source
When deleting card don't show removal from dashboard warning if card isn't in any dashboards
Add edit icon to card listing on homepage
Only send necessary object properties when saving dashboards
when repositioning cards, actually check that the dashcard query came back with a value before updating.
fixing comment on reposition endpoint.
admin guide
fix the last remaining unit test failure.
tighten up the code a little bit.
Workaround for RGL re-rendering cards when toggling editing mode
add hover color to history icon
header hierarchy / spacing
add cursor pointer to pencil icon
Improved dashcard error handling
Unit tests for formatNumber and formatScalar
Remove comment, disable eslint for some debugging code
Don't take removed cards into account when positioning new cards
Don't prompt to save changes if we aren't in editing mode
Add 'description' support to POST /api/dash endpoint + fix bug in frontend
Add hover state for dashboard add card button
more installation info
Scroll to newly added dashcards
Move RGL padding fix to .DashboardGrid
indentation.
Empty and error states for AddToDashSelectQuestionModal
moar docs
Add 'area' chart illustration icon
Show 'create dashboard' modal when adding card to dashboard and there are no dashboards
Only format scalars as numbers if they are... numbers
Replace dashboard menu empty state button with 'create dashboard' button
Prevent dash card action buttons from firing after dragging a card
use correct urls
put in the logic for tweaking the revision description to indicate when a reversion was the reason for the change.
Make modal body min height smaller
don't put the information about 'reverted to an earlier revision' inside the `diff-str` function because that funciton is expected to be operating on object dictionaries only, not the actual revisions.
Extract number formatting logic into module, use in scalar cards, also hide overflow in scalar cards
Cleanup modal component and class names, misc modal CSS tweaks
Use onGoBack when card is deleted, default to homepage
New save/cancel/delete editing buttons
Remove names from revision descriptions in unit tests to match new behavior
fix image urls
Visualization settings CSS tweaks
Add Modal and ModalWithTrigger, fixes numerous modal issues
look cards for repositioning using their dashcard id.  fixes #899
move our conditional up a bit to avoid running it when we are showing the object details.
create EB version before deploying prototype.
Revamp Popover, extract 'Triggerable' functionality into higher-order component in preparation for Modal/ModalWithTrigger
Position new cards at first available space horizontally then vertically
Make grid square
Header CSS tweaks, move to own file
Rename npm 'start-hot' to 'build-hot' to match other tasks
Card history, link to ephemeral cards from home, misc
Remove debug junk
Add a 'clone' parameter to /card route, use it in dashboard card links. Also fixes duplicate history entries when navigating to query builder
Add 'Done' button for dashboard editing
Extract "LoadingAndErrorWrapper" component, use in Dashboard and History
remove unnecessary replacement.
CSS tweaks
remove names from revision descriptions.
Improved webpack configuration, always build our own React but provide the correct flags to strip debugging info
Dashboard history and reverting
Update npm-shrinkwrap.json
couple more unit test fixes specific to mongo driver testing.
fix for postgres test.
fix up unit tests for query processor to account for adding `:preview_display` as part of the column metadata returned.
Pulse the add to dash icon
Fade new dashcard from light yellow
Disable old qb buttons
Dash css tweaks
Delete dashboard modal, misc cleanup
Cleanup action creators
Remove old dashboard code
Port dashboard to React + redux. Misc other fixes. Unfortunately large commit
Disable eslint 'new-cap' rule globally
small css fix for pivot table styling.
frontend filtering of preview_display columns from results.
add `:preview_display` in the column metadata returned from queries and avoid filtering out fields with :preview_display = false on `:rows` type queries.
cleanup some of the rendering of the non-pivoted column headings.
update pivot implementation to handle all the pivoting logic inside the VisualizationTable component and lessen the work inside the Visualization wrapper.
update pivot calculation.
initial ability to pivot result data.
Refactor card header for reuse in Dashboards
Use dashboard_count in card editing header, fix syntax error in DeleteQuestionModal
Update karma dependencies to fix tests failing
Use dashboard_count in DeleteQuestionModal
Add unit test for Card dashboard_count :sweat:
fix circular dependency :sweat:
Add dashboard_count delay to Card :sunglasses:
link to elastic beanstalk recipe
Move generic components from query_builder to components
updates + images
Move some components into /app/components
Refactor AddToDashSelectDashModal to use SortableItemList, add AddToDashSelectQuestionModal
Add npm-shrinkwrap file to lock down dependencies. Update using 'npm shrinkwrap --dev' when adding/upgrading dependencies.
Update onclickoutside
Demonstrate converting a React component to ES6 class (supported in 0.13)
Add tether option to Select to keep on screen
Update various frontend dependencies, notably React 0.13
Remove ng-soratable and angularytics
Hot reloading of React modules!
New saved card and add to dash modals
Use webpack -d/--debug to default METABASE_ENV to 'dev'
merge
add some hover text over anchors
drop support for setting timezone in :database :details
MySQL test fix
more MySQL fixes
some mysql fixes. dataset-case macro
mongo support for new nested compound filters
rewritten Q macro; nested filter support + vararg =/!=
header alignment
color changes
Delete card modal, and modify PopoverWithTrigger to work as a normal modal
New save button
Implement new card saving flow including default card name generation
Rename 'options' to 'tableMetadata' in qb
set explicit breakpoints on the dashboard width (wip)
Missing React key
Move download link to visualization header
Create dashboard modal and button in dash menu
Incorporated Feedback
add fix for locked migrations
fix timezone ish
fix migration id
Misc Settings tweaks
test cleanup
remove debug code
remove stray printlns
tests for the revision API endpoints and dashboards
fix unauthorized layout
revisions of dashboards
don't "serialize" :created_at or :updated_at
Make admin list items <a> tags
Update users-guide.md
Update administration-guide.md
simple migration step to ensure that all current public (read) dashboards are migrated to public (write)
fix up the dash create form on add to dash so that user can actually pick their desired perms.
Use Toggle widget in metadata editing
Improve Select layout, add Toggle widget for settings, misc other improvements
Change ColumarSelector to use <a> tags for accessibility etc
toggle Intercom on/off in conjunction with our anonymous usage tracking.
tests for metabase.models.revision.diff
test fix
minor cleanup
unit tests for metabase.model.revision
Delete old settings page
New settings page
Add SaveStatus widget, misc improvments to Select and Input
cleanup
make new dashboards public by default.
on the add to dashboard list, show all options the user can write to, not just their own.
only let dashboards be saved as Public (world-writable).
include :can_read and :can_write for dashboards so that we can make smarter visibility choices on the frontend.
Remove empty CSS selector
Use existing spinner icon
Misc metadata editing fixes
track whether revisions are reversions
minor tweaks
fix API endpoint
add api endpoints
fix up unit test for settings.
basic revisions stuff
add some protocols to make revision more flexible
have the frontend app disable/enable GA tracking based on the users choice on the `anon-tracking-enabled` setting.
add a new setting `anon-tracking-enabled` which allows the user to toggle on/off anonymous tracking and make it part of our app properties.
Revision model + basic functions for recording + fetching revisions.
wrap Intercom calls in eslint suppression comments.  sigh.
initial commit of some diff stuff
new command for building uberjar.
nicer verbose names for new filters in UI
update frontend to make new filter types available
mongo implementation
tests for new QL filter types
don't try to mess up my formatting EMACS ! :unamused:
Add new CONTAINS, STARTS_WITH, and ENDS_WITH filter types to QL
Add empty state to metadata editing
sync VIEWs as well as TABLEs
distribute the driver tests more evenly
maybe break circle, maybe make it faster
fix occasional throttler test failures :unamused:
Update unit tests for  and fix bug with entity_type type being overriden
remove unused imports
slightly shorter name for database def
make sure to fully qualify the dataset names
add some tests for Postgres UUID support
Cleanup mbReactComponent
Reload fk targets when a field is updated. Switch to async/await hotness instead of generators
Tell generic SQL QP how to handle UUIDFields
new Field base_type :UUIDField
Sort tables in Metadata editing listing by display_name
Filter out un-queryable tables from UI. Add table.js
Rename 'metabase_analytics' to 'analytics'
Move query.js to metabase/lib
Remove dead /explore code and partials
Update table visibility_type even if null
Add sections to special_type selection, misc polish
Change /admin/databases to only show DB edit page, remove redundant old metadata editing code
Switch database selection widget to standard <select>
FK support in new metadata editing
Implement missing DELETE /api/meta/fk/:id endpoint
tweak ./build-uberjar so it doesn't overwrite existing DB
add the sample dataset to VC
minor cleanup :sunglasses:
remove old comment :sad:
forgot about dre-mongo
cleanup metabase.driver/available-drivers :smirk:
try to fix Circle MySQL timezone loading
linty fix
remove debug line :sunglasses:
rename :dbname -> :db
tests are passing :sunglasses:
A lot more of the Metadata editing functionality
Intercom integration.
varchar -> TextField
fix sum typing
QIP
BOOLEAN is a synonym of TINYINT(1)
use BIT in place of BOOLEAN
type mappings
add MySQL JDBC driver dep :sunglasses:
initial checkin of the MySQL temp DB test data loader
fix occasional throttler test failures
list the MySQL driver in available-drivers
MySQL driver [WIP]
add some locale debugging
don't source profile as it fails with no tty
source aws env if exists
source root's env if it exists and log env/locale
make the database delete button work on the connection details side panel.  (fixes #730)
no need for subshells here
fix silly throttler test failure :unamused:
don't tell people we're running webpack -p in CI when we're not :scream:
remove debug code to delete sample dataset on launch :sweat:
Code to load sample dataset on launch
Make sample data generation a separate lein task
beanstalk directions
add settings
allow the SQL editor to start in an expanded state when the query is empty.  (fixes #915)
drivers
add stubs for application database backup
slight modifications
match design
correct account deletion
start the sql editor in a collapsed state on load.  (fixes #809)
don't show visualization settings on Object Detail.  (fixes #811)
allow loaded card to be run if it's a 'native' type card.  (fixes #807)
reorganize
bad anchor text
more info
code cleanup
generate sample data, create H2 DB
Lots more metadata editing
Improved tooltip number formatting
Hide overflowing charts to prevent from being on top of data reference
Make forms a little more compact in popovers, adjust add to dash spacing
move BRANCH override to global namespace
set pipefail
Don't round values in chart tooltips
Use my fork of HtmlWebpackPlugin until they accept my patch. Add comment regarding '?[chunkhash]' behavior.
remove deployment keys
Asset cache busting via HtmlWebpackPlugin
track QB interaction events.
we don't actually need an angular service for AppAnalytics any more.
move analytics stuff into a standalone js module called `MetabaseAnalytics` and favor using that directly.
track basic GA events for Card lifecycle and Dashboard rearranging.
more changes
Add Table 'visibility_type' field
test-fix ?
opsworks glue
deploy script refactor
don't be too cray cray
slightly faster test startup
a bit more logging cleanup
even less loggin <3
less logging still
Make most sync output 'debug' instead of 'info' - unclutter tests
dox cleanup
dox fix
code cleanup
unit tests for throttling
A little more metadata editing
Bring direct manipulation prototype up to date
Check for null column display_name in table renderer
Align attribution with card name
cleanup
cleanup
cleanup
cleanup
cleanup
cleanup
cleanup
bump attempts threshold to 10
cleanup
make throttling its own namespace
code cleanup
cleanup
better var name
better var name
more dox cleanup
dox cleanup
clearer comments
clearer comments
fix comment
keep lines a reasonable length
Security: Throttle failed login attempts (prevent brute-forcing) #661
Add aggregation field support to field selector etc
Add some padding to viz settings, animate opacity of run button to ensure it is hidden regardless of layout issues
Security: add HTTP headers to prevent browsers from caching responses #662
add padding at top of selection lists
Don't set partial fields in qb
kill unused css - fixes #585
bump clojure.java.jdbc 0.3.7 -> 0.4.1
whoops. need to require the icon component
outlines
Remove most uses of :not(), general cleanup
max width on seleciton items + chevrons
linty fix
minor cleanup
Bump dependencies :yum:
Missing React keys
drop angularytics and use GA directly on our own.
don't track a pageview on initial script load, we do that inside the app anyways so its redundant.
Improved sort field showing logic
Don't render row count if there's no data; fix linting error
Add 'and' between multiple breakouts
Show default chart color; misc CSS fixes/cleanup
align visualization options
refactor and style visualization header
Join support for sorts
track dashboard rearrange events.
use standard loading spinner
use flex full instead of full height on lo pages
more css cleanup.
more tidy html & css
remove stray logging statement.
kill more old transitions
kill unused transition code
position of data & filter popovers and cursor on enabled steps
builder border color and add text color
pointers on selection items in the columnar selector
Use FieldWidget for breakouts (not currently showing joins)
use max height and add spacing to bottom of table
fix run button styling
eschew full-height for flex-full when we need elements to fill the height
Don't 'shorten' the aggregation or breakout options fields, we need the full field metadata for joins (and it shouldn't take any extra memory since we're not copying the fields
Aggregation target joins + refactoring
add a test to make sure H2 DBs don't allow SQL queries with no USER
H2 'dataset' loader creates a 'GUEST' account for H2 databases
don't say too much in the comments
add a few images to the onboarding modals.
:scream: block native queries against H2 databases that don't use a non-default user
Remove old date picker and misc dependencies
Finish new filter widget
Prevent data table from re-rendering unless something actually changes...
add in new user onboarding screens which show up when user first enters the application for the first time.
more quotations for our emails.
provide a very simple hook which allows the frontend password reset page to know when the user is coming in as a brand new user.
consolidate logic regarding creation/setting of password reset tokens within functions of User model.  update the `(create-user)` function so that we send users directly to reset their password instead of starting on the forgot_password page.
Misc qb filter improvements
Improved popover toggle logic; ignore-react-onclickoutside prevented popovers from closing when clicking other popover triggers
Joins! (filters only in this commit)
Load metadata for fk target tables
Add sections to columnar selector (to support join fields)
don't upload bundle twice.
simple bash scripts for uploading EB versions and deploying them
put comments on their own line.
final cleanup and use &nbsp; for current date spacing.
oops.  one more test fix.
fixing up messages unit test.
update image paths to use static.metabase.com
fix index out of bound exception
a few more sync faces
Improvements to Onboarding Email graph
a few more emoji
change the emoji on the sync progress bar meter as it progresses
Don't need to pprint new field/table name lists
slight sync progress meter improvement
even better sync progress meter
Cleanup sync logging a bit more
move AuthUtil into corvus.auth.services package.
Remove old code from qb and cleanup
update frontend client to take advantage of the fact that password reset returns a new session now, so as soon as the user finishes the password reset we log them in and they can continue into the application without any more work.
Add chart type icon and color well to viz settings
combine some sync logging statements to reduce clutter
Add qb font size breakpoints
Give aggregation target green color
Scroll long filters list
fix very rare test failure
indentation fix
make code slightly prettier :sunglasses:
update dox
Cleanup qb CSS and make selection module text color match selected field colors
less strict password requirements. #703
update /api/session/reset_password api endpoint to return a :session_id for a new and valid session
Misc columnar selector CSS fixes
Make various popovers close when item is selected (finally!)
fix wrong indentation spec in dir-locals
remove excess whitespace
remove duplicate lines from merge
driver-specific custom field syncing
Make SelectionModule use Popover component
only update :display_name on a Field if it's set.
expect "Latitude" display_name
Remove unused Popover from qb header
Support nested popovers by keeping track of which is the top one
Add some missing/incorrect React keys
inline styles so that we render okay on gmail.
fix the kitten
tests for values-are-valid-json?
use loop/recur for mark-json-field!
test fix
fix merge conflicts
fix merge conflict
Remove stray console.logs
Change not found page wording
wire together the updated new user email and make it "the" email now.
Make the whole admin db selector clickable
add contract icon
cleanup
Improved notfound CSS
Not found page. Also, rock the boat. Literally.
Default text for filter and breakout
Default qb to use rows aggregation, add default states
dynamically calculate today's date and add it to new user invite email.
don't remove the "-id" or "_id" from Table/Field names.
Add box shadow to qb
Run button animation, remove outdated results warning
Use breakpoints for expanding qb
full click target + dropdown bottom padding
fix column ratio for admin db info
separate and style view more / less links
Move vis settings to vis header, implement narrow version of qb when data ref is open
Implement native query style to match space efficient qb
sizing of chart and info + date for tooltip
update button size and color
more accurate border color
tweaks and property order for body
only have access to helvetica for emails. rems for size
ensure email is readable on mobile
Move visualization settings from viz footer to editor and restyle to match space efficient qb
basic scaffolding for doing our newly formatted invite email.
add Stencil to clojure libs so that we can have a very simple library for doing mustache style templating.
butlasto relation should use defna instead of defne
QB Sort/Limit, misc cleanup/fixes
update comments :heart_eyes_cat:
Make Circle tests run about 30 seconds faster :heart_eyes_cat:
only allow connections to existing H2 databases
Space efficient db/table selector + generic ColumnarSelector component
whoops don't make the in-memory db MULTI_THREADED, that's an experimental H2 feature :sweat:
make db-file a constant; remove pointless logging
make the primary test database in-memory too
remove the code to delete test databases files
Make test databases in memory
one more test fix :unamused:
ok so the regex needed one more tweak :sweat:
It makes me sad I had to fix this :unamused:
fixing up unit testing some more.
Start space efficient qb impl. "filtered by" and "view" sections complete
fixing one more merge conflict which i missed.
code cleanuup 10,000 :sunglasses:
wrap bcrypt-verify in a try/catch :sunglasses:
Make arrow-right 1px instead of 2px
some work towards getting unit tests to work without h2
fix accidental shuffle of :require
cam saul loves refactoring :yum:
hash password reset token
hash password reset token
whoops fix
set site URL in POST /setup/user
test fixes
You need to add display_name to the sel statment to fetch implicit fields :unamused:
you just needed to change the regex :unamused:
linty fix
test fix
g2g :sunglasses:
improvements
:blush:
fixing up unit tests to account for :display_name being part of query results on JSON queries.
:sunglasses:
make the query processor include :display_name in the column metadata returned and have the UI display it in column headers on tables.  also updating the Object Detail page to use the display_name where appropriate.
Switch data ref field to use display_name
yay yay
unit test fixes.
remove data reference code which was trying to humanize the Table/Field names and instead just go with what we are now getting back from the stored `display_name` which should already be humanized.
fix issue where models lifecycle methods are defined differently now.
fix issue after merge from master where colored messaging is done a different way now.
fix silly error
Remove logs
WIP
Cleanup header.react, improve dirty checking
Polyfill for ES6 feature (fixes timeseries charts on Safari)
fixes #735 null pointer issue.
almost all g2g :+1:
Improved setCard function in CardDetail, fixes several edge cases
Extend saved card with serializedCard, not replace
Reload the controller for new queries (if neither cardId or serializedCard are set)
:sunglasses: [WIP]
remove dead code :sunglasses:
Starting to get the hang of this. 100x performance improvement :sunglasses:
protect against empty strings.
protect against null values
Add missing karma-chrome-launcher dependency to package.json
add inflection to package.json
Data ref cleanup
A VERY CHARMING IMPL :blush:
Reorder qb buttons so data ref button is next to the data ref drawer
<<< FAST >>>
disclose the information we intend to collect
style json in object detail
Hide data ref by default
Revert star icon to previous path, size query builder header favorite button to match others
much much much faster :blush:
Make sure to use write combo of macros :blush:
Add arrow to object detail
Q macro shouldn't
Add a unit test + new test dataset.
fix using 'false' as a filter value
some speed improvements
Cleaner CSS FTW
Refactor icon code to share more code between Angular/React and support setting attributes in the definition file
More readable media query declaration
Code review cleanup
fix mongo nested fields
Refactor icon code to share more code between Angular/React and support setting attributes in the definition file; update header icon sizes
Moves instances of #797979 to --grey-text-color
Nakes homepage tabs a bit clearer
less-dumb memoization
Center and pad object detail 'No relationships found'
Add margin to the bottom of object detail
cleanup
cleanup
Scroll data reference panel
Add hover states to data ref tables and fields/connections
Always show 'connections' tab in data ref tables panel
minor cleanup
remove uncastify
fix other tests
almost all working
minor fixes
properly format result fields
core.logic annotate working nicely
Missing use strict
Mostly working attempt at query builder URL state
WIP
move annotation to its own file
test fix
Set site-url with Origin header if not already set
capitalize metabase
clean up docstr for site-url setting
whoops make sure to call fn
Don't use origin header for password reset #624
 QP don't barf on FKs with no destination_id #574
Update FieldValues when DBs are synced #610 #667
Default text for description
Show data reference by default only for new queries
Add Data Reference hover states, pane count spacing, hide empty dbs
Add some missing React keys
Add data reference table connections/fks
Add .border-row-divider and use it in data reference
Use loadTableFn to load table metadata in data reference
Refactor loadTableInfo for use with data reference
Add 'Potentially useful questions' buttons and improve 'Use for current question' and 'Show all rows' buttons
putting in missing declaration.
get a few more frontend updates to ensure `display_name` is being used everywhere in QB.
update the frontend to use `display_name` consistently when referring to a Table or a Field.
update metadata sync code to look for any Table or Field without a display_name and set it if so.
update migration and clojure models, api, and tests to simply add a `display_name` attribute on both Table and Field which should always be available.
alignment and spacing
Refactor a bunch of methods from *QueryEditor to card.controllers in preparation for Data Reference query manipulation
add object detail specific css classes
pluralize the naming of the FK relationships.
loading spinners and icon borders
Add DataReferenceQueryButton
Add raw SVG icons and support in Icon react component
Clean up qb header icons, wire up data ref open state to button
Improved CSS for sliding the query builder over the reference instead of pushing it over
merge
Basically working Data Reference panel
add more dox
minor cleanup
add dox
Auto-infer JSON blobs
Refactory Query functions from GuiQueryEditor into own file in preparation for Data Reference using them
use grid for details
use the word `Empty` instead of `No Data` when a field has no value.  also, detect if the value is an empty string and show `Empty` indicator.
don't make a connection pool for temp DBs
don't allow an FK relationship to be clickable if there are 0 references.
basic layout structure
fix typo
oops remove debug code
Need the keep a connection pool open in order to unCLOB-er CLOBs
`sel`/`upd`/`del`/`cascade-delete`/`ins` macros auto-infer namespace
Use clojure ex-info instead of creating our own Java classes for specialized exceptions.
remove unused clojure.core/data.json dep
test fixes
update some test namespaces for clojure 1.7 compatibility
Bump Clojure to 1.7. Bump a few other deps
remove unneeded newline in loggin
Everything is finally working :heart_eyes:
extra semicolons
Use JSX to instantiate React components to avoid warnings
fix react wiring issue so that our followForeignKeyFn call gets triggered properly.
Switch to using function declarations vs functions assigned to variables
Icon fix
new implementation for VisualizationObjectDetailTable component which is a bit more user friendly.
adding Humanize-Plus to js libs.
New icons, including data reference
fix breakout column ordering
fix ordering by aggregate fields for mongo
test fix 4/4
test fix 3/4
test fix 2/4
test fix 1/4
fix nasty nasty nasty logic error
cleanup
Handle nulls in pie, line, and bar charts
some test fixes
Use the correct form of nested hydrate
Use unicode code point form of bullet in CSS
Load db metadata when creating a new card regardless of whether the db was explicitly passed in
Update dashboard listing when we edit one
Don't parse timestamp values into an int even if the base_type is an int
test fix
test fix
test fix
metabase.db cleanup
namespace-qualify :hydration-keys
fix bad docstr
use the new (Entity id) shorthand instead of (sel :one Entity :id id) when possible
cleanup
can_read and can_write are now hydrated via methods
ICanReadWrite protocol
code cleanup
::timestamped is now part of metabase.models.interface
rework most of the rest of the entity multimethods
associate default-fields directly on entity
convert models to record types
just use identity for the default implementations of api-serialize
fix typo
Strip DB details from API calls for non-admins
add readable line length, line-height and add a better color to descriptions of tables on /
ensure tooltips have a high enough z-index
cleanup
code cleanup
Add some error checking to hydrate; complain when nested hydration vectors are used incorrectly
everything is working nicely :)
Add profile icon chevron back in, flex-align-centered
more fixes
Add display_name column to field table, make editable in UI, and reflect in human_readable_name
Use human readable names for tables and fields
more fixes
more fixes
fix post-sel function ordering
some test fixes
Misc CSS tweaks
EOL the Reserve custom list & detail pages.
fix up the POST /api/user endpoint (create user) so that if someone tries to create a new user that already exists that we don't throw a 500 and instead either re-enable the account if it had been previously disable or we simply do nothing if someone is trying to create an account that was already active.
write some testz
tweaks
fix QP preprocessing behavior of limit
more improvements
things are working for the most part
Add 'Ask a Question' nav item and bullet
fix duplicate query processing
Add empty dashboard state
Make entire dropdown item rows clickable
Better nav dropdown implementation
:qualified-name delay for Field. syncing basically working correctly
recursive sync for nested fields. don't mark nested fields as pks
Create new Field objects for each Nested Field during Sync
"nested fields" not "subfields"
fix scalar margin
tweak sel logging
improvements + cleanup to sel
more work on nested field support
fix filter widget value casting for SmallIntegerField type.
fix definition of processResize() and savePosition() functions so that they can be properly referenced in our gridsterOptions.
New :DictionaryField Field.base_type
Partially working
Less copy tweaks
Tiny copy tweaks
make MQL a little more flexible
handle nested fields in MQL
Rich query builder descriptions tweaks
Add descriptions and expansion to the selection module and specifically the aggregations widget
fix the mongo connection error
more work on mongo subfield stuff
add migration to add parent_id to Field
Better tooltip layout
test fix
Comment warning about weird way of computing percentages
test fix ?
test fix ?
test fix ?
test fixes
Add perecentages to pie chart tooltips
upgrade Q to handle fk-> and ag.0 fields
Center popover triangle, wire up current chart type icon, etc
fix color picker positioning
icon size
map icons, hover states and a bit of alignment
nicer, more efficient expansion for with-temp-db
cleanup
DSL for writing Query Dicts
:generic-sql "dataset" -> :h2
this works on my box :scream:
fix errors in QP for Postgres timestamp fields
test fixes
add a very basic script for packaging up a release.  defaults to Elastic Beanstalk bundle for now.
work towards testing w/ a Postgres test data set
add basic scaffolding files for an Elastic Beanstalk deployment.
add non map chart icons
add value casting for BigIntegerField type as well in our filter widget.
Basic mongo subfield support
geographical tips dataset
New driver method supports? to check if a driver supports a feature
EOL old Operator custom explore pages.
Chart type icons... without the real icons
update to use new ["fk->" fk-field-id dest-field-id] form
fix occasional test failure due to ambiguous ordering in test for GET /api/meta/db
(partial) test fix
test fix
uncomment exception handler
Adopt middleware pattern a la Compojure for QP
A bit of cleanup in the QP.
minor cleanup
clean up :require
update tests
Add :human_readable_name to Table and Field API responses
test fix
JOINS (!)
Update session unit tests to ensure we don't leak existence of users
Show settings description as title and default values as placeholder
update annotation to handle FK fields
JOINing works
define explicit record types for join tables + join table fields
add the :join-tables clause to expanded query dict
add :join-tables clause when applicable during expansion
nicer formatting for generic SQL QP SQL logging
test fix for real
test fix
test fix
fix uncastification for qualified names
nicer formatting for the korma form in Generic SQL QP output
fully qualify the names of fields in QP korma forms
lint fix 2000
linty fix
silly billy, native queries don't get expanded !
rework generic sql native QP to handle expanded DB
remove more unused imports
remove unused namespaces
update mongo driver to use new expanded table / DB
optimize read-check macro to no-op for a Database since @(:can-read db) is always true
remove unneeded namespaces in Generic SQL util
update annotation to handle new expanded :source-table
resolve the DB as well in query expansion. Remove Generic SQL util method to do table resolution
add :table-name to expanded Fields
change query expander to thread query dict through various fns
simplify the implementation of query expander a bit
Re-style settings page
Remove user existence leak in login and password reset endpoints
longer connection timeout for Mongo to fix intermittent Test failure
test fix
rewrite Mongo driver
fix cumulative sum
more test fixes
fix ordering by aggregate fields
fix some ordering
remove old util functions from generic sql
Generic SQL formatting for fields / values from expanded query
convert order_by
Generic SQL driver mostly converted to Expanded Query.
nice colored logging for generic SQL QP
tupac sightings dataset
Remove metabase.driver.context namespace. Part of old QP implementation, no longer used
fix dashboard borders
remove old permission option for "public read-write"
correctly color card favorite button on query builder.
don't show the "edit" or "save" buttons when the user does not have the permissions to save the card anyways.
make sure that we are always running our full route change logic which ensures users are redirected to the right place depending on their login and user capabilities.
cloning functionality (sort of).
make the password field on database details an HTML password field so we don't show passwords in plain text.
we dont have this commandline param any more
fix issue with z-index of selection items < that of table header
clone icon
Remove the code relating to handling legacy conn_str DB connection details
remove `lein migration-summary` task since it no longer works
test fix
test fix
test fix
test fix
test fix
test fix
remove unneeded :require
implement timestamp aggregation in DBs themselves
fix centering of hide query control
fix setup css
use margin top for qb sections
wrapper on sql pane
remove fn used for generating test data
fix expansion of all-nil clauses in Query Expander
Unix timestamp aggregation support
Tooltip CSS adjustments
Add tooltips for pie charts, manually calculating position :-/
Remove extra border-radius in tooltip.css
Set tooltip width so they are positioned correctly :-/
Tooltips
admin fixes
fix casting error on filters for DecimalField.
removing window.scope line used for debugging.
fixing typo in cloning code.
object detail
filter label spacing
table links
standard lock
favorite styling
create an event broadcast which allows us to update our navbar dashboard listing whenever someone creates or deletes a dashboard from other places in the app, this way you avoid cases where the navbar dash listing is out of sync with the users known reality.
Debounce card re-rendering on window resize to improve performance
bump korma to 0.4.2 and cider-nrepl to 0.9.0
don't run webpack twice for lein uberjar
add :timestamp_milliseconds to special-types
Missing annotation
fix merge conflict
fix "can't infer SQL type" error
fix up user api test after we updated one of the response codes for an endpoint.
fix issue where filters sometimes don't clear because we aren't binding to a local function.
fix filter value casting logic so that we don't accidentally try to do casting on null and empty string values.
login logo padding
fix header action colors
fix bug with form text size
input borders
Misc testing fixes
Add example unit tests for controller, directive, filters, serivces, as well as an e2e protractor test. Move 'test' directory up one directory
Remove lint_js.sh since ESLint is fast, add some scripts to package.json, use them in CircleCI
Add a 'real' test
Karma CircleCI test, should pass
Karma CircleCI test, should fail
remove some functions that weren't driver agnostic because we have ones that are now
remove unused import
use a sensible, deterministic ordering for QP results instead of leaving things to chance
allow updating :is_superuser flag on a user from PUT /api/user/:id (only existing superuser can do this).
Resize chart visualization when window is resized
Better timeseries axis handling
Different fix for cards decreasing in size each time they are resized
Import crossfilter correctly
Padding on login box forgot password
removing old CorvusAlert stuff which is not used anymore either.
remove old CorvusFormService code which is no longer used anywhere.
update user account settings pages to use new angular form management code.
test fix??
fix mongo dates
things are very close to working correctly !
clean up home controller a bit
remove unused transition that was slowing popover dismissal
tables header
fix frontend error when visualizing non-gui queries.
use proper bg color on primary buttons
merge
qb responsive padding + small usability tweaks
create a new api endpoint for /session/properties for accessing publicly accessible app properties instead of trying to get them via /settings which has the problem of not being available to non-authentic users.  this fixes https://app.asana.com/0/37641057717421/37653988022906
fixing card api unit test to account for the fact that we are now hydrating :creator on card api fetches.
re-worked annotation QP post-processing step.
additional improvements to failed unit test formatting
make it possible to follow foreign key relationships from the object detail page.  also make our object detail table follow links like our normal visualization table.
define indentation for assoc* in .dir-locals.el
nicer indentation for metabase.driver
test fix?
tweak failed test output a bit
tweak unit test output formatting
couple small table fixes.
Pretty print failed unit tests. 1000x more readable
keep metadata in sync whenever we change the query table.
tidy up the rendering logic around when to show ObjectDetail visualization and when not to.  Simplify our lives by reusing the Visualization react component and simply embedding our ObjectDetail view within that component.
Remove superfluous `->>` form
proper color on message
only show perms if private and card is saved
spacing
fix logo on password reset
move the functions in GuiQueryEditor for loading up our database & table metadata out into card controller because we'll need them for work on the object detail rendering.
initial support for an ObjectDetail visualization view designed for showing a single row of a table.
enhance our VisualizationTable component so that it allows for clickable cells.  we provide a function which determines if a given cell is clickable and another function which handles what action to take when a given cell is clicked.
yay-er
make a couple tweaks to the :target column annotation to make sure we don't return things we don't need to.  and update unit tests accordingly.
fix arg in wrong pos
*uncastify-fn* doesn't need to be dynamic anymore
Re-work annotation -- less wonky, more efficient
adding back in the :target attribute on query column metadata which went missing at some point and causes FKs to not be linkable in explore any more.
use standard names for db and table
fix prefix for hide / show
linty fix / remove debug line
spacing and padding
merge
responsive settings and settings forms updated
uberjar client resources and npm dependency fixes
Change mbFormMessage to use ng-show instead of ng-if to fix mysterious bug where it was not being shown when saving dashboard failed
only change border color on body cells when hovering
ability to delete a dashboard from the dash saver modal.
add dashboard saver template.  oops.
add a modal for dashboard saver.
move dashboard card rendering templates into dashboard folder.
rename cv-card directive to mb-dashcard and move the code from the card.directives into dashboard.directives.  this makes it more clear that this code is only used for rendering dashboard cards now.
don't show card delete button if current user isn't owner of the card being viewed.
tweak the initialization process for building a new card so that it has a couple more checks and allows user to start a new empty card if they want to.
unit test fix.
provide a little padding on top of our table.
make data table responsive to expanding/collapsing of editor pane.
fix bug in resizing logic.
tweak sorting of table view to work with aggregation columns.
fix react warning on prop types.
fix bug with PopoverWithTrigger which was causing errors when switching between some visualizations.
few more fixes for resizing of columns.
cleanup default props.
a few fixes for handling to table footnote.
much responsiveness
support re-rendering on window resize for query builder.
linty fix
linty fix :ghost:
mongo fix, maybe
Initial implementation of QP expander. Rewrite = filter clauses for unix timestamps as between clauses
convert timestamps to dates in post-processing
use u/indecies-statisfying in QP
cruft removal: remove several functions in metabase.util that were either unused or used only once
icon paths
get column resizing fully working.
styling and sort indication
more styling updates
Better usage of CommonsChunkPlugin, makes the vendor bundle the common bundle.
first stabs at table styling
support card favorites on query builder.  created a new react component to mimic the angular card favorite button directive.
show who created each card in the header.
hover colors and color transition
test fix
Lock package.json versions down to specific version until we figure out which newer versions are causing problems
Disable webpack minification on CircleCI :unamused:
remove reference to deleted function
escaped-name is probably better-implemented as a plain function instead of method on DatabaseDefinition
whoops fix typo
code cleanup & documentation
lintballer
fix select arrow position
make tabs behave on mobile
hide dash card arrangement control on smaller screen sizes
unix timestamp support is g2g
unix timestamp support (WIP)
standardize user representation in nav
post rebase dash header fix
card delete and more layout wip
wip
nuke old card listing
nuke old core nav code
kill superfluous dash code
nuke old dash views
more responsive updates
wip favoriting
lots of layout fixes.
admin link
more structure & some mobile fixes
use route params for new cards from home
home structure
home
wips
more wip
dropdowns
first steps wip
add fixed-data-table css to our vendor.css build.
add `with-temp-db` macro.
rewrite mongo to use new dataset loader interface
Update name/description/repo in package.json
metabase.test-data -> metabase.test.data
move the rest of the user stuff to metabase.test.data.users
metabase.test-data.create -> metabase.test.data.users
IMetabaseInstance
docstr for IDatasetLoader
better naming for methods in IDatasetLoader
OMG things work :heart_eyes:
things are working now? :scream:
Disable NgAnnotatePlugin, move JS includes to HTML head, add webpack CSS warning
Integrate eslint with webpack. Adds a couple seconds to initial build, but negligible time to incremental (watch) builds
Switch from JSXHint to ESLint + babel and jsx plugin
Linting fixes/workarounds (we should switch to ESLint)
Map vendor dependencies to minified versions and add (most) to noParse to speed up building
Add bower_components exclusion back in for now
Import/export ICON_PATHs as module
Nuke bower and gulp, replaced with npm and webpack
Rename init.js/css to vendor
Migrate some global dependencies to file dependencies
Move dev tool dependencies to devDependencies
Manage 3rd party dependencies using npm, load using webpack
linter stuff
Missing Webpack depdencies
Comment webpack.config.js
Webpack CSS config
lint support for ES6, misc cleanup of React files
Webpack!
centered layout of error
huh?
include a `Field` with a :field_type of "dimension" in our frontend check for isDimension() that builds our breakout list in the query builder.
if there is an error loading the dashboard show some kind of error rather just letting the spinner go on forever.
fixing a couple new references to @org-id which were missed in the `orgless` branch.
fix up paging buttons so that we always show a prev & next button, we just don't make them actionable unless they are appropriate.
we can only add cards to dashboards we own, so don't show other people's dashboards in the Add to Dashboard listing.
whoops!
whoops remove the old version of the test
filter timestamps from results since they're hard to test :/
test fix
test fix
Sensitive Fields 2.0 (preprocessing implementation)
New aggregate-col fn to simpify QP tests a bit
add new :field->field option to sel macro
how did that fix actually work :scream:?
:cry:
test fix?
test fix
fix add-implicit-fields logic
sexier implementation
Add implicit fields clause to "rows" aggregation queries
fix annoying redirect to setup when developing
iterate over the icon, not the object when > 1 path
clojure lint fixes.
lint fix.
update frontend permission choices to just: Private or Public (others can read)
we want >= rather than <= on our read perms check.
add back in the ability to have a site name, this time we use the global settings to store the value.
database details seem to require :password instead of :pass
fix setting the timezone in Native SQL queries :smirk:
remove old qb component elements
actually write out the usage
use mb logo on other auth pages
use logo icon element on login
separate logo and loading icons
replace and remove chevron right
replace and remove star icon
replace and remove search icon
looks like we weren't using the list icon
replace and remove grid icon
replace and remove explore
replace and remove cards
remove and replace dashboards
replace and remove chevrondown
replace and remove gear
replace and remove close
replace and remove check icon
replace and remove add
lintballer
remove duplicate
new angular icon directive
migrate old icons to paths
create icon paths and use in react
comment out the call to `(browse-url)` for now because it's causing elastic beanstalk deployments to fail.
Mongo driver should ignore naughty blank strings :smiling_imp:
update Operator custom pages to work in an orgless world.
fix up Reserve pages to work without a 'currentOrg'.
few fixes to database admin after latest updates from master.
fix issue where currentUserPromise can be null when route changes, so check for it first.
get admin people section working again.
implement POST /api/user and DELETE /api/user/:id api functions along with unit tests.  also updated a few /api/user/* functions to enforce filtering to :is_active true
bump dependencies :chart_with_upwards_trend:
fix up Setup and Database admin pages to work without an org.
"$$aggregation" -> ["aggregation" 0] :smirk:
use `var` instead of `const` because linter complains about ES6 features :sob:
better var name :heart_eyes_cat:
remove out-of-date comment str
expose sort by aggregate field in the Query Builder UI
align comments nicely :smiling_imp:
tests work better when they're written correclty :sigh:
check errors more aggressively :imp:
:smiling_imp: allow ordering by aggregate fields in generic SQL QP.
fix occasional test failures, again :sob:
test fix :heart_eyes:
allow `Field.special_type` to be unset via API :unamused:
Remove obsolete db admin pages, refactor master/detail controller, fix momentary flash when saving field metadata
fix sporadic errors :imp:
don't be a tard :unamused:
lintballer
redirect to a URL that includes setup token :sweat:
fixes
:unamused: Redirect to setup if a setup token still exists
scroll shadows
automatically open setup URL when installing metabase :heart_eyes_cat:
Add checkbox for show/hide table fields
sidebar updates
layout and styling tweaks
fix mongo driver connection w/ passwords :unamused:
Don't reload database if it databaseId doesn't change, and fix fk missing ng-model
scroll contents
:scream: check for valid DB connection before update in admin
fix paths
clean up logo svg
full height master detail
lintball
link to tables by default and lighten borders
use grid
markup cleanup
code fix
slightly more concise impl :sob:
:smiling_imp: Show empty tables in explore
autofocus and spacing fixes
Cast values that filter against mongo _id columns to bson.ObjectId when applicable
fallback to :UnknownType for Fields on an unknown type returned by the generic SQL native QP
Disable old db admin routes, misc cleanup
test fix (?)
Select arrow fixes by Kyle
wip for tom
test fix (?)
FK wip
layout tweaks
test fix :smiling_imp:
Listen for  event to avoid reloading controllers when switching between tables
New DB admin page, mostly working and styled
:heart_eyes_cat: automatically infer the special_type of a Field if its name + base_type match a known pattern
add filter to icon component
replace add to dash icon
update to allow for multipath, replace download
missed one
replace expand
update close icon
create generic icon component and replace check
lintballer
cleanup and tweaks
db engine and text changes
wordmark
Remove outdated csonole.log
lintball
simple sortable table columns.
styling
Move setup nav to setup_info, add link to homepage in final setup message
Update DatabaseEdit controller to actually validate the database, and use promises. Use mb-action-button to save db.
Redirect user from setup if logged in
merge
layout fixes
Simplify section switching, merge orgName into newUser
Cleanup and improve initial user creation logic
wrapper max classes and layout width vars
better indicators
updating frontend application to strip out usage of Organizations.
flow steps and complete content
setup user form styling
basic setup welcome layout
very basic paging controls on table visualization.
Add missing logo. Thanks Zach Holman dotfiles
New setup flow
Hide the STARTS_WITH and CONTAINS operators from the Query Builder for the time being
set the query preprocessor limit on bare rows queries to 2000 max.
remove the use of Organizations on the backend, including api endpoints and models.
add new migration which will drop our requirement to have an Organization for any of our models.  NOTE: we are specifically just allowing the column to be nullable and dropping FK constraints for now.
support mapping java.util.UUID to one of our base field types.
remove 'timeseries' as a choice from our charting options.
fix button labels.
small style tweaks
remove a stale old bit of code in the frontend that was still referencing the EOLed query code.
provide a visual indicator when the result of a query is truncated.
add a new site admin setting allowing the user to specify their smtp should connect securely using tls or ssl, and wire that setting into our mail sending approach.
lint fixes.
fix up our Popover approach by introducing a PopoverWithTrigger component which makes things pretty functional and compact.  we are using this for the chart color picker now.
initial support for picking the color on line/bar/area charts.  UI is still a bit crusty and needs work.
have some consistency about the default color in our charts and actually have it come from our color harmony.
when we merge card viz settings with default viz settings, use a cloned copy of the original settings rather than mutating them.
gah!  lint!
we need to actually load cx & ReactCSSTranstitionGroup so they are available in our React rendering.
clarify dox :heart_eyes_cat:
fix comment :smirk_cat: :blush:
test fix ? :cherries:
Update README :rage: :punch:
clean up dox :joy: :ghost:
Bump dep versions :joy: :yum:
proly don't need to gitignore mercurial repo :see_no_evil:
corvus -> metabase :smirk:
more concise code :heart_eyes: :hear_no_evil:
sort list of target fields for FK selection in admin metadata edit
fix card delete for cards that are on a dashboard :bird:
let the user know if their chosen visualization doesn't match their data.
move static values into getDefaultProps()
automatically switch to scalar for 1x1 data and from scalar to table when scalar is no longer appropriate.
don't show option to filter table if we don't have any fields in the table.
lint fixes.
avoid the case where we accidentally hide the breakout and limit/sort clauses while someone is changing their aggregation.
"Once you're database is updated" :smiling_imp:
move aggregation rendering into its own widget and update it so that it will smartly remove aggregation options if they are not valid choices.
:smirk: tweak test so it won't have to be rewritten if we change max-results-rows
code cleanup
update tests
:smirk: limit results to 10000 rows; add implicit limit clause for rows aggregation; return num_results_over_limit in QP response when limit is hit
fix date filtering for Mongo
add a test for BETWEEN w/ dates
whoops, this shoud be cascade-delete :sob:
fix 'BETWEEN' for dates in QP
remove some unneeded console.logs
:+1: Use default values for applicable fields when creating DB
only ask for confirmation if a card has been saved
remove some stray trailing commas in metabase.services.js :cry:
make code a little lispier :heart_eyes_cat:
take code to be a little lispier :heart_eyes_cat:
Limit max # of result rows returned to 2000 :imp:
Limit max # of result rows returned to 2000
fix typo
test fix ?
test fix
fix typo :unamused:
don't use a function for ng-if :disappointed_relieved:
"data migration" to convert databases to new-style connection strings :unamused:
implement pre-cascade-delete for Dashboard :heart_eyes_cat:
oops, make sure to call fn we're testing in unit tests :unamused:
remove unneeded ref to private fn :disappointed_relieved:
code cleanup :relaxed:
:scream: Mongo support for new-style connection details
:bird: Add H2 driver support for new-style connection details. Use 'db' instead of 'connectionString' since that's what JDBC calls it
remove some debug code
:heart_eyes_cat: Add support for new-style connection details maps for Postgres to Clojure backend. Add some extra unit tests for funsies
:smirk: Add frontend support for 'new-style' DB connection details
code cleanup :heart_eyes_cat:
linty fix -- remove unnecessary semicolon :smiling_imp:
add missing semicolon :sweat:
couldn't help myself
Infer SSL support when adding a DB from admin
auto infer SSL support during setup
OMG THIS IS SO NICE! Use the same code to edit DBs in setup and admin. :heart_eyes_cat: :smiling_imp:
fix SSL support once again
break DatabaseEdit form out into separate partial
pick a default value for SSL for new postgres DB :sob:
slightly prettier ng-clutter in my HTML :heart_eyes_cat: :imp:
maybe got a lil too cray cray with whitespace :imp:
remove unneeded :require
postgres now handles SSL in a way that one could consider sensible
Roll metabase.driver.generic-sql.connection into metabase.driver.generic-sql since it only contained a single fn
option to specify postgres should use SSL in the UI
remove admin SQL Query backend files and api endpoints.
remove stray escapey slash for regex from hell :scream:
update comment
Now you can connect to MongoDB (and H2 again) without REPL magic
one more stray link.
remove frontend admin SQL Query code.
fix some logic errors in new mongoDB distinct count imll
Probably don't need to consider more than 10,000 rows for field-percent-urls and field-avg-length
New implementation of field distinct values for Mongo driver can handle large data sets
some extra logging.
revert accidental debug commit
Mongo QP handle distinct count limits
don't shadow binding of *query* in Mongo QP
limit field distinct count query when syncing
field-distinct-count accepts optional limit
sane implementation of field seq -> type
implementation of table columns that won't explode in large collections
better implementation of Field count
Handle cases where sync didn't complete
Tell JSON encoder what to do with BSON IDs
typo fix 2000
test fix 2000?
we actually need to show the org title in the nav when there is only a single org :)
fix typo
Update project dependency versions
code cleanup
test fix
remove logging
change cum_sum implementation
fix mongo breakout w/ rows aggregation
update readme
default to just testing against generic-sql
fix lint errors
final changes to make everything work
EVERYTHING ALMOST WORKS THO :/
fix typo
add in some code for handling older card queries where filters had a couple different structures.
rename env var MB_TEST_DATASETS. Abstact out test dataset logic into metabase.test.data.datasets
we never actually want to set the card visualization_settings, we simply want to pull the necessary settings and have them available when rendering is going to occur.
MB_TEST_AGAINST_DRIVERS can be used to run QP unit tests against a subset of drivers
fix the way result rows are counted
cum_sum is now working correctly
don't fail to render our c
remove the button from SQL Query page that allows a user to create a card from a saved SQL Query.
tighten up our fileset for js linting so we don't get .json files.
kill stray logging message.
fix state & country charts.
fix up logic around adding sorts.
be consistent about our use of ellipses (...)
use input "value" prop instead of "defaultValue" so that if our react component is reused we ensure the value is correctly attributed.
change filter button label to say "Filter <table>" instead of just "Filter"
fix issue where changing database on structured query causes everything to go blank and reset.
use defaultProps instead of putting static values on our React class.
reset the saver form when we toggle the modal open/closed.
don't lose the sql query when we switch databases in native query mode.
lint fixes.
go back to the minified version of react lib.
we no longer need card_detail_new.html template.
arrow and message
standard border radius
layout of new dash close
spacing on limit and sort and add grouping labels
add in a little bit of error handling for chart rendering.
get pin maps working on the new query builder.  seem to be having an issue on the backend though :(
try actually using our DOM element to calculate available height for charts and prevent issues with oversized renderings.
fix chart rendering so that we actually rerender when the data changes.
get add to dash working again.  jslint fix was not safe :(
More code cleanup.
remove unused code
logic fix
Code cleanup.
add in support for setting limit and order_by clauses of gui queries.
fix missing :require, make empty Query test multi-driver
code cleanup
fix lint error
Mongo AVG Aggregation
OMG QP cum_sum works
better bg color
consistent border-radius
better expand / collapse
better vertical spacing
move too many rows message
Mongo QP breakout handles limit
basic mongo QP breakout support
merge
ensure password reset content sits on top of the boat
fix final jslint errors.
jslint fixings.
native builder button layout
don't be quite as strict about the leaving the page with a dirty card if the card is new and the query has never been run.
give the user a simple warning if they try to leave the page with a dirty card.
fix sql button transition
badge and padding
badge component and heads up
fix the handling for general errors on the create card modal form so that it doesn't dismiss even if we got an error.
code cleanup
pad out table headers
table font size
basic cumulative sum aggregations
show the user an indication that their visualization is out of date when they modify the query.
primitive gui mode collapse / expand
move chart rendering into its own react component.
holy loading animation batman
fix up dashboard create form on add to dash popover so that submit button is only active when the form is actually ready.
use layout centered
spacing tweaks
setup onClickOutside for our add to dash modal popover.
when the browser navigates away from the query builder page, force unmount all of our react components to give them a chance to clean up.
permissions badge
clean up viz loading
transition filter button
more global control of query section classnames
scalar viz styling
don't show the "add another filter ..." link if the previous filter is incomplete.
fixing issues with value handling when multiple field values were being used.
if the user chooses the "rows" aggregation then always give them a "table" visualization to start with.
when a user changes the aggregation to "rows" we clear out any breakouts chosen because it's not relevant to have breakouts with "rows".
force better immutability in React components by using angular.copy() on values we inject as props to ensure the react components don't have access to the mutable versions from our controllers.
when the user selects a new table on their gui query we now clear all the other query elements because it's likely they no longer make sense.
improve error reporting on card Saver.
don't show download link if the query resulted in an error.
make pin_map a visualization choice again.
make our Visualization more "pure" by implementing shouldComponentUpdate() and avoiding cases where the chart was re-rendering all the time even though the actual visualized data hadn't changed.
show a simple default message in the visualization informing the user to run a query in order to see something so they don't get confused by seeing a bunch of blank space.
show a message when the query returns 0 rows of results rather than just an empty window.
handle cases where dataset query api responds with a non-200 response.
automatically set the card display to scalar if we detect a 1x1 result the first time someone runs a query.
enhance the Table visualization component to accept a maxRows property which limits the displayed table length.  for now we set our table visualization on the card builder to a max of 500 rows until we support paging.
primary action button + some cleanup of action button
toggle button shrinking
header and spacing
bring back the scalar, state, and country charting options.  format scalar number a little bit.
move save button
Move Fields Clause Test Over Dot Com Backslash Sign My Guest Book
move yet another filter test over
move more filter tests over
move another filter test over
spacing
move a filter clause test over
fix a coding issue that was breaking rendering in Safari.
ORDER DAT SHIT THE RIGHT WAY KTHANX <3
take better care to handle null values that end up in our values listings for a given field.
support filters which have more than 1 value to set.
QP page clause tests now cover both Mongo + Generic SQL drivers
header icons and saver styling
even better filtering.
more work to get more filter functionality working.
lots of work on gui editor filters.
mo popover
losen things
add annotations info
popover styling
popover positioning
don't show query mode toggle for saved cards.
query mode toggle working completely now.
type tweaks
fix rendering of edit button + modal.
spacing tweaks
some basic info on annotations
move some more tests over
native builder markup
filter alignment
convert some more tests to be Mongo + H2
query labels
fix dumb typo
what a nice test fix <3
fix stale reference to card.isDirty() which was removed.
hold off on test data refactor for time being. Update tests to handle Mongo Test DB.
table overflow
now you can save shit.  #wutang
filter layout improvements and spacing tweaks
remove TODO RE change that I actually ended up making
update tests
Use SMTP for sending email
download link working again.
get saver button back to a workable state.  still pending a couple final decisions.
add to dashboard button + modal.
implement some of the test data refactor for H2
rework some of the test data stuff
use close icon on filter widget
icons
the first combined QP test
aggregation alignment
query error
layout tweaks
unit tests for Mongo driver syncing + connection
section padding and css organization
Add PG Native Query Type Mapping
mongo test data stuff (WIP)
merge
rename transition group and css cleanup
would be nice if i actually committed the result query editor react component :/
remove stray logging line.
create a query editor for 'result' type queries which provides a link to the old native query editing page.  also support scalar type cards by treating them as 'table' display.
get visualization selector working again and put a placeholder for rendering an error message if query fails.
css cleanup
native editor now uses ace editor w/ autocomplete and all our previous functionality.
add transition names
render methods and some styling for gui query
get bare rows working again by fixing null value issue.
don't force all filter values into strings.
managing filter state should all be accurate now.
merge
tweaks to overall layout
filter code in place and mostly working.
start to clean up gui editor rendering and update it to new mocks.
move toggle-button to proper file
add sql icon
markup and basic style of toggle
get rid of most of those pesky react warnings.
finish cleaning up aggregation clause handling.
don't use 'state' for managing query in gui query builder, just expect query to come from props.
remove email reports from the app.  the database tables are still in the migrations for now.
stripping out annotations code.  the db table still exists in the migrations for now.
strip out search code.
tweak table visualization component to be more generic regarding its input.
add new react component for rendering a table.
change visualization rendering to use a dropdown for selecting display.
strip blackjet reference
add new metabase.drive.rmongo.query-processor and metabase.driver.mongo.util namespaces
Mongo QP
nicer impl of with-mongo-connection that doesn't expand out into a cray cray amount of code in every expansion
centralize our master state in the controller and simply have each react component refresh it's props variables right before calling render().
prolly don't want to check in the test stuff <3
MongoDB Driver: Syncing + Everything but QP + unit tests * Will commit those separately to keep the PRs reasonable
native query mode now works in addition to our gui query mode.
update tests
fix broken syncing
treat UUID as an :UnknownField so it doesn't get checked for URL-ness (etc)
Move class->base-type mapping into driver since mongo driver *and* generic SQL will share it. Add Mongo lib dependency
oops didn't mean to comment that out
test fix
update tests
QP Preprocessor does some cleanup and transformations for incoming Queries before handing off to individual driver implementations. This allows the driver implementations themeselves to be a little simpler.
rework our angular controller, react components, and react models into a new structure that has better encapsulation and lets each component manage itself with more autonomy.
get the AddToDashboard and QueryModeToggle react components basically flushed out and behaving roughly as expected.
tidy up header a bit and get things all in a single line.  still needs some styling fixes though.
Try SSL connections first for Postgres before falling back to non-SSL
fix a few bugs.
LINTY FIX
OMG THINGS WORK <3
make QueryVisualization component smart enough to know when to not render anything.
create a component for RunButton and place it inside our GuiQueryEditor.
move the filter widget rendering inside the GuiQueryEditor component
did that fix it!
rename QueryPicker -> GuiQueryEditor and add in a new component for NativeQueryEditor.
update QueryHeader component to lay out inclusions for all the new things that will be handled there (add to dashboard, saver, download data, sql mode toggle)
move tests around a bit
things are almost all working again
more cleanup
clear out the old separate code and endpoints for our prototype and go ahead and promote the new stuff to the main urls.
much simpler driver implementations
Big refactor of Sync functionality
use a local var for the 'queryBuilder' and remove the use of $scope.model because we don't actually need to put anything in the scope to allow React to do its thing.
remove the query-builder directive which we really don't need and handle all our rendering in our controller.
tidy up some of our AppState promise code and make it easier to reason and a bit more concise.
force our homepage controller to resolve our app init process before executing to avoid issues with redirect logic not working because we don't have appropriate state information yet.
wip
redirect /auth/ to /auth/login
align dropdown content
align center with multi org
merge
align gear to baseline
use 22px sized gear icon across the board & use pl1 for spacing between gear and txt.
make sure Reporting Timezone is available on org settings pages.
allow setting a null value for Org :report_timezone, which is valid.
make sure we are applying the right styling and text for the failed state of action buttons.
login and async buttons
quick comment on something we need to revisit.
apply our new action button directive in the new admin UI in all the relevant places.
allow specifying a single function arg to the action function on an action button.
add a directive which allows us to turn a button into a stateful button based on the result of calling a function that returns a promise.
more illustration tweaks
illustration tweaks
login wrapper
initial pass at a stateful button which accepts an action function and some text for various states and updates itself as it's clicked and performs the supplied action function.
forgot password styling
reset flow fixes
few final fixes on 400 error code responses on session reset_password endpoint.  also updated unit tests.
update reset password form to new form handling approach.
spacing
updated styling on forgot password page.
fix up session unit test now that we are returning a 400 response instead of 404 when email doesn't map to user.
update forgot_password api endpoint
wip scenery
fixing up login page and converting to new form approach using events.
fix the click target on the org dropdown for the main nav.
when you switch orgs in the admin section, stay within the admin section.
use angular events for a much cleaner implementation of our form stuff that avoids a bunch of dependent code.
better sizing on form charm
jslint fix.
get the gear icon on the superadmin page too.
removing more stray logging.
remove more stray logging.
remove stray logging message.
use events instead of $watch for passing form alerts around.
fix button alignment
apply `Select--disabled` to email report table select when it's disabled.
email reports default schedule is weekdays.
revert pointer events cause it disables hover
make the gear icon a directive.
autofocus
extra protextion on actions
tidy up superadmin section.
immediately fade out table actions
only show our actions box on the database edit page when we are modifying an existing database.
remove stray logging message.
use the right css class.
chevron right
tidy up the way form messages are handled.  it's now just a single <span> element for either error or success.
fix up colors on mode toggle and make names of our checkboxes for recipients clickable.
don't treat select inputs as a `Form-input`
updated styling on page headers.
tidy up angular js form handling and streamline things a bit.
tweaking
superadmin orgs were not actually using our form processing on the controller.
superadmin section is updated with all the latest stylings.
update all the admin listing pages to the latest stylings.
admin forms updated with all the latest stylings.
headers
unveil the boat
content table
update user & session api unit tests to account for the updates we made to the 400 responses.
add org.clojure/tools.reader as explicit project dep
tweak core rounded and shadowed to reflect new values
nav bar sizing
cell control for grid
updating login page to work with our new form validation approach.  made a few tweaks to session api to ensure well formed 400 http responses.
form actions + 2/3
merge
form transitions and charm
couple updates on superadmin section to use latest css classes.
update all the admin resource templates to use updates css classes for Form-input and Grid stuff where appropriate.
merge
move over the stuff in the `login` branch from kdoh and we'll just deal with it here.
grid layout & more forms css
updating login page with new layout and form stylings.
fix logic around setting card.display so that we ensure we always have a valid value.  previous code had a condition where a failed card query would result in setting the card.display to null.
giver superadmin Settings section a normal path under /superadmin/
update superadmin Organizations pages to new layout.
update Global Settings page to new layout.
get the superadmin section navbar updated.
fix missing dependency.
fold all the old admin datasets stuff under Databases in the new admin layout.  functionally nothing changes.
fix a stray quotation mark.
Databases listing page.
remove unnecessary html comments.
updating Email Report listing page to new html.
start form structure -style
fix up breadcrumb stylings.
everybody gets a wrapper.
handle the admin section root url.
initial pass at converting email report page to new admin styling and form handling.
show `Using $MB_TEST_SETTING_1` in super admin instead of env var value
conform to new error message format
admin nav user chevron
merge
admin nav and breadcrumbs
use `(name symb)` instead of `(format "%s" symb)`
wire up DB simple SQL query for connection test in setup
make Add Person a separate page with a form and remove the old directive + modal approach.
updated People admin section.
set settings from env vars
conform to reality
remove unneeded css class.
jslint fixes.
little bit of renaming.
create a very simple mb-form-label directive which makes it much easier to manage the display state of form field errors.
updating admin Organization settings page with new forms approach.
basic version of new Database details page using full form validation.  this is a WIP and not complete.
update `defendpoint` to specifically catch ApiFieldValidationException and format the response to include specific field error notes that a client can more easily use.
make it possible to track a field-name value when we are throwing api exceptions via `(checkp-*)`
tidy up our angular DatabaseEdit controller and remove statically coded values from frontend and pull it via form_input endpoint.
remove stray html file.
remove some old login test code that we don't use any more.
move the Organization admin settings page to a proper submodule under the admin section of our angular app so we are following the same pattern as everywhere else.
new rendering for admin section navbar.
json-serialize wonky Postgres array types
don't barf on fields of wacky types like uuid[]
test fix
check-for-urls should run before check-for-low-cardinality
should_work_now
extra try/catch blocks for Sync DB
cast TextFields as texts when getting their length. More try/catches around DB sync functions
make sure lengths are int's before trying to format
pin to 1.6
"Report Timezone" -> "Reporting Timezone"
add a couple of additional tests for FK syncing
don't need magic code anymore when we haves the legit codes
add missing declare
tests for the FK stuff
test data now contains legit FK constraints
make sure superadmin section is up to date with new report timezone field on orgs.
update org api endpoints to accept report_timezone value when creating/updating an org + updating unit tests.
add Organization report timezone field to org settings page.
you can sync FKs
update code that determines jdbc connection timezone to fall back to the Org :report_timezone if it is set.
update unit tests to reflect the fact that orgs now include :report_timezone in their response data.
add new migration that adds a 'report_timezone' column to the core_organization table.
clarify dox
SYNCING THY DATABASE SHALT AUTOMATICALLY MARK THY PKS
test fix, for real
test fix
add more docs
get some info about why test be failin'
willest thou work?
error logging when connection fails
even nicer
nicer indentation
didn't mean to check that in
THOU SHALT BE ABLE TO CHECK WHETHER THOU MAY CONNECT TO THY DATABASES
clarify new dev dependency
thou can setteth thy timezones
INDENTATION (!)
test fix
eliminate reflection. Document remaining API endpoints
Tiles endpoint is 10x as fast
align the password security requirements with what's enforced.  eventually this should be dynamic.
test fix
QP orders all results based on value of Field.position
couple fixes for zero comparison.
tweak our number formatting function to be a bit more forgiving and treat decimals with no actual decimal values as if they are whole numbers.  also adding in some unit tests.
move to a docs directory
fix
don't log passwords of insufficient strength
add cell formatting to email report email generation and add a unit test.
add a very simple (format-num) function.
add a unit test for a failed dataset query execution.
don't return a 500 response on the dataset query endpoint.
fix up sorting of specialist messages on specialist detail page.
cast to int for specialist ids to ensure proper typing in sql query.
fix up unit test.
email report modes are supposed to be 1=active, 2=disabled.
test fix
test fix
Rewrite QP order-columns in a way that is reasonable + doesn't require a dozen+ DB calls
fix indentation
cast date values in the QP filter clause
return 500 when POST /api/meta/dataset fails
further research leads me to conclude that we *can* memoize field-id->kw, which makes the QP significantly faster
fix issue where sync failed to recognize URL fields. Run in parallel for faster syncing.
fix dividing by zero in metadata sync
test fix
remove uneeded :require
analyze databases 2.0
clean up imports.
use cheshire for parsing in our String->Dict annotation.
use cheshire when serializing our json for query results.
reorganize sync.clj a bit
more work to filter table and field listings to :active true
don't return tables and id fields if a table is not :active true
add in a few missing perm checks on endpoints.
fix old links that target _self and don't need to any more.
update unit test.
add :field_values delay to Table model and hydrate it on call to /api/meta/table/:id/query_metadata
new approach to getting columns ordered properly.
formatting.
revert changes from 4a65349dabb16b0362a90479fe49c2fd14325f1c where we attempted to put dimensions at the front of the column ordering but we failed and it created other bugs.
fix intermittent failures caused by Circle being SUPER SLOW
Add unit tests. Update dox
Don't try to set default values for defsetting at compile time
default values for email-from-address and email-from-name
default values for email-from-address and email-from-name
allow defsetting to take a default value
make sender (from:) for system emails configurable in site admin section.
remove code dealing with PGobject translation because it's too fragile and doesn't make much sense.
make sure to realize lazy seq
stop importing things we don't need
fix horribly broken tiles api
tile fixes so far
re-enable linters and stuff
test fix, I think
test fix
CAN I DO THIS !
CAN I DO THIS!
postgres tests test
we have never returned a 400 response on dataset queries so there's no reason to start now.
add security check on query executions.
use 'value' instead of 'str' to avoid colliding with clojure.core function names.
can I break up YAML like this??
let people modify :details of a Query.
if our postgres db has columns of type `json` we need to handle that on serialization of the field.
don't target _self on the 'create card' button any more.
be fully consistend about using a keyword for the :status of a QueryExecution.
retarget the readme from being targetted to contributors to being targetted for users
update the way we build our dataset query results output so that we order the columns/values in a way that ensures dimensions are returned predictably before other columns like aggregations.
bump compojure version to latest
remove TODO about what we just did
remove unused namespaces
new `timestamped` function eliminated `:created_at` `:updated_at` boilerplate
remove extraneous newline
fix ordering of DB type fns
entity definitions now support `types` for that takes care of casting json strings <-> dicts and string <-> keywords when going into/out of the database
strip out a bunch of console logging we don't need any more.
add missing table column header on database listing page.
when hydrating :fields on a 'Table' lets filter down to only the set of fields that are :active true
set default order on dashboard 'ordered_cards' to be by :created_at :asc so it matches the django app.  this realistically only affects the card order when no explicit order has been set by repositioning them.
extend our `realize-json` function to handle the case where the column is of type org.postgresql.util.PGobject which happens if the postgres column type is 'json'.
convert :status of QueryExecution as a keyword.  this fixes a bug in dataset query api endpoint where we were falsly thinking the query failed because we were expecting a keyword instead of a string.
more concise code
catch Exceptions when running hook functions
fix function which runs email reports on task runner.  function needed to accept a single arg for the hour it's executing on.
fix intermittent failures in task_test
formatting.
quick unit test on formatting of password reset email.
make the password reset email the same as it was in django app.
test fix
more concise way to write our query.
test fix
add a test for card too because I'm a good person. Add new annotation to make sure value of Card.display_type is valid
update database listing endpoint so that if the org 'inherits' we return ALL databases in the system rather than just the dbs for the specified organization.
add a unit test <3
fix permissions checking in GET /api/dash
fix typo
clarify dox
GET /api/card shouldn't return private cards
add some type mappings that were missing in the native QP
fix typo
revert accidental commit
EmailReports handle recipients
GET emailreport handles filtering correctly
make documentation super pretty
fix some documentation for `sel`
consistent naming with a numerical prefix.
remove the 0.6.0 migration file because we are now adding those fields as part of the initial tables.
bump dependencies
couple final tweaks.
add a new api context for /api/notify/* which is specifically for receiving updates from our ETL server about things like database and table changes.  unlike the rest of our api we are enforcing this endpoint via an API Key so that user credentials aren't needed.
add DELETE /api/org/:id; add button on superadmin page
add middleware functions which find and extract the http header for our metabase api key and make it available on the ring request as well as middleware that validates the apikey value and returns a 403 if it fails to match.
slightly better styling for superadmin settings. Delete unused file
nicer database details
remove extraneous div
float buttons right
style DB list on admin
API endpoint should also return recipients
clean up email report page
highlighting for superadmin nav
make superadmin nav look pretty
add superadmin link in menu for superusers
allow setting field_type attribute on Field update.
avoid really long strings.
add unit test for new-user-email message formatting.
dox for /api/query
add dox for api/session and api/search. add missing annotation to POST api/dash
dox for /api/setting
dox for `/api/user`
add function to check that all public symbols in a namespace are documented. Use this on `metabase.util`
even more dox
more documentation
Warn when defendpoint/defannotation is not passed a docstring. Add docstrings for `api/card` and `api/dash` endpoints. Clarify documentation for annotations in `api/common`
send a welcome email when new users are created on the Org membership api.
add email message function for `send-new-user-email` which formats and sends the user welcome email.
combine 3 duplicate annotations, add a docstr
* don't put trailing slashes on our api endpoints * put in defendpoint docstrings as much as possible
implement GET /api/meta/dataset/csv/
one more fix.
rework stuff for sameer
update logic for fieldvalues auto-creation
update unit test to reflect the fk :origin now hydrates :table :db
hydrate table :db on fk origin & destination.  there is still some frontend code reliant on these values.
fix wonky arglists
Asynchronously create FieldValues for a Field when special_type is set to category
Update README.md
use jsxhint instead of jshint
test fix
add jshint linter
upgrade deps
don't skip npm install anymore
add bikeshed linter and build uberjar in circle
somehow these dependencies weren't in the project.clj file.
test fix
`defendpoint` accepts optional docstr. Automagically generate fany documentation for all API endpoints based of params + annotations
fix typo
give defhook defonce semantics so we don't lose any functions when reloading relevant namespace. Cleaner implementation of defhook macro
revert accidental indentation change
POST /api/meta/dataset returns a 400 w/ error message (instead of 200 w/ nothing) when an error occurs in QP
Structured QP now returns useful error responses
lookup the type of a PK field before going to entity detail page so we can cast if needed
editing a user works again.
grant/revoke permissions working again on user edit page.
add a new api endpoint for GET /api/org/:id/members/:user-id which allows retrieval of a single permission for a user on an organization.  includes unit tests.
cleanup
Native QP maintains column order. Returns proper error responses for malformed SQL. Add unit tests for native QP
separate out user management stuff into separate controllers for better clarity.
show Member or Admin for all users.
fix modal opening for "add teammate"
move metabase.tasks.email-report -> metabase.task.email-report
remove extra set of parens.
remove redundancy in listed days-of-week.
fix issue where autocomplete_suggestions would barf if length of autocomplete str > length of table name
log GET params when logging API call
fix overly strict precondition. Add section to readme about using Emacs for Metabase dev
fix misplaced docstr
tell emacs which args are docstrings for `defhook`/`defsetting`
fix typo
Automatically load `metabase.task.*` namespaces when starting the task runner. Add task to execute all `Querys` on the `nightly-task-hook`
fixed issue where batched hydration would re-hydrate fields that had already been hydrated as a result of read/write checks (etc)
create (execute-all-reports) function which will run through all of our active EmailReports and execute the ones that are scheduled to run in the current hour.  also adds in an hourly task hook for running (execute-all-reports).
convenience function for converting a time-of-day value like "morning" into an actual hour of the day value.
implement POST /api/emailreport/:id which executes a given email report.
fix up some indenting and tweak return value of (execute-and-send) to return the :id of the EmailReportExecutions.
add a namespace for emailreport related tasks, specifically creating the `(execute-and-send)` function which allows us to pass in the :id of an `EmailReport` and have the report be executed and sent out via email.
add a couple of conveniences to emailreport and emailreport-executions models.
update (send-email-report) function so that we capture the rendered email template and return it from the function so the caller could do something with it if they want to.
add a new function for `(now-with-format)` which accepts a single argument which is a date format as a string and formats the current time to the given format.  this makes it easy to get the current time in any format the caller wants.
add a new namespace `metabase.email.messages` for collecting functions which handle templating of stock email messages.  added first function for (send-email-report) which takes appropriate data input and formats an email report message and sends it.
clarify dox
clean up comments
hourly task runner runs at the top of the hour
async tasks
fix up handling of admin 'query' section.
order admin nav alphabetically for now.
remove admin 'search' section because it serves no purpose any longer.
update unit tests for query-processor to reflect the fact that :extra_info is now part of our responses.
look for the table id of our FK table in a slightly different place.
add :extra_info attribute to the column definitions returned in our MQL results specifically so that we have :target_table_id available.
test fix
delete unneeded driver metadata implementation files
remove unneeded reference
delete old stuff
test fixes
new unit test
admin nav order, settings content and email button
remove errant white background
use a switch statement instead of multiple else-ifs.
refactor field metadata queries
use (update-in) to make (query-with-inside-filter) more concise and readable.
rewrite (filter-subclause->predicate) to be much cleaner thanks to Cam.
use threading for better readability.
update the implementation for our NavController to simply use our new 'appContext' value from the AppState service.  this keeps the route parsing logic in AppState as well as ensuring a better initialization path.
add an 'appContext' variable to our AppState model and keep it up to date on every route change globally.  this ensures we have a clean and centralized place to check what the current context of the application is.
oops
recreate the currentUser.is_multi_org variable client side so that we know when to show the org selector in the UI.
make pins a little bigger.
be more concise.
no need for parens around (java.lang.Math/PI)
rename `radians-to-degrees` to `radians->degrees` to be more idiomatic.
order more sensibly
add an annotation for String->Dict and use that instead of parsing json directly in our endpoint.
unreachable db hosts are a special case of the server+port not being accessible as many internal ips dont respond to pings
do some final cleanup and bug fixing and implement the final bit that takes the results of our dataset query, extracts the lat/lon points, and feeds them into our PinMap overlay java class for rendering.  everything should be working end to end now.
add in support for "INSIDE" subclause of :filter clause so that we can do bounded box queries that are needed for pin maps.  also did some updates on unit tests.
add /api/tiles routes to the api routes and implement the /api/tiles/* endpoint for rendering pin map overlay image.  this endpoint is currently not finished and working while we wait on getting the "inside" filter clause working in the query processor.
add a java class for `GoogleMapPinsOverlay` which uses java image manipulation libs to create an image from a set of lat/lon coordinates.  tried doing this in clojure but in the end the Java libs seemed the better route and there was just enough Java code to warrant an actual Java class.
remove silly comment
Implement GET /api/meta/field/:id/values and POST /api/meta/field/:id/value_map_update. (This is still pending tests)
omg fix typo
fix typo
remove extraneous docstrage
fix typo
unit test of POST /api/meta/table/:id/reorder
order the :fields attribute of a Table by position then name.
add stupid ascii diagram showing fn call graph for hydrate internal fns
we need to make sure $scope.fields is tied to $scope.table.fields
implement the POST /api/meta/table/:id/reorder endpoint
add a new annotation for ArrayOfIntegers.
add a docstr <3
fix typo in dox
test fix
write a novel about how hydrate 2.0 works
remove old Field Relationship modal directive stuff (FKs) now that it's not used any more.
remove routes, templates, controllers for listing dependents of a table.  that stuff is to remain back in the django app.
add POST /api/meta/table/:id/sync endpoint.
fix missing :require
add `sync-table` to our driver.clj interface and include multi-method implementations for h2 & postgres.
add a sync-table function which knows how to sync details for a single Table.
oops.  missed unit test renaming.
rename `sync-tables` to `sync-database` to be more clear that the argument is a Database.  we also plan to add a `sync-table` function.
don't overwrite $scope.table after an inline save.
fix typo
why would someone try to hydrate a field named  "can_write"??
I didn't like that indentation
define the hydration keys for hydration 2.0 on the entities themselves
hydrate 2.0
update readme
actually we can't skip lein deps because dependencies won't get cached
update to latest version of nrepl and expectations
fix fussiness
actually we should skip lein deps
don't try to override things circle won't let me override
skip teardown
fix dependencies
fix java version
tell circle to use java 8. Skip `npm install` and `lein deps`
clarify dox
use `reductions` instead of implementing cumulative sum myself
test fix
test fix
implement cumulative sum in QP
implement cumulative sum in QP
do batched hydration for annotation.creator
don't log sensitive fields like `password`
don't log empty API call bodies. Show the title of an annotation
fix some typos
fix annotation creation. FANCY COLOR LOGGING FOR API CALLS
disable making a connection pool when we are talking to datawarehouses.
add in a quick fix to support ssl connections on postgres db connections if the user sets the :mb-postgres-ssl env value to "true"
fix upd-non-nil-keys
only add implicit order_by if there is no explicit order_by
move the unit testing log4j.properties out the 'test' code folder because then it's also used in a lot of other places.  instead just create a new test_resources folder which we only apply to the unit tests profile.
loosen restrictions on timeseries history
implicitly order by breakout fields in QP
serialize `java.sql.Date` as YYYY-MM-DD instead as a timestamp
fix a small bug with new annotations framework
scroll vertically on oversized cards
test fix
only show group by if there are options
upgrade to the lastest angular-gridster release to get past an issue where the 'gridster-item-initialized' event wasn't being triggered for some reason.
fix indentation
fix a wonky test
test fix
give results test slightly longer to finish !
tweak annotation names to be a little more consistent
UPDATE THE README :/
indentation.
dat test fix
rework the way metadata is set on the test data fields
use `lein test` in circl ci now.
reset 'latitude' column to its proper state.
move the test database file under /target/ as well and give it a longer name so it's clear what it really is.
rename test-utils to test-setup for better clarity.  remove some old tests which were commented out.
fix typo
* add an alias to leiningen so that `lein test` runs expectations with the appropriate profiles * add some jvm args to our expectations profile so that it runs in a more isolated environment
tidy up the unit test lifecycle functions so that we just have a single setup & teardown function which reuse as much of the normal app setup process as possible.
test fixes
pull out the Jetty webserver management stuff into functions and track its lifecycle more explicitly so that we can gracefully trigger shutdown when needed.  The -main function now just wraps our (init) and (start-jetty) functions in a basic try/catch.
api test base url should get the port value from our config so that we can change it easily if we want to.
fix typo
we don't need to manually make log4j changes in code, we can have a log4j.properties file specific to unit tests instead.
clear up fe dev build process
fix add-to-dashboard modal popup.
when we create a new Database let's call sync-tables.
fix merge
rewrite API to use the new annotations
better setup form labeling
update frontend to pass valid database engine values.
add an input validation check that the specified db engine is one of our valid engines.
update /api/meta/table/:id/query_metadata to hydrate :target for all of the table :fields.
add 'target' to Field returned by 'sel' post-select macro.  'target' refers to the Field an 'fk' type points to.
propagate qb button style across app
merge
when we create a new org via api lets automatically add the creator as an admin member.
cleanup dox
cleanup
fix typo
small JS linting stuff.
tidy up a couple small things with creating the first org and applying that to the frontend app.
get the initial portion of the setup process running on the fronted.  we can now use the generated setup url w/ setup token to create the initial user account and then continue on with the rest of the setup process.
user created from setup endpoint should be a superuser.
add new code for handling initial user creation at install time.
fix typo
test fix
remove commented-out code
update unit test
be more careful when assuming something is an annotations map
fixes
new optional map param check pattern
I cannot type :'(
test fix
add rpartial to util (inspired by) [dash.el](https://github.com/magnars/dash.el#-rpartial-fn-rest-args)
scrub real names from test data
query result
add in a couple quick authentication tests on /api/meta/table endpoints.
more cleanup
add a unit test for GET /api/meta/table/:id/fks
update test data loading so that we include some schema metadata with our test db.  also updating unit tests to account for changes in responses due to additional metadata.
email report cleanup
more cleanup
cleanup
add wrapper
clean up
you too react.
use minified files. minified files are cool
concat non vendor and test js into one file
add download button
implement GET /api/meta/table/:id/fks endpoint.
move GET '/' definition to top of the file.
`req`
defannotation macro
defendpoint argument annotations
remove unused private var
revert accidental change
Handle PGobjects when serializing JSON (e.g. raw data that contains PostGIS geometries)
update old code for custom 'sel fields which is no longer needed.
fix up table api unit test.
be a good partials citizen
Add validity checks for Field.field_type in Clojure land; remove "None" option from UI
kill unused files
remove unused app file
better placement of error
we can use the $scope.table we are working on rather than rely on $scope.table.fields[idx].table
add :pk_field back onto the GET /api/meta/table/:id response
do batched hydration for GET /api/meta/db/. Save a few DB calls
combine org and admin forms
implement api endpoints for /api/meta/field/:id/foreignkeys
map addition H2 database data types
define additional Postgres types in driver
fix db addition
implement `GET /api/meta/db/:id/idfields`
merge
add docstr
update readme
add `lein migration-summary` command that will list all Tables + fields in Metabase DB
engine selection
no need to parse port value to an int, we expect an int from the json body already.
fix link to google_maps.js file, which was broken.
engine picker
use our currentUser functions to make accessing permission information safer/cleaner.
more pleasant error color
properly sized database cards
Implement + test `PUT /api/meta/table/:id`
handle routing the user better after a login.
Google Analytics tracking.
missed some use strict and formatting
add proptypes
cleanup
better organization of query builder
rename folder
fix up a few unit tests which need stronger test passwords now.
apply password complexity checks on the 2 api endpoints that allow password changes.
Create a simple utility function for checking password complexity.
you hipster
update permissions properly
Update README.md
fetch database list for saved cards
check we have a db list
remove console log
merge fix
merge
add `lein instant-cheatsheet`
de-hipsterify the code
code review
remove deubgging code
update our security enforcement on routeChange to validate that only superusers can access /superadmin/
update removal logic
add /superadmin/organization/ section which provides a crude way to manage organizations for superusers.
add 'create' function on Organization resource.
cleanup
proper fields for non date types
remove debugger
woop woop
single filter working
restructure filter widget
add in new superadmin pages.
we no longer need the old settings code that was under /admin/
move the settings stuff created by Cam into the superadmin section where it makes more sense.  purge the old superadmin pages which weren't doing anything yet.
fix alignment of superadmin nav.
reintroduce superadmin section.  this is just a stub for now, more work needed to clean things up.  also, deleting old files no longer needed.
add nav entry to suppore superadmin section.
fix indentation on index.html page.
we call ourselves Metabase now.
move angular js loading into the <head> section and add `ng-cloak` to our navbar <div> so that when pages are loaded for the first time we don't see all our nav templates show up briefly.
filter logic
lein-ring 0.9.3 came out today <3
fix issue with function visibility.
code as documentation.  make it clear what we are destructuring.
removing an unused function and tidying things up a bit.
Add Ring GZIP middleware. MAKES THINGS FASTER EVEN RUNNING LOCALLY <3
remove the couple of associations of (field-count) and (field-distinct-count) on the Field model after post-select.  simply calling into metabase.driver directly to execute these functions now.
remove doc/ directory seeing how it does not actually contain any useful dox
remove series of functions and post-select associated (delay)'s on the Database and Table models and move all of that code under metabase.driver.  most of the code is just part of the generic-sql implementation now, with a couple of small exceptions.
revert accidental checkin
actually, don't use :no-cast and :cast-include-as options
fix dox
query processor can cast DateTimeFields -> dates in certain circumstances so we can have nice things like timeseries
format
no need to change the name of the internal `process` function.
unify all of the public facing database driver functions under the metabase.driver namespace and tighten up the references throughout the codebase.
update plugin dependencies
Clarify that `lein ancient` needs leiningen 2.4+
not sure why some unit tests are passing empty bodies `{}`. But ignore those
test fix: http-client.lite will assume you're trying to do a `POST` request if you pass an HTTP body. So don't do that for `GET`
fix bug in frontend_client where 'display' was unset in safari and caused card saving to fail.  now explicitly setting default card 'display' to 'table'.
fix tha uberjar
tests + docstrings + refactor
update based on feedback
well derpy bug is derp
set dates to be moment objects for picker
add unit test for 'result' type query processor.
add datepicker
fix org permissions check for Org that doesn't exist. Additional tests. Various small improvements
we no longer need to declare 'build-response' in qs.clj
full set of default indentation for the file types we are using.
add a simple implementation for returning a cached query result from the query processor.
move 'build-response' into the query-execution model so it can be reused more easily.
remove cruft
forgot to remove window.scope
partial validation
positioning
update unit tests to reflect change in default field_type.
set default field type to :info
don't for 4 space indentation for all editor defaults, clojure for example doesn't make sense for 4 spaces.  add explict definition for *.js at 4 space indentation.
db switching logic
add stub for DB connection string validation
Query Processor handles new empty forms for new query builder
hiccup is nice for HTML templating <3
api unit test for POST /api/org/:id/members to validate that we can add a perm for an existing user instead of creating the user.
add some checks against POST /api/org/:id/members to validate that we get 403 and 404 responses when expected.
some api unit tests for POST /api/org/:id/members
api unit tests against PUT /api/org/:id/members/:user-id to validate that we get 403 and 404 responses when expected.
api unit tests against DELETE /api/org/:id/members/:user-id to validate that we get 403 and 404 responses when appropriate.
api unit tests for POST /api/org/:id/members to ensure we get 403 and 404 responses when appropriate.
validate that we get 403 on GET /api/org/:id/members if user doesn't have permissions and 404 on GET /api/org/:id/members if org doesn't exist.
add a unit test to validate that a user with READ perms cannot modify the settings for an organization.
when creating random test users use the same value for :first_name as :password so that if the caller wants to they can know the password and use their newly created user to login.
adjusting function ordering a bit.
unit tests for api to check that PUT /api/org/:id returns 403 is user doesn't have perms to update org OR a 404 if org doesn't exist.
add unit test for PUT /api/org/:id
unit tests to validate that we get a 404 when trying to retrieve org by id/slug that doesn't exist.
unit tests to verify that we get a 403 when we don't have permissions to get an org by id/slug.
add a couple unit tests for input validation on POST /api/org
shuffling test ordering to match the same order they are in the api def.
ensure that when we test non-superuser access for org listing that the data is in place to make a valid test case.
Send password reset email
add some basic authentication tests against a couple /api/org/* endpoints to ensure we are applying authentication middleware.
org create
switch org method
use @org-id instead of (:id @test-org)
email functions don't need org-id
setup nav
add to app
add setup flow files
slightly faster API format middleware
slight performance improvement for HTTP client
use `(into {})` instead of `(reduce merge {})` or `(apply merge {})` -- it's a lot faster
settings framework is Org-independent
chesire instead of data.json: 2x faster
whoops, test fix
Don't need to run migrations 4 times on test suite start
remove unneeded fn
fix ordering for test startup
whoops, debug instead of info
tests are now nice + quiet
api endpoint for logged in password update is different in clojure app.
less obnoxious logging. Parallelize unit tests
test fix
move dev-only stuff to :dev
test fix
POST setting -> PUT setting for consistency
dox + API tests
more postgres column type mappings.
fix issue with validation checks on boolean field and set default value for 'admin' attribute in body to false.
tests for Setting model
need to specify 'admin' attribute when adding users.
permissions check for settings endpoints
settings -> setting
syncing frontend_client changes from django app.
add support for a ":timestamp" type column to our postgres driver.
actually, no point in putting the 'settings' table in the DB
defsetting, org-specific settings
Mandrill API, settings (WIP).
unit tests for POST /api/session/reset_password
some api unit tests for POST /api/session/forgot_password
add unit test to verify an inactive user is denied login.
add some unit tests on POST /api/session to check for input validation and password checking.
add a couple unit tests to validate input checks on user password reset.
add a couple of authentication checks on user api endpoints to ensure that unauthentic users are sent 401 responses.
Keep H2 DB connections open for Metabase DB / Test DB until JVM is shut down
fix previous commit and use :put as desired.  also add a test that non-superuser can't modify password of another user via PUT /api/user/:id/password
test to check that non-superuser cannot update someone else's account via PUT /api/user/:id
validate that a superuser can access other user details via GET /api/user/:id
permissions check on GET /api/user/:id
when a logout happens we need to listen for the event and clear the state of our top level controller so that the current user is no longer available.  this will also fix a problem where the nav bar was not hiding on logout.
have `setup-db` function take a kwarg instead of a straight boolean arg, which makes the function call more readable.
warn instead of error log.
fixing indentation.
no need for if logic
add git ignore for the other h2 database format.
favor using logger instead of println.
cleaning up a few more references to *log-db-calls*
swap out use of *enable-debug-logging* for our consolidated config.
switch from *log-db-calls* binding to using our centralized config.
Test for GET /api/query/form_input
test for GET /api/qs/:uuid/csv
test for GET /api/result/:id/csv
test for POST /api/query/:id/csv
test for GET /api/query
'org' is a required param for GET /api/query
test for GET /api/search/model_choices
don't really need to run `lein check` since `lein eastwood` will fail if project fails to compile
test fix
test fix
unit test for GET /api/meta/db/form_input
actually stash user->client credentials
memoize user->client to shave off an API call for basically every test
test for DELETE /api/emailreport/:id
test for GET /api/emailreport/:id
test for POST /api/emailreport
tests for /api/result
Reuse Korma DB connection pools instead of creating new ones all the time
fix api.meta.field-test when ran independently
better forced lazy loading for test data
test fix
fix a few things
fix some tests
Remove sel-fn. No longer needed because sel macro works correctly
fix use of defonce w/ docstrs
fix indentation
prevent setup-db from being executed several times while running test suite
fix comment
Tests for POST /api/query/:id and GET /api/query/:id/results
little bit of cleanup on unit tests.
make database config fully pluggable via environment vars.  user can now switch to postgres db simply by specifying some variables in environment before launching app.
test that we can clone a Query
test for DELETE /query/:id
test fix
unit tests for GET /api/query/:id and PUT /api/query/:id
user->client now correctly loads test data.
streamline the database initialization process and add in support for a quick connection test before we try running any migrations.
test for POST /api/query
update test
return row_count with GET /api/qs/:uuid response (expected by UI)
test fix
nice indentation
make the jetty webserver startup more configurable.  also enhancing the overall init process a bit so that if any exception gets thrown during init we stop and don't start the webserver.
create a more robust set of functions for accessing configuration data from our own defaults or user provided environment vars.
QP support 'between' filter type
test fix
test fix
test for PUT /api/meta/field/:id
don't run unit tests on JVM shutdown since they delete our H2 DB which is obnoxious to say the least
fix simple-batched-hydrate; use it when getting cards list for org
hide nav when logged out
set upper limit for heap size on JVM when running tests
move initialization work into an 'init' function and call it from our '-main' function.  also setup lein ring to run our init function as part of its :init process.
force H2 not to use the new MV store.
Bootstrap commands give you option to make user a superuser
force a more recent version of httpcomponents to satisfy dependencies.
move bootstrap + http_client code into dev and only have clj-http dependency in :dev profile.  this also fixes up the issue we had with the uberjar not working properly with running migrations via liquibase.
don't let liquibase be quite so verbose with its logging.  set it to WARN level by default.
run database migrations on application startup.
fix tests
create a simple 'setup' function for our db which we can use as the overall connection + migration work when we bootstrap the app.
when running the 'genSql' liquibase option lets capture the output (the actual sql) and return it to the caller.
let PermGen memory be garbage collected. Give PermGen a little more headroom
test fix
fix indentation
test fix
add /.lein-failures to .gitignore
update leiningen project to avoid putting .java source files in our jars and add our "npm" and "gulp" tasks to the :pre-tasks list.
custom leiningen tasks for running npm and gulp so that we can now run all our build steps via leiningen.
update dependenices w/ lein ancient
update bower config with new path to frontend_client.
gulp needs to know the updated path of our dist folder for built frontend assets.
index needs to be a function not just a response dict.
directly :require cheshire.factory so that when we call our hack a few lines below there is no possible issues of NS not found.
very simply application main() function which starts up embedded jetty server on port 3000.
move /frontend_client -> /resources/frontend_client to make sure the static resources are bundled in our jar files. small updates to main routes.clj file to make static asset serving from "resources" instead of "files", which allows for serving out of jars.
admin entry no longer necessary
single entry into app
fix bootstrapping
Use milliseconds in date formats
strip out unnecessary logging.
little more cleanup on auth middleware testing.
updated auth middleware unit tests which aren't subject to broken compile time bindings.
Tests for /api/qs
this should fix allen's test
test fix
make sure test db is setup before we run our unit tests.
test fix
unit tests for bind-current-user middleware.
fix indentation
test fix
unit tests for enforce-authentication middleware.
rewrite QS endpoint that wasn't using defendpoint
defendpoint now properly handles UUID
fix commit weirdness
unit test for wrap-sessionid middleware.
test for GET /api/meta/field/:id/summary
test fix?
unit test for PUT /api/user/:id/password
few more updates to make sure annotations endpoints are working.
test for GET api/user; improve korma->entity dynamic ns requiring
permission checks on the rest of the annotation endpoints.
permission checks on annotation list & create endpoints.  list endpoint now supports filtering by object_model & id.
Test for GET /api/org
test for GET /api/meta/db
lower-case before running our email check regex.
lowercase emails
Test for GET /api/meta/table/:id/query_metadata
test for PUT /api/meta/db/:id/members/:user-id
test fix
test fix
test for GET /api/org/:id/members
new unit tests
fix Database pre-update when JSON :details aren't passed
fix PUT /api/meta/db/:id when only some keys are passed
fix JSON hydration for JDBC clobs that are "null"
implement /api/health url.
fix up logging config so that it's useful and defaults to printing to stdout.  use logging calls instead of printlns.
prettify services.js
test fix
fix some nastiness
unit test for POST /api/org/:id/members/:user-id
better formatting for exceptions caught by defendpoint. cascade-delete entity multimethod (WIP). Unit tests for api/org
fix indentation
fix bad usage of *current-user*
test for GET /api/meta/db/:id/tables
Tests for GET /api/meta/table/:id and GET /api/meta/db/:id
client now calls auto-deserialize-dates automatically; remove deserialize-dates
auto-deserialize-dates
fix up define-routes
use defendpoint
check Database perms on adhoc query execution.
fix bug where json parsing barfs because we aren't setting a value which is actually json.
fix issue where :query_id and :version were not properly being associated with QueryExecution tracking.
/api/dash/ tests
get query update working again.
check for database read access on query create.
complete filtering options on query listing endpoint.
permission check on /api/query/form_input endpoint
test fix (?)
use milliseconds in date stuff
Unit test for PUT /api/card/:id, fix new-sql-timestamp
Unit tests for Session API. new-sql-date -> new-sql-timestamp
delete preposterous comment
remove excess space
make sure card names are random enough
oops, don't try to create Cards at compile time
Unit tests for ``` POST /api/card GET /api/card/:id DELETE /api/card/:id GET /api/card/:id/favorite POST /api/card/:id/favorite DELETE /api/card/:id/favorite ```
merging frontend changes from django app.  this also includes a couple tweaks like replacing $cookies with ipCookie to make sure we stay compatible with our new auth system.
fix status badge
add a sweet CircleCI build status badge to readme
we need to remove the session cookie right when we get a 401 response from the api and know the session is no longer valid.
don't let users login if not :is_active true
clean up a couple things with the session age calculations.
upgrade authentication check middleware to validate that session user `is_active = true` and session age is less than max-session-age
put in an app global config entry for :max-session-age
define our Korma relationship from Session to User.
paredit mode got me somehow :/
flushing out little things here and there on Org and OrgPerm endpoints.
another check for valid email format.
when user is updating their email address, check it's a valid email format and that it's not already taken by another account.
add a convenience function to test if a string is a valid email address.
slightly more concise test
unit test for GET /api/meta/table/:id/fields
fix comment
remove bad comment
unit test for POST /api/meta/dataset
update unit testing helper functions to use new password salting method when creating new users.
update logged in user password reset endpoint to use the new password validation with the salt.
tidy up a few final things.  password reset now working.
initial support for resetting user password.
fix `sel :field/fields`
whoops fix typo
add unit test for QP 'page' clause; fix issues with test data CATEGORIES only loading first letter of category name
clarify dox
update readme
nicer interface for bootstrapping
start tracking 'executor_id' on query executions now that its in the data model.
Bootstrapping stuff
remove some debug logging
Add .dir-locals.el Emacs settings file
allow annotation 'title' column to be nullable.
add 'additional_info' and 'executor_id' columns to query_queryexecution table.
add permissionsviolation table
bootstrap stuff
clean up sel logging a little further
fix sel `:field` and `:fields` behavior with local bindings
fix comment
remove excess space
Unit test for /api/user/:id; improvements to `sel`; unit test helpers `deserialize-dates` and `match-$`
angular-cookie dependency went missing on latest merge with frontend client.
updated index/admin_index.html pages with most recent javascript additions.
update Gulp build settings.
update bower and npm dependencies.
updating with changes to frontend_client files from python app.
updates to driver.clj missing from recent PR.
api/user unit tests + some new helper functions / macros. sel now supports :field, :id, and :fields
remove a few TODO's that we completed.
use `some->> ...` instead of `when ... (->> ...`
enable asynchronous execution for query service execution endpoints.
simplify implementation of format middleware a bit
little more cleanup.
tighten things up a bit more by using destructuring with default values.
nicer commenting for marginalia.
send dataset_query endpoint through our new datset-query() function so that we handle tracking.
implement endpoint for execution of saved queries.
tighten things up a bit.  `do-safely` macro and `query-check` function weren't really doing much, so killed them.
create a function matching the dataset_query() function from the python application and wire up query service adhoc query endpoint to it.
dox cleanup
revert accidental logging checkin
stop the Jetty server after tests finish so CI doesn't hang forever
remove some logging
that was dumb
try to see what's wrong with tests
did you know you can destructure like [entity & {:as kwargs}] <3
fix ordering in db.clj again
more efficient implementation of exists?
fix ordering of `sel` / `ins`
test fix
test fixes + ring adapter
add a comment
First API Unit test. Some test users
fix get-table-row-count
remove unneeded declare
`sel` macro should syntax-quote `first` and `identity` to avoid accidental variable capture
API Client now handles authentication
handle auth middleware headers being automatically downcased
use routes/not-found
return 404 for files starting with ^/app/ that don't exist (instead of returning index.html)
test fix
test fix
test tweaks
add missing declare
some tweaks to loading test data
Test Data + Query Processor Unit Tests
use 3rd party angular-cookie library instead of the built-in $cookies because we need to control setting cookie options like path and secure.
use `zero?`
api/meta/db should return 400 if you forget to pass 'org', not 403
fix generic sql metadata count for H2
tweak .gitignore to ignore other H2 DB files in root dir of project
generic sql driver implementation of Field metadata
a few minor tweaks for drivers
add clojure.tools.trace to project.clj
fix post-select ordering for Database
Update License
little more cleanup.
tidy up some things based on suggestions from Cam.
add note
dox fix
clarify dox
code cleanup
stddev
Implement 'avg' for QP 2.0
Query Processor 2.0 Now Handles `breakout`
more work on QueryProcessor 2.0
more work on the new korma-based implementation of the Query Processor
remove some logging messages.
tidy up.
cleanup.
new implementation of query processor uses Korma to do all of our dirty work
Call correct driver implementation for sync DB
H2 Driver now does sync DB
little bit of validation and error handling on login page.
clarify dox and switch `map` to `mapv` to avoid lazy sequence closed conn issues
use bcrypt to hash passwords and do password checks.
fix error message
`metabase.driver` now handles `connection`; initial implementation of H2 Driver (WIP)
fix issues where sync DB would sometimes see null table names when running in parallel
PUT /api/meta/db/:id
fix up session DELETE (logout) endpoint.
wire up login/logout via angular frontend client using /api/session/ endpoints.
remove 'curren_user' middleware namespace.  we folded those couple functions into the auth middleware.
simple authentication enforcement that allows us to look for session tokens via cookie or http header, validate them against our sessions in the db, and make it easy to access the authenticated user from the request.
update to latest frontend_client files.
clean up a few things in session create/delete (login/logout).
`check` should return the value of its last result
update readme - add link to GitHub dox page
Basic "beta" implementation of an HTTP client that can hit the Metabase API for testing / REPL debugging purposes. This should be considered a WIP until session management is implemented
Query processor 'sum' now works
`sel :one` adds korma `(limit 1)` form to `select` call
use `exists?` in place of `sel` for /api/card/:id/favorite
dox fix
dox fix
dox fix
fix make dox (again)
dox tweaks
tweak make dox
tweak Makefile
tweak Makefile
Tweak make dox
tweak Makefile
Makefile for making dox
dox formatting fix
remove redundant alias
update email reports to use new better permissions checking
more dox
as macros instead??
Better permissions checking patterns
sel now handles "fully.qualified/Names", and fixes some issues with post-select not being called when expected. org-perms-case no longer fetches Current User (this effectively eliminates a DB call for almost every endpoints)
Autocomplete suggestions
slightly nicer indentation
PUT /api/dash/:id
DELETE /api/dash/:id/cards
permissions checking for Field API endpoints
clarify dox
GET /api/meta/field/:id/summary
couple updates to streamline user updates endpoints.
permission check on user detail get.
permissions check on user listing endpoint.
2 lines between defs makes things easier to read.
removing large comment.
permission checks on all org membership modification endpoints.
tidy up org grant permission endpoint and add a little more validation.
cleaner implementation of org update + make sure we are returning all relevant fields in members listing.
flushed out implementation of email report executions listing endpoint.
support for incrementing version on update of email report.  adding final couple of endpoints which still need tweaking.
I like indenting things pretty
update and delete endpoints ported.
clarify dox
clarify dox
fix typo
working implementation of Search v1 in only 90 LOC
ability to create an email report (POST /api/emailreport)
fix
optimizations
Edit the layout of a dashboard
hydrate can_read/can_write in GET /api/dashboard/:id
GET /api/card handles `f` (filter) param
GET api/dash filters properly (handles `f=mine` or `f=all`)
Eliminate a lot of unneeded hydration; fix add card to dashboard from a dashboard (drop down menu)
Add a Card to a Dashboard
Sync DB now handles table row count
Remove stuff related to DataSource / ETL
add emailreport endpoint definitions for / (listing) and /:id (get by id).
better naming base-type-for-value -> value->base-type
remove logging
fix dox
Field syncing
Basic functionality to Sync Tables for a DB
kill unnecessary println.
starting off emailreport endpoints and adding /api/emailreport/form_input.
add perms check to GET db
remove stuff we really probably don't need
add missing declare
POST/DELETE methods for /api/meta/db. Some helper functions for checking permissions for an Org. `realize-json` now handles JdbcClobs.
implement the CSV download functions for a few of our query endpoints.
add a function which makes it easy to get the current time formatted as iso8601 string.
add clojure.csv dependency.
test fix
Open H2 DB connections in `AUTO_SERVER` mode, so we can have multiple connections to it (e.g. Web Server + REPL)
Add some param type checking for `defendpoint`
Rename `strip-fns-from-response` -> `format-response`. Middleware now converts H2 JdbcClobs to strings, needed for the API to return certain objects.
GET /api/meta/form_input endpoint
use build-response function for query result endpoint.  add a few comments.
make a reusable 'build-response' function like we had in the django app.
quick comment to keep track of next steps.
adding /api/qs/* endpoints.
fix something we were experimenting with.
perms check
now you can fetch a list of datasources
more code cleanup
code cleanup
adding endpoints for annotation management at /api/annotation/*
contains-many? function.
fix refresh on admin pages
load up the correct Google Font
serve up admin_index.html
unit test for contains-many? fn.
update comment.
add a util function for parsing standard iso8601 date strings into java.sql.Date objects that can be saved to the db.
update liquibase migrations to include 'annotation_annotation' table.
fix paging issue in QueryProcessor
handle paging correctly in Query Processor
move the json encoding of details to `pre-insert`
use new `pre-update` functionality
Can that `Org` read tho?
* automatically assoc :row_count for selected results on QueryExecution. * don't return the execution result data on selects by default, only return it when we specifically ask for it.
delete a dashboard
create a Dashboard
fix dox
update a Card
POST /api/card endpoint
implement /api/query/:id/results endpoint
fix 404 status for things like /user/edit_current
add missing `declare`
driver.structured -> driver.postgres
new endpoints for /api/result/:id and /api/result/:id/response
rename query_processor -> driver
fix `wrap-response-if-needed` so it can handle `nil` `:body`
actually `del` should return a 204
create a CardFavorite + delete it
handle aggregation: rows
fix a few issues with the ghetto query processor <3
the ghetto query processor handles (ish) native queries
The ghettoest query processor implementation
remove bad reference to self
fix name stomping
reverse accidental commit
QP
clarify purpose of `fn` in `assoc*`
test fix
add some unit tests + dox
code cleanup
make `check` overly flexible
wHUT
Utility stuff around permissions and inserting/updating objects
use dat `when-let`
fix `post-select` behavior when you pass a vector like `[User :id]` to `sel`
lost all patience with h2 based unit testing, so disabling those tests for now.  grrr!
typo.
gotta check if file exists before trying to delete.
fixing up test db deletion.
delete db-file as part of test db setup process.
adding missing 'type' column to query_query table.
sorta fixing the GET "/" listing page.  it's still not fully functional yet :/
stub out future implementation for query execution endpoint.
update and delete a query.
add endpoint for GET /:query-id
set some default fields for query model + post-select functions for :database and :creator
cleanup implementation a bit using new macros.
starting /api/query/* endpoints.  completed /form_input and POST / (create)
adding some common things used throughout models such as timezone list and permissions defs.
remove logging
fix unneeded prefix form in :require
test fix
Some very nice stuff [WIP]
fix 404 status when serving a route that is handled by Angular
clean up dox a bit so they look nice in marginalia
basic functionality to connect to a third-party Database and run raw queries against it
tidy a few things up.
clean up a few things.
simple implementation of session login/logout.  still missing password encryption though :/
add helpers for 400 responses.
new liquibase changeset to add session table.
remove file didn't mean to add
*current-user* is now a delay rather than a memoized function
Log API call now logs API call before request is handled instead of during it
rename APIException -> ApiException
rename APIException -> ApiException
test fix
remove :require for deleted file
fix indentation
remove test functions
Cleanup the API condition functions/macros
flushed out initial implementation for all /api/org/* endpoints.
improvements to the way card permissions are handled
Move some internal functions to metabase.api.common.internal
New api-X threading forms for non-404 exceptions. Check card perms for delete
APIException + handling
Card permissions checking
user org permissions checking
remove old `defapi` macro + tests
`hydrate` also works for delays
strip-fns-from-response should also strip delays
DELETE /api/card/:id + fix order of GET /api/card?org=:org_id
convert routes to new 'defendpoint' macro and tidy up implementations.  also added implementation for password update endpoint.
Add /api/meta/table/:id and /api/meta/table/:id/fields
add missing reference
`simple-batched-hydrate` and remove util function that duplicates `medley.core/mapply`
fix `hydrate` when you ask it to hydrate a key that's missing. Add unit test
Table model should set getter fn as :db, not :database
fix dox
Simplify the `sel` macro a bit and fix some issues with Table endpoints
fix `hydrate_json` when it encounters a key that doesn't exist
add dox
Improve the way `sel` and `sel-fn` handle runtime entity resolution (an edge case, but needed in certain situations to avoid circular dependencies). Now correctly applies `default-fields` (etc.)
clarify dox and add fix default-keys behavior
api/dashboard/:id endpoint
api/dash endpoint
api/card/:id/favorite endpoint
A way to resolve circular dependencies with `sel` macro; api/meta/table/:id/query_metadata endpoint
api/meta/db/:id endpoint
/meta/db/:id/tables endpoint
meta/db/?org=:org_id endpoint
Add a few API endpoints so you can look at the list of cards from the web app
fix api/user/current
`defendpoint`, `define-routes`, and `auto-parse` macros
`metabase.util` namespace + tests
unit test for hydrate-json over sequence of result. Clarify dox
Add unit test for hydrate-json
crude implementations of the main user api endpoints.  a WIP.
we have the user/current route as part of the user/routes definitions now.
fix db option.
fixing unit testing.
add "if exists" to drop statement to avoid false failures.
adding convenience function for deleting.
add api/card
Add `realize-json` function too
fix indentation
fix dox
oops revert changes to DB
`defapi` helper macro and a few helper macros similar to `with-or-404`
Add `sel` macro, `hydrate`, `default-fields`, etc.
stub out all the api routes that were part of the "core" django app.  so users, organizations, and sessions.
clarify dox
Bind dynamic vars *current-user* and *current-user-id*
fix typo
with-or-404 util macro and tests for it
Add middleware that associates :current-user and :current-user-id with request. Add "current user" endpoint
Please keep project imports in order
There's not really any advantage to making `get-db-file` a function, if we want to override settings down the road we can use a dynamic variable instead
fix bad merge
Organize routes a bit + add middleware
Add a couple requirements
fix liquibase logging so it ties in with our log4j setup instead of printing to stderr.
add very base versions of all of our models for sqlkorma.
update unit tests to use expectations.
drop midje for unit tests.  move expectations to :dev profile so its not bundled in our jar.
update readme with more info about prereqs & build steps.
little bit of clean up on unit tests.
finish adding the rest of the database tables to the initial migration file.
Return a better 404 for missing API routes
get gulp working again and remove our compiled css file from git.
actually use `letfn` for `serve-index` to avoid introducing one-off fn
Serve up the angular app
add `migrate` and `ins` functions to `metabase.db`
fix up a few things in unit tests and make sure everything is working now.
add user and userorgperm models.
don't include :entity_fields on base entity because that forces those columns to be returned on EVERY query, which is not always desired.  instead we need to find a way to make the fields list composable.
add more of the schema to the liquibase initial migration.  we are now covering user, organization, and userorgperm tables.  also, for debugging purposes the app main method will dump the liquibase sql into a script in /tmp/script.sql so that we can check it out and run it manually while we work through creating the liquibase changelog.
switch back to lowercase tables/column names which seems to be the most compatible approach.
specify cider-nrepl pluging version "0.9.0-SNAPSHOT" instead of "LATEST" which is "0.8.2"
small fix to remove reference to file not checked in yet.
* add liquibase for migration management. * setup a basic example of a unit test that runs migrations (up & down) while testing some model code. * create inital liquibase migration file (only 2 tables reflected so far).
Basic boilerplate for Compojure/Ring HTTP server; add some deps we will definitely want or need
* add H2 database to the project dependencies * create a simple place to store application wide default config settings * configure our Korma db using app defaults or overridable environment variables * tell git to ignore any locally defined leiningen profiles from profiles.clj
basic scaffolding for logging setup.
tests are working as expected
fix typo
Add circle.yml
try to make sure tests fail
Add dependencies for dox and unit tests, add first unit test
* cleanup project file and use reasonable values. * fix up our namespacing to be based off of "metabase". * add midje to the app for unit testing.
ignore our IntelliJ files in the repo.
first commit

fix(api): nvim_buf_get_text regression (#21071)
refactor: convert drawline.c draw states to enum (#21067)
vim-patch:9.0.0884: mouse shape remains in op-pending mode after failed change (#21066)
test: don't skip parser_spec on windows (#20294)
Merge pull request #20157 from dundargoc/build/iwyu
Merge pull request #21031 from dundargoc/fix/windows
build: allow IWYU to fix includes for all .c files
docs(treesitter): change links for `eq?` and `set!` to codeblocks  (#21047)
vim-patch:9.0.0882: using freed memory after SpellFileMissing autocmd uses bwipe (#21060)
vim-patch:9.0.0883: a silent mapping may cause dots on the command line (#21061)
Merge pull request #21054 from max397574/fix/deepcopy_vimNIL
fix(lua): make `vim.deepcopy` work with `vim.NIL`
ci(windows): treat compiler warnings as errors
feat(lua-api): avoid unnecessary allocations (#19877)
vim-patch:9.0.0878: Coverity warns for dead code (#21053)
feat(test): add Lua forms for API methods (#20152)
test: remove skip for 32-bit MSVC (#21030)
vim-patch:8.2.4038: various code not used when features are disabled (#21049)
vim-patch:8.2.4001: insert complete code uses global variables
test(old): add missing lines from Vim patch 8.2.0522 (#21048)
vim-patch:9.0.0872: code is indented more than needed (#21046)
test: introduce skip() #21010
Merge pull request #21033 from bfredl/winfix
fix(ui): fix some cases of stale highlight definitions
Merge pull request #20984 from notomo/fix-message-kind-on-history
vim-patch:9.0.0865: duplicate arguments are not always detected (#21036)
vim-patch:9.0.0863: col() and charcol() only work for the current window (#21038)
vim-patch:9.0.0867: wildmenu redrawing code is spread out (#21035)
test(lua/ui_spec): fix Ctrl-C test flakiness (#21039)
Merge pull request #21037 from zeertzjq/vim-8.2.4675
vim-patch:9.0.0869: bogus error when string used after :elseif
vim-patch:8.2.4676: test fails with different error
vim-patch:8.2.4675: no error for missing expression after :elseif
vim-patch:9.0.0866: no test for what patch 8.2.2207 fixes (#21034)
vim-patch:9.0.0862: default value of 'endoffile' is wrong (#21032)
fix: vim.ui.input always calls callback #21006
Merge pull request #20178 from vigoux/extmark-nospell
feat(spell): support nospell in treesitter queries
feat(extmarks): allow preventing spellchecking with spell = false
vim-patch:9.0.0845: shell command with just space gives strange error (#21029)
feat(checkhealth): use "help" syntax, avoid tabpage #20879
vim-patch:8.2.2207: illegal memory access if popup menu items are changed (#21028)
vim-patch:9.0.0861: solution for "!!sort" in closed fold is not optimal (#21027)
vim-patch:9.0.0715: wrong argument for append() gives two error messages (#21023)
vim-patch:8.2.1919: assert_fails() setting emsg_silent changes normal execution (#20998)
fix(messages): don't set cmdline_row when messages have scrolled (#21015)
vim-patch:9.0.0858: "!!sort" in a closed fold sorts too many lines (#21022)
refactor: move tabline code to statusline.c (#21008)
vim-patch:76db9e076318 (#21013)
docs(treesitter): fix predicate syntax (#21016)
revert: "oldtests: win: fix buffer pathsep" (#21017)
fix(man.lua): use `env` command (#21007)
fix(clipboard): update version regex pattern (#21012)
docs: swap CursorLineFold and CursorLineSign (#20875)
fix(messages): reset msg_grid_scroll_discount when redrawing (#21000)
Merge pull request #20821 from dundargoc/refactor/clang-tidy
refactor: remove stray emsg check after #20992 (#20996)
fix(vim.ui.input): return empty string when inputs nothing (#20883)
vim-patch:9.0.0844: handling 'statusline' errors is spread out (#20992)
vim-patch:9.0.0843: VHS tape files are not recognized (#20995)
Merge pull request #20991 from famiu/feat/api/nvim_cmd/command-name
feat(api): add command name to Lua command callback opts
test(old): make Test_help_tagjump() test order match upstream
Merge pull request #20990 from zeertzjq/vim-8.2.2060
refactor(highlight): rename FloatBorderTitle #20988
vim-patch:8.2.3626: "au! event" cannot be followed by another command
vim-patch:8.2.2060: check for features implemented with "if"
docs(news): add linematch (#20927)
refactor: more clint (#20910)
Merge pull request #20987 from zeertzjq/vim-8.2.3751
docs(options): remove mentions of 'imactivatefunc' and 'imstatusfunc'
vim-patch:8.2.3792: setting *func options insufficiently tested
vim-patch:8.2.3788: lambda for option that is a function may be freed
vim-patch:8.2.3758: options that take a function insufficiently tested
vim-patch:8.2.3756: might crash when callback is not valid
vim-patch:8.2.3751: cannot assign a lambda to an option that takes a function
vim-patch:8.2.3735: cannot use a lambda for 'imactivatefunc'
fix(clipboard): prefer xsel #20918
feat: ":write ++p" creates parent dirs #20835
fix(tutor): failing to get buf name #20933
refactor: click definition functions #20923
ci: add stale bot #20884
vim-patch:9.0.0756 #20680
ci: install only necessary dependencies #20970
fix(ui-ext): correct message kind in history before vim.ui_attach()
fix(stdpath): default to /tmp if stdpath('run') cannot be created #20952
Merge pull request #20944 from zeertzjq/vim-8.2.3705
ci: request reviewers when PR is reopened #20972
vim-patch:9.0.0389: crash when 'tagfunc' closes the window
vim-patch:9.0.0246: using freed memory when 'tagfunc' deletes the buffer
vim-patch:8.2.3725: cannot use a lambda for 'completefunc' and 'omnifunc'
vim-patch:8.2.3712: cannot use Vim9 lambda for 'tagfunc'
vim-patch:8.2.3705: cannot pass a lambda name to function() or funcref()
vim-patch:8.2.3665: cannot use a lambda for 'tagfunc'
Merge pull request #20982 from zeertzjq/vim-8.2.2849
vim-patch:8.2.2873: not enough tests for writing buffers
vim-patch:8.2.2856: get readonly error for device that can't be written to
vim-patch:8.2.2849: bufwrite not sufficiently tested
vim-patch:9.0.0841: deletebufline() does not always return 1 on failure (#20980)
Merge pull request #20968 from zeertzjq/vim-8.2.2570
fix: add lfs to luarc.json (#20979)
vim-patch:8.2.4495: help test fails in 24 line terminal
vim-patch:8.2.2627: no need to check for BSD after checking for not root
vim-patch:8.2.2623: some tests fail when run as root
vim-patch:8.2.2570: tests fail when run as root
vim-patch:8.2.2592: code coverage could be improved (#20969)
vim-patch:8.2.1340: some tests fail on Cirrus CI and/or with FreeBSD (#20967)
vim-patch:8.1.1200: old style comments in debugger source
test(old): remove stray test42 files (#20966)
feat(ui): add support to display a title in the border of a float (#20184)
refactor: fix clang-tidy warnings
vim-patch:9.0.0265: no good reason why the "gf" command isn't in the tiny version (#20964)
Merge pull request #20962 from zeertzjq/vim-8.2.1736
vim-patch:8.2.3744: E854 is not tested; some spelling suggestions are not tested
vim-patch:8.2.3719: MS-Windows: test sometimes runs into existing swap file
vim-patch:8.2.1736: failure to compile a pattern not tested much
Merge pull request #20961 from zeertzjq/vim-8.2.3055
vim-patch:9.0.0355: check for uppercase char in autoload name is wrong
vim-patch:8.2.3055: strange error for assigning to "x.key" on non-dictionary
refactor(eval): make get_lval() explicitly check for v:lua
fix(paste): feed keys as typed in cmdline mode (#20959)
Merge pull request #20955 from zeertzjq/vim-8.2.2918
vim-patch:9.0.0836: wrong error when using extend() with funcref
vim-patch:8.2.2921: E704 for script local variable is not backwards compatible
vim-patch:8.2.2920: still a way to shadow a builtin function
vim-patch:8.2.2918: builtin function can be shadowed by global variable
fix(eval): change some tv_dict_add() usages back to hash_add()
Merge pull request #20954 from zeertzjq/vim-8.2.2918
vim-patch:8.2.3016: confusing error when expression is followed by comma
vim-patch:8.2.2723: assignment test fails
vim-patch:8.2.2722: Vim9: crash when using LHS with double index
vim-patch:8.2.1306: checking for first character of dict key is inconsistent
vim-patch:8.2.1274: Vim9: no error for missing white space at script level
docs(news): add news blurb for tmux clipboard change (#20950)
ci: replace deprecated feature set-output (#20834)
ci: remove ci/build.ps1 (#20891)
vim-patch:9.0.0835: the window title is not redrawn when 'endoffile' changes (#20951)
ci: fix incorrect asan_symbolize name (#20900)
Merge pull request #20858 from dundargoc/build/lintsh
revert: "ci(commitlint): use pull_request_target to avoid "skip ci"" (#20845)
Merge pull request #20732 from dundargoc/build/default-cmake-args
vim-patch:8.2.3713: MS-Windows: no error if vimgrep pattern is not matching (#20947)
Merge pull request #20946 from zeertzjq/vim-8.2.1106
vim-patch:8.2.1417: test 49 is old style
vim-patch:8.2.1383: test 49 is old style
vim-patch:8.2.1366: test 49 is old style
vim-patch:8.2.1106: crash when trying to use s: variable in typed command
vim-patch:8.2.0883: memory leak in test 49
Merge pull request #17950 from zeertzjq/vim-8.2.4029
vim-patch:8.2.4882: cannot make 'breakindent' use a specific column
vim-patch:8.2.4501: with 'showbreak' set cursor displayed in wrong position
vim-patch:8.2.4100: early return when getting the 'formatlistpat' value
vim-patch:8.2.4093: cached breakindent values not initialized properly
vim-patch:8.2.4029: debugging NFA regexp my crash, cached indent may be wrong
build: always ignore user's cmake preset (#20935)
Merge pull request #20774 from zeertzjq/vim-8.2.4679
fix(eval): make error number of charidx() same as Vim
vim-patch:8.2.4679: cannot have expandcmd() give an error message for mistakes
vim-patch:8.2.2606: strchars() defaults to counting composing characters
vim-patch:8.2.1626: test for strchars() fails with different error number
vim-patch:8.2.1624: Vim9: cannot pass "true" to split(), str2nr() and strchars()
vim-patch:8.2.1600: Vim9: cannot use "true" with deepcopy()
vim-patch:8.2.1751: using 2 where bool is expected may throw an error
vim-patch:8.1.1949: cannot scroll a popup window to the very bottom
Merge pull request #20943 from zeertzjq/vim-8.2.4688
vim-patch:9.0.0053: E1281 not tested with the old regexp engine
vim-patch:8.2.4978: no error if engine selection atom is not at the start
vim-patch:8.2.4693: new regexp does not accept pattern "\%>0v"
vim-patch:8.2.4688: new regexp engine does not give an error for "\%v"
Merge pull request #20942 from zeertzjq/vim-8.2.5027
vim-patch:8.2.5027: error for missing :endif when an exception was thrown
vim-patch:8.2.3919: Vim9: wrong argument for append() results in two errors
vim-patch:8.2.3252: duplicated code for adding buffer lines
Merge pull request #20941 from zeertzjq/vim-8.2.1183
vim-patch:8.2.1632: not checking the context of test_fails()
vim-patch:8.2.1631: test_fails() does not check the context of the line number
vim-patch:8.2.1484: flaky failure in assert_fails()
vim-patch:8.2.1479: Vim9: error for list index uses wrong line number
vim-patch:8.2.1199: not all assert functions are fully tested
vim-patch:8.2.1184: some tests fail
vim-patch:partial:8.2.1183: assert_fails() checks the last error message
vim-patch:8.2.0615: regexp benchmark stest is old style (#20940)
version.c: update [skip ci] (#20825)
Merge pull request #20939 from zeertzjq/vim-8.2.0502
vim-patch:8.2.0612: Vim9: no check for space before #comment
vim-patch:8.2.0502: Vim9: some code is not tested
feat(clipboard): copy to system clipboard in tmux when supported (#20936)
Merge pull request #20938 from zeertzjq/vim-8.2.0644
vim-patch:8.2.0958: not sufficient testing for buffer writing
vim-patch:8.2.0866: not enough tests for buffer writing
vim-patch:8.2.0644: insufficient testing for invalid function arguments
vim-patch:8.2.0433: INT signal not properly tested
fix(fileio): use first available directory in backupdir for backupcopy (#20655)
fix(vim.diff): fix fastforward off-by-1 (#20937)
Merge pull request #20934 from zeertzjq/vim-8.2.0968
vim-patch:8.2.2901: some operators not fully tested
vim-patch:8.2.1810: some code in normal.c not covered by tests
vim-patch:8.2.1022: various parts of code not covered by tests
vim-patch:8.2.0976: some 'cpoptions' not tested
vim-patch:8.2.0968: no proper testing of the 'cpoptions' flags
ci: skip tests if build fails (#20908)
vim-patch:8.2.0540: regexp and other code not tested (#20930)
fix(vim.diff): correctly apply hunk offsets with linematch (#20931)
fix(diff): remove size_t underflow (#20929)
vim-patch:8.2.0448: various functions not properly tested (#20926)
Enable new diff option linematch (#14537)
fix(man.lua): set modifiable before writing page (#20914)
Merge pull request #20782 from dundargoc/docs/typos
docs: fix typos
Merge pull request #20904 from zeertzjq/vim-9.0.0822
vim-patch:9.0.0825: cannot drag an entry in the tabpage line
vim-patch:9.0.0824: crash when using win_move_separator() in other tab page
vim-patch:9.0.0823: mouse drag test fails
vim-patch:9.0.0822: crash when dragging the statusline with a mapping
vim-patch:9.0.0826: if 'endofline' is set CTRL-Z may be written in a wrong place (#20903)
build(lint): add more shell scripts to lintsh
build: add EXCLUDE option to add_glob_target
build(lint): remove clint.py rules for braces #20880
build(deps): bump lua parser to v0.0.14 (#20897)
vim-patch:8.2.2343: Vim9: return type of readfile() is any (#20896)
refactor: move do_mouse() and its helpers to mouse.c (#20895)
vim-patch:9.0.0821: crash with win_move_statusline() in another tabpage (#20894)
fix(mark): do not restore view in op-pending mode (#20889)
Merge pull request #20489 from jpalus/memory-alignment
refactor(memory): simplify new alignment logic
fix(memory): fix memory alignment for dynamic allocation
Merge #20873 from justinmk/checkhealth
feat(checkhealth): check runtime ($VIMRUNTIME)
refactor(checkhealth): convert "nvim" check to Lua
feat(checkhealth): improve treesitter report
ci(stylua): explicitly set the version to latest (#20869)
fix(lsp/window_showDocument): correctly handle external resources #20867
ci(windows): build dependencies with Ninja (#20800)
Merge pull request #20855 from zeertzjq/vim-fb0cf2357e0c
vim-patch:9.0.0819: still a build error, tests are failing
vim-patch:9.0.0816: CTRL-Z at end of file is always dropped
build(vim-patch.sh): checkout files with path for uncrustify (#20863)
fix(health): correct tmux rgb verification (#20868)
fix(mouse): ensure no scrolling with "ver:0" in 'mousescroll' (#20861)
fix(path): don't remove trailing slash when getting absolute path (#20853)
fix: avoid unsigned overflow in home_replace() (#20854)
ci: use GHA default clang for asan, tsan jobs #20846
build: remove python linting #20851
vim-patch:partial:6ebe4f970b8b (#20860)
fix(docs): nil as viable argument for goto_prev (#20852)
Merge pull request #20848 from zeertzjq/vim-8.2.1639
vim-patch:8.2.1716: options window has duplicate translations
vim-patch:8.2.1663: options window entries cannot be translated
vim-patch:8.2.1652: cannot translate lines in the options window
vim-patch:8.2.1642: otions test fails
vim-patch:8.2.1639: options window cannot be translated
build: make update-po support optwin.vim (#20840)
fix(diff.c): regression in diffgetput (#20843)
Merge pull request #20842 from zeertzjq/vim-8.2.1395
vim-patch:8.2.3407: using uninitialized memory with "let g:['bar'] = 2"
vim-patch:8.2.1395: Vim9: no error if declaring a funcref with lower case letter
Merge pull request #20832 from zeertzjq/vim-8.2.1544
vim-patch:8.2.1585: messages in globals.h not translated
vim-patch:8.2.1544: cannot translate messages in a Vim script
docs(api): pattern is not expanded for autocommands (#20812)
docs: .git-blame-ignore-revs (#20820)
Merge pull request #20796 from lewis6991/refactor/diff.c_memmove
build: fix plural messages missing from .po files (#20830)
Merge pull request #20828 from zeertzjq/vim-patch-null
build(deps): bump vimdoc parser to v1.2.5 (#20829)
build(vim-patch.sh): handle added/removed files properly
Merge pull request #20827 from zeertzjq/vim-8.2.4234
vim-patch:8.2.4234: test_garbagecollect_now() does not check v:testing
vim-patch:8.2.2653: build failure
Merge pull request #20826 from zeertzjq/vim-8.2.4206
vim-patch:8.2.4207: recursion test fails with MSVC
vim-patch:8.2.4206: condition with many "(" causes a crash
vim-patch:8.2.4070: using uninitialized memory when reading empty file
build: copy each treesitter parser library individually #20797
refactor(clint): convert short to int16_t (#20815)
Merge pull request #20824 from zeertzjq/vim-8.2.3408
vim-patch:8.2.3408: can delete a numbered function
vim-patch:partial:8.2.2881: various pieces of code not covered by tests
Merge pull request #20823 from zeertzjq/vim-8.2.2100
vim-patch:8.2.2727: function test fails
vim-patch:8.2.2726: confusing error message with white space before comma
vim-patch:8.2.2100: insufficient testing for function range and dict
test(old): test_lambda.vim garbagecollect() -> test_garbagecollect_now()
Merge pull request #20822 from zeertzjq/vim-8.2.2837
vim-patch:8.2.3839: using \z() with \z1 not tested for syntax highlighting
vim-patch:8.2.2837: various code lines not covered by tests
docs(usr_05): update sentence about Nvim default behavior of Q (#20817)
Merge pull request #20818 from zeertzjq/vim-8.2.0531
vim-patch:8.2.1113: no test for verbose output of :call
vim-patch:8.2.0606: several syntax HL errors not checked
vim-patch:8.2.0534: client-server test fails under valgrind
vim-patch:8.2.0531: various errors not tested
Merge pull request #20816 from zeertzjq/vim-8.1.1826
vim-patch:9.0.0019: timers test not run where possible
vim-patch:8.1.1826: tests use hand coded feature and option checks
Merge pull request #20814 from zeertzjq/vim-8.2.0610
vim-patch:8.2.1852: map() returing zero for NULL list is unexpected
vim-patch:8.2.0619: null dict is not handled like an empty dict
vim-patch:8.2.0610: some tests are still old style
Merge pull request #20813 from zeertzjq/vim-8.2.0163
vim-patch:8.2.0163: test hangs on MS-Windows console
vim-patch:8.2.0162: balloon test fails in the GUI
fix(spell): fix wrong cast (#20810)
Merge pull request #20806 from zeertzjq/vim-8.2.0401
vim-patch:8.2.0418: code in eval.c not sufficiently covered by tests
vim-patch:8.2.0401: not enough test coverage for evalvars.c
vim-patch:7.4.1097
vim-patch:7.4.1081
Merge pull request #20803 from zeertzjq/vim-8.2.0179
vim-patch:8.2.0211: test for ANSI colors fails without an "ls" command
vim-patch:8.2.0179: still a few places where range() does not work
refactor(diff.c): copy lines via memmove
refactor(diff.c): factor out diffblock deletion
Merge pull request #20775 from shadmansaleh/fix/opt_tal_not_redrawing_tabline
fix: setting tabline option not redrawing tabline
Merge pull request #20785 from lewis6991/refactor/diff.c_2
refactor(diff.c): internal does not need diffstyle
refactor(diff.c): simplify diff_buf_idx()
refactor(diff.c): factor out hunk processing
build: preprocess vim patches with uncrustify #20786
refactor(diff.c): factor out hunk extraction
refactor(diff.c): allocate hunks directly in ga_array
refactor(diff.c): remove char_u declarations
fix(lua): pesc, tbl_islist result types #20751
ci(lintcommit): enforce common scope names #20393
Merge pull request #20791 from zeertzjq/vim-8.2.0908
test: add a test for a crash fixed by patch 8.2.0908
vim-patch:8.2.0908: crash when changing the function table while listing it
build(deps): bump vimdoc parser and queries to v1.2.4 (#20788)
refactor(diff.c): break up ex_diffgetput()
docs: ":che" is ":checkhealth" #20147
feat(vim-patch): mention original author #20772
docs(maintain): CI strategy #20778
docs: fix typos (#20724)
refactor(diff.c): reduce scope of variables (#20781)
fix(ui): send grid_resize events before triggering VimResized (#20760)
Merge pull request #20770 from dundargoc/refactor/lint
refactor: fix uncrustify lint errors
vim-patch:9.0.0814: aws config files are not recognized (#20769)
Merge pull request #20664 from dundargoc/refactor/uncrustify
docs(dev-style): remove rules covered by uncrustify
refactor(uncrustify): improved formatting rules
refactor(uncrustify): move macros definitions to enable formatting
refactor: clang-tidy fixes to silence clangd warning (#20683)
fix(filetype): don't pass empty string to detect (#20766)
vim-patch: bump VIM_VERSION from 8.0 => 8.1 #20762
build: give example on complex regexes
build(cmake): add modelines to enable syntax highlighting
build: rely on default cmake installation if possible
vim-patch:9.0.0806: 'langmap' works differently when there are modifiers (#20754)
vim-patch:9.0.0808: jsonnet filetype detection has a typo (#20753)
Merge pull request #20748 from zeertzjq/vim-9.0.0804
vim-patch:9.0.0804: crash when trying to divide a number by -1
vim-patch:partial:8.2.0418: code in eval.c not sufficiently covered by tests
docs: update vimdoc parser #20747
fix(build): duplicate version string "v0.8.0-v0.8.0" #20578
fix(docs-html): misaligned tabs after conceal #20690
docs(news): mention 'splitkeep' #20744
vim-patch:9.0.0798: clang format configuration files are not recognized (#20741)
vim-patch:9.0.0739: mouse column not correctly used for popup_setpos (#20729)
revert: "oldtests: wait 200ms on mac for timer test" (#20728)
Merge pull request #20727 from zeertzjq/vim-9.0.0789
vim-patch:9.0.0790: test for dummy buffer does not always produce the E86 error
vim-patch:9.0.0789: dummy buffer ends up in a window
vim-patch:9.0.0788: ModeChanged autocmd not executed when Visual ends with CTRL-C (#20722)
refactor(window.c): reduce scope of locals (#20301)
vim-patch:9.0.0779: lsl and lm3 file extensions are not recognized (#20704)
fix(highlight): link more treesitter groups by default (#20711)
feat(docs): update parser, HTML gen #20720
vim-patch:9.0.0786: user command does not get number from :tab modifier (#20716)
fix(intro): omit patch version in ":help news" item #20713
ci: add reviewers based on labels (#20703)
fix(qflist): avoid read of uninitialized memory (#20709)
ci: bump ubuntu and macos to latest stable versions (#20479)
vim-patch:9.0.0782: OpenVPN files are not recognized (#20702)
ci: add cirrus to isCI function to skip tests (#20526)
fix(runtime): use `g:terminal_color_{0-15}` in colorschemes (#20637)
Merge pull request #20685 from luukvbaal/scroll
test: add a test for #20684
fix: 'scroll' is not set correctly for floats with 'splitkeep'
feat(api): nvim_select_popupmenu_item support cmdline pum (#20652)
fix(man): handle absolute paths as `:Man` targets (#20624)
Merge pull request #20665 from lewis6991/fix/decor_redraw
feat(runtime)!: remove filetype.vim (#20428)
vim-patch:3c053a1a5ad2 (#20679)
vim-patch:9.0.0771: cannot always tell the difference beween tex and … (#20687)
docs: "supported platforms" matrix #19615
fix(lsp): reporting bogus capabilities in CodeActionKind #20678
feat: mention ":help news" in intro #20674
Merge pull request #20677 from zeertzjq/vim-9.0.0761
vim-patch:9.0.0764: indent and option tests fail
vim-patch:9.0.0761: cannot use 'indentexpr' for Lisp indenting
vim-patch:9.0.0765: with a Visual block a put command column may go negative (#20676)
fix(decoration): call providers in win_update() earlier
refactor(drawscreen.c): reduce scopes of locals (#20668)
Merge pull request #20140 from dundargoc/refactor/char_u/12
Merge pull request #20670 from zeertzjq/vim-9.0.0737
refactor(shada.c): clint (#20599)
vim-patch:9.0.0754: 'indentexpr' overrules lisp indenting in one situation
vim-patch:partial:9.0.0737: Lisp word only recognized when a space follows
refactor: replace char_u with char
Merge pull request #20663 from zeertzjq/vim-9.0.0753
Merge #20634 fix(windows): set console icon later in startup
docs(dev-style): remove rule about variable declarations (#20446)
vim-patch:partial:9.0.0753: some Ex commands are not in the help index
vim-patch:partial:9da17d7c5707
vim-patch:partial:3e79c97c18c5
Merge pull request #20662 from zeertzjq/vim-9.0.0614
vim-patch:9.0.0616: spell test fails because error message changed
vim-patch:9.0.0614: SpellFileMissing autocmd may delete buffer
vim-patch:8.1.0342: crash when a callback deletes a window that is being used
vim-patch:9.0.0752: Rprofile files are not recognized (#20658)
vim-patch:9.0.0750: crash when popup closed in callback (#20659)
Merge pull request #20645 from lewis6991/fix/decor_redraw_same_id
refactor(windows): move os_icon_xx functions
fix(windows): set console icon later in startup
fix(completion): set pum_size even if ext_popupmenu is used (#20648)
docs: fix/remove invalid URLs #20647
build: fix incorrect clang-tidy identifier rules (#20650)
fix(decoration): redraw correctly when re-using ids
fix(lua): on_yank error with blockwise multibyte region #20162
Merge pull request #20545 from lewis6991/remove_cscope
build(deps): bump vimdoc (help) parser to v1.2.1 #20642
vim-patch:9.0.0747: too many #ifdefs (#20641)
refactor(tag): remove return type from do_tag()
feat(cscope)!: remove
docs: fix typos (#20509)
feat(windows): show icon in terminal titlebar, taskbar #20607
vim-patch:9.0.0738: cannot suppress completion "scanning" messages (#20633)
vim-patch:8.2.4735: quickfix tests can be a bit hard to read (#20631)
Merge pull request #20630 from zeertzjq/vim-9.0.0260
vim-patch:9.0.0286: using freed memory when location list changed in autocmd
vim-patch:9.0.0260: using freed memory when using 'quickfixtextfunc' recursively
Merge pull request #20629 from zeertzjq/vim-8.2.4453
vim-patch:8.2.4462: not enough testing for quickfix code
vim-patch:8.2.4453: :helpgrep may free an option that was not allocated
vim-patch:9.0.0727: help in the repository differs from patched version too much (#20627)
refactor: clint (#20600)
fix(clint): disable whitespace/newline #20619
vim-patch:9.0.0731: clang-tidy configuration files are not recognized (#20620)
refactor(search.c): clint (#20598)
build: add clang-tidy configuration file (#15601)
Merge pull request #20606 from zeertzjq/vim-8.2.4523
test: add a test for #20605
vim-patch:8.2.4523: when gvim is started maximized the 'window' option isn't set
fix(runtime): properly rely on t_Co for colorschemes (#20602)
Merge pull request #20593 from lewis6991/fix/man_macos13
refactor/mark.c (#20596)
fix(man): support MacOS 13
refactor(man): pass env directly to spawn() (#20591)
Merge pull request #20570 from lewis6991/refactor/lua2dox
Merge pull request #20584 from Fuzzier/type-cast-conin
refactor: explicitly convert HANDLE to intptr_t for _open_osfhandle()
build(deps): disable shared library for libvterm. (#20566)
Merge pull request #20574 from zeertzjq/vim-8.2.2184
vim-patch:partial:9.0.0715: wrong argument for append() gives two error messages
fix: change did_emsg back to int
vim-patch:9.0.0712: wrong column when calling setcursorcharpos() with zero lnum
vim-patch:8.2.2671: error for line number in legacy script
vim-patch:8.2.2184: Vim9: no error when using "2" for a line number
vim-patch:9.0.0711: SubStation Alpha files are not recognized (#20577)
build(deps): add build type for libuv (#20575)
Merge pull request #20576 from lewis6991/manhealth
feat(man): add health check
vim-patch:9.0.0713: <amatch> of MenuPopup event is expanded like a file name (#20572)
refactor(lua2dox_filter): format
refactor(lua2dox): tidy
refactor(lua2dox): format with stylua
vim-patch:9.0.0700: there is no real need for a "big" build (#20563)
fix(lua): assert failure with vim.regex() error inside :silent! (#20555)
Merge #20558 feat(docs-html): fixes; ToC tags
vim-patch:9.0.0706: :help in a narrow window always opens at the top (#20559)
feat(docs-html): try to use tags for ToC headings
fix(docs-html): update parser
build(deps): bump vimdoc parser to v1.2.0 #20557
docs: various #12823
Merge pull request #20554 from zeertzjq/vim-9.0.0697
vim-patch:9.0.0702: incomplete testing cursor position with 'linebreak' set
vim-patch:9.0.0697: cursor in wrong position with Visual substitute
Merge pull request #20552 from dundargoc/build/cmake/compilation-database
fix(lua): properly configure luacheck and remove `local vim = ...` lines (#20551)
build: generate compilation database for older cmake versions
Merge pull request #20544 from lewis6991/exitfreedebug
docs(news): add news.txt and link from README (#20426)
vim-patch:9.0.0692: PoE filter files are not recognized (#20542)
build: remove EXITFREE for debug builds
Merge pull request #20528 from mliszcz/build-appimage-in-container
Merge pull request #20543 from dundargoc/ci/backport
ci(backport): bump version to v0
fix(tui): resume main thread if suspending isn't implemented (#20523)
fix(api): dynamically allocate line buffer for nvim_out_write (#20537)
feat(lsp): support window/showDocument (#19977)
ci: use ubuntu docker container to build appimage
fix: find multibyte file name in line (#20519)
fix(ui): setting 'cmdheight' with global statusline (#20515)
vim-patch:9.0.0678: using exclamation marks on :function (#20518)
vim-patch:9.0.0666: spacing-combining characters handled as composing (#20501)
ci: update which paths to ignore (#20510)
Merge pull request #20378 from folke/shared_annotations
feat: added support for specifying types for lua2dox
feat: added support for optional params to lua2dox
feat: added support for @generic to lua2dox.lua
docs: added proper annotations to functions in shared.lua
fix(docs-html): keycodes, taglinks, column_heading #20498
build(deps): restore support for USE_EXISTING_SRC_DIR (#20491)
vim-patch:9.0.0670: no space for command line when there is a tabline (#20512)
docs: fix incorrect :help tag (#20511)
docs(lsp): add formatting APIs to deprecated.txt (#20487)
vim-patch:9.0.0657: too many #ifdefs (#20506)
feat(window/ui): add splitkeep option (#19243)
vim-patch:9.0.0422: not enough testing of the :all command (#20503)
vim-patch:9.0.0665: setting 'cmdheight' has no effect if last window was resized (#20500)
Merge pull request #20374 from bfredl/notype
Merge pull request #20496 from ehllie/runtime_annotations
fix(options): no matter what is said, 'cmdheight' is tab-local (susy baka)
feat(messages)!: graduate the 'msgsep' feature
refactor(redraw): various simplifications
refactor(redraw): no type argument in update_screen()
Merge pull request #20497 from zeertzjq/vim-8.2.2413
vim-patch:9.0.0388: the do_arg_all() function is too long
vim-patch:8.2.3886: can define autocmd for every event by using "au!"
vim-patch:8.2.3885: arglist test fails
vim-patch:8.2.3884: crash when clearing the argument list while using it
vim-patch:8.2.2463: using :arglocal in an autocommand may use freed memory
vim-patch:8.2.2421: double free when using autocommand with "argdel"
vim-patch:8.2.2413: crash when using :all while using a cmdline window
docs(docstrings): fix runtime type annotations
Merge pull request #20494 from bfredl/shadatest
feat(docs): format parameters as a list #20485
test(shada): fix shada syntax definitions test
Merge pull request #20493 from bfredl/windowtest
test(api): migrate screenchar() test in in window API to screen test
vim-patch:partial:f269eabc6c4f (#20470)
Merge pull request #20490 from zeertzjq/vim-9.0.0656
vim-patch:9.0.0661: multi-byte "lastline" in 'fillchars' does not work properly
vim-patch:9.0.0656: cannot specify another character to use instead of '@'
fix(docs): missing "(" in :help HTML
feat(lsp): add bufnr option to lsp.start (#20473)
fix(build): "make clean" fails
Merge #20412 feat(docs): HTML generator
feat(gen_help_html.lua): remove old AWK scripts
feat(docs): nested lists in HTML, update :help parser
fix(ui): msg_ext_set_kind for nvim_echo (#20476)
build(deps): bump LuaJIT to HEAD - 6c4826f12 (#20478)
Merge pull request #20467 from zeertzjq/vim-8.2.2316
test: add test for :function followed by <lambda>
vim-patch:8.2.2316: Vim9: cannot list a lambda function
docs(shell): mention "&" for piping with powershell #20459
Merge #20154 build: cmake cleanup
docs: refer to vim.lsp.start() in LSP issue template #20422
feat(l10n): update Turkish translations (#20444)
build: only generate compilation database for the nvim target (#20449)
build: define EP_PREFIX property
build: rely on builtin cmake downloading rather than custom script
build: remove unnecessary translation-related code
build: remove url for 32-bit winyank
build: remove code for cross-compilation
build: remove unused variable CMAKE_C_COMPILER_ARG1
build(deps): bump Luv to HEAD - 80c8c00ba (#20433)
build(deps): bump libuv to HEAD - f610339f7 (#20445)
fix(folds): fix fold marker multibyte comparison (#20439)
Merge pull request #20429 from zeertzjq/vim-9.0.0620
vim-patch:9.0.0622: matchaddpos() can get slow when adding many matches
vim-patch:9.0.0620: matchaddpos() can only add up to 8 matches
Merge #19438 from 3N4N/fix/pwsh
ci(publish-winget): use versioned tags for action #20417
refactor(diagnostic): remove deprecated function (#20423)
vim-patch:8.2.2542: highlight of char beyond line end is not correct (#20424)
refactor(lsp): remove deprecated lsp functions (#20421)
Merge pull request #20414 from dundargoc/ci/release/matrix
build(nix): change the pkgs to final, add new version of libvterm (#20410)
version bump
NVIM v0.8.0
fix: :! pwsh redirection for `command not found`
fix: make_filter_cmd for :! powershell
fix(dist): update neovim-qt, win32tools.zip #20413
ci(release): remove unnecessary matrix strategy
dist(win): update neovim-qt, win32tools.zip #20411
Merge pull request #20409 from bfredl/unicode-tables
feat: update unicode tables
Merge pull request #20343 from zeertzjq/virt-lines-vcol
Merge pull request #20364 from zeertzjq/parse-cmd-omit
docs: fix typos (#20394)
Merge pull request #20387 from famiu/feat/nvim_cmd/buffer-args
fix(api)!: nvim_parse_cmd omit "count" "range" "reg" if not supported
fix(filetype): add missing return to changelog detection function (#20403)
fix(query): fix unnatural order for inherits in treesitter queries (#20298)
feat(nvim_cmd): allow using first argument as count
ci: convert CRLF to LF (#20389)
Merge #20402 feat(docs): improve :help HTML generator
feat(docs): fixes for :help HTML generator
feat(treesitter): update :help parser
Merge pull request #20381 from cryptomilk/asn-vterm
Merge pull request #20382 from cryptomilk/asn-termkey
fix(api): fix nvim_cmd crash with filename expansion (#20397)
fix(column): move sign sentinel after inserting/deleting lines (#20400)
test: add a Lua test for #17501 (#20392)
Merge pull request #20390 from bfredl/doc2
Merge #20352 feat(gen_help_html.lua): adapt to new parser
feat(gen_help_html.lua): adapt to new parser
feat(gen_help_html.lua): put commit-id in footer
feat(treesitter): update :help parser and queries
build(deps): bump treesitter-vimdoc to v1.0.0
build(deps): bump help parser and queries (#20388)
docs: mark cmdheight=0 and vim.attach_ui as experimental
fix(spell): correct spell move behavior without "noplainbuffer" (#20386)
Merge pull request #20375 from famiu/refactor/get_option
vim-patch:9fbdbb814f4a (#20376)
fix(lua): fix architecture-dependent behavior in usercmd "reg" (#20384)
build(macos): restore and test universal build (#20383)
fix: compiler warnings from clang 15 (#20321)
build(deps): require libvterm version 0.3
build(deps): require libtermkey version 0.22
refactor: replace unnecessary helper functions in optionstr.c
fix(window): fix equalization with cmdheight=0 (#20369)
Merge pull request #15373 from smolck/lua-notify-dictwatcher
vim-patch:9.0.0604: luacheckrc file is not recognized (#20371)
ci(backport): bump to backport-action@v0.0.8 #20366
fix(api): notify dict watchers on nvim_set_var and vim.g setter
Merge pull request #20368 from clason/vim-9.0.0599
vim-patch:9.0.0602: new TypeScript extensions are not recognized
vim-patch:9.0.0600: GYP files are not recognized
vim-patch:9.0.0599: latexmkrc files are not recognized
vim-patch:9.0.0595: extra newline in messages after a verbose shell message (#20359)
fix(ui): redraw end of buffer if last line is modified (#20354)
fix(docs): invalid :help links #20353
fix(ui): allow redrawing statusline when msgsep is used (#20337)
Merge pull request #20351 from bfredl/cmdfix2
fix(cmdline): don't send invalid cursor with incsearch and cmdheight=0
docs: fix typos (#20150)
Merge pull request #20350 from bfredl/cmdfix
fix(messages): validate msg_grid before silent! message with cmdheight=0
Merge pull request #20277 from reiver-dev/term-more-underline
feat(terminal): recognize underdouble and undercurl
fix(docs): invalid :help links #20345
vim-patch:9.0.0586: missing change in test (#20347)
fix!: make :undo! notify buffer update callbacks (#20344)
fix(inccommand): deal with unsynced undo (#20041)
fix(filetype): use :setf instead of nvim_buf_set_option (#20334)
fix(extmarks): make virt_lines always start at 0 virtcol
refactor: move klib out of src/nvim/ #20341
Merge #20331 refactor(treesitter)!: rename x_position => x_pos
fix(gen_vimdoc.py): handle missing luajit
vim-patch:9.0.0583: only recognizing .m3u8 files is inconsistent (#20342)
refactor(treesitter): rename x_position => x_pos
feat: ":write!" skips "file changed" warning #18665
vim-patch:8.2.4467: running filetype test leaves file behind (#20335)
vim-patch:9.0.0576: unused loop variables (#20326)
fix(input): use click number of last click for mouse drag (#20300)
Merge pull request #20322 from zeertzjq/vim-9.0.0567
vim-patch:9.0.0572: insert complete tests leave a mapping behind
vim-patch:9.0.0567: 'completeopt' "longest" is not used for complete()
fix(mapset): remove existing abbreviation of same lhs (#20320)
vim-patch:9.0.0568: autocmd code is indented more than needed (#20318)
vim-patch:9.0.0566: Nim files are not recognized (#20317)
fix(lsp): create missing directory before creating file (#19835)
vim-patch:9.0.0562: HSL playlist files are not recognized (#20307)
fix(lsp): use correct function name in deprecated message (#20308)
vim-patch:9.0.0559: timer test may get stuck at hit-enter prompt (#20312)
fix: cleanup contrib/ #20304
ci: remove contrib/doxygen/ #20303
revert: "build: remove unnecessary policy related code" #20289
ci(cirrus): set clone depth to 2 instead of 1 (#20295)
test(tabpage_spec): actually test for nvim_win_hide
Merge pull request #20299 from zeertzjq/vim-9.0.0550
test: add tests for #13549 #20285 #20290
vim-patch:9.0.0550: crash when closing a tabpage and buffer is NULL
ci(stylua): change action version to v1 (#20273)
Merge #11967 generate :help HTML with treesitter
feat(docs): gen_help_html.lua
docs: deprecate :checkhealth vimscript interface
feat(treesitter): bundle :help parser and queries
Merge pull request #20287 from zeertzjq/vim-9.0.0540
docs(lua): correct docs for option accessor metatables (#20256)
vim-patch:9.0.0544: minor issues with setting a string option
vim-patch:9.0.0540: assigning stack variable to argument confuses Coverity
Merge pull request #20103 from lewis6991/refactor/vim_opt
fix(window): close floats first when closing buffer in other tab (#20284)
vim-patch:9.0.0539: long message test can be flaky (#20282)
Merge pull request #20249 from bfredl/cmdmessage
fix(tests): indicate in test logs when nvim exit times out
fix(redraw): make redrawdebug=nodelta handle all the cases
fix(redraw): avoid unnecessary redraws and glitches with floats+messages
Merge pull request #20278 from zeertzjq/vim-8.2.3428
vim-patch:8.2.4677: the Athena GUI support is outdated
vim-patch:8.2.4074: going over the end of NameBuff
vim-patch:8.2.3568: ctrl-hat test fails with Athena and Motif
vim-patch:8.2.3567: CTRL-I in Insert mode is not tested
vim-patch:8.2.3428: using freed memory when replacing
Merge pull request #20276 from zeertzjq/vim-8.2.2979
vim-patch:8.2.3155: some option related code not covered by tests
vim-patch:8.2.2994: various code is not fully tested
vim-patch:8.2.2979: not all options code is covered by tests
vim-patch:8.2.0712: various code not fully tested
vim-patch:9.0.0537: the do_set() function is much too long (#20274)
feat(filetype): expand environment variables in filetype patterns (#20145)
vim-patch:9.0.0018: going over the end of the typahead (#20269)
vim-patch:9.0.0517: when at the command line :redrawstatus does not work well (#20266)
refactor: suppress PVS false positives (#20264)
fix(lsp): out of bounds error in lsp.util.apply_text_edits (#20137)
Merge pull request #20263 from notomo/refactor-remove-unused
vim-patch:9.0.0511: unnecessary scrolling for message of only one line (#20261)
Merge pull request #20262 from zeertzjq/vim-9.0.0507
refactor(message): remove unused function
vim-patch:9.0.0512: cannot redraw the status lines when editing a command
vim-patch:9.0.0507: cmdline cleared when using :redrawstatus in CmdlineChanged
vim-patch:9.0.0510: Chatito files are not recognized (#20260)
vim-patch:9.0.0509: confusing error for "saveas" command with "nofile" buffer (#20258)
feat(lua): move compat module from runtime to test (#20257)
docs(lua): opts in `vim.keymap.{set,del}` can be optional (#20255)
fix(lsp): support `false` result in handlers (#20252)
fix(tui): handle padding requirements for visual bell (#20238)
build: add basic cmake-presets integration (#19128)
ci(publish-winget): fix errors that prevents release (#20232)
fix(inccommand): avoid unnecessary redraw when not showing (#20244)
fix: assert failure when changing 'ut' while waiting for CursorHold (#20241)
vim-patch:9712ff1288f9 (#20240)
vim-patch:9.0.0497: LyRiCs files are not recognized (#20239)
Merge pull request #20198 from zeertzjq/cursorhold
vim-patch:8.1.0941: macros for MS-Windows are inconsistent (#20215)
fix(events): make CursorHold behave as documented
test(remote_spec): reduce flakiness in waiting for client exit (#20230)
vim-patch:8.2.0690: line number of option set by modeline is wrong (#20228)
vim-patch:9.0.0483: illegal memory access when replacing in virtualedit mode (#20225)
test(old): add a function roughly equivalent to test_setmouse() (#20224)
ci(release-winget): publish nightly winget prerelease #20209
build(deps): bump libvterm to v0.3 (#20222)
vim-patch:9.0.0479: in :def function all closures in loop get the sam… (#20220)
fix(eval)!: make Lua Funcref work as method and in substitute() (#20217)
feat(tui): support undercurl when Konsole version >= 221170 (#20219)
vim-patch:9.0.0476: varargs does not work for replacement function of substitute() (#20216)
vim-patch:8.2.3796: the funcexe_T struct members are not named consistently (#20214)
fix(lua): free vim.ui_attach callback before lua close (#20205)
Merge pull request #20213 from bfredl/redisplay
vim-patch:8.2.0067: ERROR_UNKNOWN clashes on some systems (#20212)
fix(messages): do not crash on cmdheight=0 and g< redisplay
Merge pull request #20188 from bfredl/zerocmdline
build(deps): bump tree-sitter-lua to v0.0.13 (#20210)
docs(autocmds): re-add buffer param to docstring (#20204)
fix(treesitter): return full metadata for get_captures_at_position (#20203)
fix(diagnostic): populate data key in DiagnosticChanged autocmd in reset (#20207)
feat(ui): use msg_grid based implementation for cmdheight=0
test(old): remove OpenBSD skip (#20201)
fix(help): add `--clean` to `-h` (#20171)
docs(treesitter): clean up and update treesitter.txt (#20142)
Merge pull request #18705 from dundargoc/fix/require-missing-module-in-autocmd
refactor: move definitions from `typval.h` to `typval_defs.h` (#20194)
Merge pull request #20164 from bfredl/luanull
fix(lua): make vim.str_utfindex and vim.str_byteindex handle NUL bytes
feat(fs): extend fs.find to accept predicate (#20193)
feat(diagnostic): pass diagnostics as data to DiagnosticChanged autocmd (#20173)
vim-patch:9.0.0457: substitute prompt does not highlight an empty match (#20186)
vim-patch:9.0.0456: function called at debug prompt is also debugged (#20185)
Merge pull request #20011 from lewis6991/refactor/memline
refactor(memline): resolve clint errors
vim-patch:9.0.0449: there is no easy way to translate a key code into a string (#20168)
test(lsp): call clear() before bufwipe test (#20170)
Merge pull request #20077 from dundargoc/refactor/char_u/11
Merge pull request #20141 from vigoux/ts-self-inherits
docs(treesitter): suggest using `extends` to extend queries
vim-patch:9.0.0299: error messages for setcmdline() could be better (#20169)
vim-patch:9.0.0448: SubRip files are not recognized (#20167)
Merge pull request #20091 from teto/fix-flake
vim-patch:8.2.4671: 'wildignorecase' is sometimes not used for glob() (#20165)
Merge pull request #20163 from zeertzjq/vim-8.2.5034
vim-patch:8.2.5034: there is no way to get the byte index from a virtual column
refactor: move f_screenpos() to move.c
Merge pull request #20160 from zeertzjq/vim-8.2.2646
vim-patch:8.2.2664: Vim9: not enough function arguments checked for string
vim-patch:8.2.2646: Vim9: error for not using string doesn't mention argument
vim-patch:9.0.0443: blueprint files are not recognized (#20155)
refactor: replace char_u with char
fix(treesitter): prevent endless loop on self-inheritence
fix(lsp): schedule removal of client object (#20148)
vim-patch:71b6d3397649 (#20144)
build: ensure version generation always succeeds (#19515)
Merge pull request #20068 from dundargoc/refactor/char_u/10
vim-patch:9.0.0434: gitignore files are not recognized (#20143)
refactor: replace char_u with char
ci: add more reviewers based on label (#17975)
Merge pull request #20132 from JartC0ding/master
docs: removed outdated coverage link
Merge pull request #20057 from dundargoc/refactor/char_u/9
refactor: replace char_u with char
vim-patch:9.0.0427: Drupal theme files are not recognized (#20138)
vim-patch:9.0.0424: gitattributes files are not recognized (#20134)
refactor(vim.opt): de-nest code
refactor(vim.opt): use local function syntax
refactor(vim.opt): optimize append/prepend/remove
refactor(vim.opt): dry up and tidy
refactor(vim.opt): remove value_mutator()
refactor(vim.opt): unify vim.bo/wo building
build(deps): bump Luv to 1.44.2-1 (#20128)
ci: move BSD jobs from sourcehut to Cirrus CI #19616
ci(labeler): add treesitter label for query changes (#20122)
build(deps): bump tree-sitter-viml to 0.2.0 (#20121)
docs(lsp): update rpc.start stdio limitations (#20120)
refactor(vim.opt): remove make_meta_accessor()
fix(lsp): when buffer detach remove buffer from client attached buffers (#20081)
refactor(vim.opt): simplify get_option_metatype
refactor(vim.opt): replace _setup with lazy table
refactor(vim.opt): remove enums
refactor(vim.opt): remove del arg
vim-patch:9.0.0417: Jsonnet files are not recognized (#20119)
Merge pull request #19958 from dundargoc/build/cmake/cleanup
build: remove unnecessary build functions
build: replace deprecated CMAKE_COMPILER_IS_GNUCC variable
build: remove unnecessary policy related code
build: remove ARGS from add_custom_command
feat(lsp): add range option to lsp.buf.format (#19998)
Merge pull request #20093 from neovim/upstream-ts-util
fix(treesitter): use the right loading order for base queries (#20117)
feat(treesitter)!: do not merge queries by default (#20105)
Merge pull request #20115 from glepnir/fix_doc
fix(docs): remove duplicate word
Merge pull request #20114 from zeertzjq/ts-docs
docs(treesitter): fix doxygen
Merge pull request #20112 from zeertzjq/vim-9.0.0410
vim-patch:9.0.0412: compiler warning for unused argument
vim-patch:9.0.0410: struct member cts_lnum is unused
Merge pull request #20110 from ii14/vim-7c7e1e9b98d4
vim-patch:9.0.0409: #{g:x} was seen as a curly-braces expression
vim-patch:8.2.3702: first key in dict is seen as curly expression and fails
vim-patch:9.0.0403: 'equalalways' may be off when 'laststatus' is zero (#20109)
fix(options): mark `winhighlight` as list style  (#19477)
vim-patch:9.0.0402: javascript module files are not recoginzed (#20108)
Merge pull request #20100 from bfredl/luafunc
Use weak tables in tree-sitter code (#17117)
fix(diagnostic): remove buf from cache on `BufWipeout` (#20099)
refactor(typval): change FC_CFUNC abstraction into FC_LUAREF
Merge pull request #20102 from e-kwsm/treesitter-c99
build(treesitter): set CMAKE_C_STANDARD to C99
Merge pull request #17329 from cryptomilk/asn-vterm-0-2
fix(terminal): adopt altscreen test for libvterm 0.2 changes
build(deps): use libvterm 0.3-rc1
feat(term): add support for libvterm >= 0.2
Merge pull request #20031 from dundargoc/refactor/char_u/8
fix(ts): do not clobber spelloptions (#20095)
Merge pull request #20097 from clason/ts-syntax-off
fix(treesitter): don't support legacy syntax in start()
build: consistently set build type regardless of generator or platform #19760
refactor: replace char_u with char
fix(cmdheight=0): various issues part3 #19816
refactor: migrate comment style 2 #20080
refactor(term): use const for title and add len to buf_set_term_title()
Merge pull request #19419 from vigoux/extmark_spell
feat(extmarks,ts,spell): full support for spelling
Merge pull request #20039 from zeertzjq/cmod-tab
refactor(treesitter): get_{nodes,captures}_at_{position,cursor}
feat(treesitter): upstream get_node_at_cursor()
Merge pull request #15391 from vigoux/ts-lua-builtin
vim-patch:partial 0daafaa7d99e (#20083)
docs: update .mailmap (#20086)
feat(treesitter): add vim.treesitter.start(), enable for Lua
fix(treesitter): do not link @error by default
feat(treesitter): add injections
feat(treesitter): add viml parser and queries
ci(tests): don't skip parsers on functionaltest
feat(treesitter): bundle Lua parser and queries
fix: assertion failure when requiring missing module in autocmd
build(nix): removed the useless 'app'
Merge pull request #20088 from zeertzjq/vim-9.0.0386
refactor(ex_cd): add an early return to fix clint warning
vim-patch:9.0.0386: some code blocks are nested too deep
build(nix): bumped flake
build(flake): add sumneko lsp in PATH
docs(contributing): fix broken link (#20044)
Merge pull request #19481 from zeertzjq/vim-8.2.4674
feat(pum): pretend 'mousemoveevent' is set when showing right-click menu
feat(api): add "move" to nvim_input_mouse
feat(tui): support 'mousemoveevent'
feat(ui-ext): make 'mousemoveevent' a ui_option
vim-patch:8.2.4674: cannot force getting MouseMove events
Merge pull request #20073 from zeertzjq/vim-088e8e344352
vim-patch:088e8e344352
vim-patch:7.4.{1578,1624}
build(deps): bump tree-sitter-c to v0.20.2 (#20079)
ci: remove gpanders from api reviewers (#20074)
fix(filetype): run filetype.match on StdinReadPost (#20070)
feat(treesitter): include language in invalid query error (#14053)
ci(clint): remove "Inner expression indentation should be 4" rule (#20047)
build(deps): bump tree-sitter to v0.20.7 (#20067)
docs: update .git-blame-ignore-revs (#20066)
Merge pull request #20063 from zeertzjq/vim-9.0.0360
vim-patch:9.0.0362: expanding ":e %" does not work for remote files
vim-patch:9.0.0360: crash when invalid line number on :for is ignored
vim-patch:8.2.1505: not all file read and writecode is tested
refactor: migrate comment style (#20012)
Merge pull request #20026 from dundargoc/refactor/char_u/7
fix(api)!: correctly deal with number before :tab
feat(Man): port to Lua (#19912)
Merge pull request #20055 from famiu/fix/ui-attach/memory-leak
fix(ui): ui compositor does not correctly free event callbacks
vim-patch:9.0.0349: filetype of *.sil files not well detected (#20050)
Merge pull request #20040 from zeertzjq/vim-9.0.0342
feat(api): add support for :horizontal modifier
vim-patch:9.0.0346: :horizontal modifier not fully supported
vim-patch:9.0.0342: ":wincmd =" equalizes in two directions
refactor: replace char_u with char
fix(lua): make ui_attach()/ui_detach() take effect immediately (#20037)
Merge pull request #20022 from dundargoc/refactor/char_u/6
Merge pull request #20038 from bfredl/unflush
perf(messages): don't call ui_flush() per message line in various places
Merge pull request #20023 from bfredl/hlarena
fix(maparg): remove double allocation (#20033)
vim-patch:9.0.0343: ColorScheme autocommand triggered when colorscheme not found (#20032)
feat(mapset): support restoring Lua callback (#20024)
Merge pull request #16396 from bfredl/luaevent
refactor: replace char_u with char
refactor(highlight): make hlattrs2dict always use pre-allocated dict
Merge pull request #20007 from dundargoc/refactor/char_u/5
feat(lua): vim.ui_attach to get ui events from lua
refactor(mappings)!: mapblock_fill_dict() use API Dictionary (#20020)
refactor: replace char_u with char
fix(api): nvim_set_hl bail out on invalid group name (#20021)
vim-patch:9b03d3e75b42 (#20013)
vim-patch:8.2.3102: test for crash fix does not fail without the fix (#20018)
vim-patch:8.2.0301: insufficient testing for exception handling (#20016)
vim-patch:8.1.2037: can call win_gotoid() in cmdline window (#20015)
vim-patch:9.0.0332: overwrite check may block BufWriteCmd (#20014)
fix(exceptions): restore `did_throw` (#20000)
Vim 9.0.{0314,0319}: some filetypes are not recognized (#20005)
refactor: replace char_u with char 4 (#19987)
docs(lua): present vim.o as default and vim.opt as special-purpose #19982
fix(docs): update lsp.rpc.start docs to match return value changes (#20003)
docs(lsp): replace formatting_sync example in lsp-faq (#19994)
Merge pull request #19897 from bfredl/statushl
fix(highlight): set the window namespace when redrawing statusline
feat(tui): recognize sidescroll events (#19992)
Merge pull request #19999 from zeertzjq/vim-9.0.0320
vim-patch:9.0.0320: command line type of CmdlineChange differs from getcmdtype()
refactor: move cmdline functions to ex_getln.c
vim-patch:9.0.0318: clearing screen causes flicker (#19993)
Merge pull request #19997 from bfredl/lastsep
fix(redraw): handle switching to a tabpage with larger p_ch value
fix(lsp): clean the diagnostic cache when buffer delete (#19449)
Merge pull request #19973 from dundargoc/refactor/char_u/3
Merge pull request #19916 from mfussenegger/lsp-tcp
refactor: replace char_u with char
vim-patch:9.0.0316: screen flickers when 'cmdheight' is zero (#19991)
Merge pull request #19971 from dundargoc/refactor/remove-casts
Merge pull request #19961 from dundargoc/refactor/char_u/2
Merge pull request #19975 from bfredl/chartabsize
refactor(plines): use a struct for chartabsize state
vim-patch:9.0.0285: it is not easy to change the command line from a plugin (#19979)
fix(events): triggered WinScrolled when only skipcol changed (#19972)
fix(keywordprg): default to :help if set to empty string (#19983)
feat(lsp): add tcp support
refactor(lsp): extract rpc client from rpc.start
refactor(lsp): encapsulate rpc uv handle
refactor(lsp): factor out read_loop function
fix(l10n): improve zh_CN and zh_TW translations (#19969)
vim-patch:8.2.3813: confusing error when using :cc without error list (#19978)
refactor: replace char_u with char
refactor: remove redundant casts
docs: fix typos (#19798)
vim-patch:8.2.1269: language and locale code spread out (#19964)
vim-patch:8.2.0660: the search.c file is a bit big (#19963)
Merge pull request #19962 from zeertzjq/vim-9.0.0278
vim-patch:9.0.0284: using static buffer for multiple completion functions
vim-patch:9.0.0283: cannot complete "syn list @cluster"
vim-patch:9.0.0279: the tiny version has the popup menu but not 'wildmenu'
vim-patch:9.0.0278: the +wildignore feature is nearly always available
Merge pull request #19955 from zeertzjq/vim-9.0.0272
vim-patch:9.0.0276: 'buftype' values not sufficiently tested
vim-patch:9.0.0275: BufEnter not triggered when using ":edit" in "nofile" buffer
vim-patch:9.0.0274: netrw plugin does not show remote files
vim-patch:9.0.0272: BufReadCmd not triggered when loading a "nofile" buffer
Merge pull request #19957 from dundargoc/refactor/char_u/1
refactor: replace char_u with char
vim-patch:7dd543246a4c (#19960)
vim-patch:8.2.0674: some source files are too big (#19959)
Merge pull request #19931 from bfredl/scopedhl
fix(treesitter): make it get_captures_at_position
feat(treesitter): upstream get_hl_groups_at_position()
feat(treesitter)!: use @foo.bar style highlight groups
feat(highlight): support scoped @spam.eggs.baked_beans groups
vim-patch:8.1.2331: the option.c file is still very big (#19954)
Merge pull request #19947 from lewis6991/truefalse
refactor: change FALSE/TRUE to false/true
Merge pull request #19953 from zeertzjq/vim-9.0.0036
vim-patch:9.0.0040: use of set_chars_option() is confusing
refactor: set_chars_option()
vim-patch:9.0.0038: 'listchars' test fails
vim-patch:9.0.0036: 'fillchars' cannot have window-local values
vim-patch:8.2.2524: cannot change the characters displayed in the foldcolumn
Merge pull request #19950 from zeertzjq/vim-9.0.0270
vim-patch:9.0.0270: some values of 'path' and 'tags' invalid in the tiny version
vim-patch:9.0.0263: too many #ifdefs
Merge pull request #19628 from dundargoc/refactor/char_u/2
Merge pull request #19946 from bfredl/newnode
fix(tests): use pending_c_parser when needed
refactor: replace char_u with char
fix(treesitter): more efficient node:root()
fix(docs): update auto-generated documentation
feat(treesitter): clarify similar 'get_node_range' functions
feat(treesitter): upstream node_contains()
feat(treesitter): upstream node_length() as a node method
feat(treesitter): upstream get_root_for_node() as a node method
feat(treesitter): upstream get_named_children() as a node method
feat(treesitter): add ability to retreive a tree/node given a range
feat(treesitter): add opts.concat to query.get_text_node
feat(treesitter): upstream is_parent()
Merge pull request #19945 from zeertzjq/vim-8.2.0911
vim-patch:8.2.0923: cmdline test is slow
vim-patch:8.2.0911: crash when opening a buffer for the cmdline window fails
Merge pull request #19934 from lewis6991/prepostincr
vim-patch:9.0.0261: bufload() reads a file even if the name is not a file name (#19944)
refactor: pre-incr to post-incr
vim-patch:8.2.4356: command line completion functions are very long (#19943)
fix(usercmd): also check for whitespace after escaped character (#19942)
refactor: suppress clang and PVS warnings (#19940)
docs(contributing): add documenting guidelines from wiki (#19924)
Merge pull request #19939 from zeertzjq/vim-8.2.4289
vim-patch:8.2.4289: warnings reported by MSVC
vim-patch:8.2.2826: compiler warnings for int to size_t conversion
vim-patch:8.2.1960: warning for uninitialized variable
vim-patch:8.2.1728: compiler warning for using uninitialized variable
vim-patch:8.1.1085: compiler warning for possibly uninitialized variable
refactor: ins_compl_show_pum() (#19938)
Merge pull request #19937 from zeertzjq/vim-8.2.3942
vim-patch:partial:8.2.4001: insert complete code uses global variables
vim-patch:8.2.3942: Coverity reports a possible memory leak
Merge pull request #19936 from zeertzjq/vim-8.2.3989
vim-patch:8.2.4037: Insert mode completion is insufficiently tested
vim-patch:8.2.3989: some insert completion code is not tested
vim-patch:8.2.2534: missing test coverage
Merge pull request #19927 from zeertzjq/vim-9.0.0045
vim-patch:9.0.0102: reading past end of line with insert mode completion
vim-patch:9.0.0060: accessing uninitialized memory when completing long line
vim-patch:9.0.0046: reading past end of completion with duplicate match
vim-patch:9.0.0045: reading past end of completion with a long line
vim-patch:fd999452adaf (#19929)
fix(treesitter): free memory on removing parser (#19933)
Merge pull request #19830 from lewis6991/hlgroup_name
Merge pull request #19928 from vigoux/ts-fix-c-parser
feat(highlight)!: error on invalid names and allow '.' and '@'
test(treesitter): make internal lang test pending when necessary
feat(lua): add vim.iconv (#18286)
Merge pull request #19496 from vigoux/ts_internal_lang
Merge pull request #19906 from bfredl/bigstage
feat(eval)!: make Vim functions return inner window width and height (#19743)
vim-patch:partial:8.2.3953: insert completion code is too complicated (#19923)
refactor(api): provide a temporary copy solution for nvim_call_atomic
refactor(arena): use a shared block freelist
vim-patch:9.0.0020: with some completion reading past end of string (#19922)
Merge pull request #19921 from zeertzjq/vim-8.2.3937
vim-patch:8.2.3944: insert mode completion functions are too long
vim-patch:8.2.3937: Insert mode completion function is too long
fix(path): path_is_url returns false for "foo:/" #19797
fix(cmdline): do not trigger completion at wrong time (#19920)
vim-patch:9.0.0248: duplicate code in finding a script in the execution stack (#19917)
perf(api): allow to use an arena for return values
vim-patch:9.0.0206: redraw flags are not named specifically (#19913)
refactor(spell.c): resolve clint errors (#19875)
doc(CONTRIBUTING): update #19891
fix(inspect): escape identifiers that are lua keywords (#19898)
Merge pull request #19905 from zeertzjq/vim-8.2.4726
vim-patch:8.2.4842: expand("%:p") is not empty when there is no buffer name
vim-patch:8.2.4841: empty string considered an error for expand()
vim-patch:8.2.4749: <script> is not expanded in autocmd context
vim-patch:8.2.4741: startup test fails
vim-patch:8.2.4740: when expand() fails there is no error message
vim-patch:8.2.4726: cannot use expand() to get the script name
test: add test for using :normal to stop Visual mode in cmdwin (#19904)
vim-patch:8.2.1046: insufficient tests for src/buffer.c (#19903)
vim-patch:8.2.0522: several errors are not tested for (#19901)
vim-patch:8.1.{1915,1921,1953} (#19900)
vim-patch:8.1.0832: confirm() is not tested (#19896)
vim-patch:8.2.3421: a bit of code is not covered by tests (#19895)
feat(treesitter): allow customizing language symbol name
fix(api): avoid side effects with nvim_parse_cmd (#19890)
vim-patch:8.2.4753: error from setting an option is silently ignored (#19888)
fix(edit.c): indentkeys double indent after "!" #12894
vim-patch:8.2.2289: Vim9: 'cpo' can become empty (#19887)
Merge pull request #19886 from zeertzjq/vim-8.2.2030
vim-patch:8.2.2031: some tests fail when run under valgrind
vim-patch:8.2.2030: some tests fail on Mac
Merge pull request #19885 from zeertzjq/vim-8.2.4328
vim-patch:8.2.4334: command line popup menu not positioned correctly
vim-patch:8.2.4328: command line complete matches cleard when typing character
Merge pull request #19864 from lewis6991/decorfix
vim-patch:9.0.0236: popup menu not removed when 'wildmenu' reset while visible (#19882)
vim-patch:8.2.4325: 'wildmenu' only shows few matches (#19876)
fix(api/command): fargs behavior when no arguments are passed (#19862)
vim-patch:9.0.0234: cannot make difference between :normal end and argument char (#19879)
vim-patch:8.2.4754: using cached values after unsetting some environment variables (#19872)
refactor: make wildmenu code closer to Vim (#19870)
vim-patch:8.2.1587: loop for handling keys for the command line is too long (#19868)
vim-patch:8.1.1914: command line expansion code is spread out (#19867)
vim-patch:9.0.0231: expanding "**" may loop forever with directory links (#19866)
vim-patch:8.1.1886: command line expansion code is spread out (#19861)
fix(ui): don't allow decor provider with ns_id==0
vim-patch:8.1.2045: the option.c file is too big (#19854)
vim-patch:e80086446cc2 (#19848)
fix(eval): check for v:lua when calling callback (#19855)
Merge pull request #19852 from zeertzjq/vim-8.2.3623
vim-patch:8.2.4667: expandcmd() fails on an error
vim-patch:8.2.3623: "$*" is expanded to "nonomatch"
Merge pull request #19847 from lewis6991/utfmb
vim-patch:8.2.3619: cannot use a lambda for 'operatorfunc' (#19846)
Merge pull request #19841 from bfredl/drawstatus
refactor: move statusline code from buffer.c and [draw]screen.c to new file
fix(filetype): only check first 100 and last line of buffer (#19819)
docs(lua): update vim.{g,b,w}o documentation (#19844)
refactor(drawline.c): factor out utf8 multibyte check
Merge pull request #19360 from famiu/feat/multibuffer-inccommand
Merge pull request #19845 from zeertzjq/vim-8.2.0982
vim-patch:8.2.0982: insufficient testing for reading/writing files
vim-patch:partial:8.2.0425: code for modeless selection not sufficiently tested
Merge pull request #19843 from zeertzjq/vim-9.0.0227
vim-patch:9.0.0227: cannot read error message when abort() is called
vim-patch:8.2.3946: when an internal error makes Vim exit the error is not seen
vim-patch:8.1.1966: some code in options.c fits better elsewhere (#19840)
Merge pull request #19802 from lewis6991/drawscreen
vim-patch:8.1.2057: the screen.c file is much too big
feat: multibuffer preview support for inccommand
refactor(undo.c): resolve clint issues (#19827)
revert: "jobstart(): Fix hang on non-executable cwd #9204" (#19826)
Merge pull request #19822 from bfredl/hldef
ci: add codeql action (#19810)
Merge pull request #19828 from bfredl/nullhl
vim-patch:8.1.2082: rename popupmnu.* to popupmenu.* (#19829)
fix(api): make nvim_set_hl(ns=0, ...) redraw screen properly
docs(lsp): remove lsp.buf_request from docs (#19738)
fix(winhl): do not crash when unsetting winhl in just opened window
Merge pull request #19824 from bfredl/msgsep_allthethings
fix(tests): remove irrelevant usage of display-=msgsep
Merge pull request #13457 from bfredl/färgtema
feat(ui): allow to set the highlight namespace per window
refactor: remove some unused includes (#19820)
feat: allow :wincmd to accept a count (#19815)
docs(lsp): rename on-list-handler to lsp-on-list-handler (#19813)
vim-patch:8.2.1262: src/ex_cmds.c file is too big (#19811)
vim-patch:8.2.3699: the +title feature adds a lot of #ifdef but little code (#19809)
Merge pull request #19801 from Shougo/vim-9.0.0190
vim-patch:9.0.0191: messages test fails; window size incorrect
vim-patch:9.0.0190: the way 'cmdheight' can be made zero is inconsistent
Merge pull request #19808 from zeertzjq/vim-9.0.0220
vim-patch:9.0.0222: no good reason why text objects are only in larger builds
vim-patch:9.0.0220: invalid memory access with for loop over NULL string
refactor: change pre-decrement/increment to post (#19799)
refactor(signs): handle non-sign attrs separately (#19784)
docs: update .gitattributes (#19800)
fix(api): nvim_exec and nvim_cmd restore msg_col when capturing output (#19789)
refactor(eval.c): resolve all clint issues (#19774)
vim-patch:e1f3fd1d02e3 (#19796)
vim-patch:8.2.3888: the argument list may contain duplicates (#19795)
test: use poke_eventloop() instead of sleep(10) where possible (#19794)
vim-patch:8.1.2042: the evalfunc.c file is too big (#19792)
vim-patch:8.1.1869: code for the argument list is spread out (#19791)
vim-patch:9.0.0216: undo earlier test sometimes fails on MS-Windows (#19790)
Merge pull request #19781 from zeertzjq/source-lua-estack
fix(source): fix expand('<sfile>') no longer works for Lua
vim-patch:9.0.0217: 'shellslash' works differently when sourcing a script again
Merge pull request #19635 from dundargoc/build/windows
Merge pull request #19785 from zeertzjq/vim-8.2.1803
vim-patch:8.2.3392: augroup completion escapes regexp pattern characters
vim-patch:8.2.3345: some code not covered by tests
vim-patch:8.2.1803: a few failures are not tested
Merge pull request #19440 from zeertzjq/vim-8.2.1786
fix(redraw): make sure :redraw! redraws command line
vim-patch:8.2.1799: some Normal mode commands not fully tested
vim-patch:8.2.1786: various Normal mode commands not fully tested
Merge pull request #19098 from zeertzjq/vim-8.1.0822
vim-patch:8.2.5109: mode not updated after CTRL-O CTRL-C in Insert mode
vim-patch:8.1.1192: mode is not cleared when leaving Insert mode with mapped Esc
vim-patch:8.1.1189: mode is not cleared when leaving Insert mode
fix(getchar): flush screen before doing a blocking wait
vim-patch:partial:8.1.0822: peeking and flushing output slows down execution
refactor(ex_docmd.c): resolve most clint errors (#19775)
ci(build.ps1): restore comment removed in #19336
docs: update Vim differences (#19780)
Merge pull request #19763 from zeertzjq/vim-8.2.1297
fix(source): make changing 'shellslash' change expand() result
vim-patch:8.2.1658: expand('<stack>') has trailing ".."
vim-patch:8.2.1653: expand('<stack>') does not include the final line number
vim-patch:8.2.1297: when a test fails it's often not easy to see where
refactor: move menu non-symbols to menu_defs.h (#19778)
Merge pull request #19772 from lewis6991/uncrust_suggest
vim-patch:8.1.1960: fold code is spread out (#19777)
vim-patch:9.0.0207: stacktrace not shown when debugging (#19776)
Merge pull request #19771 from lewis6991/clint/eval/funcs.c
refactor(eval/funcs.c): resolve all clint errors
ci(lint): separate lintc from lint
ci(lint): move some steps before build
ci(line): lintcfull -> lintc
ci(lint): run uncrustify earlier
ci(lint): generate PR suggestions from uncrustify
vim-patch:8.2.4249: the timeout limit for spell suggestions is always 5000 (#19769)
vim-patch:8.1.2081: the spell.c file is too big (#19767)
vim-patch:8.2.3675 (#19766)
docs(lua): clarify vim.keymap.set() opts (#19761)
vim-patch:9.0.0203: confusing variable name (#19762)
Merge pull request #19752 from zeertzjq/vim-8.2.0056
vim-patch:8.2.0823: Vim9: script reload test is disabled
vim-patch:8.2.0097: crash with autocommand and spellfile
vim-patch:8.2.0078: expanding <sfile> works differently the second time
vim-patch:8.2.0061: the execute stack can grow big and never shrinks
refactor: change remaining sourcing_name/sourcing_lnum to exestack
vim-patch:8.2.0056: execution stack is incomplete and inefficient
build: only use CMAKE_BUILD_TYPE for single-config generators
build(MSVC): don't add non-MSVC compiler options
build(windows): fix target check-single-includes
build: bump minimum cmake version for all dependencies to 3.10
refactor(screen.c): resolve all clint errors (#19754)
vim-patch:9.0.0198: ml_get error when switching buffer in Visual mode (#19756)
ci(release): move release-winget steps into release job #19689
vim-patch:7.4.1168 (#19645)
vim-patch:9.0.0197: astro files are not detected (#19755)
Merge pull request #19751 from bfredl/tabbar
fix(winbar): do not always assume cursor is valid. fixes #19458
vim-patch:9.0.0195: metafun files are not recogized (#19746)
fix(charclass): make behavior with empty str match latest Vim (#19749)
vim-patch:8.2.{1536,1540}: charclass() (#19748)
refactor: remove some unused includes (#19747)
build libuv cmake (#19632)
Merge pull request #19713 from lewis6991/rmccache
refactor: remove some unused includes (#19740)
ci(cache): remove ccache
docs: .git-blame-ignore-revs (#18579)
Merge pull request #19592 from dundargoc/refactor/char_u-to-char
refactor: replace char_u with char
refactor: move non-symbols in ex_eval.h to ex_eval_defs.h (#19739)
docs: clarify that cursorline will be disabled before command preview (#19710)
fix(lsp): fix nil value error in get_group (#19735)
refactor: move code dealing with script files to runtime.c (#19734)
Merge pull request #19733 from zeertzjq/vim-8.1.1684
vim-patch:8.1.1689: profiling code is spread out
vim-patch:8.1.1684: profiling functionality is spread out
test: make Ex mode exit test test what it wants to test (#19728)
fix(lsp): handle nil client in onexit callback (#19722)
fix(signs): priority of extmark signs (#19718)
fix(lsp): avoid pipe leaks if lsp cmd isn't executable (#19717)
fix(lsp): fix some type annotations in lsp.rpc (#19714)
docs: add reformat commit to .git-blame-ignore-revs (#19715)
Merge pull request #19685 from ii14/gen_vimdoc_indentation
docs: regenerate
docs: change gen_vimdoc indentation to 4 spaces
refactor: use CLEAR_FIELD and CLEAR_POINTER macros (#19709)
build(deps): bump LuaJIT to HEAD - 633f265f6 (#19703)
Merge pull request #19704 from bfredl/ceci-nest-pas-un-bool
fix(mpack): make sure a `bool` always is a `bool`
vim-patch:9.0.0182: quarto files are not recognized (#19702)
fix(api): `vim.cmd.make` crashes when argument count isn't 1 (#19701)
Merge pull request #19693 from clason/bump-gha-ubuntu
docs: fix some mistakes and missing docs (#19699)
fix(lsp): handle multiple clients with incremental sync (#19658)
ci(release): build with standard gcc on Ubuntu
ci(release): bump deprecated ubuntu image to 20.04
feat(tui): allow grid and host to disagree on ambiguous-width chars (#19686)
vim-patch:9.0.0176: checking character options is duplicated and incomplete (#19690)
docs(lua): add luv (`vim.loop`) reference manual (#19679)
vim-patch:8.1.1823: command line history code is spread out (#19688)
vim-patch:partial: 48c3f4e0bff7 (#19684)
docs(lua): add Lua 5.1 reference manual (#19663)
feat(lsp): set formatexpr by default (#19677)
test: increse expect_exit() timeouts (#19680)
Merge pull request #19674 from zeertzjq/vim-8.2.1535
fix(fillchars): change fallback after setcellwidths()
vim-patch:8.2.3545: setcellwidths() may make 'listchars' or 'fillchars' invalid
refactor(setcellwidths): use TV_LIST_ITEM_NEXT properly
vim-patch:8.2.1537: memory acccess error when using setcellwidths()
vim-patch:8.2.1535: it is not possible to specify cell widths of characters
refactor: move non-symbols in mbyte.h to mbyte_defs.h
fix(lsp): set end_col in formatexpr (#19676)
feat(lsp): disable exit_timeout by default (#19672)
fix(folds): fix fold remains when :delete makes buffer empty (#19673)
fix(terminal): skip aucmd_win when checking terminal size (#19668)
vim-patch:8.2.4492: no error if an option is given a value with ":let &opt = val" (#19670)
Merge pull request #19669 from zeertzjq/vim-8.2.1278
vim-patch:8.2.1281: the "trailing characters" error can be hard to understand
vim-patch:8.2.1280: Ex command error cannot contain an argument
vim-patch:8.2.1278: Vim9: line break after "->" only allowed in :def function
fix(api): nvim_cmd handle 0 range (#19655)
vim-patch:8.2.1873: Vim9: missing white space when using <f-args> (#19657)
vim-patch:8.2.3282: Vim9: error about using -complete without -nargs is confusing (#19656)
vim-patch:8.1.1210: support for user commands is spread out (#19653)
vim-patch:8.1.0942: options window still checks for the multi_byte feature (#19652)
fix(api): fix nvim_buf_set_text heap-use-after-free (#19644)
fix(lsp): avoid  ^M character in hover window on Windows (#19640)
test(old): clear builtin menus before running tests (#19647)
vim-patch:9.0.0141: "delmenu" does not remove autocmmands (#19646)
docs: improve example in incremental preview section (#19613)
test(let_spec): increase expect_exit() timeout
Merge pull request #19642 from zeertzjq/vim-8.2.0413
vim-patch:9.0.0009: going past the end of a menu item with only modifier
vim-patch:8.2.0478: new buffers are not added to the Buffers menu
vim-patch:8.2.0413: buffer menu does not handle special buffers properly
Merge pull request #19638 from zeertzjq/vim-8.2.0385
vim-patch:8.2.3459: Vim9: need more tests for empty string arguments
vim-patch:8.2.0392: Coverity warns for using array index out of range
vim-patch:8.2.0385: menu functionality insufficiently tested
fix(menu): make :menu still print header when there are no menus
vim-patch:partial:8.2.0897: list of functions in patched version is outdated (#19637)
fix(lsp): prevent unexpected position jumps (#19370)
Merge #19626 build: cleanup old cmake files
fix(completion): remove wrong FUNC_ATTR_NONNULL_ALL (#19627)
feat(lua): print source locations of lua callbacks (#19597)
fix(ui): set redraw_cmdline when setting window height (#19630)
Merge pull request #19540 from lewis6991/cmd_refactor
build: remove InstallClintErrors.cmake
build: remove unused file i386-linux-gnu.toolchain.cmake
build: replace deprecated cmake features with their modern alternatives
docs: fix typos (#19588)
refactor: quickfix.c (#19603)
Merge pull request #19584 from bfredl/terminal_c_BSL_c_O
fix(tabpage): check if ROWS_AVAIL changed for resize (#19620)
feat(terminal): implement <c-\><c-o> for terminal mode
build: add formatting targets for c and lua files (#19488)
refactor: rename function prefix mb to the more accurate utf_cp (#19590)
refactor(cmd): unify execute_cmd with do_one_cmd
refactor(cmd): hoist out some code into functions
refactor(cmd): format do_one_cmd()
test: improve mapping tests and docs (#19619)
Merge pull request #19617 from zeertzjq/vim-8.2.4956
vim-patch:8.2.5013: after text formatting cursor may be in an invalid position
vim-patch:8.2.4956: reading past end of line with "gf" in Visual block mode
vim-patch:8.2.4899: with latin1 encoding CTRL-W might go before the cmdline
vim-patch:9.0.0126 (#19612)
fix(lsp): send didOpen if name changes on write (#19583)
vim-patch:05a8061eecd9 (#19610)
feat(node): add pnpm support #19461
Merge pull request #19602 from zeertzjq/vim-8.2.0807
feat(mapset): support restoring "replace_keycodes" and "desc"
test: fix api/keymap_spec.lua tests
vim-patch:8.2.5106: default cmdwin mappings are re-mappable
vim-patch:8.2.4831: crash when using maparg() and unmapping simplified keys
vim-patch:8.2.2804: setting buffer local mapping with mapset() changes global
vim-patch:8.2.1773: crash when calling mapset() with a list as first argument
vim-patch:8.2.0815: maparg() does not provide enough information for mapset()
vim-patch:8.2.0812: mapset() does not properly handle <> notation
vim-patch:8.2.0807: cannot easily restore a mapping
feat(api): add replace_keycodes to nvim_set_keymap (#19598)
Use Strings instead of Tables in vim.filetype.matchregex Doc (#19604)
fix(session): respect sessionoptions=terminal #19497
refactor: replace_makeprg (#19570)
Merge pull request #19595 from zeertzjq/vim-9.0.0124
test(old): unskip test that already passes
vim-patch:9.0.0124: code has more indent than needed
Merge pull request #19437 from dundargoc/refactor/char_u-to-char
fix(highlight): add missing 'nocombine' to nvim_get_hl_* apis (#19586)
Merge pull request #19587 from Shougo/vim-9.0.0114
vim-patch:9.0.0118: no test for what patch 9.0.0155 fixes
vim-patch:9.0.0115: when 'cmdheight' is zero pressing ':' may scroll a window
vim-patch:9.0.0114: the command line takes up space even when not used
docs: fix typos (#19024)
cmdheight=0: fix bugs part2 (#19185)
Merge pull request #19582 from clason/vim-9.0.0111
test: rewrite Test_missing_attr() in Lua
refactor: replace char_u with char
vim-patch:9.0.0111: "nocombine" is missing from synIDattr()
vim-patch:9.0.0109: writing over the end of a buffer on stack (#19581)
Merge pull request #19524 from dundargoc/refactor/conversion-screen
refactor: enable -Wconversion warning for screen.c
vim-patch:2ecbe53f452e (#19577)
fix(terminal): avoid reading over the end of cell.chars (#19580)
refactor: enable -Wconversion warning for spell.c (#19538)
fix(screen): check for col instead of vcol when drawing fold (#19572)
refactor: fix clang and PVS warnings (#19569)
build(pvscheck): disable PVS/V1028 (#19553)
refactor: enable -Wconversion warning for syntax.c (#19533)
vim-patch:9.0.0101: invalid memory access in diff mode with "dp" and undo (#19568)
vim-patch:9.0.0026: accessing freed memory with diff put (#19564)
docs(lsp): use direct link to formattingOptions in format docs (#19558)
feat(lsp): add range option to code_action; deprecate range_code_action (#19551)
build(deps): bump LuaJIT to HEAD - a7d026548 (#19565)
Merge pull request #19486 from dundargoc/refactor/conversion
vim-patch:9.0.0099: scrollback can be wrong after redrawing the command line (#19562)
vim-patch:9.0.0097: long quickfix line is truncated for :clist (#19561)
refactor: enable -Wconversion warning for spellfile.c (#19527)
refactor: enable -Wconversion warning for lua/treesitter.c
build(deps): bump LuaJIT to HEAD - e1339aed3 (#19536)
Merge pull request #19556 from zeertzjq/vim-9.0.0061
vim-patch:9.0.0094: cursor restored unexpected with nested autocommand
vim-patch:partial:9.0.0077: wrong restored cursor position when switching window in autocmd
vim-patch:9.0.0061: ml_get error with nested autocommand
vim-patch:8.2.3912: the ins_complete() function is much too long (#19555)
Merge pull request #19554 from zeertzjq/vim-9.0.0095
vim-patch:9.0.0096: flag "new_value_alloced" is always true
vim-patch:9.0.0095: conditions are always true
refactor: enable -Wconversion warning for window.c (#19537)
refactor: enable -Wconversion warning for eval/funcs.c (#19541)
perf(api): optimize nvim_cmd (#19513)
refactor: enable -Wconversion warning for regexp files (#19521)
refactor: fix clang and PVS warnings (#19532)
vim-patch:9.0.0092: plugins cannot change v:completed_item (#19542)
Merge pull request #19525 from dundargoc/refactor/conversion-search
Merge pull request #19516 from dundargoc/refactor/conversion-mbyte
feat(lsp): provide feedback if server can't compute rename result (#19546)
fix(lsp): set workspace.configuration capability (#19548)
vim-patch:9.0.0093: sway config files are recognized as i3config (#19545)
vim-patch:9.0.0088: pattern for detecting bitbake files is not sufficient (#19547)
refactor: enable -Wconversion warning for search.c
vim-patch:9.0.0090: no error when assigning bool to a string option (#19539)
refactor: enable -Wconversion warning for mbyte.c
Merge pull request #19518 from dundargoc/build/openbsd/no-versions
Merge pull request #19531 from zeertzjq/vim-8.2.4623
vim-patch:8.2.4625: old Coverity warning for resource leak
vim-patch:8.2.4623: Coverity warns for using uninitialized field
fix(options): properly free string options (#19510)
vim-patch:9.0.0081: command line completion of user command may have duplicates (#19529)
Merge pull request #19528 from zeertzjq/vim-9.0.0051
vim-patch:9.0.0086: tabline is not redrawn when entering command line
vim-patch:9.0.0083: ModeChanged event not triggered when leaving cmdline window
vim-patch:9.0.0082: cannot interrupt global command from command line
vim-patch:9.0.0051: using CTRL-C wih :append may hang Vim
build(gen_vimdoc): fall back to lua if luajit doesn't exist (#19498)
Merge pull request #19523 from ii14/vim-9.0.0085
vim-patch:9.0.0084: using "terraform" filetype for .tfvars file is bad (#19526)
vim-patch:9.0.0085: ":write" fails after ":file name" and the ":edit"
ci(openbsd): don't specify versions for dependencies if possible
vim-patch:9.0.0073: too many files recognized as bsdl (#19504)
Merge pull request #19514 from zeertzjq/vim-8.1.1424
vim-patch:9.0.0076: no test for what patch 8.1.1424 fixes
vim-patch:8.1.1424: crash when popup menu is deleted while waiting for char
Merge pull request #19512 from dundargoc/build/version-fix
vim-patch:b529cfbd04c0 (#19501)
build: fix version generation to its previous behavior
revert: "vim-patch:9.0.0061: ml_get error with nested autocommand" (#19509)
fix(cmdline): trigger CmdlineEnter and ModeChanged earlier (#19474)
Merge pull request #19508 from ii14/fix_older_cmake_makefiles
build: fix git version generation on makefiles with older cmake versions
vim-patch:9.0.0071: command overlaps with printed text in scrollback (#19505)
feat(lsp): allow passing custom list handler to LSP functions that return lists (#19213)
Merge pull request #19494 from zeertzjq/vim-8.2.5155
build(lint): check uncrustify version #19468
vim-patch:8.2.5166: test for DiffUpdated fails
vim-patch:8.2.5164: invalid memory access after diff buffer manipulations
vim-patch:8.2.5163: crash when deleting buffers in diff mode
vim-patch:8.2.5155: in diff mode windows may get out of sync
Merge pull request #19470 from zeertzjq/vim-8.2.4866
vim-patch:9.0.0066: switching window uneccarily when getting buffer options
vim-patch:8.2.4866: duplicate code in "get" functions
Merge pull request #19493 from zeertzjq/vim-8.2.1469
ci(distribution): auto-release winget #19121
vim-patch:8.2.4228: no tests for clicking in the GUI tabline
vim-patch:8.2.2969: subtracting from number option fails when result is zero
vim-patch:8.2.2285: Vim9: cannot set an option to a false
vim-patch:8.2.2284: Vim9: cannot set an option to a boolean value
vim-patch:8.2.2254: Vim9: bool option type is number
vim-patch:8.2.1469: Vim9: cannot assign string to string option
Merge pull request #18992 from zeertzjq/alt-mouse
test: improve some input tests
fix(input): do no reinterpret mouse keys with ALT modifiers
fix(api): make nvim_cmd mods.silent work correctly (#19489)
vim-patch:8.1.1763: evalfunc.c is still too big (#17952)
feat(l10n): improve zh_CN translations (#19483)
fix(mouse): fix using uninitialized memory with K_MOUSEMOVE (#19480)
Merge pull request #19476 from zeertzjq/vim-9.0.0059
vim-patch:9.0.0061: ml_get error with nested autocommand
vim-patch:9.0.0059: test file has wrong name
Merge pull request #19471 from zeertzjq/vim-8.2.4731
vim-patch:8.2.5035: when splitting a window the changelist position moves
vim-patch:8.2.4731: the changelist index is not remembered per buffer
Merge pull request #19467 from zeertzjq/vim-8.2.1489
vim-patch:8.2.1489: Vim9: error when setting an option with setbufvar()
refactor: move f_getbufvar() and f_setbufvar() to eval/vars.c
fix(build): non-git ("tarball") build fails #19448
ci(release): use cpack on macOS #19459
refactor: move FunPtr to types.h (#19466)
feat(l10n): Turkish translations #19441
vim-patch:8.1.1933: the eval.c file is too big (#19462)
test(mksession_spec): use %bwipeout! instead of qall! to close terminal (#19465)
fix(grid): don't use utfc_ptr2char_len() when printing until NUL (#19456)
ci(labeler): do not add "column" label for mark.{c,h} (#19455)
refactor: fix clang warnings (#19453)
fix(mark): give correct error message when mark is in another buffer (#19454)
vim-patch:9.0.0047: using freed memory with recursive substitute (#19457)
vim-patch:8.2.4502 (#19439)
Merge pull request #19445 from famiu/fix/local_winbar_tabs
fix: local winbar with tabs
test(old): set 'display' to an empty string (#19450)
feat(lua): allow vim.cmd to be indexed (#19238)
Merge pull request #19446 from bfredl/fixarray
refactor(object): get rid of redundant FIXED_TEMP_ARRAY
Merge pull request #19415 from zeertzjq/vim-8.1.1076
vim-patch:8.1.1849
vim-patch:8.1.1076: file for Insert mode is much too big
fix(tmpdir): invalid tempname() if username has slashes #19323
docs: fix vim.filetype.add by avoiding quotes (#19433)
Merge pull request #19434 from zeertzjq/vim-8.2.0509
build(macos): use consistent MACOSX_DEPLOYMENT_TARGET (#19430)
vim-patch:8.2.2632: not all command line arguments are tested
vim-patch:8.2.0509: various code is not properly tested.
Merge pull request #19428 from jamessan/deps-cmake-version
Merge pull request #19429 from zeertzjq/fix-flaky-tests
test: deal with RPC call causing Nvim to exit later
test: avoid timing-sensitive undo message
Merge pull request #19409 from bfredl/uiunpack
build: bump minimum CMake version in cmake.deps
fix(rpc): break nvim_error_event feedback loop between two nvim instances
perf(ui): unpack grid_line (screen contents) directly
Merge pull request #19427 from Maverun/maveBranchDoc
fix(docs): remove internal function from docs (nvim__*)
vim-patch:8.2.1147 (#19425)
fix(lua): make it possible to cancel vim.wait() with Ctrl-C (#19217)
fix(mouse): click on global statusline with splits (#19390)
fix(powershell): filter ":!" commands with args #19268
Merge pull request #19167 from dundargoc/refactor/conversion
ci: test only a single macos version (#19418)
ci(windows): config and build before publish step (#19416)
perf(ui): avoid ui_flush() work in headless mode
perf(ui): eliminate spurious memory allocations for hl_attr_define event
perf(ui): unpack a single ui event at a time, instead of a "redraw" batch
fix(windows):exepath, stdpath return wrong slashes #19111
fix: add group in autocmd api #19412
fix(lua): double entries in :lua completion #19410
ci: refactor build.ps1 #19336
refactor(lsp): use autocmd api (#19407)
fix(lsp): move augroup define to if statement (#19406)
vim-patch:9.0.0055 (#19392)
feat(defaults): mouse=nvi  #19290
Merge #19309 from ii14/lsp_refactor_1
Merge pull request #19404 from zeertzjq/vim-8.2.0670
vim-patch:8.2.2427: can still switch windows for 'completefunc'
vim-patch:8.2.2426: allowing 'completefunc' to switch windows causes trouble
vim-patch:8.2.2424: some tests are known to cause an error with ASAN
vim-patch:8.2.1984: cannot use :vimgrep in omni completion
vim-patch:8.2.1294: Vim9: error when using vim9script in TextYankPost
vim-patch:8.2.0698: insert mode completion not fully tested
Merge pull request #19402 from zeertzjq/vim-8.2.0655
vim-patch:8.2.1040: not enough testing for movement commands
vim-patch:8.2.0655: search code not sufficiently tested
fix(api): fix nvim_parse_cmd interfere with printing line in Ex mode (#19400)
Merge pull request #19395 from jamessan/flaky-job-test
Merge pull request #19391 from zeertzjq/vim-8.2.0052
test(job_spec): accept alternate messages for "append environment" tests
vim-patch:8.2.2643: various code not covered by tests
vim-patch:8.2.2608: character input not fully tested
vim-patch:8.2.0198: no tests for y/n prompt
vim-patch:8.2.0052: more-prompt not properly tested
fix(ex_cmds): correct flags for :const (#19387)
vim-patch:8.2.0593: finding a user command is not optimal (#19386)
vim-patch:8.2.1061: insufficient testing for src/window.c (#19384)
fix(api): do not switch win/buf if getting option in current win/buf (#19383)
fix(pum): make right drag in anchor grid to select work in multigrid UI (#19382)
fix: remote UI may get invalid 'pumblend' value #19379
refactor: use `local api = vim.api`
fix: right-click in clickable statusline #19252
refactor: use npcall from vim.F
Merge #19324 ci: cleanup ci/ files
refactor(lsp): make the use of local aliases more consistent
feat(lsp): hide backticks in LSP docstrings #19377
feat(defaults): nnoremap & :&&<CR> #19365
Merge pull request #19376 from zeertzjq/vim-8.2.0535
vim-patch:8.2.0542: no test for E386
vim-patch:8.2.0535: regexp patterns not fully tested
test: improve searchhl tests
Merge pull request #19375 from zeertzjq/vim-8.2.0403
vim-patch:8.2.0403: when 'buftype' is "nofile" there is no overwrite check
vim-patch:8.1.1547: functionality of bt_nofile() is confusing
Merge pull request #19373 from zeertzjq/vim-8.2.0426
vim-patch:8.2.0426: some errors were not tested for
vim-patch:8.0.1118: FEAT_WINDOWS adds a lot of #ifdefs
Merge pull request #19369 from zeertzjq/vim-8.2.0482
vim-patch:8.2.0482: channel and sandbox code not sufficiently tested
vim-patch:8.2.0430: window creation failure not properly tested
Merge pull request #19348 from akinsho/bugfix/winbar-winhighlight
fix(winbar): make setting WinBar and WinBarNC in 'winhighlight' work
vim-patch:9.0.0052: "zG" may throw an error if invalid character follows (#19368)
fix(build): fails if git is missing #19366
Merge pull request #19364 from zeertzjq/vim-8.2.0921
vim-patch:8.2.0926: cmdline test fails on Appveyor
vim-patch:8.2.0921: CTRL-W T in cmdline window causes trouble
build(deps): bump LuaJIT to HEAD - 50936d784 (#19343)
fix(treesitter): don't error when node argument of predicate is nil (#19355)
Merge pull request #19353 from zeertzjq/vim-8.2.0369
vim-patch:8.2.0369: various Normal mode commands not fully tested
vim-patch:8.2.0347: various code not covered by tests
vim-patch:8.2.0342: some code in ex_getln.c not covered by tests
build(deps): bump tree-sitter to HEAD - 1f1b1eb45 (#19347)
build(deps): bump Luv to 1.44.2-0 (#19346)
build: gracefully handle error in git-version #19289
feat(eval)!: input() support any type for "cancelreturn" in a dict (#19357)
vim-patch:8.2.0969: assert_equal() output for dicts is hard to figure out (#19317)
fix(exmode): flush messages before printing a line after pressing Enter (#19341)
vim-patch:8.2.0035: saving and restoring called_emsg is clumsy (#19335)
build(deps): bump libuv to v1.44.2 (#19338)
Merge pull request #19334 from zeertzjq/vim-8.2.0275
vim-patch:8.2.5050: using freed memory when searching for pattern in path
vim-patch:8.2.0293: various Ex commands not sufficiently tested
vim-patch:8.2.0275: some Ex code not covered by tests
fix(lsp): account for initializing servers in vim.lsp.start (#19329)
Merge pull request #19332 from zeertzjq/vim-8.2.0270
vim-patch:8.2.2732: prompt for s///c in Ex mode can be wrong
vim-patch:8.2.0270: some code not covered by tests
fix(exmode): do not throttle messages when pressing enter to print line
Merge pull request #19330 from zeertzjq/vim-8.2.0203
vim-patch:8.2.0203: :helptags and some other functionality not tested
fix(cmdline): fix passing -1 as char
fix(lsp): don't attach a client in lsp.start() if there is none (#19328)
Merge pull request #19277 from zeertzjq/vim-8.1.1855
test(old): test_timers.vim call timer_stopall() in SetUp() instead
vim-patch:8.1.1867: still a timer test that is flaky on Mac
vim-patch:8.1.1864: still a timer test that is flaky on Mac
vim-patch:8.1.1859: timer test sometimes fails on Mac
vim-patch:8.1.1855: another failing timer test
Merge pull request #19320 from zeertzjq/vim-8.2.0212
vim-patch:8.2.0243: insufficient code coverage for ex_docmd.c functions
vim-patch:8.2.{0212,0250}
test(old): align defaults to Vim before each test instead
ci: remove unnecessary file ci/script.sh
ci: remove unnecessary file run_lint.sh
vim-patch:8.2.3363: when :edit reuses the current buffer the alternate file is set (#19306)
fix(lsp): abort pending changes after flush when debouncing (#19314)
feat(lsp): defaults: tagfunc, omnifunc (#19003)
Merge pull request #19305 from zeertzjq/vim-8.2.3530
Merge pull request #18774 from zeertzjq/float-height-width-fix
test(float_spec): make indent more consistent
fix(float): fix mouse drag position if float window turned to a split
fix(float): fix glitch when making float window with border a split
fix(float): fix float window with winbar cannot have screen height
fix(float): fix float window border drawing with winbar
fix(lsp): pcall nvim_del_augroup_by_name (#19302)
Merge pull request #19307 from zeertzjq/vim-8.2.1053
vim-patch:8.2.1053: insufficient testing for 'statusline' and 'tabline'
vim-patch:7.4.1724
fix(l10n): add folded line indicator translations from vim (#19286)
vim-patch:8.2.3531: command line completion test fails on MS-Windows
vim-patch:8.2.3530: ":buf \{a}" fails while ":edit \{a}" works
vim-patch:9.0.0049: csv and tsv files are not recognized (#19300)
Merge #19267 require() in --startuptime
test(old): align defaults to Vim after every test (#19301)
test: --startuptime
vim-patch:8.1.1038: Arabic support excludes Farsi (#19285)
feat(lua): measure require in --startuptime
refactor: remove functions marked for deprecation in 0.8 (#19299)
refactor(lua): replace vim.cmd use with API calls (#19283)
Merge pull request #19296 from zeertzjq/vim-8.2.2902
vim-patch:8.2.2917: spellfile functionality not fully tested
vim-patch:8.2.2902: spellfile functionality not fully tested
Merge pull request #19294 from zeertzjq/vim-8.2.0332
vim-patch:8.2.0396: cmdexpand.c insufficiently tested
vim-patch:8.2.0332: some code in ex_getln.c not covered by tests
Merge pull request #19284 from zeertzjq/vim-8.2.0274
vim-patch:8.2.0325: ex_getln.c code not covered by tests
vim-patch:8.2.0274: hang with combination of feedkeys(), Ex mode and :global
fix(tui): add fixups for hterm family #19078
Merge pull request #19278 from zeertzjq/vim-8.2.0132
test: add a test for what Vim patch 8.2.0151 fixes
vim-patch:8.2.0151: detecting a script was already sourced is unreliable
vim-patch:8.2.0136: stray ch_logfile() call
vim-patch:8.2.0132: script may be re-used when deleting and creating a new one
vim-patch:8.1.{1524,1544}: tests are silently skipped (#19276)
feat(runtime)!: enable filetype.lua by default (#19216)
refactor(lua): git-blame-ignore stylua update PR (#19273)
refactor(lua): reformat with stylua 0.14.0 (#19264)
feat(tui): try terminfo for [re]set_cursor_color OSC #19255
vim-patch:5ed11535e069 (#19256)
Merge pull request #19263 from zeertzjq/vim-8.2.3674
vim-patch:8.2.4399: crash after ml_get error
vim-patch:8.2.3674: when ml_get_buf() fails it messes up IObuff
Merge pull request #19180 from zeertzjq/tui-kitty-keypad
Merge pull request #19261 from zeertzjq/vim-8.2.5023
vim-patch:8.2.5044: command line test fails
vim-patch:8.2.5043: can open a cmdline window from a substitute expression
vim-patch:8.2.5023: substitute overwrites allocated buffer
vim-patch:8.2.5063: error for a command may go over the end of IObuff (#19260)
vim-patch:8.2.0614: get ml_get error when deleting a line in 'completefunc' (#19244)
Merge pull request #19218 from smjonas/fix_ft_patterns
fix(filetype): remove call to vim.fn.resolve and pass filename to match function
fix(filetype): fix filetype patterns
Merge pull request #19247 from zeertzjq/vim-8.2.4165
fix(normal): fix segfault with bracket command jumping to a mark
vim-patch:8.2.4221: some functions in normal.c are very long
vim-patch:8.2.4165: the nv_g_cmd() function is too long
vim-patch:7.4.212
feat: add 'mousescroll' option (#12355)
fix(mark): fix unexpected cursor movements (#19253)
Merge pull request #19242 from smjonas/vim-9.0.0042
vim-patch:8.2.5162: reading before the start of the line with BS in Replace mode (#19241)
vim-patch:9.0.0042: missing change for filetype detection
vim-patch:9.0.0041: a couple of filetype patterns do not have "*" before "/etc"
Merge pull request #19223 from lewis6991/ghaction
vim-patch:8.0.1562: the terminal debugger can't set a breakpoint with the mouse (#19234)
Merge pull request #19232 from zeertzjq/vim-8.2.2904
vim-patch:8.2.3990: testing wrong operator
vim-patch:8.2.3980: if 'operatorfunc' invokes an operator Visual mode is changed
vim-patch:8.2.3644: count for 'operatorfunc' in Visual mode is not redone
vim-patch:8.2.2904: "g$" causes scroll if half a double width char is visible
fix(terminal): crash if TermClose deletes own buffer #19222
Merge pull request #19231 from zeertzjq/vim-8.2.3615
vim-patch:8.2.5122: lisp indenting my run over the end of the line
vim-patch:8.2.3754: undesired changing of the indent of the first formatted line
vim-patch:8.2.3615: wrong indent in first line if re-formatting with indent expr
Merge pull request #19229 from zeertzjq/vim-8.2.0363
vim-patch:8.2.0416: test leaves file behind
vim-patch:8.2.0363: some Normal mode commands not tested
test(old): use Q -> gQ mapping instead of changing test when possible
vim-patch:9.0.0035: spell dump may go beyond end of an array (#19228)
fix(mark): mark without a view restores at topline #19224
fix(tui): resize at startup #17795
test: add tests for keypad keys from kitty keyboard protocol
build: add github action annotations for clint
feat(tui): recognize keypad keys when using kitty keyboard protocol
Merge pull request #19221 from zeertzjq/vim-8.2.1808
vim-patch:9.0.0034: spell tests do not always clear the word list
vim-patch:8.2.5098: spelldump test sometimes hangs
vim-patch:8.2.1808: no test coverage for ":spelldump!"
refactor: remove unnecessary volatile #19210
Merge pull request #19220 from zeertzjq/vim-8.2.1470
vim-patch:8.2.5074: spell test fails on MS-Windows
vim-patch:8.2.5072: using uninitialized value and freed memory in spell command
vim-patch:8.2.1770: invalid memory use when using SpellFileMissing autocmd
vim-patch:8.2.1523: still not enough test coverage for the spell file handling
vim-patch:8.2.1522: not enough test coverage for the spell file handling
vim-patch:8.2.1493: not enough test coverage for the spell file handling
vim-patch:8.2.1470: errors in spell file not tested
refactor(runtime): port scripts.vim to lua (#18710)
vim-patch:9.0.0031: <mods> of user command does not have correct verbose value (#19215)
Merge pull request #19212 from zeertzjq/vim-9.0.0024
vim-patch:9.0.0030: matchfuzzy test depends on path of current directory
vim-patch:9.0.0024: may access part of typeahead buf that isn't filled
build: drop -Wsuggest #19177
Merge pull request #19205 from bfredl/luaerr
Merge pull request #19203 from zeertzjq/api-cmd-unsilent
feat(api): add `unsilent` to command APIs
vim-patch:8.2.1900: Vim9: command modifiers do not work
fix(lua): don't leak memory on error
fix(coverity): 353827 unnecessary null check #19209
fix(jobs): deadlock in channel.c:exit_event #19082
Merge pull request #19137 from dundargoc/refactor/char_u-to-char
refactor: replace char_u
refactor(fold): style #19175
vim-patch:0d878b95d8f9 (#19197)
Merge pull request #19202 from zeertzjq/vim-8.2.0316
vim-patch:8.2.0316: ex_getln.c code has insufficient test coverage
vim-patch:8.2.0261: some code not covered by tests
Merge pull request #19199 from zeertzjq/vim-9.0.0017
fix(mark): set mark fnum from buffer (#19195)
vim-patch:9.0.0022: spell test fails
vim-patch:9.0.0021: invalid memory access when adding word to spell word list
vim-patch:9.0.0017: accessing memory beyond the end of the line
build: move lint target to cmake #19169
vim-patch:9.0.0015: with EXITFREE defined terminal menus are not cleared (#19187)
version.c: update [skip ci] #19179
vim-patch:9.0.0012: signature files not detected properly (#19172)
Merge pull request #19178 from zeertzjq/vim-8.2.0049
test(old): reorder test_cmdline.vim to match upstream
vim-patch:8.2.0049: command line completion not fully tested
Merge pull request #19170 from zeertzjq/vim-8.0.1558
feat(ui): make right-click menu work properly with ext_multigrid
vim-patch:8.1.1274: after :unmenu can still execute the menu with :emenu
vim-patch:8.1.0695: internal error when using :popup
vim-patch:8.1.0487: no menus specifically for the terminal window
vim-patch:8.0.1588: popup menu hangs after typing CTRL-C
vim-patch:8.0.1574: show cursor in wrong place when using popup menu
vim-patch:8.0.1570: can't use :popup for a menu in the terminal
vim-patch:8.0.1558: no right-click menu in a terminal
cmdheight=0: fix bugs #18961
fix(filetype): update call sites of vim.filetype.match (#19171)
feat(marks): restore viewport on jump #15831
refactor: enable -Wconversion warning for memline.c
refactor(uncrustify): change config to better align with style guide (#18803)
vim-patch:9.0.0011: reading beyond the end of the line with put command (#19166)
feat(build): add_glob_target runs only on changed files #19070
feat: stdpath('run'), /tmp/nvim.user/ #18993
vim-patch:9.0.0001: Travis CI is no longer used #19163
Merge pull request #19134 from dundargoc/refactor/conversion
refactor(highlight)!: rename attributes to match Vim (#19159)
refactor: enable -Wconversion warning for fileio.c
fix(lsp): small bugs in snippet-parser #18998
vim-patch:9.0.0006: not all Visual Basic files are recognized (#19153)
vim-patch:9.0.0005: hare files are not recognized (#19151)
vim-patch:8.2.4378: incsearch HL broken when calling searchcount in 'tabLine' (#19147)
vim-patch:9.0.0002: map functionality outside of map.c (#19150)
Merge pull request #19133 from famiu/feat/api/cmd_support_filter
Merge #19139 build(cmake): fix static libintl on macOS
feat: update unicode tables #19135
Merge pull request #19141 from bfredl/mapchar
refactor(aucmd): call define_autocmd() directly for default autocmds
refactor(map): simplify add_map params
ci(release): link `gettext` include directory
build(cmake): fix static `libintl` test on macOS
Merge #19120 build: rename build-related dirs
feat(api): make `nvim_parse_cmd` and `nvim_cmd` support :filter
fix(coverity): redundant assert #19059
build: move unicode/ to src/unicode/
build: rename build-related dirs
refactor(ci): cleanup release.yml #19132
Merge #19060 memory leaks
fix(vim.ui.input): accept nil or empty "opts"  #19109
refactor: replace char_u #18429
fix(inccommand): parse the command to check if it is previewable
vim-patch:069a7d561bbe (#19130)
fix(filetype): check for non-nil match in detect.rules (#19129)
Merge pull request #19122 from dundargoc/refactor/conversion
refactor: enable -Wconversion warning for message.c
vim-patch:partial:8a3b805c6c9c (#19104)
Merge pull request #19077 from dundargoc/refactor/conversion
refactor(filetype): allow vim.filetype.match to accept buf and filename (#19114)
build: move man/ to src/man/ #19119
fix(api): change default value of 'pattern' in nvim_exec_autocmds (#19115)
fix(api): nvim_parse_cmd check for ambiguous user command (#19116)
test: use "python3" to avoid skipped test #19106
fix(coverity/348300): free memory when overiding sing attribute
Merge pull request #18716 from zeertzjq/vim-8.2.5007
fix(spell): make setting 'encoding' clear word list
vim-patch:8.2.5123: using invalid index when looking for spell suggestions
vim-patch:8.2.5007: spell suggestion may use uninitialized memory
vim-patch:8.2.3484: crash when going through spell suggestions
Merge pull request #19091 from clason/do-aucmd-pats
refactor(filetype)!: allow vim.filetype.match to use different strategies (#18895)
refactor(api): use FOREACH_ITEM macro in autocmd
docs(release): suggest "xattr" for macos release #19100
feat(api): support pattern array for exec_autocmds
build: guard free_locales with HAVE_WORKING_LIBINTL #19095
revert: "oldtests: use expand() to fix pathsep" (#19073)
vim-patch:e1dc76fbf333 (#19092)
Merge pull request #19090 from bfredl/luaprg
fix(build): don't disable byte precompilation on debug builds
Merge pull request #16271 from 3N4N/fix-15913
refactor(tests): introduce testprg()
fix: make_filter_cmd for :! powershell #15913
refactor: enable -Wconversion warning for ex_cmds.c
fix(build): strip trailing newline from variable (#19084)
vim-patch:8.2.5022: 'completefunc'/'omnifunc' error does not end completion (#19083)
Merge pull request #19029 from carlocab/macos-universal
build(gen_vimdoc): remove needless list creation and unused variable (#19079)
Merge pull request #19041 from lewis6991/globallocal
fix(filetype.lua): always return a string in getlines function (#19080)
ci(release): build a universal binary on macOS
build(deps): support universal builds on macOS
build(luajit): support universal builds on macOS
Merge pull request #19071 from bfredl/minimap
vim-patch:a57b553b4328 (#19076)
refactor(map): statically initialize maphash array
refactor(map): simplify free_all_mem handling
perf(map): avoid extraneous heap allocations when setting mappings
perf(map): visit only one hash bucket instead of all, like an actual hash table
fix(coverity/348313): don't exit too early in runtime_default
fix(coverity/352829): correctly free memory in f_call
Merge pull request #19072 from zeertzjq/vim-8.2.4628
vim-patch:8.2.5146: memory leak when substitute expression nests
vim-patch:8.2.4977: memory access error when substitute expression changes window
vim-patch:8.2.4895: buffer overflow with invalid command with composing chars
vim-patch:8.2.4628: not enough testing for 2/3 letter substitute commands
fix(tests): remove misleading $TEST_PATH segment #19050
vim-patch:8cc5b559f700 (#19066)
fix(api): check for inclusive buffer line index out of bounds correctly (#19056)
refactor: move some mapping-related code to a separate file (#19061)
Merge pull request #19058 from bfredl/miniopt
vim-patch:8.2.5152: search() gets stuck with "c" and skip evaluates to true (#19064)
Merge pull request #19020 from echasnovski/screenchar-float
perf(highlight): use binary search to lookup RGB color names
fix(float): make `screen*()` functions respect floating windows
vim-patch:8.2.2068: transparent syntax item uses start/end of containing region (#19055)
Merge pull request #19054 from zeertzjq/vim-8.2.5150
vim-patch:8.2.5151: reading beyond the end of the line with lisp indenting
vim-patch:8.2.5150: read past the end of the first line with ":0;'{"
fix(input): use correct grid when restoring cursor for <expr> mapping (#19047)
fix(api): check error after getting win/buf handle (#19052)
fix(build): only pass -municode if MINGW #19049
fix(api): nvim_set_option_value for global-local options
Merge pull request #19039 from bfredl/multicolor
vim-patch:8.2.5132: :mkview test doesn't test much (#19045)
refactor(option): DRY get/set option value #19038
Merge pull request #19043 from dundargoc/cmake
build(cmake): use glob_wrapper instead of file(GLOB in main CMakeLists
refactor(runtime): refactor filetype.lua (#18813)
perf(ui): remove spurious allocations from mode_style_array()
perf(highlight): allocate permanent names in an arena for fun and cache locality
refactor: remove atrocious HL_TABLE()[idx] syntax before I poke my eyes out
refactor(highlight): get rid of syn_unadd_group()
perf(highlight): don't allocate duplicates for color names
perf(highlight): get rid of local memory allocations for "{key}={arg}"
docs(deprecated): alternatives for $NVIM_LISTEN_ADDRESS
Merge pull request #18743 from gpanders/bowooptvalue
Merge pull request #19030 from zeertzjq/vim-8.2.5138
vim-patch:d799daa660b8 (#19031)
refactor: use nvim_{get,set}_option_value for vim.{b,w}o
feat(api): add "buf" and "win" to nvim_get_option_value
refactor(provider): use list comprehension #19027
Merge pull request #18988 from bfredl/uipack
vim-patch:8.2.5138: various small issues
perf(ui): reduce allocation overhead when encoding "redraw" events
Merge #19015 delete cmake code
fix(decorations): nvim_buf_set_extmark breaks conceal #19010
build: remove FindLua.cmake since it's already built into cmake
build(cmake): simplify def_cmd_target function
build(cmake): simplify and speed up the uninstall target
build(cmake): remove unnecessary globbing with file
build(cmake): remove unnecessary *-prereqs targets
fix(tui): piping nodejs to nvim breaks input handling #18932
ci(release): skip CoreServices system library on macOS (#19021)
fix(ci): noisy logs, unreliable test #19019
build(lint): set some linters as non-fatal #19018
fix(terminal): coverity USE_AFTER_FREE #18978
fix(logging): try harder to resolve Nvim "name" #19016
fix(highlight): use ctermbg/fg instead of bg/fg when use_rgb=false #18982
Merge pull request #19011 from zeertzjq/vim-8.2.5120
vim-patch:8.2.5121: interrupt test sometimes fails
vim-patch:8.2.5120: searching for quotes may go over the end of the line
vim-patch:8.2.5116: "limit" option of matchfuzzy() not always respected (#19005)
vim-patch:d592deb33652 (#19002)
fix(hl): return cterm fg/bg even if they match Normal #18981
test(treesitter): add benchmark #18989
docs: improve 'insertmode' emulation #18962
Merge #8519 feat: name, test ids, sockets in stdpath(state)
Merge pull request #18760 from kevinhwang91/fix-treesitter-fold
fix(treesitter): new iter if folded
vim-patch:8.2.5110: icon filetype not recognized from the first line (#18987)
fix(lua): clear got_int when calling vim.on_key() callback (#18979)
fix(lua): highlight.on_yank can close timer in twice #18976
feat(server): instance "name", store pipes in stdpath(state)
test(report): formatting, drop dumplog()
feat(logging): include test-id in log messages
refactor(log): use msg_schedule_semsg #18950
vim-patch:8.2.5097: using uninitialized memory when using 'listchars' (#18974)
fix(ui): do not call showmode() when setting window height (#18969)
vim-patch:8c1b8cb2e0b5 (#18966)
test: correct check for v:errmsg in inccommand test (#18968)
docs: fix typos (#18866)
Merge pull request #18947 from zeertzjq/vim-8.2.1897
Merge pull request #18880 from bfredl/arena
vim-patch:8.2.5088: value of cmod_verbose is a bit complicated to use
vim-patch:8.2.1898: command modifier parsing always uses global cmdmod
refactor(api): remove redundant fields of CmdParseInfo
vim-patch:8.2.1897: command modifiers are saved and set inconsistently
refactor: enable -Wconversion warning for eval.c (#18448)
perf(memory): use an arena for RPC decoding
vim-patch:6ba83ba9ee29 (#18948)
fix(inccommand): never preview if parsing command failed (#18944)
feat(lsp): sort codelens if multiple item per line (#18951)
vim-patch:8.2.0577: not all modifiers supported for :options (#18952)
fix(tests): missing clear() #18927
feat: cmdheight=0 #16251
Merge pull request #18902 from bfredl/fulexit
Merge pull request #18934 from zeertzjq/vim-8.2.5079
fix(tests): check for EOF on exit of nvim properly
vim-patch:8.2.5083: autocmd test still fails on MS-Windows
vim-patch:8.2.5081: autocmd test fails on MS-Windows
vim-patch:8.2.5079: DirChanged autocommand may use freed memory
build(lint): fix lintuncrustify #18945
test: dismiss quit_more from Lua #11226
Merge pull request #18931 from zeertzjq/regexp-num-escaped
build: remove CMAKE_CROSSCOMPILING code #18914
build(lint): fix luacheck not found #18940
fix(buffer): disable buffer-updates before removing from window #18933
Merge pull request #18936 from bfredl/apioption
fix(inccommand): skip split window if not enough room #18937
feat(contrib): asan debugging script #18892
refactor(api): update vimdoc
refactor(api): move command related API to separate file
refactor(api): move extmark specific functions to api/extmark.c
refactor(api): move option code to own file
vim-patch:8.2.5078: substitute test has a one second delay
fix(substitute): subtract number of backslashes later
Merge pull request #18919 from bfredl/multiattr
fix(messages): add color when showing nvim_echo in :messages history
Merge pull request #18428 from bfredl/do_source
feat(api): nvim__get_runtime do_source
fix(inccommand): clear cmdpreview state if preview is not shown (#18923)
vim-patch:8.2.5076: unnecessary code (#18922)
Merge pull request #18461 from dundargoc/refactor/change-linenr-to-int32
refactor: change type of linenr_T from long to int32_t
fix(input): fix macro recording with ALT and special key (#18917)
vim-patch:partial:63f32603789d (#18916)
feat(filetype): remove side effects from vim.filetype.match (#18894)
refactor(ops): doxygen docstrings #17743
build: add a cmake target for all used linters #18543
fix(tests): unreliable parser_spec #18911
fix: segfault in find_tagfunc_tags #18841
fix: correct nlua_wait error message #18867
Merge pull request #18908 from zeertzjq/vim-8.2.5066
vim-patch:8.2.5070: unnecessary code
vim-patch:8.2.5066: lcs-leadmultispace
feat(autocmds): retrieve lua callback (#18642)
Merge pull request #18904 from jamessan/no-parser-ci
test: allow running CI without ts parsers installed
ci: run tests with no treesitter parsers installed
Merge pull request #18903 from jamessan/skip-test-parsers
fix(terminal): scrollback delete lines immediately #18832
Merge pull request #18788 from dundargoc/ci/api-docs/color
test(ts): skip test if C parser is not available
fix(diagnostic): check for negative column value (#18868)
refactor(log): simplify log_path_init #18898
Merge pull request #18896 from famiu/fix/nvim_create_user_command/smods
fix(nvim_create_user_command): make `smods` work with `nvim_cmd`
fix(eval/f_getmatches): return empty list for invalid win argument (#18893)
Merge pull request #18870 from zbirenbaum/winhl-cursor
vim-patch:partial:016188fd8a30 (#18890)
fix(highlight): let winhighlight use cursor
fix(input): allow Ctrl-C to interrupt a recursive mapping even if mapped (#18885)
vim-patch:8.2.5064: no test for what 8.1.0052 fixes (#18881)
refactor(runtime): port remaining patterns from filetype.vim to filetype.lua (#18814)
docs: documenting struct members inline #18783
vim-patch:8.2.5058: input() does not handle composing characters properly (#18872)
fix(lsp): fix multi client handling in code action (#18869)
fix(terminfo): disable smglr for vtpcon and conemu (#18855)
Merge pull request #18864 from bfredl/optcut
perf(tests): don't invoke nvim_get_all_options_info until needed
docs: specify CMAKE_BUILD_TYPE=RelWithDebInfo in README (#18859)
Merge pull request #18861 from bfredl/norplugin
fix(startup): nvim with --clean should not load user rplugins
vim-patch:partial:cfa8f9a3f285 (#18858)
fix(lsp): set buflisted before switching to buffer (#18854)
vim-patch:8.2.5054: no good filetype for conf files similar to dosini (#18851)
docs: fix typos (#18269)
fix(filetype): fix typo in starsetf function (#18856)
feat(lsp): send didChangeConfiguration after init (#18847)
fix(hl): set Normal hl group sg_attr value #18820
ci: use python3 explicitly to fix macos warnings #18837
Merge pull request #18848 from bfredl/backevenagain
fix(log): back even again
Merge pull request #18846 from bfredl/unpackfix
feat(lsp): add a start function (#18631)
Merge pull request #18845 from bfredl/threadlog
fix(api): some robustness issues in api_parse_enter
fix(logging): make logmsg() thread-safe again
Merge pull request #18730 from bfredl/apiconvert
fix(treesitter): correct region for string parser (#18794)
refactor(api): use a unpacker based on libmpack instead of msgpack-c
build(deps): bump Luv to HEAD - 9f8038633 (#18834)
fix(lua): stop pending highlight.on_yank timer, if any (#18824)
Merge pull request #18831 from dundargoc/ci/disable-perl-macos
ci(provider): skip installing perl provider on macOS
fix(inccommand): avoid crash if callback changes inccommand option (#18830)
fix(lsp): adjust offset encoding in lsp.buf.rename() (#18829)
fix(screen): restart win_update() if a decor provider changes signcols (#18768)
refactor(clang-tidy): remove nested redundant ifdefs #18811
fix(checkhealth): skip vim.health #18816
refactor: correct comments and assertions about mapping rhs <Nop> (#18821)
fix(inccommand): do not try to preview an ambiguous command (#18827)
Merge pull request #18583 from gpanders/path-root
feat(fs): add vim.fs.normalize()
feat(fs): add vim.fs.find()
feat(fs): add vim.fs.dir()
feat(fs): add vim.fs.basename()
feat(fs): add vim.fs.dirname()
feat(fs): add vim.fs.parents()
refactor(checkhealth)!: rename to vim.health, move logic to Lua #18720
Merge pull request #18194 from famiu/feat/usercmd_preview
feat: add preview functionality to user commands
Merge pull request #18219 from kessejones/filetype-lua
vim-patch:8.2.5046: vim_regsub() can overwrite the destination (#18812)
fix(lsp): include cancellable in progress message table (#18809)
build(deps): bump Luv to HEAD - 02d703b42 (#18808)
docs(dev-style): remove rules covered by uncrustify #18767
feat(filetype): convert more patterns to filetype.lua
test(oldtest): disable legacy detect for filetype.lua
docs: clarify that nvim_strwidth counts control characters as one cell (#18802)
fix(docs): correct obsolete note about 'writedelay' in dev docs
fix(logging): skip recursion, fix crash #18764
Merge pull request #18798 from bfredl/doublehash
docs(clang-format): one space in directives indent (#18800)
refactor(api): use hashy hash for looking up api method and event names
Merge pull request #18789 from dundargoc/ci/api-docs/run-in-drafts
Merge pull request #18792 from famiu/feat/nvim_create_user_command/smods
test: add tests for inccommand with c_CTRL-R_= and c_CTRL-\_e (#18796)
fix(winbar): set w_winrow_off when initializing firstwin size (#18793)
test(job_spec): remove Xtest_jobstart_env log file
feat(nvim_create_user_command): pass structured modifiers to commands
ci(uncrustify): show diff on failure #18780
vim-patch:8.2.5037: cursor position may be invalid after "0;" range (#18782)
ci(api-docs): run in drafts as well
ci(api-docs): show required changes with color
Merge pull request #18786 from jamessan/latest-ci
ci: use ubuntu-latest for vim-patches and coverity-scan
test: fixeol cleanup created files #18785
fix(vim-patch.sh)
fix(treesitter): offset directive associates range with capture (#18276)
refactor(regexp_nfa.c): match where Vim calls fopen() (#18778)
Merge pull request #18776 from famiu/fix/winbar_noroom
fix(winbar): only allow adding winbar when there is space
docs(options): move all removed options to vim_diff.txt (#18770)
fix(winbar): fix winbar disappear or glitch when moving a split (#18775)
test(unit): use setup()/teardown() in buffer_spec.lua (#18739)
fix(ui): require window-local value to show winbar on floating windows (#18773)
vim-patch:8.2.5024: using freed memory with "]d" (#18762)
Merge pull request #18306 from lewis6991/fnfast
Merge pull request #17742 from dundargoc/doxygen/normal
feat(lsp): turn rename filter into a predicate (#18745)
refactor(normal): convert function comments to doxygen format
refactor: missing parenthesis may cause unexpected problems (#17443)
Merge pull request #18738 from zeertzjq/vim-8.2.5010
vim-patch:8.2.5015: Hoon and Moonscript files are not recognized (#18747)
vim-patch:8.2.5010: the terminal debugger uses various global variables
docs: add missing termdebug docs from Vim runtime updates
Merge pull request #18748 from dundargoc/ci/msvc
vim-patch:8.2.5016: access before start of text with a put command (#18742)
ci(mingw): only enable -municode for MinGW
refactor(uncrustify): set maximum number of consecutive newlines to 2 (#18695)
refactor(lsp): remove redundant client cleanup (#18744)
feat(lsp)!: turn format filter into predicate (#18458)
fix(lsp): respect global syntax setting in open float preview (#15225)
Merge pull request #18528 from lewis6991/setwinopt
build: require exact Lua version when using PREFER_LUA (#16633)
vim-patch:8.2.5012: cannot select one character inside () (#18731)
fix(coverity): bail out if mouse_find_win() returns NULL (#18726)
docs(api): floating wins omitted under :mksession (#18721)
Merge pull request #18728 from dundargoc/ci/api/upgrade-to-ubuntu-22
Merge pull request #18626 from dundargoc/ci/shallow-clone
Merge pull request #18607 from dundargoc/build/mingw
ci(api-docs): add comment explaining why full clone is required
ci(api-docs): upgrade to ubuntu 22 and remove conda dependency
vim-patch:8.2.4999: filetype test table is not properly sorted (#18719)
fix(filetype): correct vim.fn.did_filetype() handling (#18725)
vim-patch:partial 2d8ed0203aed (#18675)
vim-patch:8.2.5009: fold may not be closeable after appending (#18722)
Merge pull request #18712 from famiu/feat/ui/winbar_redraw
fix(ui): redraw winbar alongside statusline
vim-patch:8.2.5008: when 'formatoptions' contains "/" wrongly wrapping comment (#18717)
feat: click support for 'statusline', 'winbar' #18650
refactor!: delete insertmode (#18547)
Merge pull request #18691 from zeertzjq/vim-8.2.4996
vim-patch:8.2.5001: checking translations affects the search pattern history (#18709)
vim-patch:8.2.5002: deletebufline() may change Visual selection
vim-patch:8.2.4996: setbufline() may change Visual selection
fix(lsp): do not detach LSP servers on Windows #18703
refactor(runtime): convert the remaining dist#ft functions to lua (#18623)
build(clint): remove redundant checks #18698
Merge pull request #18646 from bfredl/winbarruler
fix(cid/352839): USE_AFTER_FREE in create_user_command #18669
Merge pull request #18608 from ckipp01/extmarkDocs
fix(winbar): allow winbar to display the ruler
fix(mksession): don't store floats in session #18635
Merge pull request #18696 from bfredl/quickinc
ci(commitlint): only trigger on PRs to master #18679
Merge pull request #18693 from bfredl/quicklsp
fix(tests): fix some issues with ui/inccommand_spec.lua causing slowness
vim-patch:8.2.4935: with 'foldmethod' "indent" some lines not included in fold (#18694)
fix(folds): fix fold regression with :move (#18685)
Merge pull request #18681 from bfredl/uitest
fix(ci): remove 2000ms blocking wait in many plugin/lsp_spec.lua tests
docs: remove "Vi default" #18672
vim-patch:8.2.4993: smart/C/lisp indenting is optional (#18684)
vim-patch:8.2.4987: after deletion a small fold may be closable (#18683)
Merge pull request #18682 from zeertzjq/vim-8.1.0535
vim-patch:8.2.4991: no test for hwat patch 8.1.0535 fixes
vim-patch:8.1.0535: increment/decrement might get interrupted by updating folds
Merge pull request #13729 from devbhansingh/ui_enter_prompt
feat(ui): clear message history explicitly with msg_history_clear event
fix(tests): fix some screen.lua warnings
ci: fix lint errors caused by missing includes (#18673)
fix(autocmds): separate command from desc (#18617)
refactor: add warnings for deprecated functions (#18662)
ci: bump github actions versions #18616
build(clint.py): remove rules for includes, whitespace, tabs #18611
ci: lint with uncrustify #18563
refactor: remove unused USE_WCHAR_FUNCTIONS #18618
fix(unittests): coredump when running unit tests #18663
Merge pull request #18648 from jamessan/coverity-fixes
Merge pull request #18664 from famiu/fix/winbar_crash
build(deps): bump LuaJIT to HEAD - 4ef96cff8 (#18656)
fix: prevent crash when statusline expression sets value of 'winbar'
Merge pull request #18653 from dundargoc/refactor/move-reverse-text
Merge pull request #18657 from dundargoc/vim-8.2.4985
refactor: move reverse_text to strings.c as it's a string operation
vim-patch:8.2.4985: PVS warns for possible array underrun
Merge pull request #18641 from famiu/fix/nvim_cmd/keymap_error_suppress
ci(coverity): run every day instead of once/week
perf(cid/350479): avoid copying ExtmarkInfo when calling extmark_to_array()
fix(cid/352782): assert str->items is non-NULL to hint static analyzers
fix(cid/348314): free user_copy, not user
fix(cid/351940): free compl_arg in create_user_commands()'s error path exit
ci(coverity): annotate register_cfunc as leaking memory
ci(coverity): model our allocation functions
fix(lsp): only send diagnostics from current buffer in code_action() (#18639)
vim-patch:8.2.4980: when 'shortmess' contains 'A' loading session may still warn (#18636)
Merge pull request #18629 from famiu/fix/ui/winbar
Merge pull request #18638 from zeertzjq/fix-winbar-mouse
fix: make `nvim_cmd` not suppress errors inside key mapping
fix(ui): make `winbar` properly equalize window heights for local value
fix(mouse): fix mouse drag position with winbar or border in multigrid
fix(mouse): fix mouse drag position with winbar
Merge pull request #18502 from drybalka/fix-languagetree-contains-description
test(mksession_spec): only sleep on Windows (#18637)
vim-patch:8.2.4979: accessing freed memory when line is flushed (#18634)
Merge pull request #18630 from dundargoc/refactor/remove-remap
fix(termopen): avoid ambiguity in URI when CWD is root dir (#16988)
refactor!: remove 'terse' option
refactor!: remove 'remap' option
docs(extmark): remove message about passing in id=0
Merge pull request #18620 from bfredl/multibar
feat(lsp): option to reuse_win for jump actions (#18577)
refactor(events): remove unnecessary fudging of updating_screen
fix(ui): make winbar work with floats and multigrid
refactor: move more grid functions to grid.c. Clean up some variables
Merge pull request #18507 from gpanders/au-lsp-attached
Merge pull request #18624 from famiu/feat/ui/winbar
refactor: simple logic in tree_contains()
docs: correct description of LanguageTree:contains()
feat(lsp): add filter to vim.lsp.get_active_clients()
feat(lsp): add LspAttach and LspDetach autocommands
feat(api): enable nvim_exec_autocmds to pass arbitrary data (#18613)
fix(ui): set correct position on mouse click when 'winbar' is enabled
Merge pull request #18562 from famiu/feat/ui/winbar
refactor: grid->rows and grid->cols
build(deps): bump libuv to HEAD - 730e07e2f (#18606)
test: fix mksession terminal CWD test again (#18615)
test: unskip tests on Windows (#18600)
feat(ui): add `'winbar'`
Merge #18605 PVS fixes
vim-patch:8.2.4975: recursive command line loop may cause a crash (#18614)
fix(PVS/V1044): suppress warning
fix(PVS/V568): correct placement of ignore directive
fix(PVS/V547): "expression is always false"
fix(PVS/V1028): prevent potential overflow
fix(health): handle non-existent log file #18610
refactor(runtime): convert more dist#ft functions to lua (#18430)
Merge pull request #18554 from kevinhwang91/perf-timerstart
revert: "ci: remove mingw job #18580"
feat(api): add win and buf to nvim_set_option_value
fixup: update test/functional/lua/vim_spec.lua
fix(terminal): do not trim whitespace that is actually in the terminal (#16423)
fix(health): correct shada file path #18603
feat(lintcommit): remove "chore", add "dist" #18594
docs(api): update v:errmsg behavior #18593
feat(lua): allow some viml functions to run in fast
Merge pull request #18598 from zeertzjq/vim-8.2.4968
vim-patch:8.2.4969: changing text in Visual mode may cause invalid memory access
vim-patch:8.2.4968: reading past end of the line when C-indenting
vim-patch:8.2.4121: Visual test fails on MS-Windows
docs: vim.regex is case sensitive by default (#18595)
Merge pull request #18578 from dundargoc/refactor/remove-char_u
feat(man.vim): list command flags in "gO" outline #17558
refactor: replace char_u variables and functions with char
fix(version.c): mark N/A vim patches #18587
ci(coverity): correct cron job time #18590
feat(lua): add traceback to vim.deprecate #18575
feat(terminfo): bump built-in terminfo entries (#18570)
ci: remove mingw job #18580
ci(clint): remove checks for whitespace after comma/semicolon (#18584)
docs(api): nvim_set_hl attributes #18558
fix(api): nvim_eval_statusline should validate input #18347
ci(clint): remove clint.py line length check #18574
Merge pull request #18581 from famiu/refactor/ui/vertsplit
refactor(ui)!: link `VertSplit` to `Normal` by default
ci: enable tests on drafts as well #18566
fix PVS warnings (#18459)
build: enable EXITFREE on Debug builds (#17783)
build(gen_vimdoc): eliminate non-constant global variables (#17781)
docs(nvim_set_keymap): specify that optional arguments defaults to false (#18177)
vim-patch:partial: 30ab04e16e1e (#18568)
refactor(uncrustify): enable formatting for regexp and indent files (#18549)
Merge pull request #18537 from dundargoc/ci/clint
ci(clint): remove check for include order
ci(clint): fix all pyright warnings
Merge pull request #18567 from zeertzjq/vim-8.2.4951
vim-patch:8.2.4953: with 'si' inserting '}' after completion goes wrong
vim-patch:8.2.4951: smart indenting done when not enabled
Merge pull request #18542 from famiu/feat/api/nvim_cmd/kvec_t
refactor(api/nvim_cmd): use `kvec_t` for constructing cmdline string
build(nvim.desktop): central Kurdish translation #17065
fix(man.vim): q in "$MANPAGER mode" does not quit #18443
vim-patch:partial:3f32a5f1601a (#18555)
vim-patch:8.2.2797: Search highlight disappears in the Visual area (#17947)
ci(commitlint): ignore "fixup" commits #18556
perf(_editor): no need to stop inside vim.defer_fn
revert: "feat(mappings): do not simplify the rhs of a mapping" (#18553)
feat(defaults): search selection by * and # in visual mode (#18538)
ci: remove remnants of gperf #18550
fix(windows): stdpath("state") => "nvim-data" #18546
vim-patch:8.2.4943: changing 'switchbuf' may have no effect (#18545)
Merge pull request #18489 from dundargoc/refactor/remove-char_u
Merge pull request #18544 from bfredl/hashyhash
refactor(eval): use Hashy McHashFace instead of gperf
fix(lsp): perform client side filtering of code actions (#18392)
Merge pull request #18540 from zeertzjq/vim-8.2.4919
chore(editorconfig): remove "charset" (#18541)
vim-patch:8.2.4941: '[ and '] marks may be wrong after undo (#18539)
vim-patch:8.2.4921: spell test fails because of new illegal byte check
vim-patch:8.2.4919: can add invalid bytes with :spellgood
fix(cmd): make :-tabmove work with modifiers (#18447)
feat(defaults): session data in $XDG_STATE_HOME #15583
build(lua2dox): add parenthesis around parameter types in documentation (#18532)
feat(lua): vim.cmd() with kwargs acts like nvim_cmd() #18523
fix(terminal): invalid pointer comparison #18453
refactor: rename keymap.{c,h} to keycodes.{c,h} (#18535)
ci(bsd): conditional runs for faster builds #18439
fix(runtime/genvimvim): omit s[ubstitute] from vimCommand #18480
docs: nvim_buf_[get|set]_[text|lines] (#18404)
docs(api): how to check if window is floating #18503
refactor: replace char_u variables and functions with char
fix(api): make `nvim_cmd` work correctly with empty arguments list (#18527)
docs(api): improve shared lua functions docs (#17933)
vim-patch:8.2.4939: matchfuzzypos() with "matchseq" does not have all positions (#18525)
Merge pull request #18522 from zeertzjq/vim-8.2.4901
vim-patch:8.2.4938: crash when matching buffer with invalid pattern
vim-patch:8.2.4901: NULL pointer access when using invalid pattern
Merge pull request #18366 from famiu/feat/api/nvim_cmd
chore: git-blame-ignore stylua format PR (#18516)
feat(api): add `nvim_cmd`
build(deps): bump Luv to HEAD - c51e7052e (#18510)
Merge pull request #18487 from clason/stylua
vim-patch:921bde888046 (#18511)
Merge pull request #18509 from zeertzjq/vim-8.2.4929
test: convert two statusline oldtests to Lua screen tests
vim-patch:8.2.4929: off-by-one error in in statusline item
vim-patch:8.2.4911: the mode #defines are not clearly named (#18499)
docs(lsp): fix description of `only` in vim.lsp.buf.code_action() (#18492)
chore: format runtime with stylua
ci: lint runtime with stylua
feat(keyset): allow hash conflicts
vim-patch:8.2.4925: trailing backslash may cause reading past end of line (#18493)
Merge pull request #18491 from zeertzjq/vim-8.2.4924
vim-patch:8.2.4924: maparg() may return a string that cannot be reused
Merge pull request #18490 from zeertzjq/vim-8.2.4918
vim-patch:8.2.4923: test checks for terminal feature unnecessarily
vim-patch:8.2.4918: conceal character from matchadd() displayed too many times
Merge pull request #18485 from zeertzjq/vim-8.2.4915
vim-patch:8.2.4922: mouse test fails on MS-Windows
vim-patch:8.2.4916: mouse in Insert mode test fails
Merge pull request #18466 from dundargoc/refactor/remove-char_u
refactor: replace char_u variables and functions with char
feat: cmdline funcs (#18284)
Merge pull request #18478 from bfredl/gridfile
fix(lsp): detach spawned LSP server processes (#18477)
refactor(grid): move out grid_* functions from screen.c
vim-patch:partial:d899e5112079 (#18474)
vim-patch:8.2.4908: no text formatting for // comment after a statement (#18472)
vim-patch:8.2.4907: some users do not want a line comment always inserted (#18463)
Merge pull request #18425 from dundargoc/refactor/char_u/1
Merge pull request #18460 from bfredl/decor33
refactor: replace char_u variables and functions with char
Merge pull request #18450 from dundargoc/build/clint/remove-function-size-warning
refactor(decor): use decor levels properly
docs: change wrap_at type to number (#18456)
Merge pull request #18457 from famiu/feat/api/nvim_parse_cmd
fix(api): make `nvim_parse_cmd` work correctly with both range and count
Merge pull request #18455 from zeertzjq/extmarksplice
Merge pull request #18444 from zeertzjq/ci-unsigned-char
fix(extmarks): revert to int for extmark row
Merge pull request #18452 from dundargoc/vim-8.2.4469
vim-patch:8.2.4469: Coverity warns for uninitialized variable
fix(lsp): skip clients without rename capability (#18449)
build(clint): remove "function size is too large" warning
Merge pull request #18302 from dundargoc/refactor/enable-conversion-warning/edit
vim-patch:8.2.4881: "P" in Visual mode still changes some registers (#18445)
refactor: enable -Wconversion warning for edit.c
Merge pull request #18442 from dundargoc/uncrustify
Merge pull request #18438 from famiu/feat/api/nvim_parse_cmd
ci: add a check with -funsigned-char
refactor: upgrade uncrustify configuration to version 0.75
refactor: move macro definiton outside of enums
fix(lsp): fix rename capability checks and multi client support (#18441)
Merge pull request #18431 from famiu/feat/api/nvim_get_autocmds/group_name
feat(api): add `group_name` to `nvim_get_autocmds`
fix(api): make `nvim_parse_cmd` propagate errors
fix(lsp): make sure to always reset active codelens refreshes (#18331)
Revert "ci(bsd): conditional runs for faster builds" #18437
Merge pull request #18416 from dundargoc/refactor/remove-char_u
ci(bsd): conditional runs for faster builds #18434
Merge pull request #18314 from tk-shirasaka/global-statusline-on-ext_messages
refactor: replace char_u variables and functions with char
Merge pull request #18417 from famiu/feat/api/nvim_parse_cmd
refactor(api): make `range` in `nvim_parse_cmd` an array
vim-patch:8.2.4868: when closing help window autocmds triggered for wrong window (#18420)
vim-patch:8.2.4867: listing of mapping with K_SPECIAL is wrong (#18419)
vim-patch:8.2.4865: :startinsert right after :stopinsert may not work (#18418)
fix: display global statusline correctly with ext_messages
Merge pull request #18386 from ii14/version_dict_prerelease
Merge pull request #18413 from dundargoc/refactor/remove-char_u-autocmd
refactor: replace char_u variables and functions with char
Merge pull request #18387 from dundargoc/refactor/remove-char_u
refactor: replace char_u variables and functions with char
feat(nvim_parse_cmd): add range, count, reg #18383
build(deps): bump LuaJIT to HEAD - 91bc6b8ad (#18378)
refactor(lua): replace hard-coded gsub with vim.pesc() (#18407)
fix(filetype): fixup scd filetype detection (#18403)
Merge pull request #18398 from vigoux/perf/ts_reuse_list
refactor(runtime): convert dist#ft functions to lua (#18247)
Merge pull request #18397 from vigoux/fix/ts_match_limit
perf(treesitter): use a reuse list for query cursors
fix(treesitter): bump match limit up
Merge pull request #15674 from yatli/ui_event_extmark
feat(lsp): add logging level "OFF" (#18379)
feat(api/ui): win_extmarks
feat(lua): vim.deprecate() #18320
feat(server): set $NVIM, unset $NVIM_LISTEN_ADDRESS #11009
fix(lsp): add missing bufnr argument (#18382)
ci(MinGW): run pacman -Syu twice (#18384)
feat: add "prerelease" to version dict
Merge pull request #18345 from dundargoc/refactor/remove-char_u
refactor: replace char_u variables and functions with char
vim-patch:8.2.4859: wget2 files are not recognized (#18385)
fix(coverity): use xstrndup() instead of vim_strsave() (#18363)
Merge pull request #18381 from zeertzjq/vim-8.2.4858
test: add more tests for K_SPECIAL escaping in <Cmd> mapping
vim-patch:8.2.4858: K_SPECIAL may be escaped twice
Merge pull request #18357 from bfredl/ui_stdin
refactor(ui): simplify stdin handling
Merge pull request #18353 from jamessan/ft-match-fix
feat(api): support handling stdin stream in remote ui
fix(filetype.lua): escape expansion of ~ when used as a pattern
Merge pull request #18342 from kylo252/msgpack-bump
vim-patch:8.2.4857: Yaml indent for multiline is wrong (#18365)
vim-patch:8.2.4855: robot files are not recognized (#18364)
Merge pull request #18356 from dundargoc/ci/gen_vimdoc/conda-edge-case
fix(mac): add CoreServices to flake.nix #18358
build(gen_vimdoc): print user's doxygen version if it's too old
vim-patch:8.2.1835: ":help ??" finds the "!!" tag (#18350)
ci(gen_vimdoc): handle edge case when checking doxygen version
vim-patch:8.2.3306: unexpected "No matching autocommands" (#17912)
Merge pull request #18354 from famiu/feat/api/parse_cmd
fix(api): preserve `cmdmod` on `nvim_parse_cmd`
Merge pull request #18294 from mhinz/mac/simpler-locale-fallback
Merge pull request #18348 from dundargoc/build/abort-if-old-doxygen
fix(shared): avoid indexing unindexable values in vim.tbl_get() (#18337)
build(gen_vimdoc): abort if doxygen version is too old
build: bump msgpack to 4.0.0
docs: syntax is enabled by default (#17637)
Merge pull request #18334 from dundargoc/refactor/remove-char_u
chore(editorconfig): unset "charset" for *.vim and *.po files
docs(api): more API attributes #18336
docs: move "hl-VertSplit" to deprecated.txt #18328
refactor: replace char_u variables and functions with char
fix(lsp): fix infinite loop in resolved_capabilities deprecation message (#18333)
fix(lsp): handle textDocumentSync.save bool capability (#18332)
Merge pull request #18231 from famiu/feat/api/parse_cmdline
vim-patch:8.2.4849: Gleam filetype not detected (#18326)
feat(lsp): add async option to vim.lsp.buf.format (#18322)
Merge pull request #18323 from zeertzjq/vim-8.1.2191
feat(api): add `nvim_parse_cmdline`
refactor: replace char_u variables and functions with char (#18288)
vim-patch:8.2.4848: local completion with mappings and simplification not working
vim-patch:8.1.2191: when using modifyOtherKeys CTRL-X mode may not work
fix(tui): disable extended keys before exiting alternate screen (#18318)
feat(lsp): add vim.lsp.buf.format (#18193)
fix(handlers): more specific error messages (#16772)
chore(lsp): remove capabilities sanitization (#17814)
feat(lsp): options to filter and auto-apply code actions (#18221)
vim-patch:8.2.0144: some mapping code is not fully tested (#18313)
fix(input): only disable mapped CTRL-C interrupts when getting input (#18310)
Merge pull request #18309 from zeertzjq/vim-8.2.4845
vim-patch:8.2.4845: duplicate code
test: add test for <Cmd> mapping with character containing K_SPECIAL byte
feat(lsp): show feedback on empty hover response (#18308)
Merge pull request #18162 from dundargoc/refactor/unctustify
Merge pull request #18305 from zeertzjq/mapping-rhs
feat(mappings): do not simplify the rhs of a mapping
feat(mappings): allow special keys and modifiers in <Cmd> mapping
refactor(uncrustify): change rules to better align with the style guide
refactor(uncrustify): format all c code under /src/nvim/
refactor(uncrustify): disable formatting in problematic code sections
Merge pull request #18301 from zeertzjq/fix-lua-unmap-crash
fix(mappings): fix double-free when unmapping simplifiable Lua mapping
Merge pull request #17932 from zeertzjq/vim-8.1.2145
ci: remove mjlbach from reviewers (#18297)
feat(mappings): do not replace existing mapping for simplified form
vim-patch:8.2.4837: modifiers not simplified when timed out
vim-patch:8.2.4833: failure of mapping not checked for
vim-patch:8.2.4829: a key may be simplified to NUL
vim-patch:8.2.4828: fix for unmapping simplified key not fully tested
vim-patch:8.2.4827: typo in variable name
vim-patch:8.2.4824: expression is evaluated multiple times
vim-patch:8.2.4819: unmapping simplified keys also deletes other mapping
vim-patch:8.2.4504: when there is a partially matching map full map may not work
vim-patch:8.2.3595: check for signed overflow might not work everywhere
vim-patch:8.2.2728: special key names don't work if 'isident' is cleared
vim-patch:8.1.2346: CTRL-R CTRL-R doesn't work with modifyOtherKeys
test: revert test and doc changes from #6724, add a test for #6716
vim-patch:8.2.0919: merging modifier for modifyOtherKeys is done twice
vim-patch:8.2.0916: mapping with partly modifyOtherKeys code does not work
revert: "refactor: Remove allow_keys global (#6346)"
vim-patch:8.2.0867: using \{xxx} for encoding a modifier is not nice
vim-patch:8.2.0855: GUI tests fail because the test doesn't use a modifier
vim-patch:8.2.0851: can't distinguish <M-a> from accented "a" in the GUI
vim-patch:8.2.0839: dropping modifier when putting a character back in typeahead
vim-patch:partial:8.2.0815: maparg() does not provide enough information for mapset()
feat(edit): insert an unsimplified key using CTRL-SHIFT-V
vim-patch:8.1.2167: mapping test fails on MS-Windows
vim-patch:8.1.2165: mapping test fails on Mac
vim-patch:8.1.2159: some mappings are listed twice
feat(input): delay all simplifications
test(old): revert changes from ed88ca75034a48916d165e88459c791c450df550
vim-patch:8.1.2145: cannot map <C-H> when modifyOtherKeys is enabled
fix(mac): use same $LANG fallback mechanism as Vim
fix: suppress "is a directory" messages with shortmess 'F' (#18296)
vim-patch:ce001a337e28 (#18287)
Merge pull request #18254 from dundargoc/refactor/remove-char_u
refactor: enable -Wconversion warning for ex_docmd.c (#18277)
refactor(build): remove unused includes #17078
refactor(terminal)!: drop winpty, require Windows 10 #18253
fix: has() should preserve v:shell_error #18280
feat(checkhealth): check for slow shell #17829
fix(build): missing definitions for sizeof macros #16393
Merge pull request #18260 from dundargoc/refactor/enable-conversion-warning
fix(lsp): fix unnecessary buffers being added on empty diagnostics (#18275)
refactor: enable -Wconversion warning for funcs.c and userfuncs.c
Merge pull request #18267 from zeertzjq/test-eq-arg-order
test: correct order of arguments to eq() and neq()
feat(tui): query terminal for CSI u support (#18181)
Merge pull request #18249 from zeertzjq/vim-8.2.4760
vim-patch:8.2.4765: function matchfuzzy() sorts too many items
vim-patch:8.2.4760: using matchfuzzy() on a long list can take a while
vim-patch:8.2.4826: .cshtml files are not recognized (#18259)
Merge pull request #18257 from dundargoc/refactor/enable-conversion-warning/tag
refactor: enable Wconversion warning for tag
Merge pull request #18255 from bfredl/workaround_version
fix: show autocmd output when F is in shortmess (#18251)
fix(ci): workaround bug in msgpackparse() on windows caused by api level bump
refactor: replace char_u variables and functions with char
revert: "man.vim: Ensure 'modifiable' in man#init_pager" #17791
Merge pull request #18234 from zeertzjq/cursearch-reduce-redraw
refactor: convert macros to all-caps (#17895)
refactor: enable Wconversion warning for diff (#18094)
Merge pull request #18110 from dundargoc/refactor/remove-char_u
refactor: add pure attribute to pure functions (#18165)
perf: only redraw for CurSearch when it is currently in use
fix/PVS #17863
build: bump Doxyfile to minimum required version 1.9.0 #18118
docs: clarify enhanced modifiers, SHIFT usage #18124
ci: label all markdown edits as "documentation" #18120
fix(packaging): remove excess forward slash in Wix Patch (#18121)
Merge pull request #18248 from zeertzjq/vim-8.2.4806
vim-patch:8.2.4818: no test for what 8.2.4806 fixes
vim-patch:8.2.4806: a mapping using <LeftDrag> does not start Select mode
Merge pull request #18243 from zeertzjq/vim-8.2.4808
vim-patch:8.2.4813: pasting text while indent folding may mess up folds
vim-patch:8.2.4810: missing changes in one file
vim-patch:8.2.4808: unused item in engine struct
build(clang-format): align with project style #18192
docs: make docstring consistent with parameters #18178
ci(backport): remove triggering by comment (#18210)
Merge pull request #18197 from dundargoc/build/clint/python3
fix(ftdetect): source plugins in autogroup (#18237)
Merge pull request #18226 from zeertzjq/vim-8.2.4805
vim-patch:8.2.4812: unused struct item
vim-patch:8.2.4805: CurSearch used for all matches in current line
fix(lua): don't mutate opts parameter of vim.keymap.del (#18227)
fix(treesitter): create new parser if language is not the same as cached parser (#18149)
Merge pull request #18211 from clason/update-inspect
docs(lua): explain and link to lua patterns (#18206)
chore: update inspect.lua to 3.1.3
refactor(normal): fix most clint warnings (#18196)
Merge pull request #18209 from zeertzjq/vim-8.2.4759
vim-patch:8.2.4759: CurSearch highlight does not work for multi-line match
Merge pull request #18182 from zeertzjq/vim-8.2.2472
vim-patch:8.2.4802: test is not cleaned up
test: add a Lua functional test for NoName buffer event order
vim-patch:8.2.4791: events triggered in different order when reusing buffer
vim-patch:8.2.2477: autocommand tests hang on MS-Windows
vim-patch:8.2.2476: using freed memory when splitting window while closing buffer
vim-patch:8.2.2475: autocommand tests hangs on MS-Windows
vim-patch:8.2.2474: using freed memory when window is closed by autocommand
vim-patch:8.2.2472: crash when using command line window in an autocommand
vim-patch:8.1.1756: autocommand that splits window messes up window layout
Merge pull request #18200 from atusy/doc-vim-keymap-set
docs: vim.keymap.set can specify buffer as an option
Merge pull request #18199 from zeertzjq/vim-8.2.4797
Merge pull request #18180 from zeertzjq/vim-8.2.4792
vim-patch:8.2.4794: compiler warning for not initialized variable
vim-patch:8.2.4792: indent operator creates an undo entry for every line
vim-patch:8.2.0358: insufficient testing for indent.c
vim-patch:8.2.4797: getwininfo() may get oudated values
Merge pull request #18189 from zeertzjq/vim-8.2.4795
Merge pull request #18187 from zeertzjq/vim-8.2.4724
vim-patch:8.2.4724: current instance of last search pattern not easily spotted
vim-patch:8.2.4801: fix for cursorbind fix not fully tested
vim-patch:8.2.4796: file left behind after running cursorline tests
vim-patch:8.2.4795: 'cursorbind' scrolling depends on whether 'cursorline' is set
build(clint): remove all python2-isms with pyupgrade
build(clint): change shebang to python3
Merge pull request #18185 from clason/vim-8.2.4781
docs(filetype): proper example for did_load_filetypes (#18191)
docs(api): add example showing necessity to wrap callback function (#18179)
fix(lsp): unify progress message handling (#18040)
fix(diagnostic): use nvim_exec_autocmds to trigger DiagnosticChanged (#18188)
Merge pull request #18145 from bfredl/term_opt
vim-patch:8.2.4793: recognizing Maxima filetype even though it might be another
vim-patch:8.2.4781: Maxima files are not recognized
vim-patch:8.2.4790: lilypond filetype not recognized (#18174)
Merge pull request #18157 from famiu/feat/undo!
feat: add `undo!`
Merge pull request #18081 from famiu/feat/highlight/cursearch
vim-patch:75ab590f8504 (#18170)
fix(tui): update modifyOtherKeys reporting (#18158)
Merge pull request #18091 from dundargoc/refactor/pure-attribute
docs(terminal): correct sentence on how to enter terminal mode (#18146)
vim-patch:8.2.4778: pacman files use dosini filetype (#18152)
feat(highlight): implement CurSearch highlight
feat(api): add tests for setting terminal ui options
feat(api): ui options relevant for remote TUI
vim-patch:8.2.4767: openscad files are not recognized (#18138)
vim-patch:8.2.4766: KRL files using "deffct" not recognized (#18137)
Merge pull request #18139 from zeertzjq/vim-8.2.0791
test: add a test for #18135
vim-patch:8.2.0791: a second popup window with terminal causes trouble
fix(paste): ignore mappings in Cmdline mode (#18114)
vim-patch:8.2.4762: using freed memory using synstack() and synID() in WinEnter (#18136)
refactor: add function xstrnsave
refactor: replace char_u variables and functions with char
chore: remove vestigial sfname freeing (#18123)
vim-patch:8.2.4752: wrong 'statusline' value can cause illegal memory access (#18117)
version bump
NVIM 0.7
docs: typo fixes (#17859)
vim-patch:8.2.4750: small pieces of dead code (#18113)
fix(lsp): fix lookup of boolean values in workspace/configuration (#18026)
vim-patch:8.2.4747: no filetype override for .sys files (#18105)
refactor: add pure attribute to pure functions
Merge pull request #15972 from seandewar/vim-8.2.3487
Merge pull request #15491 from Diomendius/lua_docs
vim-patch:8.2.4746: supercollider filetype not recognized (#18102)
fix(runtime): add syntax file for query (#18101)
fix(api): correctly pass f-args for nvim_create_user_command (#18098)
vim-patch:8.2.3487: illegal memory access if buffer name is very long
vim-patch:8.2.3486: illegal memory access with invalid sequence of commands
vim-patch:8.2.3480: test does not fail without the fix for a crash
vim-patch:8.2.3478: still crash with error in :catch and also in :finally
refactor(ex_eval): cherry-pick CSF flags changes from v8.2.3099
vim-patch:8.2.3470: crash with error in :catch and also in :finally
vim-patch:8.2.3448: :endtry after function call that throws not found
vim-patch:8.2.3416: second error is reported while exception is being thrown
fix(translation): po file for Ukrainian (#18100)
Merge pull request #18092 from zeertzjq/test-termxx-no-pending
test: unskip tests skipped in #14661
Merge pull request #17440 from zeertzjq/vim-8.2.3184
refactor(digraph.c): add more const qualifiers
vim-patch:partial:a2baa73d1d33
vim-patch:8.2.3325: digraph test fails when LC_ALL is set to "C"
vim-patch:8.2.3226: new digraph functions use old naming scheme
vim-patch:8.2.3184: cannot add a digraph with a leading space
vim-patch:8.2.4739: accessing freed memory after WinScrolled autocmd event (#18090)
Merge pull request #18075 from zeertzjq/vim-8.2.4713
test: properly test WinScrolled event
vim-patch:8.2.4713: plugins cannot track text scrolling
test(old): fix mistakes in porting Vim patches 8.1.1362 and 8.1.1585 (#18080)
vim-patch:8.2.4737: // in JavaScript string recognized as comment (#18083)
fix(lsp): pass offset_encoding in formatexpr() (#18084)
docs(term.txt): add documentation about TUI input (#18072)
refactor(packaging): Windows: improve MSI, remove NSIS #18069
vim-patch:8.2.4734: getcharpos() may change a mark position (#18077)
Merge pull request #18067 from zeertzjq/vim-8.2.4714
vim-patch:8.2.4733: HEEx and Surface do need a separate filetype
vim-patch:8.2.4714: using g:filetype_dat and g:filetype_src not tested
fix(vim-patch.sh): fix N/A files patterns (#18073)
fix(events): make v:event readonly in more events (#18070)
Merge pull request #18071 from gpanders/create_uc
docs: update dev-api to include "create"
fix(tui)!: remove `ESC NUL` forced escape (#17198)
refactor!: rename nvim_add_user_command to nvim_create_user_command
feat(keymap): add F38-F63 keys (#17893)
feat(events): support SIGWINCH for Signal event #18029
refactor(globals.h): avoid confusing comment placement (#18066)
docs: remove mentions of removed flag '#' in 'cpoptions' (#18064)
vim-patch:8.2.4729: HEEx and Surface templates do not need a separate filetype (#18065)
Merge pull request #18062 from zeertzjq/vim-8.2.4723
vim-patch:8.2.4728: no test that v:event cannot be modified
vim-patch:8.2.4723: the ModeChanged autocmd event is inefficient
vim-patch:8.2.4719: ">" marker sometimes not displayed in the jumplist (#18056)
vim-patch:8.2.4722: ending recording with mapping records too much (#18060)
vim-patch:8.2.4718: @@@ in the last line sometimes drawn in the wrong place (#18055)
vim-patch:8.2.4721: cooklang files are not recognized (#18058)
vim-patch:8.2.4720: ABB Rapid files are not recognized properly (#18057)
Merge pull request #18023 from tom-anders/vim-8.2.4702
vim-patch:8.2.4703: memory leak in handling 'cinscopedecls'
vim-patch:8.2.4702: C++ scope labels are hard-coded
vim-patch:8.2.4715: Vagrantfile not recognized (#18052)
chore(packaging): use transparent windows logo (#18051)
vim-patch:partial:8.1.2333: with modifyOtherKeys CTRL-^ doesn't work (#18048)
vim-patch:partial:cbaff5e06ec5 (#18044)
vim-patch:partial:cbaff5e06ec5 (#18042)
Merge pull request #17971 from chentau/extmark_spell
build(deps): bump LuaJIT to HEAD - 5e3c45c43 (#18027)
Merge pull request #17786 from gpanders/autocmd-args
feat(api)!: pass args table to autocommand callbacks
Merge pull request #18038 from zeertzjq/vim-8.2.4711
test: add a test for #16823
vim-patch:8.2.4711: when 'insermode' is set :edit from <Cmd> mapping misbehaves
vim-patch:8.2.3925: diff mode confused by NUL bytes (#18033)
vim-patch:8.2.4704: using "else" after return or break increases indent (#18032)
Merge pull request #18031 from zeertzjq/vim-8.2.0004
vim-patch:8.2.4706: buffer remains active with WinClosed and tabpages
vim-patch:8.2.4700: buffer remains active if WinClosed event throws an exception
vim-patch:8.2.0004: get E685 and E931 if buffer reload is interrupted
refactor(window): cherry-pick win_close_buffer() from Vim patch 8.1.1391
vim-patch:8.2.4710: smart indenting does not work after completion (#18030)
vim-patch:8.2.4708: PHP test files are not recognized (#18025)
ci: add script to bump versions (#17884)
vim-patch:8.2.4707: redrawing could be a bit more efficient (#18022)
Merge pull request #18021 from zeertzjq/fix-clearing-reg-executing
fix(event-loop): check if executed register has ended
fix(input): fix clearing of reg_executing
Merge pull request #17979 from zeertzjq/autocmd-show-fix
vim-patch:8.2.4701: Kuka Robot Language files not recognized (#18012)
vim-patch:8.2.0836: not all :cdo output is visible (#18007)
fix(autocmd): restore autocmd showing behavior
vim-patch:8.2.4696: delete() with "rf" argument does not report a failure (#18002)
Merge pull request #18003 from bfredl/incperf2
fix(ui): inccomand performance degradation
Merge pull request #17335 from famiu/fix/ui/win-resize
fix(tests): update legacy tab switch test to be sane
fix(ui): make window resize commands manage cmdheight
vim-patch:8.2.{4692,4691,4690}: fix Insert mode <LeftDrag> mapping bug (#17999)
vim-patch:8.2.4687: "vimgrep /%v/ *" may cause a crash (#17995)
refactor(pos.h): remove unused include; make formatting consistent (#17892)
test: move completion :stopinsert test to completion_spec.lua (#17992)
Merge pull request #17991 from zeertzjq/vim-8.2.4253
refactor: pass "preview" to regtilde()
vim-patch:8.2.4253: using freed memory when substitute with function call
Merge pull request #17988 from zeertzjq/vim-8.2.4247
vim-patch:8.2.4258: Coverity warns for array overrun
vim-patch:8.2.4247: stack corruption when looking for spell suggestions
test(old): fix test_spell.vim encoding
test(old): fix test_regexp_latin.vim encoding (#17989)
Merge pull request #17987 from leungbk/vim-patch-4402
chore: update .git-blame-ignore-revs
vim-patch:8.2.4402: missing parenthesis may cause unexpected problems
vim-patch:8.2.4639: not sufficient parenthesis in preprocessor macros
Merge pull request #17986 from zeertzjq/fix-ex-mode-regression
test: add some tests with :normal and Ex mode
fix(substitute): properly check for empty command line
vim-patch:8.2.4672: using :normal with Ex mode may make :substitute hang (#17983)
[RFC] vim-patch:8.1.1378: delete() can not handle a file name that looks li… (#16268)
vim-patch:8.1.1687: the evalfunc.c file is too big (#17949)
fix(ex_normal): spam \n in Ex mode only if in Cmdline mode (#17977)
fix(extmarks): splice extmarks on accepting spell
docs(options): add more missing 'nofoo' tags (#17967)
docs(options): add missing 'nofoo' tags (#17965)
vim-patch:8.2.4664: Elvish files are not recognized (#17963)
Merge pull request #17961 from zeertzjq/scroll-no-multiclick
fix(input): do not translate scroll keys into multiclicks
Merge pull request #17953 from zeertzjq/vim-8.2.4660
test: add a test for #13916
vim-patch:8.2.4660: cursorcolumn is sometimes not correct
Merge pull request #17948 from zeertzjq/vim-8.2.3471
vim-patch:8.2.3489: ml_get error after search with range
vim-patch:8.2.3472: other crashes with empty search pattern not tested
vim-patch:8.2.3471: crash when using CTRL-T after an empty search pattern
Merge pull request #17946 from lewis6991/fixes
fix(keymap): don't coerce false to ''
fix(api): delete all autocmds with the same ID
refactor: remove redundant check for w_p_cole (#17944)
vim-patch:8.2.3122: with 'nowrap' cursor position is unexected in narrow window (#17935)
Merge pull request #17842 from lewis6991/keymap
Merge pull request #17938 from ggandor/autocmd-api-names
refactor(api)!: use singular/plural consistently in the autocmd API
vim-patch:8.2.4658: org-mode files are not recognized (#17939)
Merge pull request #17888 from dundargoc/ci/remove-reviewers-when-drafting
Merge pull request #17906 from dundargoc/test/skip-nvimlog-on-success
Merge pull request #17929 from lewis6991/autocmd
docs(extmark): fix nvim_buf_get_extmarks example (#17934)
feat(runtime): add query filetype (#17905)
Merge pull request #17698 from tjdevries/nvim_clear_autocmd
fix(api): improve autocmd error handling
feat(api): nvim_clear_autocmd
Merge pull request #17890 from zeertzjq/conceal-virtcol-changed
Merge pull request #17925 from zeertzjq/vim-8.2.1844
vim-patch:8.2.4577: message test is flaky
vim-patch:8.2.4200: some tests do not clean up properly
vim-patch:8.2.4156: fileinfo message overwrites echo'ed message
vim-patch:8.2.2515: memory access error when truncating an empty message
vim-patch:8.2.1844: using "q" at the more prompt doesn't stop a long message
vim-patch:8.2.4645: 'shortmess' changed when session does not store options (#17908)
fix: correct vertical dragging room calculation with global statusline (#17928)
feat(treesitter): add more default groups to highlight map (#17835)
docs(lsp): remove outdated offset_encoding default value for apply_text_edits
fix: set nested before executing callback (#17801)
Merge pull request #17921 from zeertzjq/vim-8.2.4649
vim-patch:8.2.4649: various formatting problems
vim-patch:8.2.4349: FileChangedShell test fails on MS-Windows
vim-patch:46eea444d (#17920)
Merge pull request #17773 from zeertzjq/vim-8.2.3110
vim-patch:8.2.4592: search continues after giving E1204
docs(pattern.txt): cherry-pick latests changes from Vim runtime updates
vim-patch:8.2.3110: a pattern that matches the cursor position is complicated
vim-patch:8.1.0439: recursive use of getcmdline() still not protected (#17726)
vim-patch:8.2.4646: using buffer line after it has been freed (#17907)
vim-patch:8.2.4473: Coverity warns for not checking return value of ftell() (#17914)
fix(event-loop): duplicate display updating logic in vgetorpeek() (#17913)
test: don't print NVIMLOG on success
vim-patch:8.2.3449: sort fails if the sort compare function returns 999 (#17909)
vim-patch:8.2.3551: checking first character of url twice (#17910)
chore: add .mailmap (#17453)
build(clint): link to wiki when accessing list_T internals directly (#17876)
fix(decorations): do not put empty virt_text (#17872)
vim-patch:8.2.4644: redrawing too often when 'relativenumber' is set (#17756)
docs: update hl-Whitespace documentation (#17901)
vim-patch:8.2.4640: some boolean options use "long" instead of "int" (#17896)
fix(lsp): use "text" filetype for plaintext (#17898)
Merge pull request #17891 from casswedson/label-as-build
perf: only redraw concealed line if cursor has moved horizontally
revert: "Fix redraw regression with w_p_cole in visual mode"
ci: label changes to Makefiles as build
Merge pull request #17889 from zeertzjq/vim-8.2.4638
vim-patch:8.2.4630: 'cursorline' not always updated with 'culopt' is "screenline"
vim-patch:8.2.4638: superfluous check if a redraw is needed for 'cursorline'
Merge pull request #17887 from dundargoc/ci/commitlint
ci: remove reviewers when drafting or closing a PR
Merge pull request #17873 from muniter/jl-apidocs-improvementes
docs: .git-blame-ignore-revs #16174
feat(test): use nvim_exec in helpers.source() #16064
ci(commitlint): use -u NONE instead of --clean
refactor: assume `STATUS_HEIGHT` to be 1 (#17804)
fix(diagnostic): make `open_float` respect global diagnostic options (#17879)
docs: correct CursorMoved documentation (#17880)
Merge pull request #17877 from zeertzjq/vim-8.2.4631
fix(tabpage): correct check for failure to close window
vim-patch:8.2.4631: crash when switching window in BufWipeout autocommand
ci(doc): improve missing docs workflow
refactor!: rename nvim_do_autocmd to nvim_exec_autocmd (#17854)
Merge pull request #17869 from dundargoc/vim-8.2.3943
Merge pull request #17857 from muniter/jl-breaking-change-label
docs(api): fix wrong documentation of `nvim_create_autocmd` (#17870)
ci: automatic breaking change label
vim-patch:8.2.3943: compiler warning from gcc for uninitialized variable
Merge pull request #17839 from zeertzjq/vim-8.2.4281
fix(tui): avoid using uninitialized memory in kitty (#17866)
vim-patch:8.2.4327: may end up with no current buffer
vim-patch:8.2.4281: using freed memory with :lopen and :bwipe
vim-patch:8.2.4626: Visual area not updated when removing sign in Visual mode (#17864)
vim-patch:8.2.3453: autocmd not executed when editing a directory (#17846)
fix(clang/'Dead store'): do not assign endcol (#17788)
chore: fix typos (#17755)
docs(api): improve autocommand docs (#17545)
fix(filetype.lua): always return a string in getline helper function (#17852)
build(deps): bump luajit to commit e2c312e (#17111)
fix(tui): correct CSI sequence (#17844)
feat: add vim.tbl_get (#17831)
Merge pull request #17809 from dundargoc/PVS/V1019
Merge pull request #17771 from gpanders/extendedkeys
fix(PVS/V1019): compound assignment expression is used inside condition
feat(runtime): include Lua in C++ ftplugin (#17843)
feat(keymap): return nil from an expr keymap
Merge pull request #17838 from zeertzjq/ci-docgen-no-src-lua
feat(tui): enable CSI u keys
Merge pull request #17821 from zeertzjq/vim-patch-cursorline
Merge pull request #17740 from dundargoc/doxygen/memline
chore(nvim_paste): assert the correct String (#17752)
refactor: convert function comments to doxygen format (#17710)
chore: add additional compiler flags (#17815)
Merge pull request #17825 from bfredl/ctrl2
refactor(memline): convert function comments to doxygen format
feat(input): enable <tab>/<c-i>, <cr>/<c-m>, <esc>/<c-[> pairs unconditionally
feat(input)!: delay some conversions to vgetc()
perf(screen): reduce cursorline redrawing when jumping around
vim-patch:8.2.4591: cursor line not updated when a callback moves the cursor
fix(float): do not switch window before deleting last listed buffer (#17840)
fix(float): don't always switch window when deleting last listed buffer (#17836)
ci: remove src/nvim/**.lua from docgen pattern
test: add test for deleting last listed buffer when there are floats (#17833)
fix(PVS/V560): ignore false "conditional expression is always false" (#17830)
refactor(memline.c): make swapfile_unchanged() return bool (#17827)
fix(screen): do not update syntax_last_parsed when drawing folded line (#17826)
refactor: remove cpo-& behavior (#17745)
Merge pull request #17806 from zeertzjq/win-close-float-fix
fix(float): make laststatus=1 behave consistently with floating windows
fix(float): handle buffer deletion with floating windows
fix(win_close): count the window the be closed instead of curwin
fix(aucmd_win): always make aucmd_win the last window
fix(screen): do not do syntax highlighting at filler or folded lines (#17818)
refactor(ui_refresh): only save/restore p_lz if calling screen_resize() (#17794)
vim-patch:8.2.1078: highlight and match functionality together in one file (#17805)
vim-patch:8.1.1608: the evalfunc.c file is too big (#17807)
Merge pull request #17813 from muniter/jl-ci-api-docs-permissions
fix(ci): provide necessary permissions for calling workflow
Merge pull request #17768 from muniter/jl-genvimdoc-ci
Merge pull request #17491 from neovim/marvim/api-doc-update/master
fix(PVS/V583): the '?:' operator always returns one and the same value (#17790)
Merge pull request #17760 from lewis6991/vim-patch-8.1.1734
vim-patch:8.1.1743: 'hlsearch' and match highlighting in the wrong place
vim-patch:8.1.1742: still some match functions in evalfunc.c
vim-patch:8.1.1734: the evalfunc.c file is too big
docs: regenerate [skip ci]
Merge pull request #17776 from bfredl/tsconceal
fix(lsp): set tabSize from 'shiftwidth', not 'softtabstop' (#17787)
feat(ui): allow conceal to be defined in decorations
Merge pull request #17785 from muniter/jl-fix-doxygen-destroyer
fix(termdebug): handle exiting during startup properly (#16790)
vim-patch:47c532e2bc55 (#17780)
Merge pull request #17772 from zeertzjq/vim-8.2.2716
feat(api): remove Lua autocommand callbacks when they return true (#17784)
fix(api, lua): return NIL on failure to find converted function (#17779)
docs: properly escape to avoid doxygen weirdness
refactor(tinput_wait_enqueue): use rbuffer_read() when pasting (#17754)
vim-patch:8.2.4593: unnecessary call to redraw_later() (#17775)
vim-patch:8.2.4546: duplicate #undef
vim-patch:8.2.2716: the equivalent class regexp is missing some characters
docs: reword description for nvim_buf_line_count() (#17766)
fix(translation): po file for Russian (#17767)
ci(docs): add a check for PR's to commit their doc changes
Merge pull request #17719 from dundargoc/doxygen/ex_docmd
fix(syntax.c): correct hunk from Vim patch 8.0.0647 (#17761)
Merge pull request #17694 from lewis6991/fix_signcol
vim-patch:8.1.1693: syntax coloring and highlighting is in one big file (#17721)
Merge pull request #17459 from rktjmp/lua-error-tostring
feat(api, lua): support converting nested Funcref back to LuaRef (#17749)
Merge pull request #17747 from bfredl/ui_input
Merge pull request #17266 from famiu/feat/ui/global-statusline
feat(ui_client): implement async paste handling
feat: add support for global statusline
feat(ui_client): handle resize events
feat(ui_client): pass user input to remote server
chore: fix typos (#17670)
Merge pull request #17707 from tesaguri/refactor-gen_vimdoc
Merge pull request #17739 from dundargoc/doxygen/ex_cmds
Merge pull request #17741 from dundargoc/doxygen/message
Merge pull request #17732 from dundargoc/doxygen/fold
refactor(ex_cmds): convert function comments to doxygen format
Merge pull request #17708 from bfredl/ui_client
refactor(message): convert function comments to doxygen format
refactor(ex_docmd): convert function comments to doxygen format
chore(checkhealth/provider): style fixes (#17738)
fix(checkhealth): make provider checkhealth output more consistent (#17722)
refactor(fold): convert function comments to doxygen format
vim-patch:8.2.4571: not all gdb files are recognized (#17727)
Merge pull request #17731 from dundargoc/doxygen/ex_eval
refactor(ui): make auto-generated ui client handlers typesafe
refactor(ui): make ui_client_event_grid_line typesafe
refactor(ui): use "ui_client" instead of "redraw" as general prefix
feat(ui): invoke ui client handlers
feat(ui): implement ui_client event handlers
refactor: convert function comments to doxygen format
Merge pull request #17709 from seandewar/vim-8.2.4559
vim-patch:8.2.4568: getmousepos() does not compute the column below the last line
vim-patch:8.2.4559: getmousepos() returns the screen column
vim-patch:8.2.4555: getmousepos() returns the wrong column
Merge pull request #16585 from zeertzjq/lua-paste-eol
fix(paste): escape control characters in Cmdline mode
test(paste): add tests with virtualedit=onemore
test(paste): reorganize tests and add tests for linewise Visual mode
fix(paste): deal with trailing new line in chunk
fix(paste): avoid edges cases caused by empty chunk
refactor(paste): do not print dots in cmdline mode
fix(paste): deal with eol and eof in Visual mode
fix(paste): don't move cursor past the end of pasted text in Normal mode
fix(paste): use getcmdtype() to determine whether in cmdline mode
Merge pull request #17725 from zeertzjq/vim-8.2.4566
vim-patch:8.2.4566: check for existing buffer in session file may not work
Merge pull request #17718 from dundargoc/doxygen/eval_c
Merge pull request #17488 from seandewar/vim-8.2.4428
refactor(eval): convert function comments to doxygen format
vim-patch:8.2.1413: previous tab page not usable from an Ex command
vim-patch:8.2.1401: cannot jump to the last used tabpage
vim-patch:8.2.4454: resetting cmdwin_type only for one situation
vim-patch:8.2.4445: exit test fails on MS-Windows anyway
vim-patch:8.2.4444: beep caused by test
vim-patch:8.2.4442: test for error reading input fails on MS-Windows
vim-patch:8.2.4438: crash on exit when using cmdline window
vim-patch:8.2.4432: cannot use settabvar() while the cmdline window is open
vim-patch:8.2.4428: crash when switching tabpage while in the cmdline window
Merge pull request #17717 from dundargoc/doxygen/eval/funcs
refactor(eval/funcs): convert function comments to doxygen format
docs: remove extra whitespaces
chore(gen_vimdoc): fall back to `brief_desc_node` when `desc_node` is empty
refactor(gen_vimdoc): simplify `files` in `CONFIG`
chore(gen_vimdoc): call `delete_lines_below` only if the file exists
refactor(gen_vimdoc): detect `section_start_token` automatically
Merge pull request #17696 from dundargoc/refactor/minimize-scope
refactor: use Lua autocommands in filetype.lua (#17711)
refactor: minimize variable scope and eliminate empty declarations
Merge pull request #17697 from lewis6991/screenrefactor
refactor: column drawing
vim-patch:8.2.4557: confusing comment about 'cursorlineopt'
refactor: fix clint warnings (#17682)
test: fix runnvim.sh (#17690)
test(python3_spec): use a pattern to match SyntaxError message (#17705)
docs(api): improve section on nvim_set_hl (#17692)
Merge pull request #17702 from zeertzjq/vim-8.1.0877
vim-patch:8.2.3762: if quickfix buffer is wiped out getqflist() still returns it
vim-patch:8.2.3759: quickfix buffer becomes hidden while still in a window
test(old): add some missing tests from Vim patches 8.1.2320 and 8.1.2360
vim-patch:8.1.1015: quickfix buffer shows up in list, can't get buffer number
vim-patch:8.1.0892: failure when closing a window when location list is in use
vim-patch:8.1.0877: new buffer used every time the quickfix window is opened
fix(win_split_ins): do not fail when oldwin is not valid
feat(runtime): import cleanadd.vim from Vim (#17699)
fix: use normal! <C-L> in default <C-L> mapping (#17695)
Merge pull request #17687 from zeertzjq/fix-channel-consistency
Merge pull request #17691 from bfredl/serverconnect
feat(ui): connect to remote ui (only debug messages for now)
fix(signcol): always trigger a redraw
refactor(main): separate connection code from --remote execution code
test: improve terminal channel tests
fix(channel): fix channel consistency
vim-patch:8.2.3779: using freed memory when defining a user command recursively (#17688)
Merge pull request #17680 from zeertzjq/vim-8.2.4440
vim-patch:partial:a2baa73d1d33 (#17675)
docs: remove "not in vi" notes (#17678)
Merge pull request #17439 from groves/1750
fix(remote): use STATIC_CSTR_AS_STRING
fix(remote): respect silent in error reporting
fix(remote): report connection error, missing return values
fix(remote): report on missing wait commands, typecheck lua results
docs(remote): update remote.txt for current nvim implementation
docs(remote): restore remote.txt from removal in f2205b83c553367a76b6cad
test(remote): add tests for --remote
fix(remote): make compile again
feat(remote): add basic --remote support
vim-patch:8.2.4443: regexp pattern test fails on Mac
vim-patch:8.2.4440: crash with specific regexp pattern and string
Merge pull request #17673 from dundargoc/refactor/clint
Merge pull request #17663 from dundargoc/refactor/uncrustify
fix(coverity): dead code and operands don't affect result  #17662
refactor: fix all clint warnings from buffer.c
Merge pull request #17672 from lewis6991/refactorprovider
Merge pull request #17665 from clason/bump-libuv
Merge pull request #17604 from dundargoc/ci/better-error-output
refactor(decorations): unglobal decor_providers
refactor(decorations): move provider code
build(deps): bump libuv to 1.44.1
Merge pull request #17660 from bfredl/luacomplete
Merge pull request #17671 from zeertzjq/vim-8.2.3949
test: add a test for #17489
vim-patch:8.2.3950: going beyond the end of the line with /\%V
vim-patch:8.2.3949: using freed memory with /\%V
ci: refactor and simplify CI process
ci: remove function run_suite
ci: remove variable FAIL_SUMMARY
ci: remove variable NVIM_TEST_CURRENT_SUITE
ci: remove fail character from fail function
refactor(uncrustify): format all c files
refactor(uncrustify): disable uncrustify for misformatted code sections
Merge pull request #17653 from dundargoc/chore/lgtm
chore: fix typos (#17331)
chore(regexp.c): correctly align META_flags (#17668)
Merge pull request #16336 from kylo252/vim-8.1.2005
Merge pull request #17666 from zeertzjq/api-statusline-fillchar-relax
vim-patch:8.1.2005: the regexp.c file is too big
feat(api): relax statusline fillchar width check
feat(lua): handle lazy submodules in `:lua vim.` wildmenu completion
Merge pull request #17640 from lewis6991/virttextfix
Merge pull request #17600 from kylo252/clang-format-update
chore: align clang-format configuration with clint
Merge pull request #17643 from dundargoc/chore/remove-stripdecls
Merge pull request #17502 from zeertzjq/vim-8.1.0999
chore(stripdecls): remove unused and no longer functional script
chore(lgtm): fix "empty block without comment" warnings
chore(lgtm): ignore "__eq__ not overridden" warning
Merge pull request #16730 from VVKot/vim-8.1.0136
vim-patch:partial 1588bc8ebee2 (#17657)
vim-patch:partial 1588bc8ebee2 (#17656)
vim-patch:8.1.0999: use register one too often and not properly tested
refactor(ops): use op_yank_reg() instead of op_yank() when deleting
vim-patch:8.1.0748: using sprintf() instead of semsg()
Merge pull request #17622 from dundargoc/refactor/clang-tidy/remove-redundant-casts
Merge pull request #17505 from zeertzjq/vim-8.2.0997
vim-patch:8.2.0997: cannot execute a register containing line continuation
fix(extmarks): fix signs
fix(line continuation): set growsize to correct value (#17655)
Merge pull request #17585 from zeertzjq/ci-freebsd-oldtests
fix: do not pass aucmd to the callback (#17650)
chore(aucmd): remove left-over debug log (#17649)
feat(api): autocmd `group` can be either name or id (#17559)
Merge pull request #17631 from zeertzjq/vim-8.2.4520
test: add a Lua screen test for CursorLineNr in diff mode
vim-patch:8.2.4520: using wrong highlight for cursor line number
Merge pull request #17642 from dundargoc/ci/macos/reduce-brew-output
ci(freebsd): enable oldtests
ci(macos): minimize log output from brew update
build(deps): bump tree-sitter to 0.20.6 (#17587)
build(deps): bump libuv to 1.44.0 (#17613)
Merge pull request #17635 from dundargoc/ci/freebsd/bump-to-latest
Merge pull request #17641 from dundargoc/ci/document-jobs
Merge pull request #17636 from bfredl/luacrash
ci: document the purpose of some non-obvious jobs
ci(freebsd): use image freebsd/latest
fix(lua): don't use nlua_error when exiting early
Merge pull request #17621 from bfredl/luaindex
chore(flake): bump flake (#17632)
refactor(lua): make vim submodule lazy loading declarative
Merge pull request #17626 from dundargoc/ci/openbsd/bump-to-latest
Merge pull request #17630 from kchibisov/fix-underline-regression
Merge pull request #17616 from zeertzjq/vim-8.2.3739
test: add a test for #17609
test(autochdir_spec): use better patterns
vim-patch:8.2.4513: window-local directory is not applied if 'acd' fails
vim-patch:8.2.4060: win_execute() slow on systems where getcwd()/chdir() is slow
vim-patch:8.2.3920: restoring directory after using another window is inefficient
vim-patch:8.2.3745: autochdir test fails without the +channel feature
vim-patch:8.2.3739: in wrong directory when using win_execute() with 'acd' set
ci(openbsd): use latest image
refactor: remove redundant casts
ci(clint): remove "Unknown NOLINT error category" warning
refactor(signcol): smarter invalidation (#17533)
Merge pull request #17628 from jamessan/bsd-gdb
fix(api): highlight attribute for underline
test(sr.ht): skip luamod-dev test which crashes nvim
feat(api): add 'buffer' argument to nvim_get_autocmds (#17594)
ci(bsd): install gdb to get backtraces from cores
fix(lsp): handle insertion of previous line (#17618)
Merge pull request #17623 from zeertzjq/lua-editor-mentions
docs(lua): reference runtime/lua/vim/_editor.lua
Merge pull request #16897 from lewis6991/signs
Merge pull request #17597 from dundargoc/build/cmake/fix-warnings
Merge pull request #17589 from kchibisov/add-dashed-dotted-underline
Merge pull request #17538 from dundargoc/refactor/bugprone-signed-char-misuse
Merge pull request #17603 from bfredl/luaworld
fix(lsp): start incremental sync range at previous newline character (#17610)
feat(decorations): support signs
fix: bounds check for underdot
Merge pull request #17611 from zeertzjq/vim-patch-pr-args
test(strcase_save): test overlong UTF8-encoding
feat(vim-patch.sh): support additional args for -s
refactor: fix clang-tidy bugprone-signed-char-misuse warnings
build(cmake): remove unused variable CMAKE_CXX_COMPILER to fix warning
refactor(lua): move only runtime lua file in src/ to runtime/lua
build(cmake): fix policy warning
Merge pull request #17601 from dundargoc/revert/libuv
revert: "build(deps): bump libuv to 1.43.0+7ae0c95"
fix(syntax): remove trailing spaces in vim.vim
Merge pull request #17598 from dundargoc/ci/reviewer/update-reviewers
ci(reviews): update reviewers
Merge pull request #17596 from zeertzjq/autocmd-comment
chore(autocmd): move comment to the right place
fix(autocmd): clean up autocmds only when needed (#17593)
fix(docs): spelling in new underlines docs
feat(tui): add support for `CSI 4 : [2,4,5] m`
Merge pull request #17567 from bfredl/preload
refactor(lua): reorganize builtin modules, phase 1
Merge pull request #17568 from groves/respect_os_proc_children_rv
Merge pull request #17564 from dundargoc/ci/freebsd/remove-deprecated-port
Merge pull request #17591 from zeertzjq/vim-8.2.4498
Merge pull request #17590 from bfredl/cbfree
vim-patch:8.2.4498: using <Plug> with "noremap" does not work
refactor(autocmd): simplify check for freed callback
Merge pull request #17584 from zeertzjq/test-pending-win32
test: use helpers.pending_win32(pending) in buffer_updates_spec
Merge pull request #17583 from zeertzjq/test-old-missing
test(old): add more missing test files and run more tests alone
feat(diagnostic): add "code" to the diagnostic structure (#17510)
Merge pull request #17579 from zeertzjq/ci-win-fail
Merge pull request #17571 from zeertzjq/pvs-autocmd
ci: show failed message on Windows
Merge pull request #17578 from zeertzjq/test-warning-poke
fix(lsp): respect all of 'fixeol', 'eol', and 'binary' applying edits (#17574)
Merge pull request #17575 from zeertzjq/pty-did-eof
test: mention poke_eventloop() instead of wait()
revert: "ci(windows): skip oldtest on windows until failing tests are fixed"
fix(pty_process_win/wait_eof_timer_cb): also check for proc->out.did_eof
Merge pull request #17572 from bfredl/testfix
fix(test): only use buffer completion in popupmenu timer test
refactor(clang): dead assignment buflocal_nr = 0
refactor(PVS/V547): aucmd.type == CALLABLE_NONE is always false
refactor(PVS/V560): ap == NULL is always false
Merge pull request #16804 from zeertzjq/ui-aucmd-docs
Merge pull request #17570 from zeertzjq/pvs-autocmd-header
chore(PVS): add PVS header to api/autocmd.c
Merge pull request #17569 from zeertzjq/test-mapping
test: move two mapping tests to ex_cmds/map_spec.lua
fix: respect os_proc_children rv of pid not found
fix: enable filetype detection and syntax highlighting with --clean (#17566)
Merge pull request #17542 from dundargoc/ci/skip-oldtest-on-windows
ci(windows): skip oldtest on windows until failing tests are fixed
ci(freebsd): remove deprecated package sha to fix warning
Merge pull request #17556 from zeertzjq/remove-unused-k-aucmd-special
Merge pull request #15079 from shadmansaleh/feat/verbose_lua
fix(api): include event in get_autocmds (#17553)
Merge pull request #17557 from zeertzjq/clarify-plug
docs: clarify actual behavior of <Plug>
refactor: remove unused K_AUCMD_SPECIAL
Merge pull request #17551 from bfredl/lua_autocmd_rebase
feat(lua): add missing changes to autocmds lost in the rebase
Merge pull request #17529 from seandewar/api-string-oopsie
Merge pull request #17476 from dundargoc/test/emmylua
fix: anonymous sid not working
feat(lua): show proper verbose output for lua configuration
Merge pull request #17544 from r0x0d/update-readme-for-fedora-link
docs: fix fedora broken link in readme
Merge pull request #14661 from tjdevries/tjdevries/lua_autocmd_v2
feat(lua): add api and lua autocmds
feat(lua): add <f-args> to user commands callback (#17522)
Merge pull request #16969 from shadmansaleh/enhance/ingore_nore_on_plug_keymaps
Merge pull request #17540 from jamessan/luv-bump-fix
ci(lint): re-add building of third-party
ci(lint): use bundled luv until system packages are updated
build: bump minimum version of luv to 1.43.0
vim-patch:c51cf0329809 (#17530)
Merge pull request #17386 from bfredl/neothread
Merge pull request #17432 from zeertzjq/vim-8.1.2336
chore: remove <Plug> detection from vim.keymap
feat: ignore nore on <Plug> maps
Merge pull request #17531 from dundargoc/refactor/coverity/big-parameter-passed-by-value
Merge pull request #17535 from dundargoc/test/ci-fold
test(ci): remove non-existent ci-fold from tests
Merge pull request #17525 from lf-/hardcopy-truecolor
fix(coverity/175977): big parameter passed by value
Merge pull request #17532 from dundargoc/ci/add-timeout
ci: add timeout to all jobs
fix(api): convert blob to NUL-terminated API string
refactor(lua): cleanup and docs for threads
Merge pull request #16845 from seandewar/floaty-aucmd-win
Merge pull request #17414 from zeertzjq/api-set-cursor-redraw
Merge pull request #17337 from dundargoc/refactor/pvs/v560
Merge pull request #17527 from zeertzjq/test-pending-win32
refactor(lua): use references directly on main thread
feat(lua): add proper support of luv threads
vim-patch:8.2.4464: Dtrace files are recognized as filetype D (#17518)
Merge pull request #17219 from clason/bump-luvit
Merge pull request #17479 from dundargoc/docs/usr04/update-Y-description
Merge pull request #17472 from lewis6991/signcol_improvements
test: use helpers.pending_win32(pending) instead of iswin()
build(deps): bump libuv to 1.43.0+7ae0c95
build(deps): bump luv to 1.43.0-0
feat(hardcopy): check gui colours for highlights first
Merge pull request #17467 from dundargoc/ci/remove-failing-windows
feat: call __tostring on lua errors if possible before reporting to user
fix(signcol): update cursor when signcol changes
refactor(signcol): store signcol in win_T
fix(signcol): handle edge case with maximum value
feat(filetype): support scripts.vim with filetype.lua (#17517)
feat(highlight): support for blend in nvim_set_hl (#17516)
Merge pull request #17390 from RenFraser/feature/packaging
docs: update explanation of Y to reflect new defaults
ci: improved cpack packaging
fix(api)!: correctly handle negative line numbers for nvim_buf_set_text (#17498)
vim-patch:partial 944697ae196 (#17493)
refactor(aucmd_win): remove need to restore window layout
fix(aucmd_win): ensure aucmd_win stays floating
feat(api): implement nvim_buf_get_text (#15181)
vim-patch:partial 944697ae1968 (#17490)
refactor(highlight)!: optional arguments for highlight.range as table (#17462)
fix(highlight): accept NONE as a color name (#17487)
Merge pull request #17484 from dundargoc/ci/skip-ci-on-doc-changes
ci: skip ci workflow on only documentation changes
Merge pull request #17403 from zeertzjq/vim-8.1.1955
docs: clarify ftdetect scripts loading during packadd (#17465)
Merge pull request #17480 from zeertzjq/vim-8.2.4427
vim-patch:8.2.4427: getchar() may return modifiers if no character is available
fix(diagnostic): use botright copen for qflist (#17475)
test: correct emmylua annotations
fix(lsp): use botright copen for all handlers (#17471)
Merge pull request #17469 from jamessan/use-sysdeps-for-lint-ci
Merge pull request #17470 from dundargoc/ci/remove-success
ci: remove success check since it's the default
ci: skip tests that fail on windows
ci(win): use vswhere to automatically setup required vsdev env vars
ci: bump Windows image to windows-2019
ci: only cache third-party deps if they exist
ci: ensure ~/.cache exists
ci(lint): explicity build nvim
ci(lint): build against system deps
ci(lint): install deps via apt instead of building from third-party
Merge pull request #17460 from seandewar/vim-8.2.4419
vim-patch:8.2.4424: ".gts" and ".gjs" files are not recognized (#17464)
fix: lsp and diagnostic highlight priority (#17461)
vim-patch:8.2.4422: autochdir test fails on MS-Windows
vim-patch:8.2.4419: illegal memory access when using 20 highlights
vim-patch:8.2.4418: crash when using special multi-byte character
vim-patch:8.2.4403: ml_get error with nested folds and deleting lines
Merge pull request #17454 from dundargoc/ci/labeler/test
ci(labeler): change "tests" to "test"
vim-patch:8.2.4414: solidity files are not recognized (#17451)
Merge pull request #17200 from lewis6991/_loadfile
Merge pull request #17445 from dundargoc/ci/review/use-checkout
Merge pull request #17404 from dundargoc/ci/put-each-test-in-separate-step
Merge pull request #17450 from dundargoc/ci/lint/fix-key
ci(lint): simplify cache key
refactor(lua): call loadfile internally
ci: run each test suite in a separate github step
Merge pull request #17449 from zeertzjq/vim-8.2.3659
vim-patch:8.2.3661: test for put with large count fails
vim-patch:8.2.3660: overflow check uses wrong number
vim-patch:8.2.3659: integer overflow with large line number
Merge pull request #17433 from seandewar/vim-8.2.3492
ci: download reviews.js through checkout instead of wget
Merge pull request #17430 from dundargoc/test/remove-travis
vim-patch:8.2.4411: bicep files are not recognized (#17447)
Merge pull request #17427 from dundargoc/ci/lint/remove-unnecessary-steps
test: remove checks to see if current CI job is travis or appveyor
ci(lint): remove unnecessary steps
Merge pull request #17442 from dundargoc/ci/refactor/move-reviews
Merge pull request #17444 from clason/hl-empty-cterm
fix(api): allow empty list for cterm in nvim_set_hl
vim-patch:8.2.3601: check for overflow in put count does not work well
fix(ops): str_to_reg passing NULL to memcpy
vim-patch:8.2.3577: overflow check fails with 32 ints
vim-patch:8.2.3575: overflow check still fails when sizeof(int) == sizeof(long)
vim-patch:8.2.3574: divide by zero
vim-patch:8.2.3573: cannot decide whether to skip test that fails with 64 bit
vim-patch:8.2.3570: Test_very_large_count fails on 32bit systems
vim-patch:8.2.3493: large count test fails on MS-Windows
vim-patch:8.2.3492: crash when pasting too many times
ci(reviews): move reviews.js to .github/scripts
Merge pull request #17421 from lewis6991/hl0_clear
test: add more tests for :*map cursor and redrawing
vim-patch:8.2.4401: map listing does not clear the rest of the command line
test: add some tests for :*map <expr>
vim-patch:8.2.4338: an error from an expression mapping messes up the display
vim-patch:8.1.2336: when an expr mapping moves the cursor it is not restored
Merge pull request #17431 from zeertzjq/vim-8.2.4345
feat(highlight): support color names for cterm
Merge pull request #17429 from zeertzjq/vim-8.2.4400
vim-patch:8.2.4345: <amatch> is expanded like a file name for DirChangedPre
Merge pull request #17363 from zeertzjq/dirchangedpre
vim-patch:8.2.4400: MS-Windows: cannot use the mouse in the console with VIMDLL
fix(highlight): allow globals to be cleared
feat(tree-sitter): allow Atom-style capture fallbacks (#14196)
Merge pull request #16678 from lewis6991/runtime_file_err
Merge pull request #17424 from zeertzjq/map-followup
refactor: remove NULL check that is always true
docs: minor changes related to mapping description
feat(mappings): considering map description when filtering (#17423)
Merge pull request #17422 from shadmansaleh/enhance/maps
fix: <Nop> not shown in :map commands
chore: improve lua keymaps internal representation scheme
Merge pull request #17418 from dundargoc/revert/ci/run-functionaltest-on-draft
fix(api): re-route nvim_get_runtime_file errors
fix(api): validate command names in nvim_add_user_command (#17406)
Merge pull request #17417 from zeertzjq/vim-8.2.4388
vim-patch:8.2.4388: dead code in op_insert()
revert: "ci: run functionaltest-lua on drafts as well"
Merge pull request #17411 from zeertzjq/vim-8.2.3820
Merge pull request #17412 from zeertzjq/vim-8.2.4154
Merge pull request #17409 from dundargoc/ci/disable-sync
Merge pull request #17405 from dundargoc/ci/add-more-reviewers
fix(api): nvim_win_set_cursor() redraw for cursorline and statusline
vim-patch:8.2.4154: ml_get error when exchanging windows in Visual mode
vim-patch:8.2.3820: "vrc" does not replace composing characters
Merge pull request #17410 from zeertzjq/test-old-reorder
test(old): reorder test_functions.vim and test_visual.vim to match Vim
Merge pull request #17402 from seandewar/vim-8.2.4120
Merge pull request #17394 from zeertzjq/vim-8.2.4343
ci(labeler): disable sync that interferes with other jobs
ci: add more reviewers
vim-patch:8.2.4152: block insert with double wide character fails
vim-patch:8.2.4151: reading beyond the end of a line
vim-patch:8.2.4120: block insert goes over the end of the line
vim-patch:8.2.3073: when cursor is move for block append wrong text is inserted
test(old): cherry-pick test_visual changes from v8.2.2945
test(old): cherry-pick test_visual changes from v8.2.2901
test(old): cherry-pick test_visual changes from v8.2.0369
Merge pull request #17399 from zeertzjq/ci-review-script
vim-patch:8.2.0156: various typos in source files and tests
vim-patch:8.1.1955: tests contain typos
vim-patch:8.1.1846: inconsistently using GetVimCommand() and v:progpath
vim-patch:8.2.4343: when reloading not all properties are detected
ci: use a separate script for request review workflow
refactor(PVS/V560): part of conditional expression is always true/false
Merge pull request #17154 from neovim/marvim/api-doc-update/master
Merge pull request #17374 from zeertzjq/vim-8.2.3510
docs: regenerate [skip ci]
docs: treesitter.txt - fix overflowing lines, document minimum_language_version (#17286)
Merge pull request #17392 from zeertzjq/ci-review-open-only
vim-patch:8.2.3534: autoread test is a bit flaky
vim-patch:8.2.3515: nano time test fails on Mac and FreeBSD
vim-patch:8.2.3514: autoread test with nano second time sometimes fails
vim-patch:8.2.3512: timestamp test fails on some systems
vim-patch:8.2.3510: changes are only detected with one second accuracy
ci: only request review on open non-draft PRs
Merge pull request #16914 from godlygeek/fix_14587
Merge pull request #17380 from dundargoc/ci/labeler/add-filetype-label
Merge pull request #17375 from shadmansaleh/fix/vim.g/autoload
Merge pull request #17389 from zeertzjq/restore-oldtests
test(old): add test_cdo.vim and test_packadd.vim
Merge pull request #17388 from zeertzjq/test-assert
test(old): move some tests from assert_spec.lua to test_assert.vim
Merge pull request #17385 from seandewar/vim-8.2.4359
vim-patch:8.2.4364: MS-Windows: still running out of memory for a very long line
Merge pull request #16643 from zeertzjq/vim-8.1.2184
vim-patch:8.1.2184: option context is not copied when splitting a window
vim-patch:8.2.4363: MS-Windows: running out of memory for a very long line
Merge pull request #17382 from zeertzjq/vim-8.2.2342
vim-patch:8.2.4362: :retab may allocate too much memory
fix: autoload variables not loaded with vim.g & nvim_get_var
Merge pull request #17379 from clason/vim-8.2.4352
vim-patch:8.2.4359: crash when repeatedly using :retab
Merge pull request #17383 from lewis6991/sign_eff
refactor(signs): more efficient signcol calc
Merge pull request #17381 from zeertzjq/vim-8.2.0580
ci(labeler): add filetype label if any filetype files have changed
vim-patch:8.2.2342: "char" functions may return wrong column in Insert mode
vim-patch:8.2.0580: window size wrong if 'ea' is off and 'splitright' is on
Merge pull request #17377 from clason/keyset-more
Merge pull request #17269 from seandewar/vim-8.2.0915
Merge pull request #17376 from dundargoc/ci/reviews/upgrade-to-v6
Merge pull request #17371 from dundargoc/revert/continue-on-error
vim-patch:8.2.0922: search test fails
vim-patch:8.2.0918: duplicate code for evaluating expression argument
vim-patch:8.2.0915: search() cannot skip over matches like searchpair() can
feat(api): add strikethrough, nocombine to set_hl
vim-patch:8.2.4352: ReScript files are not recognized
ci(reviews): upgrade github-script version to v6
revert: "ci: use continue-on-error instead of "|| true""
Merge pull request #17370 from dundargoc/ci/fix-reviews-workflow
Merge pull request #16841 from zeertzjq/vim-8.1.2073
test: convert some colorcolumn tests to Lua screen tests
vim-patch:8.1.2073: when editing a buffer 'colorcolumn' may not work
Merge pull request #17325 from glacambre/stdioopen_doc
Merge pull request #17372 from dundargoc/ci/commitlint/fix-revert-bug
ci(commitlint): allow first non-space character to be a quote
docs(stdioopen): add missing documentation for on_print param
Merge pull request #17284 from dundargoc/ci/reduce-noise
ci: disable tracing (set -x) from the shell scripts
Merge pull request #17365 from kevinhwang91/fix-ts-empty-lines
ci: fix reviews workflow by sending an artifact with PR number
fix(lsp): correct prefix when filterText is present (#17051)
Merge pull request #17368 from zeertzjq/test-filechanged-dialog
fix: append test for checking zero width node range
test: convert Test_file_changed_dialog() to Lua functional test
Merge pull request #17360 from lewis6991/fix-window-close
fix(query.lua): check empty table for lines
feat(events): add DirChangedPre
Merge pull request #17012 from EdmundsEcho/fix-checkhealth
Merge pull request #17353 from zeertzjq/api-changedir-func
Merge pull request #17359 from dundargoc/ci/update-reviewers-on-manual-labeling
ci: add reviewers if labels are manually added after PR creation
Merge pull request #17322 from dundargoc/ci/simplify-ci-process
fix: close floating windows when calling win_close()
Merge pull request #16868 from zeertzjq/vim-8.1.2221
ci: remove function run_test
ci: remove meta-suite "tests"
ci: remove continue flag from exit_suite since it's always needed
ci: run all tests with run_suite function
Merge pull request #17355 from zeertzjq/test-screenpos
test(old): comment out WinBar instead of skipping Test_screenpos()
fix(api): use changedir_func() in nvim_set_current_dir()
Merge pull request #17349 from dundargoc/ci/add-more-reviewers-from-label
vim-patch:8.2.4336: using :filter for :scriptnames does not work
vim-patch:8.1.2221: cannot filter :disp output
Merge pull request #17342 from zeertzjq/mbyte-const
vim-patch:8.2.4337: part of condition is always true (#17352)
Merge pull request #17345 from zeertzjq/vim-8.2.4329
Merge pull request #17346 from zeertzjq/vim-8.2.4242
Merge pull request #17350 from zeertzjq/vim-8.2.1316
vim-patch:8.2.2202: write file test still fails on MS-Windows
vim-patch:8.2.2201: write file test fails on MS-Windows
vim-patch:8.2.2199: first write after setting 'eol' does not have NL added
vim-patch:8.2.1316: test 42 is still old style
ci: add more reviewers based on label
Merge pull request #17347 from zeertzjq/screen-pvs
refactor(PVS/V547): p == NULL is always false
vim-patch:8.2.4315: put in Visual mode not fully tested
vim-patch:partial:f10911e5db16
vim-patch:8.2.4242: put in Visual mode cannot be repeated
vim-patch:8.2.4329: no support for end line number and column in 'errorformat'
fix(healthcheck): handle empty reports
Merge pull request #17321 from dundargoc/refactor/pvs/v547
refactor(mbyte.c): add const qualifiers
Merge pull request #17341 from zeertzjq/clang-suppress
chore(clang): suppress "result of operation is garbage"
Merge pull request #17332 from cryptomilk/asn-vterm-output-callback
Merge pull request #17330 from dundargoc/ci/add-reviewer-from-label
Merge pull request #17326 from zeertzjq/vim-8.1.2297
vim-patch:8.1.2297: the ex_vimgrep() function is too long
Merge pull request #17328 from zeertzjq/vim-8.2.0197
Merge pull request #16553 from seandewar/vim-8.2.0878
ci: add write permissions to add-reviewer job
refactor(PVS/V547): expression is always true/false
Merge pull request #17334 from zeertzjq/vim-8.2.4326
vim-patch:8.2.4326: "o" and "O" copying comment not sufficiently tested
feat(term): use vterm_output_set_callback()
chore(deps): use https for downloading libvterm and libtermkey
Merge pull request #17327 from zeertzjq/test-ex-mode
vim-patch:8.2.0197: some Ex commands not sufficiently tested
test: add Lua functional tests for Ex mode
Merge pull request #17324 from zeertzjq/vim-patch-sh-read
Merge pull request #17323 from dundargoc/ci/add-reviewer-from-label
chore(vim-patch.sh): use piping instead of here string for `while read`
Merge pull request #17311 from zeertzjq/vim-8.2.4303
chore: fix typos (#17250)
Merge pull request #16873 from seandewar/vim-8.2.1665
ci: add reviewers based on label
docs(fuzzy-match): cherry-pick latest changes
vim-patch:8.2.2813: cannot grep using fuzzy matching
vim-patch:8.2.2280: fuzzy matching doesn't give access to the scores
vim-patch:8.2.1921: fuzzy matching does not recognize path separators
vim-patch:8.2.1893: fuzzy matching does not support multiple words
vim-patch:8.2.1872: matchfuzzy() does not prefer sequential matches
vim-patch:8.2.1726: fuzzy matching only works on strings
vim-patch:8.2.1665: cannot do fuzzy string matching
ci: run all suites with run_suite function
chore(typval): return NULL over false for pointer return type (#17316)
Merge pull request #17263 from zeertzjq/vim-8.2.0208
vim-patch:8.2.3939: MS-Windows: fnamemodify('', ':p') does not work
vim-patch:8.2.3824: no ASAN support for MSVC
vim-patch:8.2.0942: expanding to local dir after homedir keeps "~/"
vim-patch:8.2.0215: wrong file name shortening
vim-patch:8.2.0208: fnamemodify() does not apply ":~" when followed by ":."
Merge pull request #17299 from zeertzjq/vim-8.1.0711
vim-patch:8.1.0711: test files still use function!
vim-patch:7.4.1228
vim-patch:7.4.1181
vim-patch:7.4.1178
vim-patch:7.4.1173
vim-patch:7.4.1167
vim-patch:7.4.1164
vim-patch:7.4.1163
Merge pull request #17305 from zeertzjq/vim-8.2.1741
Merge pull request #17279 from zeertzjq/state-enter-vpeekc
Merge pull request #17302 from lewis6991/pkg_ldr
Merge pull request #17306 from clason/vim-8.2.4305
Merge pull request #17277 from laomaiweng/windows-debug-symbols
Merge pull request #17310 from jamessan/commitlint
ci(commitlint): use lintcommit.lua from main repo
vim-patch:8.2.4307: a few more messages should not be translated
vim-patch:8.2.4303: a few messages should not be translated
vim-patch:8.2.4306: no test for fixed perl filetype check
vim-patch:8.2.4305: tex filetype detection fails
vim-patch:8.2.1741: pathshorten() only supports using one character
Merge pull request #17194 from zeertzjq/inccommand-prev-sub
Merge pull request #16862 from seandewar/vim-8.2.2658
fix(lua): restore priority of the preloader
Merge pull request #17077 from zeertzjq/vim-8.2.2324
vim-patch:partial:6aa57295cfbe
vim-patch:partial:2346a6378483
vim-patch:8.2.2363: curpos() does not accept a string argument as before
vim-patch:8.2.2324: not easy to get mark en cursor posotion by character count
vim-patch:8.2.1727: a popup created with "cursorline" will ignore "firstline"
feat(eval): port emsg from v8.2.3284
vim-patch:8.2.2661: leaking memory when looping over a string
vim-patch:8.2.2658: :for cannot loop over a string
fix(diff): make algorithm work for vim.diff (#17300)
Merge pull request #17199 from glacambre/fix_9358
Merge pull request #17020 from seandewar/vim-8.1.2342
Merge pull request #17290 from dundargoc/ci/simplify-ci-process
vim-patch:8.2.0233: crash when using garbagecollect() in between rand()
vim-patch:8.1.2357: no test with wrong argument for rand()
vim-patch:8.1.2356: rand() does not use the best algorithm
docs(rand): cherry-pick changes from rt update 0c0734d
vim-patch:8.1.2343: using time() for srand() is not very random
vim-patch:8.1.2342: random number generator in Vim script is slow
Merge pull request #17274 from dundargoc/chore/correct-minimum-python-version
chore(gen_vimdoc): correct minimum python version
Merge pull request #17298 from zeertzjq/vim-8.2.4298
vim-patch:8.2.4298: divide by zero with huge tabstop value
fix(--headless): do not block on press-enter prompts when no UI
Merge pull request #17275 from bfredl/keysethl
Merge pull request #17297 from zeertzjq/test-expand
test(old): add test_expand.vim
ci: simplify CI process
Merge pull request #17288 from zeertzjq/vim-8.2.1128
Merge pull request #17287 from zeertzjq/vim-8.1.2133
vim-patch:8.2.1128: the write message mentions characters, but it's bytes
vim-patch:8.1.2133: some tests fail when run as root
Merge pull request #17152 from zeertzjq/vim-8.2.3583
test: convert some search stat screendump tests to Lua screen tests
vim-patch:8.2.3583: the "gd" and "gD" commands do not update search stats
test(old): fix test order in test_search_stat.vim
Merge pull request #17272 from zeertzjq/vim-8.1.0846
vim-patch:8.2.3797: no good reason to limit the message history in tiny version
vim-patch:8.2.0687: some tests do not work on FreeBSD
vim-patch:8.2.0352: FreeBSD: test for sourcing utf-8 is skipped
vim-patch:8.2.0305: relativenumber test fails on some systems
vim-patch:8.1.2358: tests fail on Cirrus CI for FreeBSD
vim-patch:8.1.0884: double check for bsd systems
vim-patch:8.1.0878: test for has('bsd') fails on some BSD systems
docs: update feature-list
vim-patch:8.1.0846: not easy to recognize the system Vim runs on
Merge pull request #17283 from dundargoc/ci/reduce-log-output
ci: only show last 100 lines of log on error
Merge pull request #17282 from dundargoc/chore/remove-duplicate-entry
chore(gen_vimdoc): remove duplicate extmark.c entry
Merge pull request #16976 from seandewar/vim-8.2.4018
fix(api/nvim_win_call): share common win_execute logic
vim-patch:8.2.4028: ml_get error with :doautoall and Visual area
vim-patch:8.2.4026: ml_get error with specific win_execute() command
vim-patch:8.2.4018: ml_get error when win_execute redraws with Visual selection
Merge pull request #16818 from zeertzjq/vim-8.2.3454
Merge pull request #17226 from dundargoc/refactor/remove-redundant-code
Merge pull request #17268 from zeertzjq/health-noshell
fix(health): do not run external processes in a shell
build(win): don't try to package a PDB if not building with MSVC…
fix(event-loop): call vpeekc() directly first to check for character
build(win): package the debug symbols (PDB file) along with nvim.exe
refactor(api): use a keyset for highlight dicts
Merge pull request #17245 from zeertzjq/vim-8.2.3219
Merge pull request #17271 from zeertzjq/vim-8.2.3947
vim-patch:8.2.4283: using a variable for the return value is not needed
vim-patch:8.2.3947: unnecessary check for NULL pointer
Merge pull request #16879 from zeertzjq/vim-8.2.3966
vim-patch:8.2.3966: when using feedkeys() abbreviations may be blocked
Merge pull request #17187 from lewis6991/master
feat(highlight): ns=0 to set :highlight namespace
Merge pull request #17113 from zeertzjq/vim-8.2.2569
vim-patch:8.2.3219: :find searches non-existing directories
vim-patch:8.2.4274: Basic and form filetype detection is incomplete (#17259)
Merge pull request #17261 from zeertzjq/vim-8.2.4273
vim-patch:8.2.4273: the EBCDIC support is outdated
Merge pull request #17254 from zeertzjq/vim-8.2.3787
Merge pull request #17231 from seandewar/vim-8.2.4245
vim-patch:c4573eb12dba (#17258)
vim-patch:partial:f10911e5db16 (#17248)
[RFC] fix: has('python') error (#17252)
vim-patch:8.2.4267: unused entry in keymap enum (#17255)
vim-patch:8.2.1083: crash when using reduce() on a NULL list
vim-patch:8.2.1051: crash when changing a list while using reduce() on it
vim-patch:8.2.0882: leaking memory when using reduce()
feat(eval): partially port v8.2.0878
refactor(indent_c.c): add const qualifiers
vim-patch:8.2.3938: line comment start is also found in a string
vim-patch:8.2.3935: CTRL-U in Insert mode does not fix the indent
vim-patch:8.2.3934: repeating line comment is undesired for "O" command
vim-patch:8.2.3932: C line comment not formatted properly
vim-patch:8.2.3787: no proper formatting of a C line comment after a statement
test: remove 003_cindent_spec.lua
Merge pull request #17239 from seandewar/vim-8.2.3629
Merge pull request #17068 from VVKot/vim-8.2.3933
vim-patch:8.1.2412: crash when evaluating expression with error (#17109)
vim-patch:8.2.3532: the previous '' mark is restored after moving the cursor (#17246)
vim-patch:8.2.3475: expression register set by not executed put command (#17211)
vim-patch:8.2.3933: after ":cd" fails ":cd -" is incorrect
test(oldtest): unskip Test_addr_all
vim-patch:8.2.3629: command completion in cmdline window uses global commands
vim-patch:8.2.3433: :delcommand does not take a -buffer option
Merge pull request #16748 from zeertzjq/vim-8.1.1434
vim-patch:8.2.4241: some type casts are redundant
docs(tutor): modify for Neovim rather than Vim (#17092)
docs: add example to vim.ui.select (#17241)
Merge pull request #17244 from zeertzjq/vim-8.2.0092
vim-patch:8.2.0950: tagjump test fails
vim-patch:8.2.0092: tags functionality insufficiently tested
chore: typo fixes (#16921)
Merge pull request #16975 from dstein64/vim-8.2.3917
vim-patch:partial:04fb916
vim-patch:8.2.3917: the eval.txt help file is way too big
feat(filetype): convert patterns for mail buffers (#17238)
Merge pull request #17222 from bfredl/babajpy2
feat(provider)!: remove support for python2 and python3.[3-5]
Merge pull request #17192 from zeertzjq/aucmd-redrawingdisabled
Merge pull request #17202 from zeertzjq/unused-orig-rhs
vim-patch:8.2.4251: vala files are not recognized (#17235)
vim-patch:8.2.4090: after restoring a session buffer order can be quite different (#17112)
Merge pull request #17234 from zeertzjq/vim-8.2.4248
vim-patch:8.2.4248: no proper test for moving the window separator
vim-patch:8.2.4052: not easy to resize a window from a plugin (#17028)
Merge pull request #17209 from bb010g/patch-1
vim-patch:8.2.0028: searchpairpos() is not tested (#17232)
vim-patch:8.2.4245: ":retab 0" may cause illegal memory access
refactor: add `static` to some functions in `funcs.c` (#17030)
Merge pull request #17220 from zeertzjq/unget-alt-chord
vim-patch:8.2.3678: illegal memory access
vim-patch:8.2.3581: reading character past end of line
vim-patch:8.2.3540: the mark '] is wrong after put with a count
vim-patch:8.2.3497: put test fails when run by itself
vim-patch:8.2.3455: using a count with "gp" leaves '] in wrong position
vim-patch:8.2.3454: using a count with "gp" leave cursor in wrong position
fix(input): remove reinterpreted ALT/META chords from recorded macro
Merge pull request #16951 from zeertzjq/vim-8.2.4007
Merge pull request #17213 from zeertzjq/ci-lsan-failure
Merge pull request #17206 from dundargoc/ci/remove-python2
Merge pull request #16829 from zeertzjq/vim-8.2.2887
Merge pull request #17223 from clason/vim-8.2.4238
fix(eval): v:lua support for `-` in module names
vim-patch:8.2.4238: *.tf file could be fileytpe "tf" or "terraform"
Merge pull request #17216 from clason/vim-8.2.4233
vim-patch:8.2.4237: record buffer wrong if character in Select mode was not typed
Merge pull request #17183 from notomo/expose-extmark-right-gravity
vim-patch:8.2.4236: accessing freed memory
vim-patch:8.2.4235: invalid check for NULL pointer
vim-patch:8.2.4233: crash when recording and using Select mode
Merge pull request #16830 from kuuote/vim-8.2.3571
test(old): reorder test_register.vim according to upstream (#17215)
fix(completion): update submode message when selecting from API (#17022)
Merge pull request #16820 from seandewar/vim-8.1.2302
Merge pull request #16954 from f380cedric/vim-8.2.3402
vim-patch:8.2.3403: memory leak for :retab with invalid argument
vim-patch:8.2.3903: "gM" does not count tabs as expected (#16796)
ci: add intercept_tls_get_addr=0 to ASAN_OPTIONS
vim-patch:8.2.3612: using freed memory with regexp using a mark (#16973)
vim-patch:8.2.3669: buffer overflow with long help argument (#16971)
docs(helphelp): remove extra backtick interference (#17201)
Merge pull request #17185 from zeertzjq/vim-8.2.3993
Merge pull request #17175 from zeertzjq/vim-8.2.3095
Merge pull request #17136 from zeertzjq/vim-8.2.4133
feat(ts): expose minimum language version to lua (#17186)
vim-patch:8.2.3095: with 'virtualedit' set to "block" block selection is wrong
vim-patch:8.2.4112: function not deleted at end of test
vim-patch:8.2.3936: no proper test for maintaining change mark in diff mode
test(oldtest): partially port v8.1.2381
vim-patch:8.1.2302: :lockmarks does not work for '[ and ']
fix(ts): escape lang when loading parsers (#16668)
Merge pull request #17195 from dundargoc/refactor/assert-include
Merge pull request #17191 from zeertzjq/vim-8.2.4203
vim-patch:8.2.4133: output of ":scriptnames" goes into the message history
Merge pull request #17166 from Shougo/vim-8.2.4160
Merge pull request #17110 from zeertzjq/vim-8.2.3630
Merge pull request #17150 from zeertzjq/vim-8.2.4166
Merge pull request #17135 from seandewar/vim-8.2.0175
Merge pull request #17131 from zeertzjq/vim-8.2.3580
Merge pull request #17145 from zeertzjq/vim-8.2.0128
Merge pull request #17094 from zeertzjq/vim-8.2.4091
Merge pull request #17095 from zeertzjq/vim-8.2.3227
Merge pull request #17155 from zeertzjq/vim-8.2.3121
Merge pull request #17174 from zeertzjq/vim-8.2.3153
Merge pull request #17102 from zeertzjq/vim-8.2.1762
Merge pull request #17184 from zeertzjq/vim-8.2.4190
refactor: allocate an empty string as unused orig_rhs for Lua mappings
ci: remove all code containing python2
Merge pull request #17205 from clason/vim-8.2.4214
vim-patch:8.2.4219: reading before the start of the line
vim-patch:8.2.4217: illegal memory access when undo makes Visual area invalid
vim-patch:8.2.4215: illegal memory access when copying lines in Visual mode
vim-patch:8.2.4214: illegal memory access with large 'tabstop' in Ex mode
Merge pull request #17132 from zeertzjq/vim-8.2.3611
refactor: include missing assert header
Merge pull request #17204 from dundargoc/ci/windows/python-version
ci(windows): use the provided python from github actions
fix(inccommand): do not change reg_prev_sub when previewing
vim-patch:8.2.4196: various file types not recognized (#17182)
fix: set RedrawingDisabled before entering aucmd_win
test: add more tests for Insert mode Ctrl-V
vim-patch:8.2.4203: entering a character with CTRL-V may include modifiers
Merge pull request #15910 from glacambre/silent_stdioopen
feat(--headless): add on_print callback to stdioopen
Merge pull request #17143 from jamessan/coverity-fixes
test(unit): add unit tests for path_with_url
vim-patch:8.2.3153: URLs with a dash in the scheme are not recognized
vim-patch:8.2.4002: first char typed in Select mode can be wrong
vim-patch:8.2.3993: when recording a change in Select mode char appears twice
vim-patch:8.2.4190: all conceal tests are skipped without the screendumps feature
feat(api): expose extmark right_gravity and end_right_gravity
Merge pull request #17156 from zeertzjq/vim-8.2.3584
Merge pull request #17168 from zeertzjq/ins-char-typebuf-mods
vim-patch:6f4754b9f725 (#17179)
vim-patch:8.2.4188: not all gitconfig files are recognized (#17178)
vim-patch:8.2.4191: json5 files are not recognized (#17180)
vim-patch:8.2.4187: gnuplot file not recognized (#17177)
test(input): add more tests for K_SPECIAL escaping in ins_char_typebuf()
fix(input): put modifiers back into typeahead buffer when needed
Merge pull request #17169 from clason/bump-treesitter
build(deps): bump tree-sitter to v0.20.3
vim-patch:8.2.4160: cannot change the register used for Select mode delete
Merge pull request #16936 from zeertzjq/no-escape-csi
Merge pull request #17076 from notomo/expose-extmark-more-details
vim-patch:8.2.4172: filetype detection for BASIC is not optimal (#17161)
vim-patch:8.2.3587: compiler test fails with backslash file separator
vim-patch:8.2.3586: command completion test fails
vim-patch:8.2.3584: "verbose set efm" reports location of the :compiler command
vim-patch:8.2.3410: crash with linebreak, listchars and large tabstop
vim-patch:8.2.3121: 'listchars' "exceeds" character appears in foldcolumn
refactor: remove CSI unescaping and clean up related names and comments
refactor: remove the <xCSI> key
fix(input): never escape CSI bytes
docs(lsp): fix on_publish_diagnostics example (#17146)
feat(lsp): add handler for workspace/workspaceFolders (#17149)
vim-patch:8.2.4166: undo synced when switching buffer in another window
vim-patch:8.2.0128: cannot list options one per line
feat(api): expose extmark more details
fix(coverity/188749): nullify pointer to fix use-after-free
fix(coverity/340720): error if nvim_eval_statusline given invalid winid
refactor(coverity/345583): assert fp is non-NULL
refactor(coverity/345582): assert fp is non-NULL
test(put_spec): correctly order parameters to eq() (#17134)
Merge pull request #17130 from clason/bump-treesitter
refactor: source ftplugin.vim separately from filetype.vim (#17129)
vim-patch:8.2.0175: crash when removing list element in map()
vim-patch:8.2.3402: invalid memory access when using :retab with large value
build(deps): bump tree-sitter
vim-patch:8.2.3613: :find test fails
vim-patch:8.2.3611: crash when using CTRL-W f without finding a file name
vim-patch:8.2.3494: illegal memory access in utf_head_off
vim-patch:8.2.3580: gj does not move properly with a wide character
refactor: enable filetype detection before user startup scripts (#17040)
fix(man.vim): support calling :Man without a section again (#17119)
Merge pull request #16813 from neovim/marvim/api-doc-update/master
Merge pull request #17125 from jamessan/auto-prs-as-draft
ci: create automated PRs as draft PRs
docs: regenerate [skip ci]
Merge pull request #17122 from dundargoc/ci/remove-non-working-job
Merge pull request #17106 from jamessan/always-run-commitlint
ci: remove non-working add-reviewer job
ci(api-docs): avoid running ci for doc commits
ci(commitlint): use pull_request_target to avoid "skip ci"
perf(lsp): request only changed portions of the buffer in changetracking (#17118)
vim-patch:fd31be29b822 (#17114)
Merge pull request #15242 from dundargoc/docs/vim-patch/move-outsite-of-getting-started
docs: deprioritize vim-patch as a good beginner task
feat(statusline): support multibyte fillchar
vim-patch:8.2.3663: using %S in printf() does not work correctly
vim-patch:8.2.3630: printf() with %S does not handle multi-byte correctly
fix(lsp): avoid nil workspace/symbol query (#17107)
fix(lsp): fetch offset_encoding from client in references (#17104)
Merge pull request #16836 from bfredl/mark2
feat: use nvim_buf_set_extmark for vim.highlight (#16963)
refactor(extmarks): use a more efficient representation
Merge pull request #17001 from mjlbach/feat/non-strict-extmarks
Hopefully last attempt
Address review r3
vim-patch:8.2.1762: when a timer uses :stopinsert completion isn't stopped
vim-patch:8.2.4095: sed script not recognized by the first line (#17101)
vim-patch:8.2.4094: 'virtualedit' is window-local but using buffer-local enum
vim-patch:8.2.3280: 'virtualedit' local to buffer is not the best solution
vim-patch:8.2.3227: 'virtualedit' can only be set globally
vim-patch:8.2.4091: virtcol is recomputed for statusline unnecessarily
feat(lsp): dynamically generate list title in response_to_list (#17081)
fix(filetype): expand tildes in filetype patterns (#17091)
Merge pull request #16998 from zeertzjq/lua-vim-var-funcref
fix(lsp): always split text edits on \r, \r\n, and \n (#17087)
Merge pull request #17086 from zeertzjq/vim-8.1.2375
vim-patch:8.1.2375: no suffucient testing for registers
Merge pull request #16978 from gpanders/filetype-updates
fix(filetype): fix foam pattern detection
feat(filetype.lua): fix .cc file not detected
feat(filetype.lua): add support for files under .git
feat(filetype.lua): add support for patch files
feat(filetype.lua): add support for tmux.conf files
feat(filetype.lua): fix .env file not detected
vim-patch:8.2.4077: not all Libsensors files are recognized (#17080)
fix(lsp): forward offset_encoding in rename handler (#17079)
fix(lsp): forward offset_encoding to apply_text_edits (#17075)
Merge pull request #17034 from zeertzjq/compl-lua-select
fix(lsp): strictly enforce passing offset encoding (#17049)
fix(lsp): handle negative activeSignature in signatureHelp (#17064)
fix(lsp): fix applying multiple out-of-range TextEdits (#17037)
Merge pull request #16945 from theHamsta/cached-queries
feat(api, lua): more conversions between LuaRef and Vim Funcref
fix(keywordprg): retain terminal buffer after K (#17046)
Address review r2
Address 'review'
Merge pull request #17058 from clason/bump-treesitter
build(deps): bump treesitter to commit bf210f0
Merge pull request #17054 from jamessan/debug-publish-issues
ci(release): enable gh's api debug logs when creating the release
Merge pull request #17045 from gpanders/diagnostic-fixups
feat(diagnostic): allow retrieving current diagnostic config
fix(diagnostic): only set default handler config if unset
fix(diagnostic): allow setting arbitrary config values
fix(diagnostic): resolve nil opts tables
vim-patch:8.2.4064: foam files are not detected (#17041)
refactor(lsp): debounce timer per buf and unify with non-debounce (#17016)
Merge pull request #16962 from f380cedric/vim-8.2.3409
vim-patch:2f0936cb9a2e (#17007)
Merge pull request #16961 from f380cedric/vim-8.2.3582
feat(completion): support selecting item via API from Lua mapping
fix(man.vim): fix search function on some systems (#13709)
fix(lsp): ensure pending changes are flushed on skipped debounce (#17015)
Merge pull request #17025 from zeertzjq/compl-k-lua
fix(completion): prevent K_LUA from closing pum
Merge pull request #17006 from vigoux/tree-sitter-alloc
Merge pull request #17013 from dundargoc/ci/continue-on-error
Merge pull request #16849 from dundargoc/refactor/pvs/v1048
ci: add a continue-on-error to the add-reviewer jobs
test: use old style test for testing filetype.lua (#17003)
fix(api): validate user_command name (#17004)
Merge pull request #16965 from dundargoc/ci/add-reviewer-based-on-label
ci: add reviewer based on label
feat(treesitter): set allocator when possible
Merge pull request #16983 from dundargoc/test/add-vimruntime-variable
Merge pull request #17000 from dundargoc/ci/use-continue-on-error
refactor(PVS/V1048): ignore "assigned the same value" warning
Merge pull request #16979 from dundargoc/ci/add-tsan-clang-sanitizer
fix(lsp): only send valid params in executeCommand (#16987)
feat(extmarks): add strict option
Merge pull request #16848 from dundargoc/refactor/prevent-overflow-by-casting
test: remove redundant feed_command('terminal') (#16993)
ci: use continue-on-error instead of "|| true"
test: add VIMRUNTIME variable to the clear function
Merge pull request #16991 from bk2204/ex-mode
fix(lsp): resolve bufnr for get_lines (#16986)
fix: make mode() return correct value in ex mode
fix(filetype): match negative priority patterns after extensions (#16980)
vim-patch:8.2.4033: running filetype tests leaves directory behind (#16984)
ci: set CLANG_SANITIZER variable to TSAN when running the tsan job
Merge pull request #16970 from dundargoc/ci/serialize-labeler-workflow
ci: run type-scope job after the triage job
feat(lsp): skip or reduce debounce after idle (#16881)
vim-patch:8.2.4014: git and gitcommit file types not properly recognized (#16953)
vim-patch:8.2.4007: session does not restore help buffer properly
vim-patch:8.2.0951: search stat test has leftover from debugging (#16967)
fix(runtime): check markdownError before syn-clear (#16930)
fix(lua): print multiple return values with =expr (#16933)
feat(lua): add notify_once() (#16956)
vim-patch:8.2.3582: reading uninitialized memory when giving spell suggestions
Merge pull request #16591 from shadmansaleh/feat/lua_keymaps2
Merge pull request #16817 from lewis6991/master
perf(treesitter): cache query parsing
vim-patch:8.2.3409: reading beyond end of line with invalid utf-8 character
Merge pull request #16942 from gpanders/test-filetype-lua
chore: remove lspconfig checkhealth from issue template (#16948)
fix(filetype): normalize slashes in file paths
test(filetype): port test_filetype to Lua
fix(filetype): match on <afile> rather than <abuf> (#16943)
feat(lsp): enable default debounce of 150 ms (#16908)
vim-patch:8.2.3999: redundant check for NUL byte
vim-patch:8.2.3414: fullcommand() gives wrong name with buffer-local user command
vim-patch:8.2.2887: crash when passing null string to fullcommand()
feat(autocmd): populate v:event in RecordingLeave (#16828)
feat(filetype.lua): add support for txt files (#16926)
chore: ignore unused args in filetype functions (#16927)
test: fix absolute paths in filetype_spec (#16920)
fix(filetype): set default ft_ignore_pat in filetype.lua (#16917)
feat(filetype.lua): Add typescript extension to filetype detection (#16923)
fix(api): force redefinition of user commands by default (#16918)
chore: fix typos (#16816)
fix(lsp): suppress ContentModified errors from UI (#16904)
feat(lua): add vim.keymap
feat: filetype.lua (#16600)
test: make test for #14040 more stable (#16911)
Merge pull request #16912 from shadmansaleh/enhance/lua_cmd_inspect
feat(lua): make =expr print result of expr
fix(screen): don't put empty sign text in line number column
fix(lsp): explicitly pass bufnr in didSave handler (#16906)
Merge pull request #16903 from dundargoc/ci/install-flake-with-apt
ci: install flake8 with apt instead of pip
Merge pull request #16901 from dundargoc/ci/add-codeowners
chore(build): compile lua only on release builds (#16859)
fix(lsp): resolve nil bufnr (#16902)
ci: add jamessan as codeowner for ci related files
vim-patch:8.2.3995: not all sshconfig files are detected as such (#16899)
ci: simplify ci_fold function (#16874)
Merge pull request #16895 from dundargoc/ci/fix-shellcheck-warnings
fix(lua): stricter type check when calling API function (#16745)
docs(usr_05): fix section numbers (#16886)
fix: resolve nil arguments to API functions (#16889)
ci: fix shellcheck errors introduced in version 0.8.0
Merge pull request #16890 from dundargoc/ci/nuke-before-install
ci: remove unnecessary before_install script
Merge pull request #16853 from jamessan/clint-master-only
Merge pull request #16883 from dundargoc/ci/remove-watchdog
ci: remove watchdog function run_tests_wd
fix(lsp): always use target bufnr in location handler (#16876)
fix(diagnostic): improve validation for list arguments (#16855)
feat(lua): add support for multiple optional types in vim.validate (#16864)
ci: remove outdated travis-specific code (#16869)
build(deps): bump tree-sitter to v0.20.2 (#16863)
Merge pull request #16870 from dundargoc/refactor/pvs/V009
Merge pull request #16840 from zeertzjq/ci-clang-13
Merge pull request #16871 from bfredl/luaperf
perf(api): elide luaref copy when setting 'callback' in nvim_set_keymap
refactor(PVS/V009): add special comment at top of file required by PVS
test: make some tests more stable (#16860)
Merge pull request #16857 from dundargoc/vim-8.2.3956
vim-patch:8.2.3964: some common lisp and scheme files not recognized (#16866)
vim-patch:8.2.3956: duplicate assignment
vim-patch:partial 04fb91668482 (#16852)
chore(fixup): bfredl size_t
chore(fixup): zeer
ci: bump clang version to 13 in asan and tsan
Merge pull request #16594 from shadmansaleh/feat/api/lua_keymaps
feat(api): add support for lua function & description in keymap
fix(runtime): add missing release metadata
ci: run lint only on master branch
Merge pull request #16846 from dundargoc/ci/remove-brew-workaround
Merge pull request #16851 from zeertzjq/vim-8.2.3952
vim-patch:8.2.3952: first line not redrawn when adding lines to an empty buffer
refactor: avoid overflow by explicitly casting operand to a wider type
ci: remove outdated brew workaround that isn't needed anymore
Merge pull request #16728 from dundargoc/refactor/remove-unused-macros
refactor: remove unused macros
vim-patch:8.2.3571: some unicode control characters are considered printable Problem:    Some unicode control characters are considered printable. Solution:   Make 0x2060 - 0x2069 not printable.
Merge pull request #16373 from zeertzjq/terminal-mouse-release-forward
Merge pull request #16752 from gpanders/lua-user-commands
vim-patch:8.2.3921: the way xdiff is used is inefficient
feat(api): implement nvim_{add,del}_user_command
chore: fix typos (#16506)
chore: fix compiler warning for multi-line comment (#16812)
vim-patch:a4d131d11052 (#16811)
vim-patch:8.2.3914 (#16808)
Merge pull request #16805 from clason/vim-8.2.3905
vim-patch:8.2.3909: Containerfile using prefix name not recognized
vim-patch:8.2.3905: Dockerfile using prefix name not recognized
docs: clarify UIEnter and UILeave docs
Merge pull request #16799 from bfredl/nohlsplash
fix(api): nvim__set_hl_ns causes extra redraws
fix(terminal): correctly forward mouse events
fix(uri): change scheme pattern to not include the comma character (#16797)
Merge pull request #16596 from dm1try/do_not_leave_terminal_mode_after_mouse_activation
Merge pull request #16630 from kylo252/unused-includes
Merge pull request #16792 from zeertzjq/ins-lastc-k-event
Merge pull request #16788 from jamessan/strptime-fix
vim-patch:partial fa3b72348d88 (#16780)
fix: do not save K_EVENT as lastc in Insert mode
Merge pull request #16774 from zeertzjq/vim-8.2.2468
vim-patch:8.1.1412: test 30 is old style (#16768)
fixup! vim-patch:8.2.2468: not easy to get the full command name from a shortened one
Merge pull request #16618 from zeertzjq/vim-8.2.3780
Merge pull request #16767 from zeertzjq/vim-8.2.3879
Merge pull request #16705 from zeertzjq/vim-8.2.2508
vim-patch:8.2.3883: crash when switching to other regexp engine fails (#16773)
Merge pull request #16789 from janlazo/vim-8.1.1184
vim-patch:8.2.3880: Solution filter files are not recognized (#16779)
Merge pull request #16724 from VVKot/vim-8.2.3850
vim-patch:8.1.1379: filechanged test hangs
vim-patch:8.1.1184: undo file left behind after running test
test: port test_filechanged.vim
test(old): reenable Test_virtual_replace() (#16674)
feat(lua): add vim.spell (#16620)
Merge pull request #16725 from VVKot/vim-8.1.0040
fix(msgpack#strptime): use calendar.timegm to get seconds since epoch
Merge pull request #16786 from jamessan/cancel-previous-ci
ci: cancel in-progress CI if a PR is updated
vim-patch:8.2.3873: go.mod files are not recognized (#16757)
Merge pull request #16762 from zeertzjq/grid-truncate-pum-double-width
chore(editorconfig): set max_line_length for .h and .in files (#16775)
fix(options): disallow empty 'fdc' and 'scl' (#16765)
vim-patch:partial:0e6adf8a29d5
vim-patch:8.2.3784: the help for options is outdated
vim-patch:8.2.3780: ":cd" works differently on MS-Windows
vim-patch:partial:6c391a74fe90
vim-patch:partial:6aa57295cfbe
vim-patch:8.2.2468: not easy to get the full command name from a shortened one
vim-patch:8.2.3882: more duplicated code in f_getreginfo()
vim-patch:8.2.3879: getreg() and getregtype() contain dead code
refactor(pum_redraw): rename col -> grid_col
fix(pum_redraw): use grid_puts_len() to truncate the text
fix(screen): truncate when overwriting right half of a double-width char
fix(screen): truncate double-width character correctly
chore: set max_line_length in editorconfig (#16755)
docs: regenerate (#16742)
vim-patch:8.2.3876: 'cindent' does not recognize inline namespace
vim-patch:8.2.3625: illegal memory access when C-indenting
vim-patch:8.2.3482: reading beyond end of line ending in quote and backslash
vim-patch:8.1.1585: :let-heredoc does not trim enough
vim-patch:8.1.1434: test 3 is old style
Merge pull request #16754 from jamessan/vim-8.2.3874
vim-patch:8.2.3874: cannot highlight the number column for a sign
refactor: fix comment spacing in option.h (#16749)
fix(api): make nil value in nvim_set_option_value clear local value (#16710)
feat(lsp): add buf_detach_client (#16250)
Merge pull request #16736 from dundargoc/ci/remove-unused-typo-fix
ci: remove unused "squash typo" workflow
Merge pull request #16734 from zeertzjq/chdir-refactor
fix(lsp): fix `nil`-index behavior for UTF-8 in `_str_*index_enc` methods (#16731)
Merge pull request #16727 from dundargoc/docs/remove-good-first-issue-suggestion
refactor: remove some chdir-related unnecessary calls and checks
vim-patch:8.1.0040: warnings from 64-bit compiler
docs: stop suggestion "good first issue" as a good first issue
chore(build): add option to disable Lua bytecode compilation (#16722)
fix(lsp): avoid attaching to unloaded buffers (#16723)
Merge pull request #16657 from lewis6991/unused_warn
vim-patch:8.2.3855: illegal memory access when displaying a blob
vim-patch:8.2.3850: illegal memory access when displaying a partial
chore: suppress -Wunused-but-set-variable warns
fix(build): check that LuaJIT has required modules for compilation (#16714)
fix: update last cursor on first CursorMoved (#16698)
vim-patch:8.2.3846: no error when using control character for 'lcs' or 'fcs'
vim-patch:8.2.2641: display test fails because of lacking redraw
vim-patch:8.2.2508: cannot change the character displayed in non existing lines
build(deps): bump luajit to commit 1d20f33 (#16712)
Merge pull request #16294 from zeertzjq/test-fewest-iteration
Merge pull request #16707 from jamessan/filter-out-tests
fix(build): check for empty value of LUAC_PRG (#16711)
test: allow excluding functional/unit tests using TEST_FILTER_OUT
fix(build): install luajit modules on windows (#16658)
vim-patch:8.2.3843: dep3patch files are not recognized (#16700)
feat(tui): add error logging (#16615)
feat(runtime): new checkhealth filetype (#16660)
autocmd: RecordingEnter, RecordingLeave (#16684)
test(old): change usage of Q to gQ
docs(autocmd): update docs to match implementation
feat(autocmd): add Recording autocmds
fix(diagnostic): respect "if_many" source option for virtual text (#16653)
fix(lsp): correctly align start and end range to codepoints during incremental sync (#16670)
fix(lsp): call config on_exit handler before context is cleared (#16638)
Merge pull request #16681 from zeertzjq/vim-8.2.3825
vim-patch:0e6adf8a29d5 (#16682)
refactor(diagnostic): remove hack (#16685)
fix(diagnostic): assert that diagnostics have line number and column (#16683)
perf: pre-compile embedded Lua source into bytecode (#16631)
vim-patch:8.2.3825: various comments could be improved
Merge pull request #16617 from pekdon/forkpty
Merge pull request #16134 from zeertzjq/screenpos-border
Merge pull request #16666 from mjlbach/fix/bad-cast
docs(options): mention how to disable `inccommand` preview (#16534)
chore: improve naming consistency in str_utf_start
fix: do not cast offset to char_u
docs: regenerate (#16468)
fix(terminal): fix resize crash with pending scrollback (#14891)
vim-patch:8.2.3814: .csx files and .sln files are not recognized (#16662)
fix(ui): close floating window on BufLeave event (#16557)
fix(quickfix): avoid O(N^2) when filling from string typval (#16654)
fix(screenpos, float): add top and left border adjustment
test: expect the correct screen in TUI paste: big burst of input (#16656)
Merge pull request #16606 from clason/bump-treesitter
vim-patch:8.2.3805: i3config files are not recognized (#16645)
Merge pull request #16602 from zeertzjq/tui-end-streamed-paste
Merge pull request #16348 from lewis6991/query
refactor(build): remove unused includes
feat(treesitter): multiline match predicates
fix: add forkpty for SunOS variants
feat(ts): add support for multiline nodes in get_node_text (#14999)
fix(docs): add bufnr and user_data to diagnostic-structure (#16619)
Merge pull request #16613 from bfredl/vim-patch-8.2.3777
Merge pull request #16614 from zeertzjq/test-remove-misc1
test: remove references to misc1.c
Merge pull request #16607 from bfredl/no2misc1
vim-patch:8.2.3777: spell file write error not checked
docs(vim_diff.txt): document SearchWrapped (#16612)
refactor: replace deprecated lua functions with their new versions (#16603)
runtime: support once on s:GetAutocmdPrefix (#16457)
feat: add autocommand event when search wraps around (#8487)
refactor(misc1): move out high-level input functions to a new file: input.c
refactor(misc1): move shell related functions to os/shell.c
refactor(misc1): move insertmode related function to edit.c
refactor(misc1): move way beep functions elsewhere
refactor(misc1): move msgmore function to messages.c
refactor(misc1): move comment related functions to change.c
build(deps): bump tree-sitter commit
refactor(misc1): move user related code to os/users.c
fix(lsp): create lsp requests with position offsets considering client encoding (#16382)
fix(tui): end streamed paste correctly when key buffer is empty
Merge pull request #16597 from bfredl/nomisc1
Merge pull request #16541 from jamessan/vim-8.2.3664
Merge pull request #16524 from dundargoc/ci/optimize-brew
Merge pull request #16414 from zeertzjq/terminal-no-invalid-rows
Merge pull request #16547 from pekdon/sunos
Merge pull request #16564 from glacambre/improve_test_harness_perf
refactor(misc1): move preserve_exit() to related functions in main.c
refactor(misc1): move out misc functions which obviously belong elsewhere
fix(terminal): ignore left-release mouse action
vim-patch:8.2.3769: zig files are not recognized (#16598)
refactor(misc1): move out autocmd related functions
refactor(misc1): move line_breakcheck family of functions to os/input.c
Merge pull request #16582 from dundargoc/docs/remove-redundant-help-files
fix(diagnostic): set effective buffer number in autocmd (again) (#16589)
vim-patch:8.2.3757: an overlong highlight group name is silently truncated
test(fold): add test for CursorLineFold
test(sign): add test for culhl option
vim-patch:partial 6304be625ce4
vim-patch:8.2.3748: giving an error for an empty sign argument breaks a plugin
vim-patch:8.2.3747: cannot remove highlight from an existing sign
vim-patch:8.2.3743: ":sign" can add a highlight group without a name
vim-patch:8.2.3664: cannot adjust sign highlighting for 'cursorline'
Merge pull request #16418 from zeertzjq/terminal-coladvance
refactor(diagnostic): remove bufnr parameter from open_float (#16579)
docs: remove redundant help files
docs(lsp): fix resolve_capabilities docstring (#16577)
docs: update missing help sections from main help page (#16573)
fix: check for interrupt in nvim_echo, write_msg and nlua_print (#16537)
ci: install doxygen with conda instead of apt (#16517)
test(helpers): optimize read_file_list
refactor(diagnostic): add warning to deprecated functions (#16536)
fix(api): allow nvim_buf_set_extmark to accept end_row key (#16548)
Merge pull request #16421 from seandewar/vim-8.1.0035
fix(terminal): return early if there are no invalid rows
fix(terminal): use coladvance() to calculate buffer cursor position
Merge pull request #16556 from zeertzjq/hl-change-update
Merge pull request #16559 from zeertzjq/filler-end-row
refactor(lsp): remove usage of deprecated function (#16539)
feat(lsp): use `vim.ui.select` for selecting lsp client (#16531)
fix(screen): do not draw filler lines post eof if already at last row
fix(highlight): always update window highlight if highlight changed
vim-patch:8.2.3671: restarting Insert mode in prompt buffer too often
test(prompt_buffer_spec): include changes from v8.1.1984
vim-patch:8.2.2014: using CTRL-O in a prompt buffer moves cursor to start
vim-patch:8.2.1976: cannot backspace in prompt buffer after using cursor-left
vim-patch:8.2.1783: try-catch test fails
vim-patch:8.2.1781: writing to prompt buffer interferes with insert mode
vim-patch:8.1.0064: typing CTRL-W in a prompt buffer shows mode "-- --"
vim-patch:8.1.0042: if omni completion opens a window Insert mode is stopped
fix(prompt): add missing changes from v8.1.0036
vim-patch:8.1.0035: not easy to switch between prompt buffer and other windows
fix: don't use cfsetspeed, use i and o variants
fix: don't include pty.h on SunOS
Merge pull request #16194 from seandewar/vim-8.1.1925
Merge pull request #16546 from zeertzjq/vim-8.1.1797
Merge pull request #16107 from zeertzjq/vim-8.1.1542
vim-patch:8.1.2104: the normal.c file is too big (#16389)
refactor: fix indent in decode.c (#16543)
vim-patch:8.1.1798: warning for unused variable in tiny version
vim-patch:8.1.1797: the vgetorpeek() function is too long
fix: add STRNLEN compatability macro
vim-patch:4700398e384f (#16538)
fix: define NAME_MAX from _XOPEN_NAME_MAX
fix: skip libutil on SunOS
lint (#16526)
refactor: format diagnostic.lua (#16540)
fix(diagnostic): escape special chars in file names (#16527)
refactor: remove unused runtime lua functions (#16535)
docs(lsp): re-add client.requests documentation (#16530)
ci: remove "brew upgrade" from macos jobs
Merge pull request #15996 from gpanders/nvim_get_option_value
feat(lsp,diagnostic): open folds in jump-related functions (#16520)
feat(api): add nvim_get_option_value
chore: bump API version
Merge pull request #16518 from dundargoc/ci/use-latest-versions
ci: use tag v2 when using checkout action
Merge pull request #16411 from dundargoc/refactor/upgrade-uncrustify
vim-patch:8.2.3730: "/etc/Muttrc.d/README" gets filetype muttrc (#16515)
vim-patch:8.2.3729: no support for squirrels (#16513)
vim-patch:8.2.3726: README file in a config directory gets wrong filetype (#16507)
Merge pull request #16489 from zeertzjq/patch-1
Merge pull request #16408 from jamessan/rm-legacy-test
fix(diagnostic): clamp diagnostics on negative line numbers (#16496)
docs(CONTRIBUTING.md): use gh instead of hub; correct uncrustify link
chore: add default luarc.json for Lua development (#16487)
fix(diagnostic): set effective buffer number for DiagnosticChanged autocmd (#16474)
chore: remove legacy/059_utf8_spell_checking.vim
Merge pull request #16478 from jamessan/fragile-server-notifications-test
Merge pull request #16477 from jamessan/backport-action
test(api): mark "notify cancels stale events on channel close" fragile
fix(ci/backport): check for event_name == "pull_request_target"
Merge pull request #15840 from vimpostor/vim-8.2.3430
Merge pull request #16420 from seandewar/vim-8.1.2136
vim-patch:8.2.2350: using "void" for no reason (#16410)
fix(lsp): progress handlers should return vim.NIL on error (#16472)
Merge pull request #16381 from VVKot/vim-8.1.0228
version bump
NVIM 0.6.0
vim-patch:8.2.3703: most people call F# "fsharp" and not "fs" (#16469)
fix(lsp): change rpc start notify level to warn (#16467)
Merge pull request #16460 from dundargoc/chore/typos
docs(lsp): do not use nvim_command for Vimscript examples
docs(lsp): do not use | as argument separator
docs(lsp): add annotations for private functions
chore: fix typos
feat(lsp): add 'focus' option to open_floating_preview (#16465)
fix(lsp): do not attempt to index nil client in progress handler (#16463)
docs: regenerate (#16461)
feat(diagnostic): use `scope = 'line'` by default for `open_float()` (#16456)
Merge pull request #16452 from clason/vim-8.2.3685
Merge pull request #16451 from clason/vim-8.2.3684
vim-patch:8.2.3687: blockwise insert does not handle autoindent properly
Merge pull request #16455 from gpanders/diag-set
test(diagnostic): diagnostics passed to set() should be an array
fix(diagnostic): make set() go through cache when calling show()
vim-patch:6304be625ce4 (#16450)
vim-patch:8.2.3686: filetype detection often mixes up Forth and F#
docs: regenerate (#16390)
chore: fix typos (#16361)
vim-patch:8.2.3451: not all apache files are recognized
vim-patch:8.2.3458: not all dictdconf files are recognized
vim-patch:8.2.3452: MPD files are not recognized
vim-patch:8.2.3685: Visual studio project files are not recognized
fix: allow str_utfindex second argument to be an explicit nil  (#16448)
vim-patch:8.2.3684: blockwise insert does not handle autoindent properly
test(oldtest): uncomment method call syntax uses
fix(eval/method): add missing method support for existing built-ins
docs(eval): cherry-pick runtime update 2e693a88b2
vim-patch:8.2.1241: cannot use getbufinfo() as a method
vim-patch:8.2.1168: wrong method argument for appendbufline()
vim-patch:8.2.0871: cannot use getmarklist() as a method
vim-patch:8.2.0532: cannot use simplify() as a method
vim-patch:8.1.2166: rubyeval() not tested as a method
vim-patch:8.1.2013: more functions can be used as methods
vim-patch:7.4.1777
vim-patch:8.1.2011: more functions can be used as methods
feat(eval/method): partially port v8.1.2004
feat(eval/method): partially port v8.1.1996
vim-patch:8.1.1995: more functions can be used as methods
feat(eval/method): partially port v8.1.1993
vim-patch:8.1.1925: more functions can be used as methods
vim-patch:8.2.3679: objc file detected as Octave (#16446)
vim-patch:8.2.3676: unused runtime file (#16441)
vim-patch:8.2.3677: after a put the '] mark is on the last byte (#16442)
fix(lua): fix vim.deepcopy for metatables & cycled tables (#16435)
fix(lsp): send textDocument/didChange for each buffer (#16431)
fix(lsp): require bufnr for apply_text_edits (#16444)
chore(docs): clarify vim.notify log_level parameter (#16436)
feat(diagnostic)!: make DiagnosticChanged a first class autocmd (#16098)
feat(lsp): use uv_spawn to check if server executable (#16430)
Merge pull request #16434 from gpanders/diagnostic-clampage
fix(diagnostic): do not focus floats in goto functions (#16433)
fix(diagnostic): don't clamp line numbers in setqflist
test(diagnostic): uncomment equality check
fix(diagnostic): get line count per buffer when clamping
perf(lsp)!: use faster line retrieval for utf-16 to byte idx conversion (#16360)
fix(ui): use nowait for q mapping in floating window (#16427)
vim-patch:8.2.2465: using freed memory in :psearch
fix(fileio): replace characters over INT_MAX with U+FFFD (#16354)
vim-patch:8.1.2136: using freed memory with autocmd from fuzzer
Merge pull request #16402 from clason/treesitter-bump
fix(tests): adapt parser_spec test to tree-sitter bump
refactor: upgrade uncrustify config version to 0.74.0
fix(diagnostic): resolve buffer number in get() (#16407)
fix(diagnostics): don't allow 0 bufnr for metatable index (#16405)
fix(lsp): avoid indexing vim.NIL for null workspaceFolders (#16404)
docs(man): omit misleading mention of environment for -u NORC (#16379)
build(deps): also bump treesitter-c to v0.20.1
vim-patch:88a4205f1cfb (#16399)
build(deps): bump tree-sitter to 0.20.1
vim-patch:8.2.3549: mistakes in test comments
vim-patch:8.1.1542: an OptionSet autocommand does not get enough info
vim-patch:8.1.1393: unnecessary type casts
vim-patch:8.1.1386: unessesary type casts for lalloc()
vim-patch:8.1.1384: using "int" for alloc() often results in compiler warnings
Merge pull request #16341 from zeertzjq/vim-8.2.2518
vim-patch:8.2.3627: difficult to know where the text starts in a window (#16377)
Merge pull request #16386 from VVKot/vim-8.2.2922
fix(diagnostic): remove invalid buffers from cache (#16397)
Merge pull request #16362 from zeertzjq/vim-8.2.3617
Merge pull request #16370 from gpanders/diagnostic-column-clamp
vim-patch:8.2.3255: ci" finds following string but ci< and others don't (#16324)
vim-patch:8.1.1606: on a narrow screen ":hi" output is confusing (#16388)
vim-patch:8.2.3638: getcompletion() always passes zero as position (#16387)
fix(lsp): send buffer contents joined on fileformat-specific linebreak (#16334)
chore(lsp): clean up initialization process (#16369)
vim-patch:8.2.3639: line commented out accidentally
docs(lua): further improve Lua require() docs
docs(lua): fix, clarify Lua require() docs
vim-patch:8.2.2922: computing array length is done in various ways
Merge pull request #14540 from Shougo/fix_vim8.1.1378
vim-patch:8.1.0753: printf format not checked for semsg() (#16378)
refactor: saner options for uncrustify (#16204)
fix(diagnostic): clamp line numbers in setqflist and setloclist
fix(diagnostic): fix navigation with diagnostics placed past end of line
fix(diagnostic): deepcopy diagnostics before clamping line numbers
Merge pull request #16066 from neovim/marvim/ci-version-update
Merge pull request #16091 from neovim/marvim/api-doc-update/master
fix(eval): fixup for empty modifier in fnamemodify (#16368)
vim-patch:8.2.3622: "verbose pwd" shows confusing info
vim-patch:8.2.3618: getcwd() is unclear about how 'autochdir' is used
revert: partially revert #9894
vim-patch:8.2.3617: ":verbose pwd" does not mention 'autochdir' was applied
vim-patch:8.2.3468: problem with :cd when editing file in non-existent directory
fix: remove unneeded gzip check
fix: error
test: save clipboard
fix: shell problem
fix: fix GZIP error
fix: remove unnecessary changes
fix: for reviews
fix: disable clipboard when test registers
fix: remove previous executed directories to execute tests locally
fix: add cd for local execution
vim-patch:8.2.3616: arglist test does not clear the argument list consistently
version.c: update [skip ci]
docs: regenerate
fix(lsp): improve incremental sync robustness (#16358)
fix(uri): use valid EmmyLua annotations (#16359)
Merge pull request #16356 from clason/bump-luarocks
fix(diagnostic): don't use nil col if missing from qflist (#16357)
Merge pull request #16355 from mjlbach/fix/docgen-again
docs: mark tagfunc.lua methods as private
fix(docgen): add tagfunc.lua
build(deps): bump luarocks to 3.8.0
feat(lsp): add tagfunc (#16103)
vim-patch:8.2.3610: crash when ModeChanged triggered too early
vim-patch:8.2.3609: internal error when ModeChanged is triggered recursively
feat: trigger ModeChanged for terminal modes
vim-patch:8.2.3555: ModeChanged is not triggered on every mode change
vim-patch:8.2.3463: pattern matching with ModeChanged not tested
vim-patch:8.2.3462: ModeChanged only uses one character for new_mode and old_mode
vim-patch:8.2.3430: no generic way to trigger an autocommand on mode change
vim-patch:01164a6546b4 (#16335)
vim-patch:8.2.3593: directory is wrong after executing "lcd" with win_execute() (#16314)
vim-patch:8.2.3591: no event is triggered when closing a window (#16306)
vim-patch:8.2.3522: cannot use \x and \u when setting 'listchars' (#16049)
fix(lsp): change signature of buf_highlight_references (#16345)
vim-patch:519cc559b08b (#16340)
vim-patch:8.2.3588: break statement is never reached
vim-patch:8.2.3572: memory leak when closing window and using "multispace"
vim-patch:8.2.2520: missing tests for 'listchars'
fix(options): using :set fillchars should clear local value
vim-patch:8.2.2518: 'listchars' should be window-local
refactor: reduce number of explicit char casts (#16077)
vim-patch:8.2.3604: not all sudoers files are recognized (#16338)
vim-patch:8.2.3603: fish filetype not recognized (#16337)
Merge pull request #16328 from gpanders/diagnostic-prefix-hi
refactor(diagnostic): make bufnr arguments consistent (#16323)
Merge pull request #16330 from clason/vim-8.2.3598
vim-patch:8.2.3600: filetype test fails
vim-patch:8.2.3599: not all gdbinit files are recognized
vim-patch:8.2.3598: RouterOS filetype is not recognized
fix(lsp): fix edge cases in incremental sync (#16308)
refactor(diagnostic)!: rename 'show_header' to 'header'
feat(diagnostic): allow 'prefix' option to return highlight
test: require fewest number of main loop iterations possible
Merge pull request #16047 from mcepl/vim-8.2.3520
feat(diagnostic): add 'prefix' option to open_float (#16321)
Merge pull request #16316 from bfredl/macroman
refactor(macroman): get rid of MB_COPY_CHAR macro
refactor(macros): delete multibyte macros which just are aliases
Merge pull request #16317 from jamessan/remove-32bit-windows-ci
ci!: remove win32 builds/releases
Merge pull request #16315 from bfredl/multibytes
fix(lsp): ensure buffers are re-attached on rename (#16266)
refactor(multibyte): eliminate mb_char2len alias for utf_char2len
refactor(multibyte): eliminate mb_ptr2len alias for utfc_ptr2len
refactor(multibyte): eliminate mb_char2cells alias for utf_char2cells
chore: disable creating a blank issue
fix(float): skip non-focusable windows for :windo (#15378)
fix(docs): add sync.lua to gen_vimdoc (#16285)
Merge pull request #16276 from zeertzjq/channel-closed-term-error
fix(lsp): gracefully handle nil workspaceFolders (#16284)
test: add tests for freeing channel opened by termopen()
fix(channel): fix channels opened by nvim_open_term() never being freed
fix(channel): throw error if sending to internal channel w/o terminal
fix(terminal): free terminal if close_buffer() closes a closed terminal (#16264)
fix(lsp): rewrite incremental sync (#16252)
feat(diagnostic): do not require namespace for hide() and show() (#16261)
fix(lsp): do not index nil client in progress (#16262)
docs: update description for 'list' option (#16254)
vim-patch:partial 113cb513f76d (#16260)
feat(ui): add vim.ui.input and use in lsp rename (#15959)
fix(lsp): convert range to byte index before highlighting (#16218)
Merge pull request #16155 from zeertzjq/fix-redr-border-corruption
feat(lua): enable stack traces in error output (#16228)
vim-patch:8.2.3528: 'thesaurus' and 'thesaurusfunc' do not have the same scope
fix(diagnostic): handle an unknown or missing client (#16242)
Merge pull request #16241 from bfredl/disptick
fix(screen): make display_tick monotonic up to 2^64. fixes #16152
fix(tui): extend smglr ignores to smglp and smgrp (#16239)
fix(input): never reinterpret unmapped ALT- chrods in Terminal mode (#16222)
fix(diagnostic): fix option resolution in open_float (#16229)
Merge pull request #16221 from glacambre/fix_13187
Merge pull request #16055 from doubleloop/config_depends
fix: remove double slash in sysinit path
docs(lsp): correct usage examples of formatexpr (#16216)
docs: mention replacement for deprecated vim.lsp.diagnostic.show_* (#16211)
Merge pull request #16207 from jamessan/delete-release-tag
ci(release): delete nightly/stable tag so release recreates it
Merge pull request #16203 from bfredl/revision
fix(extmark): fix missing virt_lines when using id param of set_extmark
Merge pull request #16131 from jamessan/vim-8.1.0306
refactor(api/marks)!: add opts param for feature extensibility (#16146)
fix(lsp): pass the enriched ctx to the client-side command (#16201)
vim-patch:8.2.3561: cscope has a complicated way of giving an error message
vim-patch:8.1.0783: compiler warning for signed/unsigned
vim-patch:8.1.0779: argument for message functions is inconsistent
vim-patch:8.1.0743: giving error messages is not flexible
vim-patch:8.1.0306: plural messages are not translated properly
Merge pull request #16198 from jamessan/limit-ci-branches
feat(lsp): add per-client commands (#16101)
feat(ui): add `opt.kind` to `vim.ui.select` (#15838)
ci: limit CI checks to the main dev branches
refactor: saner options for uncrustify #16196
fix(lsp): improve symbols_to_items performance (#16197)
Merge pull request #15907 from black-desk/utf32-to-utf16
fix(lsp): default to UTF-16 when lsp client using str_utfindex
fix(lsp): default to UTF-16 in make_position_params
Merge pull request #16195 from jamessan/really-fix-win-ci
fix(lsp): don't update active_clients on exit_timeout (#16192)
fix(ci): use correct check for path-existence
Merge pull request #16187 from erw7/fix-build-MinGW
Merge pull request #16188 from bfredl/packentry
fix(build): fix build failure in MinGW
fix(runtime): fix missing packpath entries
Merge pull request #16191 from jamessan/fix-cpack-removal
ci(win): only remove choco's cpack.exe if it exists
feat(lsp): add formatexpr (#16186)
fix(lsp): add placeholder cancel function (#16189)
Merge pull request #16182 from jamessan/backport-comment
ci(backport): trigger on comments too, so "/backport" works
Merge pull request #16181 from jamessan/backport-perms
ci(backport): bump version to v0.0.7
ci(backport): add write permissions for contents/pull_requests
Merge pull request #16180 from jamessan/release-workflow
ci: make sure choco cpack does not interfere with CMake cpack
ci(release): do not fail if stable/nightly release doesn't exist
ci(release): re-publish "stable" release for versioned releases
ci(release): use gh cli instead of 3rd-party actions
feat: add vim.str_utf_{start,end} (#16129)
fix(vim-patch.sh): run nvim with -u NONE -n #16179
feat(lsp): default to botright for setting qflist (#16177)
fix(vim.mpack): rename pack/unpack => encode/decode #16175
fix(build): remove amalg build target for LuaJIT (#16178)
refactor(diagnostic): make display handlers generic (#16137)
refactor: uncrustify #16090
fix(eval): fix has('wsl') #16153
Merge pull request #16154 from bfredl/neoscript
build(deps): bump luv to 1.42.0-1 (#16113)
build(deps): bump luajit to latest commit (#16041)
refactor(api): break out Vim script functions to its own file
refactor(api): break out vim_to_object/object_to_vim to own file
feat(lsp): track pending+cancel requests on client object #15949
fix(eval): checking for a non-empty string is too strict (#15987)
vim-patch:8.2.3556: filler lines are incorrect for other window in diff mode (#16164)
Merge pull request #16141 from dundargoc/ci/split-jobs
ci: run functionaltest-lua on drafts as well
fix(float): redraw if w_border_adj changed
fix(float): fix potential heap corruption in win_redr_border
test(vim_spec): fix MSVC_32 skip for nvim_parse_expression test (#16161)
ci: add newly added api file extmark.c to gen-vimdoc (#16158)
Merge pull request #16125 from dundargoc/refactor/lua/split-executor
refactor: split executor.c into two files
feat(ci): add backport PR action (#14766)
Merge pull request #16149 from zeertzjq/man-clean
Merge pull request #16147 from bfredl/neomark
docs(manpage): update description of --clean
refactor(api): move extmark API to its own file
Merge pull request #16124 from mjlbach/feat/bjorn-bait
feat: add vim.str_utf_pos function
vim-patch:8.2.3525: option variable name does not match option name
vim-patch:8.2.3547: opening the quickfix window triggers BufWinEnter twice (#16108)
vim-patch:8.2.3521: options completion test fails
vim-patch:8.2.3520: cannot define a function for thesaurus completion
vim-patch:partial 079ba76ae7a7 (#16126)
Merge pull request #16128 from bfredl/vluapack
vim-patch:8.2.3542: too many comments are old style (#16096)
vim-patch:8.2.0026: still some /* */ comments (#16088)
Merge pull request #16111 from dundargoc/vim-patch/comments
feat(lua): document support of packages with v:lua syntax
Merge pull request #16029 from bfredl/multiline
feat(decorations): support more than one virt_lines block
refactor(decorations): mark decorations directly on the marktree
fix(lsp): cleanup progress messages for the correct client (#16110)
feat(lsp): add exit_timeout flag (#16070)
vim-patch:8.2.3550: completion() does not work properly (#16112)
vim-patch:8.1.2396: using old C style comments
vim-patch:8.1.2395: using old C style comments
vim-patch:8.1.2394: using old C style comments
vim-patch:8.1.2392: using old C style comments
vim-patch:8.1.2388: using old C style comments
vim-patch:8.1.2387: using old C style comments
vim-patch:8.1.2380: using old C style comments
vim-patch:8.1.2379: using old C style comments
vim-patch:8.1.2378: using old C style comments
vim-patch:8.1.2368: using old C style comments
Merge pull request #14794 from BK1603/gdbserver_fix
vim-patch:8.1.2243: typos in comments (#16104)
fix(lsp): avoid duplicates in client attached buffers (#16099)
fix(lsp): adjust legacy show diagnostic functions to use correct scope (#16106)
Merge pull request #16086 from bfredl/termpipe_input
feat(nvim_open_term): support input callback in lua
build: update cmake min version to 3.10 #16065
fix(diagnostic): allow floats to be focusable (#16093)
fix(diagnostic): handle diagnostics placed past the end of line (#16095)
Merge pull request #15767 from lewis6991/lua_var_index
fix(gen_vimdoc.py): spacing around inline elements #16092
feat(lua): allow passing handles to vim.b/w/t
refactor(diagnostic)!: replace 'show_*' functions with 'open_float' (#16057)
feat(lsp): set codelens virtual text hl_mode to combine (#16048)
vim-patch:8.2.3537: wrong mode() during 'operatorfunc' #16087
docs: clarify chdir/CWD behaviors #16083
fix(api/nvim_eval_statusline): allow maxwidth=0 #16080
feat(man.vim): convert spaces to underscores #16068
Merge #16000 refactor: uncrustify
refactor: remove space after star
refactor: make commas trail in enums
refactor: enable formatting for files under lib
docs: regenerate (#15986)
Merge pull request #16084 from dundargoc/ci/commitlint/checkout-branch-directly
ci(commitlint): use action to checkout to pr branch directly
feat(api): evaluate statusline string #16020
feat(lsp): use vim.ui.select() in codelenses (#16004)
fix(lsp): fix cursor row after textEdits (#16038)
fix(lsp): persist diagnostic config for clients
build(install): rescan GLOB files on rebuild
Merge pull request #16034 from rcowsill/ci/labeler/no-checkout
refactor: convert to doxygen-style comments #16013
fix(PVS/V1028): prevent possible overflow #16023
Merge pull request #15999 from famiu/fix/build/export-windows-symbols
Merge pull request #15973 from bfredl/luapath
Merge pull request #15952 from zeertzjq/vim-8.1.1291
fix(runtime): don't use regexes inside lua require'mod'
Merge pull request #15930 from dundargoc/vim-patch/old-style-c-comments
fix(diagnostic): do not override existing config settings #16043
test(dirchanged): add tests for DirChanged pattern "auto"
refactor(dirchanged): tab -> tabpage
vim-patch:8.2.1411: when splitting a window localdir is copied but prevdir is not
vim-patch:8.2.0909: cannot go back to the previous local directory
vim-patch:8.2.0876: :pwd does not give a hint about the scope of the directory
vim-patch:8.2.0189: cd() with NULL argument crashes
test: partially port Vim patches 8.1.2278 and 8.2.1432
vim-patch:8.1.1291: not easy to change directory and restore
vim-patch:8.1.0604: autocommand test fails on MS-Windows
vim-patch:8.1.0602: DirChanged is also triggered when directory didn't change
vim-patch:8.0.1463: test fails without 'autochdir' option
vim-patch:8.0.1459: cannot handle change of directory
Merge #15994 feat(:source, nvim_exec): script-local scope
fix(build): export symbols on Windows
fixup! vim-patch:8.1.2379: using old C style comments
vim-patch:8.2.3519: TOML files are not recognized (#16045)
Merge pull request #16042 from clason/vim-2286304cdbba
chore(test): adapt healthcheck test to new css syntax
vim-patch:2286304cdbba
fixup! vim-patch:8.1.2388: using old C style comments
fixup! vim-patch:8.1.2379: using old C style comments
fixup! vim-patch:8.1.2396: using old C style comments
vim-patch:8.2.3501: tmux filetype dection is incomplete (#16021)
fix: correctly capture uri scheme on windows (#16027)
ci(labeler): Remove checkout steps
Merge pull request #16014 from dundargoc/refactor/reduce-char-casts
feat(:source, nvim_exec): defer script item creation until s:var access
Merge pull request #16019 from dundargoc/ci/commitlint/downgrade-necessary-git-version
ci: allow older git versions when using lintcommit
feat(:source, nvim_exec): support script-local variables
Merge pull request #16015 from dundargoc/ci/labeler/breaking-changes
ci: make labeler also work for breaking changes
refactor: reduce number of unique char casts
build(tests): isolate the user environment XDG_DATA_DIRS #16003
fix(heath/provider.vim): using list as string #16007
refactor: reduce number of unique char casts (#15995)
docs: .git-blame-ignore-revs #15775
refactor: format all C files under nvim/ #15977
fix(lsp): maintain client_ids table structure when filtering (#15991)
fix(lsp): do not invoke handlers for unsupported methods (#15926)
Merge pull request #15502 from seandewar/vim-8.1.1921
vim-patch:8.2.3491: xpm2 filetype dection is not so good (#15982)
fix(lsp): add done flag to messages returned in util.get_progress_messages() (#15985)
vim-patch:8.2.3461: distinguish Normal and Terminal-Normal mode #15878
vim-patch:8.2.{210,424,436,...} #15976
vim-patch:8.2.3490: superfluous return statements #15978
refactor: format header files with uncrustify #15877
fix(checkhealth): duplicate checks if module name has "-" #15935
ci: disable commit-lint on draft PRs #15958
ci(squash_typos.py): credit authors #15967
fix(mpack): clang warning: unused variable #15968
fix(lsp): update tests using 0.5.0 handler calls (#15969)
fix(lsp): add textDocument/prepareRename to capability map (#15961)
fix(diagnostic): error on invalid severity value (#15965)
fix(lsp): expose ContentModified error code to callbacks (#15262)
Merge pull request #15962 from bfredl/nosort
feat(lsp): utilize textEdit.range for startbyte in omnifunc (#15957)
fix(buffer_updates): handle :sort of already sorted buffer
Merge pull request #15954 from virchau13/fix-table-validation
fix(api): check type in nlua_pop_keydict (#15940)
fix: support severity_sort option for show_diagnostic functions (#15948)
fix(provider): compare versions as number, not string #15937
Merge pull request #15946 from bfredl/issue-12861
Merge pull request #15839 from bfredl/encgrugg
fix(buffer_updates): cleanup test behavior
fix(buffer_updates): make `lockmarks` not affect extmarks and buffer updates. fixes #12861
Merge pull request #15945 from bfredl/emptydelete
refactor(api): cleanup modify_keymap and parse_keymap_opts
fix(buffer_updates): handle :delete of the very last line in buffer
Merge pull request #15934 from kylo252/replacement-size
Merge pull request #15941 from dundargoc/refactor/remove-redundant-casts
feat(diagnostic): update jumplist on goto_next/prev (#15942)
Merge pull request #15932 from erw7/fix-nvim-buf-set-extmark
Merge pull request #15316 from vigoux/ts-fix-captures
refactor: remove redundant casts
fix(api): fix nvim_buf_set_extmark
refactor(api): remove duplicated handle mpack encode/decode functions
fix: set cursorlineopt=number in terminal mode (#15493)
fix(extmarks): splice extmarks on nv_Undo #15920
fix(lint): remove redundant ternary operator
fix(PVS/V1048): "variable was assigned the same value" #15870
refactor: remove superfluous function-like macros #15918
vim-patch:8.2.0017: OS/2 and MS-DOS are still mentioned #15928
fix(tui): remove dead code #15929
vim-patch:8.1.2379: using old C style comments
vim-patch:8.1.2388: using old C style comments
vim-patch:8.1.2368: using old C style comments
vim-patch:8.1.2392: using old C style comments
vim-patch:8.1.2394: using old C style comments
vim-patch:8.1.2395: using old C style comments
vim-patch:8.1.2396: using old C style comments
fix(checkhealth): mitigate issues with duplicate healthchecks #15919
vim-patch:8.2.0155: MinGW warnings; tests without +float #15908
docs: regenerate #15545
fix(docs): add win_config.c
fix(docs): duplicate tag, wrong formatting
feat(api): named marks set, get, delete #15346
feat(lsp): improve json deserialization performance (#15854)
build(deps)!: use libuv 1.42.0 upstream for WIN32 (#15889)
docs(contrib): recommend `nvim --clean` #15917
fix(vim-patch): add missing nginx runtime files (#15916)
docs(intro.txt): change vimhelp.appspot.com to vimhelp.org (#15915)
vim-patch:6e649224926b (#15911)
fix(healthcheck): update builtins to the new convention #15914
ci: exclude lua-cjson from PVS report #15859
vim-patch:8.2.3473: some tcl files are not recognized #15912
Merge pull request #15259 from muniter/muniter/checkhealth-from-lua
docs(develop.txt): nvim_open_win is now in win_config.c (#15909)
feat(ex_checkhealth): provide function for command line completion
Merge pull request #15813 from bfredl/neomouse
docs(runtime/health): update with new lua support
test(runtime/health): cover lua healthchecks
feat(runtime/health): support lua healthchecks
docs: fix typo
fix(mouse): correct dragged position in composed layout
Merge pull request #15901 from bfredl/apiorg
refactor(api): move window config related functions to own file
refactor: inline unnecessary macros #15890
feat(startup): load builtin plugins with --clean #15893
refactor: remove redundant char casts #15888
Merge pull request #15894 from gpanders/hardcode-diagnostic-highlights
refactor: define diagnostic highlights in syntax.c
Merge #15218 from gpanders/split-trimempty
vim-patch:8.2.3469: some files with json syntax are not recognized (#15891)
feat(eval/method): partially port v8.1.1987
vim-patch:8.1.1984: more functions can be used as methods
vim-patch:8.1.1961: more functions can be used as a method
feat(eval/method): partially port v8.1.1954
feat(eval/method): partially port v8.1.1953
vim-patch:8.1.1952: more functions can be used as a method
feat(eval/method): partially port v8.1.1925
feat(eval/method): partially port v8.1.1921
vim-patch:8.1.1336: some eval functionality is not covered by tests
vim-patch:8.2.3466: completion submode not indicated for virtual replace (#15886)
vim-patch:8.2.3465: cannot detect insert scroll mode (#15885)
refactor(api): make export of functions opt-in, not opt-out
Merge pull request #15516 from bfredl/keyset
vim-patch:8.2.3464: nginx files are not recognized (#15883)
refactor(api): handle option dicts properly
Merge pull request #15786 from gpanders/diagnostic-signs-unique-severity
refactor(diagnostics): always make 'set' go through 'show'
docs(diagnostic): add blurb on how to replace builtin handlers
test(diagnostic): add test case for signs
fix(nvim_open_win): crash if autocmds delete buffer/window #15549
vim-patch:8.2.3460: some type casts are not needed #15868
docs(lsp): clarify parameters of some util functions (#15851)
fix(float)!: always anchor to corner of window including border #15832
Merge #15803 fix(lsp_spec): tests depend on previous session
refactor: format with uncrustify #15872
fix(docs): uncrustify.cfg location #15817
docs: remove obsolete text on language #15875
fix(input): resolve isolated (non-ALT/META) mappings #13109
Merge pull request #15867 from bfredl/starpack
fix(lsp_spec): tests depended on previous session
fix(release.sh): ignore failed "rm"
refactor: format with uncrustify #15842
fix(runtime): add packages as "/pack/*/start/*" patterns to &rtp
refactor: convert char_u to char #15824
feat(vim-patch.sh): better detection of remote name #15846
feat(diagnostics): add vim.diagnostic.get_namespaces (#15866)
docs(diagnostics): add "priority" option to signs table (#15860)
Merge pull request #15864 from jamessan/gitattributes
fix: include ci/ in exported tarball
Merge pull request #15861 from dundargoc/refactor/xdiff
Merge pull request #15862 from dundargoc/refactor/xdiff-pvs
Merge pull request #15863 from dundargoc/docs/contributing/commit-message
docs: update preferred commit message style for the static analyzer PRs
refactor: remove PVS comment on top of files
refactor: update path to xdiff in comments
fix(treesitter): run predicates more often in iter_matches
Merge pull request #15852 from bfredl/afteragain
fix(runtime): fix ordering of "after" packages
ci: add type and scope from PR title as labels #15850
Merge pull request #14937 from dstein64/vim-8.1.2304
Refactor/uncrustify (#15790)
docs: add 'plus one' to correct getmousepos docs
chore: remove empty line
test: add a test for getmousepos()
vim-patch:8.1.2321: cannot select all text with the mouse
vim-patch:8.1.2319: compiler warning for int size
vim-patch:8.1.2309: compiler warning for argument type
vim-patch:8.1.2304: cannot get the mouse position when getting a mouse click
feat(lsp): add codeAction/resolve support (#15818)
Merge pull request #15812 from bfredl/taba
feat(lsp): add client command support to codelens (#15820)
refactor(lsp): remove json encode/decode wrappers (#15826)
fix(ui): s/format_entry/format_item to match docs (#15819)
feat(ui): add vim.ui.select and use in code actions (#15771)
fix(runtime): make a copy of runtime_search_path when iterating
chore: remove unused script finddeclarations.pl #15814
fix(lsp): avoid serializing boolean as key (#15810)
docs: document dependencies in MAINTAIN.md #15801
refactor(diagnostic): use sign priority for severity_sort #15785
docs: add lua-cjson to third-party licenses #15800
feat(lsp): allow subset of CodeActionContext as arg to code_action methods (#15793)
feat(lsp): use cjson for lsp rpc (#15759)
Merge pull request #14871 from mjlbach/feature/lua-cjson-embedded
ci(lintcommit.lua): replace third-party commitlint #15747
test: add tests for vim.json
Merge pull request #15797 from smolck/ui-stuff
fix(ui_bridge): set bridge width and height on attach
fix(tui): remove obsolete $NVIM detection #15791
Merge pull request #15351 from bfredl/virt_line
refactor: replace sprintf with snprintf #15794
Merge pull request #15721 from bfredl/electricboogalo
fix(runtime): ordering of loading packages with user config
feat(decorations): support virtual lines (for now: only one block at a time)
feat(lua): expose lua-cjson as vim.json
feat(lua): add lua-cjson as vendored dependency
refactor: use kwargs parameter in vim.split
feat: add trimempty optional parameter to vim.split
docs(CONTRIBUTING.md): how to use uncrustify #15780
fix(api): fix crash after set_option_value_for() #15390
refactor: format with uncrustify #15778
Merge pull request #15776 from jamessan/macos-11-ci
test(normal): CA_COMMAND_BUSY in visual select mode #15292
ci: use runner, instead of os, for job name and cache key
ci: add macOS 11 build
Merge #15774 fix(pvs): fix warnings, script
Merge #15731 vim-patch:7.4.725,8.2.{0597,0598,0924,1035}
refactor: format with uncrustify #15755
fix(pvs): Exclude xdiff from analysis
fix(PVS): disable "typo" warnings V1051, V1074
fix(PVS V681): function call order is undefined
fix(PVS V576): false positive
fix(PVS V576): wrong fprintf() format
fix(PVS V507): false positive
fix(lsp): guard textDocument/codeAction command logic #15769
fix: move contrib/uncrustify.cfg -> src/uncrustify.cfg #15768
fix(diagnostic): check for nil in show_diagnostics (#15772)
fix(diagnostic): don't return nil when callers expect a table (#15765)
Merge #14979 doc: convert Nvim style guide XML to vim :help
doc(dev_style.txt): misc updates
doc: convert neovim style guide to vim doc.
vim-patch:8.2.1035: setreg() does not always clear the register
vim-patch:7.4.725
vim-patch:8.2.0924: cannot save and restore a register properly
vim-patch:8.2.0598: test_eval_stuff fails in normal terminal
vim-patch:8.2.0597: test_eval is old style
build(deps): bump luarocks to 3.7.0 #15740
feat(diagnostic): allow customized diagnostic messages (#15742)
Merge pull request #15739 from clason/luv-bump
Merge pull request #14115 from mfussenegger/lsp-commands
docs: .git-blame-ignore-revs #15653
refactor: format with uncrustify #15741
vim-patch:34cc7d8c034f #15753
Merge pull request #15717 from gpanders/diagnostic-include-source
refactor(diagnostic): remove get_virt_text_chunks()
feat(diagnostic): add option to include diagnostic source
fix(diagnostic): preserve fields from LSP diagnostics via user_data (#15735)
fix(lsp): update lsp-handler signature in call_hierarchy (#15738)
ci(PVS): PVS/V009: add required header #15751
fix(startup): init.lua: set $MYVIMRC to absolute path #15748
Merge pull request #15745 from e-kwsm/Makefile
fix(build): call find_package(Threads) before using its variables
chore(deps): bump libuv and luv to 1.42.0
build: enhance Makefile
Merge pull request #15743 from jamessan/libuv-threads
build: add ${CMAKE_THREAD_LIBS_INIT} to LIBUV_LIBRARIES
feat(lsp): add a registry for client side code action commands
feat(lsp): include original request params in handler ctx
fix(diagnostic): clamp line numbers in display layer (#15729)
refactor: reformat with uncrustify #15736
fix(inccommand): ignore trailing commands only for *previewed* command #15638
refactor: format with uncrustify #15726
test: close timers in vim_spec.lua functional test
test: fix running functional tests under gdbserver
Merge #15727 build(lint): check scripts/*.lua
build(lint): commit linter
build(lint): check scripts/*.lua
refactor(Makefile): use built-in make commands #15708
feat(diagnostic): match(), tolist(), fromlist() #15704
refactor: format with uncrustify #15722
build(lint): commit linter #15725
Merge pull request #15630 from zeertzjq/vim-8.2.3424
build(lint): commit linter #15620
build(lint): commit linter #15620
refactor(tests): remove redir_exec #15718
vim-patch:8.2.3437: compiler warnings for 32/64 bit usage
vim-patch:8.2.3425: warning for using uninitialized variable
vim-patch:8.2.3424: a sequence of spaces is hard to see in list mode
vim-patch:8.2.2640: screenstring() returns non-existing composing characters
vim-patch:8.1.1110: composing chars on space wrong when 'listchars' is set
vim-patch:8.1.1079: no need for a separate ScreenLinesUtf8() test function
vim-patch:8.1.1078: when 'listchars' is set a composing char on a space is wrong
vim-patch:8.1.1071: cannot get composing characters from the screen
fix(diagnostic): only update decorations for loaded buffers (#15715)
ci(labeler): diagnostic
feat(lsp): improve vim.lsp.util.apply_text_edits (#15561)
Merge pull request #15710 from gpanders/show_line_diagnostics
vim-patch:8.2.3394: filler lines are wrong when changing text in diff mode (#15547)
refactor: format #15702
test: add test case for show_line_diagnostics
fix(diagnostic): resolve nil bufnr in show_line_diagnostics
Merge pull request #15632 from bfredl/rtptest
refactor(runtime): handle pack/foo/start/bar/after dirs properly
refactor(runtime): always use DIP_START when searching for runtime files
 fix(diagnostic): change default severity_sort order
fix(diagnostic): remove check on nil return value
refactor(diagnostic): combine config() and set() calls
refactor(diagnostic): group local functions together
refactor: convert TRUE/FALSE to true/false (#15660)
fix(diagnostic): change default severity_sort order
Merge pull request #15696 from gpanders/diagnostic-sign-fix
fix(termdebug): replace mapset with nvim_set_keymap (#15699)
fix(typo): overriden -> overridden (RE: PR #14159) (#15360)
fix(diagnostic): support severity_sort
test: reorg #15698
fix(diagnostic): correctly handle folder level diagnostics
docs(diagnostics): fix typos
fix(diagnostic): fix wrong data type in setqflist()
Merge pull request #15364 from seandewar/vim-8.2.3337
fix(diagnostic): don't overwrite existing sign definitions
refactor(style): switch-case formatting, "uncrustify:indent-off" #15669
Merge pull request #15580 from seandewar/vim-8.2.3378
fix: prevent K_EVENT from stopping Select mode CTRL-O #15688
Merge #15693 fix(diagnostics)
fix(diagnostic): don't convert diagnostic table twice
fix(diagnostic): show_line_diagnostic with empty lnum
fix(diagnostic): nvim_echo takes three args (#15687)
fix(diagnostic): remove useless highlight links (#15683)
vim-patch:8.2.3375: using uninitialized memory
vim-patch:8.2.3369: auto formatting after "cw" leaves cursor in wrong spot
vim-patch:8.2.3360: user function completion fails with dict function
vim-patch:8.2.3357: crash when 'virtualedit' is set and window is narrow
vim-patch:8.2.3337: completing "call g:" returns entries with just "g:"
vim-patch:8.2.3330: Coverity reports using uninitialized field
vim-patch:8.2.3328: Coverity error for not checking return value
vim-patch:8.2.3321: some code is not tested
vim-patch:8.2.3313: unused code in win_exchange() and frame_remove()
vim-patch:8.2.3293: finding completions may cause an endless loop
vim-patch:8.2.3286: win_enter_ext() has too many boolean arguments
fix(diagnostic): don't override existing highlight groups #15682
Merge pull request #15668 from bfredl/logmenu
Merge #15585 refactor: move vim.lsp.diagnostic to vim.diagnostic
fix(lint): remove unused parameters from deprecated functions
fix(lint): remove unused function from diagnostic spec
Merge pull request #15211 from seandewar/blob-port
Merge #15680 fix(eval): add the vimscript-1 feature to has()
vim-patch:8.2.1866: Vim9: appending to pushed blob gives wrong result
test(oldtest): re-order test_eval_stuff tests to match Vim
fix(eval): add the vimscript-1 feature to has()
fix(test runner): handle nil in no-colors output handler #15679
fix(docs): ignore _*.lua files from auto doc generation #15678
refactor: remove UTF to byte col conversion
fix(man.vim): ensure buftype=nofile after :tag or :stag #15675
test: add test case for severity ranges
doc(eval): include latest relevant Blob changes
test(oldtest): unskip existing tests that use Blobs
feat(f_msgpackparse): support parsing from Blob
fix(test/dumplog): tostring(rv) before formatting as string
feat(f_msgpackdump): support dumping to Blob
feat(f_chansend): support Blob data argument
fix(eval): partially port v8.2.3284
fix(f_remove): partially port v8.2.2779
vim-patch:8.2.2712: memory leak when adding to a blob fails
vim-patch:8.2.1473: items in a list given to :const can still be modified
vim-patch:8.2.0829: filter() may give misleading error message
fix(f_insert): partially port v8.2.0634
vim-patch:8.2.0521: crash when reading a blob fails
vim-patch:8.2.0404: writefile() error does not give a hint
vim-patch:8.2.0184: blob test fails
vim-patch:8.2.0121: filter() and map() on blob don't work
vim-patch:8.1.1671: copying a blob may result in it being locked
vim-patch:8.1.1023: may use NULL pointer when indexing a blob
vim-patch:8.1.0802: negative index doesn't work for Blob
vim-patch:8.1.0798: changing a blob while iterating over it works strangely
vim-patch:8.1.0797: error E898 is used twice
vim-patch:8.1.0793: incorrect error messages for functions that take a Blob
vim-patch:8.1.0765: string format of a Blob can't be parsed back
vim-patch:8.1.0757: not enough documentation for Blobs
vim-patch:8.1.0756: copy() does not make a copy of a Blob
vim-patch:8.1.0755: error message for get() on a Blob with invalid index
vim-patch:8.1.0742: not all Blob operations are tested
vim-patch:8.1.0738: using freed memory, for loop over blob leaks memory
feat(decode_string): decode binary string with NULs to Blob
feat(shada): restore Blob globals properly
feat(msgpack): convert Blobs to BIN strings
feat(json): convert Blobs to array of byte values
feat(api): convert Blobs to API strings
feat(nlua): convert Blobs to strings
vim-patch:8.1.0736: code for Blob not sufficiently tested
vim-patch:8.1.0735: cannot handle binary data
refactor: move vim.lsp.diagnostic to vim.diagnostic
feat(lsp): improve logging (#15636)
fix(:source): copy curbuf lines to memory before sourcing #15111
fix(:source, nvim_exec): handle Vimscript line continuations #14809
fix(ui): don't log from UI events during free_all_mem()
Merge #15657 vim-patch:8.1.1195,8.2.{3417,3419}
docs: third-party licenses, TEST_COLORS, system() #15665
refactor: format files with uncrustify #15663
fix(lsp): correctly parse LSP snippets #15579
fix: "redundant cast to the same type" #15662
refactor: format tui/input.c with uncrustify (#15661)
refactor: format tui.c with uncrustify (#15640)
vim-patch:8.2.3419: a failing debug expression may make Vim unusable
vim-patch:8.2.3417: Vim9: a failing debug expression aborts script sourcing
vim-patch:8.1.1195: Vim script debugger functionality needs cleanup
vim-patch:6c391a74fe90 (#15654)
vim-patch:89a9c159f23f #15641
refactor: replace TRUE/FALSE with true/false #15647
vim-patch:8.2.3432: octave/Matlab filetype detection does not work properly (#15652)
doc(options): remove vim9script reference (#15645)
vim-patch:8.2.3368: not all Racket files are recognized (#15643)
vim-patch:8.2.3374: Pyret files are not recognized (#15642)
Merge pull request #15639 from bfredl/xdata
vim-patch:partial 6aa57295cfbe (#15633)
Merge pull request #15550 from jasonccox/vim-8.2.3385
fix(tests): use isolated XDG_DATA_HOME in startup tests
Merge pull request #14770 from andrew-pa/fix13403
Merge pull request #15637 from bfredl/colorsss
fix(build): add an env var to re-enable the colors
Merge #14611 from seandewar/vim-8.1.1116
vim-patch:partial 53f7fccc9413 (#15631)
fix(get_showbreak_value): remove FUNC_ATTR_UNUSED
vim-patch:8.2.2309: 0o777 not recognized as octal
vim-patch:8.2.0886: cannot use octal numbers in scriptversion 4
vim-patch:8.1.2043: not sufficient testing for quoted numbers
vim-patch:8.1.2036: the str2nr() tests fail
vim-patch:8.1.2035: recognizing octal numbers is confusing
vim-patch:8.1.1722: error when scriptversion is 2 a making a dictionary access
vim-patch:8.1.1355: obvious mistakes are accepted as valid expressions
vim-patch:8.1.1116: cannot enforce a Vim script style
docs: .git-blame-ignore-revs #15535
refactor(syntax.c): format with uncrustify #15627
Merge pull request #15619 from clason/vim-90df4b9d4234
feat(api): win_viewport also sends line_count #15613
Merge #15311 docs(extmarks)
docs: extmarks indexing #15311
docs: extmarks indexing #15311
docs: extmark indexing #12742
vim-patch:8.2.3389: cannot stop insert mode completion without side effects #15538
test: avoid writing ~/.bash_history #15621
Merge #15626 vim-patch:8.1.{2281,2283},8.2.{2903,3391,3397}
vim-patch:8.2.3397: no test for what 8.2.3391 fixes
vim-patch:8.2.3391: crash with combination of 'linebreak' and other options
vim-patch:8.2.2903: cursor position wrong on wrapped line with 'signcolumn'
vim-patch:8.1.2281: 'showbreak' cannot be set for one window
vim-patch:8.2.3400: ":z!" is not supported
vim-patch:8.2.3398: html text objects are not fully tested
vim-patch:8.2.3386: using uninitialized memory
vim-patch:8.2.3384: cannot disable modeline for an individual file
vim-patch:8.2.3378: MS-Windows: completing environment variables with % is wrong
fix(mouse.c): fix mouse drag positions on multigrid #12667
docs: clarify :runtime START, OPT behavior #15342
Merge branch 'master' into histfile
docs #15625
docs(terminal): clarify CTRL-\ behavior #15171
perf(lua): optimize vim.deep_equal #15236
refactor: format files with uncrustify #15607
vim-patch:8.2.3399: Octave files are not recognized (#15622)
chore(vim-patch): add doc/vim9.txt to unwanted files
Merge pull request #15618 from jamessan/test-timeout-config
do not write into user's ~/.bash_history
vim-patch:90df4b9d4234
vim-patch:4d8f476176ea (#15612)
docs(gen_vimdoc.py): ignore health.lua files #15614
test: use $TEST_TIMEOUT to specify timeout
vim-patch:partial 2346a6378483 (#15599)
Merge pull request #15566 from bfredl/mpack
test(busted): disable colors in test-runner output #15610
Merge pull request #15091 from yatli/mouse_drag_fix
fix(ci): don't enrage the CI Gods by calling a file 'core.*'
feat(lua): make vim.mpack support vim.NIL and vim.empty_dict()
feat(lua): add vim.mpack for msgpack support in lua
fix(build): make vendored libmpack and libmpack-lua build properly
build: vendor libmpack/libmpack-lua sources from b593809d93b5299bbee4e1d18e2e2d55f9fa53a6
build: vendor libmpack source from libmpack/libmpack 22b1fd90285117c995728511f9525d29520a8c82
Merge #15460 feat(lua)!: register_keystroke_callback => on_key
docs: naming conventions
feat(lua)!: register_keystroke_callback => on_key
fix(doc): various fixes #15604
Merge pull request #15602 from clason/vim-8.2.3390
build: move src/nvim/xdiff to src/xdiff
vim-patch:8.2.3390: included xdiff code is outdated
fix(windowing): positioning of relative floats
feat(lsp): support textDocument/prepareRename (#15514)
fix(termdebug): replace term_getline with getbufline #15598
vim-patch:d2ea7cf10a4d #15571
test: timeout at 20 minutes #15597
chore(lsp): fix formatting in vim.lsp.log (#15596)
Merge pull request #15595 from mjlbach/feat/add-healthcheck-lsp
feat(lsp): add warning message for large log size
feat(lsp): add lsp healthcheck
Merge pull request #15575 from dundargoc/refactor/uncrustify
fix(multigrid): #15075 mouse events crash neovim
refactor: format files with uncrustify
fix(screen): missing search highlights when redrawing from timer #15380
fix(lsp): adapt codelens resolve to handler signature change (#15578)
fix(lsp): update workspace/applyEdit handler signature (#15573)
Merge pull request #15504 from mjlbach/feat/change-handler-signature
docs: regenerate
feat(lsp)!: change handler signature
Merge pull request #15569 from bfredl/end_fill
build: fix fpclassify -Wfloat-conversion warning #15570
refactor(screen): let win_line() always handle fillers after last line
vim-patch:90df4b9 (#15494)
Merge pull request #15563 from dundargoc/refactor/uncrustify
refactor: update uncrustify config and format screen.c
vim-patch:8.2.3393: escaping for fish shell is skipping some characters
vim-patch:8.2.3385: escaping for fish shell does not work properly
fix(defaults): "syntax sync maxlines=1" on CmdwinEnter #15552
feat(defaults): limit syntax cost on CmdwinEnter #15401
refactor(tests): use assert_alive() #15546
feat(api): nvim_get_chan_info: include "argv" for jobs #15537
docs(lsp): remove private lsp.diagnostic functions from docs (#15541)
docs(lsp): document codelens.get bufnr parameter (#15540)
Merge #15402 fix(terminal): close without ! if the job is stopped
fix(jobwait): always drain process event queues #15402
fix(terminal): close without ! if the job is stopped
Merge pull request #15526 from bfredl/f_meta
fix(lua): make core vim module not dependent on $VIMRUNTIME functions
fix(tutor): formatting, layout #15098
fix(lsp): resolve bufnr in buf_is_attached (#15523)
chore(flake): fix for recent nixpkgs (#15520)
Merge pull request #15498 from neovim/marvim/api-doc-update/master
vim-patch:8.2.2938: after using motion force from feedkeys() it sticks (#15240)
docs: regenerate
Merge pull request #15304 from bfredl/quantumtheory
fix(lua): preserve argument lists which are not lists
docs: .git-blame-ignore-revs #15510
Merge pull request #15509 from bfredl/miniperf
Merge pull request #15465 from dundargoc/refactor/uncrustify
perf(api): avoid spurious allocations when converting small objects
refactor(lua): rename nlua_msgpack_ => nlua_api_
refactor: format screen.c with uncrustify
refactor: update uncrustify config file to better fit neovim style guide
fix(lsp): check if buffer is valid in changetracking (#15505)
fix(process_wait): drain proc.events directly #15501
Merge #15433 defaults: auto-create backup dir
docs: update 'backupdir' and 'undodir' descriptions
fix: remove trailing slashes before making directory
feat: defaults: auto-create backup dir
vim-patch:8.1.2229: color number column above/below cursor #15409
tests(lua/on_yank): assert conditions that fail correctly #15495
feat(lsp): get_border_size(): support repeating border char list #15474
fix(lua): verify buffer in highlight.on_yank (#15482)
fix(man.vim): use -addr=other instead of -range=-1 #15172
fix(man.vim): reduce false positives for manReference #14242
Merge #15293 Vimscript "method" syntax
fix(man.vim): filetype=man is too eager #15488
vim-patch:8.2.3362: buffer overflow when completing long tag name (#15449)
Merge pull request #15475 from vigoux/bufupdates-paste
fix(bufupdates): send correct updates for visual paste
Merge pull request #15466 from vigoux/ts-query-auto
fix(lsp): enable additional capabilities (#15470)
vim-patch:6aa5729 (#15463)
build: remove CFLAGS from :version in non-debug builds #15424
feat(ts): add query module in treesitter keys
fix(doc): example for vim.diff() (#15464)
Merge pull request #15434 from Dkendal/feature-lua-treesitter-sibling
docs: issue templates
docs: issue templates
fix(window.c): win_close from other tabpage #15454
vim-patch:8.2.3358: structurizr files are not recognized (#15417)
docs: make Lua docstrings consistent #15255
Merge pull request #15457 from bfredl/oldmap
refactor(map): remove extra-allocating map_new/map_free functions
refactor: replace TRUE/FALSE with true/false #15425
fix(doc): move vim.diff doc (#15456)
Merge pull request #15451 from bfredl/metamap
feat(api): add lua C bindings for xdiff (#14536)
refactor(api): remove unneccesary indirection around handles
refactor(marktree): embed the keymap in the MarkTree struct
refactor(map): get rid of spurious subsystem_init() functions due to maps
refactor(extmark): remove pointer indirection for extmark use of maps
refactor(syntax): don't use pointer indirected maps for no reason
perf(map): reduce double pointer indirection to single pointer indirection
docs #15447
feat(keywordprg): use :terminal for external commands #15398
feat(terminal): TermClose: set exit code in v:event.status #15406
feat(treesitter): add next, prev sibling method
Merge pull request #15295 from gpanders/ftdetect
docs: regenerate (#15431)
Merge pull request #15429 from bfredl/hl_2
feat(lsp): allow root_dir to be nil (#15430)
feat(lsp): jump to diagnostics by position (#14795)
perf(treesitter): avoid string lookup of highlight name in hot loop
Merge pull request #15422 from bfredl/syn_name2id_go_brr
Merge #15410 defaults: 'hidden', 'nojoinspaces'
perf(highlight): use a hashtable for highlight group names
feat(match): allow hl group to be defined after :match command
test: update tests to work with 'hidden'
refactor(highlight): make syn_check_group alloc free for existing group
Merge pull request #15249 from dundargoc/refactor/a-song-of-true-and-false
feat(defaults): set nojoinspaces
feat(defaults): set hidden
Merge pull request #15396 from gpanders/options-no-vi-vim
refactor(options): remove vi/vim default value distinction
docs: update pull request workflow #15243
feat: defaults: set undo points in <C-U> and <C-W> (#15400)
feat(defaults): remove 'options' from viewoptions #15397
Merge pull request #15399 from mfussenegger/private-lsp-comments
docs(lsp): prevent internal comments from showing as vim.lsp.init docs
feat(defaults): switchbuf=uselast #15394
feat: defaults: inccommand=nosplit #15395
feat(defaults): map CTRL-L to search highlights, update diffs #15385
ci: increase clint line length limit to 100 characters (#15252)
Merge pull request #15386 from jamessan/32-bit-revert
fix(autocmd.c): fix conditions in block_autocmds, unblock_autocmds #15372
vim-patch:8.2.3295: 'cursorline' should not apply to 'breakindent' #15281
fix(defaults): do not map Y in visual-mode #15387
feat(defaults): map Y to y$ #13268
Revert "tests: unit: fix preprocess: pass -m32 for 32bit ABI (#11073)"
Merge pull request #15363 from dundargoc/ci/squash
fix(ci): re-run GHA for ready_for_review events (#15377)
ci: ensure all PRs are up to date with master before attempting squash
Merge pull request #15320 from neovim/julia
vim-patch:6aa5729
vim-patch:8.2.3283: Julia filetype is not recognized
Merge pull request #15370 from gpanders/cmake-libluv
Merge pull request #15367 from jamessan/release-fixes
Merge pull request #15368 from jamessan/fragility
build: prioritize statically built libluv in search
test(lsp): disable finicky test when TEST_SKIP_FRAGILE is set
build: use RelWithDebInfo build for nightlies, Release for releases
build: update appdata.xml version in release commit
ci: comment from bot is more helpful in case of conflict (#15359)
ci: fix typo squasher by changing trigger to "pull_request_target" (#15357)
Merge pull request #15341 from dundargoc/ci/link-to-discourse
chore: link to Discourse when choosing issue template for user questions
feat(v:lua): support calling v:lua as a method
fix(v:lua): fix emsg when calling v:lua directly
fix(eval_lambda): cherry-pick leak fix from v8.1.2107
feat(eval): partially port v8.1.1915
vim-patch:8.1.1911: more functions can be used as methods
vim-patch:8.1.1909: more functions can be used as methods
vim-patch:8.1.1888: more functions can be used as methods
vim-patch:8.1.1879: more functions can be used as methods
vim-patch:8.1.1878: negative float before method not parsed correctly
vim-patch:8.1.1863: confusing error when using a builtin function as method
vim-patch:8.1.1861: only some assert functions can be used as a method
vim-patch:8.1.1835: cannot use printf() as a method
vim-patch:8.1.1834: cannot use a lambda as a method
vim-patch:8.1.1828: not strict enough checking syntax of method invocation
vim-patch:8.1.1821: no test for wrong number of method arguments
vim-patch:8.1.1820: using expr->FuncRef() does not work
vim-patch:8.1.1816: cannot use a user defined function as a method
vim-patch:8.1.1809: more functions can be used as a method
vim-patch:8.1.1807: more functions can be used as a method
vim-patch:8.1.1803: all builtin functions are global
vim-patch:8.1.1800: function call functions have too many arguments
vim-patch:8.1.1638: running tests leaves some files behind
test(oldtest): cherry-pick needed test functions from v8.1.1336
fix(eval): cherry-pick emsg changes from v8.1.0736
refactor: replace TRUE/FALSE with true/false
Merge pull request #15336 from bfredl/plines
fix: only source package ftdetect files once
refactor(plines): move horizontal size functions to plines.c
Merge pull request #15335 from muniter/set_extmark_error_cleanup
refactor(plines): what is basic compiler optimizations?
refactor(plines): remove implicit curwin chartabsize() function
refactor(plines): style of new plines.c file
refactor(plines): move out plines related code from misc1.c
refactor(api): remove redundant api_set_error
refactor(plines): remove implicit curwin plines_nofill() function
refactor(plines): remove implicit curwin plines() function
Merge pull request #15253 from spywhere/float-win-scl-fix
fix(lsp): properly handle `nil` lines when trimming empty lines (#15325)
Merge pull request #15329 from dundargoc/github/bug-template/make-behavior-mandatory
ci: make all questions mandatory in bug template
fix(lsp): floating popup should take offset_x into account when positioning (#15297)
doc: Document `-complete=lua` option (#15102)
docs: regenerate (#15324)
Merge pull request #15307 from muniter/update-help.txt
docs: Add some references to LSP specification (#15321)
docs: elaborate on commitlint rules (#15322)
docs(help.txt): add treesitter to the main help file
docs(help.txt): add a tag to the neovim api
ci: create GitHub Action that squashes all typo PRs into a single PR (#15041)
Merge pull request #15312 from janlazo/vim-8.2.2639
refactor(sign): include longer sign column option
fix(sign): reset auto sign column with minimum in float win minimal style
vim-patch:8.2.3141: no error when using :complete for :command without -nargs
vim-patch:8.2.3198: cannot use 'formatlistpat' for breakindent
vim-patch:8.2.3160: 'breakindent' does not work well for bulleted lists
vim-patch:8.2.3285: scdoc filetype is not recognized (#15294)
option: pvs/v557 (#14740)
ci(labeler): apply label tests if only files under test have changed (#15305)
ci(forms): fix "vim" description in bug template
docs: fix paragraph for BufEnter in the documentation (#15301)
Merge pull request #14767 from theHamsta/no-treesitter-mapping-to-non-existent
ci(labeler): apply documentation label only for changes exclusively in runtime/doc/* (#15298)
fix(lsp): prevent duplicate lines seperated by newlines (#15284)
chore: remove reference to nvim-treesitter in comment
fix(treesitter): do not map hl_group when no mapping is set
ci(labeler): add "tests" and "ci" labels to the labeler action (#15287)
ci(labeler): fix syntax so changes under src/nvim/lua are registered (#15285)
Merge pull request #15283 from jamessan/pending-c-parsers
test(treesitter): skip all parsers tests if parsers aren't installed
ci(tests): skip "stale events on channel close" (#15278)
Merge pull request #15257 from gpanders/remove-set_virtual_text
chore(vim-patch.sh): replace hub with gh (#15162)
refactor: remove remaining references to nvim_buf_set_virtual_text
Merge pull request #15226 from zeertzjq/vim-8.1.2029
Merge pull request #15233 from baahrens/doc-treesitter-fix-typos
ci: disable false "footer-leading-blank" warning from commitlint (#15238)
docs: fixed link to label "good-first-issue" (#15239)
Merge pull request #15129 from dundargoc/action/commitlint
vim-patch:8.2.3204: display garbled when 'cursorline' is set and lines wrap
vim-patch:8.1.2214: too much is redrawn when 'cursorline' is set
vim-patch:8.1.2117: CursorLine highlight used while 'cursorline' is off
vim-patch:8.1.2029: cannot control 'cursorline' highlighting well
Merge pull request #15234 from janlazo/vim-8.2.3164
fixup! remove DYNAMIC_ICONV
vim-patch:8.2.3256: executable test may fail on new Ubuntu system
vim-patch:8.2.3246: memory use after free
vim-patch:8.2.3225: incsearch highlighting is attempted halfway a mapping
vim-patch:8.2.3213: NOCOMPOUNDSUGS entry in spell file not tested
vim-patch:8.2.3167: get E12 in a job callback when searching for tags
doc(treesitter): Fix typos
docs: add description of each type
ci: add commit linter to GitHub Actions
Merge pull request #15217 from neovim/marvim/api-doc-update/master
Merge pull request #15228 from janlazo/vim-8.2.3002
vim-patch:8.2.3136: no test for E187 and "No swap file"
vim-patch:8.2.3115: Coverity complains about free_wininfo() use
fixup! vim-patch:8.2.3019: location list only has the start position.
docs: regenerate
fix(lsp): Include client name in handler error messages (#15227)
vim-patch:8.2.3254: win_gettype() does not recognize a quickfix window
vim-patch:8.2.3163: location list window may open a wrong file
vim-patch:8.2.3025: not enough tests for quickfix end_col and end_lnum
vim-patch:8.2.3019: location list only has the start position.
vim-patch:8.1.2019: 'cursorline' always highlights the whole line (#15161)
Merge pull request #15206 from dundargoc/refactor/a-song-of-true-and-false/global-variables-2
Merge pull request #15222 from dundargoc/PVS/V501
Merge pull request #15062 from seandewar/vim-8.1.0829
Merge pull request #14744 from janlazo/vim-8.2.2957
refactor: PVS/V501: removed duplicate sub-expression 'chunk.size > 2'
refactor: replace TRUE/FALSE with true/false
fixup! fix(highlight): remove syncolor.vim
vim-patch:8.2.2957: using getchar() in Vim9 script is problematic
Merge pull request #15207 from gpanders/bye-syncolor
Merge pull request #15184 from bfredl/sunjonhl
feat(decorations): deprecate nvim_buf_set_virtual_text
refactor(decorations): merge the two different code paths for virt_text
feat(decorations): allow more than one stacked highlight in a virt_text
feat(lsp): implement vim.lsp.diagnostic.redraw() (#15203)
Merge pull request #15213 from zeertzjq/vim-8.2.3236
chore: fix lsp bug issue template
chore: fix bug issue template form
Merge pull request #15215 from bfredl/fix_15212
fix(decorations): crash when :bdelete (extmark_free_all) after clear_namespace
vim-patch:8.2.3236: mode() does not indicate using CTRL-O in Select mode
ci(labeler): adapt to new label names
fixup! fix(highlight): remove syncolor.vim
ci: label PRs only the first time they're opened (#15209)
ci(labeler): update label format
fixup! fix(highlight): remove syncolor.vim
fixup! fix(highlight): remove syncolor.vim
fix(highlight): remove syncolor.vim
Merge pull request #15142 from neovim/marvim/api-doc-update/master
docs: regenerate
Merge pull request #15197 from dundargoc/refactor/a-song-of-true-and-false/global-variables
feat(lsp): make list handlers configurable (#15199)
Merge pull request #15090 from kraftwerk28/master
Merge pull request #15180 from gpanders/xcalloc
Merge pull request #15191 from vigoux/ts-docs
chore: remove checkbox from issue template
refactor: replace TRUE/FALSE with true/false
Merge pull request #15151 from dundargoc/refactor/true-and-false-macro
refactor: replace TRUE/FALSE macros with C99 true/false
docs(ts): add documentation for listing fns
Merge pull request #14311 from matveyt/nomode_ce
chore: PVS/V751: ignore warning #15153
chore: added ccls-cache in .gitignore (#15175)
Merge pull request #14347 from theHamsta/list_directives
chore: update LSP bug report with Github issue forms (#15159)
chore: update feature request template by using Github issue forms. (#15158)
chore: update bug report template by using Github's new issue forms (#15152)
Merge pull request #15178 from gpanders/master
fix: fix incorrect call sites of xcalloc
doc: group documentation of predicates and directives
treesitter: add query.list_directives
fix: source syncolors.vim after startup scripts
Merge pull request #15169 from bfredl/freebsdfail
fix(ci): lower timeout to 45 minutes (from default 360 mins)
fix(ci): disable broken test on openbsd on all CI due to resource constraints
Remove EXMODE_NORMAL
Merge pull request #15114 from theHamsta/treesitter-hl-priority
docs(tree-sitter): document highlight priority
feat(treesitter): allow to set highlight priority for queries
lsp: add vim.lsp.diagnostic.set_qflist() function (#14831)
Merge pull request #14771 from gpanders/colorscheme
Revert "fix(ci): remove mongodb from brew to avoid brew upgrade error (#15115)" (#15141)
lsp(start_client): Allow passing custom workspaceFolders to the LSP (#15132)
Merge pull request #15135 from neovim/marvim/api-doc-update/master
docs: regenerate
docs: made can_merge private (#15138)
fix(lsp): allow diagnostic.clear to accept nil bufnr (#15137)
Merge pull request #15127 from bfredl/nlua_init
feat(lsp): allow diagnostics to be disabled for a buffer (#15134)
feat(lsp): allow configuring zindex for floating windows (#15086)
fix(shared): do not treat empty tables as list in deep extend (#15094)
Merge pull request #15070 from dundargoc/PVS/V768
refactor(lua): initialize lua state at startup instead of dynamically
chore(PVS/V768): don't use enum as bool.
Merge pull request #15073 from dundargoc/PVS/V751
Merge pull request #15110 from dundargoc/PVS/V1042
chore(PVS/V751): tui.c, Parameter is not used
feat: aggregate code actions from all clients (#15121)
chore: PVS/V1042 -  ignore warning globally.
vim-patch:8.1.0829: when 'hidden' is set session creates extra buffers
fix(ci): remove mongodb from brew to avoid brew upgrade error (#15115)
doc(lsp): various small fixes (#15113)
fix: source syncolors.vim before startup scripts
Merge pull request #15078 from bfredl/p_vim_vi
refactor(options): remove obsolete distinction of "vi" vs "vim" defaults
Merge pull request #15017 from donbex/local-file-uri
refactor(options): delet unused P_VIM flag
docs: fix typo in treesitter.txt
fix(lsp): pass bufnr for async formatting (#15084)
Merge pull request #14812 from gpanders/stdin_closed
Add test case for 'null' stdin mode
Fix line length clint error
Rename stdin to stdin_mode
feat(job): add parameter to close stdin
fix(lsp): avoid ipairs on non-sequential tables (#15059)
chore(clang): Fix 'Array subscript is undefined' #15057
fixup(clipboard): Fix error not properly handled #14984
fix(lsp): Ensure human readable errors are printed
fix(lsp): Ensure users get feedback on references/symbols errors or empty results
window.c: address Coverity failure #14996
test/memory_usage_spec: skip on MacOS #15043
fix(lsp): Add separator between codelens in virttext (#15049)
fix(lsp): correctly check for windows in lsp logger (#14954)
feat(vim.uri): Allow URI schemes other than file: without authority
test(lsp): file URIs do not allow relative paths
test(lsp): file URIs without a hostname
fix(lsp): accept file URIs without a hostname
Merge pull request #15047 from teto/flake-tests
chore: add log hander to gen_vimdoc
chore(flake): update inputs
feat(lsp): Make line diagnostics display prettier
Merge pull request #15036 from vigoux/decurbuf-2
refactor(undo): don't assume curbuf in u_compute_hash
Merge pull request #15035 from neovim/marvim/api-doc-update/master
docs: regenerate
fix(lsp): support duplicate params in signature help (#15032)
Merge pull request #12971 from vigoux/decurbuf
Merge pull request #14908 from neovim/marvim/api-doc-update/master
refactor(undo): remove last occurence of save_curbuf
refactor: remove all mentions to `curbuf_lock`
build(cmake): skip download if target file exists #14844)
vim-patch:8.2.3125: variables are set but not used #15028
vim-patch:8.2.3089: garbage collection has useless code #15027
docs: regenerate
fix(lsp): restore diagnostics extmarks that were moved to the last edit line (#15023)
feat(lsp): highlight active parameter in signature help (#15018)
doc: "--remote" is not supported #14936
doc: remove mentions of compile-time flags #14935
chore: use codespell to spell check #15016
clang/'Dead initialization': don't assign unused value to variable "string" #15015
fix(lsp): restore diagnostics extmarks on buffer changes (#15011)
clang/'Dead nested assignment': don't assign unused value to precision #15012
chore(deps): bump LibLUV to 1.40.0-0 (#14997)
style(undo): remove unnecessary comment
fix(qf): use correct buffer field
buffer: move BUFEMPTY to a function
undo: reduce reliance on curbuf
buffer: don't rely on curbuf in BUFEMPTY
clang/'Dead assignment': ignore warning #15000
chore(deps): bump LibLUV to 1.34.1 and lua-compat-53 to 0.9 (#14985)
Merge pull request #14989 from folke/lsp_convert_input_markdown
fix(lsp): prevent double <text> for cached plaintext markup
Merge pull request #14391 from lewis6991/signs
signs: Change b_signcols_max -> b_signcols_valid
Merge pull request #14981 from janlazo/vim-8.2.3081
vim-patch:8.2.3097: crash when using "quit" at recovery prompt
vim-patch:8.2.3093: tablabel_tooltip test fails with Athena
vim-patch:8.2.3088: with 'virtualedit' set to "block" Visual highlight is wrong
vim-patch:8.2.3087: Gemtext files are not recognized
vim-patch:8.2.3085: JSONC files are not recognized
fix(vim.opt): vimL map string values not trimmed (#14982)
fix(clint): fix link to style guide. (#14975)
refactor(memfile_test): replace long_u type with size_t. #14974
PVS/V1051: Ignore "modulo by 1" warning for ARRAY_SIZE. (#14943)
doc/startup: cleanup; assign ENN to "conflicing configs" msg (#14971)
doc/readme: mention void linux (#14969)
fixup(clipboard): Use case matching #14962
deps(curl): v7.77.0 (#14961)
version bump
NVIM v0.5.0
ex_cmds: verify invalid command name
Merge pull request #14864 from seandewar/get-config-zindex
doc(options): Fix recommended PowerShell config (#14349)
Merge pull request #14951 from rktjmp/14924-checksums
runtime/vim: d2ea7cf10a4d026ebd402594d656af7d5c811c24 (#14950)
feat(ci): Add sha256 checksums to release notes
lint (#14941)
Merge pull request #14792 from shadmansaleh/refactor/mkdir_p
Merge pull request #14848 from shadmansaleh/fixup/block_paste_clipboard
Tests(clipboard): Add test for block paste
BugFix(clipboard): Fix block paste not working properly
Refactor(tests): mkdir_p in startup/init.lua test
Revert "tui: improve support for tmux, GNU Screen" (#14786)
vim-patch:8.2.1905: the wininfo list may contain stale entries (#14884)
Merge pull request #14938 from janlazo/vim-8.2.3072
Open funcs_data.mpack in binary mode. (#14944)
Refactor(tests): Use os commands in mkdir_p helper
Merge pull request #14939 from clason/bump-ts-0.20
Merge pull request #14942 from jamessan/functionaltest-lua
Update CONTRIBUTING.md: mention ASAN/UBSAN for runtime errors
feat(ts): bump tree-sitter to v0.20.0
ci(gha): Add functionaltest-lua checker
vim-patch:8.2.3072: "zy" does not work well when "virtualedit' is "block"
Merge pull request #14930 from clason/ts-ifdef-fixup
Merge pull request #14931 from clason/patch-1
fix(ci): change autolabel to "treesitter"
fixup(ts): put ts_query_cursor_set_match_limit behind feature guard
Merge pull request #14779 from tjdevries/tjdevries/vim_opt_fixes
Merge pull request #14335 from chentau/extmark_delbytes
fix(vim.opt): Fix #14828 with empty values being incorrectly inserted
fix(vim.opt): Fix #14668 Now correctly handles unescaped commas in isfname style
fix(vim.opt): Fix #14669 whichwrap now acts as expected
fix(vim.opt): Add basic error handling
fix(vim.opt): Get window options before setting.
fix(vim.opt): #14708 Now lets you put duplicate values in wildmode
Manually zero out deleted_bytes2 when substituting and joining lines
fix(doc/api): Remove 'border' as unsupported (#14916)
fix: Remove [RFC] from PR subject in vim-patch.sh (#14917)
fix(doc): remove reference to vim.lsp.callbacks (#14576)
Merge pull request #14920 from otherJL0/master
Adding clangd language serever config file to point to build/ directory for compile_commands.json
Merge pull request #14915 from clason/ts-match-limit
[RDY] Add buffer information to tabline_update (#12481)
Fixed +1 -1 in util.lua (#14913)
Merge pull request #14914 from janlazo/vim-8.2.3050
fix(treesitter): set match limit for query cursors
vim-patch:8.2.2954: short file name extension for Scala not recognized
vim-patch:8.2.3049: JSON patch file not recognized
vim-patch:8.2.3050: cannot recognize elixir files
vim-patch:8.2.3018: 'quickfixtextfunc' formatting is lost when switching buffers (#14865)
vim-patch:8.1.0897: can modify a:000 when using a reference (#14902)
Fix `<afile>` getting prepended with a slash on WinClosed (#14515)
fix(doc/usr_41): don't mention 0o prefix for octs (#14906)
fix(lsp): render the last line in stylize_markdown
Merge pull request #14910 from folke/lsp_fences_docs
Update busy_start/busy_stop ui events documentation (#14415)
style(lsp): make get_markdown_fences private
Merge pull request #14904 from mfussenegger/nil-message-callbacks
Merge pull request #14617 from folke/fancy_markdown_fences_support
Merge pull request #14903 from mfussenegger/add-workspace-folder
feat(lsp): use markdown_fenced_languages in stylized_markdown
Merge pull request #14907 from folke/lsp_markdown
fix(lsp): syntax improvements for lsp_markdown
fix(lsp): Handle nil message_callbacks
fix(lsp): Set `dir` completion option for add_workspace_folder
Merge pull request #14886 from janlazo/vim-8.1.1437
Merge pull request #14584 from akinsho/bugfix/vim-nil-conversion-logic
fix(lsp): do not convert vim.NIL to nil in lists
vim-patch:8.2.3033: no error when using alpha delimiter with :global
vim-patch:8.2.2185: BufUnload is not triggered for the quickfix dummy buffer
vim-patch:8.2.1255: cannot use a lambda with quickfix functions
vim-patch:8.1.1437: code to handle callbacks is duplicated
Merge pull request #14868 from shadmansaleh/patch_verbose_for_lua
docs(starting): mention init.lua in paths and remove repetition (#14883)
Merge pull request #14878 from mjlbach/fix/lsp-quickfix-focus
Merge pull request #14719 from snezhniylis/marktree_delete_node_iter_fix
fixup! vim-patch:8.2.3020: unreachable code (#14866)
extmark: fix deletable nodes in MarkTree sometimes getting skipped
fix(lsp): handlers should focus quickfix list
fix(source): Source giving E484 & parsing error at line 1 for lua files
BugFix: Fix inconsistent verbose message
vim-patch:8.2.3020: unreachable code (#14866)
Merge pull request #14849 from seandewar/demethod-curwin
Merge pull request #14851 from ckipp01/hlCodeLens
Add hl group docs for codelenses
Merge pull request #14861 from stevearc/diagnostic-loclist
fix(api/win_get_config): include z-index
fix(doc/index.txt): various ex command fixes
fix(doc): :sleep! does not hide cursor
fix(doc): remove :promptfind and :promptrepl
fix(doc): don't use method call syntax in examples
fix(lsp): fix severity_limit logic in set_loclist
Merge pull request #14833 from vigoux/tree-sitter-docs-tidy
Merge pull request #14824 from vigoux/extmarks-ts-perf
vim-patch:8.2.3012: when 'rightleft' is set the line number is drawn reversed (#14839)
Merge pull request #14840 from folke/lsp_float_cleanup
chore(lsp): removed deprecated floating preview methods
release.sh: use stdin for release commit message (#14832)
perf(extmarks): allow ephemeral extmarks past EOF
docs(treesitter): mention query help page
docs(treesitter): tidy docs and remove legacy information
Merge pull request #14796 from glacambre/upgrade_to_gcc11
ci: upgrade to gcc-11 on ubuntu-18.04
fix(lsp): add bufnr to formatting requests
docs(lsp): Clarify opts for show_line_diagnostics()
Merge pull request #14454 from eltociear/patch-1
Merge pull request #14822 from eltociear/patch-2
option: fix typo in option.c
Merge pull request #14817 from neovim/marvim/api-doc-update/master
docs: regenerate
docs(lsp): annotate call_hierarchy function as private
fix(lsp): fix on_detach in lsp.diagnostic
Merge pull request #14815 from folke/lsp_triples
fix(lsp): replace --- by a line in stylize_markdown
Merge pull request #14482 from elianiva/lsp/remove_hover_line
Merge pull request #14737 from rktjmp/lsp-guard-against-negative-lines
feat(lsp): hide triple - in hover window.
Merge pull request #14814 from nanotee/fix_lsp_floats_presets
fix(lsp): allow 'rounded' and 'solid' in floats
Merge pull request #13165 from mfussenegger/codelens
Merge pull request #14813 from neovim/marvim/api-doc-update/master
docs: regenerate
Merge pull request #14804 from clason/rounded-borders
feat(lsp): Add codelens support
feat(float): add rounded borders preset
Merge pull request #14802 from janlazo/vim-8.2.1354
vim-patch:8.2.2990: Jupyter Notebook files are not recognized
fix(ci): adjust DEPS_INSTALL_DIR on OpenBSD to avoid pkg-config bug (#14803)
vim-patch:8.2.0936: some terminals misinterpret the code for getting cursor style
vim-patch:8.2.1354: test 59 is old style
Merge pull request #14765 from folke/lsp_plaintext
Merge pull request #14788 from shadmansaleh/fix/lua_runtime1
fix(lsp): convert_input_to_markdown_lines: preserve plaintext
Merge pull request #14785 from janlazo/vim-8.1.1838
refactor(startup): Load init.lua with do_sorce
fixup(runtime): Fix lua runtime files not listed
fix(lsp): guard against negative diagnostic line numbers
vim-patch:8.2.2896: spellfile functionality not fully tested
vim-patch:8.2.0945: cannot use "z=" when 'spell' is off
vim-patch:8.2.0046: tests for spell suggestions are slow
vim-patch:8.2.0039: memory access error when "z=" has no suggestions
vim-patch:8.2.0038: spell suggestions insufficiently tested
vim-patch:8.1.1865: spellrare and spellrepall in the wrong order
vim-patch:8.1.1838: there is :spellwrong and :spellgood but not :spellrare
test: clear $GZIP, use nvim's system() (#14791)
Merge pull request #14137 from last-partizan/patch-1-test
fix(ui): Fix pum incorrect position in multigrid mode
Merge pull request #14761 from janlazo/vim-8.2.2966
vim-patch:8.2.2974: Greek spell checking uses wrong case folding
Merge pull request #14773 from mjlbach/fix/vim-region-bounds
Merge pull request #14686 from shadmansaleh/feat/evaluate_plugin/lua
Merge pull request #14776 from vigoux/ts-0.19.5plus
Merge pull request #14777 from vigoux/label-dependencies
ci: correctly label dependencies PRs
Merge pull request #14775 from bfredl/gcc11
deps(treesitter): bump to 0.19.5+
macros: add a dummy statement to allow FALLTHROUGH in an empty case.
Merge pull request #14769 from mjlbach/feature/fix_diagnostic_end_range
fix(lua): ensure vim.region truncates to buf range
vim-patch:8.2.2971: cannot yank a block without trailing spaces
fix(lsp): cap diagnostic end range to buf length
vim-patch:8.2.2422: crash when deleting with line number out of range
vim-patch:8.2.1702: crash when using undo after deleting folded lines
vim-patch:8.2.2966: ml_get errors after recovering a file
refactor(source): Move lua file detection to do_source
refactor(tests): Simplify tests at functional/lua/runtime_spec
enhance(runtime): Enable completion for lua files
feat(runtime): Allow lua to be used in syntax
feat(runtime): Allow lua to be used in ftdetect
feat(runtime): Allow lua to be used in indent
feat(runtime): Allow lua to be used in ftplugin
feat(runtime): Allow lua to be used in compiler
feat(runtime): Allow lua to be used in colorschemes
feat(startup): Source runtime/plugin/**/*.lua at startup
docs(contributing): update commit message instructions (#14758)
Merge pull request #14249 from euclidianAce/euclidianAce/win-config-include-border
api:get_config: don't add border="none" (inactive default)
fix linter errors
api: include border in nvim_win_get_config
Merge pull request #14763 from neovim/marvim/api-doc-update/master
docs: regenerate
Merge pull request #14717 from notomo/add-win-call-api
Merge pull request #14510 from urandom/doc_nvim_buf_set_extmark
api: add nvim_win_call
Merge pull request #14757 from jbyuki/open_line_changed_bytes
add tests in buffer_updates
minor fix
minor fixes
fix changed byte ranges for indented lines
Merge pull request #14736 from mfussenegger/lsp-diagnostic-get-qfitems
feat(lsp): Split out a `diagnostics_to_items` function from set_loclist
Merge pull request #14731 from neovim/marvim/api-doc-update/master
docs: regenerate
Merge pull request #14726 from folke/lsp_single_popup_per_buffer
Merge pull request #14511 from urandom/lsp_diagnostics_workspace_loclist
feat(lsp): extend diagnostic.set_loclist
Merge pull request #14733 from mjlbach/fix_docs_2
docs(lsp): fix locations_to_items docstring
Merge pull request #14730 from mjlbach/feature/open_loclist_on_win
Merge pull request #14707 from ray-x/master
fix(lsp): set_loclist should target current win
Merge pull request #14729 from mjlbach/feat/diagnostic_quickfix_cleanup
feat(lsp): remove line from diagnostic quickfix
Merge pull request #14724 from janlazo/vim-8.2.2877
version.c: update [skip ci] (#14328)
window: pvs/v1071
regexp: pvs/v1071
fold: pvs/v1071
memline: pvs/v1071
indent_c: pvs/v1071
screen: pvs/v614
fixup! vim-patch:8.2.2136: Vim9: Using uninitialized variable
undo: pvs/v547
sign: pvs/v547
userfunc: pvs/v547
fixup! tests: fix system_spec when run with clipboard manager (#10956)
fixup! fixup! vim-patch:8.2.2776: :mksession uses current value of 'splitbelow' and 'splitright' (#14398)
vim-patch:8.0.1578: no test for :popup in terminal
vim-patch:8.2.2937: popup test fails if rightleft feature not enabled
vim-patch:8.2.2877: insufficient tests for popup menu rightleft
fix(lsp): max 1 floating preview per buffer. Fixes #11508
Merge pull request #14721 from jamessan/mac-ci
fix(ci): Remove gcc@8/gcc@9 homebrew workaround
Merge pull request #14710 from janlazo/clang-warnings
clang/'Logic error': assert get_decor_provider(id, true) returns nonnull
fixup! vim-patch:8.2.2776: :mksession uses current value of 'splitbelow' and 'splitright' (#14398)
clang/'Logic error': has_profiling() may not set forceit
clang/'Logic error': zero-init oldbase array
clang/API: reject null string in timer_start()
fix(lsp): floating window border size for string type 'none' and 'shadow'
Merge pull request #14701 from neovim/marvim/api-doc-update/master
docs: regenerate
Merge pull request #14692 from jamessan/api-doc-workflow
Merge pull request #14698 from jose-elias-alvarez/omnifunc-insert-check
fix(lsp): check mode in omnifunc callback
Merge pull request #14693 from shadmansaleh/enhance/lsp/make_focusable_parameter_configurable
docs(lsp): Fix opts param not captured by docgen
feat(lsp): Make focusability of lsp float configurable
Merge pull request #14694 from folke/lsp_popup_border
Merge pull request #14659 from seandewar/api-win-buf-noautocmd
fix(lsp): properly handle border character list without highlight groups. Fixes #14691
ci(gha): New workflow to regen API docs on pushes to release branches
api(parse_float_config): use api_object_to_bool()
api(nvim_open_win): add "noautocmd" option
Merge pull request #14685 from janlazo/vim-8.2.2911
Merge pull request #14531 from janlazo/revert-noblock
vim-patch:8.2.2916: operators are not fully tested
vim-patch:8.1.2400: test39 is old style
vim-patch:8.2.2914: cannot paste a block without adding padding
vim-patch:8.2.2911: pattern "\%V" does not match all of block selection
Merge pull request #14690 from mjlbach/fix_docs
fix(docs): delete duplicate tags
Merge pull request #14687 from kabouzeid/vim-docs
Merge pull request #14635 from folke/lsp_get_lines
docs: regenerate
fix vim.opt:remove doc (#14664)
Merge pull request #14649 from folke/lsp_float_refactor
Merge pull request #14673 from janlazo/vim-8.2.2898
vim-patch:8.2.2900: QuitPre is triggered before :wq writes the file
vim-patch:8.2.2898: QuitPre and ExitPre not triggered when GUI window is closed
refactor(lsp): consolidate the different floating window methods into open_floating_preview
lua: Add vim.opt and fix scopes of vim.o (#13479)
cmake: install app icon in XDG hicolor icon theme (#14656)
Merge pull request #14646 from mfussenegger/wipe-floating-markdown-bufs
lsp: Ensure floating markdown buffers are deleted on hide
Merge pull request #14607 from glacambre/fix_get_all_options_info_crash
Merge pull request #14640 from janlazo/vim-3ec3217f0491
Fix crash on `:echo get_all_options_info()`
vim-patch:8.2.2278: falling back to old regexp engine can some patterns
vim-patch:8.2.2885: searching for \%'> does not match linewise end of line
vim-patch:3ec3217f0491
perf(lsp): get all lines from a file in one go
Merge pull request #14634 from janlazo/vim-8.2.2880
vim-patch:8.2.2884: not enough cscope code is covered by tests
vim-patch:8.2.0511: Cscope code not fully tested
test/old: partial port of patch v8.2.1.0183
vim-patch:8.2.1689: 'colorcolumn' doesn't show in indent
vim-patch:8.2.1957: diff and cursorcolumn highlighting don't mix
vim-patch:8.2.2880: unified diff fails if actually used
vim-patch:8.2.2879: file extension .hsig not recognized (#14628)
vim-patch:8.2.2879: file extension .hsig not recognized (#14623)
Merge pull request #14622 from mfussenegger/unmute-error-responses
lsp: Only mute RequestCancelled or ContentModified, but not other errors
Merge pull request #14619 from janlazo/vim-8.2.2772
vim-patch:8.2.2778: problem restoring 'packpath' in session
vim-patch:8.2.2772: problems when restoring 'runtimepath' from a session file
fixup! vim-patch:8.1.0734: the hlsearch state is not stored in a session file (#13547)
Merge pull request #14615 from folke/faster_locations_to_items
perf(lsp): locations_to_items use libuv for unloaded buffers to get line
Merge pull request #14269 from fdschmidt93/fix/document_symbol_range
Merge pull request #14603 from folke/format_on_save
Merge pull request #14601 from janlazo/vim-8.1.2320
vim-patch:8.2.2875: cancelling inputlist() after a digit does not return zero
vim-patch:8.2.0946: cannot use "q" to cancel a number prompt
vim-patch:8.2.1591: using winheight('.') in tests works but is wrong
vim-patch:8.1.2339: insufficient testing for quickfix
vim-patch:8.1.2320: insufficient test coverage for quickfix
doc/options: Removed vim-only text from ambiwidth. (#14602)
Merge pull request #14604 from folke/master
feat(lsp): use fancy_floating_markdown for signature_help
fix(lsp): clear current_syntax before formatting fancy markdown region
fix(lsp): preview_location options and syntax fallback
fix(lsp): allow apply_text_edits and set_lines to insert text after the last line. Fixes #14017
Merge pull request #14596 from folke/master
Fixed ttimeout documentation. (#14600)
feat(lsp): lsp.util.fancy_floating_markdown improvements
Merge pull request #14490 from kevinhwang91/qftf
Merge pull request #14575 from vigoux/virtualedit-bytes
Merge remote-tracking branch 'origin/master' into qftf
fixup! vim-patch:8.2.0959: using 'quickfixtextfunc' is a bit slow
Merge pull request #14538 from jamessan/vim-patch.sh-fixup
vim-patch.sh -m: Ignore changes to version.c
fix(vim-patch.sh -m): Show all commits touching a file, not just the first
Merge pull request #14579 from jamessan/windows-env-vars
Merge pull request #14592 from janlazo/vim-8.2.2869
Remove '- 1' for sizes passed to xstrlcpy
vim-patch:8.2.2871: unnessary VIM_ISDIGIT() calls, badly indented code
vim-patch:8.2.2869: using unified diff is not tested
Merge pull request #14563 from mjlbach/fix_intelephense_langserver
Merge pull request #12076 from bfredl/luavar
lua: use proper conversion of vim.g values
fix(health/python3): remove obsolete check (#14590)
Merge pull request #14589 from mhinz/revert-smarter-tagstack
Merge pull request #14583 from cbarrete/unsupported-call-hierarchies
vim-patch:8.2.0959: using 'quickfixtextfunc' is a bit slow
vim-patch:8.2.0933: 'quickfixtextfunc' does not get window ID of location list
vim-patch:8.2.0869: it is not possible to customize the quickfix window contents
lsp: handle unsupported call hierarchy call
test(lsp_spec): improve correctness
Revert "lsp: make tagstack smarter motion-wise (#12262)"
Revert "lsp: fix regression in jump_to_location() (#14446)"
Merge pull request #14585 from littlepoco/master
Update README.md
Merge pull request #14582 from bfredl/gender
docs: fix some remanining cases of gender pronoun for "the user"
fix(bufupdate): send events when inserting with virtualedit
Merge pull request #14580 from jamessan/title-stack
fix(job): Deduplicate env var names on Windows
fix(tui): Stop sending extra parameter for save/restore title
test(job_spec): Test handling of case-insensitively matching env vars
feat(ci): autolabel pull requests (#14574)
win/package: update wintools.zip for curl v7.76.1 (#14570)
lsp: handle case where CompletionItem.insertTextFormat is nil
Update vim diff and credits (#14566)
Merge pull request #14406 from shadmansaleh/vim-8.2.0877
Add 'FUNC_ATTR_NONNULL_RET' to nonnull alloc funcs (#14559)
vim-patch:8.2.2854: custom statusline cannot contain % items (#14558)
Merge pull request #14468 from bfredl/zindex
floats: z-index
Merge pull request #14532 from janlazo/vim-8.1.1433
Merge pull request #14555 from mickael-menu/fix/range-code-action
lsp: Fix range end offset off by one character
treesitter: add predicate "any-of?" (#14344)
vim-patch:8.2.2850: recalling commands from history is not tested
fixup! vim-patch:8.1.1228: not possible to process tags with a function
fixup! vim-patch:8.0.1449: slow redrawing with DirectX
vim-patch:8.0.1394: cannot intercept a yank command
vim-patch:8.2.2473: crash when leaving command line window triggers autocommand
lint
vim-patch:8.2.2433: opening cmdline window gives error in BufLeave autocommand
vim-patch:8.2.2419: autocmd test was failing on MS-Windows with GUI
vim-patch:8.2.2359: strange test failure with MS-Windows
vim-patch:8.2.2354: crash with a weird combination of autocommands
Revert "XXX: ex_tabonly(): aucmd_win is not part of the window list."
vim-patch:8.2.1059: crash when using :tabonly in an autocommand
vim-patch:8.2.1000: get error when leaving Ex mode with :visual
vim-patch:8.2.0023: command line editing not sufficiently tested
vim-patch:8.1.1967: line() only works for the current window
fixup! refactor nvim_buf_set_lines to use extmark_splice
Merge pull request #14534 from mhinz/fix-win-ci
Revert "vim-patch:8.1.1378: delete() can not handle a file name that looks like a pattern (#12784)"
Merge pull request #14243 from shadmansaleh/Allow_cterm_colors_nvim_set_hl
treesitter: do not escape in match? (#14382)
Revert "api/window: use the "noblock" variants in nvim_win_set_buf"
Merge pull request #14528 from disrupted/fix/nvim_buf_set_lines
lua: use WarningMsg for vim.notify() warnings (#14508)
Apply patch from clason
Fix nvim_buf_set_lines
Update the functio documentation in C
Merge pull request #14501 from chentau/extmark_setlines
make get_region_bytecount end-exclusive
refactor nvim_buf_set_lines to use extmark_splice
Merge pull request #14403 from seandewar/vim-8.2.1933
STRLEN -> strlen
Use bool for boolean values
vim-patch:8.2.0896: crash when calling searchcount() with a string
vim-patch:8.2.0887: searchcount().exact_match is 1 right after a match
vim-patch:8.2.0884: searchcount() test fails on slower systems
vim-patch:8.2.0880: leaking memory when using searchcount()
vim-patch:8.2.0877: cannot get the search statistics
Merge pull request #14517 from janlazo/vim-8.2.2838
neovim-qt: v0.2.16.1 (#14514)
vim-patch:8.2.2839: default redirection missing "ash" and "dash"
vim-patch:8.2.2838: file extension .wrap not recognized
Minor observational corrections to the set_extmark documentation
Merge pull request #13664 from ivechan/win_exectute
vim-patch:8.1.1378: delete() can not handle a file name that looks like a pattern (#12784)
checkhealth: ignore 'wildignore' when seeking executables (#14495)
Merge pull request #14502 from chentau/extmark_paste
splice extmarks on every line for block visual paste
Merge pull request #14500 from jamessan/coverity-fixes
coverity/331377: os_fopen: Remove invalid iflags assert
coverity/331399: Remove unused "term_name" member from PtyProcess
coverity/331366: fname_trans_sid: Avoid buffer overrun
Merge pull request #14507 from fsouza/add-test-for-jumplist-fix
coverity/331382: Allocate enough space for trailing NUL
coverity/188735: last_nonfloat: Ensure wp is non-NULL before dereferencing
coverity/331378: Fix inserting new decor provider
lsp: add a test for the jump_to_location + jump list fix
api/window: use the "noblock" variants in nvim_win_set_buf
vim-patch:8.2.2340: win_execute() unexpectedly returns number zero when failing
vim-patch:8.2.0137: crash when using win_execute() from a new tab
vim-patch:8.1.2124: ruler is not updated if win_execute() moves cursor
vim-patch:8.1.1832: win_execute() does not work in other tab
vim-patch:8.1.1440: win_execute() test fails
vim-patch:8.1.1425: win_execute() does not set window pointers properly
vim-patch:8.1.1418: win_execute() is not implemented yet
Merge pull request #14499 from janlazo/vim-8.2.2819
vim-patch:8.2.2829: some comments are not correct or clear
lint
vim-patch:8.2.2833: two key command cancelled by moving mouse when using popup
vim-patch:8.2.2832: operator cancelled by moving mouse when using popup
vim-patch:8.2.1166: once mouse move events are enabled getchar() returns them
vim-patch:8.0.1309: cannot use 'balloonexpr' in a terminal
vim-patch:8.2.2828: Coverity complains about not checking rename() return value
vim-patch:8.2.2827: test file was not deleted
vim-patch:8.2.2825: code in checkreadonly() not fully tested
vim-patch:8.2.2820: session file may divide by zero
vim-patch:8.2.2819: finishing an abbreviation with multi-byte char may not work
Merge pull request #14497 from jamessan/ci-updates
ci(coverity): Fix typo in tar command
Merge pull request #14493 from jamessan/ci-updates
ci(gha): Run ci workflow for PRs into release branches
Exclude .github/ and CI files from exported archives
ci(gha): Add weekly Coverity scans
Merge pull request #14483 from mjlbach/floating_window_border_fix
Merge pull request #14492 from seandewar/gcc-conv-warn
fix(gcc): compile warning in nvim_buf_set_extmark
Merge pull request #14424 from janlazo/vim-8.1.1726
tests: floating windows terminate border on edge of viewport when window extends past viewport
Merge pull request #14480 from mhinz/issue-template
Merge pull request #14486 from Sh3Rm4n/fix_get_str_line
Revert vim-patch:942db23c9cb7 for phpcomplete.vim
get_str_line: Replace grow_array usage
Merge pull request #14418 from DerekStride/treesitter-set-directive
window.c: fix floating window border width calculation
Merge pull request #14334 from DarwinSenior/vim.log
ci(gha/ci): Use clang-12 for TSAN
Merge pull request #14455 from Sh3Rm4n/fix_get_str_line
ci(gha/release): Bump to ubuntu-18.04
Merge pull request #14462 from kabouzeid/feature/formatting_seq_sync
vim-patch:4c295027a426
vim-patch:8.2.2790: filetype test fails
vim-patch:8.2.2788: Raku is now the only name what once was called perl6
vim-patch:11e3c5ba8203
vim-patch:56994d215815
vim-patch:130cbfc31235
vim-patch:dad4473f02e1
Increase default LSP sync timeout to 1000ms
vim-patch:c8cdf0f80b3c
Add client.request_sync doc
vim-patch:9faec4e3d439
Synchronous formatting methods notify the user on timeout and interrupted
Support multiple range formatting clients
doc clarification
template: make sure people read :h vim-differences
vim-patch:942db23c9cb7
vim-patch:e0e391755432
vim-patch:98a29d00a48e
vim-patch:82be4849eed0
vim-patch:7e6a515ed14e
vim-patch:4072ba571bab
vim-patch:1b884a005398
vim-patch:23515b4ef758
vim-patch:4466ad6baa22
vim-patch:3132cddd209e
vim-patch:cb80aa2d53e5
signs: fix overflow during adjustment on Windows (#14472)
Add formatting_seq_sync, change formatting and formatting_sync
vim-patch:4f4d51a942cc
lsp: fix regression in jump_to_location() (#14446)
fix: make nvim_win_get_number() return win number (#14470)
docs: Treesitter (#13260)
doc: update vim.cmd() (#14450)
Merge pull request #14380 from bfredl/virtcol
decorations: right_align and win_col
vim-patch:8.2.1827: filetype detection does not test enough file names
vim-patch:d58a3bf7dac8
vim-patch:1d59aa1fdfb1
Merge pull request #14463 from mfussenegger/decoded-result-false
lsp: Allow decoded.result to be `false`
Merge pull request #14361 from bfredl/synenable
startup: do "syntax enable" instead of "syntax on"
get_str_line: Simplify growarray usage
vim-patch:1c6737b20a5c
vim-patch:207f009326c8
vim-patch:3d1cde8a2f28
vim-patch:e7b1ea0276cc
Merge pull request #14459 from jamessan/pvs-script
fix(pvscheck): Switch URL to pvs-studio.com
vim-patch:2547aa930b59
Fix documentation typos for msg_scroll_flush
get_str_line: Use heap instead of stack
vim-patch:7ff78465f705
vim-patch:e46a44050562
vim-patch:73fef33014db
vim-patch:65e0d77a66b7
vim-patch:acc224064033
vim-patch:8.2.0860: cannot use CTRL-A and CTRL-X on unsigned numbers
vim-patch:388a5d4f20b4
vim-patch:47e13953ffdb
vim-patch:2cfb4a2a7248
vim-patch:7ceefb35c811
vim-patch:2c7f8c574f1f
screen: fix typo in screen.c
vim-patch:8.2.2801: free Pascal makefile not recognized
vim-patch:d1caa941d876
vim-patch:191acfdecabf
vim-patch:ff78155aa175
vim-patch:b17893aa940d
vim-patch:eab6dff19f38
Ensure there is a nested table allocated for #set!
vim-patch:8.2.2388: no easy way to get the maximum or mininum number value
vim-patch:8.2.0296: mixing up "long long" and __int64 may cause problems
vim-patch:bc93cebb692f
vim-patch:ebdf3c964a90
vim-patch:560979ed4f02
vim-patch:1d9215b9aaa1
vim-patch:ade0d3946801
vim-patch:8024f9363683
vim-patch:2963456ff2b7
vim-patch:d7df279808f7
vim-patch:5666fcd0bd79
vim-patch:95a9dd1efc5a
po: remove duplicate translations
vim-patch:469bdbde1e8e
vim-patch:2ed639abdc40
vim-patch:32b364fcc097
vim-patch:664f3cf3f21d
vim-patch:c08ee7476b19
vim-patch:9834b96820be
vim-patch:4ceaa3a6e0b8
vim-patch:91359014b359
vim-patch:0c0734d527a1
vim-patch:403f3eb4c189
vim-patch:09c6f265b210
vim-patch:1ebbb6ee452d
vim-patch:574ee7bc1246
vim-patch:5ef1c6a4838a
vim-patch:1ff14ba24c4d
vim-patch:96f45c0b6fc9
vim-patch:2e693a88b24d
fixup! man.vim: Refactor verify_exists to unset $MANSECT as needed
vim-patch:5be4ceecea55
vim-patch:589edb340454
vim-patch:8fe1000e9c34
vim-patch:8.1.1726: the eval.txt help file is too big
Merge pull request #14448 from jamessan/nightly-ci-permissions
ci(gha/vim-patches): Create PR against branch running the workflow
ci(gha): Rename nightly workflow to vim-patches
ci(gha/nightly): Enable "contents: write" permissions to setup PR
Merge pull request #14416 from bfredl/floatorder
ui_compositior: handle multiple displayed floats in the same tick
Merge pull request #14435 from michaelb/doc_missing_nvim_open_term
doc : fixing missing @return in nvim_open_term doc
Merge pull request #14429 from ckipp01/force
lsp: make tagstack smarter motion-wise (#12262)
Merge pull request #14432 from mjlbach/revert_14428
Revert "lsp: fix blocking in closing of clients"
lsp: check if config is nil
lsp: sort diagnostics by severity (#14372)
Don't automatically force shutdown on second restart.
vim-patch:8.2.2776: :mksession uses current value of 'splitbelow' and 'splitright' (#14398)
Improvements to tests
lua: make vim.cmd an alias of vim.api.nvim_exec() (#14401)
Merge pull request #14411 from seandewar/vim-8.2.1588
Merge pull request #14417 from jamessan/ci-update
fix(oldtest): fix assert_match() for :buffers t
vim-patch:8.2.1588: cannot read back the prompt of a prompt buffer
oldtest: port test_prompt_buffer.vim
eval: port tv_get_buf_from_arg()
api: fix nvim_exec() silencing behaviour (#14413)
gitignore: add vim patches (#14412)
ci(gha/release): Enable "contents: write" permission to publish release
ci(gha/win): Specify valid directory for DEPS_BUILD_DIR
ci(gha): Simplify clang installation
ci(gha): Update to clang-12
win/package: update wintools.zip (#14408)
doc: port changes for locale-based :sort
vim-patch:8.2.2287: sort test fails when locale is French Canadian
vim-patch:8.2.2286: sort test fails when locale is Canadian English
vim-patch:8.2.1946: sort() with NULL string not tested
vim-patch:8.2.1935: sort test fails on Mac
vim-patch:8.2.1933: cannot sort using locale ordering
win/package: remove cat,tidy (#14402)
eval: port v:collate
vim-patch:8.2.0174: various commands not completely tested
Merge pull request #14180 from oberblastmeister/lsp_exit_perf
lsp: fix blocking in closing of clients
README.md: remove part of Install from source (#14368)
Merge pull request #12323 from da-x/orphaned-signs
vim-patch:8.2.2773: PSL filetype not recognized (#14389)
Merge pull request #14385 from chentau/extmark_delete
test_signs.vim: adjust for sign removal on line deletion
Handle 'orphaned signs' on line deletion for signcolumn >= 2
Merge pull request #14365 from chentau/extmark_delbytes_move
extmarks: remove curbuf->deleted_bytes2 from op_delete
lsp: deep copy vim.lsp.log when reloading
Merge pull request #13684 from pohzipohzi/input
Merge pull request #14355 from janlazo/vim-8.1.2313
Merge pull request #14367 from janlazo/vim-8.2.2046
vim-patch:8.2.2764: memory leak when default function argument is allocated
vim-patch:8.2.2761: using "syn include" does not work properly
vim-patch:8.2.0265: "eval" after "if 0" doesn't check for following command
ex_cmds: port :eval
vim-patch:8.2.2769: Modula-3 config files are not recognized
vim-patch:8.1.2313: debugging where a delay comes from is not easy
vim-patch:8.2.2046: some test failures don't give a clear error
Merge pull request #14370 from oberblastmeister/lsp_buf_request_sync
lsp: add lsp.buf_request_all for invoking asynchronous callbacks
flush curbuf->deleted_bytes2 after calling do_move
Merge pull request #14364 from mhinz/gitignore-vim-src
tests/functional: delete temp file created during test run (#14363)
Merge pull request #14358 from bfredl/decodeco
Merge pull request #14366 from mfussenegger/text-document-version-zero
lsp: Remove vim.NIL handling from apply_text_document_edit
lsp: Accept text document edits with version zero
doc: prefer "python -m pip" (#14353)
doc: port prompt-buffer section (#14342)
gitignore: handle case where .vim-src is a symlink
decoration: Clean up duplicate Decoration attributes + bonus hl_eol flag
lsp: fix _make_floating_popup_size when wrap_at is nil (#14359)
Merge pull request #14046 from nvim-treesitter/feature/language-tree-directive-config
lsp: fix off-by-one in line diagnostic highlighting
Merge pull request #14119 from mfussenegger/lsp-debounce
Merge pull request #14324 from mhinz/lsp-border-float-placement
lsp: Add a flag to debounce didChange notifications
Merge pull request #14318 from chentau/extmark_luado
tutor: force one sign per line (#14352)
float: add "solid" border style (#14310)
extmark: splice extmarks on :luado
lsp: correct float placement when using borders
lsp: make sure borders are always inside of the screen
Merge pull request #14337 from janlazo/vim-8.2.0409
Merge pull request #14343 from jamessan/doc-fix
test/old: ':execute' does not suppress range error
vim-patch:8.1.2416: loading menus sets v:errmsg
vim-patch:8.1.1841: no test for Ex shift commands
vim-patch:8.2.1920: listlbr test fails when run after another test
vim-patch:8.2.2050: search test contains unneeded sleeps
vim-patch:8.2.0409: search test leaves file behind
Merge pull request #14339 from janlazo/vim-8.2.0044
vim-patch:8.2.2319: "exptype_T" can be read as "expected type"
vim-patch:8.2.0069: ETYPE_ is used for two different enums
vim-patch:8.2.0045: script test fails
vim-patch:8.2.0044: expression type is used inconsistently
Merge pull request #14340 from mjlbach/fix_clangd_nix
fix(doc): Add '/site' to stdpath('data') example in `:help 'rtp'`
test/ui/cmdline: set notimeout to remove indeterminism (#14338)
Merge pull request #14317 from chentau/extmark_sub
contrib: add clang-tools to nix flake
doc: advertise nanotee/nvim-lua-guide (#14332) [skip ci]
Merge pull request #14321 from jamessan/ci-fixes
Merge pull request #14326 from janlazo/vim-8.2.0623
extmark: correct extmark_splice call with inccommand
vim-patch:8.2.2737: status line not updated when local 'statusline' option set (#14325)
vim-patch:8.2.2738: extending a list with itself can give wrong result
vim-patch:8.2.1822: list test doesn't fail
eval: add v:_null_string
vim-patch:8.2.0623: typo in test comment
Merge pull request #14314 from janlazo/vim-8.2.2720
fix(test): Detect more core filenames
Add more info to debug messages
Lower "closed by the client" message level to INFO
vim-patch:8.2.1305: some tests are still old style
vim-patch:8.2.1791: Vim9: debugger test fails
vim-patch:8.2.1508: not all debugger commands covered by tests
vim-patch:8.2.1393: insufficient testing for script debugging
vim-patch:8.2.1304: debug backtrace isn't tested much
vim-patch:8.0.1511: some code for the debugger watch expression is clumsy
vim-patch:8.0.1505: debugger can't break on a condition
doc: add description for cancelreturn option in input()
Merge pull request #14302 from vigoux/fix-8449
Merge pull request #14200 from teto/treesitter-checkhealth
docs: add priority option in buf_set_extmark
Merge pull request #14309 from mjlbach/feature/hover_return_win_buf
Merge pull request #14308 from mjlbach/lsp_update_docs
lsp: hover window should return buf/winnr from focusable float
lsp: update documentation on window borders
Merge pull request #14299 from mjlbach/issue_template_improvements
fix(ts): move checkhealth in runtime/vim
feat(ts): include parser ABI version in checkhealth
feat: treesitter checkhealth
Merge pull request #14300 from elianiva/feat/lsp_border_config
feat(lsp): make hover/signature_help borders configurable
Merge pull request #14290 from Shougo/vim-8.2.2704
Merge pull request #14291 from janlazo/vim-8.2.2709
issue template: add reference to discourse and minimal config in lsp issue template
vim-patch:8.2.2714: filetype pattern ending in star is too far up
vim-patch:8.2.2711: "gj" in a closed fold does not move out of the fold
lsp: floating window improvements (#14207)
vim-patch:8.1.2205: sign entry structure has confusing name (#14289)
Fix the comments
vim-patch:8.2.2707: adding a lot of completions can still be a bit slow
vim-patch:8.2.2704: adding a lot of completions can be a bit slow
Merge pull request #14227 from bfredl/bordaa3
Merge pull request #14199 from bfredl/chansend2
vim-patch:8.2.0295: highlighting for :s wrong when using different separator (#14286)
Border: allow to enable/disable specific border edges
api: fix use-after-free in nvim_chan_send
Merge pull request #14063 from lewis6991/master
Merge pull request #14278 from chentau/extmark_retab
Merge pull request #14268 from erw7/fix-p_ch-problem
Merge pull request #14094 from erw7/improve-get-bg
Merge pull request #14282 from janlazo/vim-8.2.2695
vim-patch:8.2.2702: compiler completion test fails when more scripts are added
vim-patch:8.2.2697: function list test fails
vim-patch:8.2.2695: cursor position reset with nested autocommands
vim-patch:8.1.1899: sign_place() does not work as documented
vim-patch:8.1.1682: placing a larger number of ...
vim-patch:8.1.1631: displaying signs is inefficient
Merge pull request #14226 from bfredl/luarefcount
test/lsp: disable tracking in LSP tests (here be dragons)
luaref: simplify handling of table callables and fix leak in vim.fn.call(table)
luaref: free decoration providers
luaref: free all references in buffer_updates
luaref: fix leaks for global luarefs
lua: track reference ownership with ASAN when present
vim-patch:8.2.2694: when 'matchpairs' is empty every character beeps (#14279)
screen: fix problem with p_ch
Fix lualint warnings
Add tests for nvim_set_hl()
extmark: fixes for noexpandtab and retab
Merge pull request #14027 from dylanarmstrong/fix/13955-empty-paste-in-term-segfault
chore: move check for paste size
feat(treesitter): allow injections to be configured through directives
vim-patch:8.2.2690: PowerShell files are not recognized (#14276)
Merge pull request #14197 from theHamsta/file-handles-modeline
Fix #14192: Handle IO errors and close files in query.lua
Merge pull request #14188 from mfussenegger/treesitter-0194
Merge pull request #14039 from theHamsta/fix-field-introspection
Merge pull request #14273 from janlazo/clang-warnings
clang/'Logic error': assert nonnull p_extra
clang/'Logic error': fix loop cond to avoid nullptr deref
clang/API: copy "" if orig_save is NULL
clang/'Dead store': remove dead assign in msg_may_trunc
clang/'Dead store': do not assign fnamelen
clang/'Logic error': cmd_source_buffer() requires nonnull param
clang/'Logic error': avoid nullptr deref
clang/'Logic error': set vcol in do_put()
Merge pull request #14218 from steelsojka/bugfix/check-queries-exist
doc: Fix typo in the help for <Cmd> where lhs was used instead of rhs (#14272)
Merge pull request #14271 from mjlbach/feature/lsp_cwd
lsp: allow launching language servers with uv_spawn using cwd arg
Merge pull request #14270 from janlazo/vim-8.2.2678
vim-patch:8.2.2686: status line is not updated when going to cmdline mode
vim-patch:8.1.0986: rename() is not propertly tested
Merge pull request #14222 from janlazo/v8.2.2655
fix: allow accessing vim.treesitter.language without require
test/old/win: debug Test_w_arg
fix: selectionrange over range for document symbols
vim-patch:8.2.2656: some command line arguments and regexp errors not tested
vim-patch:8.2.2655: The -w command line argument doesn't work
Merge pull request #14264 from mjlbach/feature/handle_reloading_buffer
Merge pull request #14262 from mjlbach/feature/lsp_did_save_autocommand
Merge pull request #14266 from mjlbach/fix/rename_workspace_symbol_request
lsp: fix textDocument/workspaceSymbol -> workspace/symbol
lsp: add on_reload callback for buffer edits outside of neovim
lsp: clear did_save handler autocommand on each attach
Merge pull request #14259 from janlazo/fix-dictwatcherdel-crash
os/win: fix build failure
Merge pull request #14245 from tjdevries/tjdevries/ts_override_hl
fixup: remove unused test function
ts: Add per-language highlight links
Merge pull request #14252 from tjdevries/tjdevries/ts_query_overrides
more tests
tv_dict_watcher_notify: any_needs_free
test
tv_dict_watcher_remove: delay freeing with busy queue
Change QUEUE_FOREACH macro to use while instead of for
Test and initial fix for crash with dictwatcherdel
Merge pull request #14251 from janlazo/vim-8.1.1193
vim-patch:8.1.0936: may leak memory when using 'vartabstop'
Merge pull request #14233 from mjlbach/disable_utf16_conversion
lsp: use utf-8 when utf-16 not requested
ts: Add language version to vim.treesitter (#14255)
fixup: Add a test and it is so pretty
ts: Add per-language query overriding
vim-patch:8.1.1193: typos and small problems in test files
vim-patch:8.2.2454: leading space can not be made visible (#14138)
added support for termux-clipboard : clipboard.vim (#14244)
Merge pull request #14248 from andymass/vim-8.2.2612
Merge pull request #14238 from janlazo/vim-8.1.0958
vim-patch:8.2.2613: new test throws exception
vim-patch:8.2.2612: col('.') may get outdated column value
vim-patch:8.1.2380: using old C style comments
vim-patch:8.1.0874: using old style comments in new file
vim-patch:8.2.1621: crash when using submatch(0, 1) in substitute()
vim-patch:8.1.0989: various small code ugliness
test/old: run most tests in test_regexp_latin.vim
vim-patch:8.1.0958: compiling weird regexp pattern is very slow
Make sure window is still valid in the middle of calling :lopen (#14240)
Make clint happy about spaces.
Api: Adding cterm color support to nvim_set_hl
clang: fix compile warnings in tab code (#14239)
Merge pull request #13851 from VVKot/vim-8.1.0105
Merge pull request #14091 from euclidianAce/euclidianAce/nvim_win_hide
run docgen
Merge pull request #14232 from mjlbach/fix_utf16_ranges_again
lsp: fix utf-16 ranges to use second return value for incremental sync
vim-patch:8.1.0936: may leak memory when using 'vartabstop'
vim-patch:8.1.0542: shiftwidth() does not take 'vartabstop' into account
vim-patch:8.1.0479: failure when setting 'varsofttabstop' to end in a comma
vim-patch:8.1.0154: crash with "set smarttab shiftwidth=0 softtabstop=-1"
vim-patch:8.1.0138: negative value of 'softtabstop' not used correctly
vim-patch:8.1.0126: various problems with 'vartabstop'
vim-patch:8.1.0116: display problem with 'vartabstop' and 'linebreak'
vim-patch:8.1.0114: confusing variable name
vim-patch:8.1.0105: all tab stops are the same
Merge pull request #14231 from mjlbach/fix_utf16_ranges
lsp: fix utf16 ranges for incremental sync
viml: embed Lua syntax highlighting [skip ci] (#14213)
Merge pull request #13621 from janlazo/vim-8.1.2326
test/old: skip Test_strptime() on Windows
vim-patch:8.2.0949: strptime() does not use DST
vim-patch:8.1.2398: strptime() test fails on Japanese Mac
vim-patch:8.1.2326: cannot parse a date/time string
Merge pull request #14223 from janlazo/vim-8.2.2659
vim-patch:8.2.1666: the initial value of 'backupskip' can have duplicate items
vim-patch:8.2.2662: there is no way to avoid some escape sequences
test/old: run some tests from test_listlbr.vim
test/old: test_eval_func was removed
test/old: do not special-case test_autochdir
test/old: use CheckFunction, enable more tests
vim-patch:8.2.2045: highlighting a character too much with incsearch
vim-patch:8.2.2659: eval test fails because for loop on string works
Merge pull request #13778 from steelsojka/fix-duplicate-query-files
fix(treesitter): check highlight queries exist
treesitter: Update to 0.19.4+2
Merge pull request #14210 from bfredl/bordaa2
floats: handle interaction with popupmenu and border correctly
Merge pull request #14203 from janlazo/vim-8.2.2647
vim-patch:8.2.0402: setting local instead of global flag
vim-patch:8.2.0400: not all tests using a terminal are in the list of flaky tests
Merge pull request #14191 from chentau/extmark_blockpaste
Extmarks: correct buffer events on blockwise paste
fix(treesitter): dedupe runtime file list
Merge pull request #14186 from mjlbach/feature/make_signature_help_beautiful
Merge pull request #14194 from bfredl/provide_virt
Fix(treesitter): Make treesitter.inspect_lang include last field name
Merge pull request #14190 from teto/fix-cursorlinenr
decorations: memory error with ephemeral virt_text
Merge pull request #14193 from bfredl/msginit
screen: setup scrolling main screen when starting with display-=msgsep
Merge pull request #14124 from chentau/extmark_tab
Correctly splice extmarks on tab with noexpandtab set
Merge pull request #14178 from andymass/vim-8.2.0088
chore: add test for CursorLineNr with filler lines
fix: stop using CursorLineNr in front of fillers
Merge pull request #13998 from bfredl/border
floats: add borders (MS-DOS MODE)
lsp: add syntax highlighting to signature help
Merge pull request #14184 from tjdevries/tjdevries/nit_diagnostics
wheel: move non-window code out of window.c
w_grid_alloc: baseline impl
lsp: Unopened buffers return 0 for line count, which leads to broken positions
lsp: Force re-display of diagnostics when opening a file
Fix neovim tag bugs uncovered by vim-8.2.0088,
Merge pull request #14172 from janlazo/vim-8.2.2622
vim-patch:8.2.0088: insufficient tests for tags; bug in using extra tag field
vim-patch:8.2.2634: 'tagfunc' does not indicate using a pattern
vim-patch:8.2.2631: commands from winrestcmd() do not always work properly
vim-patch:8.2.2625: rss files not recognized
vim-patch:8.2.2624: atom files not recognized
Merge pull request #14171 from vrischmann/insert-text-empty
runtime/lua/vim/lsp: check emptyness in get_completion_word
Merge pull request #14060 from andymass/vim-8.2.1703
Merge pull request #14164 from andymass/vim-8.1.2020
Fix a failing test (highlight_spec.lua)
vim-patch:8.2.1705: "verbose hi Name" reports incorrect info after ":hi clear"
Merge pull request #14160 from jamessan/automatic-version-updates
ci(gh): Automatically create PR for version.c updates
vim-patch:8.2.0422: crash when passing popup window to win_splitmove()
vim-patch:8.2.0093: win_splitmove() can make Vim hang
vim-patch:8.1.2020: it is not easy to change the window layout
Merge pull request #14165 from mjlbach/feature/lsp_preview_location_syntax
lsp: set syntax instead of filetype for preview location highlighting
Merge pull request #14155 from janlazo/vim-8.2.2609
Merge pull request #14149 from Borwe/mine/uninstaller
Merge pull request #14144 from mfussenegger/lsp-workspace-edit-rename
lsp: Add support for delete workspaceEdit resource operation
lsp: Add support for create workspaceEdit resource operation
lsp: Add support for file rename via workspaceEdit
gitignore: src/nvim/testdir/test_result.log
vim-patch:8.2.2611: conditions for startup tests are not exactly right
vim-patch:8.2.2609: test disabled on MS-Windows even though it should work
Merge pull request #14145 from teto/remove-tshighlighter
Merge pull request #14148 from mjlbach/mkd_round_3
Add uninstall target for make and others
lsp: update lsp_markdown syntax to not clash with built-in markdown syntax
chore(ts): show grammar that triggers the error
chore: remove deprecated lua module tshighlighter
Merge pull request #14098 from mjlbach/fix_highlighting_lsp_markdown
Merge pull request #14076 from mfussenegger/treesitter019
Merge pull request #14142 from bfredl/un_ns
api: destabilize nvim_set_hl_ns
Merge pull request #14140 from jamessan/delete-release
ci(GHA/release): Delete the release when creating a new nightly
Merge pull request #14139 from jamessan/release-packages
ci(GHA/release): Stop installing gcc-multilib
Merge pull request #14123 from smolck/skip_ci
Don't run CI on draft PRs
Merge pull request #14131 from janlazo/vim-8.2.2596
vim-patch:8.2.2604: GUI-specific command line arguments not tested
vim-patch:8.2.2601: memory usage test often fails on FreeBSD
vim-patch:8.2.2596: :doautocmd may confuse scripts listening to WinEnter
Merge pull request #14020 from chentau/float_resize
Fix click on foldcolumn with vsplit (#14127)
Merge pull request #14126 from janlazo/vim-8.2.2593
vim-patch:8.2.2595: setting 'winminheight' may cause 'lines' to change
vim-patch:8.2.2594: alternate buffer added to session file even when it's hidden
Merge pull request #14125 from janlazo/vim-8.2.2591
vim-patch:8.2.2341: expresison command line completion incomplete after "g:"
vim-patch:8.2.2452: no completion for the 'filetype' option
vim-patch:8.2.2591: Poke files are not recognized
Merge pull request #13567 from bfredl/termpipe
api: allow open non-current buffer as terminal (+ xmas bonus)
vim-patch:8.2.2588: build failure with tiny features (#14099)
screen: make ui_compositor aware of the intended size of a float
Merge pull request #14106 from mfussenegger/lsp-incremental-sync
lsp: Use incremental sync by default
Merge pull request #14107 from mfussenegger/gen-docs
Update lsp, lua and api docs (gen_vimdoc.py)
lsp: fix highlighting for lsp markdown code blocks
aarch64/linux: fix build by updating LuaJIT (#14096)
Merge pull request #14073 from mjlbach/feature/syntax_highlight_rule
lsp: Resolve codeLense server capabilities (#14056)
lsp: get_language_id (#14092)
api: clarify difference between win_hide and win_close
Merge pull request #14095 from mjlbach/lsp_incremental_endline_fix
lsp: fix endline such that it cannot point outside the buffer range
tui: improve support for tmux, GNU Screen
runtime/termdebug 82be4849eed0b8fbee45bc8da99b685ec89af59a (#13660)
Merge pull request #14065 from bfredl/overlaymode
decorations: add additional styling of virt_text overlays
lsp: add custom syntax rules for lsp floating window
Merge pull request #14079 from mjlbach/incremental_sync
api: add vim.api.nvim_win_hide
lsp: add incremental text synchronization
Merge pull request #14088 from janlazo/vim-8.2.2577
vim-patch:8.2.2438: out of bounds compiler warning
vim-patch:8.2.1507: using malloc() directly
vim-patch:8.2.2577: compiler warning for type conversion
Merge pull request #13875 from smolck/vim_fn_error_on_api
use pcall_err
treesitter: Update to 0.19.3
Merge pull request #13686 from bfredl/fastevent
state: throttle batched event processing when input is available
Merge pull request #14070 from janlazo/vim-8.2.2564
Merge pull request #13993 from teto/gendoc
Merge pull request #13004 from jgehrig/jg-neovim-qt-runtime
vim-patch:8.2.1513: cannot interrupt shell used for filename expansion
vim-patch:8.1.1016: MS-Windows: No color in shell when using "!" in 'guioptions
Merge pull request #13919 from TheAlakazam/lsplogfix
Merge pull request #14052 from phaazon/fix/typo
Merge pull request #14066 from LeeWannacott/clarify-nvim-put
Added If true to show that {after} and {follow} parameters of nvim_put() are expecting boolean values
Forgot to add colon to the {follow} parameters statement
Clarify that nvim_put()'s {after} and {follow} parameters expect boolean values true, or false.
lsp: add explicit entry on lsp log start
Merge pull request #13793 from mjlbach/fix_terminating_eol_diagnostic
vim-patch:8.2.1703: ":highlight clear" does not restore default link
vim-patch:8.2.1693: "hi def" does not work for cleared highlight
Merge pull request #14048 from saadparwaiz1/runtime/haskell
Merge pull request #14059 from mjlbach/fix/no_notification_lsp_sigterm
lsp: don't invoke vim.notify on sigterm of language server
Merge pull request #14047 from mjlbach/feature/notify_on_crash
lsp: invoke vim.notify when client exits with code or signal other than 0
more generic shebang for lua2dox_filter
fix: section_name must be a dict {filename:name}
chore: rename progress_callback to progress_handler
fix(flake): can now generate vimdoc
[RDY] Fix click on foldcolumn if it has tabline (#13982)
Fix a typo in the Lua documentation for nvim_create_namespace().
vim-patch:30e9b3c42567 (#13936)
Merge pull request #13973 from chentau/on_bytes_undofile
runtime/haskell: 4f4d51a942cc2c6b3e936ee0f93f00c2d000065c
runtime/haskell: 8fe1000e9c3438d0ff36cf2340f0f0e48f8fb89f
runtime/cabal: 23515b4ef7580af8b9d3b964a558ab2007cacda5
runtime/cabal: 4f4d51a942cc2c6b3e936ee0f93f00c2d000065c
Merge pull request #14041 from janlazo/vim-8.2.2560
vim-patch:8.2.1043: %a item in 'statusline' not tested
Extmarks: Save extmark undo information to undofile.
lsp: fix diagnostic reported on terminating EOL character
vim-patch:8.2.2236: 'scroll' option can change when setting the statusline
vim-patch:8.1.1901: the +insert_expand feature is not always available
vim-patch:8.2.2560: setting 'winminheigt' does not take tabline into account
chore: revert unrelated changes in test
test: use assert_alive helper rather than eq
test: segfault test for empty buffer paste on term
fix: segfault when pasting in term with empty buffer
Merge pull request #14022 from crispgm/lsp-start-error
fix: show error when language server start fails and prevent future requests
Merge pull request #14014 from mfussenegger/textDocumentSync
Merge pull request #14004 from erw7/fix-fic
LSP: Resolve text_document_save capability according to spec
path.c: fix path_fnamencmp
eval: add fname_case to feature list
option: fix problem with fileignorecase not being set properly
Merge pull request #14008 from mfussenegger/docs-update
Update lsp and api docs with gen_vimdoc changes
[LSP] Add in more docs for highlight groups with document_highlight() (#13614)
Merge pull request #14001 from janlazo/vim-8.2.2545
pos: define MAXCOL to INT_MAX
fix: treesitter languagetree crash when using telescope buffer previewer (#13986)
vim-patch:8.2.2548: May get stuck in the cmdline window using :normal
vim-patch:8.2.2547: "%" command not accurate for big files
vim-patch:8.2.2233: cannot convert a byte index into a character index (#13978)
lsp: remove deprecated references to 'callbacks' (#13945)
feat(lsp): use vim.notify for some errors (#13992)
Merge pull request #13988 from janlazo/vim-8.1.1310
tui: fix possibility of evaluating uninitialized variables (#13987)
fixup! vim-patch:8.1.1310: named function arguments are never optional
vim-patch:8.1.1310: named function arguments are never optional
Merge pull request #13952 from bfredl/overlay
decorations: allow virt_text overlay at any column
vim-patch:8.2.2070: can't get the exit value in VimLeave(Pre) autocommands (#13981)
lsp: Fix text edits operating on the last line of a document (#13677)
lsp: client stop cleanups (#13877)
[RFC] ":source" sources from current buffer if filename is omitted (#11444)
Merge pull request #13968 from janlazo/runtime-tar
runtime/tar: 23515b4ef7580af8b9d3b964a558ab2007cacda5
runtime/tar: 8024f936368336241406137a2fa78ed5ee9000a6
runtime/tar: 2963456ff2b740244b3a064785fe681b1998d75e
vim-patch:8.2.2523: Svelte filetype not recognized (#13961)
vim-patch:8.2.2522: Beancount filetype not recognized (#13960)
fix(flake): add  debuginfo to nvim-debug (#13947)
Merge pull request #13944 from chentau/on_bytes_doc
Doc: update documentation for on_bytes
netrw: move netrw_home to XDA_DATA_HOME (#13939)
Issue 12928: Windows missing QtSVG DLL
doc: Update vim_diff.txt (#13954)
Merge pull request #13692 from mjlbach/fix_cursor_respect_current_line
Merge pull request #13949 from janlazo/runtime-netrw
runtime/netrw: 207f009326c8f878defde0e594d7d9ed9860106e
runtime/netrw: 8024f936368336241406137a2fa78ed5ee9000a6
runtime/netrw: 2963456ff2b740244b3a064785fe681b1998d75e
runtime/netrw: 469bdbde1e8ea8110705327ab193acca79296742
runtime/netrw: 2ed639abdc4000436115f378e28320b7bee38a6e
runtime/netrw: 91359014b359cf816bf943fe2c7d492996263def
runtime/netrw: 09c6f265b21065ffa9437837b1d0955137175e45
runtime/netrw: 574ee7bc1246070dba598f9561a2776aa1a10d07
runtime/netrw: 5ef1c6a4838a9629b793f3ae676f72a764171b00
Merge pull request #13930 from janlazo/vim-8.2.1902
vim-patch:8.2.0925: getcompletion() does not return command line arguments
Merge pull request #13935 from bfredl/undotime
buffer_updates: autoload episode III: revenge of the trees
vim-patch:8.2.0064: diffmode completion doesn't use per-window setting
vim-patch:8.2.0054: :diffget and :diffput don't have good completion
vim-patch:8.2.1056: wrong display when mixing match conceal and syntax conceal
vim-patch:8.2.1058: multiline conceal causes display errors
vim-patch:8.2.1904: still using default option values after using ":badd +1"
vim-patch:8.2.1903: buffer test fails with normal features
vim-patch:8.2.0576: some errors are not covered by tests
vim-patch:8.2.1902: default option values changed with :badd for existing buffer
vim-patch:8.2.2499: "vim -g --version" does not redirect output (#13922)
man.vim: `:Man` should not change global value of 'tagfunc' option (#13926)
Merge pull request #13491 from seandewar/vim-8.2.1967
vim-patch:8.2.2467: script generated by :mkview changes alternate file
vim-patch:8.2.2058: using mkview/loadview changes the jumplist
vim-patch:8.2.1967: the session file does not restore the alternate file
cmake: Remove duplicate compile flags argument (#13920)
Merge pull request #13908 from janlazo/vim-8.2.2489
vim-patch:8.2.2490: 'wrap' option is always reset when starting diff mode
vim-patch:8.2.2496: insufficien testing for text jumping fix
vim-patch:8.2.2495: text jumps up and down when moving the cursor
vim-patch:8.2.2492: command line buffer name cannot be translated
vim-patch:8.1.0341: :argadd in empty buffer changes the buffer name
vim-patch:8.2.2489: current buffer is wrong after deletebufline() fails
Merge pull request #13895 from bfredl/ar2
buffer updates: add on_reload callback and handle it in treesitter parser
treesitter: propagate on_detach event properly
Merge pull request #13903 from glacambre/fix_prompt_for_number
Clear prompt_for_number messages
fix(notify): Expected 3 arguments error (#13905)
vim-patch:8.2.2259: Test_Executable() fails when using chroot (#13907)
Merge pull request #13842 from vigoux/update-last-line
Merge pull request #13899 from chentau/set_text_fix
fix(buf_updates): send updates when putting past last line
Merge pull request #13843 from teto/notif_provider
Merge pull request #13898 from janlazo/set_string_option_direct
option: use char* for get_option_value() param
menu: use char* for set_context_in_menu_cmd() param
eval: use char* for set_var_lval() param
eval: use char* for set_internal_string_var()
option: use char* for set_string_option_direct()
correctly mark changed regions for set_text
Merge pull request #13894 from stsewd/ts-small-fixes
treesitter: small fixes
Merge pull request #13892 from janlazo/vim-8.1.2285
eval: ll_range,ll_empty2 members are bool
vim-patch:8.1.2285: padding in structures wastes memory
vim-patch:8.2.2469: confusing error if :winsize has a wrong argument (#13889)
Fix unused vararg
Merge pull request #13876 from jamessan/pty-term
fix(pty): Always use $TERM from the job's env dict
Merge pull request #13888 from jamessan/win-ci
Merge pull request #13701 from erw7/fix-checkhealth
Merge pull request #13702 from erw7/fix-build_stl_str_hl
Merge pull request #12080 from erw7/feature-bracketed-paste-on-term
ci(gha/win): Do not rename python.exe to python3.exe if it exists
Merge pull request #13878 from bfredl/incmark
vim.fn: add test for error
remove extra line, remove () in error
tests: clean up lua/buffer_updates_spec.lua
inccommand: preserve extmarks when undoing preview substitution
lsp: Fix pumvisible() check introduced in #12900 (#13866)
Change default for tpf option
Add termpastefilter option
Change to filter control characters when pasting a terminal window
Add support for bracketed paste mode in terminal windows
Merge pull request #13865 from janlazo/vim-8.2.2437
vim.fn: throw error when trying to use API function
vim-patch.sh: remove unsupported files (#13570)
vim-patch:8.2.2464: using freed memory if window closed in autocommand
vim-patch:8.2.2462: Coverity warns for not checking for fseek() error
vim-patch:8.2.2458: Coverity warns for :retab using freed memory
test: test vim-notify
api: add nvim_notify
vim-patch:8.2.2447: 'foldlevel' not applied to folds restored from session
vim-patch:8.2.2446: setting 'term' empty has different error if compiled with GUI
Add clangd cache to ignore (#13856)
tests: add test for cursor postion when deleting buffer lines
fix_cursor: do not change line number when edit will not impact cursor row
Merge pull request #12937 from jamessan/term-env
ci(sr.ht): Use RelWithDebInfo builds
Use abort() instead of assert(false) for things that should never happen
vim-patch:8.2.2430: :vimgrep expands wildcards twice (#13853)
fix(pty_proc/macOS): Properly set the environment for the child
test(job): Ensure job-specific env var overrides global env var
Pass environment on to pty processes on Windows
eval/environ: Prefer the last definition of an env var
Common handling of required/ignored env vars
Support specifying "env" option for termopen()
Use dict_T to pass env vars to process spawning code
version.c: update [ci skip] (#13705)
Merge pull request #13835 from saadparwaiz1/runtime/zsh
feat: adds vim.notify
runtime/zsh: 23515b4ef7580af8b9d3b964a558ab2007cacda5
runtime/zsh: 23515b4ef7580af8b9d3b964a558ab2007cacda5
runtime/zsh: b17893aa940dc7d45421f875f5d90855880aad27
runtime/zsh: 23515b4ef7580af8b9d3b964a558ab2007cacda5
runtime/zsh: b17893aa940dc7d45421f875f5d90855880aad27
runtime/zsh: 96f45c0b6fc9e9d404e6805593ed1e0e6795e470
Merge pull request #13852 from janlazo/vim-8.2.2037
test/old: rewrite method code in test_compiler.vim
vim-patch:8.2.2038: compiler test fails on MS-Windows
vim-patch:8.2.2037: compiler test depends on list of compiler plugins
Merge pull request #13833 from janlazo/vim-8.2.2412
vim-patch:8.2.2425: cursor on invalid line with range and :substitute
vim-patch:8.2.2420: too many problems with using all autocommand events
vim-patch:8.2.2418: color not changed if ModeMsg highlight is set in InsertEnter
vim-patch:8.2.2412: not all fields in "cstack" are initialized
Merge pull request #13784 from runiq/get_extmark_by_id-limit_break
Merge pull request #13836 from teto/contribute-doc
doc: link wiki on how to improve/build doc
lsp/tests: Ensure client is stopped in basic_init tests (#13798)
Merge pull request #13719 from chentau/lua_compl
lint
lua: complete methods in metatables
Don't show entire context when completing
feat: add completion to ':lua'
Merge pull request #13828 from vigoux/ts-bump-c-runtime
deps(treesitter): bump C parser and runtime
Merge pull request #13820 from janlazo/vim-8.2.2392
lsp: match textDocument/didChange eol behavior (#13792)
vim-patch:8.2.2402: some filetypes not detected
vim-patch:8.2.2399: fold test fails in wide terminal
vim-patch:8.2.2392: fennel filetype not recognized
Merge pull request #13807 from spywhere/min-size-auto-sign
Merge pull request #13819 from runiq/extmark_gravity_docs
Doc: Generate API docs for buf_set_extmark gravity
lsp: clear diagnostics on client shutdown (#13788)
Merge pull request #13818 from janlazo/vim-8.2.2379
vim-patch:8.2.2385: "gj" and "gk" do not work correctly when inside a fold
Merge pull request #13603 from matveyt/master
Missing argument for package.loadlib()
Merge pull request #13813 from notomo/fix-nvim-echo-clear
Merge pull request #13679 from chentau/gravity
vim-patch:8.2.2375: test for RGB color skipped in the terminal
vim-patch:8.2.2384: turtle filetype not recognized
vim-patch:8.2.2379: do spell suggestions twice if 'spellsuggest' contains number
Update Ukrainian translation (#13785)
api(echo): should clear cmdline before echo
Merge pull request #13673 from notomo/add-nvim-echo
opt: add tests (#13783)
opt: address linting issues (#13783)
opt: update docs on signnumber (#13783)
opt: better handling number bounds (#13783)
opt: reduce hardcoded values (#13783)
opt: minimum sign size for auto (#13783)
api: nvim_echo
Merge pull request #13794 from nvim-treesitter/fix-languagetree-contains
fix(languagetree): use tree nodes instead of regions in contains
Merge pull request #13765 from jvgrootveld/ts-default-start-end-row-on-capture
lsp: remove duplicate settings validation (#13789)
lsp: validate and document server settings (#13698)
LSP: Fix nil settings handling in workspace/configuration (#13708)
Merge pull request #13767 from srafi1/rm-restricted-mode-docs
Update nvim.appdata.xml to reflect version 0.4.4 (#13754)
doc: remove nvim_buf_get_extmark_by_id limit opt
LSP: Add in clientInfo to initalize_params. (#13757)
lsp: add client/registerCapability handler (#13780)
doc: Add link to Homebrew formula in README (#13782)
api: add vim.version (#13762)
treesitter: Fix linter warning and add helper function to remove duplicated logic
Merge pull request #13775 from janlazo/vim-8.2.2353
vim-patch:8.2.2368: insufficient tests for setting options
ci(GHA): install perl on osx
vim-patch:8.2.2361: Vim9: no highlight for "s///gc" when using 'opfunc'
vim-patch:8.2.2366: when using ":sleep" the cursor is always displayed
vim-patch:8.2.2360: test leaves file behind
vim-patch:8.2.2355: stray test failure on Appveyor
vim-patch:8.2.2353: spartql files are not detected
Merge pull request #13774 from mjlbach/log_warn_cache
log.c: warn instead of error on failed stdpath('cache') creation
logs: make kXDGCacheHome if it doesn't exist (#13758)
remove -Z line translations
remove -Z entry from --help
treesitter: default start and end row when omitted
Merge pull request #13750 from janlazo/vim-8.2.2329
Merge pull request #13752 from vigoux/ts-buffer-always-curbuf
fix(treesitter): use source() method on attach
vim-patch:8.2.2334: Pascal-like filetypes not always detected
logging: move to XDG_CACHE_HOME (#13739)
vim-patch:8.2.2329: not all ways Vim can be started are tested
change end_right_gravity error behavior
lsp: fix on_attach signature documentation (#13723)
lsp: remove references to LspInstall (#13738)
lsp: Add severity_limit for other diagnostics features (#13528)
fix(lsp): Allow subsequent text document edits to pass (#13534)
Merge pull request #13735 from jamessan/brew-failures
Merge pull request #13439 from shade-of-noon/man-iskeyword
ci(gha): brew unlink gcc@8/@9 to fix upgrade issues
ci(gha): brew upgrade before installing
Merge pull request #13733 from jupblb/patch-release-2
Use uv_os_homedir and current directory as backup when $HOME is not set (#13657)
Do not delete the nightly release
Merge pull request #13704 from teto/fix-fold-list
buffer.c: remove useless 'for' loops.
runtime/elm: acc224064033e5cea21ef7f1eefb356ca06ff11d (#13718)
screen.c: fix an issue with wrap and folds
Merge pull request #13689 from janlazo/vim-8.2.0050
screen.c: fix last character on foldtext
checkhealth: fix terminfo problems on Windows
checkhealth: fix problem where &shada is empty
screen.c: fix display of signcolumn=auto in diffs (#13688)
LSP: Add diagnostic tags to client capabilities (#13578)
contrib: update nix flake to use flake-utils (#13685)
vim-patch:8.2.0590: no 'backspace' value allows ignoring the insertion point
test/old: restore test_backspace_opt.vim
vim-patch:8.2.0050: after deleting a file mark it is still in viminfo
forgot to update tests
change gravity to be a boolean flag, and add corresponding flag for end position of extmark
Merge pull request #13687 from paddor/master
buffer.c: fix problem of memory allocation
remove trailing tabs
Merge pull request #13590 from bfredl/tsquery
Merge pull request #11906 from bfredl/moreblock
treesitter: simplify query reading logic
input: consider "-- more --" state to be blocking, fixes #11899
allow for extmark gravity to be set through api
vim-patch:8.2.0861: cannot easily get all the current marks (#13676)
LSP: fix messageRequest to not return nested title (#13674)
fix: check for valid buffer handles in modify_keymap (#13543)
Merge pull request #13669 from bfredl/sortsplice
buffer updates: mark sorted region as changed.
tests: make treesitter its own category
Merge pull request #13665 from janlazo/vim-8.2.0917
ci: Fix typo in release.yml that prevents optimized nightly build (#13671)
Merge pull request #13670 from janlazo/vim-8.2.2274
vim-patch:8.2.0470: Test_confirm_cmd_cancel() can fail on a slow system
vim-patch:8.2.0461: confirm test fails on amd64 system
vim-patch:8.2.0458: missing feature check in test function
vim-patch:8.2.0456: Test_confirm_cmd is flaky
vim-patch:8.1.1822: confusing error message when range is not allowed
vim-patch:8.2.0407: no early check if :find and :sfind have an argument
vim-patch:8.1.1667: flags for Ex commands may clash with other symbols
vim-patch:8.2.0917: quickfix entries do not suport a "note" type
Merge pull request #13649 from mjlbach/move_from_nvim-lspconfig
LSP: progress callback should only update existing dict for reports (#13652)
Merge pull request #13655 from janlazo/vim-8.2.2255
test/win: skip vargs memory usage on Github Actions
vim-patch:8.2.2269: not all :hardcopy code covered by tests
vim-patch:8.2.0388: printmbcharset option not tested
vim-patch:8.2.2260: window resize test fails in very wide terminal
vim-patch:8.2.2258: not all OCaml related files are detected
docs: nvim_buf_set_text
Merge pull request #11833 from bfredl/set_text
Merge pull request #13592 from bfredl/setmouse
api: set_text: fix some byte count issues
api: set_text: more tests, and fixing lint
api: set_text: rebase, update to new api, and add more tests
api: set_text: fix validation and some issues
api: set_text: first stab at nvim_buf_set_text
vim-patch:8.2.0934: lhelpgrep twice in help window doesn't jump to the help topic
vim-patch:8.1.2360: quickfix test coverage can still be improved
ui: make 'mouse' handling in external UI more consistent
vim-patch:8.1.2411: function argument copied unnecessarily
vim-patch:8.1.1281: cannot specify a count with :chistory
vim-patch:8.1.1275: cannot navigate to errors before/after the cursor
test, legacy/assert_spec.lua: fix few tests fail
vim-patch:8.1.1261: no error for quickfix commands with negative range
LSP: add test for workspace/configuration handler
LSP: Move workspace/configuration handler from nvim-lspconfig to core
LSP: Add helper function from accessing language server settings from nvim-lspconfig
test, provider/define_spec.lua: fix few tests fail
vim-patch:8.1.1241: Ex command info contains confusing information
vim-patch:8.1.1549: quickfix test fails
Merge pull request #13653 from janlazo/revert-10848
Revert "vim-patch:8.1.0822: peeking and flushing output slows down execution"
Revert "vim-patch:8.1.1189: mode is not cleared when leaving Insert mode"
Revert "vim-patch:8.1.1192: mode is not cleared when leaving Insert mode with mapped Esc"
Merge pull request #13650 from jamessan/windows-binaries
ci: Add Windows binaries to the release
Merge pull request #13644 from jamessan/ci-tweaks
Merge pull request #13646 from janlazo/vim-8.2.2247
LSP: window/showMessageRequest (#13641)
Merge pull request #13648 from teto/fix-fold-hl
lsp: Disable capabilities not currently supported by language client handlers (#13638)
doc: Fix some spelling errors (#13636)
tests: check highlights work in open folds
fix(flake): enable make functionaltest
LSP: implement window/workDoneProgress/create (#13640)
vim-patch:8.1.1727: code for viminfo support is spread out
vim-patch:8.1.0172: 'viminfofile' option does not behave like a file name
ci(GHA): Disable fail-fast for CI checks
Remove Appveyor badge
fix(fold): highlight even in folds (#13643)
Merge pull request #13552 from janlazo/vim-8.1.0149
vim-patch:8.1.2100: :mksession is not sufficiently tested
vim-patch:8.1.0790: code for creating tabpages in session is too complex
vim-patch:8.1.0151: mksession test fails on MS-Windows
vim-patch:8.1.0149: session is wrong with multiple tabs when :lcd was used
vim-patch:8.2.2244: crash when making the window width negative (#13633)
Merge pull request #13629 from jamessan/remove-old-ci
ci(travis): Remove jobs covered by GHA
ci(appveyor): Remove now that GHA is testing Windows
Merge pull request #13540 from erw7/add-gha-for-windows-vs2017
Merge pull request #13624 from janlazo/vim-8.2.2234
fix(fold): dont highlight search results on folded lines (#13616)
vim-patch:8.2.0429: no warning when test checks for option that never exists
vim-patch:8.1.1032: warnings from clang static analyzer
vim-patch:8.2.2234: command line wildmenu test often fails with Unix GUI
lsp: Use correct bufnr for documentHighlight handler (#13622)
Merge pull request #13607 from janlazo/vim-8.2.2221
vim-patch:8.2.2231: when "--remote file" is used "file" is not reloaded
vim-patch:8.2.0928: many type casts are used for vim_strnsave()
Merge pull request #13611 from HARSH-SHETH/typo
Fixed a typo.
vim-patch:8.2.1580: wildmenu does not work properly
vim-patch:8.2.1121: command completion not working after ++arg
vim-patch:8.2.1007: completion doesn't work after ":r ++arg !"
vim-patch:8.1.2227: layout wrong if 'lines' changes while cmdline window is open
vim-patch:8.2.2221: if <Down> is mapped on the command line 'wildchar' is inserted
Merge pull request #10848 from janlazo/vim-8.1.1189
vim-patch:8.1.1192: mode is not cleared when leaving Insert mode with mapped Esc
vim-patch:8.1.1189: mode is not cleared when leaving Insert mode
vim-patch:8.1.0822: peeking and flushing output slows down execution
Merge pull request #13602 from janlazo/vim-8.2.2206
vim-patch:8.2.2206: :exe command line completion only works for first argument
vim-patch:8.2.1174: no test for the "recording @x" message
vim-patch:8.1.2212: cannot see the selection type in :reg output
vim-patch:8.2.0051: command line completion test skipped
Merge pull request #13595 from teto/fix-filler
feat(sign):Allow signs to be 0 width (#13290)
Merge pull request #13599 from janlazo/vim-8.2.2197
vim-patch:8.2.2203: Moodle gift files are not recognized
vim-patch:8.2.0907: when using :global clipboard isn't set correctly
vim-patch:8.1.1837: popup test fails if clipboard is supported but not working
vim-patch:8.2.2197: assert arguments order reversed
Merge pull request #13537 from bfredl/rpcabort
Merge pull request #13591 from janlazo/vim-8.1.1805
fix: appease linter
rpc: don't handle stale requests on already closed channel
lsp: Fire LspDiagnosticsChanged before returning (#13483)
refactor: de-curwin-ify update_topline/curs_columns
refactor: pass the window to get_(side)scrolloff_value
vim-patch:8.2.1025: tabpage menu and tabline not sufficiently tested
vim-patch:8.2.0116: BufEnter autocmd not triggered on ":tab drop"
Merge pull request #13586 from janlazo/vim-8.1.1047
vim-patch:8.2.2189: cannot repeat a command that uses the small delete register
vim-patch:8.2.2142: memory leak when heredoc is not terminated
vim-patch:8.2.0874: signals test is a bit flaky
vim-patch:8.2.0769: VimLeavePre not triggered when Vim is terminated
vim-patch:8.2.0749: TERM signal test fails on FreeBSD
vim-patch:8.2.0742: handling of a TERM signal not tested
vim-patch:8.1.1212: signal PWR is not tested
vim-patch:8.1.1101: signals test may fail in the GUI
vim-patch:8.1.1047: WINCH signal is not tested
GHA/osx: workaround for brew update error (#13584)
Merge pull request #13581 from janlazo/vim-8.2.2174
vim-patch:8.2.2181: valgrind warnings for using uninitialized value
vim-patch:8.2.2177: pattern "^" does not match if first character is combining
vim-patch:8.2.2176: crash with a sequence of fold commands
lsp: Add <nomodeline> to doautocmd calls (#13576)
Merge pull request #13573 from janlazo/vim-8.1.1872
vim-patch:8.2.1966: popup becomes current window after closing a terminal window
vim-patch:8.1.1872: when Vim exits because of a signal, VimLeave is not triggered
Merge pull request #13572 from janlazo/vim-8.2.0180
vim-patch:8.2.2171: valgrind warning for using uninitialized value
vim-patch:8.2.2166: auto format doesn't work when deleting text
vim-patch:8.2.0686: formatoptions not sufficiently tested
vim-patch:8.2.0180: test for wrapmargin fails if terminal is not 80 columns
lsp: add $/progress report (#13294)
foldcolumn: support "auto" (#13571)
lsp: Fix text payload in didSave notification (#13363)
doc: Fix vim.lsp.diagnostic.get_next (#13495)
vim-patch:8.2.1289: crash when using a custom completion function (#13565)
Merge pull request #13563 from janlazo/vim-8.2.2161
vim-patch:8.1.0470: pointer ownership around fname_expand() is unclear
vim-patch:8.2.2163: crash when discarded exception is the current exception
vim-patch:8.2.2161: arguments -T and -x not tested yet
Merge pull request #13559 from janlazo/vim-8.2.0162
GHA/osx: remove python 2to3
Merge pull request #13558 from TysonAndre/php-syntax-update
runtime/php: 1c6737b20a5cf71751b180461cea22fc76d8870c
runtime/php: 47e13953ffdbb9f163b901196dec8c2100b72edd
runtime/php: 5ef1c6a4838a9629b793f3ae676f72a764171b00
vim-patch:8.2.0272: ":helptags ALL" gives error for some directories
vim-patch:8.1.1657: Terminal: screen updates from 'balloonexpr' are not displayed
vim-patch:8.2.0264: fileformat test still fails on MS-Windows
vim-patch:8.2.0262: fileformat test fails on MS-Windows
Add <Enter> to existing vim syntax highlighting for angle-bracket notation (#13553)
vim-patch:8.1.0734: the hlsearch state is not stored in a session file (#13547)
vim-patch:8.2.2147: quickfix window title not updated in all tab pages (#13545)
GHA: integrate unix and windows settings
Merge pull request #13355 from notomo/check-textlock-in-api
Merge pull request #13367 from nvim-treesitter/offset-lang-injection
test: textlock api error
docs: add check_textlock attribute
Merge pull request #13539 from vigoux/ts-fix-icmnosplit
GHA: fix build problems on Windows
ci: setup GitHub actions for windows
feat(buffer_updates): allow ignoring when previewing
fix: also splice extmarks in preview windows
Merge pull request #13538 from jamessan/mac-locale
feat(treesitter): add offset predicate for language injection
fix: Include auto/config.h before HAVE_* preprocessor checks
api: add textlock check
healthcheck: fix health check issue with shada file (#13291)
Merge pull request #12624 from qvacua/build-arm64-mac
Fix lsp tests breaking from new LuaJIT version
third-party: Always set DEPLOYMENT_TARGET when building LuaJIT on macOS
Do not set pagezero_size and image_base for LuaJIT >= 2.1.0-beta3
Use the latest luajit for arm64 Mac compatibility.
Merge pull request #13526 from janlazo/vim-8.1.0839
vim-patch:8.1.1630: various small problems
vim-patch:8.2.2136: Vim9: Using uninitialized variable
Merge pull request #13522 from janlazo/vim-8.2.2130
vim-patch:8.1.1089: tutor does not check $LC_MESSAGES
vim-patch:8.2.2130: Insert mode completion messages end up in message history
Merge pull request #13523 from janlazo/javascript-runtime
runtime/javascript: 207f009326c8f878defde0e594d7d9ed9860106e
runtime/javascript: e7b1ea0276cc83cd5c612f3189a174a60d57b5ed
runtime/javascript: 388a5d4f20b4b64341d1604aa238cab85827b892
runtime/javascript: 09c6f265b21065ffa9437837b1d0955137175e45
runtime/javascript:  5be4ceecea5520265066eac972460ebb1cdf05e7
Merge pull request #13521 from janlazo/nvim-8.1.2246
Merge pull request #13486 from bfredl/bufnoreload
vim-patch:8.1.2246: some tests are still in old style
test/old: cherry-pick patch v8.1.1955 changes for test_trycatch.vim
test/old: cherry-pick patch 8.1.0711 changes for test_trycatch.vim
Merge pull request #13489 from janlazo/issue-13485
test/functional/eval: assert that executable() fixtures are executable
eval: executable(), exepath() accept strings only
vim-patch:8.2.0047: cannot skip tests for specific MS-Windows platform (#13461)
unused macros: Remove a five unused macros. (#13517)
tests: Take into account magic hyphen. (#13518)
Merge pull request #13515 from neovim/revert-13514-patch-1
Revert "Use oldest macOS version for release workflow"
Merge pull request #13514 from mhanberg/patch-1
Use oldest macOS version for release workflow
vim-patch:8.1.1900: sign test fails in the GUI (#13511)
macros.h: Remove unused CURSOR_BAR_RIGHT macro. (#13506)
vim-patch:8.2.0005: duplication in version info (#13502)
ex_cmds: port cmd_addr_T and ADDR_NONE (#13492)
Merge pull request #13482 from dm1try/propagate_lua_file_loading_errors
Merge pull request #13450 from nvim-treesitter/fix-unknown-language-parser
runtime: propagate lua parsing errors while using "require"
vim-patch:8.2.1833: when reading from stdin dup() is called twice (#13498)
Merge pull request #13497 from seandewar/vim-8.2.2121
man.vim: Add double click mapping.
vim-patch:8.2.2123: after using a complete popup the buffer is listed
vim-patch:8.2.2121: internal error when using \ze before \zs in a pattern
Merge pull request #13494 from jamessan/release-fixes
GHA: Use oldest OS images to build releases
doc: Fix incorrect LSP diagnostic-related helptags (#13388)
doc: Add missing parameter end_pos for range_formatting (#13481)
feat(nix): add flake.nix (#13487)
feat: Allow incremental sync & lsp flags (#13371)
fileio: detach buffer when buffer was reloaded (like with :edit)
Merge pull request #13478 from seandewar/vim-8.2.2106
vim-patch:8.2.2106: TOML files are not recognized
Merge pull request #13473 from ostera/patch-1
Fix typo on treesitter.txt help page
Merge pull request #13471 from jamessan/release-fixes
GHA: Perform a full checkout for release workflow
Use vX.Y.Z-dev+{git-describe} for development versions
Merge pull request #13468 from janlazo/vim-8.1.0818
log: use uv_gettimeofday() for Windows
runtime/doc: strftime() is always available
vim-patch:8.2.1296: some part of using 'smarcase' was not tested
vim-patch:8.2.1021: Ruby interface not tested enough
vim-patch:8.1.2064: MS-Windows: compiler warnings for unused arguments
Merge pull request #13449 from nvim-treesitter/fix-language-for-range
Merge pull request #13472 from jamessan/macos-nightly
GHA: Include runtime in macos release tarball
Merge pull request #13467 from jamessan/release-fixes
GHA: Use full version in release description
GHA: Fix event_name check for nightly builds
Merge pull request #13464 from jamessan/release-fixes
GHA: Delete nightly tag before creating new release
Merge pull request #13455 from bfredl/deprecated
Merge pull request #13454 from tk-shirasaka/fix/send-win_hide
Merge pull request #13458 from jamessan/release-fixes
GHA: Generate correct appimage for release/nightly
GHA: Do not run CI for tags
GHA: Rename "Nightly release" to "Release"
GHA: Automatically create a release for versioned tags
GHA: Add support for manually creating a release
GHA: Use meeDamian/github-release to create/update release
Fixed lint error
vim-patch:8.2.2091: MS-Windows: build warnings (#13451)
Moved temporary variable to where it's used
api: move deprecated functions to separate files
ui: Fix win_hide distination grid
Merge pull request #13452 from jamessan/appimage
GHA: Build appimage for nightly
GHA: Stop installing test dependencies for nightly build
Merge pull request #13417 from shade-of-noon/man_count.13411
fix(treesitter): don't throw an error for missing injected langs
fix(treesitter): incorrect method name call
Merge pull request #13445 from jamessan/build-artifacts
GHA: Publish nightly builds for Linux and macOS
Merge pull request #13173 from tjdevries/tjdevries/option_info
api/options: cleanup the fixup
api/options: fixup
api/options: cleanup
api/options: add option metadata
man.vim: Set iskeyword explicitly.
Merge pull request #13434 from janlazo/vim-8.2.2076
vim-patch:8.2.2085: Qt translation file is recognized as typescript
vim-patch:8.2.1907: complete_info().selected may be wrong
vim-patch:8.2.1673: complete_info() selected index has an invalid value
vim-patch:8.2.2078: illegal memory access when using :print on invalid text
lsp: Change diagnosticg.get_all to return {bufnr: Diagnostic[]} (#13310)
lsp: Make open_floating_preview buffers ephemeral (#13437)
lsp: Fix "unsupported_method" error when the buffer does not have an LSP Server (#13175)
vim-patch:8.2.0602: :unlet $VAR does not work properly (#13238)
Merge pull request #13428 from janlazo/nvim-8.0.1525
Merge pull request #12235 from dm1try/add_init_lua
Merge pull request #13425 from bfredl/secretcharm
test/wildmode_spec: override $PS1
test/timer_spec: increase base timeout
vim-patch:8.0.1525: using :wqa exits even if a job runs in a terminal window
executor: use new nlua_ name pattern
doc: mention init.lua
startup: allow lua files as session one
startup: add init.lua as an alternative user config, fixes #7895
path: add helper for checking a file extension
Merge pull request #13426 from yegappan/vimdiff
vim-patch:8.0.0953: get "no write since last change" error in terminal window
fixup! vim-patch:8.0.0858: check if job terminal is running #10908
Update vim_diff.txt
Merge pull request #13419 from janlazo/vim-8.2.2067
Merge pull request #13378 from mgnsk/fix-undeclared-identifier
ex_getln: add secret charm
fall back to os_realpath
Fix undeclared identifier when HAVE_READLINK is not defined
vim-patch:8.1.2264: there are two test files for :let
test/old: partial port of patch 8.1.0736
test/old: partial port of patch 8.1.0711
vim-patch:8.2.2069: the quickfix window is not updated after setqflist()
runtime: Fix man.vim count handling.
Merge pull request #13404 from jarimayenburg/filetype_docker
runtime/dockerfile.vim: ebdf3c964a901fc00c9009689f7cfda478342c51
runtime/dockerfile.vim: 560979ed4f0216f902a2c247e937f00a27dcb198
folds: use Folded highlight even with spell on (#13393)
doc: fix lsp statusline examle (#13286)
Merge pull request #13288 from acomagu/reduce-memory-usage-lsp-rpc
lsp: Reduce memory usage for buffering the message from LSP.
vim-patch:8.2.0095: cannot specify exit code for :cquit (#13407)
Merge pull request #13405 from bfredl/newlog
initialization: delay logging in set_init_1()
Merge pull request #13402 from janlazo/vim-8.2.2056
vim-patch:8.2.0271: the "num64" feature is available everywhere
vim-patch:8.2.2059: Amiga: can't find plugins
vim-patch:8.1.0951: using WIN64 even though it is never defined
Merge pull request #13397 from adrian5/filetype-gitrebase
gitrebase.vim: patch runtime/syntax to 664f3cf3f21
gitrebase.vim: patch runtime/syntax to c08ee7476b1
gitrebase.vim: patch runtime/ftplugin to c08ee7476
Merge pull request #13315 from ThomasFeher/colorscheme_terminal
Fix colors in terminal by maintaining COLORTERM
Merge pull request #13386 from glepnir/glepnir-patch-1
use if_nil variable replace vim.F.if_nil
Merge pull request #13375 from janlazo/vim-8.2.2041
vim-patch:8.2.0462: previewwindow test fails on some systems
Lsp: fix vim.F.ifnil to vim.F.if_nil (#13384)
LSP: Feature/add workspace folders (#12638)
screen.c: Allow showbreak to override cursorline. (#13372)
Merge pull request #13379 from bfredl/runtime
Merge pull request #13357 from vigoux/luahl-priority
runtime: extract 'runtimepath' and 'packpath' logic to its own file
feat(luahl): add priority mechanism
vim-patch:8.2.0996: using "aucmdwin" in win_gettype() is not ideal
vim-patch:8.2.0991: cannot get window type for autocmd and preview window
vim-patch:8.2.0257: cannot recognize a terminal in a popup window
Merge pull request #13374 from bkegley/patch-1
vim-patch:8.1.2390: test94 is old style, fix 7.4.441 not tested
vim-patch:8.2.0303: TermChanged test fails in the GUI
Merge pull request #13373 from jamessan/github-actions
vim-patch:8.2.0302: setting 'term' may cause error in TermChanged autocommand
vim-patch:8.1.2290: autocommand test fails
vim-patch:8.2.2041: haskell filetype not optimally recognized
fix(treesitter): docs reflect parser:parse()
GHA: Force CCACHE_DIR=$HOME/.ccache
ci: Only setup ipv6 on macOS for Travis
GHA: brew required software
env.sh: Handle no flavor being specified
GHA: Add macOS CI
ci: s/TRAVIS_OS_NAME/CI_OS_NAME/ for non-Travis-specific code
GHA: Rename linux workflow to CI
Merge pull request #13368 from vigoux/langtree-fixes
vim-patch:8.1.0825: code for autocommands is mixed with file I/O code (#13305)
languagetree: call changedtree callback per tree
Merge pull request #13366 from bfredl/path3a
vim-patch:8.2.2036: buffer messed up if creating the quickfix window fails (#13365)
api: enable nvim_get_runtime_file to find subdirectories
man.vim: Use page title instead of full path. (#13353)
checkhealth: support virtual env dir with spaces
Merge pull request #13322 from teto/remove_curwin
fix(fold): use Folded highlight even with spell on
refactor: pass window to was_set_insecurely
Merge pull request #13270 from vigoux/ts-range-ranges
Merge pull request #13358 from jamessan/ubuntu-20.04-gha
Merge pull request #11148 from janlazo/vim-8.0.1455
fix(treesitter): allow ranges in set_included_ranges
treesitter: refactor some things
ci: Only try installing python-pynvim if Py2 pip is present
GHA: Switch to ubuntu-20.04 image for Linux
Merge pull request #13354 from jamessan/ea.skip-providers
vim-patch:8.1.2361: MS-Windows: test failures related to VIMDLL
vim-patch:8.1.2115: MS-Windows: shell commands fail if &shell contains a space
Merge pull request #13252 from nvim-treesitter/language-tree
feat(treesitter): add language tree
Add eap->skip checks to script_host_{execute_file,do_range}
do_one_cmd: Remove :pyxdo/:pyxfile from "handle <bar>" switch
Merge pull request #13333 from adrian5/filetype-xml
Merge pull request #13348 from adrian5/filetype-gitconfig
Merge pull request #13351 from janlazo/vim-8.1.1598
xml.vim: patch runtime/syntax to 4ceaa3a6e0b8cb299
xml.vim: patch runtime/syntax to 96f45c0b6fc9e9d40
xml.vim: patch runtime/indent to 4ceaa3a6e0b8cb299
xml.vim: patch runtime/indent to 96f45c0b6fc9e9d40
xmllint.vim: patch runtime/compiler to 1c6737b20a5
Merge pull request #13345 from shade-of-noon/lingering-e145
Merge pull request #13352 from jamessan/isCI
vim-patch:8.1.2332: missing file in refactoring
po: Remove E145 error message.
runtime: Remove error handling for E145.
test: Add GitHub actions support to helpers.isCI
vim-patch:8.2.2032: cabalconfig and cabalproject filetypes not recognized
xmlformat.vim: patch runtime/autoload to eab6dff19
xmlformat.vim: patch runtime/autoload to 96f45c0b6
Merge pull request #13347 from janlazo/vim-8.1.0650
vim-patch:8.2.1217: startup test depends on random source file
test/old: cherry-pick patch 8.2.0509 for Test_q_arg()
test/old: cherry-pick patch 8.1.2373 for test_startup.vim
gitconfig.vim: patch runtime/syntax to c08ee7476b1
gitconfig.vim: patch runtime/syntax to 5be4ceecea5
vim-patch:8.1.0650: command line argument -q [errorfile] is not tested
Merge pull request #13338 from shade-of-noon/patch-1
Merge pull request #13340 from janlazo/vim-8.2.2025
eval: use VAR_UNLOCKED enum, not the direct value
vim-patch:8.2.2027: Coverity warnts for uninitialized field
vim-patch:8.2.2029: Coverity warns for not checking return value
vim-patch:8.2.2028: Coverity warns for using an uninitialized variable
Merge pull request #13307 from janlazo/vim-8.1.0777
Update vim_diff.txt
Grammar - remove superfluous word.
Remove restricted mode (-Z) from man page.
Merge pull request #13250 from bfredl/missinglink
decorations: allow nvim_set_hl to break existing links
menu: remove winbar code
test: rewrite powershell tests to remove timeout
vim-patch:8.2.1608: Vim9: getchar() test fails with GUI
Merge pull request #12004 from erw7/fix-paste
test: add functional test for segmented response from terminal
test,unit: Change test according to change of bg color response processing
TUI: fix processing of bg color response
TUI: fix bracket paste getting stuck
Merge pull request #12592 from jamessan/fix-mod-keys
Merge pull request #13321 from seandewar/vim-8.2.2011
Merge pull request #13330 from adrian5/filetype-gitcommit
gitcommit.vim: patch runtime/syntax to c08ee7476b1
gitcommit.vim: patch runtime/ftplugin to c08ee7476
vim-patch:8.2.2011: "syn sync" reports a very large number
vim-patch:8.2.2006: .pbtxt files are not recognized
Merge pull request #13319 from bfredl/bfredlpackages
startup: load files from &packpath . '/start/{pluginname}'
Merge pull request #13316 from bfredl/vim-8.2.2005
Merge pull request #13318 from tjdevries/fix_vigouxs_segfaulting_mistakes
fix: NULL segfaults brought to you by @vigoux
vim-patch:8.2.2005: redoing a mapping with <Cmd> doesn't work properly
Merge pull request #13308 from Shougo/vim-8.2.1995
vim-patch:8.2.1995: the popup menu can cause too much redrawing
Merge pull request #13302 from blueyed/fix-deps-luv-static
keymap: Preserve S- modifier when C- is present
tui/input: Add S- modifier for chords with capital ASCII
Understand Escape as another name for Esc
Merge pull request #13303 from vigoux/fix-13298
Merge pull request #13304 from rockerBOO/docs-fix-nvim_lsp-lspconfig
docs: Change nvim_lsp to lspconfig
fix(floatwin): don't always use winheight
deps: fix BuildLuv without bundled libuv
Merge pull request #13300 from rockerBOO/docs-nvim_lsp-to-lspconfig
docs: Update ISSUE_TEMPLATE for lsp_bug_report
docs: Follow conventions
docs: Update nvim_lsp to lspconfig
Merge pull request #13293 from janlazo/vim-8.2.1976
Merge pull request #13297 from jamessan/github-actions
GHA: Add tsan job to the matrix
GHA: Use matrix to de-duplicate workflow definition
ci: Remove $CCACHE_CPP2
GHA: Move env var setup into env.sh to keep it DRY
globals: eliminate "enc_utf8" macro
globals: eliminate "has_mbyte" macro
vim-patch:8.2.1982: quickfix window now updated when adding invalid entries
ci: Install gem binaries to ~/.local/bin
lsp: Expose all diagnostics (#13285)
Merge pull request #13275 from janlazo/vim-8.1.0805
Merge pull request #12698 from erw7/fix-popupmenu-with-rl
Merge pull request #13287 from jamessan/github-actions
feat(lua): improve error message to make it actionable (#13276)
README: Replace Travis CI badge with GH Linux CI
GHA: Invalidate cache if cmake files or third-party/ change
ci: Rename travis_fold to ci_fold and add GHA support
ci/before_script.sh: Remove early exit for lint job
GHA: Update cache directory if all steps succeeded
GHA: Include ccache output in cache
GHA: Skip tests that fail due to actions/runner#241
GHA: Add ~/.local/bin to $PATH
GHA: Add lint job to Linux workflow
Add Linux ASAN GitHub Action
build: Rename TRAVIS_BUILD_DIR to CI_BUILD_DIR
build: Rename TRAVIS_CI_BUILD variable to CI_BUILD
doc: fixup sign information (#13281)
lsp: vim.lsp.diagnostic (#12655)
vim-patch:8.1.0805: too many #ifdefs
vim-patch:8.1.0810: too many #ifdefs
vim-patch:8.1.0809: too many #ifdefs
vim-patch:8.1.0806: too many #ifdefs
vim-patch:8.1.0811: too many #ifdefs
Merge pull request #13273 from janlazo/vim-8.2.1972
vim-patch:8.2.1973: finding a patch number can be a bit slow
vim-patch:8.2.1972: crash when recreating nested fold
Merge pull request #11996 from georg3tom/remove_restricted
Removed restricted mode - Fix #11972
options.lua: add short descriptions (#6288)
Merge pull request #13266 from jamessan/pvs-check
Add PVS comment to new source files
pvs: Exclude xdiff from analysis and comment munging
Use the free PVS-Studio license
Merge pull request #13263 from jamessan/tree-sitter-detect
Update the differences with Vim. (#13239)
Merge pull request #13244 from tk-shirasaka/fix/multigrid-click-foldcolumn
Align naming of FindTreeSitter cmake file and variables
Fix alignment issue
Merge pull request #13205 from romgrk/add-bufmodified-autocmd
test: update BufModifiedSet to be paranoid
fix: address issues for BufModifiedSet
Add test case for fold on multigrid
gcc/analyzer: fix false positives for NULL (#13248)
Merge pull request #13255 from janlazo/pvs-547-560
pvs/v547: comment out code for 'adjustment == 1'
pvs/v560: decoration item is always truthy
pvs/v547: remove useless ternary for string size
ui: Fix click on foldcolumn when ext_multigrid is enabled
Merge pull request #13253 from theHamsta/fix-baselang-order
tree-sitter: Put base languages first in queries
doc: add BufModifiedSet
test: fix BufModifiedSet
tests: add functional test for BufModifiedSet
fix: finish renaming to BufModifiedSet
fix: rename to BufModifiedSet
feat: implement BufModified autocmd
lsp: fix formatting_sync with multiple clients (#13233)
vim-patch:8.2.1964: not all ConTeXt files are recognized (#13245)
Add v:event flag on DirChanged signaling switching window (#13153)
Merge pull request #13241 from bfredl/decoration
Merge pull request #13117 from romgrk/add-scroll-events
doc: fix WinScrolled details
decoration: split out "decoration" from "extmark" module
fix: lint doc-comments
my fight with the linter (tome II)
Merge pull request #13237 from janlazo/vim-8.2.1959
my fight with the linter
vim-patch:8.2.1961: various comments can be improved
vim-patch:8.2.1959: crash when terminal buffer name is made empty
vim-patch:8.1.0268: file type checking has too many #ifdef (#13182)
Merge pull request #13227 from bfredl/earlyinspect
lua: make vim.inspect available early so it can be used for path debugging
Merge pull request #13229 from ElPiloto/more_treesitter_doc
Update runtime/doc/treesitter.txt
Add g:loaded_matchit check (#13226)
healthcheck: suggest to skip tests perl provider (#13223)
doc: Fix treesitter doc PR.
doc: Supplement documentation for treesitter.
Merge pull request #13224 from janlazo/vim-8.2.1944
Merge pull request #13225 from erw7/fix-build-msvc
Merge pull request #13219 from vigoux/ts-extract-tree
third-party: fix build failures in MSVC
treesitter: separate tree and parser
vim-patch:8.1.1956: screenshot tests may use a different encoding
vim-patch:8.1.1829: difference in screenshots
vim-patch:8.2.1947: crash when using "zj" without folds (#13222)
Merge pull request #13214 from vigoux/ts-bump-0.17.3
Merge pull request #13212 from lucc/patch-2
deps(tree-sitter): dump to 0.17.3
Merge pull request #12931 from vigoux/treesitter-bundled
tree-sitter: ignore some tests on windows
deps(treesitter): bump up to 0.17.1
bundle: move tree-sitter as a bundled dep
docs: Fix typo in example code
Merge pull request #13211 from bfredl/fastruntime
Merge branch 'master' into add-scroll-events
api: gotta get the runtime fast
Merge pull request #13209 from janlazo/vim-8.2.1942
fixup! startup: handle autoload and lua packages during startup
vim-patch:8.2.1942: insufficient test coverage for the Netbeans interface
Merge pull request #13178 from steelsojka/fix-empty-main-query-file
Merge pull request #13119 from bfredl/luartp
startup: handle autoload and lua packages during startup
lsp: remove vim.NIL from processing (#13174)
Merge pull request #13204 from janlazo/vim-8.2.1938
vim-patch:8.2.1086: possibly using freed memory when text properties used
vim-patch:8.2.0864: pragmas are indented all the way to the left
Merge pull request #13203 from janlazo/vim-8.2.1936
Merge pull request #12870 from bfredl/themepark
fixup! rename: user_funcs -> userfunc
fixup! eval.c: factor out eval/funcs.c #11828
api: add API for themes
vim-patch:8.2.1936: session sets the local 'scrolloff' value to the global value
fixup! refactor: move session functions to ex_session.c
lsp: complete support for `CodeActionKind`s to capabilities (#13180)
Merge pull request #13197 from janlazo/vim-8.2.1925
Merge pull request #13192 from bfredl/nodeid
Merge pull request #13090 from vigoux/tree-sitter-parse-error
vim-patch:8.2.0666: Ruby test fails on MS-Windows
vim-patch:8.2.0639: MS-Windows: messages test still fails
vim-patch:8.2.1926: cannot use a space in 'spellfile'
vim-patch:8.2.1925: list/dict test fails
treesitter: fix wrong string formatting
treesitter: add node:id()
tree-sitter: error out when parsing fails
fix: remove xxx comment
Merge pull request #13163 from erw7/fix-appveyor
Merge pull request #13167 from romgrk/vim-8.2.1909
vim-patch:8.2.1909: number of status line items is limited to 80
tests: separate scroll test for horizontal/vertical scroll
lsp: Remove snippet lies (#13183)
Merge pull request #13172 from janlazo/vim-8.2.1910
tests: make scroll tests pass
Fix clipboard provider detection (#13190)
vim-patch:8.2.0929: v:register is not cleared after an operator was executed
vim-patch:8.1.2034: dark them of GTK 3 not supported
vim-patch:8.2.0131: command line is not cleared when switching tabs
vim-patch:8.2.1521: reading past end of buffer when reading spellfile
vim-patch:8.2.1910: reading past the end of the command line
Merge pull request #12750 from foleyfactor/fix-hanging-messages
fix(treesitter): account for no main query file
doc: update doc: s/Scroll/WinScrolled/
tests: add functional test for WinScrolled
feat: implement a working WinScrolled autocmd
lsp: Fix case where active_signature == vim.NIL (#13114)
ci/appveyor: change to update package database
Merge pull request #13116 from skippi/vim-8.1.1769
vim-patch:8.2.1747: result of expand() unexpectedly depends on 'completeslash'
vim-patch:8.1.1791: 'completeslash' also applies to globpath()
vim-patch:8.1.1772: options test still fails on MS-Windows
vim-patch:8.1.1769: 'shellslash' is also used for completion
Merge pull request #13154 from fsouza/fix-callback-logic
Merge pull request #13084 from erw7/fix-tui-cooked-mode
lsp: Store diagnostics for unloaded buffers (#13102)
Merge pull request #13151 from janlazo/vim-8.2.1892
Merge pull request #13077 from tjdevries/tjdevries/buf_apis_1
vim-patch:8.2.1901: variable completion does not work in command line window
lsp: fix fallback for callback in method_unsupported
vim-patch:8.2.0393: Coverity warns for not using return value
vim-patch:8.2.0506: Coverity complains about ignoring return value
move.c: dont invalidate viewport when no scroll happened
vim-patch:8.1.1862: Coverity warns for not using return value
vim-patch:8.2.1102: Coverity gets confused by an unnecessary NULL check
lsp: only send buf requests to servers that support the request (#12764)
vim-patch:8.2.0618: echoing a null list results in no output
vim-patch:8.1.1260: comparing with pointer instead of value
vim-patch:8.2.0087: crash in command line expansion when out of memory
options: add fallback value to .indir member (#13150)
Merge pull request #13137 from erw7/fix-pum-pos
scroll: use win->w_viewport_invalid
tests: add test for Scroll autocmd
docs: add documentation for Scroll autocmd
scroll: cleanup unnecessary code & comments
Merge pull request #13132 from willelz/markdown
Merge pull request #13145 from janlazo/vim-8.2.0901
vim-patch:8.2.0912: a few test cases for CJK formatting are disabled
vim-patch:8.2.0901: formatting CJK text isn't optimal
Merge pull request #13131 from janlazo/vim-8.2.0952
Fix popupmenu position issue
vim-patch:8.2.1885: filetype tests unnessarily creates swap files
vim-patch:8.2.0952: no simple way to interrupt Vim
fixup: fixup: fixup: fixup:
fixup: some small nit picks
fixup: bfredl comments
api: nvim_buf_delete
lsp: Fix "client has shut down" errors during initializing (#13103)
markdown.vim: patch runtime to ade0d3946801 vim/vim@ade0d39468014fd55d30f7647a1ac104baff4bc5
markdown.vim: patch runtime/ftplugin to c08ee7476b19 vim/vim@c08ee7476b19f9b4de5df287797af87c4e3fba0a
Merge pull request #13128 from janlazo/vim-8.2.0268
vim-patch:8.2.1874: can't do something just before leaving Insert mode
vim-patch:8.2.0268: trycatch test fails
Merge pull request #13107 from alexgenco/rubyeval
implement scroll autocommand
Install pre-release neovim gem in CI
vim-patch:8.1.1056: no eval function for Ruby
Merge pull request #13123 from janlazo/vim-8.2.1871
Revert "vim-patch:8.1.0877: new buffer used every time the quickfix window is opened"
Revert "vim-patch:8.1.1015: quickfix buffer shows up in list, can't get buffer number"
vim-patch:8.2.0006: test using long file name may fail
vim-patch:8.2.1871: using %v in 'errorformat' may fail before %Z
Merge pull request #13125 from bfredl/artifical-ci
docs: update api
vim-patch:8.2.1804: resolve('/') returns an empty string (#13121)
Merge pull request #13118 from bfredl/mudholland
A Mudholland Dr. Recast
Merge pull request #13111 from janlazo/vim-8.2.0862
vim-patch:8.2.1547: various comment problems
vim-patch:8.2.0943: displaying ^M or ^J depends on current buffer
Merge pull request #13043 from tkuneck/fix-min-float-win-size
Merge pull request #13100 from janlazo/vim-8.1.2141
Merge pull request #12053 from tjdevries/tjdevries/nicer_validate
Merge pull request #13101 from skippi/vim-8.2.0868
Merge pull request #13106 from janlazo/vim-8.2.1856
vim-patch:8.2.0868: trim() always trims both ends
vim-patch:8.1.1795: no syntax HL after splitting windows with :bufdo
vim-patch:8.2.1856: "2resize" uses size of current window
Merge pull request #13105 from janlazo/vim-8.2.0728
vim-patch:8.2.1557: crash in :vimgrep when started as "vim -n"
vim-patch:8.2.1384: no ATTENTION prompt for :vimgrep first match file
vim-patch:8.2.1219: symlink not followed if dirname ends in //
vim-patch:8.2.0444: swap file test fails on some systems
vim-patch:8.2.0728: messages about a deadly signal are not left aligned
vim-patch:8.1.2419: with a long file name the hit-enter prompt appears
Merge pull request #13030 from Happy-Dude/quickfix_warning
vim-patch:8.1.2141: :tselect has an extra hit-enter prompt
Merge pull request #13097 from janlazo/vim-8.2.1850
Fix shellcheck error SC2155
scripts/vim-patch.sh: include --shortstat with -m
vim-patch:8.2.1850: "vat" does not select tags correctly over line break
gen_ex_cmds: simplify writes to defsfile (#13096)
Merge pull request #13092 from janlazo/vim-8.1.1403
vim-patch:8.1.0269: Ruby Kernel.#p method always returns nil
vim-patch:8.1.0221: not enough testing for the Ruby interface
vim-patch:8.1.0978: blob not tested with Perl
vim-patch:8.2.0710: Netbeans test sometimes fails
vim-patch:8.1.0095: dialog for ":browse tabnew" says "new window"
vim-patch:8.2.1842: crash when USE_FNAME_CASE is defined and using :browse
vim-patch:8.2.0957: compiler warning for uninitialized variable
vim-patch:8.2.0573: using :version twice leaks memory
tui: fix problem with uv_tty_set_mode failing due to signal
Merge pull request #12953 from vigoux/tshl-custom-parser
treesitter: allow multiple highlighters per buffer
treesitter: allow custom parser for highlighter
Merge pull request #13059 from vigoux/ts-runtime-queries
Fix multiple typos (#13063)
Merge pull request #13088 from janlazo/vim-8.2.1834
vim-patch:8.2.1837: using "gn" after "gN" does not work
tui: fix problem that TTY does not go into raw mode
treesitter: runtime queries
Merge pull request #11318 from janlazo/vim-8.1.1201
test/old: skip Test_addr_all() for now
vim-patch:8.1.1206: user command parsing and listing not properly tested
vim-patch:8.1.1204: output of :command with address completion is not nice
vim-patch:8.1.0560: cannot use address type "other" with with user command
Merge pull request #13083 from janlazo/vim-8.1.1281
vim-patch:8.2.1823: "gN" does not select the matched string
vim-patch:8.2.1101: no error when using wrong arguments for setqflist()
vim-patch:8.1.1036: quickfix function arguments are inconsistent
vim-patch:8.1.1015: quickfix buffer shows up in list, can't get buffer number
vim-patch:8.1.0988: deleting location list buffer breaks location list window
vim-patch:8.1.0877: new buffer used every time the quickfix window is opened
vim-patch:8.1.0720: cannot easily change the current quickfx list index
vim-patch:8.1.0523: opening window from quickfix leaves empty buffer behind
Merge pull request #13038 from bfredl/multiluahl
whine
screen: untangle static and dynamic decorations
Merge pull request #12904 from erw7/vim-8.1.0431
because reasons (undefined behavior)
api: multiple decoration providers at once
Merge pull request #13081 from bfredl/usdt2
basic support for usdt probes
Merge pull request #13075 from vigoux/ts-check-parser-version
Merge pull request #13074 from janlazo/vim-8.1.1717
vim-patch:8.2.0007: popup menu positioned wrong with folding in two tabs
vim-patch:8.1.2405: matchadd_conceal test fails under valgrind
vim-patch:8.1.2303: cursor in wrong position after horizontal scroll
vim-patch:8.1.2294: cursor pos wrong with concealing and search causes a scroll
vim-patch:8.1.1717: last char in menu popup window highlighted
treesitter: check language ABI version on load
provider: update supported Python versions (#13070)
Merge pull request #13029 from aufarg/vim-8.2.1345
Merge pull request #13064 from janlazo/vim-8.1.2325
vim-patch:8.2.1488: text does not scroll when inserting above first line
vim-patch:8.2.1345: Redraw error when using visual block and scroll
vim-patch:8.2.1599: missing line end when skipping a long line with :cgetfile
vim-patch:8.1.1705: using ~{} for a literal dict is not nice
vim-patch:8.1.1692: using *{} for literal dict is not backwards compatible
vim-patch:8.1.1686: "*" of "*{" is recognized as multipy operator
vim-patch:8.1.1683: dictionary with string keys is longer than needed
vim-patch:8.1.2325: crash when using balloon with empty line
Merge pull request #13060 from janlazo/vim-8.1.2310
vim-patch:8.1.1624: when testing in the GUI may try to run gvim in a terminal
vim-patch:8.1.1619: tests are not run with GUI on Travis
vim-patch:8.1.2401: :cexpr does not handle | in expression
vim-patch:8.1.2310: no proper test for directory changes in quickfix
lua: vim.wait allows control of fast events (#13053)
Merge pull request #13037 from janlazo/runtime-typescript
Merge pull request #13054 from erw7/fix-msg-is-a-directory-on-Windows
runtime/typescript: 3d1cde8a2f28dce2c82d2b2b4c5e35e6662030e0
runtime/typescript: 91359014b359cf816bf943fe2c7d492996263def
runtime/typescript: 09c6f265b21065ffa9437837b1d0955137175e45
runtime/typescript.vim: 96f45c0b6fc9e9d404e6805593ed1e0e6795e470
Merge pull request #13042 from godlygeek/unmapped_meta_is_esc
fileio: fix "is a directory" warning on Windows
Merge pull request #13039 from janlazo/vim-8.2.1790
Merge pull request #13040 from Shougo/vim-8.2.1793
vim-patch:8.2.1793: not consistently giving the "is a directory" warning
vim-patch:8.2.1801: undo file not found when using ":args" or ":next"
vim-patch:8.1.2024: delete call commented out for debugging
vim-patch:8.1.1812: reading a truncted undo file hangs Vim
vim-patch:8.2.0665: wrongly assuming Python executable is called "python"
Treat unmapped ALT/META as ESC+c in all modes
test/vim.validate(): assert normalized stacktrace
vim.validate(): include stacktrace in message
Merge pull request #13045 from jamessan/unicode-13
Merge pull request #13023 from G-flat/pvs-v1001
PVS/V1001: Remove assignment to unused variable
Merge pull request #1 from neovim/master
PVS/V1001: Prepare for rebase
PVS/V1001: Remove assignment to unused variable
Merge pull request #12999 from PaperMountainStudio/resolv-ipv6
Update unicode files
Download emoji-data from UNIDATA/
Opts.wrap_at is sometimes a bool, ensure it falls back to a valid number in the call to math.min
Merge pull request #13026 from janlazo/vim-8.2.1779
vim-patch:8.2.0841: 'verbose' value 16 causes duplicate output
vim-patch:8.1.2143: cannot see each command even when 'verbose' is set
vim-patch:8.2.1787: crash with 'incsearch' and very long line
vim-patch:8.2.1780: statusline not updated when splitting windows
vim-patch:8.2.1779: some debian changelog files are not recognized
Fix quickfix.c warning message on EMSGN macro
Merge pull request #12968 from erw7/fix-substitute2
extmark: Change nvim_buf_set_extmark to not create undo data
undo: fix possibility of aborting
extmark: fix decoration ploblems with extmark
PVS/V1001: Add cast to return statement
PVS/V1001: Correct returned variable typo
Merge pull request #13014 from erw7/fix-fold
PVS/V1001: Remove assignment to unused variable
screen.c: fix buffer overflow due to folding
runtime: backport IPv6 support to resolv.vim
Merge pull request #12987 from janlazo/vim-8.1.1563
userfunc: abort early on invalid refs
vim-patch:8.2.0042: clearing funccal values twice
vim-patch:8.2.0499: calling a lambda is slower than evaluating a string
vim-patch:8.1.1319: computing function length name in many places
vim-patch:8.1.1591: on error garbage collection may free memory in use
vim-patch:8.1.1563: crash when using closures
vim-patch:8.2.1775: MS-Windows: adding a long quickfix list is slow (#13019)
Merge pull request #12733 from KillTheMule/lnume
Fix byte updates for blockwise paste at buffer end
bytetrack: add blockwise paste test
Fix buffer_updates on blockwise paste
LSP: Fix separator width on hover (fixes #13006, #12998) (#13007)
treesitter: add string parser (#13008)
Merge pull request #12903 from justinmk/checkcores
Merge pull request #13012 from janlazo/vim-8.1.1965
vim-patch:8.2.0840: search match count wrong when only match is in fold
vim-patch:8.1.1992: the search stat moves when wrapping at the end of the buffer
vim-patch:8.1.1980: fix for search stat not tested
vim-patch:8.1.1970: search stat space wrong, no test for 8.1.1965
vim-patch:8.1.1965: search count message is not displayed when using a mapping
Merge pull request #12996 from teto/foldcol
vim-patch:8.2.1757: Mac: default locale is lacking the encoding (#12994)
folds: pass column on fold creation
test: Fix failing test in case of special .bashrc (#12920)
vim-patch:8.2.1754: completion with spell checking not tested (#12992)
Merge pull request #12922 from AlxHnr/master
Merge pull request #12986 from janlazo/vim-8.2.1738
test/old: enable passing tests
doc: test_garbagecollect_now() was ported
vim-patch:8.2.1725: not all Pascal files are recognized
vim-patch:8.2.1088: a very long translation might cause a buffer overflow
lsp: Add vim.lsp.buf.range_code_action() (#12962)
Merge pull request #12515 from teto/remove-foldline-final
screen: more work on fold_line replacement
screen.c: remove fold_line
Merge pull request #12955 from vigoux/vim-8.2.0953
vim-patch:8.2.1678: crash when using ":set" after ":ownsyntax"
vim-patch:8.2.0956: spell test fails
vim-patch:8.2.0955: build fails
vim-patch:8.2.0953: spell checking doesn't work for CamelCased words
lsp: Handle ContentModified the same way as RequestCancelled (#12803)
Merge pull request #12888 from nguymin4/update-cfilter
funding: Bountysource Salt -> GitHub Sponsors & Open Collective [ci skip] (#12959)
Update doc
Sync cfilter 1.1 from vim
Merge pull request #12945 from jamessan/has_include-fix
Only use __has_include when it is defined
Merge pull request #12938 from janlazo/vim-8.1.0285
Merge pull request #12939 from bfredl/pastetest
vim-patch:8.1.2263: 'noesckeys' test fails in GUI
vim-patch:8.1.2261: with modifyOtherKeys set 'noesckeys' doesn't work
vim-patch:8.2.0824: still not enough memory allocated when converting string
vim-patch:8.2.0817: not enough memory allocated when converting string
vim-patch:8.1.1972: no proper test for getchar()
test: buffer updates: add visual charwise paste test
Merge pull request #12935 from vigoux/byte-change-lines
lint: is lint
util: make __asan_* prototypes available for ENHANCED printf debuging
buffer updates: fix issues with "change" operator
tests: lua buffer updates: reorg check_events()
buf_updates: fix wrong updates on linewise change
lsp: remove popup No signature available. (#12915)
buf_updates: fix updates for empty buffers (#12926)
Merge pull request #12872 from nvim-treesitter/extmarks-wrong-boundcheck
api(extmarks): allow extrange past final newline
runtime: update `g:spellfile_URL` to URL used in Vim 8
Merge pull request #12911 from vigoux/bytetrack-formatoption-ro
treesitter: filter updates on <CR>
Merge pull request #12917 from bfredl/bytes_setline
Merge pull request #12914 from janlazo/vim-8.2.1675
buf_attach: fix buffer updates with setline()
Merge pull request #12912 from nvim-treesitter/treesitter-docs
vim-patch:8.1.2222: accessing invalid memory
vim-patch:8.1.2108: cannot close the cmdline window from CmdWinEnter
vim-patch:8.2.1684: "gF" does not use line number after file in Visual mode
vim-patch:8.2.0637: incsearch highlighting does not work for ":sort!"
vim-patch:8.1.2338: using Visual mark sith :s gives E20 if not set
vim-patch:8.2.1677: memory access errors when calling setloclist() in autocommand
docs: Move treesitter docs in their own file
lsp: fix failed switch window error (#12900)
doc: Add docs for uri functions (#12887)
Merge pull request #12905 from janlazo/vim-8.1.0555
vim-patch:8.1.0489: crash when autocmd clears vimpgrep location list
vim-patch:8.1.1704: C-R C-W does not work after C-G when using 'incsearch'
vim-patch:8.1.1148: CTRL-L with 'incsearch' does not pick up char under cursor
vim-patch:8.1.0499: :2vimgrep causes an ml_get error
vim-patch:8.1.0640: get E14 while typing command :tab with 'incsearch' set
vim-patch:8.2.0902: using searchcount() in 'statusline' causes an error
vim-patch:8.1.0556: saving/restoring search patterns share saved last_idx
vim-patch:8.1.0584: with search CTRL-L does not pick up composing characters
vim-patch:8.1.0555: crash when last search pat is set but not last substitute pat
Merge pull request #12841 from bfredl/buf_do
api: add nvim_buf_call to call function with curbuf changed to buffer
Merge pull request #12851 from bfredl/luahl
luahl: temporary workaround for virt_text ownership ambiguity
luahl: global the luahl
Fix typo in treesitter docs: parser directory is `parser` not `parsers`
fix: use luahl in treesitter
luahl
Merge pull request #12883 from janlazo/vim-8.2.1640
vim-patch:8.1.0431: the qf_jump() function is too long
UI: fix cursor not displayed after hiding and un-hiding #12811
lua/check_cores(): check uname instead of TRAVIS_OS_NAME
docs: Add hint for :help vim.lsp.buf for new users (#12886)
lsp: fix lsp.buf.formatting_sync() null response (#12752)
lsp: Fix parameter markdown rendering for signature help (#12832)
docs: Use nvim-lspconfig plugin in lsp docs (#12885)
Merge pull request #12721 from aufarg/vim-8.1.0265
docs: Align help docs to match using tab (#12891)
vim-patch:8.1.1298: invalid argument test fails without X clipboard
vim-patch:8.1.1297: invalid argument test fails without GTK
vim-patch:8.1.1296: crash when using invalid command line argument
Merge pull request #12889 from vigoux/bytetrack-open-line
fix(bufupdates): avoid sending empty updates
fix(bytetrack): send correct events when opening lines
vim-patch:8.1.0552: saved last search pattern may not be restored
vim-patch:8.1.0399: 'hlsearch' highlight remains in other window
vim-patch:8.1.0392: error while typing :/foo/s// with 'incsearch' enabled
vim-patch:8.1.0356: using :s with 'incsearch' prevents CTRL-R CTRL-W
vim-patch:8.1.0351: 'incsearch' for :/foo/s//<Esc> changes last search pattern
vim-patch:8.1.0339: wrong highlight when 'incsearch' set and cancelling :s
vim-patch:8.1.0321: 'incsearch' regression: /\v highlights everything
vim-patch:8.1.0320: too much 'incsearch' highlight for pat matching everything
vim-patch:8.1.0296: command parsing for 'incsearch' is a bit ugly
vim-patch:8.1.0295: no 'incsearch' highlighting for :vimgrep and similar
vim-patch:8.1.0291: 'incsearch' highlighting not used for :sort
vim-patch:8.1.0286: 'incsearch' does not apply to :smagic and :snomagic
vim-patch:8.1.0284: 'cursorline' highlighting wrong with 'incsearch'
vim-patch:8.1.0282: 'incsearch' does not work with command modifiers
ex_docmd: merge parse_state_T with exarg_T
vim-patch:8.1.0281: parsing command modifiers is not separated
vim-patch:8.1.0280: 'incsearch' highlighting does not work for ":g!/"
vim-patch:8.1.0279: 'incsearch' highlighting does not skip white space
vim-patch:8.1.0278: 'incsearch' highlighting does not accept reverse range
vim-patch:8.1.0277: 'incsearch' highlighting wrong in a few cases
vim-patch:8.1.0275: 'incsearch' with :s doesn't start at cursor line
vim-patch:8.1.0274: 'incsearch' triggers on ":source"
vim-patch:8.1.0273: invalid memory access when using 'incsearch'
vim-patch:8.1.0271: 'incsearch' doesn't work for :s, :g or :v
vim-patch:8.1.0265: the getcmdline() function is way too big
Merge pull request #12881 from bfredl/unexecute
lua: cleanup naming conventions of executor functions
Merge pull request #12568 from nvim-treesitter/bytetrack
memline: do not attempt to cache line2byte()
tests: disable hl glitch test for now, will be fixed in luahl (next PR)
snap: Fix snapcraft builds #12879
wip trying to fix the highlighter
fix lints
treesitter: use new on_bytes interface
api/buffer: add "on_bytes" callback to nvim_buf_attach
memline: cache byte offset of current line
extmark: use resonable names in extmark_splice
extmark: separate extmark_splice_cols for column-only change
Merge pull request #12840 from vigoux/ts-hl-fixes
treesitter: revert wrong optimization in highlights
win: avoid duplicate separators in $PATH #12869
vim-patch:8.2.1635: no digraph for 0x2022 BULLET #12876
win/env: fix stdpath()/XDG_* initialization, parsing #12829
Merge #12862 snap: multiarch, support luajit where possible
Merge #12868 vim-patch:8.2.{1625,1630,1633}
vim-patch:8.2.1633: some error messages are internal but do not use iemsg()
docs: update (#12860)
UI: forward 'mousefocus' option #12863
Merge pull request #12802 from jamessan/travis-ubuntu-bump
test/helpers: Run $SYMBOLIZER to decode sanitizer logs, if it is set
Merge pull request #12858 from kyazdani42/fix/no-ts-hl-without-query-value
snap: migrate releases to snapcraft.io buils
snap: drop snapcraft push release
apply bfredl suggestion
Merge pull request #11649 from vhakulinen/fix-blank-sections-with-multigrid
Merge pull request #12826 from vigoux/ts-lua-match
version.c: update [ci skip] (#12763)
lint: just bit twiddlin'
tests: update query.list_predicates() test
treesitter: update docs on predicates
treesitter: Use excplicit names in tests
treesitter: simplify match_preds
treesitter: use lua-match? instead of match?
Invalidate grid on allction when in ext_multigrid
snap: Ensure version reflects Github release ver
snap: Match snap release to github releases
snap: adjust make command depending on architecture
Revert back to core18 for i386 support
doc: fix invalid help tags #12745
provider: align all foo#Detect() functions #12839
fix(highlight): compare rows vs columns in range highlight check (#12852)
Support for :perl, :perlfile, :perldo and perleval() (#12809)
Merge pull request #12838 from bfredl/screenshot
treesitter: check hl group exists before passing it in nvim_get_hl_id_by_name
vim-patch:8.2.1586: :resize command not fully tested (#12853)
healtcheck: use g:perl_host_prog if its set instead
nvim__screenshot
Merge pull request #12788 from bfredl/nulloffset-1
robustness: avoid adding offset to NULL pointer
treesitter: update runtime
Merge pull request #12850 from bfredl/oopsie
API: be less breaking in the christmas tree decorations
ci: Try to recover from sanitizer issues
Merge pull request #12847 from nvim-treesitter/ts-list-predicates
suggest_trie_walk: Remove invalid FALLTHROUGH annotation
travis: Install clang-11 for ASAN/UBSAN job
travis: Relax pyenv versions to 2.7:3.8
travis: Install powershell via "snaps" addon
travis: Bump Linux dist to bionic
Merge pull request #12816 from vigoux/decorations
Merge pull request #12848 from jamessan/vim-8.2.1552
treesitter: allow to list supported predicates
vim-patch.sh: Fix PR subject with multiple patches
lint
vim-patch:8.2.1560: using NULL pointers in some code
vim-patch:8.2.1553: crash in edit test
vim-patch:8.2.1552: warnings from asan with clang-11
treesitter: update to use buf_set_extmark
decor: sketch new decorations API
only perl 5.22+ is supported
import legacy perl interface tests
added perleval() documentation
document that the perl legacy interface is now also supported
extmark: move id to dict in nvim_buf_set_extmark
extmark: refiy "Decoration" abstraction
Merge #12827 'vim-patch:8.2.{1554,1561,1564,1565,1566}'
vim-patch:8.2.1564: a few remaining errors from ubsan
vim-patch:8.2.1566: not all Bazel files are recognized
vim-patch:8.2.1565: spellfile test sometimes fails
vim-patch:8.2.1561: using NULL pointers in fold code
vim-patch:8.2.1554: crash in normal test
Merge #12468 'lsp: logging'
lsp/make_position_param(): handle empty buffer #12825
eval_call_provider(): free unused return value #12819
Merge pull request #12814 from theHamsta/escape-queries
Merge pull request #12736 from vigoux/ts-iter-children
g:clipboard: allow command given as a list #12775
treesitter: add node:field() to get field children
build/FindLua.cmake: allow Lua 5.4 #12820
treesitter: avoid escaping complete query strings
Merge pull request #12804 from janlazo/vim-8.1.1725
treesitter: allow to iterate over node children
fix(win): ignore closing wins in win_findbuf #12798
docs, remove 'guifontset' #11708
lsp: Fix bad sortText comparison (#12485)
vim-patch:8.2.1548: cannot move position of "%%" in message translations
vim-patch:8.1.1694: the RUN_VIM variable is longer than needed
vim-patch:8.1.2041: no test for diff mode with syntax highlighting
vim-patch:8.1.1831: confusing skipped message
vim-patch:8.1.2206: no test for fixed issue vim/vim#3893
vim-patch:8.1.1806: test for display updating doesn't check without statusline
vim-patch:8.1.1804: no test for display updating without a scroll region
vim-patch:8.1.1776: text added with a job isn't displayed
vim-patch:8.1.2198: crash when using :center in autocommand
vim-patch:8.2.1315: MS-Windows: test log contains escape sequences
vim-patch:8.2.1033: not easy to read the test time in the test output
vim-patch:8.1.1725: MS-Windows: E325 message may use incorrect date format
Merge #12815 'snap: update, fix build issues'
snap: don't run snapcraft under sudo
document that the perl provider doesn't currently work on Windows
support for :perl, :perlfile, :perldo and perleval()
Snapcraft: Use lua instead of luajit for arm64
Snapcraft: Build with Debug Info
Add missing dependencies for Launchpad builds
Bump to core20
l10n: Update Ukrainian translation (#12785)
Merge #12794 'tui: Fixing problems with GNU Screen'
Merge pull request #12797 from clason/libvterm-0.1.4
bump libvterm to 0.1.4
Revert "tui: improve support for GNU Screen (#12098)"
Revert "tui: Fix italics when $TERM is screen in tmux #12199"
Merge pull request #12510 from jamessan/clang-implicit-fallthrough
lsp: add key name to the output log value
lsp: remove output log at rpc.notify
Merge pull request #12708 from runiq/lsp-doc
Merge pull request #12786 from janlazo/vim-8.1.1516
spell_load_file: Add missing "goto endFAIL" if spellfile is not readable
Disable -Wimplicit-fallthrough for tree_sitter/
Disable -Wimplicit-fallthrough for funcs.generated.h
vim-patch:8.1.2275: using "seesion" looks like a mistake
vim-patch:8.2.1517: cannot easily get the character under the cursor
vim-patch:8.2.0423: in some environments a few tests are expected to fail
vim-patch:8.1.2364: termwinscroll test is flaky on FreeBSD
vim-patch:8.1.2089: do not get a hint that $TEST_FILTER was active
vim-patch:8.1.2051: double-click test is a bit flaky
vim-patch:8.1.1677: tests get stuck when running into an existing swapfile
vim-patch:8.1.1516: time reported for a test measured wrong
gen_vimdoc: Allow to keep intermediary output
Add FIXMEs
Add docs for most vim.lsp methods
Merge pull request #12770 from janlazo/vim-8.1.1115
vim-patch:8.2.1511: putting a string in Visual block mode ignores multi-byte
vim-patch:8.2.0814: clang warning for implicit conversion
vim-patch:8.2.0607: gcc warns for using uninitialized variable
vim-patch:8.1.2267: compiler warning for uninitialized variable
vim-patch:8.2.1472: ":argdel" does not work like ":.argdel" as documented
vim-patch:8.2.1476: filetype test fails on MS-Windows
vim-patch:8.2.1474: /usr/lib/udef/rules.d not recognized as udevrules
vim-patch:8.1.1115: cannot build with older C compiler
vim-patch:8.2.1471: :const only locks the variable, not the value (#12765)
runtime/tex.vim: patch to 2547aa930b59 #12504
defaults: sessionoptions+=unix,slash #12760
Merge pull request #12713 from janlazo/vim-8.2.1347
version.c: update [ci skip] (#12662)
tui: fix pvs/v728
shada: fix pvs/v1004
userfunc: fix pvs/v547
fixup! mksession: always unix slashes "/" for filepaths
ex_docmd: replace #define with enum
fixup! vim-patch:68e6560b84f1
vim-patch:8.2.1458: .gawk files not recognized
vim-patch:8.2.1441: running tests in tiny version gives error for summarize.vim
vim-patch:8.2.1438: missing tests for interrupting script execution from debugger
vim-patch:8.2.1410: adding compiler plugin requires test change
vim-patch:8.2.1409: nmpmrc and php.ini filetypes not recognized
vim-patch:8.1.2098: mksession test fails on MS-Windows
vim-patch:8.1.2097: :mksession is not sufficiently tested
vim-patch:8.2.1386: backslash not removed afer space with space in 'isfname'
vim-patch:8.2.1379: curly braces expression ending in " }" does not work
vim-patch:8.2.1377: triggering the ATTENTION prompt causes typeahead mess up
vim-patch:8.2.1369: MS-Windows: autocommand test sometimes fails
vim-patch:8.2.1364: invalid memory access when searching for raw string
vim-patch:8.2.1361: error for white space after expression in assignment
vim-patch:8.2.1360: stray error for white space after expression
vim-patch:8.2.1347: cannot easily get the script ID
vim-patch:8.1.2341: not so easy to interrupt a script programatically
vim-patch:8.1.1674: script to check a colorscheme can be improved
vim-patch:8.1.0573: cannot redefine user command without ! in same script
lua: add vim.register_keystroke_callback (#12536)
Merge pull request #12739 from vigoux/ts-refactor-predicates
treesitter: allow to force predicate addition
treesitter: update docs on predicates
treesitter: add predicate negation
treesitter: add and test vim-match? predicate
treesitter: add contains? predicate
treesitter(docs): update and refresh docs
treesitter: refactor and use lua regexes
Stop bailing out of msgpack_parse if we see a response
Merge pull request #12731 from jamessan/libcallnr
Merge pull request #12632 from tjdevries/tjdevries/packadd_lua
fix: runtimepath always updates lua package.path
Merge pull request #12621 from Shougo/vim-8.1.1564
Remove unused function (#12719)
man.vim: Add - to 'iskeyword' (#12598)
Merge remote-tracking branch 'upstream/master' into libcallnr
libcall: Use "int" for number argument
Merge pull request #12701 from erw7/fix-sattr-t-overflow
Merge pull request #12665 from janlazo/vim-8.2.1254
vim-patch:8.1.0264: backup tests fail when CWD is in /tmp
vim-patch:8.1.0255: backup test fails when using shadow directory
options: fix 'isident' for Windows
vim-patch:8.1.0862: no verbose version of character classes
tests/terminal/tui: wait 1ms to avoid data race in FreeBSD
vim-patch:8.2.1295: tests 44 and 99 are old style
vim-patch:8.2.1292: AIDL filetype not recognized
vim-patch:8.1.2340: quickfix test fails under valgrind and asan
vim-patch:8.1.1202: always get regexp debugging logs when building with -DDEBUG
vim-patch:8.1.0194: possibly use of NULL pointer
vim-patch:8.1.0192: executing regexp recursively fails with a crash
vim-patch:8.2.1267: MS-Windows: tests may fail due to $PROMPT value
vim-patch:8.2.1265: crash with EXITFREE when split() fails
vim-patch:8.2.1259: empty group in 'tabline' may cause using an invalid pointer
vim-patch:8.2.1004: line numbers below filler lines not always updated
vim-patch:8.2.0072: memory test still fails on Cirrus CI
vim-patch:8.1.2172: spell highlight is wrong at start of the line
vim-patch:8.0.1774: reading very long lines can be slow
vim-patch:8.2.1254: MS-Windows: regexp test may fail if 'iskeyword' set wrongly
Merge pull request #12700 from jamessan/fileinfo-garbage
ui: fix problem with sattr_T overflow
Merge remote-tracking branch 'upstream/master' into fileinfo-garbage
fs: Ensure FileInfo struct is initialized
Merge pull request #12699 from jamessan/getn
shada: fix failed assertion on exit (#12692)
lua: Use #var instead of deprecated table.getn(var)
luacheck: Enforce compatibility with Lua5.1
Revert "lsp: Fix text edits with the same start position (#12434)" (#12564)
ui: fix problem with the popupmenu when rightleft is set
Merge pull request #12685 from BigPeet/vim-patch-8.2.1252
vim-patch:8.2.1252: ":marks" may show '< and '> mixed up
Merge pull request #12687 from erw7/fix-terminal-overflow
terminal: fix terminal attribute overflow
Merge pull request #12673 from erw7/fix-tv-dict-add-str
script: simplify python version check (#12672)
build: remove duplicate empty CONFIGURE_COMMAND (#12676)
ci: fix build failure in Travis [skip appveyor] (#12678)
typval: fix incompatibility with vim
vim-patch:8.1.1570: icon signs not displayed properly in the number column
vim-patch:8.1.1564: sign column takes up space
vim-patch:8.1.1712: signs in number column cause text to be misaligned
vim-patch:8.1.1623: display wrong with signs in narrow number column
vim-patch:8.1.1564: sign column takes up space
Merge pull request #12646 from vigoux/ts-fix-tilde
Merge pull request #12654 from cbarrete/nomodifiable-hover
buffer_updates: prefer using ml_add_deleted_len_buf
buffer_updates: emit valid old_byte_size
man.vim: Simplify man#init to reduce load time (#12482)
Merge pull request #12575 from cbarrete/vim-8.2.0935
Fix documentation
Make the window `nomodifiable` when it's created
LSP: make the hover window nomodifiable
Merge pull request #12653 from erw7/fix-build-freebsd-ci
eval: improve ex_execute (#12445)
build: Fix build failure with CI in FreeBSD
lua: Fix crash on unprotected lua errors (#12658)
doc: Add documentation for some `vim.lsp.buf` functions (#12552)
Fix / improve report messages (#12396)
Merge pull request #12480 from nhooyr/mansect-trim
Merge pull request #12448 from erw7/fix-shada-write-error-on-exit
tui.c: augment_terminfo: remove unused colorterm argument (#12602)
build: fix a problem with the static library name (#12591)
Merge pull request #12611 from janlazo/vim-8.0.1531
startup: fix stall issue with -D options (#12652)
vim-patch:8.2.1222: using valgrind in Vim command started by test doesn't work
vim-patch:8.2.1211: removed more than dead code
vim-patch:8.2.0539: comparing two NULL list fails
vim-patch:8.2.0899: assert_equalfile() does not give a hint about the difference
vim-patch:8.2.0893: assert_equalfile() does not take a third argument
vim-patch:8.1.0819: a failed assert with a long string is hard to read
vim-patch:8.2.0895: :mkspell output does not mention the tree type
vim-patch:8.2.0894: :mkspell can take very long if the word count is high
vim-patch:8.2.0420: Vim9: cannot interrupt a loop with CTRL-C
vim-patch:8.2.1170: cursor off by one with block paste while 'virtualedit' "all"
vim-patch:8.2.1169: write NUL past allocated space using corrupted spell file
lsp: Add support for call hierarchies (#12556)
Prevent `flatten` from taking a null list
vim-patch:8.2.0937: asan failure in the flatten() test
vim-patch:8.2.0935: flattening a list with existing code is slow
Reuse inccommand preview window (fix #11529) (#12612)
Merge pull request #12507 from tjdevries/tjdevries/viml_lua_callbacks
lua: Add ability to pass tables with __call
lua: Add ability to pass lua functions directly to vimL
Merge pull request #12590 from nvim-treesitter/ts-fix-highlight
treesitter: add parser on_lines callbacks
treesitter: cache the capture hl relation
treesitter: update test to show overlapping works
treesitter: use change calbacks on redraw
treesitter: call bufload before parsing (#12603)
doc: Add information about lua function calls (#12574)
doc: mention that defer_fn applies schedule_wrap (#12601)
Merge pull request #12538 from janlazo/vim-8.2.1055
lua: add options to highlight.on_yank (#12549)
lsp: add optional vertical padding, maximal size to floats (#12444)
vim-patch:8.1.0093: non-MS-Windows: Cannot interrupt gdb when program is running
vim-patch:8.2.1104: Coverity warnts for possible NULL pointer use
vim-patch:8.2.1089: Coverity warns for pointer computation
vim-patch:8.2.1095: may use pointer after freeing it
vim-patch:8.2.1060: not all elinks files are recognized
'clang/Logic error': use enums to avoid undefined array subscript
vim-patch:8.1.1372: when evaluating 'statusline' the current window is unknown
vim-patch:8.2.1055: no filetype set for pacman config files
Merge pull request #12531 from BK1603/autoread-tui
removed test file
version.c: update [ci skip] (#12581)
removed whitespace
removed retry
clarified the reason for wait
replaced sleep with a changed mtime for the test file
removed unnecessary feed calls
doc: fix scripts and regenerate (#12506)
docs: Describe how to escape keycodes with nvim_feedkeys (#12484)
Added test
Update file on focus gained
Added healt check for tmux focus events
version.c: update [ci skip] (#12524)
lsp: Use nvim_buf_get_lines in locations_to_items and add more tests (#12357)
Merge pull request #12491 from vigoux/treesitter-set-ranges
treesitter: use single nodes in set_ranges
treesitter: separate tests into smaller pieces
treesitter: fix lint
treesitter: use nodes to mark ranges
treesitter: add some documentation for parsers
treesitter: fix some clint errors
treesitter: test newly added set_included_ranges
treesitter: add set_included_ranges to the parser
Merge pull request #12567 from teto/wordcount_doc_fix
doc: fix wordcount description
LSP: Set current name as default rename text (#12553)
Merge pull request #12252 from dlukes/formatting-sync
Merge pull request #12133 from bradking/syntax-fold
vim-patch:8.2.1044: not all systemd file types are recognized (#12527)
vim-patch:8.2.0865 syntax: Add command to control how foldlevel is computed
vim-patch:8.2.1041: test summary is missing executed count (#12519)
lsp: when apply text edits, set buflisted on buffers (#12489)
syntax: Factor out duplicate E390 strings
syntax: factor out helper to compute the syntax-based foldlevel
treesitter: simplify puhstree call process
terminal: preserve mode when using <Cmd>wincmd in terminal mode (#12254)
main.c: fix hang issue with recoverymode (#12496)
Merge pull request #12455 from janlazo/vim-8.0.1554
eval: fix assertion failure in garbage collection (#12436)
lsp: Add sync variant of LSP formatting
version.c: update [ci skip] (#12391)
neovim-qt: bump to version 0.2.16 (#12508)
vim-patch:8.2.0999: moving to next sentence gets stuck on quote
vim-patch:8.2.0998: not all tag code is tested
vim-patch:8.2.0983: SConstruct file type not recognized
vim-patch:8.2.0980: raku file extension not recognized
vim-patch:8.2.0964: TextYankPost does not provide info about Visual selection
vim-patch:8.2.0963: number increment/decrement does not work with 'virtualedit'
vim-patch:8.2.0966: 'shortmess' flag "n" not used in two places
vim-patch:8.2.0954: not all desktop files are recognized
vim-patch:8.1.1977: terminal debugger plugin may hang
vim-patch:8.2.0938: NFA regexp uses tolower ()to compare ignore-case
option: fix pvs/v547
eval: fix pvs/v547
vim-patch:8.2.0932: missspelling spelllang
vim-patch:8.2.0930: script filetype detection trips over env -S argument
vim-patch:8.2.0927: some sshconfig and ssdhconfig files are not recognized
vim-patch:8.0.1554: custom plugins loaded with --clean
lsp: Add new highlight groups used in show_line_diagnostics (#12473)
Merge pull request #12497 from leun4m/patch/tex-runtime
tex.vim: patch runtime/indent to 388a5d4f20b4
tex.vim: patch runtime to 65e0d77a66b7
tex.vim: patch runtime to 388a5d4f20b4
tex.vim: patch runtime to 1d9215b9aaa1
Merge pull request #12342 from h-michael/fix-doc
doc: fix vim.api.nvim_buf_attach callback arguments
Merge pull request #12469 from h-michael/request
Fix highlight group names in LSP documentation (#12427)
lsp: Fix text edits with the same start position (#12434)
man.vim: Remove unnecessary code
man.vim: Fix tagfunc to respect b:man_default_sects
man.vim: Refactor verify_exists to unset $MANSECT as needed
lsp: Add `BufLeave` to `close_preview_autocmd` function call (#12477)
test: Fix ignored LSP tests (#12470)
lsp: Fix #12449 textDocumentSync.save can be boolean. Access textDocumentSync.save.includeText only if table. (#12450)
lsp: even if contents before change is 0 byte, request to server
Merge pull request #12467 from h-michael/issue-template
issue template: fix label syntax for lsp bug report
Merge pull request #12461 from h-michael/issue-template
add GitHub issue template for lsp
Merge pull request #11819 from erw7/fix-dot-net-stdin
Add overlapped option to jobstart
vim-patch:8.2.0920: writing viminfo fails with a circular reference
Merge pull request #12376 from erw7/fix-stack-overflow-on-input-enqueue
shada: fix write E5004 error on exit
Merge pull request #12192 from Billy4195/vim-8.2.0629
vim-patch:8.2.0629: setting a boolean option to v:false does not work
vim-patch:8.2.0111: VAR_SPECIAL is also used for booleans
Merge pull request #12321 from vigoux/treesitter-runtime
Merge pull request #12416 from teto/openbsd_fix
Merge pull request #12413 from janlazo/vim-8.2.0089
Merge pull request #12411 from kuuote/fix-remote-plugin-command
test: remove flaky unhelpful test
ci: bump openbsd image 6.5 -> 6.7
vim-patch:8.2.0905: test coverage could be better
vim-patch:8.2.0892: ubsan warns for undefined behavior
vim-patch:8.1.2335: error message for function arguments may use NULL pointer
vim-patch:8.2.0491: cannot recognize a <script> mapping using maparg()
vim-patch:8.2.0873: a .jl file can be sawfish (lisp) or Julia
vim-patch:8.1.2018: using freed memory when out of memory and displaying message
vim-patch:8.1.1895: using NULL pointer when out of memory
vim-patch:8.0.1564: too many #ifdefs
vim-patch:8.1.0917: double free when running out of memory
vim-patch:8.2.0089: crash when running out of memory in :setfiletype completion
lsp: do not process diagnostics for unloaded buffers (#12440)
lsp: compute height of floating preview correctly for wrapped lines (#12380)
lsp: Add check for `declaration` and `typeDefinition` support in vim lsp server before making `request` (#12421)
lua: fix behavior when split empty string (#12429)
build: match WSL2 kernel name (#12425)
Merge pull request #12343 from ndreas/fix/lsp-multibyte-indexing
treesitter: update runtime
treesitter: fix tests
Add v:event.visual during `TextYankPost` (#12382)
lua: fix infinite loop for vim.split on empty string (#12420)
treesitter: enhance script and add README
treesitter: add update script and update runtime
treesitter: update runtime
lua: add vim.highlight.range (#12401)
vim-patch.sh: fix bash version-check message #12398
test: rewrite to multiple arguments
runtime: fix remote plugin command fails at some case
vim-patch:8.2.0843: filetype elm not detected (#12403)
Merge pull request #12348 from tjdevries/luawait
lua: vim.wait implementation
lua: vim.wait initial outline
provider: Fix ruby checkhealth error for Windows (#12400)
API: nvim_create_buf: unset 'modeline' in scratch-buffer #12379
lua: simple snippet support in the completion items (#12118)
lsp: add preview_location util function (#12368)
lsp: make the command error message more detailed (#11633)
Merge pull request #11803 from erw7/virtual-terminal-input
[squash] fix comment [skip ci]
deps: update libuv
win/TUI: enable mouse on ConEmu and vtpcon without vti
win: use virtual terminal input (VTI) if available #11803
Merge pull request #10905 from erw7/vim-8.1.0475
eval: fix problem with free_unref_funccal not being called
vim-patch:8.1.1485: double free when garbage_collect() is used in autocommand
vim-patch:8.1.1484: some tests are slow
nvim_input: add test
input: fix stack overflow
Merge pull request #12367 from h-michael/lsp-log
vim-patch:8.0.1668: terminal debugger: can't re-open source code window (#12329)
vim-patch:8.1.2233: cannot get the Vim command line arguments (#12117)
Merge pull request #12327 from janlazo/vim-8.2.0766
lsp: change log name to "lsp.log" from "vim-lsp.log"
doc: Add optional d for `:lcd` and `:tcd` (#12359)
vim-patch:8.2.0810: error when appending "tagfile" to 'wildoptions'
vim-patch:8.2.0037: missing renamed message
vim-patch:8.2.0036: not enough test coverage for match functions
vim-patch:8.1.2228: screenpos() returns wrong values when 'number' is set
vim-patch:8.2.0766: display error when using 'number' and 'breakindent'
Change uri_to_fname to not convert non-file URIs (#12351)
LSP: Don't swallow bufnr argument from callbacks (#12350)
fixed hang issue with --headless and -r option specified (#12209)
provider: Add python3.9 to autoload/provider/pythonx.vim (#12344)
Add tests for jump_to_location
Use get_line_byte_from_position in jump_to_location
Refactor fetching the line byte
Merge pull request #12338 from h-michael/fix-flaky
lsp: fix get diagnositcs
test: fix flaky vim.defer_fn test
lua: Add highlight.on_yank (#12279)
doc: Vim internal variables & options in lua (#12302)
lsp: Fix timezone format of LSP log (ISO 8601) (#12332)
lsp: Handle end lines in apply_text_edits (#12314)
lua: add tbl_deep_extend (#11969)
matchdelete: fix porting (#12328)
vim-patch:8.1.1084: cannot delete a match from another window (#12325)
Merge pull request #12324 from alindeman/nil-code-actions
Check for nil before checking for empty table
LSP: Add textDocument/codeAction support (#11607)
Merge pull request #11764 from blueyed/vim-patch-usage
Merge pull request #12259 from janlazo/vim-8.1.1186
LSP: Add workspace.applyEdit client capabilities (#12313)
lsp: fix bug when documentEdit version=null for unattached buffer (#12272)
vim-patch:8.2.0736: some files not recognized as pamenv
vim-patch:8.2.0309: window-local values have confusing name
vim-patch:8.2.0308: 'showbreak' does not work for a very long line
vim-patch:8.2.0713: the pam_environment file is not recognized
vim-patch:8.2.0705: indent tests don't run on CI for FreeBSD
vim-patch:8.1.1186: readdir() allocates list twice
LSP: Make applyEdit return a response (#12270)
Merge #12275 from erw7/profile-fix-use-after-free
test: add more profile tests
viml/profile: fix issue where profile is not reset on stop
viml/profile: fix use after free
runtime/tutor: fix broken inline spans #12282
lsp: Make apply_text_edits non-ASCII safe (#12223)
lsp: Handle unknown CompletionItemKind and  SymbolKind (#12257)
lua: Add buffer, window and tab accessors (#12268)
lsp: set buflisted when jumping to location (#12253)
vim-patch:8.1.1435: memory usage test is a bit too flaky
vim-patch:8.1.1058: memory usage test may still fail on some systems
vim-patch:8.1.1037: memory usage test may still fail on some systems
vim-patch:8.1.1033: memory usage test may still fail on some systems
vim-patch:8.1.1031: memory usage test may still fail
vim-patch:8.1.1027: memory usage test sometimes fails
vim-patch:8.1.1007: using closure may consume a lot of memory
vim-patch:8.1.0475: memory not freed on exit when quit in autocmd
Merge #12203 from janlazo/vim-8.2.0648
vim-patch:8.1.1120: cannot easily get directory entry matches #12222
paste: support replace mode (#11945)
tag: fix problem when tagfunc return value is v:null (#12251)
Merge #12230 'fix :terminal flicker with scrolloff'
terminal: disable 'scrolloff' (fixes flicker)
terminal: always return zero from get_scrolloff_value() #12230
lsp: fix tagstack for location jump #12248
LSP: Avoid URI-to-fname conversion for non-file URIs #12243
checkhealth/ruby: fix off-by-one error #12245
funcs: Fix a memory leak in f_expand (#12227)
Merge pull request #12237 from h-michael/vim-nil
lsp: add a lsp.util.apply_text_edits test(pending)
lsp: fix apply_text_document_edit test
vim-patch:8.2.0692: startup test fails on MS-Windows
vim-patch:8.2.0691: startup test fails
vim-patch:8.2.0688: output clobbered if setting 'verbose' to see shell commands
vim-patch:8.2.0681: pattern for 'hlsearch' highlighting may leak
vim-patch:8.2.0678: rare crash for popup menu
vim-patch:8.2.0663: not all systemd temp files are recognized
vim-patch:8.1.0868: crash if triggering garbage collector after a function call
vim-patch:8.1.0800: may use a lot of memory when a function refers itself
vim-patch:8.1.1581: shared functions for testing are disorganised
vim-patch:8.2.0649: undo problem whn an InsertLeave autocommand resets undo
vim-patch:8.2.0648: semicolon search does not work in first line
lsp: fixup workspace symbol capabilities (#12233)
Merge pull request #12228 from h-michael/fix-docsyms-to-items
Merge pull request #12229 from Billy4195/vim-8.1.0814
lsp: add workspace/symbol (#12224)
LSP: Support LocationLink (#12231)
vim-patch:8.1.0816: test for 'runtimepath' in session fails on MS-Windows
vim-patch:8.1.0814: :mksession cannot handle a very long 'runtimepath'
lsp: add lsp.util.symbols_to_items test
lsp: fix lsp.util.symbols_to_items
[LSP] check for vim.NIL and add apply_text_document_edit tests
version.c: update [ci skip] #12196
build: Inherit -n and -jN flags if Ninja #12219
doc/UI: mode_info_set: mention colors should be swapped #12211
treesitter: unknown predicates always match #12173
Merge pull request #12204 from archseer/lsp-user-data
LSP: enable using different highlighting rules for LSP signs (#12176)
lsp/completion: Expose completion_item under completed_items.user_data.
vim-patch:8.2.0084: complete item "user_data" can only be a string
LSP: support tagstack #12096
lsp: use vim.tbl_isempty to check sign (#12190)
tui: Fix italics when $TERM is screen in tmux #12199
Merge pull request #11943 from yatli/master
api/ui: simplify popup menu position get/set logic; fix test
api/ui: allow set bounds row and col to be less than 0; ui_pum_get_pos: return first extui bounds information instead of reducing
gen_api_dispatch.lua: allow msgpack int for Float args; test: add ui_pum_set_bounds and tv_dict_add_float tests
external pum: use floating point geometry; typval: add tv_dict_add_float
ui_pum_get_pos: return internal pum position if external pum pos not found
API/UI: Allow UI to set PUM position and size, and pass the position to CompleteChanged
Merge pull request #12018 from janlazo/vim-8.0.1123
Merge #11851 'eval.c: factor out eval/userfunc.c'
Merge #12155 ':ls filter by terminal, lastused'
Merge #11851 'eval.c: factor out eval/userfunc.c'
vim-patch:8.0.1375: window size wrong after maximizing with WinBar
vim-patch:8.1.1264: crash when closing window from WinBar click
vim-patch:8.0.1139: using window toolbar changes state
vim-patch:8.0.1334: splitting a window with a WinBar damages window layout
vim-patch:8.0.1292: quick clicks in the WinBar start Visual mode
vim-patch:8.0.1138: click in window toolbar starts Visual mode
vim-patch:8.0.1142: window toolbar menu gets a tear-off item
vim-patch:8.0.1125: wrong window height when splitting window with window toolbar
vim-patch:8.0.1123: cannot define a toolbar for a window
LSP: don't redefine LspDiagnostics signs #12164
LSP: Fix show_line_diagnostics #12186
lint: use docstring style #12187
LSP: Add a check for null version in VersionedTextDocumentIdentifier (#12185)
tui: improve support for GNU Screen (#12098)
Merge #12177 'folds: decrease reliance on globals'
LSP: remove obsolete "peek definition" code #12178
TUI: block signals on suspend #12180
Merge #12181 from janlazo/vim-8.2.0635
ci/travis: Enable ipv6 #12182
vim-patch:8.2.0638: MS-Windows: messages test fails
vim-patch:8.2.0635: when using 256 colors DarkYellow does not show expected color
LSP: Expose diagnostics grouped by bufnr (#11932)
lsp: remove buffer version on buffer_detach (#12029)
version.c: update [ci skip] (#12084)
helpers: fix FIXED_TEMP_ARRAY
lint: fix linting issues
extmark: introduce extmark_splice_cols
folds: decrease reliance on global 'curwin'
lsp: callback for references now opens qf (#12171)
treesitter: check for integer overflow (#12135)
Merge pull request #12081 from xylix/bash-version-check
vim-patch:8.1.2225: the "last used" info of a buffer is under used
terminal: Fix mouse coordinates issue (#12158)
lsp: do not assert even if the code does not exist in ErrorCodes (#11981)
lsp: textDocument/definition can return Location or Location[] (#12014)
doc: fix vim.lsp.stop_all_clients doc (#12055)
Merge pull request #12108 from mcepl/luv-1.18.0-compat
Test on actual libuv version number, not on existence of symbol.
Make neovim building even with libuv 1.18.0
Merge pull request #11989 from Weypare/textEdit
test: add docs for get_completion_word test
test: add get_completion_word test for text_doc...
tui: Don't call uv_write without output (#12146)
LSP/completion: Add completion text helper function
lsp: export convert_signature_help_to_markdown_lines (#11950)
vim-patch:8.0.1651: cannot filter :ls output for terminal buffers
vim-patch:7.4.1988
Merge pull request #12047 from erw7/fix-resolve-on-windows
lua: allow deepcopy of functions (#12136)
lsp: replace the event that closes the signature help preview window from InsertCharPre to CursolMovedI (#11954)
LSP: fix breakage when severity isn't specified (#12027)
Merge pull request #12141 from vigoux/treesitter_fix
treesitter: remove utf8proc dependency
treesitter: escape backslashes in queries
treesitter: update vendor code
Merge pull request #12145 from janlazo/vim-8.2.0584
vim-patch:8.2.0589: .bsd file type not recognized
vim-patch:8.2.0584: viminfo file uses obsolete function file_readable()
folds: decrease reliance on global "curwin" (#12132)
doc:Fix incorrect nvim config paths in documentation (#12134)
lsp: provide a default for missing reference kind (#12127)
win,runtime: Fix problem when win32yank was a symbolic link in WSL [skip ci] (#12124)
Merge pull request #12005 from erw7/fix-screen-vsplit
Merge pull request #12121 from janlazo/vim-8.2.0575
vim-patch:8.2.0575: :digraph! not tested
Suppress Microsoft copyright banner. (#12114)
Use libnvim as OUTPUT_NAME for libnvim (#12119)
TUI: support setting cursor color in tmux (#12100)
Merge pull request #11997 from janlazo/vim-8.1.2389
vim-patch:8.2.0549: user systemd files not recognized
vim-patch:8.2.0544: memory leak in search test
vim-patch:8.2.0507: getbufvar() may get the wrong dictionary
vim-patch:8.2.0473: variables declared in an outer scope
vim-patch:8.2.0134: some map functionality not covered by tests
vim-patch:8.2.0474: cannot use :write when using a plugin with BufWriteCmd
vim-patch:8.2.0464: typos and other small problems
vim-patch:8.2.0457: Test_quotestar() often fails when run under valgrind
vim-patch:8.1.1745: compiler warning for unused argument
vim-patch:8.2.0415: bsdl filetype is not detected
vim-patch:8.2.0406: FileReadCmd event not well tested
vim-patch:8.1.2282: crash when passing many arguments through a partial
vim-patch:8.1.2280: crash when passing partial to substitute()
vim-patch:8.2.0398: profile test fails when two functions take same time
vim-patch:8.2.0397: delayed screen update when using undo from Insert mode
vim-patch:8.2.0041: leaking memory when selecting spell suggestion
vim-patch:8.1.2147: crash when allocating memory fails
pvs/v502: use explicit ternary in for-loop
vim-patch:8.2.0389: delayed redraw when shifting text from Insert mode
vim-patch:8.2.0387: error for possible NULL argument to qsort()
pvs/v595: check if extmark not NULL
pvs/v560: remove redundant line check
vim-patch:8.2.0381: using freed memory with :lvimgrep and autocommand
vim-patch:8.2.0365: tag kind can't be a multi-byte character
vim-patch:8.2.0366: hardcopy command not tested enough
Merge pull request #12073 from janlazo/vim-8.2.0027
vim-patch:8.2.0560: compiler warning in tiny build
vim-patch:8.2.0027: still some /* */ comments
vim-patch:8.1.2387: using old C style comments
vim-patch:8.1.2378: using old C style comments
vim-patch:8.1.2366: using old C style comments
vim-patch:8.1.2389: using old C style comments
Merge pull request #12033 from janlazo/vim-8.1.1313
netrw.vim: gx should ignore terminal buffers #12091
Apply suggestions from code review
Check for bash version in vim-patch.sh
version.c: update [ci skip] #11995
Merge pull request #12074 from jamessan/vim-patch-review
Change to canonicalize only when reparse point in included
Change resolve() to resolve symbolic links on Windows
Merge pull request #11748 from bfredl/viewport
api/ui: win_viewport event for visible range and cursor position in window
vim-patch.sh: Fix creation of commit list for PR review
vim.uri: fix uri_to_fname (#12059)
vim-patch:8.1.1568: strftime() test fails on MS-Windows
vim-patch:8.1.1567: localtime_r() does not respond to $TZ changes
vim-patch:8.1.1313: warnings for using localtime() and ctime()
Merge pull request #11746 from Billy4195/add_wildmenu_key
doc: Fix wildmenu doc inconsistencies and typos
Merge pull request #12043 from bfredl/pumrl
popupmenu: don't use 'rightleft' option in cmdline mode
Merge pull request #12030 from erw7/fix-tui-access-global-var
Merge pull request #12026 from jamessan/s390x-travis
TUI: do not use "nvim_get_option" in tui thread
Install gettext for msgfmt/msgmerge
Set FUNCTIONALTEST=functionaltest-lua for s390x
Install pynvim with --user to avoid permission issues
Add big-endian, s390x job to Travis
vim-patch:8.1.0864 Make 'scrolloff' and 'sidescrolloff' options window local (#11854)
Merge pull request #11927 from Jesse-Bakker/lsp-buf-version
Fix screen terminal family issues
Fix splitting issue on gnu screen
Merge #11977 from janlazo/vim-8.1.1279
vim-patch:8.2.0361: internal error when using "0" for a callback
version.c: update
vim-patch:8.2.0360: yaml files are only recognized by the file extension
vim-patch:8.1.1279: cannot set 'spellang' to "sr@latin"
Revert "ci/Appveyor: install diffutils via scoop"
LSP/completion: add textEdit support
diff.c: fix sprintf call
lsp: make showMessage and logMessage callbacks different (#11942)
Merge pull request #11716 from teto/folds_auto_backup
updating doc
lua: add vim.tbl_len() #11889
version.c: update [ci skip] #11721
Merge #11929 from janlazo/vim-8.1.1510
vim-patch:8.1.1793: mixed comment style in globals
vim-patch:8.1.1108: test for 'visualbell' doesn't work
vim-patch:8.1.1107: no test for 'visualbell'
vim-patch:8.2.0108: when sign text is changed a manual redraw is needed
vim-patch:8.1.0939: no completion for sign group names
vim-patch:8.1.1552: cursor position is wrong after sign column changes
vim-patch:8.1.1489: sign order wrong when priority was changed
vim-patch:8.1.1466: not updating priority on existing sign
vim-patch:8.1.0896: tests for restricted mode no run for MS-Windows GUI
vim-patch:8.1.0885: test for restricted hangs on MS-Windows GUI
vim-patch:8.1.0881: can execute shell commands in rvim through interfaces
vim-patch:8.1.0883: missing some changes for Ex commands
vim-patch:8.1.1642: may use uninitialized variable
vim-patch:8.1.0253: saving and restoring window title does not always work
addressing reviews
vim-patch:8.2.0135: bracketed paste can still cause invalid memory access
vim-patch:8.2.0133: invalid memory access with search command
vim-patch:8.0.1587: inserting from the clipboard doesn't work literally
pvs/v1048: variable was assigned same value
'clang/Logic error': zero-init MarkTreeIter vars
vim-patch:8.1.1510: a plugin cannot easily expand a command like done internally
man.vim: Handle `man` errors when looking for man-paths
Merge #11805 'vim-patch:8.1.0619'
Merge pull request #11931 from h-michael/symbol
lsp: add 'textDocument/documentSymbol’ callback
vim-patch:8.1.0619: :echomsg and :echoerr do not handle List and Dict
win/l10n: add zh-* locale aliases #11963
deps: Fix luv-static build issues #11961
foldcolumn: allow auto:X
lsp: add bufnr to callback function arguments
Merge pull request #11910 from mfussenegger/references-ctx
Use buffer version instead of changedtick for edits
LSP: Remove diagnostic message handling in locations_to_items
LSP/references: Add context to locations returned by server
Merge pull request #11880 from bfredl/tree-sitter-regex
Add signs for Lsp diagnostics (#11668)
LSP/hover: Do not throw away contents if first line is empty (#11939)
add support to show diagnostics count in statusline (#11641)
LSP: implement documentHighlight (#11638)
Merge pull request #11946 from bfredl/ts-sync
lua: add regex support, and `@match` support in treesitter queries
treesitter: redraw on changed query
treesitter: update vendored tree-sitter runtime
TUI: reset background color before scroll #11909
Merge pull request #11890 from cryptomilk/master-gcc10-fno-common
Merge pull request #11934 from h-michael/restore
cmake: Check for -fno-common and use it if available
nvim: Correctly setup global channels
nvim:msgpack: Correctly set up global ch_before_blocking_events
nvim: Fix enum declaration of RemapValues
nvim:viml: Fix enum declaration of ExprParserFlags
nvim:eval: Fix enum declaration for ListLenSpecials
clang/scan-build: restore required code
CI/travis: workaround broken homebrew
PVS/V618: fix printf-style args #11888
lsp/completion: show duplicates in completion popup #11920
doc: LOG_CALLSTACK: mention "-no-pie" [ci skip]
Merge #11914 'vim-patch:8.1.{1122,1868}'
vim-patch:8.1.1122: char2nr() does not handle composing characters
vim-patch:8.1.1868: multi-byte chars in 'listchars' fail with 'linebreak' set
quickfix.c: Fix vimgrep regression #11907
Merge pull request #11908 from bfredl/qf_msg-fixup
test: always use "set more" with :digraph test
Merge #11895 'lsp: fix textDocument/completion handling'
clang/scan-build: fix dead stores #11900
Merge #11887 'loop_close: close all handles'
lsp: make functions private and use filter function
lsp: respect the sort order if there is sortText
lsp: fix textDocument/completion handling
doc: C-Y and C-E in wildmenu completion
lua: move test helper function, map and filter, to vim.shared module
loop_close: close all handles
loop_close: call uv_stop(), fix bug
loop_close: timout after 2 seconds #11821
test: always dump logs on failure #11886
Merge #11873 from janlazo/vim-8.1.0786
Merge #11837 'LSP: fixes, improve test visibility'
test/LSP: assert contents of log file
lsp/rpc.lua: fix `env` application function
test/LSP: dump logs on error
LSP: fix validate_client_config
test/LSP: use less-generic exit code
test: style
deps: lua-client 0.2.2-1
vim-patch:8.2.0267: no check for a following cmd when calling a function fails
vim-patch:8.1.0043: ++bad argument of :edit does not work properly
vim-patch:8.0.1660: the terminal API "drop" command doesn't support options
vim-patch:8.1.1201: output of :command is hard to read
vim-patch:8.1.2187: error for bad regexp even though regexp is not used
vim-patch:8.2.0241: crash when setting 'buftype' to "quickfix"
vim-patch:8.1.2223: cannot see what buffer an ml_get error is for
vim-patch:8.1.0786: ml_get error when updating the status line
vim-patch:8.1.2259: running tests may leave XfakeHOME behind
vim-patch:8.1.2131: MSVC tests fail
vim-patch:8.1.2129: using hard coded executable path in test
checkhealth: allow 'sudo install' of 'Neovim::Ext' #11874
Merge pull request #11864 from h-michael/deepcopy
mouse.c: can click on multibyte foldopen/foldclose (#11863)
Merge pull request #11870 from QnJ1c2kNCg/master
lua: add vim.tbl_extend and vim.deepcopy test
lua: if second argument is vim.empty_dict(), vim.tbl_extend uses empty_dict() instead of {}
build: Fix MSVC build failure on CI #11865
checkhealth: ignore cpamn "!" output #11869
clang bug: Dead assignment `ns_id`
doc/lsp: start_client config cmd must be a list (#11866)
mark userfunc as legacy
rename: user_funcs -> userfunc
fix: includes
fix: moved macros
fix: moved some static inline function
fix: vvlua_partial
fix: made eval_lavars_used global
fix: include static function declarations
fix: header updates
Removed redundant define
fix: factor out make_partial
fix: prof functions
fix: var_set_global
fix: find_var_ht_dict
fix: factor out new functions
fix: func_init
unstatic some functions
moved more stuff
created header file
moved functions to user_funcs.c (no code changes)
lua: vim.deepcopy uses empty_dict() instead of {} for empty_dict()
Merge pull request #11859 from h-michael/empty-dict
test: add json_encode test for vim.empty_dict()
Merge #10433 from erw7/vim-8.1.0027
Fix issue where callbacks are garbage collected
vim-patch:8.1.0092: prompt buffer test fails
vim-patch:8.1.0091: MS-Windows: Cannot interrupt gdb when program is running
vim-patch:8.1.0071: terminal debugger only works with the terminal feature
vim-patch:8.1.0070: missing part of the changes for prompt_setinterrupt()
vim-patch:8.1.0069: cannot handle pressing CTRL-C in a prompt buffer
vim-patch:8.1.0036: not restoring Insert mode if leaving prompt buffer with mouse
vim-patch:8.1.0032: BS in prompt buffer starts new line
vim-patch:8.1.0027: difficult to make a plugin that feeds a line to a job
LSP: rename validate_command to _cmd_parts #11847
LSP: Refine formatting tabSize #11834
Merge pull request #11845 from rht/master
Merge pull request #11848 from fwalch/build-tree-sitter-out-of-source
Build tree-sitter out-of-source
Merge pull request #11842 from bfredl/decotest
treesitter: cleanup some luahl stuff
treesitter: use internal "decorations" buffer
doc/manpage: Remove the extra nvim subdirectory
eval.c: factor out eval/funcs.c #11828
doc/manpage: reference $VIM instead of /usr/local/share #11840 [ci skip]
lsp: Support text edit on inactive buffer (#11843)
Merge pull request #11841 from bfredl/libdir
build: always create build/lib/nvim so the install command doesn't fail
Merge pull request #11836 from bfredl/vim-dbe5d361feb6
vim-patch:8.2.0235: draw error when an empty group is removed from 'statusline'
LSP: set InitializeParams.rootPath value #11838
Merge pull request #11830 from teto/treesitter_fix
build: allow to skip treesitter C parser install
Merge pull request #11757 from bfredl/treesitter_runtime
Merge #11827 'deps/MSVC: gettext 0.20.1'
tests: bail out on libdir just like $VIMRUNTIME, it cannot be calculated
treesitter: add standard &rtp/parser/ search path for parsers
build: include tree-sitter-c parser in bundled build
env: try find library dir (like /usr[/local]/lib/nvim) and add it to &rtp
api: add nvim_get_runtime_file for finding runtime files
deps/msvc: gettext 0.20.1
doc: Fix {spell,mlang}.txt files text encoding #11814
deps: gettext 0.20.1
Merge #11807 'refactor: eliminate os_unix.c (almost)'
lint
refactor: rename mch_exit => os_exit
refactor: move various things to os/shell.c
checkhealth: fix accidental change [ci skip]
Merge #11781 'checkhealth: $VIRTUAL_ENV validation' [ci skip]
checkhealth: avoid irrelevant virtualenv executables
checkhealth: cleanup, brevity
checkhealth: bin directory is Scripts/ on Windows
checkhealth: print -> sys.stdout.write
checkhealth: better $VIRTUAL_ENV validation #11781
Merge pull request #11801 from bfredl/incsubcrash
extmarks: fix crash due to invalid column values in inccommand preview
Merge #11802 from janlazo/vim-8.2.0161
vim-patch:8.1.1269: MS-Windows GUI: multibyte chars with a 0x80 byte do not work
vim-patch:8.1.0140: recording into a register has focus events
vim-patch:8.2.0161: not recognizing .gv file as dot filetype
vim-patch:8.2.0190: detect Kotlin files [ci skip] #11796
doc: fix typos [ci skip] #11787
Merge #11795 from janlazo/vim-8.2.0014
vim-patch:8.2.0016: test name used twice, option not restored properly
vim-patch:8.2.0014: test69 and test95 are old style
Fix shift change callbacks reading bad cursor (#11782)
Merge #11792 from janlazo/vim-8.1.0445
vim-patch:8.2.0177: memory leak in get_tags()
vim-patch:8.2.0077: settagstack() cannot truncate at current index
vim-patch:8.1.0446: options test fails in the GUI
vim-patch:8.1.0445: setting 'term' does not store location for termcap options
CONTRIBUTING.md: mention "good first issue" label
vim-patch:8.2.0171: fix use of uninitialized buffer #11786
Merge pull request #11780 from bfredl/winhlparse
options: winhighlight: fix incorrect string equality test
LSP: show diagnostic in qf/loclist #11777
Merge #11775 'refactor: move session fns to ex_session.c'
build/MSVC: fix gettext multibyte issue #11774
lint
refactor: move session functions to ex_session.c
Merge #11772 from janlazo/vim-8.2.0152
Merge #7836 'session: restore same :terminal buf split windows'
vim-patch:8.2.0158: triggering CompleteDone earlier is not backwards compatible
vim-patch:8.2.0152: restoring ctrl_x_mode is not needed
mksession: always unix slashes "/" for filepaths
cleanup/ex_docmd.c: remove most put_eol() calls
lint
cleanup/ex_docmd.c: remove most put_line() calls
mksession: always write LF "\n" line-endings
mksession: avoid ":file …" when restoring non-terminal bufs
mksession: simplify generated commands
mksession: restore same :term buf in split windows
Merge #11763 'spell: remove non-UTF8 dead code'
Merge #11766 from janlazo/vim-8.1.1143
spell: towupper(),towlower() are not called
vim-patch:8.1.1144: too strict checking of the 'spellfile' option
vim-patch:8.1.1143: may pass weird strings to file name expansion
spellfile: set_spell_chartab() is dead code
spell_defs: remove enc_utf8 redundant checks
spell: remove enc_utf8 dead code
spell: zero-init structs to fix garbage ptrs
Merge pull request #11755 from bfredl/qf_msg
doc
set -u before return
scripts/vim-patch.sh: add -m to usage
screen: add missing redraws after a message
terminal: trim CWD slash #11762
terminal: absolute CWD in term:// URI #11289
vim-patch:8.1.2171: mouse support not always available #11761
shell: "..." instead of "[...]" #11760
Merge #11750 from janlazo/vim-8.2.0146
Remove enc_utf8,has_mbyte dead code
vim-patch:8.1.2245: third character of 'listchars' tab shows in wrong place
vim-patch:8.2.0147: block Visual mode operators not correct when 'linebreak' set
vim-patch:8.2.0146: wrong indent when 'showbreak' and 'breakindent' are set
ex_getln.c: wildmenu add cancel and apply ops
vim-patch:8.2.0141: no swift filetype detection (#11747)
Merge pull request #11740 from Billy4195/fix_jobstop
Fix f_jobstop() failed loudly
vim-patch:8.1.0061: fix resetting, setting 'title' #11733
wildmode: fix wildmode=longest,full with pum #11690
Merge #11703 'CI: install perl provider'
ci/Appveyor: respect -NoTest param
provider/perl: test older versions
provider/perl: add latest version health check
doc: provider-perl
provider/perl: skip tests on Windows
provider/perl: add health check
provider/perl: simplify detection
provider/perl: add basic tests
remote plugins: add support for perl hosts
ci/Appveyor: install diffutils via scoop
ci: install perl provider
tabpage: "tabnext #" switches to previous tab #11734
Merge pull request #11742 from bfredl/shedbike
shed biking: it's always extmarks, never marks extended
Merge pull request #11715 from teto/fix_fillchar
Merge #11735 ':tabs : show # for previous tabpage'
tabpage: :tabs indicates previous tabpage's curwin
Merge #11737 from janlazo/vim-8.1.2421
Merge pull request #11736 from bfredl/tenc
restore old 'termencoding' behavior
vim-patch:8.1.2421: test88 is old style
fixup! fixup! vim-patch.sh: list related missing Vim patches [ci skip] #11514
vim-patch:8.1.2031: cursor position wrong when resizing and using conceal
Merge #11331 'WinClosed autocmd'
doc: autocmd.txt
WinClosed: sort auevents.lua; improve tests
autocmd: WinClosed exposes window id as <afile>
autocmd: add WinClosed event
Merge #11707 from janlazo/vim-8.1.1434
vim-patch:8.2.0123: complete_info() does not work when CompleteDone is triggered
vim-patch:8.1.1139: no test for what is fixed in patch 8.1.0716
vim-patch:8.1.0716: get warning message when 'completefunc' returns nothing
spell: spell_soundfold_sal() is dead code
clang/'Logic error': zero-init struct
vim-patch:8.2.0120: virtcol() does not check arguments to be valid
vim-patch:8.2.0112: illegal memory access when using 'cindent'
Merge pull request #11390 from erw7/feature-conpty
Remove termtype option
Change to replace stderr with conout
Add missing include file
Change option name from termwintype to termtype
Rename from os_win_conpty.{c,h} to pty_conpty_win.{c,h}
Add stdin, stdout replacement functions
Change enum to a name that follows naming convention
Change to use TriState instead of bool
Fix function prototype
Minor changes in reviewer's point
Move ConPTY resize to os_win_conpty.c
Change union name from pty_object to object
Change to use ConPTY, if available
Merge pull request #11723 from bfredl/nocleareol
messages: echo "line1\r\nline2" should not clear line1
Merge pull request #11563 from bfredl/mark_madness
extmarks/bufhl: reimplement using new marktree data structure
api_set_error: include expression with "Failed to evaluate expression" (#11713)
version.c: update [ci skip] #11689
fillchars: fix display on closed fold
Add new marktree data structure for storing marks
API: include invalid buffer/window/tabpage in error message (#11712)
doc [ci skip] #11656
edit.c: Ensure undo sync when emulating <Esc>x #11706
defaults: set fillchars "foldsep" to box line #11702
vim-patch:8.0.1593: :qall never exits active :terminal #11704
vim-patch:8.0.1769: refactor save/restore of viewstate #11701
vim-patch.sh: fix for bash 4.3 or older #11700
tabpage: disallow go-to-previous in cmdline-win #11692
Merge #11669 'LSP: differentiate diagnostic underline by severity'
LSP: highlight groups test, doc
Merge #11691 from janlazo/vim-8.2.0099
test: hoist buf_lines()
test: just say no to hyper-granularity
LSP: differentiate diagnostic underline by severity
API: nvim_get_hl_by_id: omit hl instead of returning -1  #11685
version.c: update [ci skip] #11636
Remove (void) hacks, Mark unused attrs
vim-patch:8.2.0099: use of NULL pointer when out of memory
third-party: upgrade libvterm to v0.1.3 (#11678)
ui_grid_resize: fix resize logic for floating window #11655
man.vim: workaround for 'cscopetag' #11679
Merge #11674 'vim-patch:8.0.1786,8.1.{851,1308,1309,1579}'
vim-patch:8.1.1309: test for Normal highlight fails on MS-Windows GUI
vim-patch:8.1.1308: the Normal highlight is not defined when compiled with GUI
vim-patch:8.1.1579: dict and list could be GC'ed while displaying error
vim-patch:8.1.0851: feedkeys() with "L" does not work properly
vim-patch:8.0.1786: no test for 'termwinkey'
Merge #11670 from janlazo/vim-8.0.1817
vim-patch:8.1.0844: when timer fails test will hang forever
vim-patch:8.1.0842: getchar_zero test fails on MS-Windows
vim-patch:8.1.0840: getchar(0) never returns a character in the terminal
vim-patch:8.0.1817: a timer may change v:count unexpectedly
Merge #11648 from butwerenotthereyet/vim-8.1.0972
vim-patch:8.1.0974: cannot switch from terminal window to previous tabpage
vim-patch:8.1.0972: cannot switch from terminal window to next tabpage
LSP: place hover window by vertical space #11657
vim-patch:8.2.0079: test still fails on MS-Windows #11663
option: restore termencoding (readonly) #11662
Merge pull request #11658 from bfredl/clipstderr
clipboard: do not close stderr together with stdout (fixup #11617)
tabpage: track last-used tabpage #11626
build.ps1: add "-NoTests" param #11654
API: fix crash on copy_object(kObjectTypeWindow) #11651
clipboard: close stdout when copying via xclip #11617
doc: mention `*_host_prog` ordering sensitivity #11639
Merge pull request #11470 from bfredl/emptytable
Merge #11647 from janlazo/vim-8.2.0070
lua: metatable for empty dict value
vim-patch:8.2.0076: Python 3 unicode test fails on MS-Windows
vim-patch:8.2.0075: Python 3 unicode test still sometimes fails
vim-patch:8.2.0074: Python 3 unicode test someitmes fails
vim-patch:8.2.0070: crash when using Python 3 with "debug" encoding
Merge #11642 'CI: test powershell core'
Merge #11604 "LSP: shrink API, improve docs"
Merge #11645 from janlazo/vim-8.1.1346
PVS/V618: fix emsgf format specifier #11643
vim-patch:8.2.0068: crash when using Python 3 with "utf32" encoding
vim-patch:8.1.1346: error for Python exception does not show useful info
doc: powershell is 'pwsh' on non-Windows OS
ci: set nodejs version for tests outside fold
ci: test powershell core on macOS
LSP: eliminate lsp.print_debug_info…()
LSP: eliminate lsp.stop_all_clients()
gen_vimdoc.py: rename `mode` to `target`
ci: test powershell core on Linux
gen_vimdoc.py: generate LSP docs
doc: LSP
doc [ci skip]
Merge #11637 from janlazo/vim-8.1.1739
CI: set nodejs version to 10 on main scripts
vim-patch:8.2.0063: wrong size argument to vim_snprintf()
vim-patch:8.1.1741: cleared/added match highlighting not updated in other window
vim-patch:8.1.1739: deleted match highlighting not updated in other window
Merge #11605 'gen_vimdoc.py: fix formatting; sort by name'
gen_vimdoc.py: sort by name
gen_vimdoc.py: better handling of inline (non-block) nodes
gen_vimdoc.py: fix deprecated check
Merge #11632 from janlazo/vim-8.1.2087
Merge #11616 from janlazo/vim-8.0.1491
vim-patch:8.0.1356: using simalt in a GUIEnter autocommand inserts characters
vim-patch:8.1.2377: GUI: when losing focus a pending operator is executed
vim-patch:8.1.1300: in a terminal 'ballooneval' does not work right away
ui: add basic tests for pumheight,pumwidth
vim-patch:8.2.0058: running tests changes ~/.viminfo
vim-patch:8.1.2087: cannot easily select one test function to execute
vim-patch:8.1.1875: cannot get size and position of the popup menu
vim-patch:8.0.1540: popup menu positioning fails with longer string
fixup! vim-patch.sh: list related missing Vim patches [ci skip] #11514
vim-patch:8.1.1303: not possible to hide a balloon
screen: fix pvs/v1048
vim-patch:8.1.0554: popup menu overlaps with preview window
vim-patch:8.0.1538: popupmenu is too far left when completion is long
vim-patch:8.0.1522: popup menu is positioned in the wrong place
vim-patch:8.1.0670: macro for popup menu width is unused
vim-patch:8.0.1495: having 'pumwidth' default to zero has no merit
vim-patch:8.0.1491: the minimum width of the popup menu is hard coded
Revert "runtime: Add vim.lsp.get_client_by_name" #11623
netrw.vim: do not save +/* registers p.2 #11625
runtime: Add vim.lsp.get_client_by_name (#11603)
doc: update 'cpoptions' default value #11619
LSP: Fix flaky test #11618
Merge #11568 'fillchars: foldopen, foldsep, foldclose'
Merge #11612 from janlazo/clang-pvs
os/env: fix pvs/v781
misc1: fix pvs/v781
ex_getln: fix pvs/v781
ex_docmd: fix pvs/v781
ex_cmds: fix pvs/v781
search: fix pvs/v1048
quickfix:  qf_parse_fmt_plus never fails
hardcopy: fix pvs/v1048
api/vim: fix pvs/v1048
clang/'Dead store': remove dead code
clang/'Logic error': set ret_tv if non-null
fillchars: adding foldopen, foldsep, foldclose
Fix scripts/vim-patch.sh for Bash 4.3
LSP: Handle rpc RequestCancelled specifically. (#11606)
vim-patch.sh: list related missing Vim patches [ci skip] #11514
system(), jobstart(): raise error on non-executable #11234
snap: set "classic" confinement #11601
version.c: update [ci skip] #11600
vim-patch:8.2.0033: make_extmatch() OOM #11602
Merge #11594 from janlazo/vim-8.0.1767
gen_vimdoc.py: lint #11593
snap: set "strict" confinement #11596
spellfile: fix pvs/v1048
getchar: fix pvs/v1048
charset: fix pvs/v1048
tag: fix pvs/v1048
eval: fix pvs/V1048
vim-patch:8.2.0030: "gF" does not work on output of "verbose command"
vim-patch:8.0.1767: with 'incsearch' text may jump up and down
Merge pull request #11113 from bfredl/tree-sitter-query
tree-sitter: implement query functionality and highlighting prototype [skip.lint]
tree-sitter: fix prototypes (to be upstreamed)
tree-sitter: fix relative paths in unicode/ subdir
tests: ex_terminal_spec: retry ":terminal (with fake shell)" (#11588)
tree-sitter: update vendored tree-sitter runtime
Merge #11396 'gen_vimdoc.py: mpack result' [ci skip]
gen_vimdoc.py: rename for clarity
gen_vimdoc.py: mpack: collect functions in 1 dict
gen_vimdoc.py: fix "seealso", "xrefs"
gen_vimdoc.py: mpack: exclude deprecated functions
gen_vimdoc.py: fix mpack generator
gen_vimdoc.py: DRY
termdebug.vim: Comment out Winbar related things #11552
tests: sync Test_undojoin_redo from Vim #11589
vim-patch:8.2.0025: repeated word in comment (#11586)
LSP: Use async completion for omnifunc. (#11578)
build: DownloadAndExtractFile.cmake: retry status_code=7 #11582
Merge pull request #11577 from janlazo/vim-8.2.0019
vim-patch:8.2.0024: filetype Rego not recognized
vim-patch:8.2.0019: cannot number of lines of another buffer
LSP: Improve the display of the default hover callback. (#11576)
LSP: fix omnifunc findstart (#11522)
TUI: can make the cursor transparent #11519
Merge #11572 from janlazo/vim-8.2.0015
test/old: skip Test_screenpos for now
vim-patch:8.2.0018: :join does not add white space where it should
vim-patch:8.2.0015: not all modeline variants are tested
Merge #11556 from janlazo/vim-8.2.0002
fileio: use uint64_t for temp_count #11555
vim-patch:8.2.0013: not using a typedef for condstack
vim-patch:8.2.0012: some undo functionality is not tested
vim-patch:8.2.0010: test64 is old style
vim-patch:8.2.0008: test72 is old style
vim-patch:8.2.0002: "dj" only deletes first line of closed fold
Add support for the pum_getpos() API (#11562)
Merge pull request #11564 from jamessan/libcall
Merge remote-tracking branch 'upstream/master' into libcall
libcallnr: Use int, not int64_t, as the return type for Vim compat
Merge pull request #7202 from teto/jobstart_env
Add negative test for type of job's env option
snap: allow job failure
version.c: update [ci skip] #11415
os_getenvname_at_index: Handle Windows env vars whose name starts with =
Add os_getfullenv_size/os_copyfullenv
jobstart now supports env/clear_env
test: new test for setting environment
snap: re-enable CI job
PVS/V1049: fix numerous "DEFINE_FUNC_ATTRIBUTES" warnings #11544
jumplist: browser-style (or 'tagstack') navigation #11530
netrw.vim: do not save +/* registers
doc: LSP [ci skip] #11524
Merge #11528 from janlazo/vim-8.1.2402
vim-patch:8.1.2408: syntax menu and build instructions outdated
vim-patch:8.1.2402: typos and other small things
LSP: Add jump when calling gotodef (#11521)
Fix access on vim.wo (#11517)
runtime/syntax/vim.vim: highlight "blend" keyword #11520
vim-patch:8.1.2385: open cmdline window with feedkeys() #11516
defaults: set nostartofline (#11135)
vim-patch:8.1.2384: test 48 is old style #11509
test: always pass a string to expect_msg_seq
defaults: set nostartofline
Merge #11500 from justinmk/api-deprecate
API: rename nvim_execute_lua => nvim_exec_lua
API: deprecate nvim_command_output
log_init: call log_path_init (#11501)
testdir/runnvim.sh: create messages file always (#11503)
oldtest: support for running by filename (#11473)
build: CMakeLists: do not set MIN_LOG_LEVEL with C flags (#11498)
src/nvim/testdir/test_quickfix.vim: align with Vim (#11502)
dictwatcher: fix use-after-free #11495
Merge #11159 'API: nvim_exec'
API: rename nvim_source => nvim_exec
API: nvim_source_output
API: nvim_source: fix multiline input
API: nvim_source: save/restore script context #11159
API: nvim_source
Add vim.startswith and vim.endswith (#11248)
Add vim.cmd as an alias for nvim_command (#11446)
Return nil instead of NIL for vim.env (#11486)
screen.lua: remove screen:_on_event #11488
ci: revisit OpenBSD/FreeBSD config  (#11477)
ci: SourceHut: revisit OpenBSD/FreeBSD config
terminfo_is_bsd_console: fallback to false
vim-patch:8.1.2367: registers are not sufficiently tested (#11489)
snap: disable job until we are approved
Merge #11483 from janlazo/vim-8.1.2355
vim-patch:8.1.2363: ml_get error when accessing Visual area in 'statusline'
doc: mention OS pseudo-features in :h feature-list
vim-patch:8.1.2355: test with "man" fails on FreeBSD
floatwin: show error if window is closed immediately #11476
snap: declare "devmode" instead of "classic" #11482
vim-patch:8.1.2315: switchbuf=uselast #11480
vim-patch:8.1.2017: cannot execute commands after closing cmdline window #11479
Merge pull request #11469 from bfredl/lspdiag
snap: fix line continuation #11475
snap: disable job
win_line: Fix crash with 'rightleft' in :terminal #11460
deps: update libtermkey to 0.22 #11429
Merge #11428 'Update SNAP packaging'
snap: more yak-shaving
snap: add snapcraft secrets to CI
snap: add desktop file, icon
snap: add "snap" job to Travis CI
snap: fix/update snap builds
man.vim: remove K mapping #11472
lsp: allow the user to config LspDiagnosticError etc by standard means
runtime: russian-jcukenwintype.vim keymap #11461
doc: fix typos
Merge #11467 from janlazo/vim-8.1.2345
man.vim: Improve ft=man 'iskeyword' #11457
vim-patch:8.1.1268: map completion test fails in GUI
vim-patch:8.1.1254: mapping completion contains dead code
vim-patch:8.1.1253: mapping completion test fails
vim-patch:8.1.1252: not all mapping completion is tested
vim-patch:8.1.2349: :lockvar and :unlockvar cannot be followed by "| endif"
vim-patch:8.1.2348: :const cannot be followed by "| endif"
vim-patch:8.1.2345: .cjs files are not recognized as Javascript
Merge pull request #11445 from bfredl/fcslcs
Merge pull request #11466 from bfredl/luaopt
options: make 'fillchars' and 'listchars' global-local
lua: make vim.wo and vim.bo used nested indexing for specified handle
Merge pull request #11464 from bfredl/luaexport
cmake: enable exporting symbols from static libs again
LSP: Move default buf callbacks to vim.lsp.callbacks (#11452)
UI: emit mouse_on/mouse_off on attach #11455
[RFC] extmark: fix E315 in nvim_buf_set_extmark (#11449)
doc + extmarks tweaks #11421
Merge #11454 from janlazo/vim-8.1.1732
vim-patch:8.1.0836: user completion test can fail on MS-Windows
vim-patch:8.1.0223: completing shell command finds sub-directories in $PATH
vim-patch:8.1.1732: completion in cmdwin does not work for buffer-local commands
Improve terminal close error message formatting (#11434)
vim-patch:8.1.0461: quickfix: change comment style #11453
release.sh [ci skip]
Merge #11451 'man.vim: Fixes'
man.vim: Update maintainer email
man.vim: Hard wrap by default
man.vim: Document how to disable bold highlighting
man.vim: Ensure 'modifiable' in man#init_pager #11450
Followup improvements to LSP (#11430)
Bring vim into local scope
Add support for textDocument/references.
Merge branch 'master' into lsp-followup
Lua: vim.env, vim.{g,v,w,bo,wo} #11442
Merge branch 'master' into lsp-followup
vim-patch:8.1.1334: respect shortmess=F when buffer is hidden #11443
Merge #11431 from janlazo/vim-8.1.1235
UI tweaks.
Merge remote-tracking branch 'origin/master' into lsp-followup
Merge pull request #11382 from bfredl/extmark_bufhl
vim-patch:8.1.0471: some tests are flaky or fail on some systems
tests: remove irrelevant timing info
test was wrong
refactor: use inserted_bytes pattern from vim
bufhl: use extmark column adjustment for bufhl
vim-patch:8.1.1951: mouse double click test is a bit flaky
vim-patch:8.1.2330: vi' does not always work when 'selection' is exclusive
vim-patch:8.1.2329: mouse multiple click test is a bit flaky
vim-patch:8.1.2183: running a test is a bit verbose
vim-patch:8.1.1490: when a single test fails the exit code is not set
vim-patch:8.1.0723: cannot easily run specific test when in src/testdir
vim-patch:8.1.2269: tags file with very long line stops using binary search
vim-patch:8.1.1235: compiler warnings for using STRLEN() value
Clear 'cc' in nvim_open_win 'minimal' style #11361 (#11427)
Improve the character_offset code.
Improve performance of util.set_lines + bugfix
Fix encoding translation in other places.
Remove comments.
Fix position params for encoding.
Account for character length in jump position.
lualint
Fix hovers staying on bufhidden
Updates
Fix terminal close error message formatting
Merge remote-tracking branch 'origin/master' into lsp-followup
Merge pull request #11433 from bfredl/lspeol
lsp: transmit "\n" after last line when 'eol' is set
Remove resolve_bufnr/lualint
Use the apply_text_edits from util.
Fix reference in rename.
Add full text_edit implementation.
Extend list_extend to take start/finish.
Use err_message in default_callbacks
Satisfy lualint.
Fix rename support.
Spaces not tabs.
Change error writer to not be annoying.
Change callback resolution to be dynamic.
Move everything to buf & default_callbacks
Add everything to lsp.buf and get rid of autoload.
Add lsp.buf and hover implementation.
Bugfix. Don't use nvim.lua that doesn't exist :)
Add vim.uri_to_bufnr
Bugfixes.
Bugfix for floating_preview
Reduce code blocks in markdown previews.
Merge #11280 "man.vim: implement 'tagfunc'"
Merge #11426 from janlazo/vim-8.0.1449
vim-patch:8.0.1793: no test for "vim -g"
vim-patch:8.0.1449: slow redrawing with DirectX
deps: upgrade bundled LuaRocks: 2.4.4 => 3.2.1 (#10292)
vim-patch:8.1.0251: support full paths for 'backupdir' #11269
version.c: update [ci skip] #11160
Merge #11414 from janlazo/vim-8.1.2312
doc: Lua [ci skip] #11378
vim-patch:8.1.2317: no test for spell affix file with flag on suffix
vim-patch:8.1.2314: vi' sometimes does not select anything
vim-patch:8.1.2312: "line:" field in tags file not used
Merge #11340 'Factor out parse_one_cmd()'
TUI: use stdio names instead of magic numbers #11410
build/macOS: set -fno-stack-check for LuaJIT build #11412
provider/python: add python3.8 executable (#11402)
Merge #11406 from janlazo/vim-8.1.1922
tutor: change arrows (--->) to symbols ✗ and ✓ #11404
vim-patch:8.1.2305: no warning for wrong entry in translations
vim-patch:8.1.2289: after :diffsplit closing the window does not disable diff
diff: move diff globals to diff.h
vim-patch:8.1.1922: in diff mode global operations can be very slow
Merge pull request #11338 from bfredl/vvlua
Add v:lua.func() vimL syntax for calling lua
Merge pull request #11399 from bfredl/markundo
extmark: don't crash in RO buffer.
undo: delete undo_off global without effect
vim-patch:8.1.0992: :normal resets reg_executing() result #11398
[scripts/gen_vimdoc.py] Generate better-formatted mpack
Merge #11384 from janlazo/vim-8.1.2293
f_getenv/setenv: Access v_special when v_type is VAR_SPECIAL #11388
spell: fix clang logic error
quickfix: fix dead assignment
vim-patch:8.1.0927: USE_CR is never defined
vim-patch:8.1.2293: join adds trailing space when second line is empty
Sort man pages by relevance during goto_tag()
Don't attempt swapfiles for man pages
Remove eventignore - :Man now uses :tag to populate the page
Factor out parse_one_cmd()
vim-patch:8.1.0266: parsing Ex address range is not a separate function
lua LSP client: initial implementation (#11336)
Merge #11376 'extmark: renames, docs'
extmark: fix spelling of "Extmark"
extmark: rename ExtendedMark => Extmark
doc [ci skip]
Merge #11307 'Lua: vim.validate()'
vim-patch:8.1.0622: adding quickfix items marks items as valid errors #11373
Merge pull request #11356 from bfredl/extmark2
extmark: review changes
nsmarks: initial commit
namespace: add ns_initialized func
api: fix typo in debug function name
Lua: mark some functions as "private"
fix nvim__buf_stats
Lua: Use vim.validate() instead of assert()
Lua: vim.validate()
Lua: vim.validate()
spellfile.vim: improve error message for missing spellfile
Merge pull request #11366 from bfredl/flakycat
tests: vim.rpcnotify test is flaky
api: add nvim_buf_get_virtual_text() (#11354)
Merge pull request #11310 from bfredl/luarpc
lua: vim.rpcrequest, vim.rpcnotify, vim.NIL
Merge #11004 'test/Screen:expect: support "{MATCH:…}"'
test/Screen:expect: replace "{IGNORE}" with "{MATCH:…}"
tests: Screen:expect: support "{MATCH:…}"
Merge #11343 from janlazo/vim-8.1.2244
paste: Select-mode, Visual-mode #11360
quickfix: fix pvs/v547
vim-patch:8.1.0324: off-by-one error in cmdidx check
vim-patch:8.1.2272: test may hang at more prompt
vim-patch:8.1.2270: "gf" is not tested in Visual mode
vim-patch:8.1.2268: spell file flag zero is not recognized
vim-patch:8.1.2262: unpack assignment in function not recognized
vim-patch:8.1.1091: MS-Windows: cannot use multi-byte chars in environment var
vim-patch:8.1.2258: may get hit-enter prompt after entering a number
vim-patch:8.1.2244: 'wrapscan' is not used for "gn"
build: add shlint target for shellcheck (#11350)
vim-patch.sh: multiline printf -> heredoc (#11351)
vim-patch.sh: add missing argument
Merge #11277 'doc [ci skip]'
doc: vim.fn, vim.call(), vim.api [ci skip]
doc: file-change-detect [ci skip]
Merge #11319 'inccommand: fix issues with modifiers and prompting'
Simplify + inline/align comment
Merge PR #11291 from shanesmith/vim-8.1.1256-take2
autocmd: Fix event name casing #11332
Merge pull request #10994 from bfredl/colorindex
terminal: add tests for palette color forwarding
Merge #11324 from janlazo/vim-8.1.2235
syntax: zero-init local structs
quickfix: fix pvs/v547 error
vim-patch:8.1.2236: ml_get error if pattern matches beyond last line
test/screen: make snapshot_util() work properly in rgb_cterm mode
terminal: preserve support for g:terminal_color_X = "#1234ab"
highlight: correctly disable index attribute with combine/blend
terminal: enable pass through indexed colors to TUI
Simplify split_success logic
tui: simplify branching of rgb vs cterm colors
vim-patch:8.1.2235: "C" with 'virtualedit' set does not include multi-byte char
update_version_stamp.lua: Use NUL on Windows #11323
vim-patch:8.1.2231: introduce gM command #11321
Minor updates and comment format fixes
Document skip_colon_white()
Prevent prompts during inccommand previews
Prevent :topleft, etc modifying the inccommand preview window
Only apply 'icm' substitutions when preview was successfully opened
Allow multiple leading colons before and after modifiers for 'inccommand'
Factor out skip_colon_white()
Remove unnecessary expr in 'icm' test
lua/executor.c: use TRY_WRAP
man.vim: remove push_tag and simplify man#open_page
termdebug.vim: reset evalFromBalloonExprResult #11309
vim-patch:8.1.1256: cannot navigate through errors relative to the cursor
vim-patch:8.1.1112: duplicate code in quickfix file
vim-patch:8.1.1098: quickfix code duplication
vim-patch:8.1.1062: quickfix code is repeated
Merge #11276 from h-michael/module-pattern
Merge #11303 from janlazo/vim-8.1.1245
provider/pythonx: don't assume CWD (empty string) is in path #11304
vim-patch:8.1.1030: quickfix function arguments are inconsistent
vim-patch:8.1.1006: repeated code in quickfix support
vim-patch:8.1.0532: cannot distinguish between quickfix and location list
vim-patch:8.1.0488: using freed memory in quickfix code
vim-patch:8.1.0469: too often indexing in qf_lists[]
vim-patch:8.1.0407: quickfix code mixes using the stack and a list pointer
vim-patch:8.1.0252: quickfix functions are too long
Merge pull request #11302 from bfredl/luacall
lua: add vim.fn.{func} for direct access to vimL function
vim-patch:8.1.2154: quickfix window height wrong when there is a tabline
vim-patch:8.1.1245: ":copen 10" sets height in full-height window
scripts/lua2dox.lua: Remove class declaration block
Merge #11298 from janlazo/vim-8.1.2220
ci: do not skip before_install on lint job
ci: use python3 for flake8
vim-patch:8.1.2220: :cfile does not abort like other quickfix commands
lint
gen_vimdoc.py: dump API docs to msgpack #11296
win/dist: nvim-qt v0.2.15 #11295
Merge #11294 from tomtomjhj/vim-8.1.2173
tests: remove some redundant legacy tests #11028
build: add -fstack-protector* to linker #11292
vim-patch:8.1.2218: "gN" is off by one in Visual mode
vim-patch:8.1.2207: "gn" doesn't work quite right
vim-patch:8.1.2173: searchit() has too many arguments
Merge #11271 from h-michael/add-more-info
test/pcall_err(): truncate full paths, omit linenr
lua/stdlib: adjust some validation messages #11271
Merge #11275 from janlazo/ci/nodejs
vim-patch:8.1.0859: handle multibyte "%v" in 'errorformat' #11285
man.vim: never switch to non-man window #11286
ci: simplify tree-sitter-cli install
CI/Appveyor: set powershell strict mode
CI: bump nodejs to v10.x (LTS)
Merge #11213 from janlazo/vim-8.1.0014
tag: fix pvs/v547 error
man.vim: parse the section from the tag
man.vim: `:Man` preserves the tag stack
man.vim: use 'tagfunc' instead of remapping
man.vim: pull out s:get_paths()
vim-patch:8.1.0455: checking for empty quickfix stack is not consistent
vim-patch:8.1.0438: the ex_make() function is too long
vim-patch:8.1.0434: copy_loclist() is too long
vim-patch:8.1.0410: the ex_copen() function is too long
vim-patch:8.1.0345: cannot get the window id associated with the location list
vim-patch:8.1.0288: quickfix code uses cmdidx too often
vim-patch:8.1.0014: qf_init_ext() is too long
Merge #11261 from janlazo/vim-8.1.2185
Merge #11199 from bobrippling/vim-8.1.1228
runtime: Use module pattern with vim/shared.lua
vim-patch:8.1.1962: leaking memory when using tagfunc()
vim-patch:8.1.1228: not possible to process tags with a function
Perform HASHTAB_ITER bookkeeping before user-code
vim-patch:8.1.2197: ExitPre autocommand may cause accessing freed memory
vim-patch:8.1.2190: syntax test fails on Mac
vim-patch:8.1.2188: build error for missing define
vim-patch:8.1.2185: syntax test fails
ci/install.sh: pin treesitter to v0.15.9 #11266
vim-patch:8.1.2168: heredoc not skipped in if-block #11265
TUI/thread: guard env map from potential race with unibilium #11259
build/doc/CI: remove/update quickbuild references #11258
Merge #11211 from jbradaric/vim-8.1.1585
ex_echo: fix check for got_int #11225
Merge #11249 from janlazo/vim-8.1.2151
test/functional: retry/Screen: failure instead of error #11173
vim-patch:8.1.2180: Error E303 is not useful when 'directory' is empty (#11257)
vim-patch:8.1.2182: test42 seen as binary by git diff #11256
vim-patch:8.1.2178: accessing uninitialized memory in test
vim-patch:8.1.2177: Dart files are not recognized
vim-patch:8.1.2175: meson files are not recognized
vim-patch:8.1.2151: state test is a bit flaky
vim-patch:8.1.2162: popup resize test is flaky
vim-patch:8.1.2161: mapping test fails
vim-patch:8.1.2152: problems navigating tags file on MacOS Catalina
tests: let_spec: enable "multibyte env var to child process" (#11233)
build: do not build test fixtures by default (#11230)
tests: fix non-controversial misuse of `pending` (#11247)
vim-patch:8.1.2140: "gk" and "gj" do not work correctly in number column #11208
Merge #11215 from erw7/vim-8.1.0084
vim-patch:8.1.2096: too many #ifdefs #11229
scripts/vim-patch.sh: lazily update Vim source (#11207)
tests: tui_spec: fix waiting for terminal to be ready (#11232)
deps: pass LDFLAGS+=-static (#11138)
mac: fix "tags file not sorted" bug on Catalina (#11222)
vim-patch 8.1.0361: remote user not used for completion
Merge pull request #11206 from bfredl/testattr
scripts/vim-patch.sh -l: display commit subjects
tests/ui: completely delete "attr_ignore" feature
tests/ui: remove unnecessary screen:detach()
tests/ui: cleanup illegitimate usages of "attr_ignore"
tests/ui: make screen.lua use "linegrid" representation internally
vim-patch:8.1.1729: heredoc with trim not properly handled in function
vim-patch:8.1.1723: heredoc assignment has no room for new features
vim-patch:8.1.1625: script line numbers are not exactly right
vim-patch 8.1.0085: no test for completing user name and language
vim-patch 8.1.0084: user name completion does not work on MS-Windows
vim-patch:8.1.1585: :let-heredoc does not trim enough
vim-patch:8.1.1099: the do_tag() function is too long
recovery mode (-r/-L): use headless_mode (#11187)
vim-patch:8.1.2125: fnamemodify() fails when repeating :e
fnamemodify: fix handling of :r after :e #11165
test: "!:&" works with powershell #11201
Remove "highbright bold" conversion. Fixes #11190
update_version_stamp: redirect stderr on first try, --first-parent #11186
doc: update shellquote for powershell #11122
third-party: upgrade libvterm to 0.1.2 (#11177)
ci: AppVeyor: coverage for Lua (Windows) (#10426)
ci: OpenBSD: enable functionaltest  (#11178)
Merge #11077 'vim-patch:8.1.{1354,1356,1362,1588}'
cmake: only set LUA_PRG with successful check (#11172)
vim-patch:8.1.1588: in :let-heredoc line continuation is recognized
vim-patch:8.1.1362: code and data in tests can be hard to read
vim-patch:8.1.1356: some text in heredoc assignment ends the text
vim-patch:8.1.1354: getting a list of text lines is clumsy
Merge pull request #11154 from blueyed/bump-tree-sitter
ci: use cluacov for better performance (#11152)
Merge #11170 from janlazo/vim-8.1.2120
Remove dead code
vim-patch:8.1.2120: some MB_ macros are more complicated than necessary
ci: submit_coverage: run luacov actually (#11169)
test/old: add test_fnamemodify.vim (#11168)
lint
ci: upgrade tree-sitter from 0.15.2 to 0.15.9
tests: retry: "wait() evaluates the condition on given interval" (#11155)
tests/functional: keep $TMPDIR in env (#11163)
Merge #11157 from janlazo/vim-8.1.2113
vim-patch:8.1.0586: :digraph output is not easy to read
vim-patch:8.1.0059: displayed digraph for "ga" wrong with 'encoding' "cp1251"
doc: Fix TEST_FILTER example #11158
vim-patch:8.1.1371: cannot recover from a swap file #11081
version.c: update [ci skip] #10981
vim-patch:8.1.2113: ":help expr-!~?" only works after searching
Makefile: use `$TMPDIR` below `src/nvim/testdir` (#11153)
Fix potential deadlock #11151
ci: coverage for Lua (no Windows, using luacov) (#11127)
win_line: update `w_last_cursorline` always
tests: tui_spec: improve/merge OptionSet/deferred
health: provider: skip checks with `g:loaded_X_provider = 0` (#11147)
test/old: align with Vim #11096
refactor: wrap common plines() usage in plines_win_full() #11141
tui: fix handling of bg response after suspend (#11145)
Merge #11087 from janlazo/vim-8.1.0010
tests: unit: NVIM_TEST_TRACE_LEVEL: default to 0 #11144
ci: Travis: simplify 32bit build (#11093)
vim-patch:8.1.0330: the qf_add_entries() function is too long
shell: improve displaying of pulse (#11130)
Fix flaky test: tui_spec: increase timeout (#11134)
vim-patch:8.1.0315: helpgrep with language doesn't work properly
vim-patch:8.1.2103: wrong error message if "termdebugger" is not executable
vim-patch:8.1.0230: directly checking 'buftype' value
vim-patch:8.1.2095: leaking memory when getting item from dict
vim-patch:8.1.2091: double free when memory allocation fails
quickfix: fix pvs/v547 errors
vim-patch:8.1.2074: test for SafeState autocommand is a bit flaky
test: fix screen assertions
vim-patch:8.1.1347: fractional scroll position not restored after closing window
vim-patch:8.1.1327: unnecessary scroll after horizontal split
vim-patch:8.1.0518: Test_window_split_edit_bufnr() fails on AppVeyor
vim-patch:8.1.0517: Test_window_split_edit_alternate() fails on AppVeyor
vim-patch:8.1.0514: CTRL-W ^ does not work when alternate buffer has no name
vim-patch:8.1.1758: count of g$ not used correctly when text is not wrapped
vim-patch:8.1.2072: "gk" moves to start of line instead of upwards
vim-patch:8.1.0010: efm_to_regpat() is too long
patch_terminfo_bugs: TERM=xterm with non-xterm: ignore smglr (#11132)
Fix redraw regression with w_p_cole in visual mode
Fix/revisit git-describe enhancement (#11124)
build: get rid of warnings with `cmake --debug-output` (#11131)
tui: improve handle_background_color: short-circuit (#11067)
Merge pull request #11121 from bfredl/invalidcell
screen: don't crash on invalid grid cells being recomposed
third-party: upgrade libluv: 1.30.0-0 => 1.30.1-1 (#11092)
provider#pythonx: resolve/expand exe from host var (#11047)
bundle: upgrade LuaJIT to latest v2.1 (#10321)
build: run git-describe for dev version during build (#11117)
Merge pull request #11115 from bfredl/wildmenumode
cmake: use LibFindMacros for utf8proc (#11114)
terminfo_start: keep first flushing of ui buffer (#11118)
cmdline: wildmenumode() should be true with wildoptions+=pum
Merge pull request #10124 from bfredl/tree-sitter-api
tree-sitter: improve and cleanup tests
tree-sitter: use "module" pattern in lua source
tree-sitter: handle node equality
tree-sitter: start docs
tree-sitter: use "range" instead of "point_range" consistently in lua API
tree-sitter: simplify editing using the new old_byte_size parameter
tree-sitter: fix lint, delete "demo" plugin (replaced by functional tests)
tree-sitter: improve parser API (shared parser between plugins)
tree-sitter: cleanup tree refcounting
tree-sitter: inspect language
tree-sitter: add some more API
tree-sitter: style
tree-sitter: use standard luaL_newmetatable and luaL_checkudata pattern
tree-sitter: rename tree_sitter => treesitter for consistency
tree-sitter: add basic testing on ci
tree-sitter: support pre-registration of languages
tree-sitter: objectify API
tree-sitter: split tree-sitter lua interface from demo code
tree-sitter: cleanup build code
Create BuildUtf8proc.cmake and FindUtf8proc.cmake
tree-sitter: load parsers as .so files
tree-sitter: initial tree-sitter support
tree-sitter: change vendored tree-sitter to use nvim memory management
tree-sitter: vendor tree-sitter runtime
vim-patch:8.1.2083: multi-byte chars do not work properly with "%.*S" in printf() (#11106)
doc: contrib/local.mk.example: include ENABLE_LTO  (#11097)
Merge pull request #10907 from jszakmeister/add-freebsd-sourcehut-support
Fix two more flaky tests (#11095)
build: add support for building for FreeBSD under Sourcehut [skip ci]
vim-patch:8.0.0914: highlight attributes are always combined  (#10256)
Merge pull request #10978 from blueyed/update-libuv
paste: fix handling of "<" in cmdline (#11094)
test/functional/preload.lua: _set_fmode for Windows
Revert "win/os_env_exists(): workaround libuv bug #10734"
third-party: update libuv to v1.31.0
tests: busted: nvim handler: display durations always (#11075)
cmake/GetCompileFlags: include CMAKE_C_COMPILER_ARG1 (#11091)
timer_spec: fix/harden flaky tests (#11080)
tui_spec: improve "TUI paste: exactly 64 bytes" (#11086)
tui: flush ui buffer in tui_terminal_after_startup (#11083)
vim-patch:8.0.1754: ex_helpgrep() is too long #11084
vim-patch:8.0.1812: refactor qf_jump_to_usable_window() #11078
terminfo_start: flush buffer #11074
Merge #11076 from blueyed/fix-fold-patches
vim-patch:8.1.2059: fix for "x" deleting a fold has side effects
vim-patch:8.1.2052: using "x" before a closed fold may delete that fold
tests: make 'win_update redraws lines properly' more readable (#11068)
tests: unit: fix preprocess: pass -m32 for 32bit ABI (#11073)
Merge pull request #11049 from bfredl/rulermsg
screen: missing redraw/highlight for ruler in message area
env: use putenv_s for LC_ALL, LANG, etc. #11050
Merge #11034 from zwegner/precedes
vim-patch:8.1.2060: "precedes" in 'listchars' not used properly
Fix "precedes" listchar behavior in wrap mode
checkhealth: skip python checks if intentionally disabled #11044
vim-patch:8.1.2055: profile: adjust line format #11058
Merge #11060 from janlazo/vim-8.1.1783
vim-patch:8.1.0460: assert_fails() message argument #11051
vim-patch:8.0.1621: using invalid default value for highlight attribute
vim-patch:8.0.1529: assert_equalfile() does not close file descriptors
vim-patch:8.0.1776: in tests, when WaitFor() fails it doesn't say why
vim-patch:8.0.1771: in tests, when WaitFor() fails it doesn't say why
vim-patch:8.0.1733: incomplete testing for completion fix
vim-patch:8.0.1539: no test for the popup menu positioning
vim-patch:8.0.1109: timer causes error on exit from Ex mode
vim-patch:8.1.2058: function for ex command is named inconsistently
vim-patch:8.1.2054: compiler test for Perl may fail
vim-patch:8.1.1783: MS-Windows: compiler test may fail when using %:S
Merge pull request #11069 from bfredl/virtualcol
screen: fix vcol counting with virtual text. Fixes #9941
Merge pull request #11057 from blueyed/test-indent
vim-patch:8.1.2056: "make test" for indent files doesn't cause make to fail
Update runtime/indent/testdir to latest Vim runtime
vim-patch:8.1.1213: "make clean" in top dir does not cleanup indent test output
vim-patch:8.1.0599: without the +eval feature the indent tests don't work
vim-patch:8.1.0576: indent script tests pick up installed scripts
vim-patch:8.1.0545: when executing indent tests user preferences interfere
vim-patch:8.1.0496: no tests for indent files
win_update: fix redraw regression (#11027)
health#provider: fix duplicated output/stderr (#11048)
Merge #11035 from janlazo/vim-8.0.1523
vim-patch:8.0.1770: assert functions don't return anything
vim-patch:8.0.1523: cannot write and read terminal screendumps
tests: improve error message with literat "~" directory (#11032)
tests: fix flaky 'scrollback' option deletes lines (only) if necessary (#11003)
server_requests_spec: fix assertion, pass Lua paths via args (#10875)
release.sh [ci skip]
nvim.appdata.xml [ci skip]
CI/AppVeyor: revert whitelist
fix api_level_6.mpack
nvim.appdata.xml [ci skip]
release.sh [ci skip]
version bump
NVIM v0.4.0
Merge pull request #11025 from bfredl/doublescroll
Merge pull request #11026 from janlazo/vim-8.1.0220
compositor: avoid transmitting invalid lines on double scroll
test/old: detect user modules for python,ruby
vim-patch:8.1.0220: Ruby converts v:true and v:false to a number
Merge #11021 from justinmk/ctx-rename-buflist
Context: rename "buflist" => "bufs"
API: nvim_get_context: "opts" param
release.sh: bump nvim.appdata.xml
Merge #11020 from janlazo/vim-8.1.0289
autocmds: TermEnter, TermLeave #8550
test/old: skip python-bindeval tests
vim-patch:8.1.0212: preferred cursor column not set in interfaces
ci/travis: install pynvim outside of $HOME
test/old: skip failing ruby tests
vim-patch:8.0.1448: segfault with exception inside :rubyfile command
vim-patch:8.0.1134: superfluous call to syn_get_final_id()
vim-patch:8.1.2028: options test script does not work
vim-patch:8.1.0289: cursor moves to wrong column after quickfix jump
vim-patch:8.1.2023: no test for synIDattr() returning "strikethrough" (#11018)
Merge #11015 from justinmk/getdigits
lint
getdigits: introduce `strict`, `def` parameters
rename: getdigits_safe => try_getdigits
vim-patch:8.1.0719: too many #ifdefs [ci skip] #11016
vim-patch:8.1.2026: possibly using uninitialized memory #11013
test: fix failure on Windows (allow ".exe")
win/dist: nvim-qt v0.2.14 #11008
startup: fail if --embed with -es/-Es #10753
syntax, TUI: support "strikethrough"
Merge #11007 from janlazo/vim-8.0.1772
vim-patch:8.1.0267: no good check if restoring quickfix list worked
vim-patch:8.1.0261: Coverity complains about a negative array index
vim-patch:8.1.0259: no test for fixed quickfix issue
vim-patch:8.1.0248: duplicated quickfix code
vim-patch:8.0.1772: quickfix: mixup of FALSE and FAIL, returning -1
Merge #6917 'UIEnter, UILeave'
UIEnter/UILeave: fire for embedder UI, builtin TUI
rename: UIAttach/UIDetach => UIEnter/UILeave
API/nvim_list_uis(): include "chan" field for TUI
UIAttach, UIDetach
UIAttach, UIDetach
Merge #10999 from janlazo/clang_pvs2
lint
fixup! cursor_shape: check if modep is nonnull
Remove excess <stdint.h>
tests: fix system_spec when run with clipboard manager (#10956)
build: dependencies: specify minimum libvterm (#10997)
rename: SplitEvent => MulticastEvent #10989
eval: wait(): always spin up dummy-timer #10990
Merge #10995 'paste: fix paste in terminal mode'
paste: fix paste in terminal mode
Merge #10986 'doc'
doc
doc: nvim_ui_pum_set_height  [ci skip]
Merge #10969 from janlazo/clang_pvs
spell: assert nonull pointers
cursor_shape: check if modep is nonnull
regexp: assert nonnull pointer for regnext()
quickfix: fix pvs/v547 warning
Merge pull request #9494 from leonerd/leonerd/vterm-color-struct
terminal: fix rgb rendering of palette colors
lint / test grouping
Changes for new VTermColor struct
bump libvterm to 0.1 + memleak patch
vim-patch:8.0.1309: cannot use 'balloonexpr' in a terminal #10983
Merge #10982 from janlazo/vim-8.0.0937
vim-patch:8.0.0941: existing color schemes don't like StatusLineTerm
vim-patch:8.0.0937: user highlight groups not adjusted for terminal
Merge #10546 'doc'
provider: has("python3_dynamic") et al. #10980
doc/API/lua: detaching Lua buffer callbacks
doc: StatusLineTerm, StatusLineTermNC
doc: |api-fast| [ci skip]
version.c: update [ci skip] #10961
doc: eliminate msgpack_rpc.txt [ci skip]
doc
paste: fix normal-mode paste by different approach #10976
Merge #10973 'vim-patch:8.1.1197'
vim-patch:8.1.1197: when starting with multiple tabs file messages is confusing
Merge #10975 'paste: fix various bugs'
paste: insert before cursor always
paste: do not clobber msg area for small pastes
paste/cmdline: discard all chunks after first line
vim-patch:8.0.0970: passing invalid highlight id #10972
paste: reset 'paste' option immediately #10974
Merge pull request #10777 from glacambre/fix_10042
vim-patch:8.1.2007: no test for what 8.1.1926 fixes #10970
ex_getln.c: fix <S-Tab> not triggering pum when wildoptions=pum (#10042)
Merge pull request #10475 from erw7/fix-ext-popupmenu
Merge pull request #10959 from bfredl/resizequeue
update tests for new resize behavior (resize at pager, but not at :!cmd)
rpc: allow handling of nvim_ui_try_resize at the pager
messages: redraw after resize in pager
messages: batch draw :map
refactor: allow us to process a child queue only while waiting on input
tests: fix flaky "TUI FocusGained/FocusLost in terminal-mode" #10754
Add nvim_ui_pum_set_height to api
Merge #10963 from janlazo/vim-8.1.1988
Merge #10962 from justinmk/vim-088e8e344352
shada: initialize jumplist before search pattern (#10964)
vim-patch:8.1.1716: old style comments are wasting space
vim-patch:8.0.1550: various small problems in source files
vim-patch:8.1.1988: :startinsert! does not work the same way as "A"
vim-patch:06fe74aef726
vim-patch:56c860c315c5
vim-patch:088e8e344352
Merge #10932 'test: Eliminate expect_err'
test: Eliminate expect_err
test: Rename meth_pcall to pcall_err
termdebug.vim: use style=minimal in popups #10904
version.c: update [ci skip] #10942
build: rename CMake find modules for LibFindMacros #10928
runtime: :TOhtml workaround for missing 'vts' option #10960
build: cmake: GetCompileFlags: include CMAKE_C_FLAGS (#10957)
Merge pull request #10930 from bfredl/pagerthrottle
test: properly test missing clears after scroll
test: add tests for pager glitches and crashes
messages: fix crashes with scrollback
messages: fix missing MsgArea highlighting on/after "-- more --" message
messages: fix cut lines in scrollback upon overflow
tests: do_rmdir(): improve error handling #10955
vim-patch:8.0.1332: enhance quickfix highlighting #10259
stdpaths_get_xdg_var: consider empty env vars #10953
build: fail with CLANG_TSAN + USE_GCOV #10958
screen: redrawdebug=nothrottle
Merge #10869 'vim-patch:8.1.{0309,0362,0365,0515,1946}'
test/wildmode_spec: fix flaky test (#10947)
vim-patch:8.1.0561: MSCV error format has changed #10952
test/shada_spec: avoid exit_event race #10951
Merge pull request #10451 from bfredl/floatbuf
fixup! test/wildmode_spec: fix flaky test
test/wildmode_spec: fix flaky test
Merge #10946 from justinmk/vim-patchhhh
anchor float to buffer position
vim-patch:8.1.1501: new behavior of b:changedtick not tested
vim-patch:8.1.1498: ":write" increments b:changedtick even though nothing changed
tests: scrollback_spec: use shell-test instead of awk (#10914)
version.c: update [ci skip] #10308
Log signals handled in deadly_signal (#10939)
Merge #10934 from janlazo/vim-8.0.1752
test/mode_spec: increase 'matchtime' to fix flaky
test: is_os() #10933
netrw.vim: workaround gx bug #10938
Merge pull request #10926 from blueyed/fix-echon-q
only check got_int with ex_echo
move test
Check got_int in msg_multiline_attr
vim-patch:8.1.0145: test with grep is failing on MS-Windows
vim-patch:8.0.1844: superfluous quickfix code, missing examples
vim-patch:8.1.1946: memory error when profiling a function without a script ID
vim-patch:8.0.1752: qf_set_properties() is to long
vim-patch:8.1.0515: reloading a script gives errors for existing functions
vim-patch:8.1.0365: function profile doesn't specify where it was defined
vim-patch:8.1.0309: profiling does not show a count for condition lines
[squash] Fix errors when porting
Change test because maparg was changed to also return lnum
vim-patch:8.1.0362: cannot get the script line number when executing a function
test: enable "exit event follows stdout, stderr" [ci skip] #10929
shada/context: fully remove jumplist duplicates #10898
Merge #10915 'jobwait(): fix race if job exits quickly'
f_jobwait: cleanup
jobwait(): fix race if job exits before waiting on it
test/wildmode_spec: fix flaky test
test/job_spec: improve visibility of flaky test
Merge #10921 from janlazo/vim-8.0.1768
tests: assert:set_parameter('TableFormatLevel', 100) #10925
vim-patch.sh: fix "unbound variable" error with Bash < 4.4  [ci skip] (#10917)
vim-patch:8.1.1063: insufficient testing for wildmenu completion
vim-patch:8.1.0046: loading a session file fails if 'winheight' is big
vim-patch:8.0.1806: InsertCharPre causes problems for autocomplete
vim-patch:8.0.1768: SET_NO_HLSEARCH() used in a wrong way
Merge pull request #10920 from bfredl/asyncfail
api: make try_end clean-up after an exception properly. Fixes #10809
Merge #10918 from janlazo/vim-8.0.1697
vim-patch:8.0.1729: no comma after last enum item
vim-patch:8.0.1697: various tests are still a bit flaky
Merge pull request #10913 from bfredl/nomsgsep
screen: initialize screen properly with early `set display-=msgsep`
Merge #10804 'CI/OpenBSD: functional tests'
vim-patch:8.0.0858: check if job terminal is running #10908
test/uname(): always lowercase
test/OpenBSD: skip some tests
test: shell-test.c: flush all streams
screen.lua: dump payload on handler failure
test: "can have two timers": retry()
CI/OpenBSD: run functional tests
API: nvim_buf_set_lines: handle 'nomodifiable' #10910
vim-patch:8.0.1653: screen dump is made too soon (#10911)
PVS/V547: Expression is always false
API: make nvim_win_set_option() set window-global, not buffer-local #9110
Merge #10896 'paste: one undo-block'
paste: redraw at end
paste: one undo-block per stream
vim-patch:8.0.1534: C syntax test fails in gvim #10909
Merge pull request #10382 from abdelhakeem/waituntil
fixup! eval: add wait() test
eval: add wait() test
eval: add wait()
Merge pull request #10400 from bfredl/msg_grid
Merge #10733 from justinmk/test-fixes
Merge #10906 from janlazo/vim-8.0.1241
screen: add some documentation of internals of msg_grid implementation
test: assert_alive()
test: use shell-test (avoid system shell)
test/inccommand_spec: avoid indeterminism
vim-patch:8.1.0141: :cexpr no longer jumps to the first error #10901
vim-patch:8.0.1217: remote eval to inspect vars in :debug #10903
vim-patch:8.0.1260: using global variables for WaitFor()
vim-patch:8.0.1246: popup test has an arbitrary delay
vim-patch:8.0.1241: popup test is flaky
test/ui: update tests for new msg_grid implementation
screen: use dedicated message grid
batch draw :ls
test/ui: make screen:expect() print full state when height does not match
vim-patch:8.1.1950: using NULL pointer after an out-of-memory (#10902)
Merge pull request #10878 from bfredl/pastedefer
tui/input: remove "cancel paste" logic which should be redundant
api: make nvim_put support "\022{NUM}" regtype as returned by getregtype()
events: loop_schedule() is unclear, rename it loop_schedule_fast()
tui/input: defer nvim_paste properly.
vim-patch:8.1.1947: when executing one test the report doesn't show it #10893
vim-patch:8.1.1941: getftype() test fails on Mac #10894
vim-patch:cb00f0393 (#10892)
vim-patch:8.0.0930: terminal buffers are stored in the viminfo file (#10889)
scripts/vim-patch.sh: massage args for git-log  [ci skip] (#10888)
vim-patch:8.1.0950: using :python sets 'pyxversion' even when not executed (#10891)
vim-patch:8.1.0212: preferred cursor column not set in interfaces (#10890)
Merge #10884 'API: nvim_paste: add `crlf` parameter'
test: vim.paste() cancel
API: nvim_paste: add `crlf` parameter
tests: check_logs: improve error message (#10887)
Merge pull request #10855 from blueyed/out_data_decide_throttle
Merge #10886 from janlazo/vim-8.1.1938
shell-test: remove REP_NODELAY, less delay with REP
Revisit out_data_decide_throttle
tests: fix Test_tagfiles: use Vim's 'tags' (#10883)
vim-patch:8.1.1937: errors when using javascriptreact #10885
vim-patch:8.1.0233: "safe" argument of call_vim_function() is always FALSE
vim-patch:8.1.1938: may crash when out of memory
paste: break lines at CR, CRLF #10877
Fix test/busted/outputHandlers/TAP.lua (#10881)
vim-patch:8.1.0193: terminal debugger buttons don't always work (#10874)
third-party: remove msvc-compat/unistd.h  (#10465)
tests: use runtime from build for doc/tags with :help (#10479)
vim-patch:8.0.0303: shift_delete_registers() #10868
Merge #4448 'paste: redesign'
doc: man.vim #10817
API: TRY_WRAP() for "abort-causing non-exception errors"
vim-patch:8.1.1932: ml_get errors after append() #10866
paste: handle 'nomodifiable'
clang/"null pointer dereference" #10864
paste: make vim.paste() "public"
paste: handle vim.paste() failure
paste: tickle cursor
paste: implement redo (AKA dot-repeat)
paste: insert text "before" cursor in Insert-mode
API: nvim_paste
paste: workaround typeahead race
paste: phases, dots
API: nvim_put: "follow" parameter
API: nvim_put: always PUT_CURSEND
test/tui_spec: connect to child session
API: nvim_put: Avoid "N more lines" message
paste: edge-case: handle EOL at end-of-buffer
paste: test
paste: use nvim_put()
API: nvim_put #6819
API: nvim_put #6819: try to fix Insert, Visual
API: nvim_put #6819
paste: use chansend() in Terminal-mode
paste: fixup tests
paste: abort paste if handler does not return true
TUI/paste: always flush on paste mode-change
TUI/paste: define paste function as Lua builtin
lua/stdlib: cleanup
log: log_key()
TUI/paste: push bytes directly (avoid libtermkey)
TUI/paste: collect data, invoke user callback #4448
paste: WIP #4448
build: third-party: enable CXX language earlier (#10862)
Merge #10858 from janlazo/vim-8.1.1930
vim-patch:8.1.1931: syntax test fails
vim-patch:8.1.1930: cannot recognize .jsx and .tsx files
clang/"dereference of null pointer" #10856
timer_spec: shorter timeout with "doesn't mess up the cmdline" (#10769)
vim-patch:8.1.1923: some source files are not in a normal encoding (#10852)
runnvim.sh: lint (shellcheck) (#10851)
Merge pull request #10850 from blueyed/option-alias
third-party: use neovim/unibilium (#10677)
vim-patch:8.1.1790: :mkvimrc is not tested
findoption_len: treat viminfo/viminfofile as aliases
vim-patch:8.1.1926: redraw cursorline after putting line above #10849
Merge pull request #10841 from janlazo/vim-7.4.1407
vim-patch:8.1.1913: not easy to compute the space on the command line (#10845)
Merge #10840 from janlazo/vim-8.1.1757
teardown: fix win_free_all() heap-use-after-free #10839
vim-patch:8.1.1924: using empty string for current buffer is unexpected
vim-patch:8.1.1111: it is not easy to check for infinity
vim-patch:7.4.1407
vim-patch:8.1.1757: text added with appendbufline() isn't displayed
vim-patch:8.0.1236: Mac features are confusing #10837
Merge #10833 from janlazo/vim-8.1.0037
vim-patch:8.1.0187: getwininfo() and win_screenpos() return different numbers
vim-patch:8.0.1386: cannot select modified buffers with getbufinfo()
vim-patch:8.1.0039: cannot easily delete lines in another buffer
vim-patch:8.1.0037: cannot easily append lines to another buffer
Merge #9163 'fix crash wiping buffer after getbufinfo()'
API: fix nvim_command_output buffer overflow (#10830)
vim-patch:8.1.1897: may free memory twice when out of memory (#10827)
Merge pull request #10815 from blueyed/vim-8.1.1483
tui: handle Smulx extension capability (extended underline) (#9097)
-u NONE for no syntax highlighting
vim-patch:8.1.1893: script to summarize test results can be improved
vim-patch:8.1.1478: still an error when running tests with the tiny version
vim-patch:8.1.1477: test summary fails in the tiny version
vim-patch:8.1.1488: summary of tests has incorrect failed count
vim-patch:8.1.1476: no statistics displayed after running tests
vim-patch:8.1.1483: skipped tests are not properly listed
vim-patch:8.1.0811: too many #ifdefs
test: fix problem of breaking user's viminfo (#10824)
Merge #10823 from janlazo/vim-8.1.1124
ci: AppVeyor: exitIfFailed with old tests  (#10187)
vim-patch:8.1.0888: the a: dict is not immutable as documented (#10819)
edit: add nonnull func attribute
edit: compl_started,compl_used_match are bool
vim-patch:8.1.1124: insert completion flags are mixed up
Merge pull request #10821 from blueyed/asan
fixup! test/functional/helpers.lua: env: forward also TSAN_OPTIONS/MSAN_OPTIONS
test/functional/helpers.lua: env: forward also TSAN_OPTIONS/MSAN_OPTIONS
src/nvim/testdir/runnvim.vim: improve escaping of non-printables
tests: support msg with global_helpers.ok (#10820)
oldtest: windows: revert setting shellslash individually (#10189)
Merge pull request #10768 from blueyed/tests-shorter-timers
Merge pull request #10818 from blueyed/minor
win: stream: reset tty stream on close
tests: screen: notification_cb: improve assertion message
.gitignore: src/nvim/testdir/*.tlog
test/functional/ui/mode_spec: improve "ui mode_change event" (#10816)
tests: screen: notification_cb: improve assertion message
tests: timer_spec: lower timeout, avoids flakiness
Merge pull request #10814 from janlazo/vim-8.1.1887
vim-patch:8.1.1890: ml_get error when deleting fold marker
vim-patch:8.1.1887: the +cmdline_compl feature is not in the tiny version
src/nvim/README: revisit sanitizer section  [ci skip] (#10780)
Merge pull request #10626 from janlazo/test/enable
tests: win: enable buffer focus test
test: win: enable WinEnter terminal test
test: win: enable output_spec test
Unreserve :X #10807
CI/AppVeyor: revert "skip MSVC_32 for non-PR" [skip travis] #10805
Merge pull request #10798 from bfredl/multifix
ui: transmit "blend=" property of highlight attributes
Merge #10679 from erw7/fix-oldtest-on-windows
Merge #10800 from janlazo/vim-8.1.1870
CI/OpenBSD: run oldtest #10797
Change to use v:progpath instead of constant [skip ci]
vim-patch:8.1.1839: insufficient info when test fails because of screen size
vim-patch:8.1.1679: test using SwapExists autocommand file may fail
vim-patch:8.1.1870: using :pedit from a help file sets help filetype
test/ui: properly test win_hide by explicitly marking hidden grids
ui: use Window type in win_pos consistently with win_float_pos
Merge #10794 from janlazo/vim-8.1.1857
Fix test failure on Windows [skip travis]
Change value of cpo [skip travis]
Remove test52
Change test execution conditions
Add target fixff to testdir/Makefile
Fix get_path_cutoff() on Windows
Remove code that is no longer needed by set shellslash
Change to set shellslash to test under same conditions as vim
vim-patch:8.1.1860: map timeout test is flaky
vim-patch:8.1.1858: test for multi-byte mapping fails on some systems
vim-patch:8.1.1857: cannot use modifier with multi-byte character
vim-patch:8.1.1854: now another timer test is flaky #10791
CI/OpenBSD: Initial sourcehut dispatch file #10792
CI/AppVeyor: skip MSVC_32 for non-PR builds [skip travis] #10786
Merge pull request #10790 from bfredl/metamb
keymap: allow modifiers to multibyte chars, like <m-ä>
Merge #10785 from bfredl/tui_start
vim-patch:8.1.1852: timers test is flaky #10788
Merge #10783 from erw7/debug-job-spec
Change to output status on failure
windows: ok(#children >= 3 and #chidlen <= 5)
windows: ok(#children >= 4 and #children <= 5)
Merge pull request #10784 from blueyed/improve-version-compile-flags
Remove TSan suppression config  [skip appveyor]
emsg_multiline: log Vim errors (#10778)
TUI: do not use "starting" global mutated by main thread
src/nvim/CMakeLists.txt: use compile options/definitions
get_compile_flags: also look at target properties
Merge #10761 from justinmk/win-utf-libuv-align
CI/travis: git clone -q #10781
build/win: fix warnings
os/: remove redundant define
utf16_to_utf8: align with libuv
utf8_to_utf16: align with libuv
tests: skip "API nvim_parse_expression" on MSVC_32 (#10773)
Merge pull request #10774 from bfredl/miminal_fdc
Merge pull request #10779 from blueyed/ci-homebrew-no-update
build: TSan: add src/.tsan-suppressions
ci: Travis: build.sh: use cat "-vet" for osx
pyxversion: fix logic error #10759
ci: Travis: homebrew: update=false  [skip appveyor]
clang/"null pointer dereference" #10776
ci: Travis: check logs for TSan also  (#10775)
Merge pull request #10757 from bfredl/compfix
api: nvim_win_open() style="minimal" should disable 'foldcolumn'
compositor: handle invalid screen positions after resize gracefully
Merge #10763 from justinmk/startup-guicursor
clipboard: handle/avoid SIGTERM with previous owner #10765
tests: fix/improve "jobwait returns -1 when timed out" #10767
tests: include `timer_start` in duration #10772
mksession: use exists(':tcd'), not has('nvim') #10770
vim-patch:8.1.0456: running test hangs when the input file is being edited (#10764)
tests: use larger timeout with "timers can be stopped from the handler" (#10760)
style
startup: handle 'guicursor' after user config
Merge pull request #10752 from blueyed/vim-8.0.1179
vim-patch:8.1.1842: test listed as flaky should no longer be flaky
vim-patch:8.0.1179: Test_popup_and_window_resize() does not always pass
clang/"null pointer dereference" #10755
vim-patch:8.1.1843: might be freeing memory that was not allocated (#10756)
build: link libraries by full path (for luv.so) (#10661)
testdir/test_popup.vim: sync/align with Vim (#10751)
ex_getln.c: fix compute_cmdrow() not resetting lines_left (#10749)
Merge #10098 'win: fix msg_puts_printf()'
free_buffer: rework b:changedtick handling #9163
vim-patch:8.0.1193: crash when wiping buffer after getbufinfo()
Merge pull request #10745 from blueyed/vim-8.1.1461
ci: AppVeyor: branches: only: master  (#10746)
rebuild  [skip travis]
win/env: Vim-compat: Empty string deletes env var #10743
vim-patch:8.1.1462: MS-Windows: using special character requires quoting
vim-patch:8.1.1461: tests do not run or are not reliable on some systems
test_source.vim: move Test_source_sandbox
win: expand nested env var #10662
clang/"Argument with 'nonnull' attribute passed null" #10739
Merge pull request #10738 from bfredl/cmdwinclose
Merge #10737 from blueyed/vim-8.1.0911
api/window: disallow closing non-current window in cmdwin state
testdir/test_taglist.vim: move Test_tagsfile_without_trailing_newline
vim-patch:8.1.0911: tag line with Ex command cannot have extra fields
API: nvim_win_close: Fix closing cmdline-window #10087
win/os_env_exists(): workaround libuv bug #10734
test/cmdline_spec: adjust "no-op"
test/environ_spec: Windows treats empty as undefined
vim-patch:8.1.1458: crash when using gtags #10704
exists(): return false for empty env var #10657
Merge #10706 from janlazo/vim-8.1.1465
Merge pull request #10171 from blueyed/vim-8.1.1318
channels: reflect exit due to signals in exit status code (#10573)
tests/functional: expect_msg_seq: use load_adjust (#10727)
Merge #9782 from janlazo/vim-8.1.0199
clang/"Null passed as a nonnull parameter" #10718
Merge #10708 'remove DYNAMIC_ICONV'
:terminal : update buffer when switching tabpage #10700
vim-patch:8.1.1540: cannot build without +eval #10729
test: Minimize shada/helpers.lua #10728
f_spellbadword: set len=0 for non-found word
vim-patch:8.1.0200: spellbadword() not tested
vim-patch:8.1.0199: spellbadword() does not check for caps error
Merge pull request #10688 from bfredl/utf16lib
lua: minimal UTF-16 support needed for LSP
vim-patch:8.1.1824: crash when correctly spelled word is very long (#10725)
tests: use module pattern with test/functional/helpers.lua (#10724)
build: Makefile: use _opt_pylint  [ci skip] (#10720)
tests: output_spec: use shell-test REP_NODELAY (#10726)
build/MSVC: Fix HAVE_ICONV_H #10697
build: port FindLibVterm to LibFindMacros (#10395)
build: clean up / remove X_USE_STATIC (#10713)
ci: AppVeyor: fix upload of coverage for oldtest (#10721)
lint
remove !has_mbyte branches
includes
move ins_char
lint
move del_lines
lint/sync: truncate_line
move truncate_line
lint/sync: open_line
move open_line
move copy_indent (from nvim's indent.c)
move del_bytes
move del_char, del_chars
move ins_str
move ins_char_bytes
move ins_bytes, ins_bytes_len
move unchanged
move changed_lines
move deleted_lines, deleted_lines_mark, changed_lines_buf
move appended_lines_mark
move appended_lines
remove inserted_bytes (comes via text properties, v8.1.0678)
move changedOneline, changed_bytes
move changed_common
move changed_int/changed_internal
move changed
move change_warning
header
orig src/nvim/change.c
vim-patch:3f86ca0faa29cb862f876a97f87790f3a46a3858
vim-patch:8.1.1318: code for text changes is in a "misc" file
Fix lualint: remove unused var
cmakelists: fixed tests to avoid clang warnings (#10705)
tests: more cleanup of plugin/shada_spec
build: lint: fix exit with optional pylint
Merge pull request #10703 from ngortheone/clang_dead2
Merge pull request #10513 from bfredl/bytecount
lua: support getting UTF-32 and UTF-16 sizes of replaced text
Fix list_features to include space after first feature (#10711)
build: move pylint to Makefile, optional with "make lint" (#10714)
tests: unit.helpers: provide string with write errors (#10715)
lua: add {old_byte_size} to on_lines buffer change event
remove DYNAMIC_ICONV
vim-patch:8.1.1467: cscope test fails
vim-patch:8.1.1465: allocating wrong amount of memory
Merge #10701 from justinmk/test-fixes
Merge #10655 'environ(), getenv(), setenv()'
f_environ: cleanup/refactor
vim-patch:8.1.1305: there is no easy way to manipulate environment variables
clang/"dead assignment": screen.c #10702
clang/"dead assignment": suppessed
test/mbyte_spec: skip broken test on QuickBuild
test: Eliminate plugin/helpers.lua
vim-patch:8.1.1439: ga_grow(): 1.5x growth rate #10699
Merge pull request #10690 from bfredl/lua_print
lua: add vim.in_fast_event() to check if we are in a luv callback
lua: do not crash on syntax error in debug.debug()
lua: immediate-callback safe print()
Merge #10695 from justinmk/test-fixes
test/man_spec: remove plugin_helpers.reset()
test/mbyte_spec: skip broken test on QuickBuild
test: isCI(): add "name" parameter
tests: fix flaky "TermClose … fast-exiting terminal job stops"
vim-patch:8.1.1383: warning for size_t/int mixup (#10694)
:doautocmd : Never show "No matching autocommands" #10689
vim-patch:8.1.1311: test: abort autocmd with exception #10692
vim-patch:8.1.1251: test completion of mapping keys #10691
Makefile: only use pattern rules with BUILD_TYPE=Ninja  (#10687)
runtime/matchit.vim: workaround broken 'packpath'
Merge #10161 from equalsraf/tb-clipboard-reload
provider: check #Call() if g:loaded_xx_provider=2
health.vim: check has("debug")
provider: skip non-provider has() feature-names
provider: g:loaded_xx_provider=2 means "enabled and working"
provider: decide status by g:loaded_xx_provider
provider: let providers decide their status
doc: update 'shellredir' advice for powershell #10686
Merge #10683 from janlazo/vim-8.1.1796
vim-patch:8.1.1237: error for using "compl", reserved word in C++
vim-patch:8.1.1796: :argdo is not tested
build: require unibilium>=2.0 (#10681)
ci: Travis: move gcc-functionaltest-lua to 2nd stage (#10682)
Merge #10678 from janlazo/vim-8.1.1187
vim-patch:8.1.1775: error message may be empty in filetype test
vim-patch:8.1.1762: some filetype rules are in the wrong place
vim-patch:8.1.1761: filetype "vuejs" causes problems for some users
vim-patch:8.1.1187: cannot recognize Pipfile
terminfo_start: use unibi_from_term, skip without TERM (#10670)
Merge #10675 from justinmk/vim-runtime
runtime/optwin.vim: missing 'previewpopup' feature
doc: remove "{not available ...}" noise
vim-patch:5477506a9f01
vim-patch:85850f3a5ef9
vim-patch:396e829fa355
vim-patch:6c1e1570b134
vim-patch:12ee7ff00b91
vim-patch:773a97c254d0
vim-patch:61da1bfa6c6b
vim-patch:7dd64a3e57d2
vim-patch:68e6560b84f1
cleanup
ci: Travis: move coverage job to first stage (#10673)
Merge #10666 from justinmk/vim-runtime
Merge #10664 from janlazo/vim-8.1.1780
vim-patch:a6c27c47ddf0
vim-patch:911ead126903
vim-patch:62e1bb4a111e
vim-patch:62e1bb4a111e
vim-patch:723dd946f948
vim-patch:63b74a8362b1
vim-patch:26967617a30e
vim-patch:f6b401090e81
vim-patch:4c92e75dd4dd
Merge #10646 'vim-patch: runtime patches'
runtime: move matchit.vim to /pack/dist/opt/
stream: log unwritten bytes, if any #10663
process_stop: uv: do not close stdin first/explicitly #10584
fileio: port hotfix from patch 8.1.1379
vim-patch:8.1.1374: check for file changed triggers too often
lint
vim-patch:8.1.1780: warning for file no longer available is repeated
Merge #10654 from ngortheone/clang/npd_helptags_one
ci: Travis: improve/revisit caching (#10358)
lint: helptags_one
vim-patch:8.1.0572: stopping a job does not work properly on OpenBSD
tests: runnvim.vim: do not call jobstop() (#10659)
Makefile: use pattern rules for build/.deps  [ci skip] (#10366)
Merge pull request #10656 from blueyed/minor
gen_eval.lua: use correct name in usage
tests: use Vim's version for patch 8.1.0005
vim-patch: handle tags, pass through git-log options  (#10140)
Merge pull request #10648 from blueyed/autopep8
clang/"null pointer dereference": ex_cmds.c
ci: pylint target via flake8
py: flake8 fixes
scripts: autopep8
Merge #10645 from janlazo/vim-8.1.0999
vim-patch:94688b8a2a1f
vim-patch:314dd79cac2a
vim-patch:2a953fcf107d
vim-patch:d09091d4955c
vim-patch:4c05fa08c973
vim-patch:c8c884926750
vim-patch:c33181c44ccb
vim-patch:9d87a37ee9d8
vim-patch:d47d52232bf2
vim-patch:b730f0c7ba36
vim-patch:f0d58efc9dc4
vim-patch:ba3ff539303c
vim-patch:790c18bfa5df
Merge #10615 'vim-patch:8.1.0053'
PVS/V507: suppress false positive #10647
vim-patch:8.1.0053 use typval_T in the caller of call_vim_function Problem:	unreliable types for complete function arguments Solution:	fix argument type for functions w/ unreliable type conversion(Ozaki Kiichi) vim/vim#2993
build/macOS: enable fallthrough attribute #10653
vim-patch:8.1.1086: too many curly braces
buffer: add attributes to pure functions
vim-patch:8.1.1049: when user tries to exit with CTRL-C message is confusing
vim-patch:8.1.1041: test for Arabic no longer needed
vim-patch:8.1.1394: not restoring t_F2 in registers test
vim-patch:8.1.1005: test fails because t_F2 is not set
Merge #10641 from ngortheone/pvs/V560_6
lint: makemap
pvs/V560: part of conditional expression is always false
vim-patch:8.1.1138: add CompleteChanged #10644
vim-patch:8.1.0017: shell command completion has duplicates #10616
clang/"dead assignments" #10620
TextYankPost: spurious/too-early dispatch during delete #10392
Merge #10643 from janlazo/vim-8.1.1765
PVS/V547: expression is always true/false #10640
vim-patch:8.1.0990: floating point exception with "%= 0" and "/= 0"
PVS/V512: memcpy overflow/underflow #10642
vim-patch:8.1.1765: get(func, dict, def) does not work properly
PVS/V560: condition is always false #10638
vim-patch:8.0.1753: fix various warnings #10639
context: shada_encode_regs(): init WriteMergerState #10637
PVS/V560: expression is always false/true #10623
vim-patch:7.4.2213: runtime parts with EndOfBuffer port #10635
ci: Travis: no need for asan_symbolize (#10627)
src/clint.py: flake8 fixes  [ci skip] (#10631)
vim-patch:b1c9198af (#10634)
Merge #10628 from notomo/vim-8.1.1759
build/tests: remove pre/uv.h #10531
PVS/V560: condition is always true #10630
PVS/V560: condition is always true #10624
pvs/V560: part of conditional expression is always true (#10629)
Fix clint error
vim-patch:8.1.1759: no mode char for terminal mapping from maparg()
vim-patch:8.1.0053 use typval_T in the caller of call_vim_function Problem:	unreliable types for complete function arguments Solution:	fix argument type for functions w/ unreliable type conversion(Ozaki Kiichi) vim/vim#2993
vim-patch:8.1.1748: :args output is not aligned (#10625)
Merge #10619 'API: context'
API: Context: save/restore
vim-patch:8.1.0956: context:0 in 'diffopt' #10622
eval: context: add ctx-family functions
API: Context
API: Context
vim-patch:8.1.53 use typval_T in the caller of call_vim_function Problem:	unreliable types for complete function arguments Solution:	fix argument type for functions w/ unreliable type conversion(Ozaki Kiichi) vim/vim#2993
ci: AppVeyor: DEPS_BUILD_DIR is not a CMake variable  [ci skip] (#10613)
ci: Travis: single osx job  [ci skip] (#10614)
ci: Travis: gcc-9: use gcov-9  (#10609)
tests: test_arglist.vim: align with Vim  [ci skip] (#10612)
Merge #10606 'vim-patch:8.1.0404'
ci: Travis: remove clang-tsan from allowed failures [skip ci] (#10591)
Merge pull request #10580 from blueyed/tests-cat
tests: win: fix "cat" with PowerShell
tests: use "cat" also on Windows
vim-patch:8.1.1747: unused variables #10605
Revert "vim-patch:8.1.0430: Xargadd file left behind after running test"
vim-patch:8.1.0404: accessing invalid memory with long argument name
Merge #10589 'os/fs: introduce os_fopen()'
cleanup: remove mch_fopen in favor of os_fopen
os/fs: introduce os_fopen()
PVS/V768: do use enum as bool #10582
Merge #10596 'vim-patch:8.1.{899,903,905,907,908,910,913,1746}'
regexp: add function attributes
vim-patch:8.1.0913: CI crashes when running out of memory
vim-patch:8.1.0910: crash with tricky search pattern
vim-patch:8.1.0907: CI tests on AppVeyor are failing
vim-patch:8.1.0905: complicated regexp causes a crash
regexp: use fixed types to avoid overflow
Checks for overflow when parsing string to int
vim-patch:8.1.0908: can't handle large value for %{nr}v in regexp
vim-patch:8.1.1746: ":dl" is seen as ":dlist" instead of ":delete"
vim-patch:8.1.0903: struct uses more bytes than needed
vim-patch:8.1.0899: no need to check restricted mode for setwinvar()
coverage: use "cd" with gcovr (#10594)
vim-patch:8.1.1740: exepath() doesn't work for "bin/cat" (#10556)
vim-patch:8.1.1738: testing lambda with timer is slow (#10590)
third-party: download: retry (#10599)
ci: RunTests: ensure that the logfile gets displayed (#10597)
sign: REMOVE FEAT_SIGN_ICONS, dead code #10595
tests: AppVeyor: fix test/functional/ex_cmds/arg_spec.lua (#10598)
vim-patch:8.1.1737: :args command that outputs one line gives more prompt
vim-patch:8.0.1738: ":args" output is hard to read
tests: fix/improve Screen:expect_unchanged (#10577)
ci: restore accidentally removed config (#10592)
tests: re-enable "tab drag in tabline to the left moves tab left" (#10588)
Merge #10558 from erw7/fix-text-overrides-line-number2
env: invalid pointer after os_setenv() #10558
win/TUI: workaround libuv LF => CRLF conversion #10558
Revert "vim-patch:8.0.1723: using one item array size declaration is misleading" (#10583)
build: GetBinaryDeps: move include, fix doc (#10579)
shell-test: fix REP for count larger than uint8_t (#10581)
PVS/V1019: "readability" warning #10566
tests: make TERM=interix test pending (#10576)
build: fix gcc warnings #10568
vim-patch:8.1.0706: introduce :redrawtabline #10570
build: remove -Wno-array-bounds workaround #10484
test/helpers: improve pattern with module functions (#10421)
vim-patch:8.1.1724: too much overhead checking for CTRL-C #10564
Merge #10561 from justinmk/os_can_exe
os_can_exe: remove char_u
win: jobstart(), system(): $PATHEXT-resolve exe
Merge #10555 from janlazo/vim-8.1.1720
move: assert nonnull wp pointer
vim-patch:8.1.0856: when scrolling a window the cursorline is not always updated
vim-patch:8.1.1720: crash with very long %[] pattern
vim-patch:8.1.0789: session sets v:errmsg #10553
test: shell-test.c: "REP" command: flush, wait 1ms #10552
Merge #10550 'screen.lua: expect_unchanged()'
screen.lua: always print keyword-args snapshot
screen.lua: expect_unchanged(), get_snapshot()
vim-patch:8.1.0754: preferred column when setting 'cursorcolumn' #10549
test: shell-test.c: flush stdout for REP #10548
[RFC]vim-patch:8.1.{749,1715} #10545
reltimefloat(): allow negative result #10544
doc [ci skip] #10383
Merge pull request #10541 from bfredl/conversion_getln
PVS/V1026: possible overflow in a loop #10529
Merge #10543 'PVS/V560'
lint
pvs/V560: A part of conditional expression is always true
pvs/V560: A part of conditional expression is always true
refactor: use int for Columns and Rows
refactor: enable -Wconversion for ex_getln.c
option_defs.h: fix incorrect definition #10542
test: Force $TEST_FILE to relative path [ci skip] #10535
vim-patch:8.1.0740: Tcl test fails (#10540)
Merge #10368 from janlazo/vim-8.0.1164
Merge #10052 from janlazo/vim-8.1.0729
Revert "Downgrade to clang-4.0 to avoid false-positive warnings from clang"  [skip appveyor] (#10487)
pvs/V1037: two case branches doing the same thing (#10527)
PVS/V1037: suppress warning #10526
vim-patch:8.1.0732: cannot build without the eval feature
vim-patch:8.1.0729: there is a SourcePre autocommand event but not a SourcePost
ci: Travis: use gcc9 with gcov job [skip appveyor] (#10480)
PVS/V1037: suppress warning #10528
PVS/V1037: redundant switch-case branches #10519
tests: fix "system() … prints verbose information" (#10532)
ci: Travis: ccache: use CCACHE_HASHDIR  [skip appveyor]
build: fix handling of install prefix with CMAKE_EXTRA_FLAGS (#10530)
jobstop(): close channel before process_stop() #10522
vim-patch:8.1.0715: superfluous redraw_win_later() #10523
tests: move "busted" dir to "test" (#10518)
tests: shell-test: use count for REP (#10514)
viml/profile: revert proftime_T to unsigned type #10521
PVS/V1028: cast operands, not the result #10505
Merge #10500 from ngortheone/pvs/V1028_misc1
PVS/V108: cast operands, not the result #10501
Merge #10493 from ngortheone/pvs/V1028_getchar_918
Merge #10391 from janlazo/vim-8.1.0495
PVS/V1028: cast operands, not the result #10503
lint
pvs/V1028: cast operands, not the result
Merge #10520 'PVS/V1037: redundant case-branches'
PVS/V1028: cast operands, not the result #10502
Merge pull request #10504 from bfredl/hl_def
third-party: busted 2.0.0-0 (#10517)
vim-patch:8.1.0715: superfluous call to redraw_win_later()
vim-patch:8.1.0686: when 'y' is in 'cpoptions' yanking for the clipboard changes redo
vim-patch:8.1.0641: no check for out-of-memory when converting regexp
vim-patch:8.1.0630: "wincmd p" does not work after using an autocmd window
vim-patch:8.1.0623: iterating through window frames is repeated
vim-patch:8.1.0583: using illogical name for get_dict_number()/get_dict_string()
vim-patch:8.1.1651: suspend test is flaky on some systems
vim-patch:8.1.0533: screendump tests can be flaky
vim-patch:8.1.0531: flaky tests often fail with a common error message
vim-patch:8.1.1012: memory leak with E461
vim-patch:8.1.0833: memory leak when jumps output is filtered
vim-patch:8.1.1221: filtering does not work when listing marks
vim-patch:8.1.0505: filter command test may fail if helplang is not set
vim-patch:8.1.0495: :filter only supports some commands
lint
pvs/V1037: two case-branches perform the same action
viml/profile: cast os_hrtime() result
PVS/V781: suppress false positive #10516
PVS/V1028: cast operands, not the result #10496
lint
pvs/V1028: cast operands, not the result
Fix missing CursorHoldI events (#3758)
PVS/V1028: cast operands, not the result #10507
PVS/V1028: cast operands, not the result #10498
third-party: use CXX only for BuildGperf (#10512)
Fix is_executable_in_path() on Windows (#10468)
build: propagate sysroot to C++ deps (gperf) #10491
PVS/V590: redundant condition #10510
PVS/V547: expression is always false #10511
PVS/V1028: cast operands, not the result #10508
PVS/V1028: cast operands, not the result #10508
gitignore: ignore idea/clion (#10494)
checkhealth: try yarn if npm is missing #10490
PVS/V1028 ugrid.c:76 (#10495)
highlight: expose builtin highlight groups using hl_group_set event
Merge pull request #10497 from bfredl/synlist
syntax: refactor syn_list_header to not use magic value
syntax: fix missing newlines in execute("syn list"). fixes #10467
gitignore: ignore idea/clion
Merge pull request #10492 from bfredl/blend_doublewidth
floats: fix 'winblend' on top of doublewidth chars.
viml/profile: revert gettimeofday() #10488
Merge #10435 from Shougo/vim-8.1.1610
PVS/V547: dead code #10459
tests: use vim.inspect (#10485)
vim-patch:8.1.1660: assert_fails() inside try/catch #10472
build: fix check_c_compiler_flag for -Wno-… (#10483)
oldtest: more compact output with "clean" target (#10477)
pvscheck.sh: Remove --verbose flag #10473
vim-patch:8.1.1173: suspend test has duplicated lines (#10466)
ci: AppVeyor: do not install unibilium system-wide (#10464)
build: BuildLuv: set/pass WITH_LUA_ENGINE (#10449)
scripts/stripdecls.py #10458
build: LibUV: required version: 1.28.0 (#10456)
Merge pull request #9575 from bfredl/redrawdebug
bundle: update libuv: v1.29.1 => v1.30.0 (#10365)
Merge pull request #10457 from bfredl/dwfloat
ui: add 'redrawdebug' option for flexible debugging of redrawing
compositor: handle float overlapping left half of doublewidth char
viml/reltime(): allow negative result #10453
eval.c: clang/"Dead assignment" #10446
Revert "tests: executable_spec: enable pending test #10443" (#10454)
Merge pull request #10234 from bfredl/resizefloat
window: allow resize wincmds for floats
tests: ex_terminal_spec: add test for previous leak (#10450)
ci: Travis: use minimum supported CMake in one job (#10445)
make all *.h linguist-language as C file #10442
Merge pull request #10090 from bfredl/floatpopup
CI: improve gcov handling #10404
api/window: add style="minimal" flag to nvim_open_win()
ci: fix/improve Travis cache handling  [skip appveyor] (#10412)
tests: executable_spec: enable pending test #10443
build: fix GetCompileFlags for CMake #10444
vim-patch:8.0.1164: changing StatusLine highlight does not always work
vim-patch:8.0.1146: redraw when highlight is set with same names
vim-patch:8.0.0755: terminal window does not have colors in the GUI
Merge #10394 from janlazo/vim-8.1.1614
func_clear_items: use XFREE_CLEAR #10436
Fix lint failed
Fix errors
vim-patch:8.1.1611: bufadd() reuses existing buffer without a name
vim-patch:8.1.1610: there is no way to add or load a buffer without side effects
vim-patch:8.1.1639: changing an autoload name into a file name is inefficient
vim-patch:8.1.1634: terminal test fails when term_getansicolors() is missing
vim-patch:8.1.1632: build with EXITFREE but without +arabic fails
vim-patch:8.1.1614: 'numberwidth' can only go up to 10
vim-patch:8.1.0229: crash when dumping profiling data #10428
termdebug.vim: vertical layout #10424
Merge pull request #10398 from bfredl/resizeautocmd
Merge pull request #10293 from bfredl/hi_msg
screen: disable redrawing inside VimResized
highlight: show "hi Group" message correctly when not using the screen
build: FindLibIntl: fix warning about CMP0075 (#10427)
Merge pull request #10425 from blueyed/luarocks-build
BuildLuarocks: improve comments
BuildLuarocks.cmake: use ROCKS_DIR
.gitignore
tests: loop_spec: retry (#10413)
build: use -fdiagnostics-color=always with Ninja (#10419)
tests: fix flaky ':digraphs displays digraphs' (#10406)
Merge pull request #10414 from blueyed/luacheck
build: FindLuaJit: handle luajit-2.1 include path suffix (#10418)
third-party: fix warning with (un)bundled libtermkey/unibilium (#10416)
win,fs.c: Fix is_executable_ext #10209
Improve luacheck setup  [skip appveyor]
Fix luacheck errors for all Lua source files
build: bundle: clean binary dir with new downloads (#10411)
tests: shell-test: add INTERACT mode (#10405)
tests: executable_spec: keep assertion (#10408)
tests: fix/improve "TUI background color" tests (#10229)
ci: Travis: do not close fold on failure  [skip ci]
build: Fix rule of `build/.ran-third-party-cmake` #10402
tests: fix flaky "TermClose event triggers when fast-exiting terminal job stops" (#10377)
tests: fix flaky "terminal (with fake shell) with not arguments …" (#10401)
Merge pull request #10397 from bfredl/cmdcleanup
cmdline: remove local variables i and j from command_line_state
defaults: wildoptions=pum,tagfile #10384
test/old: pass  Test_recover_root_dir on Windows (#10207)
Merge pull request #10389 from bfredl/luafloat
vim-patch:8.1.0452: MS-Windows: not finding intl.dll #10388
Merge pull request #10387 from bfredl/wildpos
api/lua: make nvim_execute_lua use native lua floats, not special tables
cmdline: correct the column position of wildoptions=pum popupmenu
build: fix warning with passively available libintl (#10380)
build: LibLUV: update required version  [ci skip] (#10381)
Merge pull request #10316 from bfredl/cb_safety
fileio.c: eliminate set_file_time() #10357
man.vim: Handle ANSI escape sequences with ":" #10267
make vim.loop == require'luv'
libluv: use luv_set_callback to control callback execution
rename: FUNC_API_ASYNC => FUNC_API_FAST
:digraphs : check for CTRL-C less often #10376
Makefile: CMAKE_INSTALL_PREFIX: skip parsing CMAKE_EXTRA_FLAGS if set (#10374)
build: update cmake/LibFindMacros.cmake (#10355)
Makefile: move `all` target to the top  [ci skip] #10375
doc [ci skip] #10177
build: update some test dependencies (#10339)
build: FindLibLUV: use PkgConfig (#10359)
Makefile: revisit/improve checkprefix handling (#10348)
:ls : show "R", "F" for terminal-jobs #10370
build: CMake: do not set CMP0059 to old (#10363)
cmake/RunTests.cmake: fix TEST_TAG/TEST_FILTER  [ci skip] #10371
tests: fix flaky "timers can be stopped from the handler" (#10364)
viml/profile: switch to uv_gettimeofday() #10356
Merge #10369 from janlazo/vim-8.0.1202
vim-patch:8.0.1259: search test can be flaky
vim-patch:8.0.1238: incremental search only shows one match
vim-patch:8.0.1202: :wall gives an errof for a terminal window
build: remove patch: luv-Add-missing-definitions-for-MinGW  [skip travis] #10360
build: CMake: remove usage of USE_BUNDLED_X in main project (#10354)
Merge #10349 from janlazo/vim-8.0.0935
CMakeLists: remove/cleanup passing of CMAKE_SYSTEM_NAME (#10351)
build: BuildLua: fix check for mingw  [skip ci] (#10352)
ci: AppVeyor: GCOV_ERROR_FILE: head/tail  [skip ci] (#10335)
vim-patch:8.0.1120: :tm means :tmap instead of :tmenu
vim-patch:8.0.1100: stuck in redraw loop when 'lazyredraw' is set
vim-patch:8.0.1013: terminal window behaves different from a buffer with changes
vim-patch:8.0.0935: cannot recognize a terminal buffer in :ls output
Makefile: fix regression with "make functionaltest-lua" (#10346)
ci: Travis: upgrade OSX images (10.1 => 10.2) (#10319)
Merge pull request #10342 from bfredl/apisandbox
Merge #10340 from janlazo/vim-8.1.1593
Merge pull request #10344 from bfredl/extcmdredraw
Merge pull request #10343 from bfredl/scrollblend
cmdline: remove invalid cmdline_show event when aborting mapping
compositor: handle scrolling of blended window
eval/api: don't allow the API to be called in the sandbox.
vim-patch:8.0.1688: some macros are used without a semicolon
vim-patch:8.1.1593: filetype not detected for C++ header files without extension
build: Makefile: fix distclean  [ci skip] (#10336)
Merge pull request #9923 from bfredl/floatblend
api: make nvim__inspect_cell support multiple grids
ui: add 'winblend' to support blending of floating windows
build: use main cmake modules with third-party (#10330)
ci: revisit/fix coverage uploading (#10201)
Merge #10329 from janlazo/vim-8.1.0437
vim-patch:8.1.1342: using freed memory when joining line with text property
vim-patch:8.0.1535: C syntax test still fails when using gvim
vim-patch:8.1.0198: there is no hint that syntax is disabled for 'redrawtime'
vim-patch:8.1.0437: may access freed memory when syntax HL times out
Merge #10323 from janlazo/vim-8.1.1055
Merge #10250 from blueyed/vim-8.0.1039
Merge pull request #10290 from janlazo/vim-8.1.0086
health.vim: check shada file #10327
[RFC] vim-patch:8.1.1365,8.1.1366,8.1.1367,8.1.1368,8.1.1382,8… (#10309)
build: CMake: remove LUAROCKS_VERSION (#10317)
Merge #10313 from rhysd/const-patches
lint
vim-patch:8.1.1401: misspelled mkspellmem as makespellmem
vim-patch:8.1.1382: error when editing test file
vim-patch:8.1.1368: modeline test fails with python but without pythonhome
vim-patch:8.1.1367: can set 'modelineexpr' in modeline
vim-patch:8.1.1366: using expressions in a modeline is unsafe
vim-patch:8.1.1365: source command doesn't check for the sandbox
build: luarocks: fall back to luajit (#10297)
tests: busted: do not use "--lua" (#10303)
vim-patch:8.0.1482: using feedkeys() does not work to test completion
os: close library even if uv_dlopen() fails
vim-patch:8.1.0347: some tests fail on Solaris
vim-patch:8.1.0086: no tests for libcall() and libcallnr()
vim-patch:8.0.1480: patch missing change
vim-patch:8.0.1479: insert mode completion state is confusing
build: Makefile: handle "rm -rf .deps" (#10305)
build: luajit: do not disable jit (#10318)
bundle: upgrade LuaJIT to latest v2.0 commit (#10320)
vim-patch:8.1.1055: CTRL-G U in Insert mode doesn't work for shift-Left
eval.c: Fix clint errors and typo in comment of ex_const()
Merge #10294 from janlazo/vim-8.0.1239
vim-patch:8.1.1554: docs and tests for :const can be improved
vim-patch:8.1.1543: const test fails with small features
vim-patch:8.1.1539: not easy to define a variable and lock it
eval: assert VAR_LIST branch in filter_map()
getchar: Handle incomplete <Paste> in typeahead buffer #10311
vim-patch:8.1.0747: map() with a bad expression doesn't give an error
vim-patch:8.1.1519: 'backupskip' may contain duplicates
vim-patch:8.1.0853: options test fails on Mac
vim-patch:8.1.0850: test for 'backupskip' is not correct
vim-patch:8.1.0272: options test fails if temp var ends in slash
vim-patch:8.1.0270: checking for a Tab in a line could be faster
vim-patch:8.1.0242: Insert mode completion may use an invalid buffer pointer
vim-patch:8.1.0169: calling message_filtered() a bit too often
vim-patch:8.1.0167: lock flag in new dictitem is reset in many places
vim-patch:8.1.0166: using dict_add_nr_str() is clumsy
vim-patch:8.1.0165: :clist output can be very long
ops: refactor swapchar() to return bool
vim-patch:8.1.0125: virtual edit replace with multi-byte fails at end of line
vim-patch:8.1.0181: memory leak with trailing characters in skip expression
eval: require nonnull func args to pass ASAN build
vim-patch:8.1.0112: no error when using bad arguments with searchpair()
lint
vim-patch:8.0.1239: cannot use a lambda for the skip argument to searchpair()
screen: Adjust buffer sizes for multiple sign columns #10314
Makefile: fix trailing space in BUILD_CMD #10312
build: tests: build luv rock also with USE_BUNDLED_LUV=0 (#10307)
version.c: update [ci skip] #10115
tests: fix "api nvim_get_proc_children returns child process ids" (#10296)
tests: improve RunTests.cmake (#10239)
build: USE_BUNDLED_LUV=0 with USE_BUNDLED_LUAROCKS=1 #10291
cmake: fix usage of find_package_handle_standard_args (#10288)
CI/Travis: restore ASAN build to first stage #10274
Merge #10245 from janlazo/vim-8.0.1723
CI: use -m to invoke pip #10275
Update argc(),argv() based on 8.1.0493
test/old: run test_arglist
vim-patch:8.1.0074: crash when running quickfix tests
vim-patch:8.1.0073: crash when autocommands call setloclist()
vim-patch:8.0.1726: older MSVC doesn't support declarations halfway a block
vim-patch:8.0.1723: using one item array size declaration is misleading
ci: Travis: move gcov job to baseline (no allowed failures) (#10238)
tests: oldtests: mark Test_cursorhold_insert as flaky  [ci skip] (#10264)
ci: Travis: simplify/improve Python/pip setup  (#10228)
Merge pull request #10021 from bfredl/chanevent
channel: refactor events, prevent recursive invocation of events
gcov: use __gcov_flush instead of __gcov_dump (#10260)
vim-patch:8.0.1274: setbufline() fails when using folding
vim-patch:8.0.1055: bufline test hangs on MS-Windows
vim-patch:8.0.1053: setline() does not work on startup
vim-patch:8.0.1039: cannot change a line in not current buffer
Merge #10224 from blueyed/fix-Test_tagfiles
Merge pull request #10186 from blueyed/fix-cd
ci: Travis: skip lint job with "\[skip.lint\]"
ci: Travis: ccache: use --zero-stats
ci: AppVeyor: use fast_finish=true
ci/build.ps1: add comment for PATH mangling with old tests
ci: Travis: remove obsolete cmake file
ci/common/test.sh: fix some issues reported by shellcheck
vim-patch:8.1.1546: in some tests 'tags' is set but not restored
tests: fix Test_tagfiles: use Vim's 'tags' setting
vim-patch:8.0.1845: various comment updates needed, missing white space (#10203)
vim-patch:8.1.1003: playing back recorded key sequence mistakes key code (#10155)
Merge pull request #10236 from janlazo/vim-8.1.1545
Merge pull request #10150 from bfredl/extcount
messages: fix crash with msg_advance when using ext_messages
messages: support shortmess-=S in ext_messages
vim-patch:8.0.1549: various small problems in test files
vim-patch:8.0.1516: errors for job options are not very specific
vim-patch:8.1.0044: if a test function exists Vim this may go unnoticed
vim-patch:8.1.1545: when the screen is to small there is no message about that
ci: AppVeyor: ensure that win32 feature is set (#10216)
vim-patch:8.0.1245: when WaitFor() has a wrong expression it just waits a second (#10233)
ci: Travis: add baseline stage  [skip appveyor] (#10226)
ci: codecov: do not use flags  [ci skip] (#10227)
Dump gcov coverage in process_spawn (#10230)
Merge pull request #10231 from bfredl/bufcb_end
api/lua: add on_detach to nvim_buf_attach
ci: AppVeyor: fix cov job, remove duplicate non-cov one (#10217)
Merge #10208 from janlazo/vim-8.0.0931
vim-patch:8.0.0953: get "no write since last change" error in terminal window
test/old: pass Test_statusline on Windows
vim-patch:8.0.0933: terminal test tries to start GUI when it's not possible
vim-patch:8.0.0931: getwininfo() does not indicate a terminal window
Merge pull request #10221 from bfredl/showcmd_cursor
tests: increase timeout with "timers doesn't mess up the cmdline" (#10212)
screen: showcmd should never move the cursor
Merge pull request #10202 from blueyed/vim-8.0.1704
tui: support rgba background detection (#10205)
vim-patch:8.0.1704: 'backupskip' default doesn't work for Mac
tests: align tests in test_options to Vim (moved)
main: do event_init before early_init #10183
Merge #10192 from janlazo/vim-8.0.1689
vim-patch:8.1.0213: CTRL-W CR does not work properly in a quickfix window
vim-patch:8.0.1689: no tests for xxd
Merge #10163 from blueyed/vim-8.1.1292
vim-patch:8.1.1211: test user command code #10162
adjust tests for nvim
vim-patch:8.1.1292: invalid command line arguments not tested
local.mk.example: add example for -Werror  [ci skip] #10178
TUI: set os/input.c:global_fd to input->in_fd #10174
doc [ci skip] #10129
lua: introduce vim.loop (expose libuv event-loop) #10123
vim-patch:8.0.1278: Add the "k" flag in 'guioptions' #10175
Merge #10173 from janlazo/vim-8.0.1756
lint
vim-patch:8.1.1509: cmdline_row can become negative, causing a crash
vim-patch:8.0.1756: GUI: after prompting for a number the mouse shape is wrong
search_stat: show "??/?" dual in right-to-left case #10170
Merge #10142 from blueyed/vim-1fbfe7c48
vim-patch.sh: git-for-each-ref: use strip  [ci skip] #10169
vim-patch.sh: improve performance with -l  [ci skip] #10165
Change to not test msg_puts_pirntf() in unix CI
Change to use VV_PROGPATH instead os_exepath()
Add msg_puts_printf() test for multibyte characters
Fix problems with message catalog directory
Remove display_erros()
Remove USE_MCH_ERRMSG
Change mch_errmsg and mch_msg from macro to function
Add test for #7967
Fix garbled problem with msg_puts_printf on Windows
vim-patch:8.0.1305: writefile() never calls fsync() #10153
vim-patch:8.1.1191: test debug commands #10158
vim-patch:8.1.0769: :stop is covered in two tests #10157
Merge #10135 from janlazo/vim-8.1.0406
vim-patch:8.1.1491: fix skipping after exception #10164
vim-patch:8.1.0131: :profdel is not tested
vim-patch:8.1.0130: ":profdel func" does not work if func was called already
vim-patch:8.1.0426: accessing invalid memory in SmcOpenConnection()
test/old: ignore defaults.vim assertion
vim-patch:8.1.0417: several command line arguments are not tested
vim-patch:8.1.0409: startup test fails on MS-Windows
vim-patch:8.1.0406: several command line arguments are not tested
vim-patch.sh: use --no-backup-if-mismatch [ci skip] #10156
vim-patch:8.1.0830: test leaves directory behind #10152
vim-patch:8.1.1199: no test for :abclear #9936
Merge #10151 from blueyed/vim-8.1.0807
vim-patch.sh: improve patching [ci skip] #10154
Merge #10149 from blueyed/vim-8.1.0430
vim-patch.sh: improve performance #10137
vim-patch.sh: fix shellcheck issues  [ci skip] #10138
vim-patch:8.1.0813: FileChangedShell not sufficiently tested
vim-patch:8.1.0807: session test fails on MS-Windows
vim-patch:8.1.0529: flaky test sometimes fails in different ways
vim-patch:8.1.0430: Xargadd file left behind after running test
Merge #10141 from blueyed/vim-8.0.1335
vim-patch:1ebff3dc9 #10144
Test_writefile_sync_dev_stdout: use s for sync explicitly
vim-patch:9980b37a80
vim-patch:83799a7b7
vim-patch:291a9d15e
defaults: exclude "S" from 'shortmess' #10136
Merge #10114 from erw7/vim-8.1.1270
Merge #10128 from janlazo/vim-8.0.1384
vim-patch:8.0.1702: leaking memory when autocommands make quickfix list invalid
vim-patch:8.1.0060: crash when autocommands delete the current buffer
vim-patch:8.0.1784: gvim test gets stuck in dialog
vim-patch:8.0.1669: :vimgrep may add entries to the wrong quickfix list
vim-patch:8.0.1414: accessing freed memory in :lfile.
vim-patch:8.0.1412: using free memory using setloclist()
vim-patch:8.0.1384: not enough quickfix help; confusing winid
vim-patch:8.1.1475: search string not displayed when 'rightleft' is set
vim-patch:8.1.1375: without "TS" in 'shortmess' get a hit-enter prompt often
vim-patch:8.1.1470: new doublewidth Unicode character U32FF #10126
Merge pull request #10120 from bfredl/lua_schedule
lua: docs and tests for vim.schedule
lua: add vim.schedule(cb)
vim-patch:8.1.1390: search stats are off when using count or offset
vim-patch:8.1.1350: "W" for wrapping not shown when more than 99 matches
vim-patch:8.1.1289: may not have enough space to add "W" to search stats
vim-patch:8.1.1288: search stats don't show for mapped command
vim-patch:8.1.1283: delaying half a second after the top-bot message
vim-patch:8.1.1271: compiler warnings for use of STRNCPY()
vim-patch:8.1.1270: cannot see current match position
Merge pull request #10117 from bfredl/ctrl-o_event
Merge pull request #9170 from bfredl/lua_cb
normal: Don't exit CTRL-O mode after processing K_EVENT
api: allow nvim_buf_attach from lua using callbacks
version.c: update [ci skip] #10072
Merge #10113 from janlazo/vim-8.0.1518
Merge #9829 'startup: remove TUI init special-case'
vim-patch:8.1.0002: :stopinsert changes the message position
vim-patch:8.1.0804: crash when setting v:errmsg to empty list
vim-patch:8.1.0629: "gn" selects the wrong text with a multi-line match
vim-patch:8.0.1518: error messages suppressed after ":silent! try"
main.c: Change to use redraw_later(VALID)
Fix issue where test fails
[skip appveyor] Fix clint issue
main.c: Change TUI to initialize like GUI
tui/input.c: Fix problem when stdin is not TTY
main.c: fixes #7967
Merge #9338 from janlazo/vim-8.1.0569
Merge #9338 'vim-patch:8.1.{569,571}'
Merge #10109 from erw7/fix-screenchar-on-headless-mode
msg_puts_attr_len: check default_grid.chars if headless
Fix screenchar() problem in headless mode
Merge pull request #10112 from bfredl/noautobuf
api/buffer: create new buffers in the "opened" state
Merge pull request #10107 from gelguy/c_ctrl_d
test: don't detach screen just to change the size
Add test
Fix multiple c_CTRL-D showing statusline
oldtests: set laststatus=1
functionaltests: fix new execute() tests
update functional test for "places cursor correctly #6035"
UI: Fix wrong msg_col after execute()
vim-patch:8.1.0571: non-silent execute() resets display column to zero
vim-patch:8.1.0569: execute() always resets display column to zero
build: fix some warnings
test: avoid some boilerplate
Make sure msg_clear is sent after confirm message (#10065)
Merge #10086 'vim-patch:8.1.{902,1114}'
[RDY] Fix wildmode=list,full and display+=msgsep interaction (#10103)
Merge #10104 from justinmk/dep-libuv
deps: update to libuv v1.29.1
test: cleanup, reduce verbosity
doc [ci skip] #10097
signs: fix crash in buf_addsign #10091
Merge #10099 from janlazo/vim-8.1.1000
vim-patch:8.1.1436: writefile test fails when run under /tmp
lint
vim-patch:8.1.1000: indenting is off
Merge #10083 from janlazo/vim-8.0.0785
vim-patch:8.1.1114: confusing overloaded operator "." for string concatenation
lint
vim-patch:8.1.0902: incomplete set of assignment operators
vim-patch:8.0.0785: wildcards are not expanded for :terminal
vim-patch:8.1.1411: fix divide by zero #10073
version.c: update [ci skip] (#9875)
Merge #10068 from janlazo/vim-8.1.0020
lint
vim-patch:8.1.1077: reg_executing() is reset by calling input()
vim-patch:8.1.0995: a getchar() call resets the reg_executing() result
vim-patch:8.1.0020: cannot tell whether a register is executing or recording
UI/ext_messages: restore kind=quickfix #10067
Merge #10059 from jerdna-regeiz/vim-8.1.0614
UI/cmdline: check if redraw is needed after K_EVENT, K_COMMAND #9804
lint
Skipping Test_sign_memfailures (unsupported memory checks)
Fix out of bounds read in sign_group_ref
vim-patch:8.1.0039: cannot easily delete lines in another buffer
Resolved compile warnings & fixed lot of style related to sign api
Allow multiple signs of same type in one line (matching vim behaviour)
Fixed ordering of signs to align vim and neovim behaviour
Changed sign_mark_adjust behaviour to match vim
vim-patch:8.1.0772: the sign_define_by_name() function is too long
vim-patch:8.1.0767: when deleting lines at the bottom signs are misplaced
vim-patch:8.1.0750: when the last sign is deleted the signcolumn may remain
vim-patch:8.1.0717: there is no function for the ":sign jump" command
vim-patch:8.1.0709: windows are updated for every added/deleted sign
vim-patch:8.1.0702: ":sign place" only uses the current buffer
vim-patch:8.1.0701: sign message not translated and inconsistent spacing
vim-patch:8.1.0697: ":sign place" requires the buffer argument
vim-patch:8.1.0679: sign functions do not take buffer argument as documented
vim-patch:8.1.0673: functionality for signs is spread out over several files
vim-patch:8.1.0669: the ex_sign() function is too long
vim-patch:8.1.0660: sign_cleanup() may leak memory
vim-patch:8.1.0658: deleting signs and completion for :sign is insufficient
vim-patch:8.1.0644: finding next sign ID is inefficient
vim-patch:8.1.0632: using sign group names is inefficient
vim-patch:8.1.0614: placing signs can be complicated
Merge #9897 from janlazo/vim-8.0.0683
Merge pull request #9547 from bfredl/rpc_multiline_err
Merge #10064 from janlazo/vim-8.1.0211
doc/API: document indexing behavior #10058
messages: use proper multiline error message for rpcrequest and API wrappers
lint
vim-patch:8.1.0307: there is no good way to get the window layout
vim-patch:8.1.0211: expanding a file name "~" results in $HOME
Merge #10063 from janlazo/vim-8.1.0205
test/old: remove duplicates, run test_tabpage.vim
vim-patch:8.1.0751: some regexp errors are not tested
vim-patch:8.1.0547: modeline test with keymap still fails
vim-patch:8.1.0546: modeline test with keymap fails
vim-patch:8.1.0506: modeline test fails when run by root
vim-patch:8.1.0206: duplicate test function name
vim-patch:8.1.0205: invalid memory access with invalid modeline
vim-patch:8.1.0817: test ":=" command #10062
Merge #10061 from janlazo/vim-8.1.0188
Fix memfile_test.c path
vim-patch:8.1.0317: Cscope test fails when using shadow directory
vim-patch:8.1.0188: no test for ":cscope add"
Allow 3 beeps per half a second
Merge #10046 from justinmk/xfree
clint: remove CheckAltTokens()
lint
vim-patch:8.0.0683: visual bell flashes too quickly
kvec.h: kv_destroy: reinitialize after free
vim-patch:8.0.1496: VIM_CLEAR()
refactor: introduce XFREE_CLEAR()
doc #10017
Merge #10054 from janlazo/vim-8.1.1373
vim-patch:8.1.1171: statusline test could fail in large terminal
vim-patch:8.0.1220: skipping empty statusline groups is not correct
vim-patch:8.0.1208: 'statusline' drops empty group with highlight change
lint
vim-patch:8.1.1373: "[p" in Visual mode puts in wrong line
Merge #10049 'vim-patch:8.1.0293'
vim-patch:8.1.1363: ":vert options" #10048
vim-patch:8.1.0293: checks for type of stack is cryptic
Merge #10038 from janlazo/vim-8.0.1514
cleanup: remove HAVE_SELINUX #10040
vim-patch:8.1.1360: buffer left 'nomodifiable' after :substitute
vim-patch:8.0.1519: getchangelist() does not use argument as bufname()
Merge #9709 'fileio: use os_copy to create backups'
lua/shared: share trim() impl
fileio: set group of backup file
Merge #9709 'fileio: use os_copy to create backups'
vim-patch:8.0.1514: getting the list of changes is not easy
runtime/termdebug.vim: handle "\n" as linebreaks #10037
Merge #10033 from janlazo/vim-8.0.1082
vim-patch:8.1.1358: cannot enter character with a CSI byte
vim-patch:8.1.1357: test 37 is old style
lint
vim-patch:8.1.0901: index in getjumplist() may be wrong
vim-patch:8.0.1513: the jumplist is not always properly cleaned up
vim-patch:8.0.1498: getjumplist() returns duplicate entries
vim-patch:8.0.1497: getting the jump list requires parsing the output of :jumps
vim-patch:8.0.1082: tests fail when run under valgrind
Merge #10034 from frangio/vim-8.1.1352
eval.c: add has("osx") for apple
vim-patch:8.1.1353: undo test fails on Mac
lint
vim-patch:8.1.1352: undofile() reports wrong name
Merge #9740 from KillTheMule/luadoc
lua/shared: share more stuff
lua/shared: share deepcopy() with test/*
gen_vimdoc.py: support lua/shared.lua module [ci skip]
Document the vim.lua functions
gen_vimdoc.py: get Lua docs via lua2dox.lua #9740
Merge #10028 from janlazo/vim-8.1.1345
Merge #9301 'runtime/lua'
lua/shared: move table util funcs to vim.shared
genappimage.sh: migrate to linuxdeploy #10027
vim-patch:8.1.1349: if writing runs into conversion error backup file is deleted
vim-patch:8.1.1348: running tests may cause the window to move
vim-patch:8.1.1325: cannot build with +eval but without +channel and +timers
vim-patch:8.1.1345: stuck in sandbox with ":s/../\=Function/gn"
kbtree.h: assert valid range #10022
test: remove use of require('test.helpers')
test: share implementation of testdir/load.vim
lua/stdlib: Introduce vim.shared
test: Extend {unit,functional}.helpers with global helpers
Merge pull request #10025 from bfredl/bufhl_fixes
kbtree: pointer UB and unitialized value fixes
vim-patch:8.1.1338: fix hang when concealing wide char #10023
runtime/termdebug.vim #10015
runtime/termdebug.vim #8364
Merge pull request #9883 from bfredl/termredraw
ui/terminal: make terminal state redraw like any other state
Merge pull request #9985 from bfredl/shenanigans
autocmd: fixes and tests for autocmd window issues
Merge #10003 from justinmk/api-keymap
API/nvim_set_keymap: remove mode-shortname aliases
API/nvim_set_keymap: minor cleanup
API: nvim_set_keymap, nvim_del_keymap #9924
test/channels_spec: cleanup
Merge #9993 from justinmk/ui-message-kinds
doc
UI/ext_messages: learn more message kinds
vim-patch:8.1.0543: fix memory leak #10001
Merge #9994 from janlazo/vim-8.1.1306
vim-patch:8.1.1312: Coverity warning for using uninitialized variable
vim-patch:8.1.1306: Borland support is outdated and doesn't work
runtime/tutor [ci skip] #9990
Merge #9992 from justinmk/ui-upgrade
UI/nvim_ui_attach(): add `override` option
Merge pull request #9987 from janlazo/vim-8.1.0865
vim-patch:8.1.1299: "extends" from 'listchars' is used when 'list' is off
vim-patch:8.1.0865: when 'listchars' only contains "nbsp:X" it does not work
vim-patch:8.1.1205: BufReadPre may move the cursor #9980
vim-patch:8.1.1293: MSVC files are no longer useful #9982
Merge #9979 from janlazo/vim-8.0.0876
vim-patch:8.0.1144: using wrong #ifdef for computing length
lint
vim-patch:8.1.0133: tagfiles() can have duplicate entries
API: fix cursor position when lines are added #9961
vim-patch:8.0.0876: backslashes and wildcards in backticks don't work
Merge #9978 from janlazo/vim-8.1.1285
fixup! vim-patch:8.0.1782: no simple way to label quickfix entries
vim-patch:8.1.1284: detecting *.tmpl as htmlcheetah is outdated
vim-patch:8.1.1286: running tests leaves XTest_tabpage_cmdheight file behind
vim-patch:8.1.1285: test17 is old style
Merge #9977 from justinmk/pvs
Merge #9798 'aucmd_prepbuf: Use floating window'
appdata: Include more info #9974
aucmd_win: use a floating window
lint
PVS/V781: "maxlen" variable checked after use
PVS/V547: Expression is always true
PVS/V547: Expression is always false
PVS/V547: Expression is always false
PVS/V571: condition was already verified
vim-patch:8.0.1750: crash clearing location list #9968
test: cleanup
Merge #9972 from janlazo/vim-8.1.1249
Merge #9842 from mhinz/vim-8.0.1782
vim-patch:8.1.1046: the "secure" variable is used inconsistently
vim-patch:8.1.0613: when executing an insecure function the secure flag is stuck
lint
doc: update setqflist()
tests: adjust to latest Vim patches
vim-patch:8.0.1831: sometimes the quickfix title is incorrectly prefixed with ':'
vim-patch:8.0.1805: qf_parse_line() is too long
vim-patch:8.0.1782: no simple way to label quickfix entries
vim-patch:8.0.1727: qf_get_properties() function is too long
vim-patch:8.0.1678: errorformat "%r" implies "%>"
vim-patch:8.0.1634: the ex_vimgrep() function is too long
vim-patch:8.0.1569: warning for uninitialized variable from gcc
test/old: set shellslash in Test_finddir
test/old: enable Test_normal01_keymodel
vim-patch:8.1.1249: compiler warning for uninitialized variable
vim-patch:8.0.1500: possible NULL pointer dereference
vim-patch:8.0.1432: after ":copen" can't get the window-ID of the quickfix window
vim-patch:8.0.1420: accessing freed memory in vimgrep
vim-patch:8.0.1406: difficult to track changes to a quickfix list
vim-patch:8.0.1389: getqflist() items are missing if not set
vim-patch:8.0.1353: QuickFixCmdPost is not used consistently
Merge #9970 from janlazo/vim-8.1.0794
vim-patch:8.1.0369: continuation lines cannot contain comments
vim-patch:8.0.1708: mkdir with 'p' flag fails on existing directory
lint
vim-patch:8.1.1242: no cmdline redraw when tabpages have different 'cmdheight'
vim-patch:8.1.0794: white space before " -Ntabmove" causes problems
Merge #9966 from justinmk/te-hl
terminal.c: remove unnecessary macro
ex_getln: fix statusline redraw logic #9967
terminal: swap priority of terminal, editor highlights
Merge #9946 from justinmk/doc
gen_vimdoc.py: support <pre> preformatted text [ci skip]
doc [ci skip]
Merge #9951 'vim-patch:8.1.0519: save/restore tag stack'
Merge #9957 from janlazo/vim-8.0.1263
lint
vim-patch:8.0.1267: Test_swap_group may leave file behind
vim-patch:8.0.1265: swap test not skipped when there is one group
vim-patch:8.0.1263: others can read the swap file if a user is careless
Merge #9956 from justinmk/vim-8.1.1231
vim-patch:8.1.0642: swapinfo() leaks memory
lint
vim-patch:8.1.1234: swap file test fails on MS-Windows
test/old: skip Test_swapfile_delete() until "blob" is merged
verb_msg: remove char_u
vim-patch:8.1.1231: asking about existing swap file unnecessarily
vim-patch:8.1.0401: can't get swap name of another buffer
vim-patch:8.1.0325: strings in swap file may not be NUL terminated
vim-patch:8.1.0316: swapinfo() test fails on Travis
vim-patch:8.1.0314: add swapinfo() "dirty" item
vim-patch:8.1.0313: information about a swap file is unavailable
vim-patch:8.0.1563: getwinposx() timeout #9955
clipboard: setreg("*") with clipboard=unnamed #9954
lint
vim-patch:8.1.0843: memory leak when running "make test_cd" #9944
tui:cursor_goto(): remove dead code #9952
runtime/Tutor: define highlights as "default" #9947
vim-patch:8.1.0519: cannot save and restore the tag stack
win: stream_init() issue with tty on Windows #9884
Merge #9911 from justinmk/win-site-data
test/old: remove test16 (#9949)
win/defaults: Use "…/nvim-data/site" in 'runtimepath'
vim-patch:8.1.1214: old style tests #9948
spellfile.vim: store files in stdpath('data')
doc/API #9916
Merge #9915 'test: clear(): args_rm param'
test: clear(): remove `opts.headless` parameter
test: clear(): `args_rm` parameter
test: 'shadafile' default
Merge #9942 from janlazo/vim-8.1.0837
test/old: remove test.out files
vim-patch:8.1.1209: clever compiler warns for buffer being too small
vim-patch:8.1.1207: some compilers give warning messages
vim-patch:8.1.1180: Vim script debugger tests are old style
oldtests: pass Test_ReadWrite_Autocmds()
vim-patch:8.1.1203: some autocmd tests are old style
vim-patch:8.1.1194: typos and small problems in source files
vim-patch:8.1.0837: timer interrupting cursorhold and mapping not tested
vim-patch:8.0.1510: cannot assert beep #9938
Merge #9906 from janlazo/vim-8.0.0647
Spurious quote mark in command line when typing <C-R> (#9934)
vim-patch:8.0.1408: crash in setqflist()
vim-patch:8.0.0768: terminal window status shows "[Scratch]"
vim-patch:8.0.0797: finished job in terminal window is not handled
vim-patch:8.0.1133: syntax timeout not used correctly
vim-patch:8.0.1107: terminal debugger jumps to non-existing file
vim-patch:8.0.1092: terminal debugger can't evaluate expressions
vim-patch:8.0.1085: terminal debugger can't set breakpoints
lint
vim-patch:8.0.0647: syntax highlighting can make cause a freeze
Merge pull request #9871 from justinmk/doc
gen_vimdoc.py: skip "Parameters" header if all excluded
health/provider.vim: check curl HTTPS support
doc: clarify -Es
doc: UI
doc
health: check if tmux enabled true colors (#9929)
Merge pull request #9926 from glacambre/fix_9889
Reset stop_insert_mode in terminal_enter rather than terminal_check
vim-patch:8.1.1177: .ts files are recognized as xml, typescript is more common (#9922)
options: avoid using empty 'shadafile'
vim-patch:8.0.0716: "--clean", 'shadafile' #9907
Merge pull request #9902 from janlazo/vim-8.0.0761
vim-patch:8.0.1112: can't get size or current index from quickfix list
vim-patch:8.0.1093: various small quickfix issues
vim-patch:8.0.0776: function prototypes missing without the quickfix feature
vim-patch:8.0.0761: options not set properly for a terminal buffer
Merge pull request #9904 from bryant/pass-cc-cxx-to-gperf-build
Merge pull request #9898 from bfredl/floatwidth
Build gperf with configured host compiler.
Set host C++ compiler CMake var.
Merge pull request #9783 from justinmk/inccommand-ignore-redraw
windows: float config changes
inccommand: Disable K_EVENT during preview calculation
inccommand: Ignore :redraw during preview
Merge pull request #9900 from mhinz/vim-8.0.1104
chdir: remove unused argument #9901
vim-patch:8.0.1130: the qf_jump() function is still too long
vim-patch:8.0.1104: the qf_jump() function is too long
Merge pull request #9896 from justinmk/api-async-error
Merge pull request #9895 from janlazo/vim-8.1.1156
generators: fix filename typo in help message
API: emit nvim_error_event on failed async request
options: properly reset directories on 'autochdir' (#9894)
lint
vim-patch:8.1.1157: Unicode tables are out of date
vim-patch:8.1.1156: Unicode emoji and other image characters not recognized
options: comma-separated options don't allow duplicates (#9891)
vim-patch:8.0.0714: cmdline redraw during timer #9835
Merge pull request #9887 from justinmk/chan-notif-response-id
RPC: conform message-id type to msgpack-RPC spec
RPC: eliminate NO_RESPONSE
PVS/V595: pointer utilized before checking NULL
vim-patch.sh: perf, readability #9044
float: always change to valid windows (#9878)
Merge pull request #9880 from janlazo/vim-8.0.0725
ops: use ARRAY_SIZE macro for opchars array length
vim-patch:8.0.1411: reading invalid memory with CTRL-W :
vim-patch:8.0.0725: a terminal window does not handle keyboard input
vim-patch:8.1.1140: not easy to find out what neighbors a window has (#9873)
startup: -es/-Es (silent/batch mode): skip swapfile #8540
version.c: update [ci skip]
vim-patch:8.0.0702: error in a timer can make Vim unusable #9826
ci/build.ps1: Respect CMAKE_BUILD_TYPE if provided #9869
Merge pull request #9859 from jamessan/gcc-9-compound-literal
Merge pull request #9868 from mhinz/vim-8.1.1118
Merge pull request #9867 from mhinz/vim-8.1.1134
vim-patch:8.1.1118: a couple of conditions are hard to understand
vim-patch:8.1.1134: buffer for quickfix window is reused for another file
vim-patch:8.0.1763: :argedit does not reuse an empty unnamed buffer
lint
Remove MSVC optimization workaround for SHM_ALL
Merge pull request #9866 from bfredl/setbufcursor
api/window: validate cursor in nvim_win_set_buf
Merge #9796 from justinmk/doc
doc: rewrite *feature-list*
doc [ci skip]
event-loop: do not set CA_COMMAND_BUSY #9853
Merge #9858 from justinmk/ci-win
Make SHM_ALL to a variable instead of a compound literal #define
CI/AppVeyor: remove redundant cache directive
CI/AppVeyor: do not cache pacman packages
CI/AppVeyor: print info about restored cache
:stopinsert should leave terminal-mode #9856
CI/AppVeyor: build deps out-of-tree
CI/AppVeyor: do skip-logic earlier #9854
CI/AppVeyor: per-compiler deps cache #9852
Merge #9840 from janlazo/vim-8.0.0709
build: fix warning
vim-patch:8.1.1123: avoid filtering autocomplete
vim-patch:8.1.1113: making an autocommand trigger once is not so easy
vim-patch:8.0.0728: the terminal structure is never freed
oldtests: win: filename cannot have "
oldtests: set shellslash for ":cd" test
vim-patch:8.1.0308: a quick undo shows "1 seconds ago"
vim-patch:8.1.0135: undo message delays screen update for CTRL-O u
vim-patch:8.0.0709: libvterm cannot use vsnprintf()
Merge #9845 from mhinz/vim-8.1.0494
vim-patch:8.1.0494: functions do not check for a window ID in other tabs
vim-patch:8.1.0493: argv() and argc() only work on the current argument list
vim-patch:8.1.0218: cannot add matches to another window
coverity/183543: Null pointer dereference #9836
vim-patch:8.1.1072: extending sign and foldcolumn below the text is confusing (#9816)
Merge #9823 from mhinz/vim-8.1.1093
Merge #9831 from janlazo/vim-8.0.0681
vim-patch:8.1.1100: tag file without trailing newline no longer works
vim-patch:8.1.1094: long line in tags file causes error
vim-patch:8.1.1093: support for outdated tags format slows down tag parsing
lint
Merge #9516 from erw7/improve-executable-on-windows
oldtests: set shellslash for Test_non_zero_arg
vim-patch:8.1.0119: failing test goes unnoticed because messages is not written
vim-patch:8.1.0118: duplicate error message for put command
vim-patch:8.0.0681: unnamed register only contains the last deleted text
test: "$PATHEXT=::"
jumplist: avoid extra tail entry #9805
fs.c: fix is_executable_ext()
Merge #9827 from justinmk/fix-warnings
[ci skip] fs.c: fix comment
fs.c: Move sh check of is_executable_ext to outside of loop
fs.c: Simplify calling is_executable_ext
test/win: Remove unnecessary set shell
fs.c: fix is_executable_ext
fs.c: eliminate is_extension_executable
is_extension_executable: simplify check for unix-style shell
is_extension_executable: simplify
cleanup: PATHEXT function
test/win: executable(), exepath() #9516
win: exepath(): append extension if omitted
PVS/V560: expression is always true
clang/"null pointer dereference": insert_execute
clang/"result is garbage/undefined": win_close
win: executable(): also check extension
win: executable(): fix relative path bug
keymap, terminal: more keycodes #9810
Merge #9822 from janlazo/vim-8.1.1073
vim-patch:8.1.1087: tag stack is incorrect after CTRL-T and then :tag
vim-patch:8.1.1082: "Conceal" match is mixed up with 'hlsearch' match.
vim-patch:8.1.1074: Python test doesn't wipe out hidden buffer
vim-patch:8.1.1073: space in number column is on wrong side with 'rightleft' set
Merge #9812 from janlazo/vim-8.0.1153
Merge #9807 from mhinz/window-local-last-cursormoved
eval: diff_hlID() and hlID() return same id
vim-patch:8.0.1153: no tests for diff_hlID() and diff_filler()
vim-patch:8.1.1095: win: executable() on very long name #9820
autocmd: rename MenuPopupChanged to CompleteChanged #9819
vim-patch:8.0.0705: check did_throw before discarding exception #9808
vim-patch:8.1.1088: height of quickfix window not retained with vertical split (#9818)
vim-patch:8.0.0629: set `starting` earlier
complete_info(): fix null reference
vim-patch:8.1.0045: popup test isn't run completely
Merge #9815 'vim-patch:8.1.1068: complete_info()'
docs: explicitly state return value on success
test: move trim to global helpers
vim-patch:8.1.1068: cannot get all the information about current completion
cursormoved: add tests for CursorMoved
cursormoved: always trigger CursorMoved when entering window
cursormoved: make global last_cursormoved window-local
Merge #9792
fixup: use vim_snprintf, ASCII_ISALNUM
lint
keymap: add more (keypad) keycodes #9793
Merge #9803 from janlazo/vim-8.0.0504
vim-patch:8.1.0544: setting 'filetype' in a modeline causes an error
vim-patch:8.1.0540: may evaluate insecure value when appending to option
vim-patch:8.1.0539: cannot build without the sandbox
gen_ex_cmds.lua: build the command table
Merge #9802 from janlazo/vim-8.1.0887
vim-patch:8.0.0506: can't build with ANSI C
vim-patch:8.0.0504: looking up an Ex command is a bit slow
vim-patch:8.1.1061: when substitute string throws error, substitute happens anyway
vim-patch:8.1.0887: the 'l' flag in :subsitute is sticky
Merge #9794 from janlazo/vim-8.0.1528
vim-patch:8.1.0528: various typos in comments
vim-patch:8.0.1528: dead code found
gen_help_html.py [ci skip]
doc, lint
Merge #9600 'doc, gen_vimdoc.py'
gen_vimdoc.py: render nested lists, etc [ci skip]
doc: mention "pynvim" module rename
doc: move ui-wildmenu to deprecated.txt [ci skip]
doc [ci skip]
mac: do not use libintl_setlocale() (#9789)
tui/input.c: rename functions
signs: support multiple columns #9295
Merge #9776 from janlazo/vim-8.1.0177
Merge pull request #9772 from gelguy/float-inccommand
test: make first attempt at some kind of test
Update to restore layout only for non-floating windows
Update test
floating-window.c: fix crash when using inccommand
Merge pull request #9763 from bfredl/prevfloat
window: don't crash when closing two floats in a row
vim-patch:8.1.1045: E315 ml_get error when using Python and hidden buffer
vim-patch:8.1.0538: evaluating a modeline might invoke using a shell command
vim-patch:8.1.0189: function defined in sandbox not tested
vim-patch:8.1.0177: defining function in sandbox is inconsistent
help: ignore snapshotted window if invalid (#9774)
api: ignore floating windows for laststatus=1 (#9771)
Merge #9769 from janlazo/vim-8.1.1025
vim-patch:8.1.1026: unused condition
vim-patch:8.1.1025: checking NULL pointer after addition
:mksession : restore tab-local working directories #9754
doc #9751
test: add more debuggings tips [ci skip] (#9761)
vim-patch:8.1.0384: sign ordering #9758
vim-patch:8.1.{0849,1001}: 'cursorline' highlight #9757
build: do not pass empty CMAKE_INSTALL_PREFIX
test: example_spec.lua
Merge #9749 from janlazo/vim-8.1.1017
vim-patch:8.1.0775: matching too many files as zsh
vim-patch:8.1.0771: some shell filetype patterns end in a star
vim-patch:8.1.1017: off-by-one error in filetype detection
build: pass CMAKE_INSTALL_PREFIX explicitly #9748
Merge #9747 from janlazo/vim-8.1.0858
vim-patch:8.1.0048: vim_str2nr() on numbers close to max #9744
oldtests: use LoadAdjust() on timer test
Merge pull request #9746 from bfredl/wildkeys
vim-patch:8.1.0858: 'indentkeys' and 'cinkeys' defaults are different
cmdline: revert <down> and <up> mappings for wildoptions=pum
Merge pull request #9726 from mhinz/nvim_win_get_config
aucmd_prepbuf: also restore `prevwin` #9741
vim-patch:8.1.1011: indent from autoindent not removed #9742
clipboard: Always copy as plain text in Wayland #9737
api: add tests for new code paths
Merge pull request #9607 from bfredl/wildpum
Merge #9686 'win/Lua: monkey-patch os.getenv()'
Allow using internal popupmenu or ext_popupmenu for wildmenu
Merge #9736 from janlazo/vim-8.1.0019
oldtests: wait 200ms on mac for timer test
api: refactor FloatRelative usage
api: numerous small fixes
api: update doc
api: add width/height to FloatConfig
api: nvim_win_config() -> nvim_win_set_config()
api: refactor FloatAnchor usage
api: add nvim_win_get_config()
Merge pull request #9616 from chemzqm/completechange
vim-patch:8.1.0019: error when defining a Lambda with index of a function result
test: simplify TUI bg-detection test
Merge #9728 from justinmk/autocmd-once
vim-patch:8.1.0728: avoid breaking after single space #9733
autocmd: add MenuPopupChanged autocmd
Merge pull request #9730 from bfredl/pumfloat
vim-patch:8.1.0671: cursor in wrong column after auto-format #9729
compositor: fix rendering issues with floats opened after popupmenu
autocmd: do not show empty section after ++once handlers expire
autocmd: rename: "++nested", "++once"
vim-patch:8.0.1447: still too many old style tests (#9725)
dictwatcheradd(): support b:changedtick #9693
TextYankPost: add v:event["inclusive"] #9717
vim-patch:8.1.0170: invalid memory use with complicated pattern #9724
test/CI: skip "throttles output" test on Travis macOS #9721
Merge pull request #9722 from bfredl/float-doc2
docs: adjust the generated nvim_open_win docs
docs: update generated API docs
docs: floating windows introduction
floats: add NormalFloat highlight and 'nonumber' default
window: simplify logic for entering new float
autocmd: rename "once" => "-once" #9713
Dist: make icon a proper square (#9716)
style: make linter happy with fileio.c
fs: add UV_FS_COPYFILE_FICLONE flag to os_copy
Merge #9708 from justinmk/tui-bg-detect
TUI/background detection: hook into VimEnter event
fs: remove unecessary copybuf and os_open call
fs: replace another custom copy with os_copy
cleanup: rename menu_nable_recurse() #9707
fs: add os_copy function that uses uv_fs_copyfile
Merge #9706 from justinmk/aucmd-once
autocmd: introduce "once" feature
vim-patch:8.1.1002: "gf" on URL with port number #9705
Merge #9703 from erw7/fix-executable-on-unix
executable(): return false if user is not owner #9703
vim-patch:8.1.0994: fix relative cursor position #9676
Merge #9003 'vim-patch:8.0.1372'
floating-window: fix crash setting cmdheight #9685
vim-patch:8.0.1372: profile log may be truncated halfway a character
Merge #9662 'vim-patch:8.0.{0643-0646}'
Merge #9695 'vim-patch:8.1.{739,826,998}'
vim-patch:8.1.0826: too many #ifdefs
oldtests: set shellslash in Test_true_false_arg()
oldtests: set shellslash in Test_shellescape()
vim-patch:8.1.0739: text objects in not sufficiently tested
vim-patch:8.1.0998: getcurpos() unexpectedly changes "curswant"
lint: fix coding style
vim-patch:8.0.0646: the hlsearch test fails on fast systems
vim-patch:8.0.0645: no error for illegal back reference in NFA engine
vim-patch:8.0.0644: the timeout for 'hlsearch' is not tested
vim-patch:8.0.0643: when a pattern search is slow Vim becomes unusable
vim-patch:8.1.0935: old regexp engine may use invalid buffer #9692
tui_tk_ti_getstr: handle weird value #9688
Fix os.getenv of lua on Windows
Merge #9638 from mhinz/update-libtermkey
Fix environment variable on Windows
PVS/V560: window.c: fix always true condition #9682
Merge #9679 from janlazo/vim-8.1.0891
Merge pull request #9674 from bfredl/bufapi-fix
buffer: use aucmd_prepbuf() instead of switch_to_win_for_buf()
vim-patch:8.1.0875: not all errors of marks and findfile()/finddir() are tested
vim-patch:8.1.0891: substitute command inssuficiently tested
PVS/V501: ui_compositor.c: identical sub-expressions #9673
Merge #8349 from lePerdu/completion-indent-adjust
edit.c: Disable indent during completion
Merge pull request #9667 from bfredl/winclose
Merge #9666 'Fix completion of multibyte env var names'
api: add nvim_win_close() to close window by id
test: multibyte env var names #9655
os/env: Fix completion of multibyte env var names
vim-patch:8.1.0971: failure to select quoted text obj moves cursor #9658
Merge pull request #6619 from bfredl/floating
floats: implement floating windows
ops.c: do_join expects `count` of 2 or greater #6855
vim-patch.sh: mention URL for `hub` tool #9659
search.c: remove dead code #5307
cleanup: remove legacy `enc_dbcs` global #9660
screen.c: remove dead code #6609
API/buffer-updates: always detach on buf-reload #9643
os: remove uv_translate_sys_error impl #9652
Merge #9653 from justinmk/vim-8.1.0985
Merge #7920 'env: use libuv v1.12 getenv/setenv API'
vim-patch:8.1.0973: pattern with syntax error gives threee error messages
vim-patch:8.1.0965: search test fails
vim-patch:8.1.0963: illegal memory access when using 'incsearch'
vim-patch:8.1.0968: crash when using search pattern \%Ufffffc23
test: fix isCI() for Quickbuild
test/env: multibyte env var to child process
clint: check env functions
vim-patch:8.1.0985: crash with large number in regexp
os/env: use libuv v1.12 getenv/setenv API
os_getenv, os_setenv: revert "widechar" impl
win: os_getenv(): use _wgetenv()
utf16_to_utf8: minor fixes
os_setenv: use _wputenv_s; remove vestigial code #7920
TUI: do not resize host-terminal on startup (#9645)
vim-patch:8.1.0980: extend() insufficiently tested (#9646)
vim-patch:8.1.0225: mode() does not indicate using CTRL-O from Insert mode (#9644)
vim-patch:8.1.0959: sorting large numbers is not tested (#9641)
Merge #9509 'TUI: detect background color'
TUI: rework background-color detection
Merge #9637 from justinmk/win-libuv-update
third-party: libtermkey v0.20 -> v0.21.1
win/deps: update to (forked) libuv v1.26.0
Merge #9634 'fsync: Ignore ENOTSUP. Fix writing to SMB.'
I/O: ignore ENOTSUP for failed fsync()
deps: update to libuv v1.26.0
fix "E667: Fsync failed" on macOS
man.vim: g:man_hardwrap #9633
Merge #9626 from janlazo/vim-8.1.0926
Merge #9625 from janlazo/vim-8.1.0945
vim-patch:8.1.0276: no test for 'incsearch' highlighting with :s
vim-patch:8.1.0387: no test for 'ambiwidth' detection
vim-patch:8.1.0668: no test for overstrike mode in the command line
vim-patch:8.1.0937: invalid memory access in search pattern
vim-patch:8.1.0934: invalid memory access in search pattern
vim-patch:8.1.0926: no test for :wnext, :wNext and :wprevious
lint
vim-patch:8.1.0945: internal error when using pattern with NL in the range
build: checkprefix: skip if empty #9624
Merge #5027 'TUI: detect background color'
vim-patch:8.1.0932: remove Farsi support (#9622)
Merge #9593 'API: nvim_create_buf: "scratch" param'
terminal: Fix potential invalid local 'scrollback' (#9605)
API: nvim_create_buf: add `scratch` parameter
build/Makefile: validate prefix for specific targets (#9621)
vim-patch:8.1.0803: session restore: handle single quotes #9620
Merge #9617
build/Makefile: check CMAKE_INSTALL_PREFIX
build/CMakeLists.txt: group related logic
Merge #9614
clang/"null pointer dereference": win_rotate
PVS/V1028: cast operands, not the result
vim-patch:8.1.0852: findfile() and finddir() are not properly tested (#9609)
Merge #9589 from justinmk/cterm-pumblend
UI: change implementation of hl_rgb2cterm_color()
UI: 'pumblend' for cterm (256-color TUI)
Merge #9601 from justinmk/tui-italic
TUI: assume italics support in all xterm-likes
Merge pull request #9603 from bfredl/reversepum
highlight: handle blending with gui=reverse and guisp attributes
TUI: sniff nsterm (Terminal.app) from $TERM_PROGRAM
TUI: force italics in tmux
TUI: italics in Terminal.app (nsterm)
Merge pull request #7466 from bfredl/ext_messages
ui: implement ext_messages
Merge pull request #9272 from bfredl/createbuf
doc: 'fillchars' is local to window
api: add nvim_create_buf to create a new empty buffer.
Merge pull request #9586 from bfredl/screencleanup
screen: cleanup allocation, clearing and validation
screen: simplify scrolling code
Merge pull request #9571 from bfredl/pum_transparent
UI: implement 'pumblend' option for semi-transparent popupmenu
man.vim: set 'linebreak'
Merge pull request #9581 from bfredl/alwaysrgb
UI: always use contrete colors for default_colors_set
Merge #9560 from justinmk/Wmissing-prototypes
build: PRAGMA_DIAG_PUSH_IGNORE_MISSING_PROTOTYPES
build: -Wmissing-prototypes
build: set compiler options in one place
options: set 'scrollback' to -1 by default #9563
events: add "Signal" event #9564
Merge pull request #9579 from bfredl/pum_fix
Merge #9578 'vim-patch:8.0.{1045,1073,1077,1114}'
popupmenu: fix alignment of kind and extra after #9530
rename ui_is_external to ui_has (#9576)
vim-patch:8.0.1114: default for 'iminsert' is annoying
vim-patch:8.0.1077: no debugger making use of the terminal window
vim-patch:8.0.1073: may get an endless loop if 'statusline' changes a highlight
Merge pull request #9530 from bfredl/pum_float
multigrid: reset win scrolling after swap message
tests/ui: add test for popupmenu redrawing in various situations
ui/compositor: add redraws needed due to intersected doublewidth chars.
vim-patch:8.1.0792: bad display if opening cmdline window from Insert completion
Reduce pum redraws from edit.c by delaying undisplay of pum
UI: add "compositor" layer to merge grids for TUI use in a correct way
vim-patch:8.0.1045: running tests may pollute shell history
inccommand: auto-disable if folding is slow #9568
Merge #9565 from justinmk/test
test: adjust timer_spec
test: improve reliability of ":terminal topline" test
:terminal : set topline based on window height #8325
Merge #9539 "options: make 'listchars' and 'fillchars' local to window"
doc [ci skip] (#9553)
Merge pull request #9551 from bfredl/multiterm
screen: simplify wp->w_lines allocation logic
terminal: handle size when switching buffers in window
window/ui: reorganize size variables, fix terminal window size with multigrid.
screen: remove superfluous default_grid indirection for global size
terminal: simplify sizing logic
vim-patch:8.0.0413: menu test fails on MS-Windows #8173
Merge #8194 from justinmk/fix-menu
menu_get(): fix query behavior
menu_get(): Do not include empty items
fix ":menu Item.SubItem"
Merge #9478 from justinmk/doc
gen_api_vimdoc.py: Do not wrap on hyphens, long words
doc [ci skip] #9478
Merge #9552 from janlazo/vim-8.0.0411
tests: 'fcs' and 'lcs' are local to the window
vim-patch:8.1.0759: showing two characters for tab is limited
linter: fix issues
tests: fix mouse tests that use lcs=eol:$
options: make 'fillchars'/'listchars' local to window
vim-patch:8.0.0412: menu test fails on MS-Windows
vim-patch:8.0.0411: menu translations don't match when case is changed.
checkhealth: validate locale (#9548)
Merge pull request #9520 from bfredl/errmsg2
:terminal : Fix F1-F4 key codes (#9535)
tests/lua: test for multiline error messages in lua
cleanup: reduce some duplicate code, avoid function pointers for a condition
Merge pull request #9538 from beeender/patch-1
ex_echo: reuse code from message.c to show arg to user
message.c: add msg_echo_attr functions, use it for lua error messages
Fix api doc nvim_buf_lines_event example
PVS/V1028 (rework): cast operands, not the result #9531
CI/codecov: fix invalid yaml [ci skip]
Merge #9532 from justinmk/fix-fpclassify
build: Fix -Wconversion warnings for fpclassify et al
build: Fix -Wconversion warnings for fpclassify et al
CI/codecov: remove "only_pulls" directive [ci skip]
Merge pull request #9526 from jamessan/remove-jemalloc
Merge pull request #9429 from bfredl/grid_mouse
Merge #9525 'STRICT_ADD, STRICT_SUB: Log error'
ui: multigrid mouse support
STRICT_ADD, STRICT_SUB: Log error before abort
build: include auto/config.h explicitly
Remove support for using jemalloc instead of the system allocator
pvscheck.sh: set --sourcetree-root [ci skip]
pvscheck.sh: do not set --sourcetree-root [ci skip]
Merge #9518 from justinmk/pvs-warnings
pvscheck.sh: ignore stddef.h
PVS/V560: expression is always true
clang/"null pointer dereference": expand_wildcards
Merge #9508 from justinmk/pvs-warnings
PVS/V1032: pointer cast to a more strictly aligned type
PVS/V1032: pointer cast to a more strictly aligned type
PVS/V1028: cast operands, not the result
PVS/V501: diff.c: silence warning
Merge #9292 from mhinz/xcode10
test: Lua 5.2/5.3 compat
ci: switch to Xcode 10.1 / macOS 10.13
tests: load-adjust timer tests (functionaltest)
tests: load-adjust timer tests (oldtest)
tests: fix Test_help_tagjump()
Merge #5027 'TUI: detect background color'
Merge pull request #9507 from bfredl/noscrollclear
screen: don't unconditionally clear messages on window scroll
:recover : Fix crash on non-existent *.swp #9504
Merge pull request #9505 from bfredl/inspect
lua: expose full interface of vim.inspect and add test
Merge #9463 'Lua stdlib'
lua/stdlib: Load runtime modules on-demand
lua/stdlib: vim.inspect, string functions
Merge #9395 from pqzx/api-set-vvar
test/API: nvim_set_vvar() #9395
API: nvim_set_vvar(): set v: variables #9395
dict_set_var: check value before checking its container
pvscheck.sh: Fix download URL #9500
Merge #9471 from justinmk/pvs-warnings
clang/"null pointer dereference": close_buffer
clang/"Dead assignment": screen.c
clang/"Dead assignment"
clang/"null passed to nonnull arg": shada.c
clang/"null passed to nonnull arg": ex_history
clang/"null passed to nonnull arg": cs_manage_matches
clang/"null passed to nonnull arg": expand_wildcards
clang/"Assigned garbage": parse_shape_opt
PVS/V560: expression is always true
release.sh
Merge 'upstream/release-0.3'
version bump
NVIM v0.3.4
Merge pull request #9492 from bfredl/cul_cole
display: unify cursorline and concealcursor redraw logic
test: add tests for conceal cursor movement
Merge #9495 from justinmk/release-0.3
provider: improve error message if provider is missing (#9487)
checkhealth: detect broken pip #9468
win/dist: nvim-qt v0.2.12
win/dist: nvim-qt v0.2.12
CI/codecov: Avoid "fail" status for non-PR
Merge pull request #9490 from bfredl/vim-patch-8.1.0726
normal/edit: add missing "need_cursor_line_redraw = false"
provider: improve error message if provider is missing (#9487)
Merge pull request #9484 from bfredl/highlander
screen: make update_screen() the only entry point for redrawing
version.c: update [ci skip] (#9444)
Merge #9468 'checkhealth: detect broken pip"'
Merge #9481 'vim-patch:8.1.0449,8.1.0450'
vim-patch:8.1.0450: build failure without the +fold feature
vim-patch:8.1.0449: fix display of 'rnu' with folded lines #9481
clipboard/macOS: assume that pbcopy works #9480
Merge #9472 from justinmk/pvs-warnings2
vim-patch:8.1.0648: custom operators can't act upon forced motion
Merge pull request #9479 from bfredl/redrawsign
Merge pull request #9445 from bfredl/pum_api
CMake: Feature-detect __builtin_{add,sub}_overflow
PVS/V1028: cast operands, not the result
assert.h: Check overflow with STRICT_ADD, STRICT_SUB
win/TUI: fix text overrides line numbers #9474
bufhl: simplify redraw logic
remove dead argument of redrawWinline
screen: avoid redrawing windows immediately when debug signs are placed.
api: select items in popupmenu
Merge pull request #9477 from bfredl/nocmdredraw
API: don't directly call update_screen() in API functions
doc: CONTRIBUTING.md
pvscheck.sh: Skip install if dir exists
health/pythonx: handle "pip upgrade failure"
vim-patch:8.1.0700: using "gt" sometimes does not redraw a tab (#9464)
Merge #9466 from janlazo/vim-8.1.0696
health/pythonx: refactor #Detect()
health/pythonx: refactor pyenv check
lint
vim-patch:8.1.0696: when test_edit fails 'insertmode' may not be reset
editorconfig: set default tab width to 8 (#9467)
Merge #9459 from janlazo/vim-8.1.0677
Merge #8604 from janlazo/vim-8.0.0286
vim-patch:8.1.0685: get_buf_tv() is named inconsistently
vim-patch:8.1.0687: sentence text object in Visual mode is not tested
vim-patch:8.1.0677: look-behind match may use the wrong line number
Merge #9458 from justinmk/pvs-warnings
vim-patch:8.1.0683: spell highlighting does not always end
vim-patch:8.1.0674: leaking memory when updating a single line
vim-patch:8.0.0286: not always redrawing after screen resize
PVS/V501: diff.c: silence warning
PVS/V547: Expression is always false
PVS/V1026: normal.c: signed integer overflow
PVS/V547: indent.c: xmalloc() never returns NULL
Merge #9454 from justinmk/pvs-warnings
version bump
NVIM v0.3.3
release.sh: Format issue-numbers in descriptions [ci skip]
release.sh: fix exclusion pattern [ci skip]
release.sh: Format issue-numbers in descriptions [ci skip]
release.sh: fix exclusion pattern [ci skip]
Merge #9451 from justinmk/build
PVS/V547: window.c: Expression is always true
PVS/V547: viml/parser/expressions.c: Expression is always true
PVS/V751: tui.c, Parameter is not used
PVS/V535: shada.c: variable reassigned in inner loop
PVS/V547: diff.c: xmalloc() never returns NULL
PVS/V547: diff.c: Expression is always true
PVS/V501: diff.c: silence warning
build: remove cmake/GenerateHelptags.cmake.in
build: fix `doc_html` target
Merge #9446 'Visual: highlight char-at-cursor'
Visual: highlight char-at-cursor
remove check_visual_highlight()
Merge pull request #9447 from janlazo/vim-8.1.0651
vim-patch:8.1.0653: arglist test fails on MS-windows
vim-patch:8.1.0651: :args \"foo works like :args without argument
Merge #9425 'build: enable -Wshadow'
TUI: Do not disable BCE for builtin terminfos (#9443)
UGRID_FOREACH_CELL: avoid shadowed variables
build: enable -Wshadow
Merge pull request #9442 from jamessan/revert-pynvim
Merge pull request #9438 from jamessan/revert-pynvim
vim-patch:8.0.0251: not easy to select Python 2 or 3 (#9173)
health/provider: Check for available pynvim when neovim module missing
Merge pull request #9434 from bfredl/multigrid_fixes
Merge pull request #9439 from jamessan/more-fragile-tests
python#CheckForModule: Use the given module string instead of hard-coding pynvim
Merge pull request #9436 from jamessan/more-fragile-tests
{health,provider}/python: Import the neovim, rather than pynvim, module
Merge pull request #9435 from jamessan/tui-konsole
Mark "shell command :! throttles shell-command output greater than ~10KB" fragile
Mark "feeding large chunks of input with <Paste>" fragile
Mark ":substitute with inccommand during :terminal activity" fragile
TUI: Konsole DECSCUSR fixup (#9423)
Merge pull request #9433 from jamessan/only-lint-master
Merge pull request #9432 from jamessan/only-lint-master
popupmenu: fix positioning with vsplits
travis: Only run lint job for master branch/PRs
multigrid: do all adjustment in screen.c
travis: Run ci for release-* branches
Merge pull request #9431 from jamessan/bug-fix-branch-ci
version bump
travis: Run ci for release-* branches
Merge pull request #9427 from jamessan/man-fix
cmake: runtime: use add_custom_command for tags directly (#9430)
nvim.1: Add missing .El directive
TUI: Konsole DECSCUSR fixup (#9423)
Merge pull request #8455 from UtkarshMe/grid-split
multigrid: rename grid->ScreenLines and other grid arrays
multigrid: API version bump
multigrid: simplify tests
multigrid: rename to grid.row_offset and grid.requested_rows
multigrid: reorganize types and global varaibles
multigrid: various cleanup (types, unused parameters)
multigrid: add tests for multiline messages and tabs
multigrid: test refactor
multigrid: doc update
multigrid: Add multigrid documentation
multigrid: rename event to win_pos, make grid first
multigrid: add msg_scroll_start and msg_scroll_reset events
multigrid: send win_hide events when changing tabpage
multigrid: add multigrid screen tests
multigrid: add multigrid support to test infrastructure
multigrid: don't clear window grids on resize
multigrid: Fix lint errors
multigrid: Draw fold for the entire width of window grid
multigrid: Fix rebase errors in screen.c
multigrid: Fix sending window grid handle in ext_newline mode
multigrid: use grid-based coordinates for ext_popupmenu
multigrid: Fix grid allocation misses
multigrid: avoid allocation when not ext_multigrid.
multigrid: Clean whole grid when it was just resized
multigrid: Add ScreenGrid as a param to multibyte functions
multigrid: Get rid of global ScreenLines and set_screengrid
multigrid: Put everything on default_grid if not ext_multigrid
multigrid: Add win_position event
multigrid: Allow UIs to set grid size different from window size
multigrid: Change screen_* functions to grid_* functions
multigrid: introduce grid abstraction
Merge #9408 from justinmk/tui-title-stacking
NVIM v0.3.2
version bump
version.c: update [ci skip] (#9417)
version.c: update [ci skip] (#9275)
Merge #9401 from justinmk/pr-win-erw7
appimage: Include metadata #9320
Merge #9335 from justinmk/doc
syntax/vim.vim: highlight <cmd> key
help: Do not highlight "Nvim."
doc: Remove {Nvim} tag
doc
win/TUI: ConEmu: get back_color_erase from terminfo
cleanup: Remove os_term_is_nice()
refactor: Extract os_tty_guess_term()
Merge pull request #9411 from jamessan/vim-8.1.0662
vim-patch:8.1.0662: needlessly searching for tilde in string
Merge pull request #9409 from jamessan/vim-8.0.1469
vim-patch:8.1.0354: packadd test fails on MS-Windows
vim-patch:8.1.0353: an "after" directory of a package is appended to 'rtp'
vim-patch:8.0.1734: package directory not added to 'rtp' if prefix matches
vim-patch:8.0.1469: when package path is a symlink 'runtimepath' is wrong
TUI: attempt "title stacking" unconditionally
TUI: enter/exit alternate screen with "title stacking" (#9407)
update_terminfo.sh: NOLINT data arrays
update_terminfo.sh: Use printf instead of echo
Merge #9383 from jamessan/stdpath-rplugin
rplugin.vim: Add migration support for Windows, nvim/ -> nvim-data/
test: win/TUI builtin terminfos
Merge 'upstream/master' into pr-win-erw7
win/TUI: Fix scroll on Windows legacy console
win/TUI: ConEmu: set immediate_wrap_after_last_column #9094
win/TUI: builtin terminfos for cygwin, conemu, et al.
win/TUI: SetConsoleMode() to override libuv #9094
Merge pull request #9398 from janlazo/mac-brew-addon
ci: install neovim gem on macOS
ci: use homebrew addon to simplify shell scripts
Merge pull request #9394 from bfredl/highsign
strings: make vim_snprintf handle %d correctly again
vim-patch:8.1.0627: Python cannot handle function name of script-local function (#9392)
vim-patch:8.1.0615: get_tv function names are not consistent (#9386)
Merge pull request #9384 from bfredl/ui_option_check
CI/Travis: skip all refs except "master" [skip ci]
CI/Travis: skip "stable" tag [skip ci]
test/api: verify that UI options from stable metadata are preserved
win/dist: nvim-qt v0.2.11 #9382
Use stdpath() to determine rplugin manifest path
Merge #9280 'Lua 5.2+ compatbility'
lint
runtime/lua/vim/compat.lua
test: Lua 5.2/5.3 compat #9280
Merge #9369 'vim-patch:8.1.0596'
genappimage: Unset $ARGV0 at invocation #9376
l10n: Update Ukrainian translation #9377
strings: use (u)int16_t for %h printf format
vim-patch:8.1.0596: not all parts of printf() are tested
Merge pull request #9077 from jamessan/xdg-sysinit
startup: Use $XDG_CONFIG_DIRS/nvim/sysinit.vim if it exists
Merge #9347 from justinmk/tui-bsd
CI/AppVeyor: install "pynvim" python package #9371
TUI: TERM=nsterm
TUI: detect BSD vt console
Merge #9367 'vim-patch:8.1.{585,588}'
Merge pull request #9368 from bfredl/doublewrap
TUI: handle wrap of doublewidth chars correctly
vim-patch:8.1.0588: cannot define a sign with space in the text
vim-patch:8.1.0585: undo test may fail on MS-Windows
TUI: Konsole 18.07.70 supports DECSCUSR (#9364)
Merge pull request #9362 from bfredl/macnumlocale
os/lang: use the correct LC_NUMERIC also for OS X
Merge #9348 from janlazo/vim-8.0.1748
Merge #9355 from mhinz/ruby-provider-path
ex_docmd: '/' is not a path for Cmdline* events
vim-patch:8.0.1748: CmdlineEnter command uses backslash instead of slash
test: :ruby reports E319 if provider is missing
provider: make :ruby provider check use same code path as :python
Merge pull request #7946 from bfredl/vim-8.0.1445
cmdline: support v:event in CmdlineChanged
vim-patch:8.0.1445: cannot act on edits in the command line
Merge #9354 from justinmk/provider-E319
provider: repurpose E319
ex_cmds: Remove various "not implemented" commands
provider: improve error message (#9344)
TUI: alacritty supports set_cursor_color #9353
macOS: infer primary language if $LANG is empty #9345
Merge pull request #9351 from bfredl/clear_attr
TUI: don't use BCE with attributes affecting background
vim-patch:8.1.0574: 'commentstring', fold marker in C (#9339)
Merge #9306 'vim-patch: integrate xdiff library'
vim-patch:8.1.0562: parsing of 'diffopt' is slightly wrong
vim-patch:8.1.0513: no error for set diffopt+=algorithm:
vim-patch:8.1.0502: internal diff fails when diffing a context diff
vim-patch:8.1.0497: :%diffput changes order of lines
vim-patch:8.1.0458: ml_get error and crash when using "do"
vim-patch:8.1.0402: the DiffUpdate event isn't triggered for :diffput
vim-patch:8.1.0400: using freed memory with :diffget
vim-patch:8.1.0397: no event triggered after updating diffs
vim-patch:8.1.0395: compiler warning on 64-bit MS-Windows
vim-patch:8.1.0394: diffs are not always updated correctly
vim-patch:8.1.0393: not all white space difference options available
vim-patch:8.1.0375: cannot use diff mode with Cygwin diff.exe
vim-patch:8.1.0360: using an external diff program is slow and inflexible
Calm down the clinter
doc (#9288)
vim-patch:8.1.0570: 'commentstring' not used when adding fold marker (#9331)
Merge #9322 from janlazo/vim-8.1.0563
runtime/syntax: Fix highlighting of augroup contents (#9328)
CI/Travis: install gperf using package manager (#9325)
Merge pull request #9324 from bfredl/virtfix
api: make nvim_buf_set_virtual_text use correct namespace counter
vim-patch:8.1.0564: setting v:errors to wrong type still possible
vim-patch:8.1.0563: setting v:errors to a string give confusing error
vim-patch:8.0.1425: execute() does not work in completion of user command (#9317)
Merge pull request #9315 from bfredl/clear_status
screen: add missing status redraw when redraw_later(CLEAR) was used
provider/lang: expand() g:foo_host_prog (#9312)
vim-patch:8.1.0559: command line completion not sufficiently tested (#9310)
clipboard: Revert unused check #9309
vim-patch:8.1.0559: command line completion not sufficiently tested
Merge pull request #9307 from jamessan/codecov-threshold
Merge pull request #9300 from bfredl/asyncerr
RPC: turn errors from async calls into notifications
codecov: Tolerate a 1% drop in coverage for a PR
clipboard: Support custom VimL functions #9304
Merge #9291 'vim-patch:8.1.{550,551}'
Merge pull request #9303 from jamessan/cmp-0075
cmake: Update comment on why CMP0059 is still set to OLD
Unset CMAKE_REQUIRED_* after they're done being used
clipboard: Prefer xclip (#9302)
Merge #9297 from justinmk/confirm-dialog
doc: deprecate inputdialog()
VimL/confirm(): Show dialog even if :silent
Merge pull request #9299 from bfredl/ctrlx_cmd
insert: make <cmd> mapping work in completion (CTRL-X) mode
fixup: 30 col resize to scroll debug
fixup: 35 col resize to scroll screen
functionaltests: vim-patch:8.1.{550,551} fix
vim-patch:8.1.0551: expression evaluation may repeat an error message
vim-patch:8.1.0550: expression evaluation may repeat an error message
vim-patch:8.1.0553: it is not easy to edit a script that was sourced (#9298)
test/macOS: adjust time-sensitive tests
highlight: Fix missing .rgb_sp_color in initializers (#9287)
test: adjust time-sensitive tests
Merge pull request #9289 from bfredl/nsclear
API: rename nvim_buf_clear_highlight to nvim_buf_clear_namespace
vim-patch:8.1.0098: segfault when pattern with \z() is very slow (#9283)
TUI: set_underline_color: only support colon form #9279
Merge #9221 from justinmk/doc
scripts/gen_help_html.py
lint: src/.clang-format
matchit.vim: s:MultiMatch(): return Dict
doc
diff/highlight: Fix GUI highlight for low-priority CursorLine (#9281)
Merge pull request #9278 from liushapku/master
fix wrong winnr in getwininfo
Merge #9028 'diff/highlight: low-priority CursorLine'
preserve_exit: Ignore SIGHUP
diff/highlight: Show underline for low-priority CursorLine
diff/highlight: do not overlay low-priority CursorLine
refactor: Rename get_term_attr_entry
version.c: update [ci skip] (#9171)
API: Implement nvim_win_set_buf() #9100
CI/travis: Remove vestigial sudo:true
Merge #9258 'CI/travis: switch to Ubuntu 16.04'
Downgrade to clang-4.0 to avoid false-positive warnings from clang
Remove extraneous parens to silence -Wparentheses-equality
xenial: fix clang error messages
travis: switch from Ubuntu 14.04 to 16.04
Merge pull request #6920 from bfredl/namespace
api: implement object namespaces
clipboard.vim: check for win32yank.exe #9263
Merge #9261 'vim-patch:8.0.1731,8.1.0038'
vim-patch:8.1.0038: popup test causes Vim to exit
vim-patch:8.0.1731: characters deleted on completion
CI/Travis/macOS: Fix "brew reinstall" invocation (#9259)
Merge #9257 'health/python: warn if pynvim upgrade failed'
health/python: warn if pynvim upgrade failed
Merge #9256 'vim-patch:8.0.{737,1163,1165,1171,1249,1427}'
defaults: background=dark #2894 (#9205)
health/python: slightly improve output
provider/python: refactoring
vim-patch:8.0.1171: popup test is still a bit flaky
vim-patch:8.0.1165: popup test is still flaky
vim-patch:8.0.1163: popup test is flaky
vim-patch:8.0.1249: no error when WaitFor() gets an invalid wrong expression
vim-patch:8.0.0737: crash when X11 selection is very big
vim-patch:8.0.1427: the :leftabove modifier doesn't work for :copen
vim-patch:8.1.0398: no test for -o and -O command line arguments (#9253)
TUI: support TERM=nsterm (#9244)
vim-patch:8.1.0536: file time test fails when using NFS (#9251)
Merge #9248 from mhinz/checkhealth/python
Merge #9247 'vim-patch:8.1.{258,298,299,318,376}'
lint
vim-patch:8.1.0376: compiler warning for uninitialized variable
vim-patch:8.1.0318: the getftype() test may fail for char devices
vim-patch:8.1.0299: misplaced comment
vim-patch:8.1.0298: window resize test sometimes fails on Mac
doc/python: 'neovim' module was renamed to 'pynvim'
health/python: 'neovim' module was renamed to 'pynvim'
vim-patch:8.1.0258: not enough testing for the CompleteDone event
Merge pull request #9240 from jamessan/mbyte_spec-failure
unit/mbyte_spec: Run utf_char2bytes test in batches of 0xFFF characters
vim-patch:8.1.0146: when $LANG is set the compiler test may fail (#9238)
vim-patch:8.1.0108: no Danish translations (#9235)
vim-patch:8.1.0527: using 'shiftwidth' from wrong buffer for folding (#9234)
Merge #9231 'vim-patch:8.1.{115,143,311,352}'
vim-patch:8.1.0352: browsing compressed tar files does not always work
vim-patch:8.1.0311: filtering entries in a quickfix list is not easy
vim-patch:8.1.0143: matchit and matchparen don't handle E363
vim-patch:8.1.0115: the matchparen plugin may throw an error
clipboard: support Wayland (#9230)
Merge #9049 from janlazo/vim-8.0.1352
vim-patch: add matchit doc
vim-patch: rename path to check_colors.vim
vim-patch: move test_urls.vim out of runtime/
vim-patch:8.0.1352: dead URLs in the help go unnoticed
Merge #8952 'vim-patch:8.0.1620,8.1.{96,340}'
lint
vim-patch:8.1.0096: inconsistent use of the word autocommands
vim-patch:8.0.1620: reading spell file has no good EOF detection
oldtests: skip Test_spellinfo()
vim-patch:8.1.0340: no test for :spellinfo
vim-patch:8.1.0516: :move command sets 'modified' #9224
Merge pull request #9193 from bfredl/scrollstuff
TUI: attrs -> attr_id refactor
UI/TUI: improvements and cleanups for scrolling and clearing
test: adjust time-sensitive tests (#9220)
vim-patch:8.1.0337: :file fails in quickfix command (#9215)
Merge pull request #9218 from bfredl/termbuf
channel: avoid buffering output when only terminal and no callbacks are active
Merge pull request #9211 from bfredl/init_options
ui_options: also send when starting or from OptionSet
jobstart(): Fix hang on non-executable cwd #9204
Merge pull request #9206 from janlazo/vim-8.1.0510
vim-patch:8.1.0511: ml_get error when calling a function with a range (#9207)
vim-patch:8.1.0512: 'helplang' default is inconsistent for C and C.UTF-8
vim-patch:8.1.0510: filter test fails when $LANG is C.UTF-8
build: relax find_package() version spec
Merge #9112 'doc'
doc: API
doc: fix/remove broken tag references
build: `make helphtml`
doc: merge sponsor.txt into intro.txt
runtime: delete rrhelper.vim
doc
doc: manpage
test/win: window_split_tab_spec: fix retry()
test/win: window_split_tab_spec: increase retry() time
Merge #9197
CI/AppVeyor: Avoid "warning" which causes non-zero retcode
test/timer_spec: relax lower-bound
test/win: retry unreliable SIGWINCH test
build: dependencies: specify minimum versions
vim-patch:8.1.0508: suspend test fails when run by root (#9196)
vim-patch:8.1.0507: .raml files not properly detected (#9195)
TUI: Avoid reset_cursor_color in old VTE #9191
vim-patch:8.1.0504: when CTRL-C is mapped it triggers InsertLeave (#9192)
Merge #9184 from janlazo/vim-8.0.1758
Merge pull request #9183 from bfredl/offset2
vim-patch:8.0.1766: expanding abbreviation doesn't work
vim-patch:8.0.1758: open_line() returns TRUE/FALSE for success/failure
api: simplify nvim_buf_get_offset function
Merge #7506 'deps: update libuv'
test/old: Test_BufReadCmdHelp: generate helptags
Merge pull request #9180 from bfredl/offset
win: test: SIGWINCH is noisy #7506
api: implement nvim_buf_get_offset_for_line
Merge #8378 from janlazo/win_functional_tests
vim-patch:8.1.0501: cppcheck warns for using array index before bounds check (#9178)
build/win: LibuvCMakeLists.txt: adapt to moved headers
ci: win: enable powershell's strict mode
ci: win: use Ninja for CMake Generator
functionaltest: enable job channel test
functionaltest: win: enable shada FileWriteCmd
functionaltest: enable buffered output tests
functionaltest: enable FilterReadPre,FilterReadPost test
functionaltest: win: enable diffput,diffget test
functionaltests: win: enable gzip test
deps: update to libuv v1.23.2
provider/nodejs: handle missing stdout
doc: README.md (#9176)
test/old: force "-i viminfo" in $RUN_VIMTEST #9175 (#9175)
test/old: test_startup: fix "-u NONE" arg
vim-patch:8.0.1553: find digraph to insert a character #8190
Merge #9172 from justinmk/vim-d473c8c10126
vim-patch:2c64ca1802b2
vim-patch:95bafa296ae9
vim-patch:93a1df2c205c
vim-patch:20aac6c11269
vim-patch:fc65cabb15d0
Merge #9164 from justinmk/vim-a2a80162deb1
runtime/optwin.vim: feature-check 'pw' option
vim-patch:d473c8c10126
vim-patch:d2855f5454c5
vim-patch:91f84f6e11cd
vim-patch:a9604e614517
vim-patch:b477af2260d9
vim-patch:fd35811ca528
vim-patch:6dc819b1299e
vim-patch:675e8d6adb88
vim-patch:d2f3a8b87873
vim-patch:0b0f0992d46e
vim-patch:2f01889055f1
vim-patch:7c63fbc46e21
vim-patch:eb3dc87f0139
vim-patch:7db25fed5de1
vim-patch:85eee130f44a
vim-patch:15142e27aaaf
vim-patch:7dda86f2ff35
vim-patch:51ad4eaa22e1
vim-patch:ab943431d8fc
vim-patch:98ef233e14fa
vim-patch:b5b7562475ad
Merge #9015
vim-patch:22f1d0e35eb0
vim-patch:7254067ee970
vim-patch:40962ec9c0e7
vim-patch:df980db69b83
vim-patch:f0b03c4e98f8
vim-patch:4697399e8c80
vim-patch:461fe50fea24
vim-patch:a2a80162deb1
version.c: update [ci skip] (#9162)
version.c: update [ci skip] #8474
vim-patch:8.1.0498: /etc/gitconfig not recognized at a gitconfig file
vim-patch:8.1.0484: some file types are not recognized
vim-patch:8.0.1465: python2 and python3 detection not tested
vim-patch:8.0.1458: filetype detection test does not check all scripts
vim-patch:8.0.1457: clojure now supports a shebang line
vim-patch:8.0.1438: filetype detection test not updated for change
man.vim: lowercase title when invoked as $MANPAGER
Merge pull request #9149 from bfredl/virt_cul
doc/:Man: "!" is special in some shells
Merge pull request #9155 from bfredl/tabredraw
UI: add missing redraw after enter_tabpage
screen.c: remove redundant wp->w_hl_attr_normal
screen: fix glitches with nvim_buf_set_virtual_text
man.vim: avoid duplicate buffers, E95
CI/Travis/macOS: use default Travis-provided python/pip
Merge #9145 'CI, nodejs fixes'
Merge pull request #9143 from bfredl/nuclear
ui: disable clearing almost everywhere
auevents.lua: keep events in alphabetical order
provider/nodejs: fix npm,yarn detection
test: fix/speedup scrollback_spec
CI/AppVeyor: invalidate .deps if build.ps1 changes
CI/AppVeyor: fix MSBuild hack for functional tests
Merge #9146 from justinmk/fix-warnings
fix warning: null arg passed to 'nonnull' param
fix warning: null arg passed to 'nonnull' param
fix warning: "Assigned value is garbage"
fix warning: "Dead assignment"
fix warning: null pointer dereference
fix warning: garbage/uninitialized value
fix warning: "Uninitialized argument"
Merge pull request #9144 from bfredl/ui_event_compat
api/ui: verify compatibility of UI events
man.vim: :Man! operates on buffer contents (#9139)
Merge #9141 from justinmk/pvs
tui.c: Fix ext.set_underline_color for !has_colon_rgb
screen.c: Fix PVS/V560: condition is always false
provider/nodejs: Simultaneously query npm and yarn #9054
Merge #9130 'build: Fix for macOS 10.14/mojave'
Merge #9086 'vim-patch:8.1.0448'
build/macOS: provide SDK path to deps compiler otherwise, system headers cannot be found on Mojave they were moved from /usr/include to SDK path
build/macOS: fix luajit install step prevent luajit to assigning default value to MACOSX_DEPLOYMENT_TARGET ref #9050
Merge #9124 'vim-patch:8.0.1672'
test: Improve 008_autocommands_spec reliability (#9129)
Merge #9131 from janlazo/vim-8.0.0670
Merge pull request #6930 from bfredl/expectfix
vim-patch:8.0.1067: try/catch in timer does not prevent it from being stopped
vim-patch:8.0.0670: can't use input() in a timer callback
test/old: stub CanRunVimInTerminal()
vim-patch:8.1.0448: cursorline not removed when using 'cursorbind'
tests: improve robustness of immediate successes in screen tests
vim-patch:8.1.0476: memory leaks in test_escaped_glob (#9127)
functionaltest: map error does not cancel prompt
Merge pull request #9123 from jamessan/unibilium-parsing-fix
vim-patch:8.0.1672: error during completion causes command to be cancelled
third-party/unibilium: Fix parsing of extended capability entries
Merge #9095 'CI/travis/macOS: fix missing pip3'
Merge #9122 from janlazo/vim-8.1.0473
CI/travis/macOS: silence non-error messages from homebrew
CI/travis/macOS: use "sudo rm" to remove cores
test: adjust timer tests
memline: process_still_running is bool
vim-patch:8.1.0473: user doesn't notice file does not exist when swap file does
CI/travis/macOS: fix missing pip3
Merge #9118
Revert "vim-patch:8.0.0971: 'winptydll' missing from :options"
Merge pull request #9121 from bfredl/virt_invalid
vim-patch:8.0.1590: padding in list type wastes memory (#9119)
signs: Add "numhl" argument #9113
api: make nvim_buf_set_virtual_text handle invalid chars
Merge pull request #8968 from ckelsel/vim-8.0.0685
vim-patch:8.0.1843: entry for 'wrap' in options window is wrong
vim-patch:8.0.1547: undo in the options window makes it empty
vim-patch:8.0.0971: 'winptydll' missing from :options
vim-patch:8.0.0685: when conversion fails written file may be truncated
Merge pull request #9114 from nono/vim-2f0584910c0e
Merge pull request #9117 from nono/vim-25a6e8a769aa
vim-patch:2f0584910c0e
vim-patch:25a6e8a769aa
vim-patch:8.0.1489: there is no easy way to get the global directory (#9109)
Merge #8902 'doc'
Merge pull request #9096 from nono/vim-7f2e9d7c9cdf
doc: manpage: formatting, update --headless
doc: mouse: cleanup, fixup
doc/develop.txt: brevity
doc: emphasize that "python" means "python 2"
doc: xdg, MAINTAIN.md, channel-id, job control
Merge #9106 from janlazo/vim-8.0.1837
vim-patch:8.0.1777: cannot cleanup before loading another colorscheme (#9104)
lint
vim-patch:8.0.1837: one character cmdline abbreviation not triggered after '<,'>
vim-patch:8.1.0468: MS-Windows: filter command with pipe character fails (#9101)
Merge #8954 from janlazo/vim-8.0.1423
lint
vim-patch:8.0.1423: error in return not caught by try/catch
Merge pull request #9079 from bfredl/tui_cursor
vim-patch:8.0.1779: deleting in a block selection causes problems (#9099)
Merge #9098 'vim-patch:8.1.{459,463,466}'
vim-patch:8.1.0466: autocmd test fails
vim-patch:8.1.0463: "simalt ~x" in .vimrc blocks swap file prompt
vim-patch:8.1.0459: Test_executable fails when there is a dog in the system
Merge #9092 from janlazo/vim-8.0.1807
oldtests: win: fix executable() assertions
Merge #9036 'func_attr_printf'
vim-patch:7f2e9d7c9cdf
vim-patch:8.1.0453: MS-Windows: executable() is not reliable
src/nvim/eval.c src/nvim/eval/typval.c src/nvim/fileio.c src/nvim/main.c src/nvim/regexp_nfa.c src/nvim/spellfile.c
build: adjust some messages (#9087)
vim-patch:8.1.0454: resolve() was not tested with a symlink cycle
vim-patch:8.0.1807: function to set terminal name is too long
Merge #9090 'clint.py: --stdin-filename'
test: replace wait() with pre-assertion in assert_term_colors
TUI: delete "first-row" workaround after resize
TUI: always use safe cursor movement after resize
clint: add support for --stdin-filename
clint: use fileinput for stdin
TUI: check libvte version for undercurl support #9088
vim-patch.sh: Skip Vim screen-dump files
vim-patch:8.1.0440: remove() with a range not sufficiently tested (#9076)
Merge #9078 from janlazo/vim-8.0.1832
Merge pull request #9081 from jamessan/embed-crash
Fix crash if --embed is used more than once
vim-patch:8.1.0047: no completion for :unlet $VAR
vim-patch:8.0.1832: cannot use :unlet for an environment variable
TUI: fix support for undercurl/underline color #9080
Merge pull request #9052 from blueyed/undercurl
Merge pull request #9064 from bfredl/uidoc
ui: reserve the right to split a screen redraw into multiple batches.
ui: rename ext_newgrid to ext_linegrid
ui: update docs for safe startup procedure
tui: add support for undercurl and underline color
Revert "TUI: terminfo_start: use unibi_from_term directly"
Merge pull request #9073 from blueyed/vim-patch-ff
vim-patch.sh: use --ff with git-pull
TUI: terminfo_start: use unibi_from_term directly (#9072)
man.vim: set $MANWIDTH=999
undo: Fix infinite loop if undo_read_byte returns EOF #2880
editorconfig: Fix charset name #9070
dialog_changed: Remove mistaken assert #9069
Merge #9067 from janlazo/vim-8.0.1485
vim-patch:8.1.0067: syntax highlighting not working when re-entering a buffer
vim-patch:8.1.0066: nasty autocommand causes using freed memory
vim-patch:8.1.0068: nasty autocommands can still cause using freed memory
lint
globals: arg_had_last is bool
vim-patch:8.0.1485: weird autocmd may cause arglist to be changed recursively
test: check_cores(): Fix tmp dir exclusion (#9061)
vim-patch:8.1.0416: sort doesn't report deleted lines (#9062)
Merge pull request #9056 from bfredl/tui_repr
Merge #9060 from janlazo/vim-8.1.0120
vim-patch:8.1.0435: cursorline highlight not removed in some situation (#9059)
man.vim: Start at the top #9023
lint
tui: eliminate scrolling region data structure
vim-patch:8.1.0120: buffer 'modified' set even when :sort has no changes
tui: eliminate grid->attrs, use indexed cell->attr
Merge #9053 from janlazo/vim-8.1.0433
vim-patch:8.1.0436: can get the text of inputsecret() with getcmdline()
vim-patch:8.1.0433: mapping can obtain text from inputsecret()
terminal: Redraw statusline on title change #8973
Merge #9047 from jamessan/log-crash
TUI: Alacritty supports DECSCUSR (#9048)
log: Assert that we haven't started freeing memory before logging
os_unix: Log exit code before freeing all memory
deps: revert to jemalloc 4.5.0 (#9035)
build: Unify USE_BUNDLED, USE_BUNDLED_DEPS (#9046)
fixed lint errors
src/nvim/eval.c: printf error
add func_attr_printf in :
vim-patch:8.1.0428: the :suspend command is not tested (#9043)
vim-patch:8.1.0429: no test for :lcd with 'shellslash' (#9041)
Merge pull request #9039 from blueyed/undercurl
minor: tui: update_attrs: code consistency
Merge #9034 'swapfile: always show dialog'
vim-patch:8.0.1557: printf() does not work with only one argument (#9038)
test: Do not load entire log-file into memory
swapfile: Always show swap dialog (E325)
shortmess+=F: Hide :bnext, :bprev fileinfo messages
vim-patch:8.1.0389: :behave command is not tested (#9030)
Merge #9031 from janlazo/vim-8.1.0414
func_attr.h: FUNC_ATTR_PRINTF
vim-patch:8.0.0370: invalid memory access when setting wildchar empty
vim-patch:8.0.0368: not all options are tested with a range of values
vim-patch:8.1.0414: v:option_old is cleared when using :set in OptionSet autocmd
Merge #8898 from justinmk/vim-8.1.0310
Merge pull request #9024 from bfredl/embed_ui2
startup: always wait for UI with --embed, unless --headless also is supplied
TUI: Reset cursor color when applicable #8572
test/old: test_options: Accommodate Nvim default
vim-patch:8.1.0310: file info msg with 'F' in 'shortmess'
Merge #9023
vim-patch:8.0.0682: no test for synIDtrans() (#8966)
man.vim: Fix very long justified lines #9023
man.vim: Ignore $MANWIDTH, use soft wrap #9023
shell/logging: Fix E730 with verbose system({List}) #9009
Merge #9022 from janlazo/vim-8.0.1215
lint
replace fallthrough comment with macro
Merge pull request #9021 from bfredl/embed_fix
vim-patch:8.0.1215: newer gcc warns for implicit fallthrough
startup: don't erase screen on `:hi Normal` during startup
doc: test/README.md (#9020)
cleanup/TUI: remove old unused code #9013
Merge #9014 from justinmk/log-more
log: RPC, input, other events
log: rename do_log to logmsg
test: system_spec: remove redundant clear()
Merge pull request #8754 from bfredl/embed_ui
startup: wait for embedder before executing startup commands and files
TUI: Skip redundant "stop" event (macOS kernel panic) (#9007)
Merge pull request #9011 from janlazo/vim-8.0.1428
vim-patch:8.0.1443: compiler complains about uninitialized variable
vim-patch:8.0.1428: compiler warning on 64 bit MS-Windows system
Merge pull request #8180 from bfredl/eol_text
buffer: add support for virtual text annotations
Merge #9008 from janlazo/vim-8.0.1416
lint
vim-patch:8.0.1417: test doesn't search for a sentence
vim-patch:8.0.1416: crash when searching for a sentence
Merge #9004 from janlazo/vim-8.0.1374
Merge #9005 from janlazo/vim-8.0.1395
oldtests: set nrformats to Vim default
runtime/colors: move check_colors.vim to runtime/tools
vim-patch:8.0.1400: color scheme check script shows up as color scheme
vim-patch:8.0.1395: it is not easy to see if a colorscheme is well written
vim-patch:8.0.1374: CTRL-A does not work with an empty line
loop_close: Drain thread_events (#8990)
vim-patch:8.1.0355 Incorrect adjusting the popup menu (#8996)
vim-patch:8.0.1363: recover swap file ending with .stz #9002
Merge #8998 from janlazo/vim-8.0.1275
vim-patch:8.0.1201: "yL" is affected by 'scrolloff' (#8997)
Merge #8993 from janlazo/vim-8.0.1184
lint
globals: KeyTyped is bool
vim-patch:8.0.1275: CmdlineLeave autocmd prevents fold from opening
vim-patch:8.1.0175: marks test fails in very wide window
vim-patch:8.1.0168: output of :marks is too short with multi-byte chars
vim-patch:8.0.1184: the :marks command is not tested
Merge pull request #8995 from wsdjeg/patch-1
Update eval.c
Merge pull request #8992 from bfredl/cmd-snr
getchar: allow <SID> in <Cmd> mapping
vim-patch:8.0.1089: range count in user command
vim-patch:8.0.1172: when E734 is given option is still set (#8988)
Merge #8987 from justinmk/vim-8.1.0373
style: indent, then lint
vim-patch:8.1.0374: moving the cursor is slow when 'relativenumber' is set
vim-patch:8.1.0373: screen updating still slow when 'cursorline' is set
Merge #8913 'popupmenu placement'
test: popupmenu placement
vim-patch:8.0.1161
popupmnu.c: Fix popup placement when preview window is below
vim-patch:8.1.0372: screen updating slow when 'cursorline' is set (#8986)
Merge pull request #8985 from justinmk/ui-no-clearall
do_shell, do_filter: Remove "clear screen", "wait for return" calls
UI/cleanup: Remove most redraw_later_clear() calls
Merge #8984 from janlazo/vim-8.1.0034
lint
vim-patch:8.0.1809: various typos
vim-patch:8.1.0219: expanding ## fails to escape backtick
vim-patch:8.1.0034: cursor not restored with ":edit #"
vim-patch:8.0.1154: 'indentkeys' does not work properly (#8980)
Merge pull request #8945 from ZviRackover/fix-7401-step5
Merge pull request #8974 from janlazo/vim-8.0.1377
Merge pull request #8979 from janlazo/vim-8.1.0174
move: dir in onepage() is Direction
move: drop has_mbyte check
vim-patch:8.1.0174: after paging up and down fold line is wrong
Merge pull request #8971 from bfredl/flush_on_exit
vim-patch:8.1.0011: maparg() and mapcheck() confuse empty and non-existing (#8976)
Merge #8967 'vim-patch:8.0.1781'
vim-patch:8.0.1781: file names in quickfix window are not shortened
vim-patch:8.0.1378: autoload script sources itself when defining function
vim-patch:8.0.1377: cannot call a dict function in autoloaded dict
Merge #8063 from blueyed/vim-8.0.0708
vim-patch:8.0.1115: crash when using foldtextresult() recursively (#8972)
CI/Codecov: disable changes status
ui: flush UI state on exit
Merge pull request #8915 from rickyz/line_wrapping
Merge #8970 from janlazo/vim-8.0.0749
Merge #8969 from janlazo/vim-8.0.1006
lint: clean-up after parent commits
Remove has_mbytes local to lines changed in parent commit
Refactor: Remove occurences of mb_char2bytes
digraph: delete code that checks enc_utf8
digraph: refactor code that checks has_mbyte
tests: update expected output of :digraph command
vim-patch:8.0.0749: some unicode digraphs are hard to remember
oldtests: win: fix buffer pathsep
vim-patch:8.0.1040: cannot use another error format in getqflist()
lint
vim-patch:8.0.1031: "text" argument for getqflist() is confusing
vim-patch:8.0.1029: return value of getqflist() is inconsistent
test_largefile.vim: adjust comment to run it
vim-patch:8.0.1326: largefile test fails on CI, glob test on MS-Windows
vim-patch:8.0.0708: some tests are old style
vim-patch:8.0.1023: it is not easy to identify a quickfix list
vim-patch:8.0.1006: quickfix list changes when parsing text with 'erroformat'
Merge #8962 from janlazo/vim-8.0.0733
ASAN/LeakSanitizer: fix typo in blacklist
vim-patch:8.0.0922: quickfix list always added after current one
vim-patch:8.0.0904: cannot set a location list from text
lint
main: advance in edit_buffers() is bool
window: refactor boolean variables in win_close()
Merge pull request #8964 from bfredl/generated-sources
cmake: add "generated-sources" target
vim-patch:8.0.0782: using freed memory in quickfix code
vim-patch:8.0.0733: can only add entries to one list in the quickfix stack
Merge #8961 from ZyX-I/fix-8956
functests: Add tests
runtime/msgpack: Fix inf/nan regexp
test/win: job_spec: increase jobwait() timeout
Merge #8953 from janlazo/vim-8.0.1190
Merge #8888 from janlazo/vim-8.0.1020
Merge #8948 from janlazo/vim-8.1.0331
Merge #8920 from janlazo/vim-8.0.0998
Merge #8931 from justinmk/api-error-overrun
test: API validation: assert exact string
API: Avoid overrun when formatting error-message
vim-patch:8.0.1595: no autocommand triggered before exiting
vim-patch:8.1.0334: 'autowrite' takes effect when buffer is not to be written
vim-patch:8.0.1190: unusable after opening new window in BufWritePre event
lint
ex_cmds: const variables in find_help_tags()
vim-patch:8.1.0235: more help tags that jump to the wrong location
vim-patch:8.0.1792: MS-Windows users expect -? to work like --help
vim-patch:8.1.0231: :help -? goes to help for -+
vim-patch:8.0.1383: local additions in help skips some files
vim-patch:8.0.0998: strange error when using K while only spaces are selected
CI/AppVeyor: Disable gcov build for PRs
Merge #8955 'deps: update jemalloc, libvterm'
tests: call getchar(1) in timer callback
lint
vim-patch:8.1.0052: when mapping to <Nop> times out the next mapping is skipped
vim-patch:8.0.1048: no test for what 8.0.1020 fixes
vim-patch:8.0.1020: when a timer calls getchar(1) input is overwritten
Merge #8921 'highlight: Fix after-EOL matches at cursor'
build/MSVC: remove libvterm-Fix-escape-sequences-for-MSVC.patch
deps: update libvterm
deps: update to jemalloc 5.1.0
tui: Hint wrapped lines to terminals.
Merge pull request #8942 from bfredl/attr_state
Add tests for highlighting after the end of a line.
vim-patch:8.1.0344: 'hlsearch' highlighting has a gap after /$
screen.lua: extend snapshot_util() to work with extension state
oldtests: win: fix pathsep in :mkview test
vim-patch:8.1.0336: mkview test still fails on CI
vim-patch:8.1.0335: mkview test fails on CI
vim-patch:8.1.0333: :mkview does not restore cursor properly after "$"
vim-patch:8.1.0331: insufficient test coverage for :mkview and :loadview
Merge #8934 'Remove mb_ptr2len_len, mb_ptr2cells, mb_ptr2cells_len'
doc/defaults: document `ttimeoutlen` default (#8943)
man.vim: guard against reload (#8940)
lint: clean-up after parent commits
Remove has_mbytes from lines local to parent commit
Refactor: remove mb_ptr2len_len, mb_ptr2cells and mb_ptr2cells_len
shell.c: fix scan-build NPE warning #8932
spellfile.c: Remove dead assignment #8933
Fix dead assignment.
Merge #8930 'vim-patch:8.1.0022'
getchar: fix {read,copy,start}_redo() params
globals: cmd_silent is bool
vim-patch:8.1.0022: repeating put from expression register fails
Merge #8863 'refactor: Remove mb_head_off()'
Merge #8863 'refactor: Remove mb_head_off() '
Merge #8929 from janlazo/vim-8.0.0983
test: Dump $NVIM_LOG_FILE contents (#8926)
lint
ex_cmds2: checkall in dialog_changed() is bool
vim-patch:8.1.0214 fixup: remove feature-guard
vim-patch:8.1.0214 (#8927)
vim-patch:8.0.0983: unnecessary check for NULL pointer
options: do not use gettext for +printheader (#8928)
API: nvim_unsubscribe(): Handle unknown events #8745
vim-patch:8.0.1001: setting 'encoding' makes 'printheader' invalid (#8925)
Merge pull request #8891 from bfredl/keyexpect
tests: introduce screen:expect{...} form
ext_cmdline: use new highlight representation for cmdline_block
health.vim: Detect missing init.vim
vim-patch:8.1.0322: Test_copy_winopt() does not restore 'hidden' (#8918)
Merge #8916 from janlazo/vim-8.1.0144
oldtests: comment out test for 'set cpo+=.'
vim-patch:8.1.0144: the :cd command does not have good test coverage
win/dist: nvim-qt v0.2.10 (#8901)
Merge #8903 from janlazo/vim-8.0.0883
Merge #8904 from janlazo/vim-8.0.0900
vim-patch:8.1.0327: the "g CTRL-G" command isn't tested much (#8914)
src/nvim/testdir/Makefile: define NEW_TESTS automatically (#8909)
CI/Codecov: enable changes status (#8910)
Merge #8908 'build/doc: generate vimindex.html'
vim-patch:8.0.1214: accessing freed memory when EXITFREE is set
runtime/doc: fix broken links found by `make html`
warn about tests without libintl
build/doc: generate vimindex.html
vim-patch:8.0.1468: illegal memory access in del_bytes()
vim-patch:8.0.0900: :tab options doesn't open a new tab page
vim-patch:8.0.1404: invalid memory access on exit
vim-patch:8.0.1228: invalid memory access in GUI test
vim-patch:8.0.0883: invalid memory access with nonsensical script
remote/host.vim: specify {nosuf} for globpath() (#8882)
Merge #8894 from janlazo/editorconfig-makefile
Merge #8896 from janlazo/vim-8.1.0083
search: fix types of findsent() variables
vim-patch:8.1.0083: "is" and "as" have trouble with quoted punctuation
doc: remove mention of "drop" register (#8893)
oldtests: reindent Makefile to 8-width tab
editorconfig: Makefile uses 8-width tab indent
vim-patch:8.0.1682: auto indenting breaks inserting a block (#8892)
Merge pull request #8887 from janlazo/vim-8.0.1242
Merge pull request #8889 from janlazo/vim-8.0.0999
lint
vim-patch:8.0.1044: warning for uninitialized variable
vim-patch:8.0.1043: warning for uninitialized variable
vim-patch:8.0.1041: bogus characters when indenting during visual-block append
vim-patch:8.0.0999: indenting raw C++ strings is wrong
vim-patch:8.0.1151: "vim -c startinsert!" doesn't append (#8886)
vim-patch:8.0.1242: function argument with only dash is seen as number zero
Merge #8880 from janlazo/vim-8.0.1331
vim-patch:8.0.1790: 'winfixwidth' is not always respected by :close
vim-patch:8.0.1707: when 'wfh' is set ":bel 10new" scrolls window
vim-patch:8.0.1426: "gf" and <cfile> don't accept ? and & in URL
vim-patch:8.0.1331: possible crash when window can be zero lines high
Merge pull request #8879 from janlazo/vim-8.1.0303
vim-patch:8.1.0303: line2byte() is wrong for last line with 'noeol'
Merge #8877 from janlazo/vim-8.0.1441
vim-patch:8.1.0110: file name not displayed with ":file" (#8878)
vim-patch.sh: Also check for .git/ directory
Merge #8861 from janlazo/vim-8.0.1364
lint
undo: undo_undoes is bool
undo: did_undo,absolute in u_undo_end() are bool
undo: update undo_time() function signature
undo: above,did_undo in undo_time() are bool
vim-patch:8.0.1441: using ":undo 0" leaves undo in wrong state
Merge #8866 from janlazo/vim-8.0.0878
Merge #8872 from janlazo/vim-8.0.0762
Merge #8860 from lucc/nvim_get_proc
vim-patch.sh: Use git-rev-parse to check repo (#8875)
search: "include" in current_tagblock() is bool
vim-patch:8.1.0290: "cit" on an empty HTML tag changes the whole tag
lint
vim-patch:8.0.1487: test 14 fails
vim-patch:8.0.1486: accessing invalid memory with "it"
vim-patch:8.0.1291: C indent wrong when * immediately follows comment
vim-patch:8.1.0018: using "gn" may select wrong text when wrapping
vim-patch:8.0.1148: gN doesn't work on last match with 'wrapscan' off
vim-patch:8.0.0762: ml_get error with :psearch in buffer without a name
vim-patch:8.0.1418: no test for expanding backticks
doc: Remove irrelevant line about "only the first" vimrc is used
API: Remove path prefix from command name in nvim_get_proc()
lint
normal: don't check has_mbyte
vim-patch:8.0.1091: test for <cexpr> fails without +balloon_eval feature
vim-patch:8.0.1090: cannot get the text under the cursor like v:beval_text
vim-patch:8.1.0159: completion for user names does not work for a prefix.
ex_docmd: forceit,usefilter are bool
Merge pull request #8859 from bfredl/cmdline_norm
cmdline: always use save_cmdline before command_line_enter
ops: refactor get_spec_reg()
vim-patch:8.0.1787: cannot insert the whole cursor line
vim-patch:8.1.0101: no test for getcmdwintype()
vim-patch:8.0.1816: no test for setcmdpos()
vim-patch:8.0.1649: no completion for argument list commands
vim-patch:8.0.1231: expanding file name drops dash
vim-patch:8.0.0878: no completion for :mapclear
vim-patch:8.0.1509: test for failing drag-n-drop command no longer fails
vim-patch:8.0.1508: the :drop command is not always available
lint: cleanup after parent commits
Remove has_mbyte from lines near changes in parent commit
vim-patch:8.1.0186: test for getwininfo() fails in GUI
vim-patch:8.1.0184: not easy to figure out the window layout
Remove occurences of mb_head_off
vim-patch:8.0.1364: there is no easy way to get the window position
Merge pull request #8806 from bfredl/bce
API: Use `ps -o comm` in nvim_get_proc()
Merge #8829 from ZviRackover/fix-7401-step2
Merge #8852 from janlazo/vim-8.1.0161
Merge #8856 from janlazo/vim-8.0.1209
lint
vim-patch:8.0.1633: a TextChanged autocmd triggers when it is defined
vim-patch:8.0.1413: accessing freed memory in :cbuffer
oldtests: finish port of 8.0.1224
vim-patch:8.0.1409: buffer overflow in :tags command
vim-patch:8.0.1488: emacs tags no longer work
vim-patch:8.0.1218: writing to freed memory in autocmd
vim-patch:8.0.1209: still too many old style tests
TUI: use BCE again more often, as it provides smoother resizes and scrolling
tui: reenable cursor movement optimizations (leftover from #8221)
tui: hack for invalid first line with non-bce resize
tui: use bce properly
Merge pull request #8790 from bfredl/hlattr
lint: clean up after parent commit
oldtests: win: a directory is not executable
Merge #8832 from eraserhd/vim-insert-setline-undo-fixes
vim-patch:8.1.0262: not enough testing for getftype()
vim-patch:8.0.1630: trimming white space is not that easy
vim-patch:8.1.0161: buffer not updated with 'autoread' set if file was deleted
Remove occurrences of 'has_mbyte' near lines changes by parent commit
Remove all occurrences of mb_off2cells
cursor_shape: use attribute ids instead of syntax ids
highlight: HlAttrs is a value type; treat it like such
Merge #8851 from janlazo/vim-8.0.1227
lint
vim-patch:8.0.1397: pattern with \& following nothing gives an error
vim-patch:8.0.1257: no test for fix of undefined behavior
vim-patch:8.0.1243: no test for what 8.0.1227 fixes
vim-patch:8.0.1227: undefined left shift in readfile()
Merge #8843 from janlazo/vim-8.0.0828
deps: get gperf-3.1.tar.gz from our mirror
Merge #8837 from janlazo/vim-8.0.1290
Merge #8833 from janlazo/vim-8.0.1004
Merge #8847 from janlazo/vim-8.0.1037
CI/travis: fix restore from cache
eval: match in find_some_match() is bool
lint
regexp: drop has_mbyte check in regmatch()
vim-patch:8.0.1361: some users don't want to diff with hidden buffers
diff: drop enc_utf8 check in diff_equal_char()
vim-patch:8.0.1046: code duplication in diff mode
vim-patch:8.0.1037: "icase" of 'diffopt' is not used for highlighting
lint
vim-patch:8.1.0099: exclamation mark in error message not needed
vim-patch:8.1.0097: superfluous space before exclamation mark
vim-patch:8.1.0090: "..." used inconsistently in a message
vim-patch:8.1.0078: "..." used inconsistently in messages
vim-patch:8.0.1517: invalid memory acces with pattern using look-behind match
vim-patch:8.0.1470: integer overflow when using regexp pattern
vim-patch:8.0.1254: undefined left shift in gethexchrs()
vim-patch:8.0.0828: Coverity: may dereference NULL pointer
refactor: Replace vim_strrchr() with strrchar() (#8718)
terminfo: add header guard, stdint.h for int8_t (#8848)
Merge #8845 from janlazo/vim-8.0.1490
tutor: don't set statusline (#8844)
lint
vim-patch:8.0.1490: number of spell regions is spread out through the code
Merge pull request #7981 from mhinz/update-terminfo-rxvt
terminfo: update built-in terminfo entries
terminfo: add scripts/update_terminfo.sh
Merge pull request #8838 from jamessan/vim-patch-issue-regex
vim-patch.sh: Fix replacement which converts #1234 to vim/vim#1234
oldtests: Test_undofile() passes
Fix lint
vim-patch:8.1.0256: using setline() in TextChangedI splits undo
vim-patch:8.1.0245: calling setline() in TextChangedI autocmd breaks undo
vim-patch:8.1.0057: popup menu displayed wrong when using autocmd
Merge #8835 from janlazo/vim-8.0.1819
vim-patch:8.1.0025: no test for the undofile() function
vim-patch:8.0.1433: illegal memory access after undo
memline: fnamecmp_ino() returns bool
vim-patch:8.0.1819: swap file warning for file with non-existing directory
vim-patch:8.0.1290: seq_cur of undotree() wrong after undo
vim-patch:8.1.0024: test % command (#8834)
vim-patch:8.1.0257: no test for pathshorten()
vim-patch:8.1.0204: inputlist() is not tested
vim-patch:8.1.0008: no test for strwidth()
vim-patch:8.0.1421: accessing invalid memory with overlong byte sequence
vim-patch:8.0.1410: hang when using count() with an empty string
vim-patch:8.0.1105: match() and matchend() are not tested
vim-patch:8.0.1004: matchstrpos() without a match returns too many items
Merge #8831 from janlazo/vim-8.1.0009
Merge #8804 from battlmonstr/lang_region_crash
Merge #8797 from janlazo/vim-8.0.0687
vim-patch.sh: Pass directory name to find (#8830)
vim-patch:8.1.0241: effect of ":tabmove N" is not clear
vim-patch:8.1.0009: tabpages insufficiently tested
ruby: detect rbenv shims for other versions (#8733)
defaults: win: 'shellpipe' for cmd.exe (#8827)
Merge #8821 from janlazo/vim-8.1.0003
oldtests: win: set shellpipe for cmd.exe
Merge #8744 from janlazo/vim-8.0.0890
Merge #8665 'Remove mb_ptr2char macro'
misc: fixpos in del_char() is bool
edit: end_insert in check_auto_format() is bool
edit: did_add_space is bool
memline: copy in ml_replace() is bool
ops: is_del in block_prep() is bool
window: no_display in restore_win() is bool
ops: add const to shift_block() variables
tests: win: fix pathsep of :compiler paths
vim-patch:8.1.0005: test for :compiler command fails on MS-Windows
vim-patch:8.1.0004: test for :compiler command sometimes fails
vim-patch:8.1.0003: the :compiler command is not tested
eval: add const to f_gettabvar() variables
edit: temp in ins_del() is const int
vim-patch:8.1.0007: no test for "o" and "O" in Visual block mode
vim-patch:8.0.1811: no test for winrestcmd()
vim-patch:8.0.1705: when making a vertical split the mode message isn't updated
vim-patch:8.0.1446: acessing freed memory after window command in auto command
vim-patch:8.0.1579: virtual replace test fails in GUI
vim-patch:8.0.1577: virtual replace test fails on MS-Windows
vim-patch:8.0.1575: crash when using virtual replace
vim-patch:8.0.0879: crash when shifting with huge number
vim-patch:8.0.1601: highlight test fails on Win32
vim-patch:8.0.1600: crash when setting t_Co to zero when 'termguicolors' is set
vim-patch:8.0.1169: highlignting one char too many with 'list' and 'cul'
vim-patch:8.0.1168: wrong highlighting with combination of match and 'cursorline'
vim-patch:8.0.1216: tabline is not always updated for :file command
vim-patch:8.0.1160: getting tab-local variable fails after closing window
vim-patch:8.0.0890: still many old style tests
style: fixing minor issues noted in code review.
Remove some occrrences of enc_utf8 and has_mbyte
lint: clean-up after parent commit
Remove all occurences of the mb_ptr2char macro
Merge #8820 from janlazo/vim-8.0.0671
lint
globals: did_ai is bool
globals: did_si is bool
globals: can_si is bool
globals: can_si_back is bool
edit: haveto_redraw (local variable) is bool
edit: can_cindent is bool
edit: fix variables in ins_mousescroll()
globals: typebuf_was_filled is bool
vim-patch:8.1.0240: g:actual_curbuf set in wrong scope (#8818)
vim-patch:8.0.1507: timer test is a bit flaky
vim-patch:8.0.0948: crash if timer closes window while dragging status line
vim-patch:8.0.0722: screen is messed by timer up at inputlist() prompt
vim-patch:8.0.0671: hang when typing CTRL-C in confirm() in timer
eval, ex_getln: Fix incompatible pointer types (#8792)
syntax.h: fix include #8742
Merge #8742 vim-patch:8.0.0791,0831,1072,1078,1088
Merge #8749 from janlazo/clint-tristate
Merge #8799 from janlazo/nvim-8.0.1541
misc: refactor plines_win{,_nofill}()
fold: add const to foldSplit() variables
fold: add const to foldUpdateIEMSRecurse() vars
fold: add const to foldUpdateIEMS() variables
fold: add const to checkSmall() variables
fold: declare and init vars in deleteFoldEntry()
fold: add const to foldMoveTo() variables
fold: add const to deleteFold() variables
fold: add const to hasFoldingWin() variables
Merge pull request #8660 from phodge/7688-nvim-buf-lines-should-return-empty-list-for-unloaded-buffer
ex_cmds: add const to helptags_one() variables
ex_cmds: add const to fix_help_buffer() variables
hardcopy: refactor mch_print_start_line()
hardcopy: bold,italic,underline are TriState
fold: use_level,maybe_small are bool
globals: virtual_op is TriState
fold: recursive in deleteFoldEntry() is bool
fold: fold_changed is bool
fold: finish in foldUpdateIEMSRecurse() is bool
screen: screen_cleared is TriState
fold: lineFolded() is bool
fold: check_closed() returns bool
search: refactor variables in findmatchlimit()
search: start_in_quotes in findmatchlimit is TriState
edit: dont_sync_undo is TriState
ex_cmds: refactor utf8 variables to TriState
menu: enable in ex_menu() is TriState
fold: fold_T.fd_small is TriState
diff: refactor diff_a_works to use TriState
clint: detect MAYBE and recommend TriState
Fix crash in lang_init() on macOS if lang_region = NULL
syntax: syn_pattern.sp_syncing is bool
syntax: add const to get_syntax_attr() params
syntax: add const to syn_finish_line() params,vars
syntax: did_header is bool
syntax: disptick_T is uint16_t
syntax: scl_id is int
vim-patch:8.0.1088: occasional memory use after free
vim-patch:8.0.1078: using freed memory with ":hi Normal"
vim-patch:8.0.1072: :highlight command causes a redraw even when nothing changed
vim-patch:8.0.0831: with 8 colors the bold attribute is not set properly
vim-patch:8.0.0791: terminal colors depend on the system
syntax: refactor get_id_list()
syntax: refactor syn_combine_list()
syntax: syn_cluster_T.scl_list is int16_t*
syntax: refactor syn_current_attr()
syntax: use const on check_keyword_id() variables
syntax: syn_state.sst_next_list is int16_t*
syntax: current_next_list is int16_t*
syntax: update types of stateitem_T members
syntax: use const on syn_list_keywords() variables
syntax: update types for keyentry_T,sp_syn
syntax: use const on copy_id_list() params,vars
syntax: use const on add_keyword() params,vars
syntax: update types of syn_opt_arg_T members
syntax: use const on put_id_list() variables
vim-patch:8.0.1541: synpat_T is taking too much memory
vim-patch:8.0.0735: no indication that the quickfix window/buffer changed
vim-patch:8.0.0687: minor issues related to quickfix
system(): handle profiling and 'verbose' #8730
Merge pull request #8770 from janlazo/vim-8.0.0726
checkhealth: always report stderr with errors (#8783)
checkhealth: do not use exepath with host_prog (#8784)
log.c: Fix possible truncation in buffer (#8791)
Merge #8793 from janlazo/vim-8.0.0837
lint
screen: add const and reindent update_debug_signs()
vim-patch:8.0.0837: signs can be drawn on top of console messages
Merge pull request #8789 from bfredl/updatehl
screen.c: add update_window_hl to special redrawing entrypoints
Merge pull request #8767 from janlazo/vim-8.0.0493
Merge pull request #8485 from janlazo/vim-8.0.1012
Merge pull request #8769 from janlazo/vim-8.0.1502
tui: clip invalid regions on resize (#8779), fixes #8774
Merge #8729 'log: milliseconds, format'
log.c: format: padding
DOC: regenerate api docs
DOC: add support for intro sections in api docs
functests: tests related to operations on unloaded buffers #7688
API: update docs WRT behaviours/methods for unloaded buffers #7688
API: add nvim_buf_is_loaded() #7688
API: buf_get_lines, buf_line_count handle unloaded buffers #7688
cmake: bump API version
vim-patch:8.0.1017: test for MS-Windows $HOME always passes
vim-patch:8.0.1012: MS-Windows: problem with $HOME when is was set internally
vim-patch:8.0.0810: MS-Windows: tests still hang
vim-patch:8.0.0806: tests may try to create XfakeHOME twice
vim-patch:8.0.0805: GUI test fails with gnome2
log.c: ISO 8601 date/time
log.c: include milliseconds
log.c: message format
rename: os_get_localtime => os_localtime
Merge pull request #8771 from bfredl/glitches
ui: fix glitches where scrolling region affects clearing of screen
screen.c: fix redrawing tabline when messages overflow screen
tests: add test for switching tabpage right after scroll
test: assert scroll region state for clear
tests: test for redrawing tabline when msgsep marker goes outside screen
file_search: free stackp if vim_findfile() failed
vim-patch:8.1.0111: .po files do not use recommended names
vim-patch:8.0.1839: script to check .po file doesn't check for plural header
vim-patch:8.0.1778: script to check translations does not always work
vim-patch:8.0.0835: translations check with msgfmt does not work
vim-patch:8.0.0830: translating messages is not ideal
vim-patch:8.0.0794: checking translations fails with multiple NL
vim-patch:8.0.0734: the script to check translations can be improved
vim-patch:8.0.0726: translations cleanup script is too conservative
vim-patch:8.0.1622: possible NULL pointer dereference
vim-patch:8.0.1512: warning for possibly using NULL pointer
vim-patch:8.0.1502: in out-of-memory situation character is not restored
build: Enable LTO (Link Time Optimization) #8654
Merge #8589 'VimL: Remove legacy v:xx aliases'
doc: README: "Transitioning from Vim" note (#8763)
vim-patch:8.0.1765: CTRL-G j in Insert mode is incorrect when 'virtualedit' set (#8757)
Merge #8753 from janlazo/vim-8.0.0724
vim-patch:8.0.1398: :packadd does not load packages from the "start" directory (#8762)
Make "v:errmsg", "v:shell_error" and "v:this_session" distinct
vim-patch:8.0.0493: crash with cd command with very long argument
man.vim: improve manSentence regex (#8764)
Merge pull request #8221 from bfredl/hlstate
ui: add tests for hlstate extension
ui: docs for ext_newgrid and ext_hlstate
ui: use line-based rather than char-based updates in screen.c
ui: add TODO for non-working terminal linewrap
highlight: refactor to use stateful representation
highlight: extract low-level highlight logic from syntax, ui
Merge #8761 from janlazo/vim-8.0.1503
version bump
hardcopy: refactor mch_print_text_out()
vim-patch:8.1.0056: crash when using :hardcopy with illegal byte
vim-patch:8.0.1503: access memory beyond end of string
startup: fix ":if 0|syntax on|endif" bug (#8731)
NVIM v0.3.1
Merge #8679 from justinmk/doc
gen_api_vimdoc.py: add whitespace before "~"
doc
vim-patch:8.0.1799: no test for :registers command
vim-patch:8.0.0727: message about what register to yank into is not translated
vim-patch:8.0.0724: the message for yanking doesn't indicate the register
Merge pull request #8743 from dimbleby/multiple-children
Merge pull request #8651 from MichaHoffmann/feature_refactor_channel
Merge pull request #8746 from oni-link/fix.rpcstart2
dispatch.c: changed api_set_error_call
channel.c: Prevent channel_destroy_early() from freeing uninitialized rpc stuff
Check all child processes for exit in SIGCHLD handler
channel.c: refactor spaghetti code
Merge pull request #8737 from dimbleby/overly-general-waitpid
Only waitpid() for processes that we care about
vim-patch:8.0.0630: it is not easy to work on lines without a match (#8734)
Merge #8736 'vim-patch:8.0.0697: stable keymap.h'
keymap: add commented events to match 8.0.0697
tests: <SNR> is represented as 'R' (ASCII)
terminal: handle &confirm and :confirm on unloading (#8726)
Merge pull request #8721 from bfredl/quickresize
screen: truncate showmode messages
vim-patch:8.0.0{474,475,492,633,1251} (#8725)
Merge #8701 from janlazo/vim-8.0.1140
man.vim: C highlighting for EXAMPLES section #8709
Merge pull request #8719 from jamessan/libuv-errno
tests/screen.lua: treat "resize" like any other event
test/includes: Use ${gen_cdefs} when pre-processing headers
test: Rename includes/pre/uv-errno.h to includes/pre/uv.h
vim-patch:8.0.0697: recorded key sequences may become invalid
Merge pull request #8716 from mhinz/vim-patch/wrapped-lines
vim-patch.sh: Unwrap commit messages when reviewing PRs
vim-patch:8.0.0522: Win32: clipboard=unnamed in :global (#8717)
transstr_buf: fix length comparison #8681
test: build_stl_str_hl (#8703)
vim-patch:8.0.1464: add slash when completing directory #8684
Merge pull request #8708 from blueyed/fix-standout
Merge pull request #8712 from jamessan/unicode-11
Update unicode files
vim-patch.sh: review_commit: Fix regex for vim version
vim-patch.sh: Use single quotes to avoid doubling backslashes
man.vim: fix for mandoc (#8698)
TUI: urxvt: also send xterm focus-reporting seqs #8699
[WIP/RFC] Fix standout mode
vim-patch:8.0.1387: wordcount test is old style
vim-patch:8.0.1022: test 80 is old style
Merge #8702 from janlazo/nvim-8.0.0654
clint: use stdout for normal/expected output (#8700)
tests: endfunc allows uncommented bar
vim-patch: finish port of 8.0.0{654,663,667}
oldtests: fix func Test_echo_and_string()
vim-patch:8.0.1253: still too many old style tests
vim-patch:8.0.1140: still old style tests
vim-patch:8.0.0663: unexpected error with 'verbose' (#8692)
Merge #8680 from janlazo/vim-8.0.0640
provider/node: npm --loglevel silent (#8682)
vim-patch:8.0.0686: extra redraw when using CTRL-L in second window
vim-patch:8.0.0640: mismatch between help and actual message
Merge #8672 'test: nvim_buf_attach after delay'
coverity/166184:  Null pointer dereference (FP)
test: nvim_buf_attach: reduce delay
test: nvim_buf_attach response after initial delay
test: buffer_updates: 10s timeout
Merge #8635 from janlazo/vim-8.0.0252
coverity/108274: tty-test.c: Insecure data handling (#8666)
test: port kword_test to Lua for utf_char2bytes()
vim-patch:8.0.0252: not properly recognizing word characters between 128 and 255
API: emit nvim_buf_lines_event from :terminal #8616
vim-patch:8.0.0593: DRY: setting list/dict return value (#8639)
Merge pull request #8661 from jamessan/gen_api_vimdoc
gen_api_vimdoc: Make executable and change #! to python3
Merge pull request #8656 from bfredl/wd_ls
ui: don't crash when 'writedelay' is set and redrawing inside an event handler
highlight: high-priority CursorLine if fg is set. #8578
doc (#8652)
Merge pull request #8650 from jamessan/skip-pydo-tests
Merge #8645 from janlazo/vim-8.0.0677
oldtest: Disable tests that :py(3)do stop executing when buffer changes
vim-patch:8.0.0688: cannot resize the window in a FileType autocommand
vim-patch:8.0.0677: setting 'filetype' may switch buffers
API: nvim_win_set_cursor: set w_set_curswant #8640
Merge #8642 from janlazo/vim-8.0.0704
vim-patch:8.0.0707: freeing wrong memory with certain autocommands
vim-patch:8.0.0706: crash when cancelling the cmdline window in Ex mode
vim-patch:8.0.0704: problems with autocommands when opening help
Improved version of #8613
API: nvim_win_set_cursor: set curswant #8613
Merge #8621 from janlazo/vim-8.0.0642
vim-patch:8.1.0107: getting buffer option clears message (#8637)
test: update writefile test for invalid list items
l10n: Update Ukrainian translation (#8622)
vim-patch:8.0.0642: writefile() continues after detecting an error
vim-patch:8.0.0548: saving the redo buffer only works one time (#8629)
vim-patch:8.0.0535: leak when exiting user function (#8574)
vim-patch:8.0.0{538,539} (#8615)
win/deps: Fix copy to subdir (#8636)
vim-patch:8.0.0627: "gn" selects only one character with 'nowrapscan' (#8632)
checkhealth: Python: fix VIRTUAL_ENV check (#8628)
vim-patch:8.0.0544: cppcheck warnings (#8627)
main: fix FALLTHROUGH hints (#8623)
Merge pull request #7551 from bfredl/setl_bufwin
Merge #8618 'Replace b_changedtick with always-inline functions'
defaults: shortmess+=F (#8619)
*: Replace b_changedtick with new always-inline functions
Merge #8612 from janlazo/vim-8.0.0621
buffer: fix copying setl options for buffer currently displayed in another window
vim-patch:8.0.0648: possible use of NULL pointer
vim-patch:8.0.0621: :stag does not respect 'switchbuf'
vim-patch:8.0.0468: g< after aborting an Ex command (#7941)
vim-patch:8.0.{0632,1536} (#8609)
vim-patch:8.0.0616: not always setting 'background' correctly after :hi Normal (#8606)
vim-patch:8.0.0{469,581,583} (#8601)
vim-patch:8.0.0669: CTRL-N at start of the buffer does not work correctly (#8600)
vim-patch:8.0.0636: when reading the undo file fails may use uninitialized data (#8599)
Merge #8579 win: cmake: Improvements for building with IDEs
Merge #8596 from janlazo/vim-8.0.0615
vim-patch:8.0.0551: the typeahead buffer is reallocated too often (#8598)
Merge #8503 from janlazo/vim-8.0.0549
vim-patch:8.0.0568: 1gd may hang
lint
vim-patch:8.0.0546: swap file exists briefly when opening the command window (#8588)
vim-patch:8.0.0549: no test for the 8g8 command
vim-patch:8.0.0617: hardcopy test hangs on MS-Windows
vim-patch:8.0.0615: using % with :hardcopy wrongly escapes spaces
Merge #8576 from justinmk/startup-empty-stdin
vim-patch:8.0.0537: illegal memory access with :z and large count (#8592)
Merge pull request #8593 from jamessan/vim-patch-printf-fix
vim-patch: Replace shell variables in printf with formatted args
vim-patch:8.0.0455: the mode test may hang (#8577)
vim-patch:8.0.0542: getpos() can return a negative line number (#8580)
vim-patch:8.0.0598: building with gcc 7.1 yields new warnings (#8585)
Merge #8584 from janlazo/vim-8.0.0467
startup: delete empty stdin buffer if other files were opened
Merge #8558 from jamessan/gnucxx-compiler-for-gnu-source
use wchar_t instead of WCHAR #6998
startup: go to buffer 2 if stdin is empty
vim-patch:8.0.0547: extra line break in verbosefile
vim-patch:8.0.0467: using g< after :for does not show the right output
cmake: Prefer add_definitions() for setting preprocessor defines
cmake: Comply with new CMP0054 policy
Raise minimum CMake version to 2.8.12 and remove compat code
cmake: Consolidate enabling of "undefined symbol" errors
cmake: Explicitly declare C as the project language
cmake: Check for GNU compiler, not Linux, to set -D_GNU_SOURCE
Merge #8502 from janlazo/vim-8.0.0481
Merge #8520 'Ex mode: always "improved" (gQ)'
cmake: Organize targets into folders
startup: fix -E/-Es without `-u NONE`
Ex mode: use getexline() instead of getexmodeline()
checkhealth: node.js: also search yarn #8528
vim-patch:8.0.0609: some people still don't know how to quit (#8571)
vim-patch:8.0.0625: shellescape() always escapes a newline (#8573)
Merge #8570 'gen_events.lua: define NUM_EVENTS as enum'
Merge #8569 from janlazo/vim-8.0.0602
Merge #8567 from ckelsel/vim-8.0.0530
vim-patch:8.0.0604: gF test fails still on MS-Windows
vim-patch:8.0.0603: gF test fails on MS-Windows
vim-patch:8.0.0602: when gF fails to edit the file the cursor still moves
syntax: refactor syn_finish_line to return bool
vim-patch:8.0.0481: unnecessary if statement
fix lint
vim-patch:8.0.0545: edit test may fail on some systems
vim-patch:8.0.0543: test_edit causes older xfce4-terminal to close
vim-patch:8.0.0532: test with long directory name fails on Mac
vim-patch:8.0.0531: test with long directory name fails on non-unix systems
vim-patch:8.0.0530: buffer overflow when 'columns' is very big
Merge #8565 from janlazo/vim-8.0.0575
Merge #8543 from janlazo/vim-8.0.0596
Merge #8526 from janlazo/vim-8.0.0451
vim-patch:8.0.0577: warning for uninitialized variable
vim-patch:8.0.0575: using freed memory when resetting 'indentexpr'
build/test: skip empty TEST_TAG, TEST_FILTER
gen_events.lua: define NUM_EVENTS as an enum value
get_maphash: fix off-by-one
Merge pull request #8546 from bfredl/eob
build/win: Add workaround for Windows command length limit
Merge pull request #8549 from jamessan/output_spec-printf
fillchars: make checks more strict and improve tests
functionaltest: Use octal escapes for printf
Add ‘eob’ option to fillchars
lint
Merge pull request #7992 from bfredl/mbscreen
Fix implicit conversion warning (#8536)
options: remove 'maxcombine` option (always use 6)
screen: use UTF-8 representation
vim-patch:8.0.0596: crash when complete() called after complete_add()
test/ui: doublewidth rendering. multibyte and cmdwin chars in folded lines (#8534)
Revert "makedeps.bat"
charset: include option_defs.h for breakat_flags
doc
vim-patch:8.0.0451: some macros are in lower case
version bump
NVIM v0.3.0
Merge #8523 from justinmk/doc
doc: API
doc/man: mention $NVIM_LOG_FILE
doc: job/channel, misc #7783
checkhealth: fix nodejs provider advice (#8522)
deps: Build bundled dependencies automatically for IDEs
test: fix startup_spec
deps: bump lua client
Merge #7679 'startup: treat stdin as text instead of commands'
Merge #8499 from janlazo/vim-8.0.0533
Merge #8516 'win/build: bundle libiconv, gettext tools'
vim-patch:8.0.0520: using a function pointer while the function is known (#8513)
vim-patch:8.0.0466: still macros that should be all-caps (#8510)
build/msvc: Add support for building gettext tools with MSVC
build/msvc: Add libiconv to bundled dependencies
refactor: buf_collect_lines (#8509)
vim-patch:8.0.0541: compiler warning on MS-Windows
vim-patch:8.0.0533: abbreviation doesn't work after backspacing newline
expand_env_esc: fix invalid memory access (#8508)
vim-patch:8.0.0525: completion for user command argument not tested (#8506)
vim-patch:8.0.0452: some macros are in lower case (#8505)
doc: API: api-buffer-updates
Merge #7917 'API: buffer updates'
Merge #8498 from janlazo/vim-8.0.0523
vim-patch:8.0.0355: using uninitialized memory when 'isfname' is empty (#8493)
vim-patch:8.0.0586: no test for mapping timing out (#8501)
vim-patch:8.0.0560: :windo allows for ! but it's not supported (#8500)
lint
terminal: flush vterm output buffer on pty output #8486
vim-patch:8.0.0523: dv} deletes part of a multi-byte character.
Merge #8491 from janlazo/vim-8.0.0255
vim-patch:8.0.0256: missing changes to one file breaks test
API: validation: mention invalid method name (#8489)
vim-patch:8.0.0265: ml_get error when :pydo deletes lines (#8492)
vim-patch:8.0.0254: error message of assert functions (#8488)
vim-patch:8.0.0255: setpos() does not use the buffer argument for all marks
Merge #8464 from justinmk/cmake-findpkg-required
ex_getln.c: Fix PVS/V519: variable assigned twice
win/build: avoid "C4142: benign redefinition of type"
win: enable DYNAMIC_ICONV
makedeps.bat
win/build: download iconv, gettext tools
cmake/FindLibIntl.cmake: handle passive case explicitly
build/CMake: find_package(… REQUIRED)
Merge #8461 from bfredl/scrollstatus
vim-patch:8.0.0675: 'colorcolumn' has a higher priority than 'hlsearch' (#8483)
Merge #8482 'test: give more time for nodejs'
fixup: exclude node_modules/ for crash detection
Merge #8479 from janlazo/vim-8.0.0529
vim-patch:8.0.0851: 'smartindent' is used even when 'indentexpr' is set (#8481)
test: give more time for nodejs
lint
vim-patch:8.0.0623: error for invalid regexp is not very informative
vim-patch:8.0.0529: line in test commented out
cleanup, test interactive -E
win/startup: remove --literal
startup: allow explicit "-" file arg with --headless
startup: fix -es/-Es so they are actually silent
startup: silent-mode is not `full_screen`
lint
startup: stdin-text with -E, -Es (improved Ex-mode)
startup: stdin-text with file args
startup: stdin as text instead of commands
main.c: remove check_tty(), delayed warning
lint
doc/man: brevity, clarity
vim-patches: 8.0.0399 8.0.0401 (#8475)
vim-patch:8.0.1237: ":set scroll&" often gives an error (#8473)
version.c: update [ci skip] (#8413)
Merge #8414 'Windows fixes'
deps: Fix libvterm and libtermkey escape sequences for MSVC
deps: Ignore whitespace when applying libuv patch
deps: Upgrade LuaRocks and remove patch
build/MSVC: TUI: Fix uninitialized variable
TUI: skip SIGWINCH during teardown #8470
Merge #8467 'vim-patches'
oldtests: comment out highlight group assertions
oldtests: comment out v:none assertions
Merge #8465 'vim-patch:8.0.0558,8.0.0562'
Merge #8456 'API: nvim_list_uis: include channel id'
vim-patch:8.0.1311: no test for strpart()
vim-patch:8.0.0435: some functions are not tested
vim-patch:8.0.0261: not enough test coverage for eval functions
tui: handle termguicolors rgb value in bridge for now
vim-patch:8.0.0562: not enough test coverage for syntax commands
oldtests: add conceal check for patch 8.0.0562
ex_getln: remove msg_scrolled cargo-cult magic, fixes #8251
ex_getln: don't redraw statusline on top of scrolled messages
vim-patch:8.0.0558: :ownsyntax is not tested
wildmenu: close before redrawing statusline (#8453)
vim-patch:8.0.0519: character classes not well tested (#8460)
nvim_list_uis: include channel id
vim-patch:8.0.0516 (#8458)
Merge #8454 from janlazo/vim-8.0.0321
vim-patch:8.0.1232: MS-Windows users are confused about default mappings
vim-patch:8.0.0321: errors when trying to use scripts in tiny version
Merge #8451 from ckelsel/vim-8.0.0507
vim-patch:8.0.0515: ml_get errors in silent Ex mode (#8452)
vim-patch:8.0.0511: message for skipping client-server tests is unclear
vim-patch:8.0.0507: client-server tests fail when $DISPLAY is not set
Merge #8434 'win/build: prefer Ninja'
Change to use bundled libuv to build luv
vim-patch:8.0.0505: failed window split for :stag not handled (#8439)
vim-patch:8.0.0496: insufficient testing for folding (#8438)
Merge #8436 win: test: cleanup on exit'
fixup: always delete Xfile, fix exit code check
win: test: close shada file before os.remove
win: test: delete sautest/
win: test: don't test symlink if not admin user
win: test: disable non-admin failing tests
vim-patch:8.0.0454: compiler warnings for "always true" comparison (#8431)
vim-patch:8.0.0503: endless loop in updating folds with 32 bit ints (#8433)
API: Accept empty lists as dictionaries
Add empty options dict to buf_attach
Rename some more, fixe borked renaming
Send changedtick as first event if buffer contents weren't requested
Unify updates_start and updates to lines_event
Use autogenerated declarations
Lint
Update test
Some renamings and doc changes
Try fixing that test on travis
Increase sendkeys timeout
Enable -Wconversion
The grand renaming
Doc
Fix memory leak
Fix tests on windows
Bump up buffer capacity to 2GB
Make LiveUpdate return lastline instead of numreplaced
Lint
Make separate functions to start/stop live updates
Adjust FUNC_API_SINCE for nvim_buf_live_updates
Add argument to not send a buffers content when updates are enabled
Update to latest master
Tests for buffer updates
API: Document buffer updates
API: Implement buffer updates
Merge pull request #6743 from bfredl/channel_info
api: list information about all channels/jobs.
Change to use RUNTIME target for DLL installation
Change to not use library prefix on MSVC
Change conditions to more generally
Remove unnecessary copy of header
doc: remove mentions of vimrc_example
Change to always use cmake to build libuv on Windows
Change to use cmake to build libuv
Change to enable build by Ninja on Windows
test/old: fix test filename
win/build: Fix install (#8420)
Merge #8419 'Fix PVS warnings'
Merge #8417 'vim-patch: 8.0.0489, 8.0.0491, 8.0.0495, 8.0.0500'
deps: update to msgpack 3.0.0
socket.c: Ignore PVS/V547: False positive
getchar.c: Fix PVS/V522: Dereference of null pointer mp_match
strings.c: Fix PVS/V781: value of 'l + 1' is checked after it was used
win/package: move gui shim to its runtime folder (#8418)
vim-patch:8.0.0500: quotestar test is still a bit flaky
vim-patch:8.0.0495: quotestar test uses timer instead of timeout
vim-patch:8.0.0491: quotestar test fails when features are missing
vim-patch:8.0.0489: clipboard and "* register is not tested
Merge #8411 from justinmk/vimpatches
version.c: update [ci skip] (#8118)
vim-patch:8.0.0559: setting ttytype to xxx does not always fail
vim-patch:8.0.0342: double free with EXITFREE and setting 'ttytype'
vim-patch:8.0.0304: assign test fails in the GUI
test/old: remove `abort` from test declaration
Merge #8377 'TextChangedP autocommand'
Merge #8377 'TextChangedP autocommand'
vim-patch:8.0.0497: arabic support is not fully tested (#8404)
win: set TERMINFO_DIRS at build-time (#8408)
terminal: tickle statusline on entering #8323
test: inccommand_spec: retry unreliable test (#8311)
Merge #8406 'stdpath(): handle NULL default values'
cleanup
main.c: remove useless call
do not pass NULL to os_getenv
Merge pull request #8381 from bfredl/chancrash
channel: avoid references to non-rooted vimL list with output
Merge #8331 'handle various errors'
mf_open(): never fails (except for OOM)
coverity/13702: open_spellbuf: handle failed ml_open()
coverity/13713: do_pending_operator: handle failed u_save_cursor()
coverity/13709: spell_add_word: handle failed fseek()
coverity/13700: ignore failed win_split()
coverity/13969: handle u_save() failure
Merge #5658 'Apply :lmap in macros'
Merge pull request #8383 from bfredl/timercrash
test: nodejs_spec: fix test after upstream API change
vim-patch:8.0.1494: no autocmd triggered in Insert mode with visible popup menu
timer: make sure to free callback after the last timer due callback
Merge #8375 'API: nvim_get_commands'
API: nvim_get_commands(): return Dictionary
API: nvim_get_commands(): builtin is irrelevant for buffer-local
API: nvim_get_commands(): more attributes
API: nvim_get_commands(): always return keys
API: nvim_get_commands()
Merge #8329 'API: Make nvim_set_option() update `:verbose set …`'
lint
Merge #8371 'API: more reliable/descriptive VimL errors'
man.vim: s:get_path(): trim newline in all cases
msgpack.vim: require python3 on Windows
UI: redraw statusline when entering cmdline (#8347)
man.vim: get() first item if -w returns multiple paths #8372
nvim_eval: fix memory leak
test: API: fix tests after improved error capture
API: nvim_eval(): return non-generic VimL errors
API: better way to capture abort-causing non-exception errors
API: return non-generic VimL errors
msgpack.vim: fix syntax errors, python2 errors
doc
Merge #8353 'API: nvim_call_dict_function'
API: nvim_call_dict_function: expect actual function, not name
API: nvim_call_dict_function: eliminate `internal` param
refactor: nvim_call_dict_function
API: nvim_call_dict_function #3032
test: nvim_call_function: verify "too many arguments" error
CI/travis: remove reference to non-exisiting script (#8366)
CI/travis: fix building 32bit on linux (#8365)
terminal: Leave 'relativenumber' alone (#8360)
Merge pull request #8333 from jamessan/ccache
Merge pull request #8358 from mhinz/screen
test: screen artifacts
screen: avoid artifacts
Merge pull request #8356 from bfredl/tabmsg
messages: redraw tabline if it was overdrawn by messages
api: Make nvim_set_option() update `:verbose set ...`
Merge #4486 'refactor: Remove maxmem, maxmemtot options'
Point README to fullhtml PVS report rather then error list
travis: Enable ccache
:digraphs : highlight with hl-SpecialKey #2690
Merge #8335 from blueyed/provider
health#provider: fix sys.path for Python
health#provider: improve error reporting
health#provider: fix logic with s:shellify
lint
doc: clarify `stdout_buffered` docs (#8299)
Merge #4985
test/unit/undo_spec.lua: fixup after rebase #4985
test/util: move general functions into global helpers
test/unit: some unit tests for undo.c #4985
Merge #8218 'Fix errors reported by PVS'
win: open child stdio handles in overlapped-mode (#8113)
ci/travis: fix restore from cache #8316
Merge #8304 "default to 'nofsync'"
API: nvim__stats()
test: fsync() codepaths
pvscheck: Disable V011 warning
spellfile: Fix clint error
syntax: Fix PVS/V560: condition was already checked
spellfile: Fix PVS/V547: allocator now never returns NULL
functests: Fix testlint errors
*: Fix clint errors
tui/input.c: add support for mouse release events in urxvt (#8309)
window: Fix PVS/V547: expression already checked in previous if()
window: Silence PVS/V547: height may be changed by curwin ptr
api/vim: Fix PVS/V547: node was already dereferenced, so can’t be NULL
undo: Silence PVS/V547: expression may be false on other system
ui_bridge: Silence PVS/V547: assuming stopped may be changed via ptr
eval/typval: Silence PVS/V576: format is correct
ugrid: Silence PVS/V625: UGRID_FOREACH_CELL may be used for one row
tui: Silence PVS/V560: condition is set to true in prev-previous if()
syntax: Fix PVS/V560: condition was checked in previous if(), breaking
syntax: Fix PVS/V547: condition was checked
syntax: Silence PVS/V560: condition is always true at that point
syntax: Silence PVS/V522: retval is always non-NULL on this round
syntax: Fix PVS/V560: condition checked in previous if()
strings: Fix PVS/V547: condition already checked by surrounding if
strings: Fix PVS/V779: wrong assert() position
spellfile: Silence PVS/V547: expression may be true on other systems
spellfile: Fix PVS/V547: allocator never returns NULL now
spellfile: Fix PVS/V560: allocator never returns NULL now
spell: Fix PVS/V512: use of sprintf()
search: Fix PVS/V547: allocator never returns NULL now
search: Fix PVS/V560: condition checked in previous if with goto
search: Fix PVS/V547: condition already checked in surrounding if
search: Fix PVS/V547: checking variable right after assigning it
screen: Fix PVS/V560: col never reassigned in this part of code
screen: Fix PVS/V519: duplicate successive assignment
screen: Fix PVS/V560: condition was checked in surrounding if
globals: Do not use `false` for enc_dbcs
screen: Get rid of ScreenLines2 as it is no longer used
regexp_nfa: Silence PVS/V560: current code is more obvious
quickfix: Silence PVS/V560: memory is referenced and may be changed
quickfix: Fix PVS/V547: allocator never returns NULL now
quickfix: Fix PVS/V547,V560: no conversion with fixed &encoding
inccommand: pause :terminal redraws (#8307)
inccommand: do not execute trailing commands #8256
lint
defaults: disable 'fsync'
IO: let 'fsync' option control more cases
IO: shada should respect 'fsync' option
terminal: do not call redraw_buf_later() (#8306)
test: "Command-line option -s": avoid indeterminism (#8305)
test/util: throttle retry() (#8296)
doc: platform-specific config locations (#8297)
eval/typval: Remove struct dictitem_S which is not used anywhere
Merge pull request #8291 from bfredl/ui_resize
Merge #8293 from justinmk/test-nodejs
test/util: retry(): also decorate non-string error
test: nodejs_spec: allow more time for nodejs init
ui_events: correct wrong argument order
Merge #8276 'startup: Make -s - read from stdin'
event/process: Silence PVS/V547: assuming stream->num_bytes changes
pvscheck: Add --update switch
pvscheck: Remove outputs before running plog-converter
path: Silence PVS/V557: impossible to reach with NUL-terminated string
path: Fix PVS/V560: condition is essentially `A && A`
test: tui_spec.lua: relax test (#8289)
startup: ignore -X
terminal: resize to the max dimensions (#8249)
contrib: fix local.mk.example (#8286)
option: Silence PVS/V547: expression is true on 64-bit systems
option: Fix PVS/V547: var is always NULL at that point
option: Fix PVS/V560: EXPAND_BOOL_SETTINGS already caused early return
option: Fix PVS/V547: allocator never returns NULL now
option: Fix PVS/V517: duplicate check for titlelen
option: Silence PVS/V594: GLOBAL_WO macros is not really necessary
ops: Fix PVS/V560: pre may not be zero as that was already checked
Merge #8273 'job-control: avoid kill-timer race'
ops: Fix PVS/V614: use of uninitialized variable
ops: Fix PVS/V547: allocator never returns NULL
ops: Fix PVS/V547: did_change is almost always set
ops: Silence PVS/V614: regtype is always initialized
message: Fix PVS/V547: c is never equal to KS_ZERO
memline: Fix PVS/V547: allocator now never returns NULL
memline: Fix PVS/V560: allocator now never returns NULL
mbyte: Fix PVS/V557: do not do useless job
if_cscope: Fix PVS/V560: condition would result in earlier return
os/fs: Fix PVS/V560: condition was already checked in while()
fileio: Silence PVS/V614: buffer is initialized if conv_restlen > 0
fileio: Fix PVS/V547: split is not used
fileio: Fix PVS/V560: end was already checked
file_search: Silence PVS/V614: used buffer is never uninitialized
kvec: Silence PVS/V512: it is not needed to fill the whole array
viml/parser/expressions: Fix PVS/V547: condition checked earlier
viml/parser/expressions: Fix PVS/V547: condition checked earlier
ex_cmds: Fix PVS/V547: expression was already checked in outer if()
eval: Silence PVS/V547: PVS cannot stand `!known_val` expressions
*: Add some PVS comments
ex_getln: Fix PVS/V547: function is stated to never return NULL
ex_getln: Fix PVS/V560: there are no longer NULL returns for OOM
ex_docmd: Fix PVS/V547: condition was already checked in surr. if()
ex_docmd: Fix PVS/V547: due to short-circuiting name_len is never > 4
ex_cmds: Fix PVS/V557: possible array overrun in :ascii
job-control: children_kill_cb(): do not check elapsed time
job-control: one-shot timer instead of repeating
job-control: mitigate process-kill race
loop: remove `children_stop_requests`
Merge #8120 'test: win: prefer cmd.exe'
ex_cmds: Simplify do_ascii
ex_cmds: Remove #ifdef USE_GUI
eval: Fix PVS/V547: skipping is now done using eval0
eval: Silence PVS/V547: E882 may be triggered
events: VimSuspend, VimResume #8280
Merge #6272 'stdpath()'
test: win: use "start" to test backgrounded job (#8171)
Merge #8160 'win: oldtests: prefer cmd.exe'
win: Fix reading content from stdin (#8267)
win: Fix reading from stdin
Merge branch 'master' into s-dash-stdin
version: rename "0.2.3" to "0.3.0" (#8268)
ci/win: redirect stderr to fix mingw build
Revert "ci/win: don't use lastexitcode hack on mingw build"
oldtests: win: skip test49
tui: abort on unexpected enum value (#8266)
API/nvim_command_output: handle :echon capture (#8265)
Merge #7813 'channels: delay free'
channels: cleanup channel freeing code
channels: delay free so that libuv can cleanup handles
ui_set_option: pass String.data, not String
build/freebsd: set CMAKE_MAKE_PROGRAM iff "Unix Makefiles" (#8260)
tui: fix uninitialize variable usage (#8261)
oldtests: win: keep set dir=/
ci/win: don't use lastexitcode hack on mingw build
win: getftype(symlink) returns 'link'
oldtests: check +iconv for makeencoding
oldtests: win: help sp?it opens split()
oldtests: win: shellslash for cdpath,tags,:find
oldtests: win: cmd.exe echo has trailing CR
oldtests: use expand() to fix pathsep
ci/win: prefer msys find.exe
oldtests: newstyle: win: reset shell to cmd.exe
test/util: expect_err() (#8257)
Merge #8247 'server: introduce --listen'
lint
server: init v:servername if $NVIM_LISTEN_ADDRESS is invalid
server: introduce --listen, deprecate $NVIM_LISTEN_ADDRESS
cleanup: remove main_start_gui()
serverstop(): return FALSE for invalid address
test/util: matches()
remove scripts/run-api-tests.exp
eval: Silence PVS/V614: use of potentially uninitialized pointer
eval: Fix PVS/V560: unneded check for name_len
eval: Fix PVS/V547: ufunc_T is actually an incomplete type
edit: Fix PVS/V560: remove always true/false checks
diff: Fix PVS/V547: remove no longer needed OOM handler
Merge pull request #8250 from bfredl/shellscreen
os/shell: use msg functions instead of screen when throttling
os/shell: remove dead calls to screen functions
eval/decode: Silence PVS/V547: code written for 32-bit integers
charset: Fix PVS/V560: remove condition which was already checked
charset: Silence PVS/V785: remove switch()
event/loop: Silence PVS/V547: condition is false in case of no timeout
buffer: Fix PVS/V560: condition was checked three lines above
buffer: Fix PVS/V547: base is never set to octal
charset: Fix transchar() with multibyte characters
buffer: PVS/V557: Refactor maketitle()
os/env: Refactor home_replace() to the new style and to return length
charset,*: Refactor transstr()
memory: Fix documentation of some string copying functions
buffer: Beautify code a bit
test/API: validate channel arg (#8245)
build/clang 6.0.0: fix type conversion warnings (#8235)
build/OpenBSD: force gmake (#8222)
win/install: xxd.exe (#8241)
Merge pull request #8236 from bfredl/tuishape
TUI: EMSG2 must not be used from TUI thread
Merge #8228 from mhinz/fix-fgets
Make vim_fgets() return the same values as in Vim
Merge #8226 from justinmk/insert-mode-meta
insert-mode: interpret unmapped META as ESC
Merge #7524 from justinmk/vim-8.0.1281
ins_compl_add_tv: fix memory leaks via get_spec_reg (#8224)
vim-patch:8.0.1284: loading file type detection slows down startup
vim-patch:8.0.0564: cannot detect Bazel BUILD files on some systems
vim-patch:8.0.1285
vim-patch:8.0.1282
vim-patch:8.0.1281
screen: winhl=Normal:Background should not override syntax (#8093)
build/CMake: use CMake-2.8.7-compatible list-check (#8220)
Merge #5908 'shada: Also save numbered marks'
Merge #8208 'Clean up dependency patches'
build/OpenBSD: need -lpthread -lc++abi for LuaJIT (#8215)
functests: Use proper path in `eq()`
test/options: Fix stdpath() failures on Windows
build/windows: Patch Luv with a patch file instead of CMake
build/windows: Move libtermkey patches into this repository
eval/typval_encode: Silence PVS/V501,V547,V779
api/buffer: Fix PVS/V547: use correct border for lnum
quickfix: Fix PVS/V560: remove duplicate condition
pvscheck: Also provide source tree root to plog-converter
pvscheck: Also produce fullhtml reports
pvscheck: Make realdir work with nonexistent directories
shada: Fix conversion warnings
shada: Fix some memory leaks and completely ignore numbered mark names
shada: Add functions to format ShaDa entries for debugging purposes
shada: When storing numeric marks reset the numbers
functests: Add test for merging with file with only numeric mark
msg: do not scroll entire screen (#8088)
build/CMake: LANGUAGES config option #8203
ci/AppVeyor: cover MinGW and MSVC in PRs (#8206)
.gitignore
timer_pause: stop the timer resource (#8199)
eval: Add stdpath() method (#5297)
lint
Merge pull request #6377 from yagebu/option-fixes
build/NetBSD: use kinfo_proc2; undef uint64_t (#8197)
ci/AppVeyor: build MinGW only on master branch (#8193)
Merge branch 'master' into yagebu/option-fixes
Merge #8183 'build/msvc: Fix functional tests'
TUI: implement "standout" attribute #8081
Revert "shada: In place of ignoring cursor position with lnum 0 save with 1"
test/helpers: Support booleans
shada: In place of ignoring cursor position with lnum 0 save with 1
shada: Also filter out invalid cursor position when writing '0' mark
macros: Rename LAST_ARRAY_ENTRY to ARRAY_LAST_ENTRY
shada: Make ignore_buf also inline
functests: Fix existing functional tests
ci/AppVeyor: enable MSVC_32 build
ci/AppVeyor: Remove gperf from downloaded MSYS2 packages
ci/AppVeyor: Remove Git Unix utilities from the PATH
build/msvc: Fix check for cksum on Windows
build/msvc: Add workaround for false positive exit code from MSBuild
build/msvc: Fix libvterm patch
test: win: enable jobpid() tests
fixup: ping.exe works with cmd.exe pipe
Revert "test/win: use cmd.exe for test"
test: win: use find.exe /v "" as alternative cat -
test: win: try stderr callback and slow output
test: win: use powershell for Start-Sleep only
shada: Save numbered marks
Merge #7881 from ZyX-I/fix-7876
vim-patch:8.0.0417: test for the clipboard fails sometimes (#8174)
runtime/dircolors.vim: support termguicolors (#8175)
*: Replace did_throw checks with current_exception checks
*: Make sure that !did_throw implies !current_exception
vim-patch.sh: remove blank line before URL
Merge #8167, #7943
test: lua test for vim-patch:8.0.0184
vim-patches: test_system.vim
vim-patch:8.0.0184: fix ex-mode exit code #7943
win: defaults: 'shellcmdflag', 'shellxquote' #7343
build/msvc: Add libintl to bundled dependencies (#8163)
Merge #4419 'implement <Cmd> key'
Merge #8168 'refactor: rename some functions'
refactor/rename: path_to_absolute()
refactor/rename: path_try_shorten_fname()
refactor/rename: path_is_absolute()
Merge #8165 'provider/RPC: fix double-free'
refactor: eliminate `autocmd_fname_full` global
provider/RPC: apply_autocmds_group(): fix double-free
getchar: implement <Cmd> key to invoke command in any mode
vim-patch:8.0.0387: compiler warnings (#8162)
vim-patch:8.0.0357: crash when setting 'guicursor' to weird value (#8161)
Merge #8147 'Run old tests in :terminal'
oldtests: Make test output least verbose
build/cmake: avoid CMP0054 (#8149)
Merge #8128 'build/windows: Simplify build requirements'
build: avoid CMP0046 "dependency target does not exist" #8128
oldtests: Run old tests in :terminal
log/channels: Formatting. Also log loopback channel. #8146
build: Fix CMake target dependency problem
build/windows: Add CMakeLists.txt for gperf
build/windows: Add CMake script to generate headers for Libvterm
build/windows: Add CMakeLists.txt for Libuv on Windows
build/windows: Ignore whitespace when applying patches
Merge #8107 'jobs: separate process-group'
screen.c: define column width by function (#5802)
test/win: use cmd.exe for test
test: jobstop() kills entire process tree
Merge #8142 'build/msvc: fix some warnings'
build/MSVC: fix "C4005: RGB: macro redefinition"
build/MSVC: fix "C4003: not enough actual parameters for macro"
build/MSVC: fix "C4028: formal parameter different from declaration"
ci/travis: report cache size
ci/travis: also cache $DEPS_DOWNLOAD_DIR
API: nvim_get_proc()
ci/travis: Don't destroy cache during prepare
vim-patch:8.0.0344: unlet command leaks memory (#8141)
win: nvim_get_proc_children()
nvim_get_proc_children: fallback to shell
API: nvim_get_proc_children()
win: os_proc_tree_kill()
jobs: child proc must have a separate process-group
test: use luv.now() instead of os.time()
DirChanged: support <buffer> (#8140)
doc: nodejs
node/provider: support g:node_host_prog #8135
clint
Update documentation
'keymap' now uses :lmap instead of :lnoremap
Split :lnoremap test into done and pending
:lnoremap mappings should not be remapped when replaying a recording
Ensure :lmap mappings take preference
Record :lmap transformed keys in gotchars()
Account for :lmap in macros
Add some basic tests for macros
vim-patch:8.0.0316: :help z? does not work (#8134)
Merge pull request #8127 from jamessan/update-pvs-headers
ci/AppVeyor: use PowerShell (#8124)
pvscheck: Ignore exit code of pvs-studio-analyzer
Add missing PVS headers to new files
ci/travis: Don't destroy cache during prepare
Merge #8117 'build/CI/MSVC/LuaRocks'
vim-patch:8.0.0262,8.0.0263 (#8123)
ci/travis: rename $BUILD_NVIM_DEPS to $CACHE_ENABLE
build: respect $DEPS_BUILD_DIR
ci/macOS: skip python2 on travis macOS
ci/travis: use ninja instead of make
ci/AppVeyor: disable MSVC_32 build
build/luarocks: avoid parallelism for luarocks build
build/luarocks: apply "Fix siteconfig" patch
test: next_msg(): default `timeout` to 10s
test: rename next_message() to next_msg()
ci/AppVeyor: fix `set` whitespace quoting
test: handle non-deterministic message cadence
Merge pull request #8122 from jamessan/appimagev2
genappimage: Include update information for releases/nightlies
genappimage: Create a type 2 AppImage
genappimage: Use AppImage/AppImages repo to avoid redirects
vim-patch.sh: more colorful #8115
Merge #8084 'build/win: support MSVC'
version.c: update [ci skip] (#7999)
vim-patch:8.0.0513: fix getting name of cleared highlight group (#8103)
build/msvc: Fix AppVeyor build script for 'MINGW_64-gcov' configuration
build/msvc: Add Git as a requirement for Windows patches
build/msvc: Make shell-test fix only apply to MSCV
build/msvc: Allow MSVC AppVeyor builds to fail
build/msvc: Change MSBuild verbosity to normal
build/msvc: Remove confusing comment
build/msvc: Add Appveyor CI for MSVC
build/msvc: Workaround for compiler optimization bug
build/msvc: Fix errors caused by compiler intrinsics
build/msvc: Make shell-test work
build/msvc: Add missing WIN32 macro
build/msvc: Remove pkgconfig dependency on Windows
health/provider: python: warning with correct host prog (#8049)
vim-patch:8.0.0220: highlight completion misses some values #8013
vim-patch:8.0.0234,8.0.0236,8.0.0225 (#8052)
Merge pull request #8077 from bfredl/msgchar
message: don't output unprintable chars to screen
scripts: fix shebang of shadacat.py [ci skip]
ci: the homebrew formula for Python 3 was renamed (#8094)
vim-patch:8.0.1561: crash with rust syntax highligting (#8095)
api: nvim_list_uis #8004
Merge #8072 from mhinz/vim-8.0.1439
Merge branch 'master' into msvc-compat
build/msvc: Make libtermkey depend on Unibilium
build/msvc: Add patch for LuaRocks
build/msvc: Add patch for libvterm
build/msvc: Add CMakeLists.txt and header for Unibilium
third-party: build all deps with debugging symbols (#8042)
build/msvc: Use patched libvterm for MSVC
build/msvc: Add MSVC compiler flag when building LuaRocks
build/msvc: Remove unnecessary copy command for msgpack DLL
build/msvc: Fix linking for luajit and luv
build/msvc: Allow building Unibilium on Windows
build/msvc: Remove unnecessary header include
build/msvc: Fix standard IO file number definitions
build/msvc: Fix missing restrict keyword
build/msvc: Move include into unix_defs.h
build/msvc: Fix name of import library
build/msvc: Add mode_t typedef to win_defs.h
build/msvc: Fix preprocessor parsing
cscope: ignore EINTR while reading the prompt (#8079)
Merge pull request #8069 from jamessan/use-luacheck-release
vim-patch:8.0.1442: using pointer before it is set
vim-patch:8.0.1439: if cscope fails a search Vim may hang
third-party: Explicitly version pin all luarocks modules
third-party: Install all luarocks by name instead of URL
shada: fix typo (#8066)
third-party: Use luacheck releases (0.21.2 for now) instead of master
unittest: Ignore all _Float-prefixed types (#8067)
Merge pull request #8055 from bfredl/strictwritedelay
screen.c: make negative 'writedelay' show all redraws
Merge #8035 from justinmk/teto-fillchars-pr
'fillchars': fix defaults logic; handle ambiwidth=double #7986
defaults: 'fillchars'
Merge pull request #8050 from bfredl/stopbridge
ui_bridge: make sure TUI receives no more UI events after "stop" event
Merge #8044 'build: improve Lua module checks'
health.vim: minor cleanup (#8046)
health/provider: check Python also with loaded_var (#8047)
checkhealth: python: do not report pythonx_errs twice (#8045)
runtime/autoload/health/*.vim: fix vint warning (#8048)
cmake/LuaHelpers.cmake: check_lua_module: use 'lua -l'
cmake/LuaHelpers.cmake: check_lua_module: display errors
vim-patch:8.0.0225: put in Visual block mode terminates early (#8040)
Merge pull request #8039 from bfredl/deadscreen
screen: win_del_lines/win_ins_lines cleanup
screen: remove dead code emulating terminals without scroll regions
vim-patch:8.0.0222: blockwise put on multi-byte char (#8030)
Merge pull request #8031 from bfredl/gotintstatus
jobwait: return -2 on interrupt also with timeout
Merge pull request #8019 from jamessan/invalid-provider-stderr
Merge #7412 'win: enable more tests'
vim-patch:8.0.0214 (#8010)
build/gcc: disable -Warray-bounds entirely #7923
build: remove contents of build/runtime/doc/* surgically (#8024)
Resolve issues mentioned in PR review
test: win: emulate yes with for loop
test: win: enable ui/wildmode_spec.lua
test: win: enable termclose_spec.lua
test: enable ex_cmds/cd_spec.lua on Windows
test: enable legacy/fixeol_spec in Windows
test: enable ex_cmds/write_spec.lua in Windows
win: enable legacy test 051
win: enable legacy test 059
win: enable legacy test 107
win: enable legacy test 093
win: enable legacy/arglist_spec.lua
win: enable legacy test 30
win: enable legacy/getcwd_spec.lua
win: enable legacy/wordcount_spec.lua
win: enable legacy/packadd_spec.lua
win: enable legacy test 011
win: enable legacy/delete_spec.lua
win: enable legacy test 097
win: enable legacy test 025
win: enable job tests that use jobstart only
vim-patch:8.0.1493: completion items cannot be annotated (#8003)
runtime/doc: modeline is mandatory in help docs
vim-patch:8.0.0212: buffer for key name may be too small (#8009)
Merge #8018 from justinmk/test-eq_any
test/util: remove eq_any()
test/util: expect_msg_seq()
Merge pull request #8011 from nimitbhardwaj/vim-8.0.0649
third-party: upgrade libunibilium from 1.2.1 to 2.0.0 (#8016)
Add provider#Poll() to handle starting and polling the provider
provider: Safely access job.stderr in #Require
provider: ruby: Use stderr_buffered to collect stderr
vim-patch-8.0.0649 and vim-patch-8.0.0650: autocmd open help 2 times
vim-patch:8.0.0323: one second pause when running cmdline test (#8015)
Merge pull request #8008 from bfredl/arrayfree
ex_getln: clear cmdline_block after it's freed
cmake/GetCompileFlags: remove duplicate include dirs
Merge pull request #7759 from bfredl/ext_options
ui: refactor ui options
test/python: less-noisy Python skip-message
Merge #8001 from justinmk/vimpatches
lint
Merge #7966 'vim-patch:8.0.0470,8.0.0471'
vim-patch:8.0.1271: still too many old style tests
vim-patch:8.0.0490: vertical split makes 'winfixwidth' window smaller (#7990)
test/old: skip encoding=latin1 test
vim-patch:8.0.1302: still too many old style tests
vim-patch:8.0.1205: it is possible to unload a changed buffer
vim-patch:8.0.0858: can exit while a terminal is still running a job
vim-patch:8.0.1226: edit and popup tests failing
vim-patch:8.0.1333: some tests are run twice
vim-patch:8.0.0311: linebreak tests are old style
vim-patch:26a280c47a1c
vim-patch:8.0.0699: checksum tests are not actually run
vim-patch:8.0.0684: old style tests are not nice
vim-patch:8.0.0446: the ";" command does not work after some characters
test/old: restore test_alot_utf8.vim
Merge #7960 'vim patches'
lint
vim-patch:8.0.0479: remote_peek() is not tested
vim-patch:8.0.0295: test_viml hangs
vim-patch:8.0.0293: some tests have a one or three second wait
vim-patch:8.0.1370: channel test for callback is flaky
vim-patch:8.0.1365: when one channel test fails others fail as well
vim-patch:8.0.1329: when a flaky test fails it also often fails the second time
vim-patch:8.0.0480: the remote_peek() test fails on MS-Windows
vim-patch:7.4.1477
vim-patch:8.0.1262: terminal redir test is flaky
vim-patch:8.0.1219: terminal test is flaky
vim-patch:8.0.0975: using freed memory when setting 'backspace'
vim-patch:8.0.1188: autocmd test fails on MS-Windows
test/old: skip test for unsupported 'cpoptions' flag
test/arglist_spec: update to Vim 8.0.0721 behavior
vim-patch:8.0.1200: tests switch the bell off twice
test/old: TODO: skip Test_BufLeave_Wipe()
test/old: TODO: skip Test_virtual_replace()
vim-patch:8.0.1223: crash when using autocomplete and tab pages
vim-patch:8.0.1475: invalid memory access in read_redo()
test: port Test_edit_08() to Lua test
vim-patch:8.0.1224: still interference between test functions
vim-patch:8.0.1222: test functions interfere with each other
vim-patch:8.0.1007: no test for filetype detection for scripts
vim-patch:8.0.0906: don't recognize Couchbase files
vim-patch:8.0.0895: filetype test fails on MS-Windows
test/oldtest: account for Nvim man.vim handling
vim-patch:8.0.0894: there is no test for runtime filetype detection
vim-patch:8.0.0613: the conf filetype is used before ftdetect from packages
test/oldtest: restore test_autochdir.vim
vim-patch:8.0.1210: CTRL-G and CTRL-T are ignored with typeahead
vim-patch:8.0.1221: still too many old style tests
vim-patch:8.0.0847: :argadd without argument can't handle space in file name
vim-patch:8.0.0721: :argedit can only have one argument
vim-patch:8.0.0439: ":%argdel" gives an error for an empty arglist
test/oldtest: restore test_arglist.vim
test/oldtest: runtest.vim: align with upstream
vim-patch:8.0.1204: a QuitPre autocommand may get the wrong file name
vim-patch:8.0.0700: segfault with QuitPre autocommand closes the window
vim-patch:8.0.1403: using freed buffer in grep command
vim-patch:8.0.1402: crash with nasty autocommand
vim-patch:8.0.0974: resetting a string option does not trigger OptionSet
vim-patch:8.0.0703: illegal memory access with empty :doau command
vim-patch:8.0.0676: crash when closing quickfix window in autocmd
vim-patch:8.0.0736: OptionSet not triggered when entering diff mode
vim-patch:8.0.1186: still quite a few old style tests
vim-patch:8.0.0600: test_recover fails on some systems
vim-patch:8.0.0338: :recover test fails on MS-Windows
vim-patch:8.0.0337: invalid memory access in :recover command
vim-patch:8.0.0472: when a test fails another test may also fail
vim-patch:8.0.0861: still many old style tests
vim-patch:8.0.0622: selecting quoted text fails with 'selection' "exclusive"
vim-patch:8.0.1158: still old style tests
vim-patch:8.0.0692: CTRL-G with 'incsearch' and ? goes in the wrong direction
vim-patch:8.0.0689: ~ character not escaped when extending search pattern
vim-patch:8.0.0440: not enough test coverage in Insert mode
vim-patch.sh: delete *.orig files
vim-patch.sh: remove --posix from patch invocation
Merge #7939 "fix crash: 'spell' and long lines"
Merge #7939 "fix crash: 'spell' and long lines"
Merge pull request #7982 from bfredl/hlrefactor
version.c: update [ci skip] (#7953)
ui/tui: highlighting refactor
Merge pull request #7993 from blueyed/vim-8.0.1483
vim-patch:8.0.1483: searchpair() might return an invalid value on timeout
Merge pull request #7979 from bfredl/shellbell
win: enable backtick_expansion and shell output tests
shell: handle split-up UTF-8 sequences
tests: integrate ex_cmds/bang_filter_spec into ui/output_spec
shell: support bell
Merge #7984 'defaults: sidescroll=1'
test/oldtest: move Nvim setup to testdir/setup.vim
defaults: sidescroll=1
macOS: Use `pbpaste` to detect a working clipboard (#7983)
screen.c:  resolve neovim issue #7937
Merge pull request #7977 from jamessan/remove-coveralls
codecov: Report coverage even if some CI failed
Merge #6713 'tests for :! output'
lint, minor cleanup
UI: restore 'writedelay' feature.
test: :! print binary data, control chars
codecov: Submit test suite specific coverage
ci: Remove coveralls coverage reporting
exit: annotate FUNC_ATTR_NORETURN functions #7954 (#7954)
Merge #7971 ':terminal Enter/Leave should not increment jumplist'
:terminal Enter/Leave should not increment jumplist
Merge pull request #7844 from bfredl/shellout
tests: cleanup bufhl test
shell: update `execute('!cmd')` test to new behavior
shell: add test for binary and multibyte output
use split instead of smile for neovim
shell: use msg_outtrans_len_attr for :!cmd
Merge pull request #7957 from jamessan/lua-functionaltest
vim-patch:8.0.0471: exit callback test sometimes fails
vim-patch:8.0.0470: not enough testing for help commands
lint
tests: Make format_string('%q', ...) output more stable
functests: Improve error reporting in _check_parsing function
test: man_spec: Fix use of nested [[ quoting
travis: Don't run unit tests for functionaltest-lua build
cmake: Set TEST_LIBNVIM_PATH to empty string when not unit testing
third-party: Install luabitop if using Lua
third-party: lua: Set LUA_ROOT to ${DEPS_INSTALL_DIR}
third-party: luarocks: Use Lua if LuaJIT is disabled
travis: Disable LuaJIT for functionaltest-lua build
build: BuildLuarocks.cmake: fix luacheck rockspec (#7961)
Merge #7463 'incsearch + hlsearch highlight all'
provider: make has('ruby') only return 1 if gem is installed (#7944)
test: robust cleanup, unique filenames #7950 (#7950)
os_system(): do not set up input stream for empty string #7951
version.c: update [ci skip] (#7886)
vim-patch:8.0.0672: synconcealed() changes too often #7887
tui: libtermkey: force CSI driver for mouse input #7948
clipboard: macOS: fallback to tmux if pbcopy is broken #7940
vim-patch:8.0.0358,8.0.0359 (#7832)
win: has("wsl") on Windows Subsystem for Linux #7330
vim-patch:8.0.0448: some macros are lower case (#7936)
vim-patch:8.0.0443: terminal width is set to 80 in test3 (#7933)
Merge #5822 'mouse.c: Fix mouse click on multibyte + concealed'
dist: snap packaging #7918
Merge #7842 'win: fnamemodify()'
test: use helpers.pathroot() to avoid a syscall
Updated tests
Safer loop for skipping consecutive concealed chars
Use one variable for tracking adjustment instead of two
Adjust cursor according to character display widths
Don't move cursor to the left if on the first column of wrapped line
Use utfc_ptr2len instead of utf_ptr2len
mouse.c: Fix mouse click on lines with multibyte text
vim-patch:8.0.0528: highlight wrong text when 'wim' includes "longest" (#7927)
vim-patch:8.0.0427: 'makeencoding' missing from the options window (#7907)
Merge #7924 'test/old: various fixes'
test/old: fix Test_set_completion()
test: osx: try resolve($TMPDIR)
test: fix failed tests with $TMPDIR in QuickBuild
Revert "test: fix failed test cases with tmpdir = $TMPDIR"
test: fix failed test cases with tmpdir = $TMPDIR
test: try $TMPDIR for temporary directory
test: fnamemodify with :8 filename modifier
win: enable legacy/fnamemodify_spec.lua
fixup: get network drive only, not entire path
fixup: lint errors
test: win: get current network drive via io.popen
win: explicitly specify pathsep
fixup: compile-time errors
win: detect / and \ as root path separator
test: win: add tests for shellslash
test: fnamemodify()
test/win: fix some environment assumptions #7912
test/old: $TMPDIR must be absolute
ex_diffpatch: don't need redraw_later(CLEAR), Nvim uses pipes
Merge #7903 'test/old: minor fixes for local invocation'
tui: fix use-after-free after UI `stop` event #7922
Merge #7919 from hardenedapple/langremap-after-map
Make 'langnoremap' apply directly after a map
Add some tests for 'langmap'
vim-patch:8.0.1393: too much highlighting with 'hlsearch' and 'incsearch' set
vim-patch:8.0.1304: CTRL-G/CTRL-T don't work with incsearch and empty pattern
vim-patch:8.0.1396: memory leak when CTRL-G in search command line fails
Add tests
Update included_patches
vim-patch:8.0.1250
vim-patch:8.0.1238
build/macOS: remove -iframework line #7891
Merge pull request #6558 from jamessan/tv_as_string-fix
vim-patch:8.0.0431 (#7908)
build: fix luacheck detection (avoids re-download on win32) (#7905)
eval: save_tv_as_string: Correctly handle an empty string
test/old: always set $TMPDIR
test/old: Fix_truncated_tmpfile(): more flexible
test: system(): fix test
Merge pull request #7894 from jamessan/cmake-cmp0026-fix
test/inccommand_spec: test the test (#7897)
Merge #7890 'vim-patch: various'
cmake: Use generator expression to determine libnvim-test path
Merge #7891 'build: fix creating generated files on macOS'
Merge #7893 'man.vim: use correct offset in presence of modifier commands'
man.vim: use correct offset in presence of modifier commands
build: fix creating generated files on macOS
Merge #7888 'defaults: enable cscopeverbose'
vim-patch: NA
vim-patch:8.0.0667: more tests for :endfunc
vim-patch:8.0.0662: stray FIXME for fixed problem
vim-patch:8.0.0659: no test for conceal mode
vim-patch:8.0.0656: cannot use ! after some user commands
vim-patch:8.0.0655: not easy to make sure a function does not exist
vim-patch:8.0.0654: no warning for text after :endfunction
Merge #7885 'vim-patch: diff-related patches'
defaults: enable 'cscopeverbose', and deprecate it
doc: if_cscop: cleanup
vim-patch:8.0.0444: diffpatch fails when the file name has a quote
vim-patch:8.0.0442: patch shell command not well escaped
vim-patch:8.0.0433: beeps when running tests
vim-patch:8.0.0599: diff mode is insufficiently tested
vim-patch:8.0.0301 #7685
version.c: update [ci skip] (#7828)
ui: forward 'linespace' option #7883
Merge #7880 'lua/executor: Remove lightuserdata'
vim-patch:8.0.0426: insufficient testing for statusline (#7882)
lua/executor: Remove all places where lightuserdata is used
Merge #7863 'mingw64: fix gcc warnings'
Merge #7878 from justinmk/keymap-leak
free_buf_options(): free buf_T.b_kmap_ga
busted: explicit LUA_PATH to test scripts (#7864)
Merge #7867 'Add completion for :checkhealth'
vim-patch:8.0.0423: changing 'cinoptions' does not always work
Fix lint error in option.c
Fix for lint
Fix warning: multi-line comment [-Wcomment] use `:341,355s/: \zs.*/\=string(submatch(0))`
Fix warning, read/write have unsigned int count on windows.
man.vim: infer $MANPAGER invocation in more cases
Merge #7424 'vim-patch: 8.0.0198, 8.0.0200, 8.0.0201, 8.0.0202, 8.0.0204'
tests: :checkhealth completion
Add completion for :checkhealth
Fix warning about NULL compare
Fix bug, use &loop->uv replace loop.
Fix warning about math functions, include isnan, isinf, fpclassify.
Fix warning about variable length array.
Fix warning about unused value.
Fix warning unused static function
Fix warning when assing size_t type value to uv_buf_t.len, convert type to ULONG on Windows.
Fix warning when redefine RGB on Windows
Fix warning about conversion on mingw64
os/input.c: parse keycodes in non-string context #7411
runtime: UpdateRemotePlugins: allow bar (#7865)
Merge #7862 'fix resize-related segfaults'
ugrid.c: destroy_cells(): avoid double-free
tui: final_column_wrap(): fix row calculation
Merge #7860 'fix get_buffer_lines'
get_buffer_lines: Return a string, when requested, on invalid input
Merge #7858 'vim-patch: spell-related patches'
lint
vim-patch:8.0.1419: cursor column is not updated after ]s
vim-patch:8.0.1225: no check for spell region being zero
test/old: skip enc=latin1 tests
vim-patch:8.0.0792: spell test leaves files behind
vim-patch:8.0.0658: spell test is old style
vim-patch:8.0.0601: no test coverage for :spellrepall
runtime: include en.utf-8.spl
vim-patch:8.0.0374: invalid memory access when using :sc in Ex mode (#7849)
vim-patch:8.0.0151,3,4 #7389
Merge #7806 from ZyX-I/list-stat
Merge #7850 'vim patches'
Merge #7839 'coverity fixes'
Merge #7855 from ckelsel/vim-8.0.0398
tutor: don't resize (#7854)
Fix an off-by-one error in the documentation of nvim_buf_clear_highlight (#7853)
man.lua: avoid float conversion on lua 5.3 (#7851)
vim-patch:8.0.0421: diff mode wrong when adding line at end of buffer
vim-patch:8.0.0402: :map completion does not have <special>
vim-patch:8.0.0398: illegal memory access with "t"
vim-patch:8.0.0406: arabic shaping code is verbose
vim-patch:8.0.0391: arabic support is verbose and not well tested
vim-patch:8.0.0389: test for arabic does not check what is displayed
vim-patch:8.0.0385: no tests for arabic
vim-patch:8.0.0381: diff mode is not sufficiently tested
vim-patch:8.0.0380: with 'linebreak' double wide char wraps badly
channel: Make empty output be represented by `['']` again
eval/typval: Log list actions
os/fileio: Fix some flag names in file_* functions documentation
*: Provide list length when allocating lists
vim-patch:8.0.0582: illegal memory access with z= command
vim-patch:8.0.0364 (#7837)
coverity/161216: get_user_input: RETURN_LOCAL
coverity/169163: decode_string: Null pointer deref
Merge #7821 'api: nvim_command_output'
api: nvim_command_output: direct impl
api: change nvim_command_output behavior
ci/travis: require "sudo" for ASAN_UBSAN build
lint
vim-patch:8.0.0204: compiler warns for uninitialized variable
vim-patch:8.0.0202: no test for invalid syntax group name
vim-patch:8.0.0201: completion of highlight groups includes cleared names
vim-patch:8.0.0200: some syntax arguments are not tested
vim-patch:8.0.0198
cmake: install *.lua files
Merge #7623 'man.vim: highlight bold, underlined text'
Merge #7826 from ckelsel/vim-8.0.0351
vim-patch:8.0.0352: not easy to see when a typval needs to be cleared
vim-patch:8.0.0351: no test for concatenating an empty string
ci/travis: install neovim npm module on osx (#7825)
Merge #7820 'ci/travis/macOS: skip ruby gem install'
ci/travis: macOS: skip ruby-neovim install
ci/travis: macOS: switch ruby version
test: set_shell_powershell(): update flags (#7819)
Merge #7753 'win: enable more functional tests'
test: win: yes is unavailable on Windows
win: test: check non-shell system()
test: use unix fileformat to test NULs on systemlist
win: enable more functional tests
win: enable tests in ex_terminal_spec
version.c: update [ci skip] (#7780)
third-party: revert to jemalloc 4.5.0
tests: stderr output contains `cp` noise
defaults: do :filetype stuff unless explicitly "off"
Merge #7805 'eval.c: fix some scan-build warnings'
vim-patch:8.0.0955: Test_existent_file() fails on some file systems
Merge #7801 'tutor: adjust for 80 columns'
Merge pull request #7804 from jamessan/vim-8.0.0160
test: enable K_spec tests in Windows
Add null check when adding variable to dict.
Add null pointer assertions for do_unlet_var.
Refactor profiling check in call_user_func.
Add assertions for watchers
Add another const to tv_copy
Add assertion in set_var_lval for null pointer.
lint
vim-patch:8.0.0160: EMSG() is sometimes used where it should be IEMSG()
Merge pull request #7803 from jamessan/remove-ci-special-cases
ci: asan_check: No-op unless performing ASAN build
travis: Reduce stages to flaky builds (gcov, tsan) and everything else
travis: Remove ubuntu-r-toolchain/test ppa
travis: Use Ubuntu's clang instead of llvm's repo
tui: support TERM=konsole-256color
tutor: install metadata files for tutor documents
Merge #7800 'vim patches'
vim-patch:8.0.0336: flags of :substitute not sufficiently tested
vim-patch: b:changedtick-related patches
vim-patch:8.0.0339: illegal memory access with vi' (#7794)
tutor: readjust tutor for 80 char wide terminals
Merge pull request #7795 from jamessan/vim-8.0.0591
doc: deprecate 'gdefault'
vim-patch:8.0.0657: cannot get and set quickfix list items
vim-patch:8.0.0641: cannot set a separate highlighting for the quickfix line
vim-patch:8.0.0634: cannot easily get to the last quickfix list
vim-patch:8.0.0591: changes to eval functionality not documented
Merge pull request #7762 from ZyX-I/remove-some-listitems
eval: Fix linter errors
eval,lua/converter: Fix problems spotted in review
tests: termclose_spec: fix flaky SIGTERM test #7787
Merge pull request #7791 from jamessan/vim-8.0.0608
scripts/vim-patch.sh: continue when patching with -P fails (#7790)
Merge #7782 'Fix TabClose autocommand via close_windows'
lint
vim-patch:8.0.0608: cannot manipulate other than the current quickfix list
use snprintf and has_event
Move applying of TabClosed to win_close_othertab
man.vim: always keep the alternate buffer (#7784)
health.vim: fix $VIRTUAL_ENV validation
third-party: update deps #7746
Fix TabClose autocommand via close_windows
Merge #7755
Address PR comments
Add functional tests for man highlighting
Add support for escape sequences
Switch to processing in Lua
Highlight backspaced characters
Merge #7771
health.vim: minor refactor (group related logic)
health.vim: remove :CheckHealth command
Merge #7735 'runtime fixes, doc updates'
version.c: update
vimpatch.lua: automate version.c
vim-patch.sh: extract list_vimpatch_tokens()
vim-patch.sh: introduce `-V`
doc
eval: Refactor some potentially dangerous list appends
eval: Remove magic numbers from find_some_match() type argument
*: Fix linter errors
eval: Replace some tv_list_item_remove() calls
unittests: Do gc after reporting error, not before
unittests: Remove start of trace, not end
eval: Rename tv_list_remove_items() to tv_list_drop_items()
eval/typval: Make tv_list_item_remove return pointer to the next item
eval/typval: Remove tv_list_item_free() as it is unused
eval/typval: Make tv_list_item_alloc static
*: Remove most calls to tv_list_item_alloc
Merge #7761 from ZyX-I/fix-7169
mark: Make sure that jumplist item will not have zero lnum
Merge #7708 from ZyX-I/hide-container-impl
Merge #7646 from bfredl/chan_buffered
provider: delete vimL stderr collector, now that it exists builtin
channel: check for existance before trying to set key
clint: Make linter report line where it found opening brace
regexp: Fix linter errors
Merge branch 'master' into hide-container-impl
vim-patch:8.0.0315: :help :[range] does not work
vim-patch:8.0.0314: getcmd*() functions are not tested
Merge pull request #7751 from jamessan/vim-8.0.0590
vim-patch:8.0.0606: cannot set the context for a specified quickfix list
vim-patch:8.0.0597: off-by-one error in size computation
vim-patch:8.0.0595: Coverity warning for not checking return value
vim-patch:8.0.0590: cannot add a context to locations
Merge pull request #7747 from jamessan/vim-8.0.0565
vim-patch:8.0.0580: cannot set the valid flag with setqflist()
vim-patch:8.0.0579: duplicate test case for quickfix
vim-patch:8.0.0574: get only one quickfix list after :caddbuf
vim-patch:8.0.0565: using freed memory in :caddbuf
Merge pull request #7744 from jamessan/vim-8.0.0517
Updating to latest UNIBILIUM (#7745)
vim-patch:8.0.0584: memory leak when executing quickfix tests
vim-patch:8.0.0536: quickfix window not updated when freeing quickfix stack
vim-patch:8.0.0517: there is no way to remove quickfix lists
Merge pull request #7740 from jamessan/vim-8.0.0404
vim-patch:8.0.0484: :lhelpgrep does not fail after a successful one
vim-patch:8.0.0404: not enough testing for quickfix
Merge pull request #7736 from jamessan/vim-8.0.0420
provider/nodejs: more robust version-check (#7738)
Merge #7739 'ASAN/LeakSanitizer: ignore loop_schedule_deferred()'
ASAN/LeakSanitizer: ignore loop_schedule_deferred()
Merge pull request #7732 from jamessan/patch-summary
health.vim: mention g:ruby_host_prog #7737
health.vim: Try `pyenv root` #7341
lint
vim-patch:8.0.0420: text garbled when the system encoding differs from 'encoding'
vim-patch.sh: Include upstream summary in commit message
Merge #7706 'ci: nodejs acceptance-test'
provider/nodejs: check version in Detect()
health.vim: nodejs: skip if nodejs is too old
test: remove inspect test; set NODE_PATH in nodejs_spec.lua
ci: nodejs client acceptance-test #7706
eval: Fix some issues found in review
functests: Fix linter error
Merge branch 'master' into hide-container-impl
eval: Fix linter error
tui: rework deferred-termcodes ... again
Merge pull request #7306 from DarkDeepBlue/vim-8.0.0074
eval/encode: Avoid unnecessary tv_list_idx_of_item() calls
lint
vim-patch:8.0.0074
window: Fix matchaddpos() and enhance error reporting
*: Fix some problems found during review
Merge #7720 'tui: rework deferred-termcodes implementation'
typval_encode.c.h: avoid -Wnonnull-compare warning (#7712)
tui: defer termcodes using a timer
tui: rework deferred-termcodes implementation
pty_process_unix: _exit() on execvp() failure
ui: forward relevant option updates to UIs (#7520)
clint,eval: Make linter check for direct usage of list attributes
Merge pull request #7718 from jamessan/disable-titleold-translation
*: Fix linter errors
Merge branch 'master' into hide-container-impl
Disable translation of default 'titleold' value
eval/typval: Fix typo
eval: Fix add()
*: Fix linter errors
*: Finish hiding list implementation
Merge #7555 'vim-patch.sh, doc updates'
vim-patch.sh: remove version.c in generated patch
vim-patch.sh: introduce `-L`
*: Fix test failures
eval: Still check for NULL when doing :unlet
functests: Add some more NULL tests
eval: Fix uniq() crash in legacy test 055
eval/encode: Fix crash in json_encode test suite
functests: Mark islocked("v:_null_list") behaviour correct
quickfix: Fix :cexpr and :lexpr
eval: Fix setmatches(), setqflist() and setloclist()
eval,functests: Fix tests and complete() and setline() behaviour
*: Hide list implementation in other files as well
vim-patch: NA
vim-patch.sh: always use git log, not version.c
doc
gen_api_vimdoc.py: require "nvim_" prefix
doc: hack to avoid doxygen bug
Merge pull request #7704 from jamessan/mac-lang-fix
window.c: do BufEnter in correct window after closing help #7431
mac: Set $LANG based on the system locale
ci: run oldtests in Appveyor #7705
eval: Fix writefile()
eval: Fix inputlist()
*: Start hiding list implementation
eval/typval: Add macros useful for hiding list item implementation
eval/typval: Add functions useful for hiding list implementation
Merge #7234 'built-in expression parser'
ci: Install neovim gem in Appveyor (#7700)
Merge #7676 from florolf/atomic-unibilium
Merge pull request #7692 from bfredl/wildcmd
build: de-parallelize luarocks dependencies (#7697)
tui: ignore st terminfo cursor shape (Se, Ss) entries
ui: fix glitch with both ext_cmdline and cmd_wildmenu
tui: always hide cursor when flushing
tui: never flush buffers in midst of unibilium output
tests: cleanup ui/cmdline_spec.lua
Merge #7477 from FlorianGit/empty-lists-dicts-strings
Merge #7653 from justinmk/tui-termcap
tui: flush -V3 ('verbose' >= 3) info ASAP
test/tui: -V3log logs terminfo values
test: write_file(): support append-mode
test: retry(): fix time calculation
test: macOS 10.13: unibilium cannot find "xterm" terminfo
test: tui_spec: narrower scope for timeout tweaks
msg_outtrans_special(): handle NULL
msg_outtrans_special(): `const` some strings
str2specialbuf(): fix comparison
tui: set descriptions on termcap extensions
tui: dump termcap info if -V3 ('verbose' >= 3)
Merge pull request #7683 from fszymanski/master
Fix job_control doc
tests: Fix linter errors
Viml: Make filter and map handle null list correct
Revert "fix! set lsan options"
getchar: Move REMAP_… values into a enum
Merge branch 'master' into s-dash-stdin
Merge branch 'master' into expression-parser
Merge pull request #7666 from wsdjeg/patch-1
vim-patch:8.0.0306 (#7675)
Merge #7672 from ckelsel/vim-8.0.0298
vim-patch:8.0.0295 (#7671)
tui.c: request focus-reporting (fix regression) #7670
fix lint error
vim-patch:8.0.0298
Fix type in job_control doc
tui: emit some termcodes later (after startup) (#7664)
tui/rxvt: enable focus-reporting
fix! set lsan options
*: Replace all occurrences of NVim with Nvim
unittests: Reduce memory used by vim_str2nr test
version.c: Mark 8.0.0171 as NA
Merge branch 'master' into expression-parser
keymap: Do not use vim_isIDc in keymap.c
Revert "tui: update cleared area only if non-default bg"
Merge pull request #7657 from jamessan/float128-ffi
unittest: Ignore _Float128 types in ffi
provider: fix batchfile extension for ruby gem (#7651)
Merge pull request #7639 from jamessan/openbsd-chr
Use defined(BSD) check when defining OPEN_CHR_FILES
Add OpenBSD as an expected OS for opening char devices
Merge pull request #7650 from jamessan/na-patches
version.c: mark NA patches
Merge #7640 'term' option
tests: mark flaky socket test pending for now
Revert "provider: delete vimL stderr collector, now that it exists builtin"
lint
test: tui_spec.lua: use robust settings
tui: expose terminal type in 'term' option
Merge #7633 'Retry fgets on EINTR'
viml/parser/expressions: Make sure that listed nodes may be present
functests: Add some more tests
viml/parser/expressions: Make $ENV not depend on &isident
doc: Some small fixes
Merge branch 'master' into expression-parser
Merge pull request #6844 from bfredl/channel
provider: delete vimL stderr collector, now that it exists builtin
channels: tests
Merge #7631 'highlight: no refresh on validation error'
test: :highlight validation errors
:highlight : avoid redraw on error
io: fix handling EOF in vim_fgets
io: retry fgets on EINTR (#7632)
Merge #7624 'tui: disable BCE almost always'
channels: update documentation
core dumps: don't use pipe, it does not work
test: add hexdump utilitiy function
input: only change mode of input fd if there is an input fd
tui: job-control: use saved termios for pty jobs
channels: improvements to buffering
channels: more consistent event handling
channels: refactor jobwait
channels: reimplement logging (as stub for proper event)
channels: stderr channel
channels: generalize jobclose()
channels: move away term code from eval.c
channels: allow bytes sockets and stdio, and buffered bytes output
channels: refactor
Revert channel logging, rebased on new code below
tui: update cleared area only if non-default bg
tui: Disable BCE almost always. #7624
tui: Disable BCE by default. #7624
FIXUP: duplicate error number in #7422
tui: move terminfo_is_term_family()
Merge #7593 'PVS static analysis fixes'
cmdline: CmdlineEnter and CmdlineLeave autocommands (#7422)
move.c: remove unreachable break statement
eval.c: remove nonnullret deadcode
helpers.c: statically assert integer falls within range
Fix for pvs V782, pointer access to first element of array
input.c: replace if/else with switch
menu.c: remove conditional expression that is always true
vim-patch:8.0.0289 (#7591)
vim-patch:8.0.0292 (#7592)
win: default grepprg to findstr.exe (#7611)
Merge #7345 'location-list update on buffer-modified'
pvscheck.sh: auto-detect URL by default
syntax.c: Fix maybe-uninitialized warning (#7596)
helptags: fix double-free (#7600)
vim-patch:8.0.0287 (#7590)
server.c: Fix bug in release mode (#7594)
unittests: Run vim_str2nr tests with GC enabled
doc: Update documentation
unittests: Populate ARGTYPES in child process only
cmake: Fix api/version test failure
Merge branch 'master' into expression-parser
syntax: Fix duplicate group definitions
unittests: Avoid infinite cycle somewhere because of init failure
tests: Stabilize float format and %e in format_luav and format_string
ex_getln: Fix memory leak in color_expr_cmdline
*: Fix linter errors
tests: Use single test file for unit and functional parser tests
functests: Fix ui/cmdline test
charset: Add missing include needed for vim_str2nr
viml/parser/expressions,unittests: Do better testing, fix found issues
Merge #7587 'vim-patch:8.0.0283'
vim-patch:8.0.0283
version bump
NVIM v0.2.2
tui: setrgbf/setrgbb: emit semicolons for VTE
'viewoptions': add "curdir" flag #7447
Merge #7561 'os_open: UV_EINVAL on NULL filename'
win: provider: Detect(): return *.cmd path (#7577)
os_nodetype: rework
os_open, os_stat: UV_EINVAL on NULL filename
tui: 'guicursor': use DECSCUSR for xterm-likes (#7576)
lint #7562
:checkhealth: fix check for npm and yarn (#7569)
doc: Fix pathshorten() example (#7571)
health.vim: define highlights as `default` (#7560)
runtime: revert netrw update (#7557)
defaults: scrollback=10000 (#7556)
doc: test/README.md: migrate wiki info (#7552)
vim-patch:8.0.0227 (#7548)
Merge pull request #7545 from jamessan/test-fixes
test/unit/path_spec: expect correct buffer size (#7514)
health.vim: normalize slashes for script path (#7525)
:terminal : fix crash on resize (#7547)
Merge #7530 'vim-patch:8.0.0226 vim-patch:8.0.0224'
vim-patch: NA
unittests,viml/parser/expressions: Start adding asgn parsing tests
unittests: Fix automatic test case generation
unittests,syntax: Check for sanity of highlight_init_cmdline
tests: terminal: Assert for SIGWINCH handling before continuing
Use PRId64 to format Integer when calling api_set_error
tui_spec: Convert nil to "" before formatting it
cmake: install runtime/rgb.txt
process_close(): uv_unref() detached processes (#7539)
unittests: Add some more edge test cases
viml/parser/expressions: Add support for parsing assignments
viml/parser/expressions: Replace lambda-specific WantedNode entries
unittests: Add a way to show some custom messages only when crashed
fix lint error
Merge #7458 'remote: add node host'
vim-patch:8.0.0237 (#7531)
vim-patch:8.0.0242 (#7532)
vim-patch:8.0.0218 (#7529)
:checkhealth : validate 'runtimepath' (#7526)
vim-patch:8.0.0226
vim-patch:8.0.0224
doc/vim_diff.txt: mention NormalNC
runtime: Fix syntax error in `runtime/syntax/tex.vim` (#7518)
test/oldtest: `count` is not special in Nvim #7407
compat: "v:count" distinct from "count" (#7407)
tutor: some fixes (#7510)
doc: 'clipboard': soft-remove autoselect* flags #7509
Merge #7465 has('ttyin'), has('ttyout')
version bump
NVIM v0.2.1
Merge #7503 from justinmk/vim-patches
vim-patch:b0d45e7f5354
vim-patch:01164a6546b4
vim-patch.sh: avoid creating *.orig files
vim-patch.sh: remove vimrc_example.vim
vim-patch:24a98a0eb772
vim-patch: NA
vim-patch:37c64c78fd87
Merge #7500 'vim-patch: runtime'
ui: remove ext_cmdline noise (#7486)
vim-patch:c572da5f67aa
vim-patch:1ccd8fff8acf
vim-patch:f55e4c867f77
vim-patch:NA
vim-patch:b6e0ec6b71c4
Merge pull request #7496 from jamessan/windows-spellfile-fix
spellfile.vim: Search for a writable directory on Windows
vim-patch:bf92e3a3719f
Merge #7499 'vim-patch: runtime'
po: remove duplicate definitions
health.vim: env var may be defined but empty #7498
vim-patch:74675a666b51
vim-patch:3ec574f2b549
vim-patch:6aa8cea46d41
vim-patch:b4d6c3ea4a59
vim-patch:0635ee682481
vim-patch:94237495c03f
vim-patch:cd5c8f825078
vim-patch:e0720cbf63eb
vim-patch:3c2881dc1195
vim-patch.sh: new option `-P`
health.vim: show TUI-related env vars (#7498)
doc: deprecate 'highlight'; remove howto.txt (#7497)
*: Fix linter errors
Merge branch 'master' into expression-parser
*: Fix some typos found by oni-link
unittests: Add tests for vim_str2nr
charset: Move vim_str2nr flags from vim.h to charset.h
Merge #7491 'vim-patch: runtime'
vim-patch:036986f1507d
vim-patch:214641f77df6
eval/decode.c: Avoid NULL arg to memchr() #7332
Merge #7188 from justinmk/doc
doc: API (generated)
gen_api_vimdoc.py: workaround: attributes of (void) functions
gen_api_vimdoc.py: support Doxygen @note
doc: job-control
man.vim: allow other ex-commands after :Man
spellfile.vim: use :keeppatterns before :global
doc: nvim_buf_add_highlight(): zero-indexed lines
doc
viml/parser/expressions: Briefly document some differences
api/vim: Add “len” dictionary key
tests: Add missing test cases
api/vim,functests: Add tests for nvim_parse_expression, fix found bugs
vim/api: Actually dump AST, fix some bugs in nvim_parse_expression
api/vim: Create part of nvim_parse_expression function
charset: Refactor vim_str2nr
tests: Fix testlint errors
'inccommand': Fix matches for zero-width (#7487)
test: startup_spec: cmd.exe escaping
test: has("ttyin"), has("ttyout")
vim-patch:8.0.0096: has('ttyin'), has('ttyout')
docs: correct cmdline_special_char documentation (#7475)
test: server_spec: Tolerate missing protocol (#7478)
quickfix: fix location list updates.
quickfix: fix location list updates (test).
use `provider#stderr_collector`
win/package: nvim-qt v0.2.8 (#7464)
Merge #7454 'ui: ext_wildmenu'
Merge #7315 "'inccommand': multiline, other fixes"
pvs/V575: false positive (#7462)
Merge #7456 from justinmk/vim-8.0.1207
eval_clear: free profile data
ex_getln: Fix variable name which is wrong after the merge
*: Fix linter errors
Merge branch 'master' into expression-parser
syntax,viml/parser/expressions: Add missing highlight groups
syntax: Adjust position and arguments of syn_init_cmdline_highlight
syntax,viml/expressions/parser: Create defaults for expr highlighting
remote: add node.js as a remote plugin provider
health: add node health check
Fix cmd modifier tests for the new highlight
api/vim: Add nvim_parse_expression function
Remove superflous parameter from show_sub
Adjust tests for new highlighting.
Fix highlighting conflict
Test for clearing the highlight
Clear highlight when there's no match
Adjust tests for the new preview window
Fix the last line in the preview buffer
Remove pat/sub from show_sub
Move tests into original file, lint, and add a test
Lint
Fix old inccomand tests, and add more for the new functionality.
Inccommand: Multiline substitutions, highlighting, multibyte.
vim-patch:8.0.1207
gen_declarations: Do not generate line numbers by default
ex_getln: Make use of new parser to color expressions
Merge #7444 'vim-patch: test :profile'
vim-patch:8.0.0944
doc: ui.txt
ui: allow external ui to draw wildmenu
rpc: Don't delay notifications when request is pending (#6544)
test/win: partially disable :terminal resize test (#7453)
Merge #7173 'api/ui: externalize cmdline'
test: ui/cmdline_spec.lua: enable on Windows
doc/ui.txt
klee: Update vim_str2nr in mock as well
unittests: Avoid alloc log checking errors when printing tests
viml/parser/expressions: Fix last error found by KLEE
charset: Some more refactoring of vim_str2nr
vim-patch:8.0.0206 (#7446)
Merge #7440 "terminal: adjust for 'number'"
test: ctrl_c_spec: bias timeouts for success (#7451)
test: :terminal + numberwidth=9
terminal: Account for number column (#5310)
doc: debian badge
fix TEST_FILE=test_profile.res make oldtest failed
vim-patch:8.0.0196
vim-patch:8.0.0194
vim-patch:8.0.0189
docs: breakout ui.txt from msgpack_rpc.txt
ext_cmdline: fix inputsecret()
ext_cmdline: interact with cmdline window
ext_cmdline: implement redraw!
ext_cmdline: turn nested cmdlines into a linked list
ext_cmdline: restructure and improve tests
ext_cmdline: documentation
ext_cmdline: rename cmdline_char to cmdline_special_char
ext_cmdline: extend "function" to generic "block" mechanism
ext_cmdline: disable some redraws
ext_cmdline: add support for highlighting
ext_cmdline: lint
ext_cmdline: added indent
ext_cmdline: Add function block support
ext_cmdline: added cmdline level
ext_cmdline: change to use ui_call
ext_cmdline: fix firstc, change cmdline_leave to cmdline_hide
ext_cmdline: change the content format
ext_cmdline: use standard external ui functions
ext_cmdline: lint
ext_cmdline: add tests
ext_cmdline: Added cmdline prompt
ext_cmdline: allow external ui to draw cmdline
Merge pull request #6967 from jamessan/icm-skip-modifiers
inccommand: Ignore leading modifiers in the command
:version : show Lua[Jit] version (#7436)
Merge #7430 'Ignore virtcols after 32000'
Merge #7165 'lua: Move stricmp to vim module'
test: tabstop=<big-number> #2838
plines_win_nofold(): Ignore virtcols after 32000th computation #3527
:cquit : take an error code argument #7336
vim-patch:8.0.0140 (#7428)
Merge #7420 'vim-patch:8.0.0962, 8.0.1019'
Merge #7030 'refactor/single-include'
cmake,bsd: Fix mandir to saner defaults. (#7417)
help, man.vim: change "outline" map to gO (#7405)
build: set MIN_LOG_LEVEL correctly (#7419)
vim-patch:8.0.1019
vim-patch:8.0.0962
Merge pull request #7414 from bfredl/bufhl_new
bufhl: support creating new groups
lint
refactor/single-include: undo.h
refactor/single-include: undo_defs.h
refactor/single-include: syntax_defs.h
refactor/single-include: regexp_defs.h
refactor/single-include: terminal.h
viml/parser/expressions: Fix some errors spotted by KLEE
Merge pull request #7404 from jamessan/vim-8.0.0118
Merge #7399 ':checkhealth (built-in)'
vim-patch:8.0.0118
Merge pull request #7372 from ckelsel/vim-8.0.0183
Merge pull request #7313 from ckelsel/vim-8.0.0101
:checkhealth : validate $VIM
ex_checkhealth: call health#check() directly
doc: E5009 "Invalid $VIMRUNTIME"
doc: replace ":CheckHealth" with ":checkhealth"
ex-cmds: :checkhealth
test: avoid redundant clear() #7340
Merge #7340 'menu_get: print keycodes'
syntax: 'cursorline': revert priority change (#7400)
viml/parser/expressions: Add some casts
viml/parser/expressions: Remove unused flag
klee: Add run.sh --help and run.sh -s
unittests: Free everything and check for memory leaks
klee: Fix possible assertion error
viml/parser/expressions: Fix memory leak when processing ternary
test/unit/formatc: Fix parsing of most recent viml_parser_highlight
keymap: Remove incorrect cast
klee: Update key_name_entry table
klee: Include colors in test
viml/parser/expressions: Highlight prefix separately from number
charset: Do not call strlen() from vim_str2nr
charset: Avoid overflow in vim_str2nr
viml/parser/expressions: Define east_node_type_tab only when needed
keymap: Readd figure braces disappeared when resolving conflicts
Merge branch 'master' into expression-parser
viml/parser/expressions,klee: Fix some problems found by KLEE run
charset: Fix out-of-bounds array access
viml/parser/expressions: Update some comments and add another check
viml/parser/expressions,tests: Add AST freeing, with sanity checks
Merge pull request #7373 from bfredl/cmdwin_clip
unittests: Test some edge cases
viml/parser/expressions: Create tests for latest additions
klee: Fix some errors made in …parser.c
viml/parser/expressions: Finish parser
viml/parser/expressions: Add support for string parsing
keymap: Lint some functions to be copied for symbolic tests
edit: Lint some functions which are to be copied for symbolic tests
mbyte: Lint some functions which are to be copied for symbolic tests
viml/parser/expressions: Add support for subscript and list literals
viml/parser/expressions: Error out on multiple colons in a row
viml/parser/expressions: Add support for the dot operator and numbers
viml/parser/expressions: Make lexer parse numbers, support non-decimal
viml/parser/expressions: Forbid dot or alpha characters after a float
viml/parser/expressions: Add support for comparison operators
viml/parser/expressions: Make sure that arrows outside lambda throw
viml/parser/expressions: Add support for ternary operator
viml/parser/expressions: Fix determining invalid commas/colons
viml/parser/expressions: Fix call inside nested parenthesis
viml/parser/expressions: Add a way to represent tokens from C code
doc: remove E172 (#7395)
ops: save and restore clipboard batch status when entering cmdline window
Merge pull request #7394 from justinmk/health.vim
health.vim: rename "suggestions" to "advice" in most places
health.vim: fix highlighting
health.vim: warn about 'paste' option
Merge pull request #7380 from jamessan/silent-input
getcmdline_prompt: Temporarily disable msg_silent so prompt is displayed
vim-patch:8.0.0183 NA
Merge branch 'vim-8.0.0101' of github.com:ckelsel/neovim into vim-8.0.0101
Merge branch 'master' of github.com:ckelsel/neovim into vim-8.0.0101
Merge #7327 from ckelsel/vim-8.0.0131
Merge branch 'master' of github.com:ckelsel/neovim into vim-8.0.0101
Merge remote-tracking branch 'upstream/master'
unittests: Add support for dumping “expected” state
viml/parser/expressions: Add a way to adjust lexer
viml/parser/expressions: Make curly braces name actually work
viml/parser/expressions: Make commas actually work when calling
viml/parser/expressions: Make commas actually work when calling
viml/parser/expressions: Add support for figure braces (three kinds)
klee: Start preparing for klee tests
viml/parser/expressions: Start creating expressions parser
Merge #7082 'api: nvim_get_hl_by_name/by_id'
test: nvim_get_hl_by_name/by_id #7082
unittests: Move some functions into helpers modules
viml/parser: Add helper functions for highlighting
viml/parser: Handle encoding conversions
viml/expressions: Add lexer with some basic tests
kvec: Add kv_Z which is like kv_A, but zero is the last value
Merge #7082 'api: nvim_get_hl_by_name/by_id'
vim-patch:8.0.0164 (#7368)
gitignore: cmake-build-debug (#7359)
Merge remote-tracking branch 'upstream/master'
Merge branch 'master' into vim-8.0.0131
Merge #7364 lower priority of 'cursorline', 'cursorcolumn'
resettitle(): remove conditions (#7360)
vim-patch:8.0.0142 (#7335)
vim-patch:8.0.0148 #7344
syntax: 'cursorline': low priority #6380
syntax: 'cursorcolumn', 'colorcolumn': low priority #6380
vim-patch:8.0.0157 (#7362)
eval.c: ga_concat_esc() #7357
Merge remote-tracking branch 'upstream/master'
Merge #7358 from justinmk/titleold
'titleold': move logic to getout()
'titleold': simplify behavior
'titleold': set UI title on exit #7191
editorconfig: handle Vim help files (#7354)
Merge pull request #7355 from jamessan/ngettext-fix
Stub ngettext when libintl isn't available
More tests
Deal with NOP, add actext to output
Merge #7349 'win: more path-handling fixes'
test: avoid extra clear() calls
test/shada: fixup for Windows backslashes #7287
win: vim_FullName(): force backslashes #7287
ci/appveyor: modify compression options for cache
menu_get: adjust tests for prettyprinting
menu_get: prettyprint special chars
Merge remote-tracking branch 'upstream/master'
runtime/syntax/vim.vim: highlight nvim groups #7338
Remove duplicate ATTRENTRY_INIT
Changed prototypes to accept a boolean "rgb"
Increased test coverage for RGB and cterm
Adds nvim_get_hl_by_name/by_id
kvec: Add kv_drop() which is to be used like `(void)kv_pop(kvec)`
unittests: Add a way to print trace on regular error
test/helpers: Add format_string and format_luav
Merge #7328 from jamessan/keep-testdir-make
vim-patch:8.0.0155
oldtest: Run test_mksession_utf8 tests
vim-patch.sh: Exclude testdir/ files from src/ file pruning
vim-patch:8.0.0132
vim-patch:8.0.0131
Merge remote-tracking branch 'upstream/master'
Merge branch 'vim-8.0.0101' of github.com:ckelsel/neovim into vim-8.0.0101
Merge branch 'master' of https://github.com/neovim/neovim into vim-8.0.0101
Merge pull request #7325 from jamessan/vim-8.0.0112
Merge pull request #7310 from ckelsel/vim-8.0.0330
Merge pull request #7309 from ckelsel/vim-8.0.0328
lint
vim-patch:8.0.1025
vim-patch:8.0.1024
vim-patch:8.0.0258
vim-patch:8.0.0253
vim-patch:8.0.0112
Merge pull request #7311 from ckelsel/vim-8.0.0333
test: lint whitespace in legacy/ (#7308)
vim-patch:8.0.0091 (#7312)
vim-patch:8.0.0106
vim-patch:8.0.0106
Merge branch 'vim-8.0.0101' of github.com:ckelsel/neovim into vim-8.0.0101
vim-patch: 8.0.0104 Problem:    Value of 'thesaurus' option not checked properly. Solution:   Add P_NDNAME flag. (Daisuke Suzuki) https://github.com/vim/vim/commit/f422bcc7f9615fe91fa69b059cfe4785093d3d4a
fix conflict
vim-patch:8.0.0102
vim-patch:8.0.0101
vim-patch:8.0.0101
vim-patch:8.0.0333
vim-patch:8.0.0330
vim-patch:8.0.0328
Merge remote-tracking branch 'upstream/master'
Merge pull request #7298 from jamessan/check-array-bounds-support
Move definition of cstrchr above the functions which call it
cmake: Check if the compiler understands -Wno-array-bounds
vim-patch:8.0.0294 (#7305)
runtime/tutor: fix typos (#7302)
doc: fix typo with :lcd (#7299)
escape amatch filename (#7292)
Merge #7252 from justinmk/perf-vim.vim
Merge pull request #7280 from bfredl/fix_helptags
Merge pull request #7277 from jamessan/deprecated-unibilium-APIs
runtime/syntax/vim.vim: highlight vimEmbedError as Normal
runtime/syntax/vim.vim: disable g:vimsyn_embed by default
vim-patch:8.0.0327 (#7281)
vim-patch:8.0.0324 (#7279)
vim-patch:8.0.0302 NA (#7264)
vim-patch:8.0.0305 (#7265)
Revert cbda7d8 "build: Revert 464bc16."
Merge remote-tracking branch 'upstream/master'
tui: Use unibi_var_from_num when available
test: more coverage for RPC + op-pending #3732
getchar.c: add TERM_FOCUS to MAP_HASH (#7271)
build: show a hint for BSD make (#7275)
Merge #7262 'inccommand': fix 'gdefault' lockup
Merge remote-tracking branch 'upstream/master'
ex_cmds.c:do_sub(): macroize duplicate code
'inccommand': fix 'gdefault' lockup #7261
Vim-patch 8.0.0300 (#7258)
Merge remote-tracking branch 'upstream/master'
ci/travis: ignore pip3 failure
vim-patch:8.0.0186 (#7154)
vim-patch:8.0.0282 vim-patch:8.0.0291 (#7255)
Merge remote-tracking branch 'upstream/master'
Merge #7253 from justinmk/ci-travis
ci/travis: skip pip3 upgrade if pip3 is missing
ci/travis: report python environment info
test: FocusGained: retry() cmdline-mode test
health.vim: always check pyenv if installed #7219
inccommand: fix optimization logic #7224
terminal.c: need maketitle() in terminal-mode
test: ex_terminal_spec.lua: retry flaky test (#7245)
Merge #7241 ':terminal : handle F1-F12, other keys'
Merge #7221 from justinmk/ev-focusgained
vim-patch: 8.0.0{181,182,188} (#7152)
test: FocusGained: press-enter prompt
Merge #5014 ':terminal : handle F1-F12, other keys'
doc: channel, eventloop
eventloop: loop_schedule_deferred()
test: FocusGained: let UI settle before sending input
lint
log: introduce `context`
eventloop: restore redraw in cmdline K_EVENT handler
eventloop: do not redraw in cmdline K_EVENT handler
test: FocusGained/FocusLost
test: use global_helpers.uname() instead of calling to nvim UUT
eventloop: FocusGained: schedule the schedule
doc: eventloop
eventloop: FocusGained: schedule event instead of pseudokey
eventloop: K_EVENT does not finish mapping
tui: DECSCUSR workaround for Konsole (#7236)
test: lint
eventloop: K_EVENT should not finish operator
Merge pull request #7233 from yjhan96/vim-8.0.0125
vim-patch:8.0.0125
vim-patch:8.0.0247 (#7232)
Merge remote-tracking branch 'upstream/master'
Merge pull request #7227 from ckelsel/vim-8.0.0209
vim-patch:8.0.0209
Merge remote-tracking branch 'upstream/master'
Merge pull request #7218 from jamessan/stderr_collector-fix
provider: Remove dict attribute from stderr_collector
ci: XXX: permissive termclose_spec timer (#7217)
tui: support new iterm2, iTerm2.app terminfo entries
Merge #7081 from justinmk/rpcstop
Merge pull request #7192 from llorens/vim-8.0.0092
Merge #7205 from justinmk/win-wmain
tui: always use unibi_add_ext_str with unibi_get_ext_str #7204
win: expect utf8-encoded `argv` when built as a library
win: wmain(): use utf16_to_utf8() #7060
win: wmain(): locale-independent argv (#7180)
clipboard: disallow recursion; show hint only once (#7203)
Merge #6973 from teto/normal_hl
Merge pull request #7201 from jamessan/vim-8.0.0308
syntax.c: style
syntax.c: register 'Normal' highlight group
vim-patch:8.0.0680
vim-patch:8.0.0612
vim-patch:8.0.0437
vim-patch:8.0.0326
vim-patch:8.0.0325
vim-patch:8.0.0308
Merge pull request #6808 from nelstrom/normal-mode-terminal
vim-patch:8.0.0092
Repair tui_spec functional tests
Repair job_spec functional tests
Repair ex_terminal_spec functional tests
Update documentation
Use Normal mode as default when opening a new terminal
Merge remote-tracking branch 'upstream/master'
channel.c:call_set_error(): fix memory leak
rpc: close channel if stream was closed
log: some DEBUG-level stream logging
Merge #7193 from justinmk/cb-pathology
clipboard: test g:clipboard validation, fix a bug
clipboard: remove start_batch_changes() in redir_write()
clipboard: avoid error flood during :redir
Merge #7171 from justinmk/doc
doc/api: nvim_out_write() and friends
version: tweak layout, doc
intro: remove byline #6984
nvim -h: omit special-case options
doc
Merge pull request #7185 from jamessan/fix-provider-clear_stderr
provider#clear_stderr: Use remove() not delete() to update s:stderr
Merge remote-tracking branch 'upstream/master'
Merge #7007 'Windows :terminal'
Merge pull request #7052 from ckelsel/vim-8.0.0044
Merge pull request #7145 from ckelsel/vim-8.0.0174
Merge pull request #6928 from justinmk/vim-patch-8.0.0678
vim-patch:8.0.0044
Merge pull request #7174 from jamessan/appveyor-allow-cov-failure
vim-patch:8.0.0679
ci: Ignore MINGW_64-gcov failures in overall ci status
vim-patch:8.0.0678 closing a window does not trigger resizing
test/win: give up on this one
test/win: place cursor at edge to tickle SIGWINCH
test: tty-test.c: keep `tty_out` handle around
win/test: enable more :terminal tests
test: tty-test.c: restore win32 SIGWINCH handler
test: cleanup
single-includes: ignore os/pty_process_win.h
pty_process_win: avoid quoting for cmd.exe
win/pty: log errors
win/pyt: cleanup
win/test: tty-test: print screen size explicitly with CTRL-Q
win/pty: quote_cmd_arg(): check bounds
win/pty: jobstart, jobstop: fix null-pointer dereference
win: support :terminal
win/install: winpty-agent.exe
win: integrate winpty (WIP)
Merge pull request #7168 from teto/fix_coverty
doc: Describe everything what is in `vim` lua “module”
Merge #6364 'command-line color hook'
coverty: solve  #7149
Merge pull request #7167 from jamessan/codecov
ci: Rename .codecov.yml → codecov.yml
lua/executor: Fix crash when first string contains NUL and second not
lua/executor: Move stricmp to vim “module” and document it
functests: Add test for stricmp
lua/executor: Make stricmp function work with strings with NULs
ci/win: list build permutations explicitly (#7163)
Merge pull request #7161 from jamessan/codecov
ci: Ignore QB for codecov's CI status
ci: Collect coverage data for MINGW_64 builds on appveyor
ci: Switch to codecov.io for coverage data
Merge #6259 from justinmk/ui_refresh
doc: screen_resize(): remove mention of "mustset"
ui: disable 'lazyredraw' during ui_refresh.
Merge remote-tracking branch 'upstream/master' into HEAD
io: more guards against NULL filename (#7159)
lua/executor: Fix crash when printing empty string (#7157)
travis: Move TSAN to last stage and allow failure
tui: fix DECSCUSR logic #6997
vim-patch:8.0.0235
oldtest: cannot `:set term` in Nvim
vim-patch:8.0.0524
vim-patch:8.0.0518
vim-patch:8.0.0290 vim-patch:8.0.0394
vim-patch:8.0.0311
vim-patch:8.0.0128
vim-patch:8.0.0126
vim-patch:8.0.0090 fix breakindent bug
ex_getln: Make error messages look better
doc: State that it is called for new *displayed* input
functests: Alter comment
doc: Clarify how function is executed
functests: Check that input is correctly silenced
io: more guards against NULL filename (#7159)
Merge pull request #7158 from jamessan/move-tsan-stage
lua/executor: Fix crash when printing empty string (#7157)
travis: Move TSAN to last stage and allow failure
tui: fix DECSCUSR logic #6997
Merge #7088 from justinmk/vimpatches
vim-patch:8.0.0235
oldtest: cannot `:set term` in Nvim
vim-patch:8.0.0524
vim-patch:8.0.0518
vim-patch:8.0.0290 vim-patch:8.0.0394
vim-patch:8.0.0311
vim-patch:8.0.0128
vim-patch:8.0.0126
vim-patch:8.0.0090 fix breakindent bug
Merge remote-tracking branch 'upstream/master'
Merge pull request #7150 from jamessan/cid-166184
coverity/166184: Check length of str, not term
Merge pull request #7143 from jamessan/log_callstack_to_file
vim-patch:8.0.0165 (#7132)
Merge #7140 'os_stat: return ENOENT on NULL fname'
buf_write(): handle NULL fname on non-unix
vim-patch:8.0.0174
Merge remote-tracking branch 'upstream/master'
os_stat: return ENOENT on NULL filename arg
Merge #7134 from justinmk/oldtest-tmpdir
Merge pull request #7135 from justinmk/buf_write
log: Add log_callstack_to_file()
oldtest: test_cmdline: Complete "Xtestf" so "Xtest-tmpdir" isn't matched
oldtest: use TMPDIR
buf_write(): wrong argument to os_fileinfo_hardlinks
vim-patch:8.0.0149 (#7127)
Merge remote-tracking branch 'upstream/master'
vim-patch:8.0.0111 (#7090)
vim-patch:8.0.0147 #7121
vim-patch:8.0.0143 (#7120)
vim-patch:8.0.0137 (#7119)
vim-patch:8.0.0086 (#7118)
Merge branch 'master' into colored-cmdline
api/helpers: Fix typo
functests: Remove wait() from input_spec
api/helpers: Clarify try_start() usage
Merge #7110 from justinmk/preserve-wildmenu
input: skip dialogs if no UI is active
win_defs.h: redefine RGB macro after undefining
build: silence maybe-uninitialized warning
clint: allow starting brace after `enum`
test/helpers: disable powershell logo/banner message
terminal: block redraw during c_CTRL-D
win_redr_status(): skip if wildmenu is showing
Merge remote-tracking branch 'upstream/master'
vim-patch:8.0.0134 (#7109)
Merge remote-tracking branch 'upstream/master'
Merge #7111 from justinmk/unrevert
test/oldtest: avoid delete() on files used by a subprocess
test: job_spec.lua: disable shada in test instance
vim-patch:8.0.0133 (#7107)
Merge pull request #7116 from lonerover/vim-8.0.0081
fix lint error
vim-patch:8.0.0081
Merge #7105 from justinmk/doc-tui
Revert "vim-patch:8.0.0133 (#7107)"
Merge remote-tracking branch 'upstream/master'
doc: Remove/relocate win32 notes.
doc: "terminal" always means "embedded terminal emulator"
vim-patch:8.0.0133 (#7107)
Merge remote-tracking branch 'upstream/master'
Merge branch 'master' into colored-cmdline
Merge pull request #7104 from jamessan/run-oldtests-under-headless
vim-patch:8.0.0498 (#7103)
oldtests: Run nvim using --headless to avoid requesting user input
options: remove ghost of `:set termcap` (#7102)
Merge branch 'master' into colored-cmdline
Merge #7100 from justinmk/tui-colors
vim-patch: 8.0.00{12, 46, 93} (#7098)
build: linux does not always have execinfo.h (#7101)
doc: tui colors, cursor
tui: fix truecolor in libvte, tmux #7037
vim-patch:8.0.0124 #7092
Merge remote-tracking branch 'upstream/master'
vim-patch:8.0.0119 (#7091)
Merge #7093 from justinmk/fix-qb
Merge pull request #7068 from jbradaric/vim-8.0.0020
test/legacy: avoid TSAN CI build hang
test/busted: eager-flushing TAP.lua handler
vim-patch:8.0.0020
doc: how to enable ASan/UBSan
Merge #7087 from justinmk/test-locale
test: force LC_ALL=en_US.UTF-8
doc
coverity/155506: null dereference (#7089)
Merge remote-tracking branch 'upstream/master'
vim-patch:8.0.0100 (#7085)
Merge remote-tracking branch 'upstream/master'
menu_get(): doc
viml: introduce menu_get() function #6322
Merge #7083 'build: disable array bounds checking in gcc < 4.8.5'
Revert "functests: Replace wait() with nvim_async"
build: disable array bounds checking in gcc < 4.8.5
vim-patch:8.0.0088 (#7080)
runtime: Fix where desktop file and icon are installed (#7072)
ex_getln: Cache highlight callback calling results
Merge pull request #7069 from jbradaric/vim-8.0.0034
functests: Replace wait() with nvim_async
message: Only require second (format) argument to be not NULL
Merge pull request #7071 from jbradaric/vim-8.0.0075
Merge pull request #7070 from jbradaric/vim-8.0.0062
Merge pull request #7065 from jamessan/collect-provider-stderr
functests: Remove unneeded wait()s
doc: Update documentation
git: ignore .nvimlog (#7074)
vim-patch:8.0.0062
vim-patch:8.0.0075
vim-patch:8.0.0034
provider: clipboard: Only report stderr if the job failed
provider: Extra pythonx's stderr handling to common functions
Merge #7043 'vim-patch:8.0.{0023,0025}'
Merge #7061 from ckelsel/vim-8.0.0069
fix lint
Merge #6516 'log_callstack()'
log: log_callstack()
log.h: LOG_CALLSTACK
Merge #7048 from justinmk/log-ui
log: termios info to DEBUG instead of INFO
log: caller provides the source details
vim-patch:8.0.0073
vim-patch:8.0.0069
Merge remote-tracking branch 'upstream/master'
log: channel registration
log: all UI events, not just UI-bridge
vim-patch:8.0.0038 (#7051)
vim-patch:8.0.0031 (#7050)
vim-patch:8.0.0052 (#7057)
merge upstream
Merge pull request #7045 from jbradaric/vim-8.0.0085
vim-patch:8.0.0085
Merge pull request #7027 from lonerover/vim-8.0.0003
vim-patch:8.0.0003
functests: Add sleep to <C-c> test
ex_getln: Avoid GCC “unused variable” warning from QB
*: Fix clint errors
functests: Test input() nesting support
functests: Check for previously unchecked errors
ex_getln: Check prev_prompt_errors before running redrawcmdline
api helpers: Also save and restore did_emsg
provider/clipboard.vim: fix logic issue #7042
Merge #7040 'vim-patch:8.0.{0017,0026,0078,0079,0084}'
vim-patch:8.0.0004 (#7044)
ex_getln: Replace global with entry in save_ccline
doc: Adjust documentation a bit
ex_getln: Do not do useless try_enter/try_leave calls
ex_getln: Do not goto color_cmdline_end without first cleaning up
vim-patch:8.0.0025
vim-patch:8.0.0023
api helpers: Save/restore more values in try_enter/try_leave
oldtests: Use $(TOOL) in place of $(VALGRIND)
Merge #7028 from fmoralesc/vimtutor-disentangle2
tutor: reorganize
vim-patch:8.0.0084
vim-patch:8.0.0079
vim-patch:8.0.0078
vim-patch:8.0.0026
vim-patch:8.0.0017
merge upstream/master
provider/clipboard.vim: capture/display errors (#6684)
intro: change byline to "by al." (#6984)
test: mouse_spec: remove obnoxious wait times (#7029)
Merge branch 'master' into colored-cmdline
tutor: update syntax
tutor: disable old method for setting "expect" regions
tutor: update tutor-mode tutorial
tutor: don't enable folds by default
tutor: allow metadata to exist outside of the documents.
tutor: some tweaks to begginer's tutorial
tui: Do not override 'termguicolors' choice (#7004)
health.vim: fix test
health.vim: validate g:clipboard
Merge pull request #7026 from lonerover/vim_patch
Merge pull request #7024 from jamessan/win32yank
vim-patch.sh: only show missing patches
third-party: Bump win32yank to v0.0.4 and install arch-specific binary
Merge pull request #6486 from jamessan/vim8-patches
version.c: Mark NA patches
test: shada: Replace hard-coded 704 with dynamic version
Bump Vim version to 8.0 and applied patches
Merge pull request #6977 from ckelsel/_vim-7.4.2189.patch
Merge pull request #6993 from ckelsel/vim-7.4.2250
lint
vim-patch:7.4.2250
lint
vim-patch:7.4.2229
vim-patch:7.4.2189
Merge pull request #7011 from mhinz/doc/jobcontrol-example
doc: rewrite job-control example
Merge pull request #6881 from Shougo/vim-7.4.2354
vim-patch:7.4.2354
ignore patch-2367,2364
Merge pull request #6983 from justinmk/libtermkey
Merge remote-tracking branch 'upstream/master'
Merge #6991 from jdebp/tui-fixes-201707
tui: Remove superflous iTerm2 test added in error.
tui: Improve the setrgbf/setrgbb fallback logic.
doco: Document constant 'term' in more detail.
mbyte: Fix crash when using multibyte chars in maparg() return (#6986)
inccommand: improve performance #6949
Merge #6945 from justinmk/cpoptions
third-party: Bump libtermkey to 0.20
lint
doc: api.txt; deprecate <special>
'cpoptions': remove "<" flag; ignore <special>
'cpoptions': remove "k" flag
runtime: K: prefer Vim help instead of man #3104
doc: ISSUE_TEMPLATE.md
i_CTRL-O: fix :startinsert at end of line (#6963)
runtime: update vimCommand syntax pattern (#6976)
Merge pull request #6979 from jamessan/avoid-jemalloc-on-osx
Prefer the static jemalloc library by default on OSX
Merge pull request #6823 from blueyed/fix-term-stop
test: tui_spec: Remove unused is_linux variable
jobstop/process_stop: send SIGTERM directly
Merge #6816 'TUI improvements'
lint
tui: Coding style changes only
tui: Switch terminal keyboard mode properly.
tui: Coding style changes only
Merge pull request #6969 from jamessan/ttimeoutlen
options: Default to 'ttimeout' and 'ttimeoutlen=50'
Merge #6959 from ZyX-I/pvs-fixes
Merge #6958 from ZyX-I/fix-6957
bufhl_defs: Silence V512: buffer underflow
main: Flush file in place of closing it, also do error reporting
Merge pull request #6961 from ZyX-I/pvscheck-cc
pvscheck: Add --environment-cc switch
terminal: Silence -V666 error: value not correspond with string length
syntax: Fix V763: parameter always rewritten before being used
spell: Silence V512: buffer underflow
spell: Fix V728: excessive check
regexp: Silence V595: potential null dereference
normal: Fix V728: excessive check
main: Use msgpack_file_write in place of “fbuffer”
os: Add OS_STD*_FILENO constants
os/fileio: Add ability to use os/fileio.c for file descriptors
os/fileio: Add msgpack_file_write function
main: Fix V522: potential NULL dereference
shada: Fix linter error
ex_getln: Silent V519: value is assigned twice successively
socket: Silence V641: buf size is not multiple of what it is cast to
Merge #6955 'Fix invalid :echo output'
charset: Fix V728: excessive check
shada: Make sure that code does not attempt to read too long items
functests: Ensure different SIDs on successive source() calls
functests: Add some more :echo tests which also check for regression
functests: Make ex_cmds/echo actually use :echo
message: Fix `:echo "\x80"` printing `~@<80>`
functests: Copy eval/string_spec.lua to ex_cmds/echo_spec.lua
Merge #6947 from ZyX-I/consistent-get_keymap
dict_get_value(): name the missing key (#6952)
Merge pull request #6946 from jamessan/fix-expand_env_esc-test
unittests: Fix allocation ordering for tv_dict_add_str()
functests: Test how spaces appear in get_keymap output
test: expand_env_esc: Pass correct buffer size for outlen and assertion
getchar: Fix linter error
functests: Use more extensive testing
message: Add support for replacing `<` to str2special
functests: Add tests for new behaviour
functests: Remove local_copy function
eval: Make nvim_get_keymap output more robust
eval: Use tv_dict_add_allocated_str() for mapblock_fill_dict
eval/typval: Add tv_dict_add_allocated_str() function
*: Adjust usages of modified functions
message: Refactor str2specialbuf
message: Refactor str2special_save and str2special
mbyte: Refactor mb_unescape
Merge remote-tracking branch 'upstream/master'
ci/quickbuild: XXX: disable server_requests test (#6851)
test: handle single-char hostname (#6939)
ex_getln: Save and restore try state
rm test
test
Merge pull request #6936 from jamessan/unicode-10
fix hostname_spec.lua test failed
scripts: Tell curl to follow redirects
Update unicode files
Update emoji-data URL for Unicode 10
cmake: Remove custom "Dev" build-type. (#6932)
ex_getln: Do not make <C-c> interrupt input() after interrupting hl cb
ex_getln: Fix indent
ex_getln: Make sure standard error reporting facility is not used
ex_getln: Fix “echoerr msg not shown” problem
update tests
Merge branch 'master' into option-fixes
functests: Uncomment `{REDRAW}` part of “works” test
functests: Partially uncomment <C-c> test
ex_getln: Call highlight callback inside :try
functests: Make “stops executing callback” test work
functests: Fix typo
provider/clipboard.vim: Handle missing g:clipboard keys
provider/clipboard.vim: allow configuration #6030
Merge pull request #6927 from jamessan/vim-7.4.2259
ex_getln: Lint command_line_handle_key readability/fn_size
vim-patch:7.4.2320
vim-patch:7.4.2318
vim-patch:7.4.2268
functests/legacy: Add lua version of test_search.vim
Merge #6789 from ZyX-I/lua-path
socket.c: Disable Nagle's algorithm on TCP sockets (#6915)
functests: Make tests work with input()
functests: Comment out failing test
functests: Abstract away some ways to enter cmdline coloring mode
ex_getln: Enable coloring for expression mode
functests: Add missing wait()
eval,ex_getln: Add support for coloring input() prompts
ex_getln: Add some more tests, fix some found errors
functests: Start adding some tests
ex_getln: Add basic support for coloring command-line prompt
ex_getln: Do not do arabic shaping unless needed
ex_getln: Clean up draw_cmdline a bit
vim-patch:7.4.2259
scripts/pvscheck.sh: fix function rename
scripts/pvscheck.sh: HACK: de-parallelize on CI
scripts/pvscheck.sh: HACK: de-parallelize on CI
Merge pull request #5266 from bfredl/kbtree
bufhl: fix move
bufhl: some style cleanup
kbtree: make warning free and delete deprecated macros
kbtree: eliminate unneccesary heap allocation
kbtree: use proper structs
kbtree: allow iterators to start at arbitrary position
bufhl: use kbtree for bufhl
kbtree.h
Merge  #6914 from ZyX-I/func-def-trailing-error
functests: Fix screen.lua supplying dedent additional argument
functests: Check that minimal distance between commands works
functests: Add tests
eval: Allow running next command after :endfunction
functests: Refactor redir_exec
functests: Move function_spec to eval
eval: Error out when there is something after :endfunction
Merge #6863
coverity/112076: fixing "Explicit null dereferenced"
coverity/155506: fixing "dereference null after check" (#6862)
genappimage.sh: set CMAKE_INSTALL_MANDIR
vim-patch:7.4.2356 (#6880)
Merge #6841 from alexgenco/ruby-host-prog
Merge pull request #6898 from blueyed/pvscheck-fixes
scripts/pvscheck.sh: fixes
runtime: Add docs for g:ruby_host_prog
runtime: Allow overriding ruby host with g:ruby_host_prog
runtime: Fix issue with Ruby health `latest_gem` determination
Update deps (#6885)
Merge pull request #6860 from justinmk/coverity
Merge pull request #6896 from jamessan/clang-bump
provider/clipboard: add tmux support (#6894)
ci: Bump clang version to 4.0
coverity/155509: negative close() arg
Merge pull request #6700 from bfredl/winhl
screen.c: fix lint
screen.c: make more highlights window specific
vim-patch:7.4.2190 (#6882)
scripts/vim-patch.sh: do not git-reset on push failure (#6878)
mksession: Restore tab-local working directory #6859
vim-patch:8.0.0607 (#6879)
tui: Track cursor visibility.
pvscheck: Fix argument handling in do_recheck
tui: Eliminate more extraneous control sequences.
tui: Another linux terminfo capability fix
Merge pull request #6345 from brcolow/vim-7.4.2360
vim-patch:7.4.2360
Merge #6827 'Always enable logging'
Merge pull request #5621 from jamessan/vim-7.4.1975
doco: Adjust TERM and terminfo doco.
lint
*: Fix conversion warnings for tv_get_number*()
functests/msgpack: Correct representation of literal INT64_MIN
functests/msgpack: Use assert_equal() for more informative errors
strings/tv_float: Explicitly cast v_number to float_T for -Wconversion
doc: *standard-path*, *$NVIM_LOG_FILE*
test: iswin(): detect without nvim session
log: Fall back to CWD-relative .nvimlog
test: Set $NVIM_LOG_FILE to test-local path
log: set $NVIM_LOG_FILE; fallback to $XDG_DATA_HOME/nvim/log
ga_append_via_ptr: fix log arguments
ci: Dump $NVIM_LOG_FILE contents
log: Always enable; remove DISABLE_LOG
loop_close: Avoid infinite loop, and log it.
log: log_uv_handles
eval/typval: Convert string to varnumber_T instead of intermediate long
vim-patch:8.0.0614
Merge remote-tracking branch 'origin/master' into vim-7.4.1975
Merge pull request #6854 from jamessan/vim-8.0.0156
lint
vim-patch:8.0.0561
vim-patch:8.0.0176
vim-patch:8.0.0478
vim-patch:8.0.0477
vim-patch:8.0.0360
vim-patch:8.0.0168
vim-patch:8.0.0167
vim-patch:8.0.0158
vim-patch:8.0.0156
doc: clang scan-build
tui: Recognize "Tc" terminfo capability.
tui: Combine multiple attribute changes.
eexe_mod_op: Explicitly cast varnumber_T to float_T for -Wconversion
*: Disable UBSAN for VimL arithmetic implementation
func_attr: Allow disabling UBSAN for a function
lint
vim-patch:8.0.0219
vim-patch:7.4.2224
vim-patch:7.4.2029
vim-patch:7.4.1986
vim-patch:7.4.1979
vim-patch:7.4.1978
vim-patch:7.4.1977
vim-patch:7.4.1976
vim-patch:7.4.1975
oldtests: Fix syntax of s:flaky
tui: Remove the iTerm2 corner case.
tui: Do not optimize left motion at the right margin.
Merge pull request #6807 from bfredl/attrindent
tui: Treat cygwin as an immediate-wrap terminal.
tui: Correct commentary on tmux colour tests.
tui: Add tmux to the always 256-colour capable list.
tui: Add terminfo patches for linux on MacOS.
tui: Coding style changes only.
tui: Do some deferred wrap on iTerm2.
screen: Correct commentary.
tui: Several minor tweaks per commentary and 256-colourize PuTTY.
tui: Coding style changes only
tui: Separate out built-in terminfo records.
doco: Add some guidance on up-to-date terminfo.
tui: Handle a corner case for rare terminals.
tui: Make iTerm2 have no deferred wrap. Testing by Enrico Ghirardi and review of the source indicates that iTerm2 is a second terminal emulator that does not defer automatic wrap at the right margin.
tui: Fix OBOE in linux cnorm capability fixup code.
tui: Change screen status line back to hardstatus.
doco: Correct :help term-dependent-settings . The example used &term which is no longer meaningful. Fortunately, we can change this into a useful example using $TERM that also shows how to address a common need with termguicolors at the same time.
tui: Char signedness fix for the big blocks of (signed) numbers.
tui: Correct to_status_line for screen. PM...ST actually sends the string to screen's message area.  Sending the string to the status line requires a different control sequence peculiar to screen.
doco: Move TERM help into its own section and expand. :help TERM previously pointed to a section that no longer even discussed the variable.
doco: Note some common $TERM mistakes and how to fix them. Also explain more clearly the difference between Vim and Nvim when it comes to built-in terminfo entries.
tui: Add built-in terminfo entry for VTE. Also slightly refactor the way in which GNOME/MATE Terminal pretending to be xterm is detected.
tui: Perform length safety check in comparison macros.
tui: Treat genuine Xterm and iTerm.app as standards-conformant. They both can handle SGR control sequences in the form set out in ISO 8613-6:1994/ITU T.416:1993.
tui: Change terminal family recognition to avoid '+' entries. The terminfo commentary states that these are not standalone entries suitable for end-use.
tui: Add st to the always 256-colour capable list. Also comment and augment some terminal colour tests.
tui: Correct a copy and paste error in stterm tests. The test decsription was correct; the test was not.
tui: Fix Interix and account for deferred wrap. The Interix termcap entry is missing the carriage_return capability which nvim relies upon.  And Interix is one of the few terminal emulators that does not defer automatic wrap at the right margin, which is now accounted for when moving the cursor left and when outputting whole lines at a time.
tui: Add iTerm and rxvt to the terminals that know extended DECSCUSR.
tui: Update colour tests some more.
tui: Correct error in terminfo extension processing. Using the right unibilium query function then revealed a latent NULL pointer problem.
tui: Correct error in terminfo extension processing. Using the wrong unibilium query function just happened to work with the various terminfo records used in local testing.
tui: Remove now-unused flag variable. Follows on from fcf0d13f48bffbd41749069ce383d01153dd960c.
tui: Update colour tests.
tui: Remove tmux wrapper from the Konsole path. tmux has its own code path, now; and the tmux wrapping was not the ideal thing to do in the first place.
tui: Improvements to RGB colour support. The details are in the on-line help under :help true-color .
tui: Refactor built-in teminfo records.
tui: Update fallback terminfo records.
tui: Spelling corrections in doco and commentary
tui: Fix conflict with predefined "linux" macro.
doco: Replace termcap with terminfo where appropriate.
tui: More refactoring, and improvements to cursor shape support.
tui: Disable interference in guicursor by higher layers.
tui: Split fix_terminfo() up and refactor.
doc: Document some more terminal behaviours.
doc: Relegate xterm-8bit to a removed feature.
tui: Fix cursor motion clear screen bug visible on line #1 in redraws.
tui: Coding style changes only
tui: Optimize more cursor motions
tui: Use what scrolling PuTTY has.
tui: Optimize cursor motions
tui: Eliminate superfluous SGR resets.
tui: document fix_terminfo()'s several tasks
Separate 16- and 256- colour control sequences and tidy up some redundancy.
Change TUI resize to use an extended terminal capability.
lint: fix indentation of FUNC_ATTR lines
clint: check FUNC_ATTR lines to have 2-space indent
doc: README.md (#6839)
test: fix bashisms (#6791)
Merge #4700 from AdnoC/keep-default-register
build: LuaRocks 2.4.2 #6059
shada: Add default value for is_unnamed
eval.c: Ignore unnamed register error in f_setreg
test: Fix and add cases for unnamed register
style/lint
shada/linting: Moved some code out of shada_write. shada_write was too long (over 500 lines) and caused a linting error. Register initialization was moved to its own function in order to save lines.
eval/shada: Add testing for unnamed register with setreg and startup
eval: Add ability to set the unnamed register with setreg
shada: Set the unnamed register to the previous unnamed register on startup
channel_write: fix compiler warning
'pastetoggle': Revert support for multi-key value (#6724)
Merge pull request #6740 from oni-link/fix.snprintf
Merge pull request #6594 from bfredl/sockopen
sockets: don't deadlock when connecting to own pipe address
channels: implement sockopen() to connect to socket
doc: Clarify documentation
lua: Use automatic determining of suffixes only for package.cpath
Merge pull request #6680 from mhinz/listen/localhost
socket_watcher_start: Silence conversion warning for sin(6)_port
eval: serverstart: Return finalized address to user
vim-patch:8.0.0605 (#6821)
Merge #6777 from justinmk/bsd
Server: Call uv_getaddrinfo with NULL service when no port
install: bsd: install manpages to /usr/local/man
terminal: Do not change 'number', 'relativenumber' (#6796)
man.vim: feature-test section (-s) flag #6815
ci: Also lint lua code in src/nvim/lua
cmake: Rename RunTestsLint to RunLuacheck
doc: Add example plugin
lua: Add paths from &runtimepath to package.path and package.cpath
build: Default BUSTED_OUTPUT_TYPE to "nvim" (#6811)
get_keymap API (#6236)
shada: Remember whether "0 or "1 was the unnamed register
Merge #6799 from justinmk/tui-dtterm
tui: Improve scrolling mechanism.
tui: Reset the scroll region when resizing.
tui: resize: use an extended terminal capability
tui: Only use dtterm's extension where supported.
Merge pull request #6790 from justinmk/oldtest
oldtests: Mark Test_lambda_with_timer as flaky
doc
doc: *Terminal-mode* #6757
Doc: explain the format for serverstart()
Server: don't fall back to Unix sockets
api/vim: Fix nvim_list_runtimepaths
tui.c: Initialize TUI input component only once. (#6784)
doc: on_stdout, on_stderr, onexit (#6761)
doc: update *feature-list*, remove "gui_running"
Server tests: endpoint parsing in serverstart()
Server tests: use helpers.command()
Server: use uv_getaddrinfo() for $NVIM_LISTEN_ADDRESS
pty_process_unix.c: include <libutil.h> on DragonFly BSD
build: FreeBSD: Disable -Wc11-extensions only for clang
Merge #6775 from justinmk/doc
doc
api/nvim_replace_termcodes: Document keycodes behavior
vim_getenv: Remove redundant NULL check.
Merge pull request #6735 from justinmk/funcattr
Merge #6772 from ZyX-I/fix-pvs-errors
lua: Add PVS comment to lua/*.c
pvscheck: Provide arguments to `patch_sources` in correct order
options: Silence V542 without using comments
options: Silence V542 the other way
syntax: Silence V782
tui: Fix V547: always true condition
spellfile: Fix V547: always true condition
tag: Silence V522: potential null dereference
shada: Fix V581: adjacent branches with same condition
search: Fix V502: ?: ambiguity
options: Silence V542: odd casts for .def_val
memfile: Fix V547: always true condition
main: Silence V522: potential NULL pointer dereference
getchar: Eliminate two-iteration loop
eval: Silence V614: potentially uninitialized variable
eval: Fix V507
eval: Silence V782
eval/encode: Silence V595 error
pvscheck: Handle invalid option error gracefully
pvscheck: Add --only-analyse mode
buffer: Silence V519
edit: Silence V595
*: Fix all V641 errors
charset: Fix V695: dead branches
man.vim: check for -l flag #6766
startup: init v:progpath before calling vim_getenv (#6755)
Merge pull request #6759 from jamessan/flaky-timers
oldtests: Mark test_timer's Test_oneshot as flaky
Merge #6741 from justinmk/progpath
env_iter: Learn `delim` parameter.
vim_getenv: Use v:progpath instead of os_exepath.
startup: v:progpath fallback: path_guess_exepath
Merge #6737 "options: make 'highlight' read-only"
options: make 'highlight' read-only
ci: Enable staged builds (#6739)
Merge #6480 from ZyX-I/colored-cmdline'/input-dict
doc: Add a note to vim_diff.txt
cmake: Support building without LuaJIT. #6736
functests: Reword regression test headers
functests: Remove “correctly” from non-regression tests
eval/typval: Fix numbuf parameter documentation
Merge pull request #6704 from bfredl/luaexec
func_attr.h: use NVIM_HAS_ATTRIBUTE
func_attr.h: clang 3.7+: REAL_FATTR_NONNULL_RET
path.c: Remove invalid FUNC_ATTR_NONNULL_RET
api: execute lua directly from the remote api
if_cscope: Fix truncation of formated output
Merge pull request #6514 from jamessan/gcc-7-fixes
Merge #6731 from ZyX-I/fix-oneline-script-skip
functests: Replace check_provider -> missing_provider with err report
ex_getln: Fix :lang code execution when skipping
functests: Test invalid behaviour
oldtests: Fix spelling of testname in s:flaky
lint
regexp_nfa: Fix invalid fallthrough in character class detection
*: Use __attribute__((fallthrough)) where comments aren't supported
Detect support for and use -Wimplicit-fallthrough
*: Comment intentional fallthroughs
ex_cmds: Use NULL, not NUL, to check for strrchr failure
os_unix: Mark mch_exit as NORETURN
func_attr: Support "noreturn" attribute
API version bump
doc: Lua (#6722)
Merge #6721 from justinmk/health
doc (#6719)
health.vim: Don't lose contents after hide.
health.vim: On error, show a valid shell command.
health.vim: Fix hardcoded `python` name. #6714
functests: Get rid of last redraws due to the “line above” issue
ui_events: erase internal type HlAttrs (#6718)
functests: Remove outdated comments
functests: Remove some redraw calls
functests: Remove all wait()s
Merge pull request #6618 from bfredl/ui_event
api: always use prefix FUNC_API, also change NOEVAL to REMOTE_ONLY
os/shell.c: temporary solution to not put ctrl chars on the screen grid
api: add metadata for ui events
ui: cleanup UI_CALL wrappers
generators: separate source generators from scripts
api: use generated events for popupmenu and tabline
api: generate ui events
eval: Alter E5050 error message, test that
doc: Do not assume something is not supported in GUI
eval: Refactor get_user_input to support dictionary
health.vim: Remove sensible.vim advice. (#6709)
lua/converter: Fix typo in assert condition (#6708)
Merge #6707 from ZyX-I/fix-strchr-invalid
strings: Return NUL from vim_strchr for invalid input
tests: Add tests for vim_strchr
Merge #4411 from ZyX-I/luaviml'/lua
Merge pull request #6701 from ZyX-I/fix-ri-alias
CONTRIBUTING.md: Fix ri alias
functests: Fix tests
api/window: Fix memory leak in nvim_win_set_cursor
generators: Do not leak error messages text
man.vim: Fix filename argument in mandoc #6693
cmake: Workaround CMake not supporting INCLUDE_DIRECTORIES target prop
doc: nvim-from-vim: Prepend "~/.vim" #6694
Merge #6597 'winhighlight'
Merge #6595 from justinmk/term-refresh-on-exit
refactor/single-include (#6687)
Merge branch 'master' into luaviml'/lua
Revert "event/process.c: send SIGTERM directly (#6644)"
terminal: refresh before on_exit. #5217
Merge #6460 from ZyX-I/1476-changes
docs: 'winhighlight'
tests: add basic test for 'winhighlight`
options: allow different highlights in windows
options: consolidate updates for window string options affected by copy_winopt
refactor/single-include (#6688)
event/process.c: send SIGTERM directly (#6644)
tui: Also fix "linux*" terminfo entries. #6673
dist: AppImage #6638
Merge #6670 from jamessan/conversion-overflow
win: build: RelWithDebInfo
utf16_to_utf8: Allocate space for converted string and NUL
Make script_host.rb rubocop-clean
build: OpenBSD: libuv does not use KVM, do not link to it. (#6663)
'guicursor': tui: Konsole: blinkon0 should disable blinking.
test/legacy: Add Test_with_partial_callback to s:flaky. (#6666)
win: Terminal UI #6315
doc: README.md: PVS-studio badge (#6637)
Use vim_strchr(s, c) when c may be NUL (#6656)
Merge pull request #6653 from ZyX-I/pvs-fix-1
pvscheck: Use absolute path for finding test-include.c
Merge #6647 from ZyX-I/pvs-deps
pvscheck: When using --recheck rerun build
pvscheck: Add --deps to build with all dependencies
pvscheck: Add --pvs-install mode
pvscheck: Refactor script so that it only `cd`s in a subshell
pvscheck: Create getopts_long implementation
ci: DISABLE_LOG (#6498)
win/package: nvim-qt v0.2.7 (fixes cursor-shaping) (#6641)
Merge #6636 from ZyX-I/pvs-update
pvscheck: Add --pvs key to pvscheck.sh
pvscheck: Update pvs-studio URL
pvscheck: Do not use `test x`
version bump
NVIM v0.2.0
scripts/release.sh
doc: api
Merge #6632 from justinmk/doc
doc: Replace hardcoded TOCs with <M-]> advice.
help, man.vim: "outline" (TOC) feature #5169
Merge #6627 from ZyX-I/travis-folds
coverity/161682: FP: Dereference after null check (#6630)
Do not trace in check_runtime_files
ci: Use \{1,\} in place of \+
doc/eval.txt: remove references to E706 (#6629)
ci: Fold output in travis web interface
Merge #6625 from justinmk/vim-runtime
doc: bracketed-paste-mode
vim-patch:3df0173fa6d0
vim-patch:690afe1fef87
vim-patch:369b6f57c426
vim-patch:68563937f58e
vim-patch:bc2eada5424b
vim-patch:cf49790443ee
vim-patch:c0514bf4777a
Merge pull request #6621 from jamessan/vim-7.4.2231
Merge #6588 from justinmk/guicursor
Merge #6622 'api: Deprecate nvim_buf_get_number'
'guicursor': TMUX_WRAP iTerm seqs. Do color seq before shape seq.
'guicursor': No color/blink by default
api: deprecate obsolete nvim_buf_get_number function
oldfiles_spec: Add tests for ":filter ... oldfiles"
oldfiles_spec: Set the shada file in the session
lint
vim-patch:8.0.0150
vim-patch:7.4.2263
vim-patch:7.4.2246
vim-patch:7.4.2245
vim-patch:7.4.2244
vim-patch:7.4.2239
vim-patch:7.4.2231
doc: Removed t_XX options/keycodes. (#6616)
Merge #6615 from justinmk/vim-patches
win: health.vim/check_ruby(): find `gem.cmd` #6608
vim-patch:25de4c232d58
vim-patch:b4ada79aa7d0
vim-patch:6d5ad4c4118c
vim-patch:46fceaaa8d14
Merge #6613 from justinmk/vim-patches
vim-patch:4575876dc865
vim-patch:dc08328821a2
vim-patch:2ec618c9feac
vim-patch:3e496b0ea319
vim-patch:50ba526fbf3e
health.vim: syntax/style fixes (#6614)
vim-patch:64d8e25bf6ef
vim-patch:d07969093a9b
vim-patch:8.0.0002
vim-patch:8.0.0000
vim-patch:220adb1e9f9e
vim-patch:7e1479b86c59
vim-patch:abd468ed0fbc
vim-patch:f37506f60f87
vim-patch:89bcfda6834a
vim-patch:36f44c21da2e
vim-patch:818078ddfbb8
Merge #6247 'api: nvim_get_mode()'
event: Remove "priority" concept.
api/nvim_get_mode: Use child-queue instead of "priority".
input.c: Process only safe events before blocking.
api: nvim_get_mode()
api/ext_tabline: `curtab` should be a Tabpage handle.
Merge #6606 from justinmk/build_stl
lint
build_stl_str_hl: Array name should be plural.
refactor/single-include (#6604)
Merge pull request #6600 from jamessan/post-sourcing-filetype
defaults_spec: Test changing :filetype/:syntax in -c, after defaults
test: inccommand_spec: Avoid indeterminism. (#6592)
Merge #6583 from justinmk/ui-tabline
api/ext_tabline: List of Dicts.
api: nvim_ui_attach(): Flatten ext_* options.
api/ui: externalize tabline
api/ui: externalize tabline
tui: Only set cursor color if the highlight group is valid (#6585)
refactor/single-include (#6586)
doc: Revise nvim-from-vim advice (#6505)
Merge #6581 from ZyX-I/really-kill-single-includes
test/fs: sanity check for literal "~" directory (#6579)
ci: Remove `x` from `test x`
ci: Source ci/common/test.sh in run_test_wd subshell
ci: Make scripts in common be dash-compatible
ci: Make $cmd failure fail the build without -o pipefail
ci: Do not use pipefail
ci: Do not accidentally kill something unneeded
ci: When using restarting tests kill make with the shell
api/dispatch: Mark generated functions table readonly (#6576)
Merge branch 'master' into option-fixes
Merge #6569 from justinmk/apierror
api: Do not translate error messages.
tui/input.c: Use default 'ttimeoutlen' if option get fails.
api_set_error(): rename
api/internal: Remove `set` field from Error type.
api_clear_error: Skip if error was not set.
api_clear_error()
api: Do not truncate errors <1 MB. #6237
test: api: Do not truncate errors <1 MB.
refactor: Remove unused MAP_IMPL. (#6573)
Merge #6513 from ZyX-I/lazier-arg_errmsg-gettext
Merge #6572 from justinmk/guicursor
os_term_is_nice: Return true for rxvt and iTerm.
'guicursor': iTerm: Set cursor color.
refactor/single-include: ui.h, ui_bridge.h, ugrid.h (#6571)
refactor/single-include (#6563)
refactor/single-include: window.h, version.h (#6570)
Merge #6539 'More cursor shape modes'
ex_cmds.c: Fix bug in ex_z (#6557)
refactor/single-include: getchar.h (#6560)
tests: detect invalid helpers.sleep
ui: document new mode index and add note about forward-compatibility
ui: use an array for mode styles
ui: add tests for new cursor shape modes
ui: support more cursor shape modes
Merge branch 'master' into lazier-arg_errmsg-gettext
health.vim: 'guicursor' advice #6506
Merge #6550 from ZyX-I/pvs-check-comment
Merge #6552 from justinmk/loadview
doc: Recommend `:silent!` for :loadview.
'scrollback': Allow :setlocal -1 on normal buffers
version.c: Mark 7.4.{2165,2173,2179} applied
Merge pull request #6531 from justinmk/vim-dc1f1645cb49
Merge pull request #6547 from jamessan/vim-7.4.2152
vim-patch:7.4.2209
Mark patches applied in 6baa669
vim-patch:7.4.2152
scripts/vim-patch.sh: word-boundaries in preprocess regex
vim-patch:e4a3bcf28d92
vim-patch:7571d55f7dcc
vim-patch:dc1f1645cb49
*: Add comment to all C files
scripts: Add newline after the comment
scripts: Allow patching only build files
scripts: Do not patch already patched sources in patch mode
scripts: Make pvs do not patch separate directory, add patch mode
Merge #6546 from justinmk/doc
doc: api-contract, CONTRIBUTING.md
doc/CONTRIBUTING.md: Recommend merge-based workflow.
health.vim: Set 'iskeyword' to that of ft=help.
doc: fix typo (#6504)
Merge #6533 'Fix PVS-studio warnings'
Merge #6537 from justinmk/hlcursor
test: Cursor after `:hi clear|syntax reset`
highlight: default Cursor to guibg=fg, guifg=bg
fold: foldMoveRange(): fix :move bug #6534
buffer: Adjust where do_buffer call is located
*: Fix linter errors
regexp_nfa: Remove octal constant
regexp_nfa: Remove another has_mbyte/…-checking code
regexp: Silence octal constant warning
regexp: Remove another has_mbyte/…-checking stuff
regexp: Fix warning about octal constant
tag: Fix “initialized twice successively” false positive
tag: Silence “buffer underflow” warning
screen: Remove another portion of has_mbyte/friends-checking stuff
screen: Remove unneeded condition
screen: Silence NULL dereference false positive
screen: Silence “buffer underflow” warning
screen: Remove unneeded check
quicfix: Avoid possible NULL dereference
quicfix: Remove duplicate condition
quickfix: Remove unneeded condition
normal: Add figure braces so that code is clearer
normal: Clarify the code
normal: Remove unneeded assignment
ops: Silence “counter not used in loop” false positive
os/env: Fix “invalid pointer to local” false positive
fileio: Silence “!= identical subexpressions” warning
message: Some more has_mbyte/enc_utf8 removal
message: Remove some enc_utf8/… checks
memline: Fix “NULL pointer dereference” warning
memline: Silence “buffer underflow” warning, looks like false positive
fileio: Simlify help files encoding detection
hardcopy: Remove unneeded prt_do_conv assignment
getchar: Fix if block indentation
ex_docmd: Remove unneeded if()
ex_docmd: Remove :Ni! easter egg
ex_docmd: Remove excessive assignment
farsi: Simplify condition
eval: Fix position of buf declaration
eval: Remove unneeded !eap->skip check
eval: Remove unneeded varp check
eval: Remove unneeded varp check
eval: Fix condition in f_serverstop
eval: Refactor nr2char()
eval: Silence octal constant warning
eval: Fix useless NULL check
eval: Refactor f_char2nr
eval: Fix V547: `d == NULL` was already checked at line 2986
eval: Silence eap->skip false positives
eval/typval_encode: Silence then/else equivalence warning
edit: Copy assert to before the warning
macros: Fix excessive check
edit: Fix strange code
digraph: Fix errors due to has_mbyte and friends being fixed
digraph: Ignore false positive
diff: Silence -V519
*: Silence some false positives
Merge #6219 from jbradaric/vim-7.4.2170
Merge pull request #6493 from ZyX-I/pvs-script
Merge #6528 from ZyX-I/revise-malloc-attr
eval.c: Code style fixes
os/shell: Remove FUNC_ATTR_MALLOC from shell_build_argv
ops: Remove FUNC_ATTR_MALLOC from copy_register
option: Remove FUNC_ATTR_MALLOC from get_winbuf_options
eval/typval: Remove FUNC_ATTR_MALLOC from tv_list_alloc_ret
eval/typval: Remove FUNC_ATTR_MALLOC from tv_dict_alloc
eval/typval: Remove FUNC_ATTR_MALLOC from tv_dict_item_copy
eval/typval: Remove FUNC_ATTR_MALLOC from tv_list_alloc
os/fileio: Remove FUNC_ATTR_MALLOC for file_open_new
test: make locale dependent oldtest more reliable (#6526)
test_timers.vim: Adjust timing to handle difference in implementation
ops: fix i<c-r> with multi-byte text (#6524)
eval/encode: Do translate “… argument” strings, but only in conv_error
eval/typval: Do not translate tv_clear argument, this is useless
unittests: Add a test for TV_CSTRING
eval: Add comment regarding why special values are needed
eval: Change the point at which arg_errmsg and its length are changed
test: check_cores(): Escape $TMPDIR path. (#6520)
perf: tv_clear(): Cache gettext() result. (#6519)
Merge #6497 from justinmk/win-quot
win: os_shell_is_cmdexe() + tests
win: default shellxescape, shellxquote to empty
win: libuv_process_spawn(): special-case cmd.exe
win/test: Enable more system() tests
win: vim_strsave_shellescape: Handle 'shellslash'.
win: defaults: 'shellredir', 'shellxquote', 'shellxescape'
api/buffer: Validate replacement array in a separate cycle
api: Remove FUNC_API_SINCE for nvim__ functions
genmsgpack: Do not export functions with __
refactor: pos_T macros to functions (#6496)
Merge pull request #6495 from bfredl/localefix
ci: install Turkish locale and make locale tests more reliable
functests: Check whether it is a problem with an array
lua/converter: Remove useless macros
lua: Fix header guards
Merge #6490 from justinmk/test
ci/appveyor: fix cache pattern
test: helpers.execute() => helpers.feed_command()
win/test: Enable recover_spec.lua
functests: Add another check for the similar transformation
functests: Test for “string cannot contain newline” set_lines error
win: mch_open_rw: specify S_IWRITE #6487
test: `:file {name}`
test/rmdir(): fallback to Nvim delete()
Remove the mf_dont_release global after getting rid of maxmem[tot]
Remove maxmem and maxmemtot options
cmake: Append lua include also to single-includes targets
functests: Make sure funcs.luaeval receives only one argument
lua: Move files from src/nvim/viml/executor to src/nvim/lua
viml/executor: Fix check-single-includes
test/rmdir(): Remove `readonly` attr on Windows.
eval/decode: Include header needed for TriState
cmake: Add FindLua.cmake
api: Bump nvim__*id functions since value
Merge branch 'master' into luaviml'/lua
Merge branch 'master' into 1476-changes
Merge #6489 from ZyX-I/own-output-handler
Merge #6479 from bfredl/tolower
appveyor: Widen .deps cache dependency
ci: Make appveyor use new output handler as well
Merge #6488 from ZyX-I/coverity-fixes
pvscheck: Add --recheck argument
pvscheck: Do not use --depth
pvscheck: Do not trace help
pvsscript: Use git clone and not git worktree
pvscheck: Add help
scripts: Create script which checks Neovim with PVS-studio
lint: fix clint errors around mb_tolower calls
vim-patch:8.0.0552
vim-patch:8.0.0243
test: add tests for gu/gU behavior in Turkish locale
mbyte: replace vim_tolower with mb_tolower handling locale correctly
Merge pull request #6492 from ZyX-I/fix-clint-incremental-build
tests: Rename neovim output handler to nvim
third-party: Update busted version
tests: Skip dumping elapsed times when not available
cmake: Do not forget to actually create a touch file for errors.tar.gz
tests: Print description also at the end of the suite
tests: Use our own output handler on travis
Merge #6481 from ZyX-I/rename-execute
spellfile: Fix SAL sections reading
coverity/56795: Fix NULL dereference in :syn keyword non-printable
spellfile: Fix clint errors
spellfile: Fix memory leak
coverity/13689: Check file header with memcmp
coverity/13688: Check for NUL bytes in salfrom
coverity/13687: Do not allow NUL byte in region names
spellfile: Use old error
coverity/13686: Do not allow NUL byte in precondition regex
Merge pull request #6485 from jamessan/vim-8.0.0377
Merge branch 'master' into rename-execute
test/check_cores(): Skip workspace-local temp dir. (#6483)
lint
vim-patch:8.0.0376
vim-patch:8.0.0322
vim-patch:8.0.0378
vim-patch:8.0.0377
cmake: Do not use ExternalProject
cmake: Do not build clint-error-files by default
Merge #6439 from ZyX-I/fix-gc-failures
Merge #6478 from ZyX-I/conv-fixes
cmake: Use archive instead of downloading *.json files (#6482)
unittests: Fix linter error
vim.h: Remove strange comments
headers: Remove useless HAVE_CONFIG_H macros
unittests: Move allocating vimconv_T to a function
unittests: Do not GC typval_T which is owned by a di
unittests: Do not unref partial which is owned by Callback structure
unittests: Use Neovim memory allocation for vimconv_T
unittests: Do not gc what is already freed
ci: Increase check-single-includes wait time to 10s
ci: Allow check-single-includes to hang
functests: Fix linter errors
functests: Fix some ui/*_spec tests
functests: Fix ui/bufhl_spec
functests: Fix ui/screen_basic_spec
functests: Fix terminal/highlight_spec
functests: Fix terminal/cursor_spec
functests: Fix legacy/wordcount_spec
functests: Fix legacy/eval_spec
functests: Fix legacy/close_count_spec
functests: Fix legacy/autocmd_option_spec
functests: Fix legacy/arglist_spec
functests: Fix legacy/107_adjust_window_and_contents_spec
functests: Fix legacy/097_glob_path_spec
functests: Fix legacy/096_location_list_spec
functests: Fix legacy/067_augroup_exists_spec
functests: Fix some tests which are failing locally for unrelated reasons
functests: Fix legacy/074_global_var_in_viminfo_spec
functests: Fix legacy/065_float_and_logic_operators_spec
functests: Fix legacy/063_match_and_matchadd_spec
functests: Fix legacy/062_tab_pages_spec
functests: Fix legacy/051_highlight_spec test
functests: Fix legacy/030_fileformats_spec test
functests: Replace execute with either command or feed_command
test: retry(): Report number of retries. (#6475)
functests: Refactor options/pastetoggle
functests: Refactor legacy/054_buffer_local_autocommands_spec
functests: Refactor legacy/003_cindent_spec and legacy/increment_spec
functests: Refactor legacy/018_unset_smart_indenting_spec
functests: Refactor legacy/029_join test
functests: Refactor legacy/012_directory_spec
functests: Move test from legacy/009 to autocmd/autocmd
functests: Refactor 009_bufleave_autocommand_spec
api: Rename _vim_id functions to nvim__id
api: Add FUNC_API_SINCE(1) to new functions
*: Remove useless asserts
doc: Update documentation
refactor/single-include
*: Fix linter errors
unittests: Do not alter p_enc in decode unit test
eval/*code,shada: Drop support for converting UTF-8 from/to p_enc
eval/decode: Omit calling convert_setup for each string
shada: Initialize vimconv_T
eval/decode,shada: Do not forget to clean up converters
refactor/single-include: fold.h #6456
refactor/single-include: ex_getln.h #6454
refactor/single-include: memline_defs.h #6465
refactor/single-include: move.h #6469
refactor/single-include: ex_cmds.h #6453
refactor/single-include: digraph.h #6444
refactor/single-include: cursor_shape.h #6442
Merge #6473 from jamessan/vim-8.0.0499
unittests: Move checking cores to check_child_err
regexp: Update comment in cstrchr()
Merge branch 'master' into luaviml'/lua
lint
vim-patch:8.0.0550
regexp: Do not use locale-dependent functions in cstrchr
vim-patch:8.0.0499
regexp: Refactor cstrchr
strings: Remove vim_strbyte
strings: Replace vim_strchr implementation with a saner one
win: os_get_hostname() #5416 (#6413)
eval: delimit string with NUL byte (#6467)
unittests: Fix testlint failure
ci: Really continue tests on failure, print global summary
completion: fix segfault with ignorecase+infercase (#6452)
vim-patch:7.4.2359
vim-patch:7.4.2332
vim-patch:7.4.2304
vim-patch:7.4.2281
refactor/single-include: diff.h (#6443)
unittests: Force GC, fix GC failures in typval_spec
Merge remote-tracking branch 'origin/master' into vim-7.4.2170
vim-patch: Update regex for included_patches array (#6449)
Merge #6440 'test: Remove "tickle" hack'
test: retry() works with asserts; error() not required.
tests: short form `screen:except(func)` expects condition only. #6440
Merge #6432 from justinmk/guicursor
options: remove 'guiheadroom'
'guicursor': Disable by default for unknown terminals.
'guicursor': enabled=false if 'guicursor' is empty
Merge #6436 from ZyX-I/restart-includes-cleanup
ci: Also fail if last restart hang up
ci: Do not fail csi_clean if there are no files to remove
ci: Force make output coloring
ci: Clean up when restarting single includes test
'listchars': `Whitespace` highlight group #6367
Merge #6427 from ZyX-I/writefile-allow-omitting-fsync
ci: Do not mark test as failed if it is previous one which failed
fileio: Fix most linter errors
tests: Fix testlint errors
functests: Test some :write errors
fileio: Save details about E212 error
eval: Add s flag, use p_fs by default, error out on unknown flag
fileio: Refactor msg_add_fname to something which needs no comments
fileio: Clean up IObuff-manipulation mess
fixup!
message: Do not use IObuff in emsgf
fileio: Refactor errmsg handling
eval: Make writefile() able to disable fsync()
unittests: Make it easier to determine on which _spec line it crashed (#6424)
Merge #6423 from justinmk/guicursor
Merge pull request #6338 from jamessan/llvm-update
Merge #6409 from ZyX-I/separate-clint
tui: Only enable/disable mouse when there's something to do (#6411)
api/cursor_style_set: mode descriptions
'guicursor': Empty means "block cursor in all modes".
tui: 'guicursor' color
tui: 'guicursor' shape #6044
Merge #6422 from ZyX-I/fix-6420
'pastetoggle': support value >1 char (#6421)
eval: Do not allocate FileDescriptor
Merge #6418 from ZyX-I/better-unittests
eval,fileio: Omit additional fsync() call
unittests: Replace two environment variables with one TRACE_LEVEL
Merge #6344 'vim-patch:7.4.2236,7.4.2306'
vim-patch:7.4.2306
vim-patch:7.4.2236
also test set_option
unittests: Fix linter error
unittests: Disable non-C-calls
unittests: Add trace description right to the error message
unittests: Collect traces
unittests: Split itp implementation into multiple functions
unittests: Do not hang when error message is too long
build: avoid cmake warning (#6417)
ci: Do not shift if there are not enough arguments
ci: Add test watchdog and tracing for lint tests
update for changes in master; fix 'window'; tests
ci: Enable tracing
ci: Check for exact value of CI_TARGET, not its emptyness
ci: Bump clang version to 3.9
ci: Use LLVM's trusty repo to match Travis' Ubuntu version
ci: Add ${NL} variable
ci: Do not quote MAKE_CMD
makefile: Make `lint` target depend on `clint`
ci: Refactor CI scripts
cmake: Also depend on LINT_PRG
clint: Do not report zero errors
cmake: Replace RunLint.cmake with code in src/nvim/CMakeLists.txt
cmake: Allow failing to download small suppress files
cmake: Make Download.cmake check for errors
cmake: Use file-specific supprresses
cmake: Add `clint` target to build Makefile
ci: Do not hide ci directory (#6410)
Merge pull request #6397 from jamessan/coverity
Merge pull request #6406 from jamessan/msgpack-c-2.1.x-compat
coverity/161216: Ensure buf is valid for lifetime of defstr
third-party: Avoid building msgpack-c examples
Add handling for MSGPACK_OBJECT_FLOAT{32,64}
cmake: Detect whether msgpack-c has MSGPACK_OBJECT_FLOAT{32,64} types
third-party: Bump msgpack-c to 2.1.1
fold.c: more edge-cases when updating (#6207)
vim-patch:7.4.2104 (#6332)
options: more tests; check first set later; stricter validation
options: fix setglobal for buf-local number options
options: group num_option validation by type
options: more of the same
options: move more validation together
options: clean up num_options side-effects
options: if invalid value is given, reset to old value
options: move code around in set_num_option
options: add some tests
options: setlocal should only set local value
api: {get,set}_option should {get,set} global value of local options (#6405)
test: set 'nomore' by default (#6360)
Remove PVS-Studio cruft
Merge #6395 'test: Use workspace-local temp directory.'
coverity/16127: Verify lang is non-NULL before calling strlen
ci: Update Coverity model for typval refactoring
coverity/161194: Restore check for 'keywordprg' being ":help"
coverity/161195: Increase scope of exe_name
test: Use workspace-local temp directory.
win: tempname(): Use $TMPDIR if defined.
refactor/single-include: buffer.h (#6396)
Merge #5119 from ZyX-I/split-eval
Merge #6394 'ci: check-single-includes only in "lint" build'
ci: Run check-single-includes in "lint" build only
build: remove unused get_preproc_output() call
vim-patch:7.4.2276 (#6393)
functests: Try sleeping a bit more
eval/executor: Fix check-single-includes
*: Use const char * in set_one_cmd_context
eval/typval,api/buffer: Fix review comments
eval/typval: Allow NULL dict as tv_dict_get_callback() argument
eval: Fix -Werror=unitialized from QB
eval: Do not supply S_LEN to strncmp
unittests: Fix linter errors
unittests: Add tv_get_string* tests
unittests: Add tv_get number tests
unittests: Move tv_dict_add* tests to a proper describe() block
unittests: Add tv_check… tests
unittests: Add tv_equal() tests
unittests: Test locks section
unittests: Test tv_copy()
unittests: Add tests for tv_clear()
unittests: Add test for tv_dict_set_keys_readonly
unittests: Add tv_dict_copy tests
charset: Remove useless condition from vim_iswordc_tab
unittests: Add tests for tv_dict_extend
eval: Fix extend() behaviour with NULL lists and dictionaries
unittests: Add tv_dict_clear tests
eval: Use tv_is_func in place of ==VAR_FUNC||==VAR_PARTIAL
unittests: Add tv_dict_add* unit tests
unittests: Add tests for dictionary indexing
eval/typval: Refactor errors a bit: use emsgf always
unittests: Enable tv_list_join tests back
unittests: Disable tv_list_join test on Mac OS only
mbyte: Include os_defs.h in mbyte.h
eval: Do not use S_LEN as snprintf argument
eval/typval: Fix SEGV in test_alot.vim test
eval: Fix SEGV in test49
unittests: Add tv_dict_item_{add,remove} tests
unittests: Add tv_dict_item_{alloc,free} tests
eval: Fix len argument to xstrlcat
ascii: Readd DEL_STR define
syntax: Fix linter error
eval/typval: Fix -Werror=return-type
unittests: Add tv_dict_watcher_{add,remove} tests
unittests: Run tv_list_join tests in case it stopped failing
eval: Fix linter errors
*: Make some more things const and with length
eval: Make sure that v:_null_dict does not crash dictwatcher*()
eval: Make dictionary watchers work with empty keys
eval: Move part of dictwatcher* functions to eval/typval
functests: Fix buf_functions test on Windows
*: Fix some Windows-specific warnings
eval/typval: More `const` qualifiers in `tv_dict*` function signatures
unittests: Add tests for tv_list_idx_of_item
unittests: Add tests for tv_list_find*() functions
eval/typval: Add tv_list_equal() tests, compare NULL lists equal
unittests: Test tv_list_join()
unittests: Fix tests crash
eval/typval,tests: Fix extending list with itself, add tests
unittests: Test tv_list_concat()
eval/typval: Make tv_list_concat handle NULL lists correctly
functests: Add null_spec.lua from #4615
unittests: Test tv_list_copy
unittests: Add tests for tv_list_insert*()/…append*() functions
unittests: Add tests for tv_list_insert()
unittests: Add tests for list watchers and list alloc/free/unref
unittests: Test tv_list_item_\* functions
eval/typval: Add missing includes, also add a script to find them
eval: Move copy_tv to eval/typval
message: Remove incorrect assertion
message: Revise maxlen argument in msg_puts_attr_len
cmake: Use CMAKE_CURRENT_LIST_DIR and remove vars used only once
eval: Fix max_min functions
typval.h: Allow non-var expressions in TV_DICT_ITER first argument
misc1: Refactor ask_yesno()
eval: Make sort always stable
eval: Remove eval_expr() completely
eval: Move remaining get_tv_string* functions to eval/typval.c
eval: Move free_tv to eval/typval.h, remove most of its usages
eval: Move get_tv_number[_chk] to eval/typval.c
eval: Refactor get_tv_lnum_buf
eval: Move get_tv_lnum and get_tv_float to eval/typval.h
eval: Move get_tv_string_buf() to eval/typval.c
eval,*: Move get_tv_string to typval.c
eval: Move get_float_arg to typval.h
eval: Split and move dict_add_nr_str to typval.c
eval: Move dict_add_list and dict_add_dict to typval.c
eval: Move dict_set_keys_readonly to typval.c
eval: Move get_dict_callback to typval.c
eval: Make setmatches() return -1 in case of some failures
*: Move some dictionary functions to typval.h and use char*
functests: Add tests for some *buf* functions
eval: Split eval.c into smaller files
terminal.c:redraw(): Avoid invalid cursor col (#6379)
vim-patch:7.4.2343 and mark NA patches (#6384)
refactor/single-include: charset.h (#6385)
win: health/provider.vim: check with `.exe` extension
getcompletion("cmdline") (#6376)
rplugin.vim: GetManifestPath(): be more explicit (#6361)
Merge #6375 from justinmk/check-single-includes
build: Prefix check-single-includes artifacts.
build: Rename NEOVIM_* to NVIM_*
ci: Check that `#include "*.h"` works as a single include
terminal: global 'scrollback' #6352
Merge #6372 from lonerover/vim-7.4.2307
vim-patch:7.4.2334
vim-patch:7.4.2330
vim-patch:7.4.2307
cmake: Use set_property in place of target_include_dirs
eval,functests: Fix linter errors
functests: Add test for debug.debug
executor: Add :lua debug.debug mock
vim-patch:7.4.2357 (#6354)
executor,functests: Add print() tests, some fixes
doc: Update vim_diff data regarding ShaDa
doc: Update vim_diff.txt
executor: Add print() function
api: Use a form of `1 << 63` for INTERNAL_CALL_MASK
executor: Do not use S_LEN for memcpy
doc: Enhance documentation
executor: Add :luafile command
executor: Fix some memory leaks
executor,functests: Add tests for :luado, also some fixes
executor: Add :luado command
doc,functests: Add documentation
functests: Add tests for :lua
ex_getln: Refactor script_get()
executor: Add some const qualifiers
executor: Add :lua command
api: Also shift numbers in api_metadata output
functests: Fix “function has more then 60 upvalues” error
cmake: Also include luajit directories for libnvim target
gendeclarations: Make declarations generator work with macros funcs
gendeclarations: Handle case when text did not match
gendeclarations: Also save information about directory
gendeclarations: Save where declaration is comping from
cmake: Use LuaJIT include directory for declarations generator
cmake: Link libnvim-test with luajit in place of lua, disable ASAN
deps: Always build lua with -fPIC and -O0
cmake: Try fixing ASAN nvim-test compilation
ci: When building lua use -fPIC
msgpack_rpc: Fix #HANDLE_TYPE_CONVERSION_IMPL
clint: Allow omitting include guards in .c.h file and func_attr.h file
api: Allow kObjectTypeNil to be zero without breaking compatibility
scripts: Make generate_vim_module more generic
ci: Make ASAN build link with lua, build lua with address sanitizer
cmake: Allow switching from luajit to lua
functests: Some more tests
executor/executor: Free lcmd on error
functests: Move existing tests from lua_spec to lua/*, fix them
executor/executor: When reporting errors use lua string length
genmsgpack: Include error source in error messages
eval/decode: Fix memory leak in JSON functions
functests: Add some tests
executor/converter: Use readable lua numbers for handles
api: Reserve more numbers for internal calls
executor/converter: Allow converting self-referencing lua objects
functests: Test for error conditions
executor/converter: Make it possible to supply `{}` to Dictionary arg
executor/converter: Make nlua_pop_Object not recursive
executor/converter: Fix how maxidx is determined
executor/converter: Fix conversion of self-containing containers
executor: Make sure it works with API values
*: Silence linter
viml/executor: Directly generate typval_T values
eval: Add luaeval function
vim-patch:7.4.2349 (#6368)
highlight: :match should override 'list' (#6343)
build: Do not ref `libuv` CMake target if USE_BUNDLED_LIBUV=OFF. (#6363)
cmake: USE_BUNDLED_X instead of X_USE_BUNDLED (#6357)
man.vim: call s:error in man#read_page (#6362)
refactor: Remove allow_keys global (#6346)
Merge #6221
fold.c: uppercase macros
Merge pull request #6350 from jamessan/vim-8.0.0250
vim-patch:8.0.0250
Merge pull request #6323 from justinmk/vimpatches
health.vim: tmux: Try -qvg and -qvgs (#6348)
XXX: ex_tabonly(): aucmd_win is not part of the window list.
functests: Disable system(-s -) test on Windows
functests: Do not run termopen test on Windows
vim-patch:8.0.0407 : filtering folds with marker method not tested
Fix wrap-around in 32 bit
Robustly handle folds during a :move command
vim-patch:7.4.2329 (#6341)
vim-patch:7.4.2161 (#6340)
Merge pull request #6335 from bfredl/mbyte_dead
vim-patch:8.0.0307
vim-patch:8.0.0502
vim-patch:8.0.0331
vim-patch:8.0.0482
vim-patch:8.0.0483
test/legacy: Test_three_windows: rtp for :help
ex_tabnext: Disallow "+NN" arg.
vim-patch:8.0.0485
vim-patch:8.0.0172
vim-patch:8.0.0083
vim-patch:8.0.0159
vim-patch:8.0.0037
get_tabpage_arg: satisfy clang warning
lint
vim-patch:8.0.0259
test/legacy: Makefile Add missing tests
test/legacy: Run test_match, test_tabpage isolated
vim-patch:7.4.2339
vim-patch:8.0.0032
vim-patch:8.0.0049
vim-patch:8.0.0033
vim-patch:7.4.2355
lint
test/legacy: fix test_autocmd.vim
vim-patch:8.0.0178
vim-patch:7.4.2328
vim-patch:7.4.2341
vim-patch:7.4.2346
vim-patch:8.0.0019
vim-patch:7.4.2324
vim-patch:8.0.0177
vim-patch:8.0.0486
mbyte: remove dead code
terminal: Avoid invalid cursor col (#6265)
Merge #6312 from lonerover/vim-7.4.2255
Merge #6331 from lonerover/vim-7.4.2283
vim-patch:7.4.2303
vim-patch:7.4.2296
vim_vsnprintf: fix conversion warning #6333
vim-patch:7.4.2283
doc: Update missing headers. (#6330)
Merge #6231 from jbradaric/vim-7.4.2266
strings: Fix problems found during code review
doc: Replace "For Vim ... Last change ..." headers (#6328)
vim-patch:7.4.2164 (#6326)
Merge pull request #6327 from lonerover/issue-#6319
move.c: add cursor adjustment for scrolloff (#6319)
vim-patch:7.4.2256
Merge #6324 from justinmk/vim-patch-bc8801c9317eb
vim-patch:bc8801c9317eb
.gitignore: Do not ignore *.rej
scripts/vim-patch.sh: Remove "Last change ..." lines.
vim-patch:7.4.2293 (#6307)
version: Mark patch 2221 as applied.
vim-patch:7.4.2291
vim-patch:7.4.2280
vim-patch:7.4.2266
vim-patch:7.4.2242
vim-patch:7.4.2241
vim-patch:7.4.2240
version.c: Mark 7.4.2171 and 7.4.2181 as NA.
vim-patch:7.4.2180
vim-patch:7.4.2170
Merge #6320 from jamessan/vim-8.0.0116
doc: remove "only available when compiled with +timers" (#6321)
lint
vim-patch:8.0.0393
vim-patch:8.0.0223
vim-patch:8.0.0195
vim-patch:8.0.0190
Merge #6318 from justinmk/pr6244
test/legacy: fix test_normal.vim
vim-patch:7.4.2348
vim-patch:8.0.0229
vim-patch:8.0.0179
linter: make changes pass the linter
vim-patch:7.4.2362
vim-patch:8.0.0066
vim-patch:8.0.0064
vim-patch:8.0.0060
vim-patch:7.4.2353
vim-patch:7.4.2347
vim-patch:7.4.2336
vim-patch:7.4.2333
vim-patch:7.4.2326
vim-patch:7.4.2322
vim-patch:7.4.2317
vim-patch:7.4.2315
vim-patch:8.0.0116
main: Translate full -s error message, not part of it
unittests: Add tests for new fileio functions
functests: Test -s errors
os/fileio: Fix QB failure
*: Fix linter errors
fileio,main: Do not restart syscall at EAGAIN when reading for -s
getchar: Use fileio instead of fdopen
main: Temporary fix assertion error
functests: Do not check stdout, it is different on Windows
functests: Fix testlint errors
functests: Use Neovim instance and system() in place of lua io.popen
functests: Make sure that line ending is LF and not CRLF
functests: Alter the order of checks
tests: Fix repeated_popen_r usage, rename the function
tests: Fix CI failures
functests: Check that `-s` works as expected
main: Make `-s -` read from stdin
Merge #6305 from lonerover/vim-7.4.2228
clipboard: set v:register after startup (#5708)
readfile(): Remove "Reading from stdin..." #6298
vim-patch:7.4.2255
vim-patch:7.4.2248
vim-patch:7.4.2228
vim_vsnprintf: fix conversion error #6311
test/put_spec: 2x speedup (#6294)
version.c: Add `v` prefix to NVIM_VERSION_MEDIUM (#6310)
vim-patch:7.4.2292 (#6304)
vim-patch:7.4.2249 (#6303)
os_set_cloexec: Fix condition. #5986
terminal: Support extra arguments in 'shell'. #4504
Merge #6087 from justinmk/defaults
vim-patch:7.4.2113 #6287
job-control: set CLOEXEC on pty processes. #5986
Merge pull request #6296 from FriedSock/use_handle_get_buffer_refactor
test: fix the unit test build on macOS Sierra (#6300)
Replace hashtab with handle buffer functions
doc: handle_* function declarations
defaults: 'showcmd', 'belloff', 'ruler'
Merge pull request #6292 from jszakmeister/fix-tempfile-test
unittests: avoid using pattern matching on file names
version.c: mark NA patch (#6285)
test/termclose: Avoid indeterminism (#6281)
version.c: mark NA patches (#6282)
Merge pull request #5540 from bfredl/api_since
release.sh: add api metadata fixture if api level was bumped
api: bump api level to 2
api: add detailed checks for compatibility and correct "since" value
api: implement FUNC_API_SINCE
api: add api_level_1 fixure
Merge #6254 'vim-patch:7.4.2135,7.4.2144,7.4.2151'
Merge #6252 from jamessan/vim-7.4.2069
vim-patch:7.4.2264 (#6275)
doc: eval.txt fixup, README.md
Merge #6268 from lonerover/vim-7.4.2208
vim-patch:7.4.2305
vim-patch:7.4.2208
Merge #6261 from lonerover/vim-ac80999
vim-patch:8.0.0453 (#6266)
Merge #6264 'coverity fixes'
terminal: disable 'list' by default (#6246)
Merge #6262 from justinmk/dirchanged
DirChanged: avoid redundant events on 'autochdir'
DirChanged: trigger when switching scopes
DirChanged: Publish _after_ updating win/tab CWD.
coverity/155507: remove condition where both branches were identical
tabpage_S: Name tp_localdir per convention.
Merge #6214 from ZyX-I/split-eval'/isolated-unittests
vim-patch:7.4.2196
vim-patch:7.4.2187
vim-patch:7.4.2185
vim-patch:ac80999
lint
vim-patch:7.4.2223
vim-patch:7.4.2222
vim-patch:7.4.2101
vim-patch:7.4.2069
unittests: Fix linter error
tests: Add description of test directory structure and test env vars
unittests: Allow running `ffi.cdef` in the main process
unittests: Move filtering cdefs to main process
unittests: Use more adequate names for some functions
tests: Allow lfs.attributes to be NULL when traversing FS
unittests: Fix linter errors
unittests: Update test/unit/message_spec.lua
unittests: Do not use which, add data to paths.lua.in instead
unittests: Always close all pipes
unittests: Do not import libnvim or headers in main process
unittests: Check core dumps in after_each, like in functests
unittests: Run all unit tests in their own processes
unittests: Do not run failing test at all
unittests: Fix lint errors
unittests: Allow failing test to fail
unittests: Log syscalls if requested
unittests: Use own bindings to libc syscall wrappers
unittests: Do not use syscall library: does not work well with cimport
unittests: Try using syscall library instead (ffi-based)
unittests: Pause garbage collector while executing tests
unittests: Run tests in a separate process
coverity/155501: fix bug where P_NO_DEF_EXP was ignored
coverity/133900: intitialize scalar variable in struct
win/package: nvim-qt v0.2.6 (#6258)
contrib/ycm_extra_conf.py (#6257)
test/scrollback: wiggle-room (#6256)
win: third-party: win32yank v0.0.3 (#6255)
vim-patch:8.0.0068 (#6243)
rplugin: Call s:LoadRemotePlugins() on startup.
vim-patch:7.4.2151
vim-patch:7.4.2144
vim-patch:7.4.2135
'cpoptions': "_" flag to toggle `cw` behaviour #6235
version.c: mark NA patches (#6242)
test/let_spec: self-referencing List. (#6228)
vim-patch:7.4.2299 (#6232)
Merge pull request #6225 from jamessan/vim-7.4.2051
Merge #6222 from jbradaric/vim-7.4.2220
vim-patch:7.4.2265
api: nvim_buf_set_lines(): Avoid invalid ml_get. #6019
Merge #6224 from justinmk/test-fish-backtick
lint
vim-patch:7.4.2097
vim-patch:7.4.2068
strings.c: Fix problems found during code review.
vim-patch:7.4.2220
vim-patch:7.4.2051
test: backtick expansion #6218
linter: make os_unix.c pass the linter
make backtick-expansion work with `shell=fish`
vim_getenv: $VIMRUNTIME fallback: ../share/nvim/runtime (#6223)
health.vim: tmux $TERM, default-terminal
Merge #6202 from justinmk/tui-resize-hack
ui: Fix TUI resize bug
lint
Merge pull request #6215 from jamessan/coverity-model
Merge #6209 from Shougo/vim-8.0.0319
ci: Add Coverity modeling
vim-patch:8.0.0347
vim-patch:8.0.0319
win/package: Upgrade to neovim-qt v0.2.5 (#6213)
terminal.c: Reset cursor postion when using termopen() (#6212)
doc: quotes.txt was removed
buffer.c: enable -Wconversion #3744
buffer.c: enable -Wconversion #3744
terminal: Restore settings on same window only.
vim-patch:7.4.1981 (#6192)
Merge #6194 'filtering manually folded lines'
vim-patch:8.0.0388
vim-patch:8.0.0136
vim-patch:8.0.0135
doc/api.txt: Merge with api-funcs.txt
Merge #6185 from justinmk/term-cursor
scripts: Annotate API functions in generated docs (#6199)
test: luacheck update
terminal: Avoid unnecessary redraws.
terminal: Disable some options in terminal-mode.
terminal: Keep cursor position.
Merge #6139 from justinmk/win32-runtime
vim-patch:8.0.0390 (#6197)
win/package: runtime files
win/package: cat.exe
Merge #6191 from jamessan/vim-42ebd06
test: Refactor fold tests (#5993)
vim-patch:7.4.2095
vim-patch:6f1d9a0
vim-patch:7.4.2098
vim-patch:42ebd06
Merge pull request #6190 from jamessan/vim-7.4.1991
edit.c: CTRL-SPC: Insert previously-inserted text. #6090
Merge #6148 from delftswa2017/clang-scan-fix-dead-stores
vim-patch:7.4.1994
vim-patch:7.4.1993
vim-patch:7.4.1992
man.vim: use 'eventignore' instead of :noautocmd #6149
Merge pull request #6121 from lonerover/vim-7.4.2046
build: local.mk.example: `doxygen` target (#6187)
Merge pull request #6188 from jamessan/vim-7.4.2200
vim-patch:7.4.1991
lint
vim-patch:7.4.2200
Merge pull request #6186 from jamessan/base-vim-patch
vim-patch.sh: Bump base Vim version to 7.4.1980
build: Makefile: Try other cmake names, or override. #6163
Merge #6112 from ZyX-I/split-eval'/buf_get_changedtick
Merge #6111 from ZyX-I/split-eval'/os-fileio
Merge #6142 from justinmk/term-modifiable
Merge pull request #6181 from jamessan/vim-8.0.0379
vim-patch:8.0.0379
terminal.c/redraw(): Remove cargo cult.
channel.c: logging
test: screen_setup(): Detect spawn failures, usage errors.
test: screen_setup(): Support `cols` parameter.
test/window_split_tab_spec.lua: fixup
terminal: Follow output only if cursor is at end.
terminal: 'scrollback'
options: 'scrollback'
terminal: Allow undo and 'modifiable'.
terminal: Don't redraw the entire screen when resizing (#6167)
vim-patch:7.4.2230 (#6080)
*: Fix linter errors
buffer: Hide one of the asserts from lua parser
buffer: Provide an initializer for di_key
ci: MIN_LOG_LEVEL=2 (#6169)
buffer: Remove b:changedtick from b: before freeing b:
memory: Free buffers after freeing variables
eval: Do not allocate b:changedtick dictionary item
*: Fix linter errors
api: Make sure dict_set_var doesn’t edit read-only values
api: Rename dict_set_value to dict_set_var
functests: Destroy accidental folds in api/vim_spec
eval: Remove incorrect workaround
eval: Forbid (un)locking b:changedtick
eval: Make sure `islocked('b:.changedtick')` does not error out
eval: Specify more precise len for var_check_ro in get_lval
eval: Refactor var_check_ro, tv_check_lock and var_check_fixed
functests: Add some more tests
eval: Fix memory leak
buffer: Forbid unletting b:changedtick
eval: Refactor item_lock
eval: Make sure that b:changedtick may not be unlocked via :unlo b:var
functests: Add tests
buffer: Bind b:changedtick to b:['changedtick'], remove special cases
api/buffer: Add nvim_buf_get_changedtick method
Merge pull request #5771 from brcolow/lambda
vim-patch:8.0.0341 (#6151)
terminal: Initialize colors in reverse order (#6160)
win: test: Fix closure jobs test on Windows
Merge remote-tracking branch 'origin/master' into lambda
eval: Flush buffer in write_list
strings.c: remove unused assignment
hardcopy.c: fix dead assignment
message.c: fix dead assignment by removing dead code
misc1.c: remove dead initialization
screen.c: remove dead code
screen.c: account for translated string length
strings.h: Include <stdarg.h> for vim_vsnprintf's use of va_list
string.c: Include <stdarg.h> for va_list type and va_* macros
globals.h: Avoid expression in array definition.
Merge #6137 from justinmk/cmdline-ctrl-r
cmdline: CTRL-R: Omit trailing <CR>.
cmdline: CTRL-R: <Space> instead of CR between lines.
eval.c: has("unnamedplus"). (#6136)
options: Remove 'esckeys' (#6138)
doc: README.md
doc: README.md
Merge #6110 'refactor: Move vim_*printf to strings.c'.
doc/provider: python virtualenvs #6135
Merge #6114 'Partial string handling refactoring'.
Merge #6105 from justinmk/win32-bindeps
win/CI: Cache dependencies.
win/package: Copy externals without analyzing.
win/package: nvim-qt GUI
win/package: provide common tools
win/build: Download winpty
win/build: Fix libuv recipe for Windows/NMake X86_64
win/build: detect architecture
tui.c: Handle missing "key_dc" terminfo entry (#6128)
vim-patch:7.4.2061
ex_docmd.c: Allow unescaped spaces in :edit filename (#6119)
vim-patch:7.4.2047
vim-patch:7.4.2046
vim-patch:8.0.0297
Allow lambdas to be used with jobs, timers and dictwatchers.
vim-patch:7.4.2235
vim-patch:7.4.2233
vim-patch:7.4.2197
vim-patch:7.4.2143
vim-patch:7.4.2142
vim-patch:7.4.2141
vim-patch:7.4.2139
vim-patch:7.4.2137
vim-patch:7.4.2136
vim-patch:7.4.2134
vim-patch:7.4.2121
vim-patch:7.4.2120
vim-patch:7.4.2119
vim-patch:7.4.2104
vim-patch:7.4.2096
vim-patch:7.4.2090
vim-patch:7.4.2076
vim-patch:7.4.2072
vim-patch:7.4.2044
vim-patch:7.4.2002
vim-patch:7.4.1989
vim-patch:7.4.1727
unittest: Filter out standard defines so that they do not spam stderr (#6113)
*: Fix linter errors
*: Partial string handling refactoring
strings: Fix “unexpected format specifier: %lp” ASAN error
eval: Fix linter error
Merge #6108 from ZyX-I/pr-5678
eval: Fix error messages from writefile
eval: Return immediately after an error in write_list()
Merge pull request #6118 from lonerover/vim-patch
vim-patch.sh: don't ignore runtime/doc/tagsrch.txt
api/helpers: Remove NULL dereference (#6109)
providers: Disable if `g:loaded_*` exists.
eval: Remove outdated comment
eval: writefile: Give more adequate IO errors and do not call putc()
os/fileio: Support appending to a file
os/fileio: Allow certain failures during file_fsync
message,strings: Move vim_*printf functions to strings.c
ci: Make sure core* is the last component of path
ui_detach: Do not redraw during teardown/exit.
ci: Better core dump checking
ci: Try checking for core dumps
ci: Extract prepare_build() from build_nvim()
health.vim: Do not check intentionally disabled providers.
ci: Do not use `oldtest` target on Travis. (#6101)
Merge #6106 from justinmk/health.vim
coverity/13728: Null pointer dereference (#6100)
Merge #6084 from justinmk/fix-coverity-155968
health.vim: ruby provider advice
health.vim: Reduce visual noise.
os/*: Use os_buf instead of NameBuff, IObuff.
build: `oldtest` target: TEST_FILE, NVIM_PRG (#6098)
eval: Add id() function and make printf("%p") return something useful (#6095)
doc: fr.po: fix intro typo (#6094)
eval/typval_encode: Restore original copyID (#6070)
Merge pull request #6089 from jamessan/vim-7.4.1948
doc: fr.po: Translate :intro (#6091)
Merge pull request #6076 from lonerover/vim-7.4.2275
vim-patch:7.4.1962
Re-add upstream's test_increment.vim
vim-patch:7.4.1954
vim-patch:7.4.1948
Merge pull request #5904 from lonerover/vim-7.4.2148
fix cscope test failure
vim-patch:7.4.2295
vim-patch:7.4.2175
vim-patch:7.4.2159
vim-patch:7.4.2148
Merge pull request #5877 from lonerover/vim-7.4.2082
oldtest: Add vim-default for 'backspace' to runtest.vim
vim-patch:7.4.2088
vim-patch:7.4.2087
vim-patch:7.4.2086
vim-patch:7.4.2085
vim-patch:7.4.2084
vim-patch:7.4.2082
process_spawn: Return status code (#6075)
coverity/155968: resource leak
vim-patch:7.4.2279
doc: Fix section reference (#6079)
Merge #6068 from lonerover/vim-7.4.2106
vim-patch:7.4.2275
vim-patch:7.4.2107
vim-patch:7.4.2106
Merge pull request #6064 from jamessan/patch-review-preprocess
Merge pull request #6063 from jamessan/vim-8.0.0208
vim-patch: Use get_vim_patch to retrieve patch for review
lint
vim-patch:8.0.0208
Merge pull request #6061 from justinmk/vim-ancient-bugs
Merge pull request #5913 from mhinz/buf-lookup-patches
eval: set_ref_in_item(): remove dead code
vim-patch:8.0.0275
Merge #6038 from justinmk/win32-executable
Fix clint issues
Make Nvim work with latest vim-patch v7.4.2024
vim-patch:7.4.2024
vim-patch:7.4.2023
vim-patch:7.4.2022
vim-patch:7.4.2021
vim-patch:7.4.2018
vim-patch:7.4.2017
vim-patch:8.0.0274
test: executable(): AppVeyor: Ignore "sibling" failure
refactor: fix warnings
win: executable(): full path without extension
vim-patch:8.0.0280
test: helpers.clear(): Set common env vars only if not passed.
build: Do not force busted into front of $PATH
CheckHealth: choose correct $PATH separator
win: Append process dir to $PATH
test: executable()
win: executable()
man.vim: more robust s:verify_exists #6043
test: Remove whitespace (avoid LF/CRLF discrepancy)
Revert "tui: update_size(): Fix race condition."
Revert "build: LuaRocks: require unzip (#6049)"
tests: Migrate legacy test 8. #4179
Merge #2990 'tests: Migrate legacy test 69.'
build: LuaRocks: require unzip (#6049)
tests: Modernize migrated legacy test 69.
Merge pull request #6050 from jamessan/fix-xclip-tests
tui: update_size(): Fix race condition.
Merge #5975 from jamessan/execute-with-attrs
test: Turn printargs_path into a function
test: Make xclip exit after one selection request
Merge pull request #5869 from hardenedapple/undojoin-curhead
Merge pull request #6045 from jamessan/vim-a02a551
vim-patch:063b9d1
Run cleanup.vim on {eo,fr}.po
vim-patch:e18dbe8
vim-patch:802a0d9
vim-patch:a02a551
test: execute() + :redir
execute: Correctly capture output with highlight attributes
doc: QuickBuild
xstrlcat: Allow overlapped pointers. (#6017)
undo: :earlier, g-: Set b_u_seq_cur correctly. (#6016)
man.vim: get page after opening split (#6032)
man.vim: remove terminal escape characters (#6033)
dist: runtime/nvim.desktop
eval.c: Fix findfile(), :find, gf in :terminal. #6009
defaults: Revert 'mouse=a' (#6022)
Merge pull request #6012 from jamessan/override-TI-cursor-normal
refactor: Remove strncpy/STRNCPY. (#6008)
build: Disable jemalloc for FreeBSD. (#6007)
tui: Ignore DECRST 12 in terminfo's cursor_normal, if present
test: Fix broken test.
Merge #5964 from equalsraf/windows-clipboard
ci: XXX: Disable "throttle" test on Travis macOS.
Merge #5996 from justinmk/coverity-133845
clint.py: Suggest xstrlcat instead of strcat.
refactor: Replace vim_strcat() with xstrlcat().
coverity/133853: Out-of-bounds access
coverity/155512: Pass correct length to strncat()
coverity/133845: Negative array index read. (FP)
errors: Introduce "E856: Filename too long"
add_pathsep(): Return false if filename is too long.
refactor: strlcat instead of str{n}cat.
Merge #5995 from ZyX-I/coverity-fixes
coverity/133898: Fix sizeof argument
ex_cmds: Also pass correct length in windows code
coverity/155511: Pass correct length argument to strncat()
coverity/155512: Pass correct length to strncat()
coverity/155513: Do not assume xcalloc can return NULL
Don't set b_u_curhead in ex_undojoin()
version.c: update
test: Avoid Lua closure limit.
Merge #5782 'Visual-mode put from @. register'
readfile(): Fix read-after-free.
test: expand_env_esc()
win: test: Enable jobstart() 'shell' test. (#5983)
Merge #5977 from justinmk/tui-cursor-shape
Windows: Install runtime dependencies with Neovim binary
Enable clipboard provider tests in Windows
third-party: Add helper to fetch binary dependencies
Windows: Clipboard provider win32yank
tui: Enable mode-sensitive cursor by default.
input_enqueue(): Fix length calculation. (#5981)
vim-patch:7.4.2049,7.4.2050,7.4.2064,7.4.2067,7.4.2081 (#5969)
tui: Do not decide cursor blinking.
test/timer_spec.lua: Relax expected count.
ci: Disable "CTRL-C interrupts :global" test
Merge #5937 from justinmk/win32-test
Merge #5865 from lonerover/vim-7.4.2036
win: test: XXX: Disable some tests.
win: fix warnings
win: test: enable job_spec.lua
buffer.c: use a map instead of hashtab
vim-patch:7.4.2081
vim-patch:7.4.2067
vim-patch:7.4.2064
vim-patch:7.4.2050
vim-patch:7.4.2049
Merge pull request #5963 from jamessan/screen-expect-clarity
test: nvim_ui_attach() with huge dimensions. (#5974)
test: screen_basic: Re-enable min width/height test
test: screen: Assert expected row count matches configured screen height
put fixup, esp. ". register close #5709 #5781
win: Define USE_FNAME_CASE (#5962)
DirChanged: set <amatch> (#5961)
vim-patch:7.4.2062 (#5954)
Merge #5928 'New event: DirChanged'
vim-patch:7.4.2031 (#5955)
readfile(): Avoid file message when reading from stdin. #5956
Merge #5918 'vim-patch: 7.4.2006, 7.4.2075, 7.4.2077, 7.4.2117, 7.4.2300, 7.4.2313, 7.4.2314'.
vim-patch:7.4.2099 (#5951)
setpos(): Set lowercase mark in other buffers (#5753)
win: ci/AppVeyor: Rearrange PATH setup for python. (#5946)
vim-patch:7.4.2065 (#5950)
test: fix syntax error
vim-patch:7.4.2160 (#5952)
vim-patch:7.4.1968 (#5949)
vim-patch:7.4.1910 (#5948)
vim-patch:7.4.1851 (#5947)
Merge pull request #5940 from jamessan/master
job: Consume content from rbuffer before invoking the callback again
Merge #5936 from blueyed/vim-8.0.0121
Merge pull request #5941 from blueyed/better-clint-note
Linting
vim-patch:8.0.0121
src/clint.py: improve "Ignoring" message
Rename yank_do_autocmd() to do_autocmd_textyankpost()
Document DirChanged
Move apply_autocmd_dirchanged() to vim_chdir()
Add autocmd/dirchanged_spec.lua
Trigger DirChanged on 'autochdir'
Don't expand filenames during autocmd
New event: DirChanged
Merge #5933 from justinmk/dir-bufenter
Windows: enable more tests
test: BufEnter
lint
Merge pull request #5935 from jamessan/dictwatcher-crash
open_buffer(): Do `BufEnter` for directories.
eval: Remove dictwatcher from watchers queue before freeing it
Merge pull request #5932 from jamessan/icm-fixes
inccommand: Preview :sub commands only after the delimiter is present
inccommand: Suppress error reporting when previewing commands
Windows: vim_getenv(): Find runtime relative to nvim. #3303 (#5929)
Merge #5910 from justinmk/win32-jobstart
test: system([...]): v:shell_error
system([...]): Set v:shell_error=-1 if not executable.
Windows: ci/AppVeyor: Enable Python provider tests
test: system([...])
clipboard: only check for pbcopy on macOS (#5927)
terminal.c: label fallthrough on big switch
terminal.c: handle ctrl+space and ctrl+@
terminal.c: add more arrow key support
terminal.c: move mod logic into convert_modifiers
terminal.c: Handle more special keys
Windows: libuv_process_spawn(): Allow libuv argument quoting/escaping.
Merge pull request #5924 from jamessan/vim-7.4.2100
lint
vim-patch:7.4.2100
Merge pull request #5863 from ZyX-I/more-clint-checks
Merge pull request #5919 from jamessan/vim-7.4.2008
lint
vim-patch:7.4.2009
vim-patch:7.4.2008
Merge pull request #5862 from jamessan/vim-aa3b15d
vim-patch:c95a302
vim-patch:7.4.1925
vim-patch:82af871
vim-patch:aa3b15d
Merge pull request #5860 from jamessan/vim-7.4.1889
fix test failure
vim-patch:7.4.2314
vim-patch:7.4.2313
vim-patch:7.4.2300
vim-patch:7.4.2117
process_wait(): Avoid dereference after LOOP_PROCESS_EVENTS. (#5917)
Merge #5519 from blueyed/improve-python-health-check
health: completion for :CheckHealth
healthcheck: s:download: do not report curl errors (twice)
healthcheck: s:check_python: only report latest with good response
healthcheck: python: prefer neovim.VERSION
healthcheck: python: include nvim path for unknown/outdated version
Improve error reporting for Python health check
s:check_python: handle 'pip install --user -e'
health: Windows: Handle backslash path separators. (#5914)
vim-patch:7.4.2077
vim-patch:7.4.2075
vim-patch:7.4.2006
Merge #5909 from justinmk/win32-xdg
test: Windows: Re-enable shada functional tests
XDG: Windows: resolve $LOCALAPPDATA, $TEMP (#5278)
ruby: old versions don't know `gem list -e`
Merge #5079 from ZyX-I/shada-save-current-pos
Merge #5903 from ZyX-I/fix-5901
unittest: Fix linter errors
unittest,memory: Fix tests
health: refactor s:check_ruby()
memory: Document new additions to memory.h
memory: Restore entered_free_all_mem functionality
eval: Fix failing test
unittest: Add failing test for freeing dictionaries in a list
unittest: Add dict_items function
eval: Make sure that copyID is reset when needed
eval/typval_encode.h: Use only a single macros with _INNER[_2] hack
unittest: Add failing test of freeing lists
unittest: Allow mocking allocator calls
Merge pull request #5826 from ZyX-I/fix-typval_encode
eval: Fix typo
functests: Add tests for new fixes
eval/typval_encode: Dump empty dictionary before checking for refcycle
eval: Work with reference cycles in partials (self) properly
eval/typval_encode: Use TYPVAL_ENCODE_CONV_EMPTY_DICT for partials
eval/typval_encode.h: Remove documentation that is located in *.c.h
eval.c: filter_map(): avoid maybe-uninitialized warning (#5897)
Merge pull request #5893 from lonerover/vim-7.4.2127
Merge pull request #5892 from lonerover/vim-7.4.2103
fix lint error
time.c: os_microdelay(): Let input cancel the delay. #5830
man.vim: Avoid empty argument when MANWIDTH is set. (#5882)
clint: Add more exceptions to “space after a cast” rule
shada: Mark ALWAYS_INLINE function as `inline`
provider: add Python 3.6 (#5886)
path.c: `vim_FullName()`: Fix heap overflow #5737
vim-patch:7.4.2127
vim-patch:7.4.2110 (#5880)
vim-patch:7.4.2103
Merge #5874 from ZyX-I/fix-5482
*: Remove `// fname()` comments near typval_encode includes
eval/encode: Always check the return value of encode_vim_to_\*
provider/clipboard.vim: fallback if xsel is broken (#5868)
shada: Move setpcmark()/cleanup_jumplist() out of the cycle
shada: Fix offset saving
shada: Silence linter
shada: Save current cursor position before saving jumps
version.c: update (#5876)
Merge #5749 from justinmk/test-ctrl-c
plugin/shada: Handle NUL characters with intchar correctly
man.vim: do not set ft=man on files with extension man (#5831)
plugin/msgpack: Support character constants like '\0'
doc: Document that character constants are supported
Merge #5872 justinmk/test_autochdir
Merge #5864 from ZyX-I/fix-5857
test/helpers.rmdir(): Windows: Change to top-level dir on failure.
refactor: Remove VimL function `test()`
refactor: Remove VimL function `test_autochdir()`
vim-patch:7.4.2043 (#5871)
test: skip_fragile(), TEST_SKIP_FRAGILE
test: ctrl_c_spec
fix lint error
clipboard: show error message only once and put in history (#5870)
syntax/ruby.vim, perl.vim: Preserve 'foldmethod'. (#5858)
unittests: Fix linter errors
unittest: Fix linter errors
unittest: Refactor preprocess.lua
unittest: Move nil checks to Gcc:preprocess
unittest: Record previous defines in another place
unittest: Allow multiple indirect includes
tests: Add tests for partials dumping
Merge pull request #5835 from lonerover/vim-7.4.1847
fix lint error
vim-patch:7.4.1847
eval: Fix errorneous early exit when converting lists and dictionaries
eval/encode: Fail when stringifying NULL functions
automation: Generate API documentation (#5798)
vim-patch:7.4.2036
eval/typval_encode: Handle NULL partials properly
eval/typval_encode: Provide proper values as dict argument
eval: Fix unused variable error in release builds
clint: Check for misplaced brace at function start
clint: Enable check for `{` positioned at the start of the line correctly
eval/encode: Fix 4 new linter failures
eval/typval_encode: Refactor arguments to argument macroses
eval: Do not free partial contents if partial is still referenced
eval/typval_encode: Rename some \*tv variables
eval: Do not free partial lists as lists
eval: Fix case when cur_mpsv is NULL
eval/typval_encode: Fix infinite loop
api/helpers: Fix unused variable error in release build
eval/typval_encode: Fix linter errors
clint: Allow including .c.h files multiple times
eval/typval_encode: Fix crashes
eval/typval_encode: Refactor big-big macros into .c.h file
eval/typval_encode: Make partial conversions not recursive
vim-patch:7.4.1889
Merge pull request #5743 from jamessan/na-vim-patches
lint
Mark 'execute()' patches applied
vim-patch:7.4.1861
vim-patch:7.4.1839
vim-patch:7.4.1781
vim-patch:7.4.1656
version.c: Mark NA patches
Merge pull request #5859 from jamessan/vim-7.4.1866
vim-patch:7.4.1868
vim-patch:7.4.1866
vim-patch:6f1d9a
vim-patch:7.4.2015
Merge pull request #5613 from jamessan/vim-7.4.2183
Merge #5855 from lonerover/vim-7.4.2019
vim-patch:7.4.2028
vim-patch:7.4.1834 (#5854)
man.vim: remove newline from man errors (#5852)
vim-patch:7.4.2019
Merge #5804 from brcolow/vim-7.4.1793
vim-patch:7.4.1785
vim-patch:7.4.1783
vim-patch:7.4.1793
vim-patch:7.4.1970 (#5850)
vim-patch:7.4.1940 (#5849)
vim-patch:7.4.1876 (#5848)
test: jobclose(): Avoid indeterminism. (#5851)
Tests: make unit tests work on macOS Sierra
lint
vim-patch:7.4.2294
vim-patch:7.4.2277
vim-patch:7.4.2273
vim-patch:7.4.2272
vim-patch:7.4.2226
vim-patch:7.4.2225
vim-patch:7.4.2215
vim-patch:0952131
vim-patch:7.4.2204
vim-patch:7.4.2201
vim-patch:7.4.2194
vim-patch:7.4.2183
vim-patch:7.4.2149
Merge pull request #5827 from justinmk/travisupdate
Merge pull request #5838 from mhinz/travis/allowed-failure
man.vim: revert "completion now respects 'wildignorecase'" (#5839)
CI: allow GCOV build to fail
ci: Upgrade pip3 (instead of install)
ci: Install cscope, remove deadsnakes PPA
ci: Upgrade to ubuntu 14.04 "trusty"
vim-patch:7.4.1837 (#5834)
man.vim, provider.vim: Avoid shell syntax. #5734
Merge #5832 from nhooyr/man-complete
man.vim: properly handle manpage names with spaces
man.vim: completion now respects 'wildignorecase'
Merge pull request #5761 from jamessan/vim-7.4.1752
lint
vim-patch:8.0.0006
vim-patch:7.4.2010
vim-patch:7.4.1997
vim-patch:7.4.1984
vim-patch:7.4.1980
vim-patch:7.4.1966
vim-patch:7.4.1964
vim-patch:7.4.1953
vim-patch:7.4.1950
vim-patch:7.4.1949
vim-patch:7.4.1941
vim-patch:7.4.1937
vim-patch:7.4.1912
vim-patch:7.4.1884
vim-patch:7.4.1882
vim-patch:7.4.1881
vim-patch:7.4.1871
vim-patch:7.4.1841
vim-patch:7.4.1823
vim-patch:7.4.1815
vim-patch:7.4.1813
vim-patch:7.4.1802
vim-patch:7.4.1768
vim-patch:7.4.1752
test: quickfix: Move upstream vim quickfix test to src/nvim/testdir
Clipboard: improve error messages
vim-patch:7.4.1816 (#5833)
man.vim: when completing a fpage, always show section
vim-patch:0 completion-related patches #5745 #5829
Merge #5815 from lonerover/vim-7.4.2124
vim-patch:7.4.1780 (#5828)
Merge pull request #5818 from jamessan/typval-encode-partial
build: Do not check for obsolete <termio.h>
build: Support old libtermkey.
eval: encode: Fix NULL check for partial's name
Merge #5758 from justinmk/fixkbs
CheckHealth: terminfo: remove "kbs" advice
test: job_spec: Avoid unreliable screen test.
tui: check stty/termios for kbs
vim-patch:7.4.2126
vim-patch:7.4.2124
Merge pull request #5810 from lonerover/vim-7.4.2123
Merge pull request #5809 from lonerover/vim-7.4.2335
Merge pull request #5807 from mhinz/fix/vim-patch
vim-patch:7.4.2123
vim-patch: fix default answers
vim-patch:7.4.2335
syntax/vim.vim: Remove external interface checks (#5785)
Merge pull request #5779 from lonerover/vim-7.4.2337
vim-patch:7.4.2337
Merge pull request #5775 from jamessan/vim-patch-review
Man: use non-recursive mappings for :Man (#5777)
vim-patch: Allow skipping non-"vim-patch" commits during review
Merge #5772 from justinmk/fixsegfault
Merge pull request #5770 from jamessan/shada-lint
doc: job_control.txt
eval.c: set_selfdict(): Fix invalid memory access.
shada: Move '%' handling from shada_write to its own function
Merge pull request #5760 from jamessan/shada-percent-count
Make VimL code compatible with merged Partial support (#5765)
Merge pull request #5764 from jamessan/get-vim-patch
vim-patch: Add -g switch to download/preprocess patch
shada: Respect the optional buffer count for shada-%
Merge pull request #5529 from brcolow/vim-7.4.1559
Add some tests and cleanup.
Make partials work with jobs, timers, and dictwatchers.
Fixes.
vim-patch:7.4.1731 Mark as NA
vim-patch:7.4.1875
vim-patch:7.4.1862 Mark as NA
vim-patch:7.4.1860
vim-patch:7.4.1842
vim-patch:7.4.1839
vim-patch:7.4.1836
vim-patch:7.4.1720 Mark as NA
vim-patch:7.4.1719
vim-patch:7.4.1718
vim-patch:7.4.1715
vim-patch:7.4.1645
vim-patch:7.4.1644 Mark as NA
vim-patch:7.4.1639
vim-patch:7.4.1638
vim-patch:7.4.1608
vim-patch:7.4.1607
vim-patch:7.4.1606
vim-patch:7.4.1605
vim-patch:7.4.1590
vim-patch:7.4.1589
vim-patch:7.4.1586
vim-patch:7.4.1585
vim-patch:7.4.1582
vim-patch:7.4.1581
vim-patch:7.4.1580
vim-patch:7.4.1577
vim-patch:7.4.1564
vim-patch:7.4.1563
vim-patch:7.4.1559
Merge pull request #5756 from jamessan/viminfo-leak
Merge pull request #5757 from jamessan/vim-7.4.1867
vim-patch:7.4.1867
option.c: Update free_oldval after adjusting opt_idx for shada/viminfo
Merge #5752 from justinmk/doc
Merge #5750 from justinmk/jobstart
doc: README.md: update appveyor URL
CheckHealth: more precise check for sensible.vim
po: Remove E902 message
test: jobstart()
jobstart(): Return -1 if cmd is not executable. #5671
ex_docmd.c: Save/restore winminheight/winminwidth. #5717
vim-patch:7.4.1909 (#5748)
vim-patch:7.4.1897 (#5747)
Merge #5396 from justinmk/tui-throttle
out_data_decide_throttle(): timeout instead of hard limit.
out_data_decide_throttle(): Avoid too-small final chunk.
os/shell: do_os_system(): Always show last chunk.
Health: rework syntax (#5744)
os/shell: Throttle :! output, pulse "..." message.
tui: "backpressure": Drop messages to avoid flooding.
vim-patch:7.4.1758, 7.4.1759, 7.4.1692 #5640
ci: Update appveyor artifact path.
Health: match syntax keyword case exactly (#5741)
Merge pull request #5736 from jamessan/vim-7.4.1754
Remove g:python{,3}_host_skip_check (#5738)
Merge pull request #5705 from brcolow/vim-7.4.1835
lint
vim-patch:7.4.1754
Merge pull request #5659 from brcolow/vim-7.4.1685
syntax.c: Update color names. (#5733)
Merge #5488 from justinmk/test-fix-mouse-drag
Merge #5729 from jamessan/vim-7.4.1751
test: Handle SIGHUP in tty-test fixture.
test: Disable unreliable tests on travis+ASAN_UBSAN
lint
test: helpers.retry()
vim-patch:8d8aa0a
vim-patch:7.4.1751
Merge pull request #5712 from bfredl/utf8charset
doc: 'shelltemp'
mbyte: clean up charset.c for assumed encoding=utf-8
vim-patch:8.0.0040
vim-patch:8.0.0033
Add vim defaults to runtest.vim.
vim-patch:7.4.2269
vim-patch:7.4.2217
vim-patch:7.4.2163
vim-patch:7.4.1685
Merge pull request #5721 from jamessan/vim-7.4.1708
vim-patch:7.4.1708
Health: show :help + tags (#5719)
Merge pull request #5715 from equal-l2/change-lua-url
Merge pull request #5707 from jamessan/moar-cleaning
Merge pull request #5716 from jamessan/fix-man-plugin
ftplugin/man: Finish early if &filetype is not man
Change Lua's download URL
vim-patch:8.0.0110 (#5700)
Merge #5704 from jamessan/vim-7.4.1748
build: Make clean targets more thorough
lint
vim-patch:f9660b5
vim-patch:7.4.1748
vim-patch:7.4.1956
vim-patch:7.4.1835
doc: Remove obsolete reference to `rgb_file`.
Merge pull request #5675 from brcolow/vim-7.4.1738
Merge pull request #5663 from brcolow/vim-7.4.1702
vim-patch:7.4.1702
vim-patch:7.4.1739
Merge pull request #5674 from brcolow/vim-7.4.1723
Merge pull request #5665 from brcolow/vim-7.4.1711
Merge PR #5651 from mhinz/vv/exitval
Tests: add tests for v:exiting
Add v:exiting
Merge pull request #5664 from brcolow/vim-7.4.1707
Merge pull request #5669 from chemzqm/add-cmdline-mode-rpc
Merge pull request #5662 from brcolow/vim-7.4.1701
Merge pull request #5648 from brcolow/vim-7.4.2071
add cmdline mode to modechange of RPC and tests
vim-patch:7.4.1738
vim-patch:7.4.1735
version.c: mark NA patches (#5657)
Merge #5643 from Shougo/vim-7.4.1686
vim-patch:7.4.1699 (#5660)
vim-patch:7.4.2071
Merge pull request #5687 from jamessan/if_py-crash
msgpack_rpc: Allocate empty string in msgpack_rpc_to_object
Merge pull request #5684 from jamessan/initialize-terminput-buf
rbuffer: Use xcalloc to ensure memory is initialized
startup: Initialize v:count1 (#5656)
version bump
NVIM v0.1.7
vim-patch:7.4.1723
shell_write_cb: Schedule error message. (#5670)
vim-patch:7.4.1711
vim-patch:7.4.1707
Merge pull request #5666 from bfredl/modechangetest
vim-patch:7.4.2086
ui: add tests for ui_mode_change
vim-patch:7.4.1701
vim-patch:7.4.2007
Merge pull request #5595 from jamessan/tsan-pie
Merge pull request #5654 from brcolow/vim-7.4.1923
Merge pull request #5644 from Shougo/vim-7.4.1691
Merge pull request #5642 from Shougo/vim-7.4.1660
Merge pull request #5641 from Shougo/vim-7.4.1696
Avoid serializing NULL string through msgpack
Move utf8len_tab definition to globals.h
ci: Make ubsan print out a stacktrace when it finds a problem
tsan: Compile with -fPIE and force clang-3.8
vim-patch:7.4.1923
vim-patch:7.4.1691
vim-patch:7.4.1696
vim-patch:7.4.1928 (#5653)
vim-patch:7.4.1686
vim-patch:7.4.1660
build: Upgrade jemalloc from 4.2.1 to 4.3.1. (#5636)
Merge pull request #5632 from jamessan/vim-8.0.0056
vim-patch:8.0.0057
vim-patch:8.0.0056
Merge #5630 from nhooyr/man-ftplugin
man.vim: do not assume ftplugin is sourced before syntax
man.vim: no guarantee that the first line contains anything useful
Merge pull request #5624 from bfredl/jobcloseterm
l10n: Remove some non-UTF8 .po files. (#5622)
jobs: ensure calling jobclose() on a pty job sends SIGHUP. Closes #5619
Merge pull request #5623 from justinmk/luacheck
build: Target luacheck HEAD.
build: cmake: Use portable delimiters. (#5620)
l10n: Update Ukrainian translation (#5567)
Merge pull request #5600 from jamessan/vim-7.4.1640
Merge pull request #5614 from Shougo/vim-7.4.2251
lint
Mark 7.4.1697 as applied
vim-patch:7.4.1664
vim-patch:7.4.1650
vim-patch:7.4.1647
Bump all nvim-specific error codes above E5000
vim-patch:7.4.1640
Merge pull request #5615 from jamessan/vim-7.4.1892
vim-patch:7.4.1894
vim-patch:7.4.1892
vim-patch:7.4.2251
Merge pull request #5611 from jamessan/vim-7.4.2174
vim-patch:8.0.0035 (#5609)
lint
vim-patch:7.4.2174
vim-patch.sh: Remove "set -o pipefail"
CheckHealth: Fix version comparison.
Merge #5607 from justinmk/icm
'inccommand': Add tests.
'inccommand': Introduce CMDPREVIEW state.
inccommand=nosplit: Jump to first match.
'inccommand': Detect "non-interactive", "too slow".
Merge pull request #5606 from jamessan/vim-7.4.1658
lint
vim-patch:7.4.1658
Merge pull request #5603 from jamessan/remove-flaky-term-resize-test
test: window_spec: Remove flaky terminal resize test
Merge #5582 from justinmk/icm
CheckHealth: Include v:throwpoint in error message (#5575)
vim-patch:7.4.1634 (#5594)
vim-patch:7.4.1614 (#5593)
Merge pull request #5592 from jamessan/vim-7.4.1591
vim-patch:7.4.1591
'inccommand': Simplify cursor placement logic.
'inccommand': Restore cursor/view if cancelled.
'inccommand': buftype=nofile, restore cursor/view
Merge #5561 'inccommand'
'inccommand': Preserve curbuf->b_u_newhead.
perf: do_sub(): avoid work, avoid screen updates
'inccommand': preserve 'modified'
'inccommand': Do not trigger during scripts, feedkeys().
'inccommand': test: scripts/feedkeys() should not trigger preview
'inccommand': rename 'incsubstitute'
'inccommand': format line numbers as "|123| "
'inccommand': set buffer name to [Preview]
'inccommand': disable 'cursorline', 'spell' in preview
'inccommand': preserve b:changedtick
lint
'inccommand': rework
CheckHealth: ignore non-existing markdownCodeBlock group (#5570)
CheckHealth: timeout system() calls (#5565)
Merge pull request #2905 from bfredl/utf8
encoding: update documentation
encoding: update tests
encoding: delete non-UTF-8 implementations of multibyte functions
encoding: cleanup mbyte.c given fixed encoding=utf-8
encoding: only allow encoding=utf-8
Health: introduce help links (#5557)
Merge pull request #5524 from brcolow/vim-7.4.1967
vim-patch:7.4.1967
Merge pull request #5550 from jamessan/big-endian-fixes
lint
nvim_win_get_number: Use int as rv to fix BE issues
object_to_vim: Fix buffer/window/tabpage conversion on BE systems
Use int as the standard type for boolean options.
Merge #5542 from mhinz/health/clipboard
provider/clipboard.vim: never show a warning on sourcing
health/provider.vim: add clipboard check
provider/clipboard.vim: refactor
tui/suspend_event(): set STDIN to "blocking"
doc: Remove features from vim_diff which have been merged upstream (#5554)
doc/api: Closes #1842
Merge pull request #5527 from brcolow/vim-7.4.1730
doc: eval/typval_encode.h
Merge #5546 from justinmk/global-ctrlc
lint
ex_global: Catch CTRL-C even if it is mapped.
Linted
Tests for incsubstitution feature
Incsubsitution feature
Merge pull request #5543 from jamessan/fix-shada-marks-test
CheckHealth: fix check for tmux escape-time (#5545)
test: Fix shada/marks_spec.lua failure
version bump
NVIM v0.1.6
Merge #5535 from justinmk/api_level
api: api_info()['version']
CheckHealth: check for sensible.vim
api: Nvim version, API level #5386
Merge #5500
test: Add missing test from vim-patch:7.4.2312
vim-patch:7.4.2128 (#5517)
modeline: Handle version number overflow. #5450
vim-patch:7.4.2109 (#5518)
Merge #5530 from justinmk/checkhealth
list_features(): Hack around infinite loop.
CheckHealth: more checks
version: Allow has("nvim-x"), has("nvim-x.y")
version: has("nvim-1.2.3")
vim-patch:7.4.1782
doc; vim-patch.sh
Merge #5483 from Shougo/vim-0648142
vim-patch:7.4.1779
vim-patch:7.4.1742
vim-patch:7.4.1741
vim-patch:7.4.1734
vim-patch:7.4.1730
test/api: Specify handling of VimL errors, v:errmsg.
Fix lint errors.
vim-patch:7.4.2312
vim-patch:7.4.2309
vim-patch:7.4.2237
Merge #5523 from justinmk/test-system
test: system(): Avoid indeterminism.
api: documentation
vim-patch:7.4.2212
Merge #5499 from tweekmonster/vim-8.0.0041
vim-patch:7.4.2227 (#5521)
vim-patch:8.0.0043
vim-patch:8.0.0042
vim-patch:8.0.0041
Merge pull request #4568 from bfredl/multirequest
api: call multiple methods atomically (useful in async contexts)
vim-patch: mark applied #5381
os_nodetype: open fd with O_NONBLOCK (#5515)
[RFC] vim-patch:7.4.1704 (#5487)
test: :terminal should not interrupt Press-ENTER
Merge pull request #5441 from Shougo/vim-7.4.1588
Merge pull request #5440 from Shougo/vim-7.4.1565
Merge pull request #5503 from jamessan/vim-7.4.1494
man.vim: silence `file` call (#5509)
Merge pull request #5507 from bfredl/terminal_api
tests: fix racyness in terminal/api_spec.lua
Merge pull request #5393 from bfredl/dispatchfix
api: move verbatim c code out of gendispatch.lua and into c files
folds: Do not auto-update folds for some foldmethods. #5426
Merge #5502 from justinmk/error-write-to-bg-process
system('foo &', 'bar'): Show error, don't crash.
test: system(): backgrounded shell command
rplugin: resolve paths in manifest file (#5501)
hist_char2type: Return '/' for NUL.
vim-patch:7.4.1494
Doc: Ruby omni-completion works (#5497)
Merge #5493 from justinmk/checkhealth
CheckHealth: check terminfo
CheckHealth: check tmux configuration
doc
Revert "Makefile: add PREFIX variable"
test: execute_spec: Adjust screen assertion.
vim-patch: 7.4.1619 (#5475)
vim-patch:7.4.1833 (#5484)
Merge pull request #5424 from jamessan/win-tab-nr
Merge pull request #5456 from jamessan/char-sign-conversion
Merge pull request #5384 from bfredl/getchar_event
events: allow event processing in getchar()
vim-patch:7.4.1565
vim-patch:269f595
vim-patch:2685212
vim-patch:06d2d38
vim-patch:91c4937
vim-patch:0648142
vim-patch:7.4.1588
startup: Remove 'N files to edit' message. #5481
health/provider.vim: Pass errors through. Give more feedback.
Revert "tui: Move ui_bridge module to tui/ namespace."
health/provider.vim: Fix system([]) invocations.
test/tui_spec: Force LANG=C
Merge #5257 from jbradaric/vim-7.4.1893
Merge #5418 from Shougo/vim-7.4.2158
Merge #5427 from Shougo/vim-7.4.1714
Merge #5470 from justinmk/pr5445
doc
doc
vim-patch:7.4.2274 (#5439)
ui: Blank the next cell for any multi-cell character
main.c: "BufReadCmd term://": Skip existing terminal.
Merge pull request #5461 from jamessan/emoji-ui-regression
terminal: Move re-edit detection to do_ecmd(). #5445
Merge pull request #5467 from jszakmeister/prevent-in-tree-builds
Merge pull request #5466 from jszakmeister/fix-generated-files-for-in-tree-build
Merge #5463 from justinmk/te-skip-writes
eval/term_write(): Skip writes if stream was closed.
test/terminal: Cover race when :term shell process exits.
build: fix generated file paths when building in-tree
build: prevent in-tree builds for the time being, as it's not supported
UpdateRemotePlugins: Discard duplicate paths. (#5464)
ui: Fix the call to utf_ambiguous_width
Merge pull request #5457 from jamessan/wincmd-count
window: Fix cmd_with_count's formatting when sizeof(long) != 8
lint
if_cscope: Fix conversion warnings when char defaults to unsigned
Change constack.cs_flags from char to int
ci: Force unsigned char usage for the 32bit build
Merge pull request #5411 from P4Cu/vim-7.4.1549
Merge pull request #5447 from mhinz/makefile/add-prefix
Merge pull request #5451 from jamessan/set-username-hostname
config: Allow setting USERNAME/HOSTNAME from the environment
Makefile: add PREFIX variable
Merge #5428 'vim-patch: 0c1ff16, 939a1ab, 8067a64'.
CheckHealth: choose correct path for the latest version (#5446)
hardcopy.c: Fix -Wmaybe-uninitialized warning.
lint: Removing dead initializations #5410
server_requests_spec: Expect correct window ID.
eval: Exit early if argument is invalid.
vim-patch:7.4.1895
vim-patch:7.4.1893
Merge #5444 from malept/dont-hardcode-python3-in-checkhealth
health: fix Python 2 variable names
health: remove duplicate nvim_path declaration
version.c: mark NA patches (#5380)
tui/flush_buf: Don't toggle cursor when called from out() #5436
doc/vim_diff.txt (#5432)
api: Support getting the number of a window/tabpage
Merge pull request #5366 from NovaDev94/vim-7.4.1740
vim-patch:0c1ff16
vim-patch:939a1ab
vim-patch:8067a64
vim-patch:7.4.1765
vim-patch:7.4.1714
tui/terminfo_start: Default to normal-mode cursor shape. (#5419)
ci: .travis.yml: Minimize scope of osx_image directive. (#5420)
event/multiqueue.c: Rename "queue" to "multiqueue".
vim-patch:7.4.2205
vim-patch:7.4.2162
vim-patch:7.4.2158
vim-patch:7.4.1549
Merge pull request #5409 from jamessan/toplevel-state
Correct logic for setting NormalState.toplevel
Merge pull request #5358 from jbradaric/vim-7.4.1679
vim-patch:7.4.1681
vim-patch:7.4.1679
vim-patch:7.4.1648
Merge #5395 from justinmk/log
log.c: align/adjust layout
tui: Move ui_bridge module to tui/ namespace.
doc: minor comment tweaks
Merge pull request #5389 from bfredl/apifix
Merge pull request #5357 from jbradaric/vim-7.4.1671
Merge pull request #5261 from jbradaric/vim-7.4.1961
api: add blanket implementation of "since"
api: define the set of function attributes to expose in the metadata
api: restore old return type of deprecated ui_try_resize method
Merge pull request #5356 from jbradaric/vim-7.4.1670
Merge pull request #5372 from jamessan/vim-7.4.1604
vim-patch:7.4.1821
vim-patch:7.4.1820
vim-patch:7.4.1818
vim-patch:7.4.1671
option.c: Fix linter errors.
vim-patch:7.4.1961
genunicodetables: Give the unicode directory as the first argument
vim-patch:7.4.1697
lint
vim-patch:7.4.1642
vim-patch:7.4.1630
vim-patch:7.4.1629
vim-patch:7.4.1620
Update unicode files
vim-patch:7.4.1604
tui.c: Do not wait for tui loop on teardown. (#4789)
doc/deprecated.txt (#5338)
runtest.vim: Fix spelling of s:flaky
Merge branch 'jamessan/vim-019b9c6'
vim-patch:019b9c6
ci: .travis.yml: Upgrade to macOS 10.11 / xcode7.3 (#5378)
Merge #4972 from justinmk/schedule-ui_refresh
ui_detach: Schedule refresh on main loop.
test: api_spec
Merge pull request #5369 from jamessan/vim-patch-preprocessing
vim-patch: Group alternations in preprocess_patch
runtest.vim: Fix spelling of (s:)messages
vim-patch:7.4.1740
Merge pull request #5368 from jamessan/vim-7.4.1309
vim-patch:7.4.1309
Merge pull request #5038 from prollings/vim-7.4.1477
l10n: Update Ukrainian translation (#5343)
Merge #5362 from justinmk/testcleanup
test: legacy/012_directory_spec: Also use dot-prefix on Windows.
test/helpers.rmdir(): lfs.rmdir() instead of os.remove()
test/helpers.rmdir(): Retry once after a delay.
Merge pull request #4739 from brcolow/vim-7.4.1266
vim-patch 7.4.1266
vim-patch:7.4.1670
tests: migrate legacy test 12. #4196
version.c: mark NA patches #5335
Merge #5254 from KillTheMule/vim-7.4.1952
insert_enter: Update folds on insert-leave. #5351
eval.c: Clean up spurious FAIL checks. (#5345)
vim-patch:7.4.2284
api: Establish API naming convention. (#5344)
Merge #5326 'vim-patch:7.4.1547'
test: synIDattr returns empty, not -1
vim-patch:7.4.1547 #5326
perf: Skip foldUpdate() in insert-mode. #5299
syntax.c: Support bg/fg special color-names. #5319
Merge pull request #5336 from bfredl/del_var
api: make nvim[_obj]_set_var and _del_var not return the old value
gendispatch: warn for deprecated alias if the deprecated function has implemation
Merge #5339 from jamessan/stray-test-processes
Restore output_spec assertion dropped in f332eba
tests/ui: Stop the terminal job after testing
api: remove unnecessary initializations causing warnings in api dispatch (#5337)
Merge #5329 from justinmk/remove-misc2
read_string: Use char if you mean char.
refactor: eliminate misc2.c
vim-patch:7.4.1558 (#5333)
Merge 'vim-patch.sh'
vim-patch.sh: Use printf instead of echo
vim-patch.sh: preprocess_patch()
Merge #4874 'Restore vim-like tab dragging'
CI: Travis macOS: Skip tab left-drag tests.
CI: test: Avoid QuickBuild hang. (#5330)
normal.c: Restore vim-like tab dragging. #4874
man.vim: prevent bell in ':wincmd w' when only one window (#5328)
vim-patch:7.4.1535 (#5327)
vim-patch:7.4.1533 #5320
Merge #2789 'system(): Respect shellxescape, shellxquote'
shell_escape: rename; refactor
Merge #5318 from equalsraf/fix-openbsd
system(): Respect 'sxe' and 'sxq' #2789
third-party: Bump luv to v1.9.1-0
Add compiler check for -Wno-static-in-inline
Disable use of jemalloc in OpenBSD
Merge #5316
eval.c: Fix memory leak for detached pty job
eval.c: Garbage collection frees dictionary before job cleanup
doc
doc: clarify reltime()
health.vim: "No healthchecks found" also needs the buffer.
Merge #5295 'health.vim'
health.vim: Show results incrementally.
health.vim: Factor out health#provider#check()
Improve Ruby version check in CheckHealth command
shada: Fix non-writeable ShaDa directory handling
getcwd(): Return empty string if CWD is invalid. #5292
vim-patch:7.4.1913 (#5260)
vim-patch:7.4.1971 (#5262)
test: Add unittest spec for option.c (#5289)
[RFC] man.vim: remove <Plug> mappings (#5290)
tchdir: New tab should inherit CWD. (#5227)
vim-patch:7.4.1900 (#5259)
signal_init: unblock all signals on startup. #5283
Merge #5249 'man.vim'
man.vim: Avoid hard redraw.
man.vim #5249
Merge pull request #5286 from jamessan/strtoimax-error-checking
lint: Close resource leak (#5288)
Fix error-handling of strtoimax boundary conditions
helpers.c: Fix invalid state of failed conversion result for object_to_vim() (#5282)
Merge pull request #4934 from bfredl/api
api: fix leak when a api function is incorrectly called with a list.
api: add tests for calling the api from vimscript
api: consistently use nvim_ prefix and update documentation
api: Allow blacklist functions that shouldn't be accesible from eval
eval: use gperf to generate the hash of builtin functions
api: When calling get/set_lines from vimL, don't convert between "\n" and "\0".
api: unify buffer numbers and window ids with handles
api: auto generate api function wrappers for viml
api: rename "msgpack_rpc/defs.h" to "api/private/dispatch.h" and use the header generator.
eval: Use generated hash to look up function list
eval: add new function entries
eval: Move VimL functions list to a lua file
Merge pull request #5225 from equalsraf/windows-functionaltests
functionaltest: Create lua helper for os.tmpname()
vim-patch:7.4.1896 (#5258)
signal_init: Always unblock SIGCHLD. (#5243)
Merge pull request #4432 from bfredl/pum_ui
api/ui: add documentation for remote ui redraw events
api/ui: add tests for popupmenu_external events
api/ui: use ui options instead of one method per feature
api/ui: allow popupmenu to be drawn by external ui
Add if_cscope documentation for querytype 'a'
Lint
vim-patch:7.4.2033
vim-patch:7.4.1990
vim-patch:7.4.1952
release.sh: Sign the tag.
Mark some functional tests as pending in Windows
Appveyor: Enable functional tests
third-party: Windows fix for luv build recipe
third-party: Build busted in Windows
Update to libuv 1.9.1
build: Refactor appveyor/Windows scripts (#5244)
iconv: Always include errno.h when USE_ICONV is defined (#5251)
Merge #5210 'vim-patch:7.4.1898 + :Man modifiers support'.
Merge #5253 'perf: Disable clipboard in do_cmdline()'
lint
Merge pull request #5232 from bfredl/dictchar_u
perf: Disable clipboard in do_cmdline().
ops.c: Rename start_global_changes().
man.vim: if reusing a buffer, do not use noautocmd
man.vim: slight refactoring
use bool type for flag mod_entry_T members
man.vim: set window local options when reusing buffer
man.vim: support for command modifiers
vim-patch:7.4.1898
eval: remove (char_u *) in constant get_dict_(string|number) parameters
doc: CONTRIBUTING.md (#5239)
release.sh: Touch NVIM_VERSION_PATCH, show obnoxious message.
Merge commit 'refs/pull/upstream/5156'
version bump
NVIM v0.1.5
Merge #5205 'CheckHealth'
remote/host.vim: Avoid "No matching autocommands".
CheckHealth: Remove "disable"/"enable" concept
CheckHealth: Accept [plugin1 [, plugin2 [, ...]]] args.
CheckHealth
CheckHealth
Merge pull request #5231 from jamessan/vim-7.4.1700
ex_cmds: Factor pieces of functionality out of do_sub
lint
vim-patch:7.4.2219
vim-patch:7.4.1700
Merge pull request #4723 from bfredl/rpcstderr
job control: reuse common job code for rpc jobs
stream: set data together with callback
man.vim: Avoid error in legacy vimrcs.
build: initialize variable (#5194)
Merge #5198 from equalsraf/windows-path-is-absolute
path.c: Avoid code duplication for path separator checks
Windows: Check drive letter in absolute paths
Add Windows support to path_is_absolute()
Merge #5050 'rplugin manifest: default to XDG dir'
host.vim: s:GetManifestPath(): octal permissions
host.vim: s:GetManifestPath(): Create base directory if needed.
Linting
highlight: Added QuickFixLine highlight group
host.vim: s:GetManifestPath(): Remove for-loop.
tests: Set env variables in RunTests.cmake
runtime: rplugin manifest written to $XDG_DATA_HOME
vim-patch:7.4.2112 (#5175)
Merge pull request #5228 from bfredl/nullbufhl
api: handle null string in buffer_add_highlight
Merge pull request #5224 from jszakmeister/force-penlight-version
third-party: force the use of penlight 1.3.2-2 until busted is fixed
third-party: don't build busted in parallel with anything
Merge pull request #5197 from bfredl/screenfix
tests: add note to expect() message about snapshot_util()
tests: don't ignore highlights in terminal tests
tests: don't ignore highlights in completion_spec
tests: don't ignore highlights in various tests
tests: don't ignore highlights in screen_basic_spec
tests: don't ignore highlights in mouse_spec
tests: don't ignore highlights in syntax_conceal_spec
tests: don't ignore highlights in highlight_spec
tests: don't ignore highlights in searchhl_spec
tests: don't ignore highlights in bufhl_spec
tests: remove deprecated hl_colors
scripts/vim-patch.sh: fix typo (#5221)
Windows: get_past_head() (#5199)
man.vim: doc fixes #5171
Prevent endless loop in printdigraph(). (#5215)
Merge #5214 from jamessan/browse-modifier
Merge pull request #5213 from blueyed/unset-cdpath-with-vim-patch
lint
Restore ":browse oldfiles" behavior from Vim
scripts/vim-patch.sh: use privileged mode (set -p)
Re-add support for the :browse command modifier
Merge pull request #5212 from nhooyr/ignore-res
ignore .res files generated by the tests in testdir
Merge pull request #5192 from bfredl/closetime
timers: do not crash after processing events in the handler
doc
Merge #5188 from justinmk/travis-test-hack
man.vim: use -range instead of -count (#5203)
test: Fix os_name() call.
XXX: CI: Disable hanging test on Travis OSX.
Merge #5184 from equalsraf/windows-literal-path-seps
Appveyor: Generate helptags and build artifacts
Windows: Don't use literal path separators
Merge pull request #5195 from jamessan/master
Set the default value for 'packpath'
man.vim: handle empty identifier from mapping (#5187)
Merge #5025 'input.c: Restore double click'
test: mouse_spec
Merge #5185 from justinmk/readfile-perm
doc: Add if_ruby.txt to doc/help.txt (#5186)
win32: readfile(): Directories should not show "[Permission Denied]".
readfile(): Ensure `perm` for non-Unix.
Merge #5130 from equalsraf/tb-appveyor
man.vim: handle 'gdefault' (#5182)
Create os_translate_sys_error()
Fix vim-patch:7.4.689
Windows: Fix functionaltest fixtures
third-party: Pass along cmake generator in luv recipe
third-party: Build libvterm in MinGW
third-party: Create path in CopyFilesGlob.cmake
Build third-party deps in MinGW
MSVC: Build third-party dependencies as release DLLs
Merge #5168 from nhooyr/man-rewrite
man.vim: buffers are now listed
man.vim: refactoring and autocmd fix
lint
test: Add tests for double, triple, and quadruple click
input.c: restore double click
man.vim: default K mapping
man.vim: small syntax improvements (#5170)
Merge #4449 'man.vim'
man.vim: doc, UX tweaks
man.vim: rewrite
ex_messages: remove 'Messages maintainer' (#5160)
Merge #4964 from ZyX-I/no-xdg-expand
Merge #5159 from justinmk/readfile-readonly-check
readfile(): readonly: Also check "not writable".
readfile(): Less-destructive readonly check.
Merge pull request #5148 from munyari/vim-7.4.1603
vim-patch:7.4.1557 (#5117)
vim-patch:7.4.1477
vim-patch:7.4.1673 (#5141)
version.c: add completed patches
MinGW Appveyor builds
Travis: Remove MinGW builds
Merge #4837 from justinmk/os_resolve_shortcut
doc: mention tnoremap
vim-patch:7.4.1305 #5094
[RFC] vim-patch:7.4.2011, vim-patch:7.4.2012, vim-patch:7.4.2066 #5106
vim-patch:7.4.1676 #5143
vim-patch:7.4.1675 #5142
vim-patch:7.4.2013, vim-patch:7.4.2014
Merge #4634 'version.c: update'
vim-patch:7.4.1237 (#5092)
eval.c: rename capture() to execute() (#5132)
version.c: update
os_resolve_shortcut: Report conversion error.
mbyte.c: Move utf8/utf16 functions to mbyte.c
utf16_to_utf8
os_resolve_shortcut: cleanup
os_resolve_shortcut: Remove legacy win16 codepath.
utf8_to_utf16: adapt libuv's fs__capture_path
os_resolve_shortcut: initial port from Vim source
matchit.vim: preserve jumplist (#5124)
Merge pull request #5076 from fwalch/travis/osx-deps
Travis: Build 3rd-party dependencies with system's default compiler.
Travis: Fix accidental building of 3rd-party dependencies.
Travis: Use caching instead of pre-compiled deps for OSX.
test: fix
Remove redundant includes of unistd.h (#5126)
doc: gentle transition steps; stub XDG section
Merge #2850
A bit of linting
mouse.c: Adjust clicked column if chars are concealed (#5087)
man: fix description of XDG_DATA_HOME (#5120)
version.c: Update to 7.4.2107
CMake: fix USE_BUNDLED_LIBUV
vim-patch:7.4.1179 (#5112)
Merge pull request #5020 from jamessan/vim-7.4.1663
Add tests for terminal background detection
Automatically detect terminal background and set bg=dark or bg=light
lint
vim-patch:7.4.1703
vim-patch:7.4.1682
vim-patch:7.4.1663
vim-patch:7.4.1491 #5048
vim-patch:7.4.1365 (#5037)
coverity/150263: s/STRCPY/STRLCPY/, bounds check (#5036)
Merge #5058
test: Update test_alot.vim
server_init: Handle server_address_new() failure.
vim-patch:7.4.1186 (#5091)
Merge #5062 from blueyed/fix-genvimvim-funcnames
fixup! fixup! genvimvim.lua: fix matching functions
Merge #5077 from fwalch/travis/fix-gcov
Travis: Run GCov on GCC-5 build.
Travis: Fix coveralls upload.
Merge #4798 'process.c: Fix block in teardown'
test: PTY descendants should not prevent exit.
Merge #5068 'justinmk/output_spec'
test: output_spec
fixup! genvimvim.lua: fix matching functions
genvimvim.lua: fix matching functions
Merge pull request #5059 from joshtriplett/busted-specify-lua-interpreter
Merge pull request #5042 from bfredl/unnamedunnamedplus
Merge #5026 from joshtriplett/term-title-statusline
vim-patch:7.4.1548
vim-patch:7.4.1546
Pass busted the path to the detected Lua interpreter
Fix String_eq() (#5051)
Document terminal buffer-local variables
Add missing translation from vim-patch:5e9b2fa
terminal: Ensure b:term_title always has a value
clipboard: fix v:register when clipboard=unnamed,unnamedplus
window: Silence clang-analyzer null dereference error (#5032)
vim-patch:7.4.1147 (#5005)
vim-patch.sh: ignore coloring and pagers (#5030)
install: Include *.rb in runtime files.
Merge #4980 'Support legacy `:ruby` commands'.
option: Silence linter
functests: Also make sure that `set all&` does not expand
functests: Add tests for XDG defaults
option: Also escape commas in options other then &runtimepath
option.h: Turn OPT_* list into a enum
option: Also do not expand XDG defaults with set&
option: Do not expand options, obtained from XDG vars
Merge #4991 'vim-patch:7.4.1140'
op_replace: fix guard; avoid strlen (#4963)
Remove if_ruby from list of unimplemented features
Merge #4648 from jamessan/packages
Install neovim RubyGem on CI
Add documentation around Ruby provider
Add Ruby diagnosis to :CheckHealth command
vim-patch:7.4.1140
lint
vim-patch:7.4.1986
vim-patch:7.4.1973
vim-patch:7.4.1840
vim-patch:03413f4
vim-patch:7.4.1712
vim-patch:7db8f6f
Generate tags and install docs for included packages
Reword §05.4 to describe using the new vimball package
Move vimball plugin into an optional package
vim-patch:7.4.1649
vim-patch:4f3f668
vim-patch:e18c0b3
vim-patch:7.4.1596
vim-patch:7.4.1554
vim-patch:7.4.1553
vim-patch:7.4.1552
vim-patch:7.4.1551
vim-patch:7.4.1550
vim-patch:77cdfd1
vim-patch:7.4.1528
vim-patch:5f148ec
vim-patch:7.4.1499
vim-patch:7.4.1492
vim-patch:328da0d
vim-patch:7.4.1486
vim-patch:7.4.1480
vim-patch:7.4.1479
vim-patch:7.4.1478
vim-patch:dae8d21
vim-patch:f391327
vim-patch:7.4.1396
vim-patch:7.4.1388
vim-patch:7.4.1384
vim-patch:7.4.1111 (#5004)
test: TUI colors: Skip TERM=linux on non-linux. (#5015)
os/fs: Rename os_file_exists to os_path_exists (#4973)
Travis: Enable before_cache script for MacOS. (#5007)
doc
ci: Reduce verbosity of low-risk tasks.
doc
Update jemalloc to 4.2.1 (#4993)
test/functional: sleep()
Merge #5001 from justinmk/t_colors
test: TUI colors ('t_Co')
tui: Assume 256 colors in most cases.
Add :ruby, :rubyfile, and :rubydo ex commands
options: Default t_Co to 256.
options: Set 't_Co' from unibilium + fix_terminfo.
vim-patch:7.4.1121 (#4989)
Merge PR #4994 'vim-patch:7.4.1716'
Tests: check 'autochdir' on startup
vim-patch:7.4.1716
Merge pull request #4880 from bfredl/zerotimer
Add test for :drop
Fix regression of :drop introduced in 1a91000
rplugin: Manifest file name fallback (#4935)
vim-patch:7.4.1136
timers: make repeat=0 work one-shot (consistent with vim)
timers: make timers work with zero timeout
Merge #4984 'Trigger TabNewEntered with <CTRL-W>T'
[RFC] Fix #4979: Trigger TabNewEntered also with <CTRL-W>T
doc: remove obsolete reference (#4978)
Update version.c (#4974)
Merge #4646 from oni-link/fix.issue.4569.3
Merge #4969 from ZyX-I/update-unicode
version: State that 1960 was included
Update unicode files
ci: Remove MSAN build until it is fixed. (#4966)
Merge #4965 from justinmk/fixup4453
ex_cmds2.c: cleanup
Merge #4607 from ZyX-I/luaviml'/lua'/encode_vim_to_object
Merge pull request #4962 from neovim/ZyX-I-patch-1
doc: Add missing /site/ path component to &runtimepath description
unittests/*/helpers: Fix testlint errors
option: Make all pointers in set_string_option constant
*: Fix linter errors
kvec: Do not bother with making capacity a power of 2
msgpack_rpc: Fix crash in log_server_msg
fixup! unittests: Add tests for vim_to_object function
option: Handle NULL string in set_option_value
eval: Also make clear_tv non-recursive
kvec,typval_encode: Add new vector: the one with preallocated array
msgpack_rpc: Also make msgpack_from_*/msgpack_to_* functions not recur
unittests: Add tests for vim_to_object function
api/helpers: Use typval_encode.h for vim_to_object
Merge #4865 from ZyX-I/file-buffered-read
ex_cmds2.c:style: Silence all clint warnings
unittests: Fix testlint errors
os/fileio: Use readv often
unittests: Fix kFileNoSymlink test on FreeBSD
*: Satisfy linter (newest type casts rule)
unittests: Fix bug somewhere that makes file_read tests SEGV
file: Move src/nvim/file.* to src/nvim/os/fileio.*
unittests: Add tests for file.c
unittests: Add os_write test
shada: Do not forget to close ShaDa reader
file: Use own constants, do not rely on fcntl.h
unittests: Add os_close, os_read and os_readv tests
file: Add buffered reading and writing
file,os/fs,shada: Separate opening, closing, writing and reading files
Merge pull request #4952 from bfredl/counttest
test: fix command_count_spec
cmake: remove unused includes (#4947)
Merge pull request #4949 from jamessan/vim-7.4.1592
lint
vim-patch:7.4.1592
Merge #4929 from mhinz/fix-term
Add tests for new feature
Make existing tests work with new feature
Always resize the embedded vterm properly
Merge #4933 from ZyX-I/fix-matchparen-spec
Merge #4697 'capture() function'.
Merge #4938 from justinmk/coverity
doc: api_info
coverity/149459: CHECKED_RETURN (false positive)
Merge #4851
test/highlight_spec: Test "gui" arg of synIDattr().
synIDattr(): return RRGGBB value for [fg|bg|sp]# #4851
build: Revert 464bc16.
Merge pull request #4925 from bfredl/apiinfo
functests: Fix matchparen_spec.lua
eval: add api_info()
Merge #4923 from justinmk/doc
Merge pull request #4841 from jamessan/vim-7.4.1126
build: Purge docs before rebuilding.
doc: consolidate nvim.txt
doc: uppercase RPC
doc/python: cleanup
doc/provider: cleanup
doc: cleanup
doc/terminal: cleanup
doc/clipboard: cleanup
doc: Remove gui_w32.txt
doc: remove "nvim-" qualfier from tags
doc: msgpack_rpc: De-emphasize the transport protocol.
doc: Move spell design discussion.
vim-patch:7.4.1126
Merge pull request #4924 from jamessan/test-cleanup
test: functional: Remove unnecessary use of clipboard register
test: functional: Remove test_bkc_* files after testing
Add new functionality to the `=` marker in the STL
runtime: Add script for Python diagnostic information (#4885)
Merge #3745 from cacplate/ops_Wconversion
vim-patch:7.4.1352 (#4914)
tui/input.c: Handle Ctrl-Z (suspend) for TERM=linux (#3100) (#4911)
test: Use clipboard fixture instead of user's clipboard (#4903)
Merge #4839 from ZyX-I/luaviml'/lua'/encode_vim_to_object'/functests
Merge #4908 from ZyX-I/clint-checks-2
Remove some unnecessary function attributes (#4909)
clint: Add rules that forbids spaces after a cast operator
func_attr: Fix other new linter errors
*: Fix new linter errors
clint: Reject indented preprocessor directives
*: Also fix the adjacent errors
*: Fix errors from new linter checks
clint: Do not allow aligning line continuation characters
functests: Do not use setup/teardown where before_/after_each is needed
functests: Check logs in lua code
Merge #4813 'runtime: clipboard: start daemons in /'.
Merge pull request #4875 from shotat/vim-7.4.1130
Merge pull request #4802 from brcolow/vim-7.4.1090
Merge pull request #4788 from brcolow/vim-7.4.1051
Merge pull request #4738 from brcolow/vim-7.4.1223
vim-patch:7.4.1223
Merge pull request #4758 from jbradaric/vim-7.4.1394
vim-patch:7.4.1068
vim-patch:7.4.1051
vim-patch:7.4.1094
eval.c: Fix linter errors.
vim-patch:7.4.1468
vim-patch:7.4.1464
vim-patch:7.4.1397
vim-patch:7.4.1394
Fix style according to linter
vim-patch:7.4.1153
tests: Migrate legacy test 34. (#2849)
test: Fix path to valgrind suppressions (#4892)
Merge pull request #4804 from brcolow/vim-7.4.1150
Merge #4890 from jamessan/vim-38a5563
vim-patch:decb14d
vim-patch:e0fa374
vim-patch:38a5563
Merge #4888 from jamessan/vim-13d5aee
vim-patch:cbebd48
vim-patch:681baaf
vim-patch:7c764f7
vim-patch:5e9b2fa
vim-patch:7.4.1151
runtime: clipboard: start daemons in /
doc: update docs to reflect new cwd option
test: add tests for cwd handling
Merge #4878 'build: always regenerate help tags'
vim-patch:298b440
vim-patch:705ada1
vim-patch:13d5aee
eval: allow setting cwd in {jobstart,termopen}()
build: define `helptags` target which always runs.
test: expand_spec: clean up fixtures
test: rmdir(): recursively delete
build: define `doc_html` task
.gitignore: cleanup
runtime/doc: remove doctags
Testlint. (#4881)
Merge pull request #4879 from justinmk/test55
Fix indents.
Testlinting.
Merge pull request #2844 from lucc/test10
Merge #4854
log: Rename to $NVIM_LOG_FILE
vim-patch:7.4.1056 (#4870)
pty_process: split into plat-specific files (#3976)
vim-patch:7.4.1150
vim-patch:7.4.1130
Merge pull request #4860 from jamessan/tab-win-precedence
tui/input.c: Add mouse release event (#4873)
vim-patch:7.4.1108 (#4872)
Merge pull request #4871 from justinmk/housekeeping
doc: precision, concision, elision
reorg
CMake: Search all possibly usable Lua executables. (#4858)
Merge pull request #4869 from jamessan/vim-7.4.1142
Merge pull request #4868 from jamessan/vim-85084ef
Make clint happy again
vim-patch:7.4.1695
vim-patch:7.4.1142
vim-patch:85084ef
msgpack-gen: Fix for Lua 5.1. (#4857)
vimpatch.sh: bug fix in find_git_remote regex (#4863)
tcd: Determine correct scope from user input
tcd: Use user-provided tab page for `getcwd()`/`haslocaldir()`
test/functional: cd_spec: Add tests for {getcwd,haslocaldir}(-1, -1)
test/functional: cd_spec: Add tests for using explicit args
test/functional: cd_spec: Use named keys for directories table
test/functional: Allow arbitrary arguments to cwd/lwd functions
Merge pull request #4829 from bfredl/timerclose
timers: stop all timers on teardown
Merge pull request #4859 from justinmk/travisllvm
travis: remove LLVM apt PPA; fallback to clang 3.4
Merge pull request #4846 from ZyX-I/luaviml'/lua'/encode_vim_to_object'/typval_encode
Merge pull request #4844 from ZyX-I/rename-main-loop
Merge pull request #4853 from ZyX-I/fix-4852
log: Move log to $NVIM_LOG_FILE_PATH, falling back to the old location
unittests: Also remove event_teardown
typval_encode: Do not use new vector type
kvec,typval_encode: Add new vector: the one with preallocated array
eval/encode: Move main macros from encode.c to typval_encode.h
Merge pull request #4843 from ZyX-I/refactor-queue
Merge pull request #4845 from ZyX-I/luaviml'/lua'/encode_vim_to_object'/refactor-kvec
lib/queue: Actually remove all _QUEUE macros
lib/queue: Refactor queue.h
lib/kvec: Fix remaining linter errors
lib/kvec: Make code cleaner
lib/kvec: Do not use kv_init unless needed
lib/kvec: Remove useless type argument from kv_push macros
*: Rename main loop variable from loop to main_loop
remove some asserts and lint
ops.c: enable -Wconversion warning
Merge pull request #4198 from daynin/string-tests
add test for vim_strsave_escaped() function
Merge pull request #4740 from brcolow/vim-7.4.1276
Merge pull request #4756 from jbradaric/vim-7.4.1119
Merge pull request #4830 from blueyed/proider-pythonx-handle-127
Merge pull request #4832 from justinmk/do_source_fuss
Merge pull request #4833 from jamessan/multi-remote-fix
vim-patch.sh: Only print the first neovim/neovim remote name
fopen_noinh_readbin: restore WIN32 decision
do_source: less fuss about fopen_noinh_readbin
Merge pull request #4831 from blueyed/provider-pythonx-robust-comparison
provider/pythonx: use robust comparison (via vint)
provider/pythonx: handle exit code 127 from pyenv
process.c: Close events are processed too late
process.c: Fix a block when in teardown mode
Merge pull request #2825 from lucc/legacy/listlbr
Merge pull request #4825 from ZyX-I/fix-4822
Merge pull request #4817 from bfredl/remoteui
Merge pull request #4826 from jamessan/vim-345efa0
Merge pull request #4827 from equalsraf/tb-dummy-tui
Windows: Don't build the TUI is systems where it is not supported
vim-patch:345efa0
eval: Stop executing *eval() function at error
api: refactor remote ui to use API dispatch generation
Merge pull request #4821 from jamessan/vim-7.4.1096
Port capture() function
Merge pull request #4819 from jamessan/vim-acb4f22
vim-patch:acb4f22
vim-patch:7.4.1567
vim-patch:7.4.1096
Merge pull request #4815 from bfredl/timerfix
timers: racy situation found on travis
Merge pull request #4624 from bfredl/timers
Merge pull request #4741 from brcolow/vim-7.4.1281
vim-patch:7.4.1281
Merge pull request #4807 from jamessan/vim-7.4.1053
Merge pull request #4812 from jamessan/vim-a61018d
vim-patch:7.4.1064
vim-patch:4d1c0a4
vim-patch:a61018d
vim-patch:7.4.1071
vim-patch:7.4.1053
cmdline: Redraw the cmdline after processing events
eval: implement timers. vim-patch: 7.4.1578, 7.4.1831
Update migrated test after patch recent patches in master.
tests: Migrate legacy test listlbr.
tests: Migrate legacy test 69.
test: Clean up after migration of legacy test 55.
test: Fix migrated test 55.
test: Split migrated legacy test 55.
tests: Migrate legacy test 55.
tests: Update migrated legacy test 30 for patch 7.4.643.
tests: Migrate legacy test 30.
Remove old version of legacy test 10.
tests: Migrate legacy test 10.
Merge pull request #4808 from justinmk/small.vim
test: Remove references to tiny.vim/small.vim/mbyte.vim
Merge pull request #2824 from lucc/legacy/close_count
Merge pull request #4806 from justinmk/nodetype
os_nodetype: Return NODE_NORMAL if os_stat fails.
Merge pull request #4786 from jbradaric/vim-7.4.1516
Merge pull request #4787 from brcolow/vim-7.4.1050
Merge pull request #4793 from brcolow/vim-7.4.1061
host.vim: s:RegistrationCommands(): Normalize slashes.
vim-patch:7.4.1090
Merge #4800 'syntax: foo=NONE should clear hi group'
test/syntax: foo=NONE clears hi group
syntax: foo=NONE clears hi group
Merge pull request #4737 from jamessan/vim-7.4.1017
vim-patch:7.4.1034
vim-patch:7.4.1018
vim-patch:7.4.1017
Merge pull request #4779 from equalsraf/tb-lua-without-unittest
Fixes suggested by @justinmk and @jbradaric
tests: Modernize legacy/close_count.
tests: Migrate legacy test close_count.
Merge #4744 'highlight listchar in cursorline'
test: listchars
screen.c: Fix listchars hl for space/nbsp in visual mode.
test: cursorline, listchars
lint
test: Update to meet new expectations.
Let the highlight of listchars override cursorline
file_perm_spec: Fix the test condition on Windows.
Merge pull request #4791 from brcolow/vim-7.4.1059
vim-patch:7.4.1061 Problem:    Compiler warning for ignoring return value of fwrite(). Solution:   Do use the return value. (idea: Charles Campbell)
vim-patch:7.4.1059
Merge #2821 'test: migrate legacy test breakindent'
Merge pull request #4790 from brcolow/vim-7.4.1057
vim-patch:7.4.1057
Merge pull request #4782 from jamessan/alt-hub-cli
Merge #4633: support "special" highlight (undercurl)
vim-patch:7.4.1050
vim-patch:7.4.1521
vim-patch:7.4.1516
Merge pull request #4761 from bfredl/gcc61warnings
Fix warnings with gcc 6.1
cmake: Allow building without Luajit
Merge pull request #4657 from brcolow/vim-7.4.1036
vim-patch.sh: Show if a patch includes runtime files
vim-patch.sh: Add support for sociomatic/git-hub
vim-patch.sh: Rename check_executable to require_executable
Merge pull request #4780 from jamessan/vim-7.4.1046
vim-patch:7.4.1046
Merge pull request #4753 from dmerejkowsky/cmake-ninja-test-output
Merge pull request #4734 from jbradaric/vim-7.4.1102
Fix running tests from Ninja
test: Screen also checks 'special' when testing attribute equality
Linting
test: Edit the special color test
test: Add a test for the new guisp highlighting feature.
test: Fix tests failing
syntax: Add support for the "special" color used for undercurls
vim-patch:7.4.1832
ex_cmds2: Fix memory leak.
108_backtrace_debug_comands: Fix linter errors.
Remove unnecessary forward function declarations.
vim-patch:7.4.1110
vim-patch:7.4.1102
vim-patch: 7.4.1036 Problem:    Only terminals with up to 256 colors work properly. Solution:   Use the 256 color behavior for all terminals with 256 or more             colors. (Robert de Bath)
vim-patch:7.4.1276 Problem:    Warning for not using return value of fcntl(). Solution:   Explicitly ignore the return value.
Merge pull request #4768 from justinmk/char_u
Merge pull request #4759 from jbradaric/vim-7.4.1513
Merge pull request #4769 from jamessan/vim-7.4.1568
Merge pull request #4770 from jamessan/vim-patch-list
vim-patch.sh: Ignore “git describe” failures in list_vim_patches
msg_puts_printf: remove char_u
ci: test: Replace hard-coded commands with Makefile's targets
Makefile: Ensure tags are generated before running oldtest
vim-patch:7.4.1728
vim-patch:7.4.1571
vim-patch:7.4.1568
Merge pull request #4742 from brcolow/shellcheck-lint
indent/lua.vim: fix indent of nested elseif
Merge pull request #3522 from wdv4758h/clang-3.7-options
Merge pull request #4743 from jamessan/vim-7.4.1037
Merge pull request #4760 from justinmk/term-use-after-free
Merge pull request #4527 from philix/env-refactor
term_close: fix use-after-free
test: term_close use-after-free
Merge pull request #4764 from justinmk/term-double-free
Merge pull request #4765 from jdelkins/doit
clipboard: support "doit" tool
ex_terminal(): fix double-free
vim-patch:7.4.1513
test: ex_terminal() double-free
os/env.c: document remove_tail() properly
os/env.c: declare srcp and dst as restrict in expand_env_esc()
Merge pull request #2717 from lucc/test68
os/env.c: cosmetic changes done during review of the file
fixup2: process.c: Prevent data loss for process output streams
fixup: process.c: Prevent data loss for process output streams
shell.c: Fix missing output
process.c: Prevent data loss for process output streams
vim-patch:fa73534
Linting fixups for vim-patch:7.4.1037
vim-patch:7.4.1037
Merge pull request #4755 from jszakmeister/fix-endian-h-on-bsd
Merge pull request #4757 from KillTheMule/fix-tui_spec
Merge pull request #4563 from KillTheMule/vim-patch-1259
Fix tui_spec.lua for QB/Travis
Fix be64toh() detection on BSDs.
Fix linter warnings in test.
vim-patch:7.4.1161
vim-patch:7.4.1132
vim-patch:7.4.1123
vim-patch:7.4.1119
Merge pull request #4733 from AdnoC/hi-link-cleared-group
Run shellcheck (shell scripting linter) on shell scripts.
Merge pull request #4727 from bfredl/citestlint
Merge pull request #4724 from KillTheMule/more-testlint
Makefile: let "lint" target run both clint and testlint
test/syntax: Add testing for linking to cleared highlight groups
syntax: Allow cleared highlight groups to be linked
Testlinting.
Mark 871 as merged, see
vim-patch:7.4.1259
test/functional/helpers.lua: Fix dedent() #4735
Merge pull request #4729 from jbradaric/vim-7.4.1047
Merge pull request #4730 from jbradaric/vim-7.4.1052
Merge pull request #4731 from jbradaric/vim-7.4.1054
vim-patch:7.4.1054
vim-patch:7.4.1052
vim-patch:7.4.1049
vim-patch:7.4.1048
vim-patch:7.4.1047
doc/starting.txt: fix numbering #4728
'termguicolors' #4690
Merge pull request #4588 from KillTheMule/vim-patch-1285
Add documentation for reltimefloat()
vim-patch:cb00f03
vim-patch:7.4.1285
Merge pull request #4707 from sach1t/wconversion-getchar
getchar.c wconversion: Change types
Enable -Wconversion for getchar.c
Merge pull request #4715 from jamessan/vim-7.4.1007
version.c: Mark 7.4.1010 as NA
vim-patch:7.4.1007
Merge pull request #4350 from DarkDefender/term_color
vim-patch:7.4.1091 #4627
Merge pull request #4720 from jbradaric/vim-7.4.1042
Merge pull request #4695 from KillTheMule/vim-7.4.896
Merge pull request #4717 from jamessan/vim-7.4.1015
Linting.
vim-patch:7.4.896
vim-patch:7.4.1042
Linting all the days
vim-patch:7.4.1015
version.c: update N/A. #4660
Merge pull request #4639 from brcolow/vim-7.4.1347
Merge pull request #4628 from brcolow/vim-7.4.1101
Merge pull request #4718 from jszakmeister/fix-some-failing-tests
test/functional: clear the temp directory before each tempfile test
test/functional: fix a dependency on the previous test suite
test/functional: prefix the cd command with silent to prevent hanging
Merge pull request #4705 from equalsraf/tb-fix-os-nodetype
Windows: Fix os_nodetype() default return
Merge pull request #4654 from KillTheMule/testlint
vim-patch: 7.4.1086 #4626
Windows: find_file_in_path: Handle absolute path. #4711
Merge pull request #4712 from jamessan/runtime-patches
version.c: Mark 7.4.1005 as NA, per discussion in #4191
vim-patch:27a82e3
vim-patch:89b24fc
vim-patch:40a346d
Merge pull request #4540 from KillTheMule/vim-patch-1236
Merge pull request #4677 from KillTheMule/vim-7.4.889
Merge pull request #4644 from KillTheMule/vim-7.4.882
Merge pull request #4678 from KillTheMule/vim-7.4.672
Merge pull request #4704 from KillTheMule/vim-runtime-patches-all
Fix typo that seems to have been around forever
vim-patch:cc7ff3f
vim-patch:256972a
vim-patch:2c5e8e8
vim-patch:d042dc8
vim-patch:e392eb4
vim-patch:b4ff518
vim-patch:d7464be
vim-patch:a0f849e
Merge pull request #4680 from equalsraf/tb-windows-winsock2
Add test for vim-patch 7.4.672
Linting.
vim-patch:7.4.672
Merge pull request #4688 from ZyX-I/clint-checks
*: Fix new linter errors
clint: Check that boolean operator is placed on the next line
Merge pull request #4681 from equalsraf/tb-msvc-varmacros
Merge pull request #4597 from bfredl/motion
normal: convert MCHAR etc operator and register types to enum MotionType
MSVC: Avoid variadic macro bug in STATIC_ASSERT
Windows: Include winsock2.h before windows.h
Merge pull request #4676 from ZyX-I/fix-hist_char2type-crash
Merge pull request #4679 from equalsraf/tb-windows-lc
Windows: without libintl use LC_CTYPE instead of LC_MESSAGES
Merge pull request #4675 from barraponto/patch-1
vim-patch:7.4.889
Even though the patch is not needed for neovim, add a test for the bugfix
vim-patch:7.4.882
ex_getln: Do not crash with :append/:insert/:change
Merge pull request #4674 from equalsraf/tb-include-fcntl
Increase readability of unit conversion.
Add missing include fcntl.h
Merge pull request #1112 from justinmk/os_nodetype
os_nodetype: impl with libuv
Merge pull request #4670 from equalsraf/tb-remove-unix-guard
Remove old UNIX ifdef from buf_write()
Merge pull request #4668 from fwalch/archlinux-filetypes
Runtime: Re-add support for Arch Linux PKGBUILDs.
vim-patch:7.4.1236
Satisfy testlint.
option.c: include header for completeopt_was_set
Merge pull request #4661 from brcolow/vim-7.4.1401
Merge pull request #4652 from HiPhish/coverity-defects
Merge pull request #4625 from brcolow/vim-7.4.1075
Merge pull request #4655 from brcolow/vim-7.4.1035
Merge #4591
test: matchparen_spec.lua
vim-patch:7.4.1296
Merge pull request #4622 from Shougo/vim-7.4.1753
vim-patch: 7.4.1401 Problem:    Having 'autochdir' set during startup and using diff mode doesn't             work. (Axel Bender) Solution:   Don't use 'autochdir' while still starting up. (Christian             Brabandt)
Fix coverity errors in haslocaldir() and getcwd.
vim-patch: 7.4.1101 Problem:    With 'rightleft' and concealing the cursor may move to the wrong             position. Solution:   Compute the column differently when 'rightleft' is set. (Hirohito             Higashi)
vim-patch: 7.4.1075 Problem:    Crash when using an invalid command. Solution:   Fix generating the error message. (Dominique Pelle)
vim-patch:7.4.1006 #4605
Merge pull request #4649 from justinmk/vimpatches
Merge pull request #4630 from jamessan/vim-7.4.613
remove disable_char_avail_for_testing()
vim-patch: 7.4.1035 Problem:    An Ex range gets adjusted for folded lines even when the range is             not using line numbers. Solution:   Only adjust line numbers for folding. (Christian Brabandt)
Merge pull request #4593 from ZyX-I/length-functions
vim-patch:7.4.1118
Merge pull request #4647 from justinmk/vimpatches
Merge pull request #4631 from KillTheMule/vim-7.4.871
regexp_nfa.c: Fix various linter errors
vim-patch:7.4.613
vim-patch:7.4.1092
legacy test: Makefile
Satisfy the linter.
Add documentation for disable_char_avail_for_testing, handpicked from
vim-patch:7.4.1300
vim-patch:5a46a58
vim-patch:7.4.998
version.c: update NA
Merge pull request #4325 from watiko/vim-7.4.984
Merge pull request #4632 from KillTheMule/vim-7.4.822
Merge #4303 'vim-patch:7.4.{951,1143,1144}'.
Merge pull request #4273 from watiko/vim-7.4.957
mouse: Implement horizontal scroll. #3450
Merge pull request #4642 from justinmk/unittest-event_init
test/unit: ensure event_init()
test: shell_spec: rename variable
version bump
NVIM v0.1.4
release.sh: Automate release process.
vim-patch: 7.4.1347 Problem:    When there is any error Vim will use a non-zero exit code. Solution:   When using ":silent!" do not set the exit code. (Yasuhiro             Matsumoto)
Merge pull request #4636 from blueyed/vim-patch-fix-find_git_remote
vim-patch.sh: fix/improve pattern with find_git_remote
Merge pull request #4571 from bfredl/pumtest
tests/ui: screen tests for completion popupmenu
Linting.
vim-patch:7.4.822
vim-patch.sh: Query git for name of neovim remote
Happy little, happy little, happy little linter
vim-patch:7.4.871
The trivial part of 7.4.871
Merge pull request #4367 from jbradaric/vim-7.4.1107
version.c: update. #4301
vim-patch:7.4.1753
Merge pull request #4618 from bfredl/regcrash
eval: let getreg() return valid list for an undefined register
Merge #3229 ':tcd'
tcd: doc, error messages
Implement tab-local working directory feature.
Fix another linter error.
delete_spec: Fix linter errors.
Merge tempfile.c back into fileio.c
vim-patch:7.4.1120
vim-patch:7.4.1117
Fix linter errors.
vim-patch:7.4.1116
vim-patch:7.4.1114
vim-patch:7.4.1107
Merge pull request #4610 from KillTheMule/vim-7.4.819
Merge pull request #4589 from gregorias/patch_1113
vim-patch:7.4.819
vim-patch:7.4.1113 Problem:    Using {ns} in variable name does not work. (lilydjwg) Solution:   Fix recognizing colon.  Add a test.
v:windowid #4608
Merge pull request #4604 from dbarnett/vim-60cce2f
doc: remove redundant, outdated section.
vim-patch:60cce2f
Merge pull request #4603 from dbarnett/vim-ca63501
vim-patch:ca63501
Merge pull request #4602 from dbarnett/vim-12969c0
vim-patch:12969c0
Merge pull request #4601 from dbarnett/vim-f913281
Merge pull request #4599 from Shougo/fixerror
vim-patch:f913281 (runtime/doc/)
Fix loading remote plugin error
Merge pull request #3951 from cacplate/misc1_Wconversion
Merge #4553
test: remote/define.vim: Add some spice.
test: format
test: remote/define.vim: range
remote/define.vim: support remote function "range"
Merge pull request #4018 from justinmk/vim-35e7594
vim-patch.sh: recognize malformed patches.
test: convert test_marks.in.
Merge pull request #4590 from Streetwalrus/issue4471
rplugin: Ignore modeline while chaining events
Merge pull request #4595 from dbarnett/vim-fc39ec
vim-patch:fc39ec (runtime/filetype.vim)
*: Fix linter errors
ex_getln: Make get_histtype return HIST_DEFAULT if needed
Merge pull request #4594 from dbarnett/vim-88774f
Merge pull request #4131 from ZyX-I/json-functions
vim-patch:88774f
misc1.c: enable -Wconversion
functests: Make json_functions_spec use new NIL where appropriate
*: Fix preincrement lint errors
eval/encode: Simplify loop in encode_list_write
eval/encode: Make sure that encoder can encode NULL variables
eval/encode: Adjust buffer sizes passed to vim_snprintf
functests: Replace \xXX escapes with \DDD in lua code
eval/encode: Dump FF character correctly
*: Make set_vim_var_\* functions have proper argument types
eval: Treat [] and [""] as any other empty string
eval: Fix overflow in error message in f_json_decode
documentation: Update assert_{false,true}() and empty() documentation
api: Add warnings about the returned value to \*del_var functions
documentation,functests: State that UTF-8-only support is intentional
eval/decode: Accept `\r` as space character
eval/decode: Do not overflow when parsing `-`
eval/decode: Clarify meaning of some pointer arguments
eval/decode: Fix typo in internal error message
eval/decode: Reject even more numbers
*: Fix linter errors
documentation: Update type() documentation
message: Remove useless emsg* functions, leaving only emsgf
eval/decode: Rewrite json_decode_string end as suggested by oni-link
eval/decode: Reject more numbers, accept 1e5
eval/decode: Do not loose high surrogates followed by high surrogates
eval/decode: Make sure that error messages do not cause overflow
eval/decode: Make sure that parsing strings does not overflow
eval/decode: Make sure that blank input does not crash Neovim
eval/decode: Make sure that U+00C3 is parsed correctly
functests: Make sure that json functions are tested with C messages
eval/decode: Avoid overflow when parsing incomplete null/true/false
eval/decode: Rename brackets in error messages
eval/decode: Record that `obj` may be freed
eval/decode: Also use VAR_UNLOCKED in old code
eval: Remove assert expression
eval: Do not break when VimVarIndex and vimvars order mismatches
encode: Handle incomplete surrogates like `\uSURR\uOTHR` properly
encode: Fail to dump NaN and infinity
api/documentation: Add a warning that nil may mean v:null
eval: Rename json* functions to json_*
api: Replace set_var(name, NIL) with del_var(name)
eval/encode: Remove unneeded variable, add missing include
eval/encode: Free memory just in case
eval/encode: Reduce length of encode_list_write
eval/encode: Fix invalid UTF-8 strings handling:
eval/encode: Fix writing strings starting with NL to list
eval: Fix QuickBuild failures
version: Record that vim-7.4.1271 is kinda of there
eval/encode: Fix non-utf-8 &encoding handling, add tests
*: Fix memory leaks found by clang sanitizer
shada: Make sure that NIL and EXT values can also be parsed back
eval: Port parts of 7.4.1267 that are not already present
eval: Make assert_true and assert_false accept v:true and v:false
*: Fix gcc warnings
eval: Change dv_lock type to VarLockStatus
eval/decode: Fix vim_str2nr invocation
*: Fix linter errors
eval: Remove v:none
eval: Remove get_vim_var_tv function
eval/decode: Add support for special maps
eval/decode: Parse strings with NUL to special dictionaries
eval/*: Fix some linter errors
doc: Update documentation regarding converting from/to &encoding
eval/decode: Fix surrogate pairs processing
eval/decode: Fail on control and invalid unicode characters
eval/decode: Make msgpackparse() function use new v: vars
eval/decode: Replace INIT_SPECIAL_DICT macros with inline function
eval: Move some decoding functions to eval/decode.c
eval: Get rid of VV_LEN constant
vim: Move *MSG* macros to message.h
eval: Move encode.c to eval/encode.c
cmake: Refactor code that creates directories and lists C files
eval: Add jsondecode() function
encode: Do not use default case for v_type
functests/msgpack: Test dumping special nil and bool dicts
runtime/msgpack: Add support for special values
eval: Add special variables v:false, v:null, v:none
eval: Add special variable type
encode: Add a hint for static analyzer that cur_tv is not NULL
eval: Add jsonencode() function
functests(msgpack): Fix location of one of the tests
functests(msgpack): Fix test names
eval: Split out typval_T dumping functions to nvim/encode.c
ex_getln: Make get_histtype accept length argument
option: Allow zero-length options
option: Use findoption_len in do_set
option: Add find_key_option_len function
option: Add findoption_len function
keymap: Make replace_termcodes and friends accept length and cpo_flags
Merge pull request #4565 from KillTheMule/vim-patch-1282
Merge pull request #4585 from dbarnett/vim-fc39ec
Merge pull request #4592 from oni-link/fix.issue.4582
eval.c: Fix heap corruption error when constructing sourcing_name
Merge pull request #4574 from oni-link/fix.utfc_ptr2char_len
Merge pull request #4586 from oni-link/fix.on.process.exit
mbyte_spec.lua: Fix indentation
mbyte_spec.lua: Fix wording
Merge pull request #4579 from Shougo/lemonade
eval.c: Fix cut off of terminal exit message
vim-patch:fc39ec
clipboard: support "lemonade" tool
Merge pull request #4583 from KillTheMule/robust-completion
Make completion_spec.lua more robust
mbyte.c: Unittest for utfc_ptr2char_len()
Add new style test test_viml.vim to the build
Satisfy the linter
Update version.c to 7.4.1284
vim-patch:7.4.1284
vim-patch:7.4.1030
vim-patch:7.4.1001
vim-patch:7.4.1000
vim-patch:7.4.1282
mbyte.c: Fix invalid memory access in utfc_ptr2char_len
Merge pull request #4558 from justinmk/filetype
test: defaults_spec.lua
test: move server_spec.lua
defaults: Enable syntax/filetype for real.
tests: fix indeterministic oldfiles! test
Merge pull request #4566 from ZyX-I/more-lint
Merge PR #4398 'Update lua client'
Update lua client to 0.0.1-24
clint: Add rule for preincrement/predecrement
clint: Add diagnostics for things like `char* foo` or `(char*)`
third-party: Add missing *_host dependencies to luarocks packages
Add luv as a third party dependency
Mark cursor_spec.lua indeterministic test as pending
Remove indeterminism in oldfiles_spec.lua
Allow a lua debugger to be specified on `functionaltest-lua` target
Synchronize shada reset helper with other functional tests
main.c: Free msgpack packer in --api-info handler to make ASAN happy
Merge pull request #4562 from dbarnett/vim-f2571c
vim-patch:f2571c
Merge pull request #4559 from ZyX-I/undodir-undo-doc-update
documentation: Update information about default location of undo files
Merge pull request #4557 from mikewadsten/bugfix/issue-4537-cscope-segfault
cscope: Fix mismatched types in ':cscope show' output
Merge pull request #4555 from justinmk/spell
spell: Fix argument and avoid redundant prompt.
spellfile.vim: less pestering
Merge pull request #4505 from watiko/vim-runtimes
Merge pull request #4357 from jbradaric/vim-7.4.1105
complete: noinsert/noselect should not set 'modified'. #4509
doc: formatting #4543
doc: Fix tiny typo in :bufdo section
Merge pull request #4546 from KillTheMule/vim-patch-sh
version bump
vim-patch.sh: Fetch the whole vim repository and fix a regexp
NVIM v0.1.3
Update ISSUE_TEMPLATE.md
Merge pull request #4477 from Antoine-H/master
Enabled -Wconversion in charset.c
Merge pull request #4269 from cacplate/pr-3667
Merge pull request #4508 from Xerkus/hotfix/remote-plugins-wrong-condition
buffer.c: change return type to bool
Merge pull request #4519 from Shougo/vim-7.4.1425
vim-patch:7.4.1425
Merge pull request #4083 from bfredl/oob
api/buffer: deprecate old line and line slice functions
tests: update tests to use [gs]et_lines instead of [gs]et_line_slice
api/buffer: add tests for buffer_[gs]et_lines
api/buffer: introduce buffer_[gs]et_lines with new indexing convention.
Merge PR #4492 'vim-patch:7.4.{1641,1643,1652,1654}'
Merge pull request #4510 from bfredl/termfix
terminal.c: temporary fix for incorrect paste handling
rplugin: Fix wrong condition for lazy loading remote plugins
vim-patch:7.4.1654
vim-patch:7.4.1652
vim-patch:7.4.1643
vim-patch:7.4.1641
Merge pull request #4441 from cacplate/pr-2842
vim-patch:dd1616e
vim-patch:f913281
vim-patch:86ae720
path.c: enable -Wconversion
Correctly reset qf_list_T in qf_free()
Merge pull request #4480 from migueldvb/docs
Update path to colors directory in syntax highlighting docs
Merge pull request #4461 from bfredl/pum_k_event
Merge pull request #4456 from jamessan/sorted-globs
Merge pull request #4459 from fflorent/vim-7.4.1574
vim-patch:7.4.1574
edit.c: K_EVENT should not hide the popupmenu
Merge pull request #4431 from philix/memfile-cleanups
Merge #4446
test: minor changes
'shortmess': Add "F" flag. #4446
Review of the memfile.c API and small refactorings
cmake: Create generated files in a consistent order
Merge pull request #4418 from bfredl/remove_script_host
python: move script_host.py to python-client
Merge pull request #4168 from noahfrederick/patch-1
Merge pull request #4440 from djrenren/nvim-in-macros
runtime/macros: replace "vim" with "nvim"
Merge pull request #4410 from alexgenco/ruby_rplugin
Merge pull request #4438 from bfredl/pyfindpackage
rplugin: let the python host identify packages
rplugin: Silence :doautocmd. #4384
Ruby remote plugin support
quickfix.c: enable -Wconversion
rplugin: Initialize remote plugins lazily. #4384
Merge pull request #2877 from lucc/test88
tests: Update migrated legacy test 88 for patch 7.4.639.
tests: Modernize legacy test 88.
tests: Migrate legacy test 88.
build: Specify old behavior for POLICY CMP0059.
Merge pull request #4409 from nhooyr/master
complete: disable folding when completing
Merge pull request #4427 from nicdumz/vim-7.4.1511
vim-patch:7.4.1511
Merge pull request #4356 from watiko/fix-hi-normal-adjast
syntax.c: Avoid the 'background' adjustment when true color enabled
Merge PR #4423 'Make functional tests compatible with lua'
Add travis build for lua functionaltest
Add Lua 5.1 as a third party dep
Normalize nan/-nan in plugin/msgpack_spec.lua
Remove `goto` statement in lua code.
Rewrite hexadecimal escape sequences as decimal in lua strings
Remove dependency on ffi module
Merge pull request #4324 from watiko/vim-7.4.973
Merge pull request #4415 from oni-link/fix.leak
ex_eval: Fix memory leak
tests: Migrate legacy test tagcase
vim-patch:7.4.957
vim-patch:7.4.942
buffer_defs.h: Fix lint errors
vim-patch:7.4.941
vim-patch:7.4.973
ex_getln.c: Enable middle click pasting in command mode
man.vim: prefer cmd-line to normal-mode commands
man.vim: clean up regex/string comparisons
man.vim: fixes to argument handling and parsing
Merge pull request #4412 from justinmk/libvterm
deps: upgrade libvterm
Merge pull request #4320 from watiko/vim-7.4.958
Merge pull request #4401 from mhinz/help-term-startinsert
Doc: switch to terminal mode automatically
Lint: fix line length >80
Merge pull request #4402 from jbradaric/vim-7.4.1141
Merge pull request #4390 from justinmk/clangformat
Windows: XDG: Update default paths. #4403
vim-patch:7.4.1141
clang-format configuration
Merge PR #4375 'Proper type checking for set{qf,loc}list()'
Tests: check error messages from set{qf,loc}list()
Proper type checking for set{qf,loc}list()
edit.c: change return type to bool
Merge PR #4388 'Clean up tests'
Tests: add autocmd_spec.lua
Tests: clean up tabnew_spec.lua
test: Remove migrated legacy test from Makefile
tests: Migrate legacy test sort
vim-patch:7.4.1144
vim-patch:7.4.1143
vim-patch:7.4.951
vim-patch:7.4.1093
tests: Migrate legacy test searchpos
vim-patch:7.4.984
vim-patch:7.4.958
Merge pull request #4323 from watiko/vim-7.4.961
Merge pull request #4319 from watiko/vim-7.4.952
Merge #4265 'vim-patch:7.4.925'.
Merge #4231 'vim-patch:7.4.857'.
Trigger TabNew before TabEnter
Merge PR #3657 'Correct max numbers of args for some functions'
Tests: add function_spec.lua
Correct max numbers of args for some functions
Fix guessing incorrect color index in terminal
Fix :%s/\n//
Doc: make definitions jumpable
Merge pull request #4304 from bfredl/yank
clint.py: a function name starting with for is not a for statement
ops.c: breakout shared register type formatting code
TextYankPost: add information to v:event and update tests
eval: add v:event, which will contain data events want to propagate to their receivers.
Tests: fix according to lualint
Add TextYankPost and TextDeletePost autocmds
Merge pull request #4373 from justinmk/qfcrash
coverity/56808: STRING_OVERFLOW
Merge pull request #3900 from ZyX-I/inf-nan-string
Merge pull request #4364 from ZyX-I/proper-e-term
Merge pull request #4289 from phanimahesh/refactor/wconversion/ex_cmds2.c
eval: Update documentation.
functests: Improve screen:expect error reporting
functests: Make test more robust
functests: Make sure that setting scrollback size works from TermOpen
ci: Disable -Wc11-extensions on FreeBSD
main: Move term:// protocol name to a macros
main: Make using :edit term:// run TermOpen event
Revert "Merge pull request #4362 from justinmk/termopen"
Merge pull request #4362 from justinmk/termopen
Merge pull request #4358 from jbradaric/vim-7.4.1112
Merge pull request #4361 from watiko/vim-nas
version.c: Mark vim-patches NA
eval: Fix linter error.
vim-patch:7.4.1112
ex_cmds2.c:style: silence clint after -Wconversion changes
enable -Wconversion for ex_cmds2.c
vim-patch:7.4.1105
Merge pull request #4332 from Jun-T/editorconfig
Avoid internal errors with setloclist()
Merge pull request #4277 from Jun-T/lang2locale
tests: Migrate legacy test breakindent.
Merge pull request #4335 from HarmtH/update-doc
Merge pull request #4274 from DarkDefender/patch-1
Merge pull request #4346 from bfredl/minilint
Merge PR #4337 'Make set{qf,loc}list() take {title}'
Tests: add errorlist_spec.lua
Make set{qf,loc}list() take {title}
Revert "build system: avoid more unneccesary recompiles"
cmake: allow linting a specific file
tests: Migrate legacy test 68.
Merge pull request #4339 from philix/fix-undo-diagram
Fix the ASCII-art diagram in undo.c
Tests: fix according to lualint
term: publish TermOpen in "e term://" handler.
Merge pull request #1817 from bfredl/bufmatch
docs: start api docs and document highlight mechanism
bufhl: fix unittests and lint
bufhl: add tests for adding and clearing highlights
bufhl: new mechanism for plugins to add highlights to a buffer
Merge pull request #4327 from ffleming/coverity-71530
Merge pull request #4329 from justinmk/libuv
Merge pull request #4064 from oni-link/cs_print_tags_priv
coverity/71530: Prefer STRLCPY to STRCPY in option.c
Fix terminal true color bold colors
Correct documention on order autocmds The order of executed autocmds TabEnter and WinEnter is wrongly stated in the documentation. TabEnter is executed after WinEnter.
Merge pull request #4330 from justinmk/set_vim_var_dict
add .editorconfig
set_vim_var_dict: Allow NULL `val`.
Merge pull request #4328 from justinmk/coverity
build: install *.mo into the "standard" directory
Update to libuv 1.8.0
coverity/71532: STRING_OVERFLOW
Merge pull request #4315 from justinmk/compl_flicker
vim-patch:7.4.961
ins_complete: Avoid semi-global state.
Merge pull request #4318 from lucc/legacy_test_makefile
vim-patch:7.4.952
test: Reformat legacy test makefile.
Merge pull request #4317 from justinmk/superkey
keymap: Support <D-...> (super/command key).
vim-patch:7.4.936 #4271
Merge pull request #4272 from watiko/vim-7.4.937
Merge pull request #4267 from watiko/vim-7.4.932
Merge pull request #4263 from watiko/vim-7.4.901
Merge pull request #4262 from watiko/vim-7.4.893
vim-patch:7.4.878 #4258
Merge pull request #4310 from jbradaric/vim-7.4.939
Merge pull request #4250 from jbradaric/vim-7.4.895
Merge pull request #4307 from jbradaric/vim-7.4.870
Revert "Enable link-time optimisations on Release build."
Merge pull request #4259 from watiko/vim-7.4.881
Merge pull request #4167 from lucc/test11
Merge pull request #4243 from lucc/test36
completion: Avoid flicker.
Merge pull request #4079 from fwalch/vim-patch/review-improvements
Merge pull request #4314 from justinmk/mksession_terminal
Merge pull request #4247 from watiko/vim-7.4.903
mksession: Restore buftype=terminal windows.
documentation: Add notes to eval.txt and vim_diff.txt
Merge pull request #4313 from Yamakaky/flto
Enable link-time optimisations on Release build.
path.c: Fulfill the `@returns` conditions
vim-patch:7.4.903
vim-patch:7.4.845
vim-patch:7.4.832
vim-patch:7.4.831
ex_docmd: Fix code style in ex_match
vim-patch:7.4.939
Merge pull request #4296 from mhinz/fix-termclose
Tests: check <abuf> from TermClose
Make TermClose event return the associated buffer
Merge pull request #4306 from justinmk/termau
vim-patch:7.4.870
Merge #4249 'tests: migrate charsearch'
test: charsearch: Fix error/typo in legacy test.
tests: Remove old charset test after migration.
tests: Migrate legacy charsearch test.
Merge pull request #4298 from tomxtobin/fix-help-typo
Merge pull request #4264 from watiko/vim-7.4.922
Remove stray "<" in options help
Merge pull request #4240 from jbradaric/vim-7.4.888
terminal_open: do not force autocmds
Merge pull request #4294 from justinmk/coverity
coverity/135593: Error handling issues (CHECKED_RETURN)
coverity/135589: (FP) Null pointer dereferences
Merge pull request #4280 from mhinz/add-issue-template
Add ISSUE_TEMPLATE.md
Merge pull request #4276 from justinmk/coverity135578
option_defs.h: Introduce SHM_ABBREVIATIONS
option_defs.h: Fix "set shm+=a"
option_defs.h: Improve coding style
vim-patch:7.4.925
Merge pull request #4239 from jbradaric/vim-7.4.885
vim-patch:7.4.859 #4238
Merge pull request #4244 from watiko/vim-7.4.830
Merge pull request #4234 from watiko/vim-7.4.977
Merge pull request #4230 from jbradaric/vim-7.4.853
Merge pull request #4229 from jbradaric/vim-7.4.847
vim-patch:7.4.844 #4228
Merge pull request #4213 from jbradaric/vim-7.4.835
Merge pull request #4188 from jbradaric/vim-7.4.868
vim-patch.sh: Replace #<number> with vim/vim#<number> in commit messages.
vim-patch.sh: Support multi-patch pull requests.
vim-patch.sh: Add -s (submit pull request) option.
vim-patch.sh: Use .patch files only.
vim-patch.sh: Improvements for review functionality.
vim-patch:7.4.937
version.c: Mark 7.4.935 NA
vim-patch:7.4.933
coverity/135578: Memory - illegal accesses
ex_docmd: Don't use pre-increment.
vim-patch:7.4.895
Merge pull request #4171 from cacplate/pr-3694
Doc: correct default value
diff.c: change return type to bool
vim-patch:7.4.932
vim-patch:7.4.926
vim-patch:7.4.922
vim-patch:7.4.901
vim-patch:7.4.912
vim-patch:7.4.893
test: Fix lint error
test: Add test cases to legacy test autocmd_option
eval: Fix linter error.
vim-patch:7.4.888
vim-patch:7.4.891
Merge pull request #4260 from watiko/vim-7.4.887
vim-patch:7.4.887
Merge pull request #4220 from watiko/vim-7.4.792
test: Remove files of old test 36.
test: Migrate legacy test 36.
test: Remove old files for legacy test 11.
test: Migrate legacy test 11.
vim-patch:7.4.881
vim-patch:7.4.879
Merge #4140 'vim-patch:7.4.771'.
test: search_mbyte_spec: minor cleanup
Merge pull request #4166 from lucc/legacy/command_count
Merge pull request #4254 from Shougo/remote
Merge pull request #4252 from justinmk/filetype
startup: Avoid VimL global. Introduce TriState enum.
startup: respect earlier :filetype and :syntax.
ex_docmd: rename force_enable_filetype().
syntax: don't override user settings
syntax: avoid extra global macro
defaults: Enable syntax and filetype plugins.
Merge pull request #4216 from bfredl/rebuild
build system: avoid more unneccesary recompiles
Merge pull request #4248 from watiko/vim-nas
Improve remote plugin scripts
version.c: Mark patches NA
Merge #2674
test: completion_spec: minor edits
vim-patch:7.4.833
vim-patch:7.4.830
Merge pull request #4237 from Jun-T/shada-symlink
vim-patch:7.4.885
vim-patch:7.4.877
test: shada_spec: resolve symlink
Merge pull request #4235 from watiko/vim-7.4.828
vim-patch:7.4.828
Merge pull request #4204 from watiko/vim-7.4.915
Merge pull request #4186 from watiko/vim-7.4.929
vim-patch:7.4.977
vim-patch:7.4.883
vim-patch:7.4.818
vim-patch:7.4.931 (NA)
vim-patch:7.4.929
vim-patch:7.4.743
vim-patch:7.4.734
tests: Migrate legacy test match_conceal
vim-patch:7.4.792
vim-patch:7.4.857
vim-patch:7.4.847
Merge pull request #4205 from watiko/vim-7.4.737
Merge pull request #4224 from fmoralesc/docs-term
doc: remove references to 'term' and other tty related options.
Merge pull request #4221 from Jun-T/install-mo
Merge pull request #4225 from bfredl/helptags
set VIMPACKAGE to "nvim"
cmake: if helptags generation fails, echo the message
Merge pull request #4217 from fmoralesc/vim-7.4.735
vim-patch:7.4.735 (NA)
install *.mo files correctly
vim-patch:7.4.737
CMake: Add #include in _FORTIFY_SOURCE check. #4214
vim-patch:7.4.856
vim-patch:7.4.853
file_search: Change return type of ff_wc_equal to bool.
vim-patch:7.4.843
file_search: Declare loop variables inside the loop.
vim-patch:7.4.835
buffer_defs: Remove spaces in member declarations.
Fix linter errors.
vim-patch:7.4.868
Merge pull request #4212 from jbradaric/vim-7.4.834
vim-patch:7.4.834
Merge pull request #4103 from cacplate/pr-3695
charset.c: change return type to bool
Syntax: skip over ]
Merge pull request #4187 from watiko/vim-7.4.742
Merge pull request #4184 from watiko/vim-7.4.732
Merge pull request #4178 from watiko/vim-7.4.708
Merge #4152 'vim-patch:7.4.{798,800,805,810,811,814,815,816,817,820,825}'.
Merge #4136 vim-patch:7.4.{755,758,760}
vim-patch:979243b
vim-patch:7.4.760
vim-patch:7.4.758
vim-patch:7.4.755
vim-patch:7.4.801
Merge #4139 'vim-patch:7.4.{768,769}'.
vim-patch:7.4.769
vim-patch:7.4.768
vim-patch:7.4.915
vim-patch:7.4.749
Merge pull request #4094 from justinmk/_GNU_SOURCE
version bump
NVIM v0.1.2
vimrc_example.vim: Update vimrc path. #4203
Fix lint errors
doc: Add whitespace before parens. #4202
vim-patch:7.4.742
Merge pull request #4175 from watiko/vim-7.4.700
vim-patch:541f92 #4173
Merge pull request #4176 from watiko/vim-7.4.689
Merge pull request #4185 from justinmk/ci_mingw
CI/travis: get MinGW from our mirror.
vim-patch:7.4.689
CI/travis: Move check to before_script.sh.
vim-patch:7.4.693 #4172
vim-patch:7.4.732
Merge pull request #4174 from jamessan/msgpack-version-check
cmake: Use find_package(Msgpack)'s version in pkg_search_module
cmake: msgpack: Check all lib names per directory
cmake: msgpack: Add more thorough version check
vim-patch:7.4.717
vim-patch:7.4.708
Merge pull request #4157 from watiko/vim-7.4.694
vim-patch:7.4.688 #4159
clipboard: Check $DISPLAY. Prefer xsel. #4150
tests: Add test case for legacy test 45
tests: Migrate legacy test 45.
vim-patch:7.4.700
tests: Remove old test files for command_count.
tests: Simplify migrated legacy test.
tests: Fix migrated legacy test.
tests: Migrate legacy test command_count.
Merge pull request #4155 from justinmk/gui_running
Merge pull request #4158 from neovim/coverity-135004
coverity/135004: Null pointer dereferences
tests: Migrate legacy test textobjects
vim-patch:7.4.694
vim-patch:7.4.662
CMake: Avoid dependency cycles in helptags targets. #3983
ui: revert "gui_running" hack
Merge pull request #4153 from watiko/vim-7.4.643
Merge #4120 'vim-patch:7.4.740'
test: Do not depend on helptags.
vim-patch:7.4.643
vim-patch:7.4.825
vim-patch:7.4.820
Tests: fix according to lualint
vim-patch:7.4.817
vim-patch:7.4.816
vim-patch:7.4.815
vim-patch:7.4.814
vim-patch:7.4.811
vim-patch:7.4.810
vim-patch:7.4.805
vim-patch:7.4.800
vim-patch:7.4.798
Merge pull request #3871 from ZyX-I/tabline-clicks
runtime/msgpack: Fix msgpack#string that expects old string() behavior
functests: Add string() function tests
eval: Return different values when dividing by zero
eval: Use str2float() to represent inf and nan values
eval: Add +tablineat feature
documentation: Reword help
functests: Improve tabline click tests
tabline: Switch to functions, handle different click types
tabline: Add %[] atom to the tabline, for random commands on click
option: Refactor 'statusline' option flags from #defines to enum
version.c: update
legacy2luatest: Use before_each instead of setup.
vim-patch:7.4.740
Remove unused variables from the test.
Use before_each instead of setup in the test.
Merge pull request #4145 from pra85/patch-1
Merge pull request #4129 from jbradaric/vim-7.4.745
search: Fix linter errors.
Add test files for patch 7.4.771.
doc: fix typo in doc/nvim_provider.txt
vim-patch:7.4.741 #4121
Merge pull request #4113 from jbradaric/vim-7.4.709
Merge pull request #3994 from sethjackson/pathext
Merge pull request #4144 from george-b/manwidth
Merge pull request #4013 from watiko/vim-increment
Respect $MANWIDTH
Merge pull request #4024 from sethjackson/io-include
Merge pull request #4030 from sethjackson/unistd
Fix lint error
tests: Migrate legacy test increment.
vim-patch:7.4.1089
vim-patch:7.4.1088
vim-patch:7.4.1087
vim-patch:7.4.1085
vim-patch:7.4.634
vim-patch:7.4.1084
vim-patch:7.4.1076
vim-patch:7.4.1072
vim-patch:7.4.1065
vim-patch:7.4.1029
vim-patch:7.4.1027
vim-patch:7.0212
vim-patch:7.4.848
vim-patch:7.4.823
vim-patch:7.4.807
vim-patch:7.4.806
vim-patch:7.4.782
vim-patch:7.4.780
vim-patch:7.4.779
vim-patch:7.4.778
vim-patch:7.4.765
vim-patch:7.4.764
vim-patch:7.4.754
vim-patch:7.4.771
Windows: use $PATHEXT to find executables in path.
vim-patch:7.4.748
Fix linter errors.
vim-patch:7.4.747
vim-patch:7.4.746
vim-patch:7.4.745
Merge pull request #4117 from watiko/vim-7.4.963
Merge pull request #3165 from blueyed/dont-wrap-DECSCUSR-for-tmux
Do not use TMUX_WRAP for DECSCUSR sequence
tests: add always complete test
edit.c: fix incorrect redo buffer
edit.c: fix flicker in popup menu
Merge #3077 'test_eval'
test: eval_spec.lua: minor cleanup
Merge pull request #4124 from justinmk/vim-7.4.1137
vim-patch:7.4.1137
Merge pull request #4118 from nicdumz/vim-83d1b19
Merge pull request #4096 from justinmk/coverity125476
Merge pull request #4119 from jamessan/minimum-msgpack-version
vim-patch:7.4.709
cmake: msgpack: Ensure at least version 1.0 is found
vim-patch:ba172f2
vim-patch:0a63ded
vim-patch:83d1b19
vim-patch:7.4.963
vim-patch:7.4.949
vim-patch:7.4.753
vim-patch:7.4.639
file_pat_to_reg_pat(): handle empty string.
Merge #4112 'vim-patch:7.4.698'
eval_defs.h: fix comment
Merge pull request #4080 from jbradaric/vim-7.4.704
Merge pull request #4098 from jusga/vim-7.4.656
Merge pull request #4111 from nicdumz/vim-5a5f459
glob2regpat(): handle empty string.
vim-patch:7.4.698
vim-patch:5a5f459
tests: Remove legacy test files for eval test.
tests: Migrate recent patches of legacy eval test.
tests: Comments and typos after review.
tests: Resurrect unused part of legacy eval test.
tests: Split converted eval test into it() blocks.
tests: Debug converted eval test.
tests: Migrate legacy eval test.
vim-patch:ac809999
coverity/125476: RI: Null pointer dereference
Merge pull request #4107 from oni-link/remove.strlen
search.c: searchit(): Remove strlen() check
Merge pull request #4093 from oni-link/fix.issue.3486
vim_str2nr: cleanup #4104
vim-patch:7.4.656
Merge pull request #2710 from lucc/test83
Merge pull request #4039 from cacplate/pr-3696
Merge pull request #4097 from fmoralesc/4071
plugin/tutor: Fix locale handling
window.c: change return types to bool
tests: Improve test 83 and add `pending()` call.
tests: Migrate legacy test 83.
Merge pull request #4095 from justinmk/coverity134885
coverity/134885: Using uninitialized value
cmake: Linux: define _GNU_SOURCE.
regexp_nfa.c: Speed up find_match_text()
Merge pull request #4069 from jusga/vim-7.4.680
Merge pull request #4073 from jbradaric/vim-7.4.654
Merge pull request #4089 from jbradaric/vim-7.4.722
Merge pull request #4090 from jbradaric/vim-7.4.739
vim-patch:7.4.739
vim-patch:7.4.722
strings: Change order of operands in condition.
regexp: Remove a leftover line.
vim-patch:7.4.704
Merge pull request #4072 from jbradaric/vim-7.4.642
Merge pull request #4007 from brcolow/vim-7.4.718
Merge pull request #4078 from jbradaric/vim-7.4.685
vim-patch:dbcf19d
vim-patch:7.4.685
vim-patch:5837f1f #4066
cmake: Search for both libmsgpackc and libmsgpack #4075
window: Skip backslash only if followed by space
vim-patch:7.4.718
window: Fix code style.
window: Fix linter errors.
vim-patch:7.4.642
vim-patch:7.4.654
vim-patch:7.4.680
cs_print_tags_priv: Clean up function.
cs_print_tags_priv: Clear first output line to screen end
coverity/133892: Resource leak
coverity/133858: Out-of-bounds access
coverity/13753: Dereference null return value
Merge pull request #4012 from jbradaric/vim-7.4.729
Merge pull request #4054 from watiko/vim-7.4.603
Merge pull request #4049 from watiko/vim-7.4.616
test: printf_spec: fix missing setup
Merge #3916 "Add support for binary numbers".
tests: Migrate legacy test 39.
vim-patch.sh: List in chronological order. #4034
Merge pull request #4061 from Pyrohh/doc
Merge pull request #4052 from sethjackson/anchor
doc: The ":drop" command is always available
Merge pull request #3944 from bfredl/detach
job control: don't kill PTY processes on exit
job control: add tests for 'jobpid' and 'detach'
job control: implement jobpid() to get PID of job
clipboard: Detach clipboard helper, so contents is kept after nvim exit
job control: add 'detach' option to jobstart
vim-patch:7.4.603
gitignore: Anchor errors.json
Add eol to listchars for mouse specification tests
screen: Fix linting errors
vim-patch:7.4.729
vim-patch:7.4.616
config: Remove HAVE_UNISTD_H.
Merge pull request #4046 from strokirk/fix-redirectstream-iobase
Merge pull request #4044 from sethjackson/utime
python: Add missing I/O methods to RedirectStream
Merge pull request #4038 from sethjackson/build-type-cache
config: Remove duplicate check for HAVE_UTIME_H.
CMake: Defer setting CACHE CMAKE_BUILD_TYPE.
MSVC+CMake: avoid get_target_property. #4004
Merge pull request #4037 from watiko/fix-doc-mem
Merge pull request #3981 from watiko/vim-7.4.991
doc: Remove MEM_PROFILE related description
Merge pull request #4035 from heewa/fix-ycm-path
Merge pull request #3967 from cacplate/pr-3698
Improve YCM contrib: Fix db path
Merge pull request #3997 from cacplate/do_init
vim-patch.sh: Fix listing of NA patches. #4034
fileio: Change return types to bool
globals: remove DO_INIT macro and replace usage by INIT
Windows: include <io.h>.
Merge pull request #4027 from sethjackson/fcntl
Merge pull request #4025 from Pyrohh/nofollow
Windows: Include <fcntl.h> for file constants.
os/win_defs.h: Define O_NOFOLLOW
misc: UNIX => Unix #4022
doc: Remove reference to gettimeofday()
doc: Remove more references to MS-DOS
doc: cleanup. #4032 #4033
Merge pull request #4029 from sethjackson/fcntl
Merge pull request #4020 from sethjackson/uv-include
config: Remove HAVE_FCNTL_H.
Windows: Include <uv.h> for S_IFLNK.
Fix lint issues
Add support for binary numbers
Merge pull request #4021 from jusga/vim-f3c2afb
vim-patch:f3c2afb
tests: Migrate legacy test cdo.
vim-patch:7.4.991
vim-patch:7.4.981
vim-patch:7.4.980
vim-patch:7.4.978
tests: Remove needless line continuation.
Revert ROOT_UID removal
Merge pull request #4019 from Pyrohh/fcntl
Merge pull request #4015 from Pyrohh/os_defs_more
Misc. macro cleanup
test: sys/fcntl.h -> fcntl.h
Merge pull request #4014 from jusga/vim-2b8388b
doc: Remove references to the Mac GUI #4016
Merge pull request #4017 from sethjackson/rgb
Windows: Undefine the Windows RGB macro.
Merge pull request #4009 from sethjackson/swapsync
Merge pull request #3990 from sethjackson/remove-gtk-docs
doc: Remove references to GTK.
Remove swapsync.
vim-patch:2b8388b
Merge pull request #4005 from sethjackson/stack-protector
MinGW: don't use -fstack-protector
Merge pull request #4010 from watiko/vim-7.4.614
vim-patch:7.4.716 #4006
vim-patch:7.4.614
vim-patch:7.4.715 #4003
Merge pull request #4002 from brcolow/7.4.714
Merge pull request #4008 from brcolow/vim-7.4.721
vim-patch:7.4.721
vim-patch:7.4.714
Merge pull request #3992 from Pyrohh/shada
shada.c: Fix HAVE_BE64TOH check
Merge pull request #3996 from justinmk/ctrlc
vim patches 7.4.955/974/975/989. #3919
Merge pull request #3977 from sethjackson/output-paths
terminal: less babysitting of mapped_ctrl_c
vim-patch:7.4.569/573
Merge pull request #3995 from sethjackson/crt-externs
config: Cleanup unused identifiers.
Merge pull request #3993 from Pyrohh/os_defs
Stop using <stropts.h>
Merge pull request #3985 from Pyrohh/_max_path
os/*_defs.h: MAXNAMLEN cleanup
Merge pull request #3291 from sethjackson/env-separator
Merge pull request #3984 from cacplate/has_event
doc: Remove references to Motif GUI support #3893
Windows: use ';' as env $PATH separator.
fileio: Replace some event checking functions with one has_event
Merge pull request #3982 from justinmk/nohighbit
input: Do not set high-bit; preserve ALT modifier.
Merge pull request #3980 from ZyX-I/shell-unquote
shell: Unquote &shell* options before using them
Merge pull request #3979 from sethjackson/maxnamlen
Fix build output paths for Visual Studio generator
Windows: define MAXNAMLEN for Windows.
Merge pull request #3978 from justinmk/32bit
portability: fix cast.
Merge pull request #2667 from equalsraf/tb-min-log
cmake: Pass -DMIN_LOG_LEVEL as compiler definition
Merge pull request #3974 from sethjackson/cpack
Merge pull request #3972 from jusga/vim-e271909
CMake: Add CPack settings to CMakeLists.txt
vim-patch:e271909
win32: Fix syntax error in #ifndef block. #3968
portability: use portable format specifier
Merge #3857 'Vim 7.4.{944,945,946,950,953,1032,1055}'.
Improve coding style
tests: Make helper.source() return tempname.
tests: Fix OSX's tempname issue.
tests: Rename 100_undo_level to 100_lispwords.
tests: Migrate legacy test undolevels.
tests: Migrate legacy test assert.
vim-patch:7.4.1055
vim-patch:7.4.1032
vim-patch:7.4.953
vim-patch:7.4.950
vim-patch:7.4.946
vim-patch:7.4.945
vim-patch:7.4.944
build: ensure static jemalloc. #3970
Merge pull request #3962 from sethjackson/windows-98
doc: Remove references to Windows 98.
vim-patch.sh: fix regression
Merge pull request #3965 from jusga/vim-e3faf44
Merge pull request #3963 from Pyrohh/contrib
CONTRIBUTING.md: Remove outdated info
vim-patch:e3faf44
Remove 'restorescreen' option
Merge pull request #3943 from ZyX-I/better-fref-error
Merge pull request #3839 from justinmk/reprobuilds
version: semver.org compliance
BuildLibuv.cmake: make case consistent
screen.c: Remove out of date comment
Merge pull request #3956 from oni-link/cov.62611
coverity/62611: Nesting level does not match indentation
Merge pull request #3952 from Pyrohh/repro-builds
build: Stop using __{DATE,TIME}__
eval: Do not use msgpack#string for error messages
documentation: Update documentation
functests: Update tests
doc: Clarify Windows feature tests for eval().
Merge pull request #3945 from sethjackson/win32-winnt
MinGW: libuv needs -D_WIN32_WINNT=0x0600
eval: Use better error messages when failing to dump values
Merge pull request #3938 from sethjackson/s-islnk
Fix S_ISLNK definition in os_defs.h.
Merge pull request #3655 from bfredl/enc_default
encoding: update tests
encoding: Update documentation
encoding: cleanup defaults of iskeyword, isprint and fileencodings
encoding: Always use "utf-8" as default for &encoding
Merge pull request #3927 from sethjackson/if-cscope
Merge pull request #3928 from justinmk/fix_ci_target
test: change CI_TARGET reference to CI
CI/travis: enable gcov for one build only. #3926
Windows: Bring back code branch for if_cscope.
Merge pull request #3920 from sethjackson/vim-spec
Merge pull request #3925 from sethjackson/uv-uid-t
Merge pull request #3903 from justinmk/vim-7.4.605
file_pat_to_reg_pat, buflist_findpat: const params
Windows: Make the os_get_uname argument portable.
Merge pull request #3911 from sethjackson/have-fsync-guard
Merge pull request #3707 from bfredl/oapblock
normal: use oap->motion_type also to represent block motion type
Port fsync() to libuv.
test/functional: Fix api/vim_spec.lua.
Merge pull request #3918 from sethjackson/servertest
Merge pull request #3304 from sethjackson/wildignorecase
Windows: Ignore EW_ICASE in do_path_expand
Windows: fix serverstart functional test
Merge pull request #3881 from sethjackson/msvc-ui-call
build: use our mirror of LuaJIT-2.0.4.tar.gz
Merge pull request #3910 from Shougo/version
Update version.c to 7.4.1000
vim-patch:7.4.605
Merge pull request #3869 from oni-link/fix.issue.3844
build: use our mirror of LuaJIT-2.0.4.tar.gz
Merge pull request #3874 from sethjackson/win-defs
Merge pull request #3879 from sethjackson/open-osfhandle
Merge pull request #3849 from Shougo/vim-7.4.675
Merge pull request #3868 from Shougo/vim-7.4.608
Merge #2927 'vim-patch:7.4.858'
test: Makefile: add legacy cdo test
vim-patch:7.4.858
doc: os_dos.txt: Remove more references to MS-DOS/Windows 95 #3889
doc: Remove references to neXtaw GUI support #3892
doc: Fix invalid reference
doc: mbyte.txt: Remove some low-hanging fruit
doc: Remove references to Athena GUI support #3891
doc: vi_diff: Update supported OS list #3890
doc: Remove a reference to Windows ME #3888
gitignore: Ignore errors.json
doc: os_win32: More cleanup #3884
doc: Remove some references to MS-DOS #3886
Windows: Remove unused function #3878
MSVC: Fix UI_CALL macro for MSVC.
doc: Remove references to Windows 3.1 #3883
Windows: Fix cast in if_cscope.c.
MSVC: Define STDOUT_FILENO and STDERR_FILENO.
helpers.c: Handle msgpack str/bin objects with length 0 correctly
Tests: fix according to lualint
Merge pull request #3867 from Shougo/vim-7.4.604
vim-patch:7.4.604
vim-patch:7.4.608, 7.4.612
Merge pull request #3722 from ZyX-I/fix-3721
shada: Free wms->hms in shada_write_exit
shada: Continue dumping when variables failed to dump
Merge pull request #3863 from justinmk/vim-8a94d87
vim-patch:8a94d87
vim-patch.sh: force LC_ALL=C for preprocessing
Merge pull request #3860 from justinmk/vim-0122c40
vim-patch:0122c40
Merge pull request #3859 from justinmk/vim-83caecf
Merge pull request #3858 from justinmk/vim-9da7ff7
vim-patch:83caecf
vim-patch:9da7ff7
vim-patch.sh: fix order of non-tagged patches
Merge pull request #3851 from brcolow/vim-7.4.682
vim-patch:7.4.682
Merge pull request #3842 from sethjackson/cross-compile
Merge pull request #3846 from sethjackson/win-defs
MSVC: Define S_IXUSR.
Merge pull request #3848 from Shougo/vim-7.4.665
Merge pull request #3847 from Pyrohh/move-uncrustify
contrib: Move uncrustify.cfg to contrib/
vim-patch:7.4.675
vim-patch:7.4.665, 671
Fix CMakeLists.txt search paths for cross compile
Merge pull request #3841 from sethjackson/fname-illegal
Windows: define FNAME_ILLEGAL.
Merge #3623 'vim-patch:7.4.{670,723,803}'
Fix linting errors.
Solve warnings.
vim-patch:7.4.803
Appease clint.
vim-patch:7.4.723
vim-patch:7.4.670
Merge pull request #3706 from Pyrohh/version_commit
Merge pull request #3481 from fabiopozzi/improve-it-translation
Merge pull request #3838 from Shougo/vim-7.4.658
Merge pull request #3837 from Shougo/vim-7.4.645
Merge pull request #3834 from Shougo/vim-7.4.635
vim-patch:7.4.635
Merge #3718 'vim-patch:7.4.655'
Merge pull request #3835 from Shougo/vim-7.4.640
Merge pull request #3836 from sethjackson/set-init-3
test: fixeol_spec: setup/teardown
Merge #3443 'vim-patch:7.4.{785,795,898}'
Windows: Remove broken check for WIN3264.
vim-patch:7.4.658
vim-patch:7.4.645
Merge pull request #3816 from sethjackson/win-setenv
vim-patch:7.4.640
Windows: Implement os_setenv() using _putenv_s()
doc: nvim_python: mention --upgrade. #3832
Merge pull request #3589 from ZyX-I/remove-internal_refcount
Fix indenting nested elseifs
eval: Use list_unref in place of decrementing refcount directly
eval: Replace internal_refcount hack with proper copyID setting
Merge pull request #3753 from watiko/vim-7.4.790
Merge pull request #3807 from ZyX-I/improve-clint
shada: Fix all linter errors in src/nvim/shada.*
Merge pull request #3824 from sethjackson/pstrcmp
Merge pull request #3825 from sethjackson/modname
Merge pull request #3826 from sethjackson/remove-getscript
Remove getscript.vim.
Windows: Remove unnecessary codepath from modname.
Windows: Remove UNIX guard for pstrcmp()
Make clint status valid
Fix the memory leaking
Revert char to char_u
tests: Improve legacy autocmd_option.
clint: Check indentation and alignment inside expressions
statusline: Check width before advancing pointer. #3818
Merge pull request #3813 from Shougo/remote
Merge pull request #3804 from sethjackson/signal-guards
Merge pull request #3783 from sethjackson/log-file-def
clint: Check for spaces after { and before }
clint: Do not special-case for() semicolons
Fix UpdateRemotePlugins fails problem
Merge pull request #3805 from sethjackson/windows-home
Windows: Define HOME environment variable
clint: Disallow old style comments everywhere, except for macros
clint: Make sure that braces are always used for if and other clauses
Add guards for SIGPIPE and SIGQUIT
Update USR_LOG_FILE definition.
Merge pull request #3780 from sethjackson/header-guards
Merge pull request #3782 from sethjackson/mingw-luajit
Merge pull request #3793 from mhinz/docs/remove-shell-cmd
Docs: remove reference to removed :shell command
Improve coding style
Remove "Commit:" field from `--version` output
Nvim 0.1.1
Merge pull request #3788 from sethjackson/command-line-execute
Fix Windows code in command_line_execute()
MinGW: Add libluajit-5.1 lib name to FindLuaJit
Add missing guard for HAVE_UNISTD_H
Merge pull request #3666 from sethjackson/libuv-libs
undo.c: Change return type to bool on functions #3697
Test: remove artifacts from root directory
Luacheck: point to latest rockspec
Merge pull request #3762 from Shougo/vim-7.4.649
Merge pull request #3761 from Shougo/vim-7.4.631
Merge pull request #3760 from Shougo/vim-7.4.623
Merge pull request #3759 from Shougo/vim-7.4.617
vim-patch:7.4.631
vim-patch:7.4.623
Merge pull request #3751 from Pyrohh/make_test
cmake: Don't use check_library_exists for Win32 API libraries
Merge pull request #3242 from sethjackson/vim-defs
Windows: Add path definitions for Windows.
vim-patch:7.4.649
vim-patch:7.4.617
Merge pull request #3755 from neovim/fmoralesc-patch-1
tutor: Fix mistaken option name
Merge pull request #3750 from Pyrohh/header
tests: Keep each autocmd_option's test in isolation.
Use vim_snprintf instead of sprintf
Improve coding style
Merge pull request #3675 from fmoralesc/update-vim-tutor
tutor: Update vim-tutor to 0.2.1
Improve coding style
tests: Improve legacy test autocmd_option.
tests: Migrate legacy test autocmd_option.
vim-patch:7.4.790
vim-patch:7.4.789
vim-patch:7.4.787
vim-patch:7.4.786
Make `make test` run unit tests too
Merge pull request #3724 from ZyX-I/fix-3635
src/*: Remove `VIM - Vi improved ...` header
Merge pull request #3741 from Pyrohh/doc-rm-todo
Windows: Only redefine ssize_t for MSVC
CONTRIBUTING.md: Fix broken sentence
Merge pull request #3531 from equalsraf/tb-cleanup-os-errors
Don't use errno constants for os_open() errors
Update shada.c to use libuv error constants instead of errno constants
Use libuv errors instead of errno in unit tests
Return libuv error code from os_getperm()
Return libuv return code from os_stat()
Fix comments for os_* functions return value
Remove unnecessary includes for errno.h
Merge pull request #3742 from Pyrohh/antialias
Remove 'antialias' remnants
doc: Remove todo.txt
Merge pull request #3740 from Pyrohh/vi_diff2
doc/vi_diff.txt: Remove unneeded opening paragraph
doc/vi_diff.txt: Remove remaining "{Vi: ...}" note
doc: Remove some Vi-compatibility stuff
Merge pull request #3733 from Pyrohh/doc_develop
doc/develop.txt: Remove "coding-style" section
doc/develop.txt: Mention src/nvim/README.md
doc/develop.txt: Remove "design-assumptions" section
Merge pull request #3734 from Pyrohh/src-readme
src: README.txt -> README.md
Merge pull request #3731 from Pyrohh/gitignore
Update .gitignore
Merge pull request #3624 from Pyrohh/vi_diff
Merge pull request #3581 from ZyX-I/fix-shada
doc: vi_diff: Remove 'Missing options' section
doc: vi_diff: Remove 'Other vim features' section
doc: vi_diff: Remove 'Command line arguments' section
doc: Remove stray {not in Vi} tag
shada: Also store last search direction
Merge PR #3687 'Add luacheck for linting tests'
test/functional: clean up according to luacheck (part 2)
test/functional: clean up according to luacheck (part 1)
test/unit: clean up according to luacheck
test/benchmark: clean up according to luacheck
Tests: add luacheck for linting tests
Remove outdated comment from BuildLuarocks.cmake
Merge PR #3715 'Enable focus events in cmdline and terminal modes'
Reorganize focus events test into individual tests
Enable focus events in cmdline and terminal modes
shada: Do not save unlisted and quickfix buffers
Merge pull request #3270 from ZyX-I/shada-support
vim-patch:7.4.898
vim-patch:7.4.795
Convert legacy test for fixeol to lua test.
vim-patch:7.4.785
vim-patch:7.4.655
Update version.c to latest Vim
Merge PR #3488 'Implement handling of terminal focus events'
Add tests for focus events
Implement handling of terminal focus events
Merge pull request #3680 from jszakmeister/fix-ordering-oldfiles-spec
Workaround the unstable ordering of v:oldfiles in some more tests.
Merge pull request #3678 from Pyrohh/ex_ni
ex_cmds.lua: Use ex_ni directly
Merge pull request #3339 from war1025/dev/clean_build_stl_str_hl
Merge pull request #3672 from Pyrohh/macro-cleanup
Merge PR #3653 'Add TermClose event'
Test: add functional/autocmd/termclose_spec.lua
Add TermClose event
TermEnter -> TermOpen
Remove unused TERMINAL_OPTIONS_INIT() macro
Merge pull request #3671 from kyrias/vim_diff-typo
vim_diff: Fix incorrect ShaDa path
Merge pull request #3630 from oni-link/fix.issue.3588
memory.c: Prevent garbage collection when running out of memory.
normal.c: No garbage collection while handling an event in normal mode
Doc: minor fix for ":ls u"
Merge pull request #3663 from ming-codes/patch-1
Update backer URL
Cleanup from review
Switch comments to match style guide
Updates from review
Start adding unit tests
Fix shadowed variable in build_stl_str_hl
Add documentation about what TABPAGENR and TABCLOSENR do
Fix lint
Add out_end_p to mark last valid character in statusline buffer
Rename build_stl_str_hl input and output buffer pointers
Add comments to build_stl_str_hl
Clean up buffer.c build_stl_str_hl variable declarations
Merge pull request #3651 from mhinz/remove-nvimrc-refs
Remove all invalid nvimrc and ngvimrc references
vim-patch:7.4.791 #3078
Merge pull request #3652 from Pyrohh/rm-os-mac
doc: Nuke os_mac.txt
Merge pull request #3641 from Pyrohh/X11
Test: improve functional/ex_cmds/oldfiles_spec.lua
Be more explicit about the lack of X11 integration
vim-patch:7.4.651 #3644
Merge pull request #3643 from jszakmeister/enable-verbose-builds
third-party: enable verbose builds of luajit and libuv
Merge PR #3611 'Add file selection prompt on ":oldfiles!"'
Add file selection prompt on ":oldfiles!"
Add tests for :oldfiles
Merge PR #2427 'Add ":profile dump" and ":profile stop"'
Add ":profile stop"
Add ":profile dump"
Add test/functional/ex_cmds/profile_spec.lua
Remove unused constants
Merge PR #3603 'Implement dictionary notifications'
eval: Implement dictionary change notifications
eval: Extract `find_var_ht_dict` from `find_var_ht`
eval: Extract `find_ufunc` from `get_dict_callback`
vim-patch:7.4.686 #3629
Fix the examples for vim-patch.sh so they are valid commands. #3631
Update runtime/syntax/css.vim
Merge pull request #3628 from mhinz/vim-patch-f2571c6
vim-patch:f2571c6
Merge pull request #3622 from Sean1708/patch-1
doc: Remove example in 'complete' doc.
Merge pull request #3569 from Pyrohh/rm-open
Remove :open command
IWYU: remove unused "version.h"
doc: remove balloon options. #3524
doc
Merge pull request #3616 from jszakmeister/sort-results-shada-test
Sort oldfiles in the marks_spec tests to avoid random ordering errors.
Merge pull request #3609 from Pyrohh/snowch-patch-1
contrib: Clarify the intention of the YCM configuration
Merge pull request #3607 from ZyX-I/fix-3605
undo: Remove incorrect NONNULL_ALL attribute
Merge pull request #3599 from jszakmeister/fix-python-detection
Ensure a session is running before attempting to do Python detection.
Merge pull request #3590 from blueyed/fix-python-provider-finish
runtime/autoload/provider/python{,3}.vim: fix E168
Merge pull request #3584 from justinmk/gitdescribe
build: fix '-fno-sanitize-recover' warning in Clang 3.7
build: Use `git describe` for version strings.
Nvim 0.1.0
Merge pull request #3583 from Pyrohh/browse
Remove useless FEAT_BROWSE ifdef
Nvim 0.1.0
Merge 'CMake: Prepare for releases.'
documentation: Add documentation on shada plugin
documentation: Add documentation for autoload/msgpack.vim
runtime: Add shada.vim syntax file
runtime: Add [ft]plugin/shada.vim files that automatically open .shada
runtime: Add autoload/shada.vim helper file
functests: Do not run some tests if there is no -NaN
runtime: Add autoload/msgpack.vim helper file
CMake: Force use of project directory to look for Git data.
version: Prepare for releases.
CMake: Disable logging for release build types.
CMake: Add custom Dev build type.
Merge pull request #3578 from Pyrohh/gitignore
Update .gitignore
Merge pull request #3570 from srobbibaro/srobbibaro/doc-update
Update terminal documentation for clarity
ui_bridge: Fix race condition that results in deadlock.
Merge pull request #3572 from Pyrohh/os_getenv
os/fs.c: Convert stray getenv() to os_getenv()
Merge pull request #3550 from Pyrohh/docs-os-unix
doc: Fix lint warning
doc: Nuke os_unix.txt
Update README.md
Merge pull request #3553 from ZyX-I/fix-xdg-2
documentation: Fix &undodir default
Merge pull request #3556 from Pyrohh/local-mk-update
contrib/local.mk.example: Mention ENABLE_JEMALLOC
build: Set the default value of ENABLE_JEMALLOC to ON
undo: Automatically create undo directory if needed
undo: Do some refactoring
stdpaths: Document that stdpaths_*_subpath is not returning NULL
stdpaths: Use NULL in place of empty strings
option: Add current directory to &backupdir option
Merge PR #3546 'Fix some regressions'
tui: Don't use stderr as an output fallback for the TUI
tui: Fix abort when stdout and stderr are not tty.
os/input.c: Fix assertion in `create_cursorhold_event`
Merge pull request #3554 from ovidiu/fix-exrc-option
Fix 'exrc' option
Merge pull request #3540 from fmoralesc/fix-spellfile
spellfile: follow the XDG spec
Merge pull request #3539 from jszakmeister/js/use-updated-busted
Remove our cliargs workaround use 2.0.rc11 of Busted.
Merge pull request #3528 from Grimy/directory-last-char
Merge pull request #3525 from jszakmeister/fix-busted-dependency
option: fix off-by-one error when handling &directory
Update busted to pick up the CLI fix.
doc: Remove CLA requirement.
Merge pull request #3516 from Pyrohh/manual
nvim.1: XDG update
Merge pull request #3515 from Tranquility/make_jemalloc_optional
Make jemalloc optional
Merge pull request #3514 from fmoralesc/fix-tutorial-2
tutor: fix typo
Merge pull request #3502 from ZyX-I/fix-xdg
Merge PR #3413 'Refactor Neovim to remove the side effects of `K_EVENT`'
edit.c: Fix one clint warning
Start documenting code
ex_getln: Extract command_line_handle_key from command_line_execute
ex_getln: Convert `cmdline_{not_,}changed` labels into functions
ex_getln: refactor command line mode to use the `state_enter` loop
ex_getln: Extract local variables from getcmdline() and fix code style
terminal: Refactor to use `state_enter`
edit: Extract some functions from `insert_execute`
edit: Move most code from `edit()` to `insert_{enter,check,execute}`
edit: Extract local variables from edit() and fix code style
normal: Extract some functions from `normal_finish_command`
normal: Extract `normal_finish_command` from `normal_execute`
normal: Extract `normal_get_command_count` from `normal_execute`
normal: Extract some functions from `normal_execute`
normal: Split `normal_check` into multiple functions
main: Start modeling Nvim as pushdown automaton
main: Refactor normal_enter to call `os_inchar` directly
main: Call `normal_execute` from `normal_enter`
input: Remove CURSORHOLD key
normal: Fix code style in `normal_prepare` and `normal_execute`
normal: Extract most `normal_cmd` logic into two functions
main: Extract `normal_check` from `main_loop`
test: Add more TUI tests and increase timeout
Merge pull request #3507 from fmoralesc/fix-tutorial-1
tutor: fix location for init.vim file
option: Fix strange condition in add_dir function
option: Fix typos that may lead to SEGV in some cases
vim-patch:7.4.849
Merge pull request #3470 from ZyX-I/pr-3198
documentation: Update documentation regarding init.vim location
os/unix_defs: Rename default system vimrc file to sysinit.vim
main: Check init.vim files also in other XDG directories
Merge pull request #3490 from ZyX-I/fix-3472
oldtests: Also set `.` as default directories for old tests
functests: Fix tests
functests: Use . for various folder defaults in tests
functests: Do not forget about -i argument
*: Fix linter errors
memline: Automatically create swap file directory for last directory
os/fs: Allow os_mkdir_recurse directory name to end with ///
option: Use memcnt for counting commas
stdpaths: Remove outdated comment
option: Silence “may be used unitialized” errors
stdpaths: Add Windows-specific directories
functests: Fix 078_swapfile_recover test
stdpaths: Add missing include
shada: Remove SHADA_FILE2
stdpaths: Remove Apple defaults, use \*nix ones instead
main,version: Remove USR_EXRC_FILE*
option: Add `//` to the end of default `&directory`
stdpaths: Add documentation
main,os/env: Fix lint errors
option: Remove new trailing spaces
option: Do not add unneeded path separator, protect against zero len
option: Move macros to functions, use PATHSEP in place of /
documentation: Update documentation
stdpaths: Do NOT create data directories
stdpaths: Give proper error message in case directory creation failed
shada: Move shada file to a new location
stdpaths,main: Remove all remaining memory leaks
option: Use proper printexpr
option: Remove some memory leaks
stdpaths: Export get_xdg function (renamed) and use it for runtimepath
stdpaths: Rename export functions so that they have common prefix
stdpaths: Remove useless functions get_user_*_dir
stdpaths: Fix some issues, specifically
option: Append with escaped commas
option: Prepare for all environment variables being NULL.
option: Move all data directories after all config directories
option: Add /site subdirectory to data directories
option: Use different default value for &runtimepath
os/env: Add functions that can iterate over colon-separated variables
option,main: Partial support of XDG base directory specification
documentation: Fix :delmarks! documentation
mark: Make clrallmarks correctly free all marks, and set zero tstamps
shada: Run set_last_cursor before writing shada file
functests: Add test to check expected behaviour (failing)
scripts: Add filter argument to shadacat.py
Improved it translation: make check-po-it now OK.
Merge pull request #1909 from equalsraf/tb-os_serveraddress
Merge pull request #3466 from johanhelsing/vim-7.4.793
Allow server_start to accept a NULL argument
Implement server_address_new()
vim-patch:7.4.793
Merge pull request #3468 from Pyrohh/man-bump-date
nvim.1: bump date
Merge pull request #3427 from ZyX-I/verbose-test-report
Merge pull request #2506 from ZyX-I/shada
tui: Flush input on timer_cb
doc: drop obsolete 'langnoremap' section. #3448
vim-patch:8feef4f #3444
documentation: Disambiguate ShaDa abbreviation
shada: Do not use msgpack_rpc functions for converting data to msgpack
shada: Fix memory leak and double free when setting both &vi and &sd
mark: Do not do unnecessary initialization
ex_getln: Fix memory leak when overwriting history item
functests: Refactor tests:
shada: Fix shada_removable signature
shada: Fix jump/change list merging code
shada(documentation): Fix outdated comments
shada: Make sure that shada-r option correctly ignores case
shada: When using shada-r normalize option path
functests: Move exc_exec to test.functional.helpers
functests: Do not disable pattern tests
shada: Fix out-of-bounds array access
shada: Save an allocation when writing local marks
shada: Fix v:hlsearch save/restore and do not write empty patterns
shada,functests: Fix v:hlsearch saving/restoring handling
shada: First write temporary file and only then check any permissions
documentation: Extend shada error handling documentation
shada: Keep uid and gid of the file when working from root
*: Fix lint errors found in new code in previously ignored files
shada: Refactor code that works with hms.last_hist_entry
documentation/functests: Replace NeoVim with Neovim
shada: Add generator key to the header
shada: Use same iteration end conditions as with other iterators
eval: Use proper iteration end condition
eval: Reorder checks in var_shada_iter
shada: Also expand file name obtained from &shada option
shada.h: Remove newline after INCLUDE_GENERATED_DECLARATIONS section
eval: Remove incorrect NONNULL_RET attributes
*: Fix problems with clang+asan Release build
mark: Clear marks in some cases, but do not do useless job in free_\*
shada: Refuse to write ShaDa file when ShaDa was disabled
os/time: Make Timestamp be 64-bit unsigned integer
search: When freeing search patterns also clear them
config: Check order and endianess even when cross-compiling
functests: Make one recover_spec test also use gdb or valgrind
eval,functests: Reference all additional_* items created by ShaDa
shada,config: Use CMake to determine endianess and be64toh existence
documentation: Update vim differences list, reference critical errors
shada: Fix crash in hmll_insert
functests: Disable some tests when running with address sanitizer
shada: Fix -Wstrict-aliasing gcc error
shada: Fix unused variable warning when using Release build
ex_getln: Return something from hist_type2char without asserts
mark: Avoid address sanitizer error
ops: Fix access to unsaved register when iterating over registers
mark: Fix out-of-bounds array access when iterating over global marks
ops: Fix “conditional … depends on unitialized …” error in op_yank_reg
shada: Fix incompatible pointer types error in non-glibc builds
shada: Fix memory leak when reading registers from ShaDa file
shada: Avoid “conditional … depends on initialized value” error
shada: Allow moving jump index past the end
shada: Use same merging code for jumps and changes
shada: Move common jump/change merging code into a macros
shada: Fix jump list merger code
shada: Move all default values to an array of ShadaEntry structs
shada: Fix linter errors
shada,functests: Add tests for merging ShaDa data
shada: Merge changes regardless whether they are from current instance
undo: When reading persistent undo file give marks current time
shada,functests: Make sure that v:oldfiles list is reset on :rshada!
shada: Always use merging when reading jumps and changes
shada: Call regtilde when reading last replacement string
functests: Add a number of “generic” functional tests
shada: Use hash for searching for history entries
shada: Allocate all hashes on stack
shada,functests: Use special sd_reader function for skipping
functests: Move wshada and sdrcmd commands to helpers
shada: Add warning about removing/renaming temporary file
shada,functests: Improve detection of invalid ShaDa files
scripts: Improve shadacat to work with unknown items
documentation: Add extended ShaDa format description
ex_getln: Refactor HIST_\* list of macros to enum
shada: When packing header, pack mapping keys as strings, not binary
shada,functests: Test compatibility support
shada: Fix GCC -Wconversion warnings in srni_flags definitions
shada: Synchronize sd_writer file before closing
documentation: Describe forward compatibility limitations
shada: Do not allow empty keys
shada: When reading marks or registers, free items when set fails
*: Make ShaDa code use VimL values for additional_\* data
shada,documentation: Extend read error handling, handle write errors
documentation: Document ShaDa compatibility features
scripts: Also print entry offset in shadacat.py
shada,functests: Test how ShaDa support code reacts on errors
shada: Make all mapping keys have at most 2 byte length
shada: Do not handle EINTR in open_file
shada: Do not export shada_read_file
shada: Translate errors and add error codes
shada: Only check errno if read/write returned -1
shada: Put pointer to the close function into reader/writer structure
shada: Handle all possible msgpack_unpacker_next returns
viminfo: Remove old code
shada: Add support for merging everything like described in the doc
shada: Do not copy history entries when writing
documentation: Document how ShaDa entries should be merged
shada: Do not save search pattern/sub string when it is older
shada: Use os_strerror in place of strerror in some places
shada: Use os_mkdir_recurse to create directory for ShaDa file
shada: Refactor history merger to use statically sized 2linked list
functests: Test that history is still accessible after :wshada
shada: Refactor history merging support to separate functions
shada: Preserve existing file permissions
shada: Populate v:oldfiles
shada: Save v:hlsearch value
main: Silence -Wunused-result in main.c for shada_read_file
shada: Add more size_t casts
Deprecate &viminfo and :[rw]v, add &shada and :[rw]sh
Replace references to viminfo in various places
functests: Fix change list ShaDa test failures
shada: Use “write then rename” variant by default for writing shada
shada: Test that history string does not contain zero byte
functests: Test &encoding support
shada: Add support for converting strings that are read or written
documentation: Update documentation
shada: Refactor file reading/writing to use os_open
shada,functests: Refactor shada items skipping
functests: Test dumping and loading change list
shada: Reassign some entry types to WantInfo and WantMarks
functests: Add tests for dumping/restoring registers
shada: Add support for dumping and restoring buffer list
shada: Use pre-populated set of buffers on removable media
shada: Do not record removable buffers and marks
shada: Add support for dumping/restoring bufs changes and win jumps
functests: Test loading last search/substitute pattern/replacement
functests: Add history tests
shada: Initial support for merging history
shada: Skip reading some items if needed
functests: Add tests for mark dumping/reading
functests: Add tests for ShaDa variables dumping/reading
main: Read marks at startup
shada: Use glibc functions to convert from big endian, add a fallback
viminfo: First version of ShaDa file dumping
mark: Fix valgrind error in mark.c
os/fs: Define os_strerror as an alias to uv_strerror
api: represent api type String as msgpack type STR. closes #1250
Merge pull request #3430 from fwalch/deps/update-libtermkey
deps: Update to libtermkey 0.18.
travis: Use gtest for busted output type
test: os_system: spec for non-zero exit. #3419
test: menu_spec: avoid screen test.
tui: fix_terminfo: Handle "tmux" like "screen". #3422
menu: support :emenu invoked by cmenu map.
Merge pull request #3414 from Pyrohh/cmake-check-wvla
build: Check if compiler supports -Wvla before use
Merge PR #3360 'More fixes for 0.1'
test: Add basic tests for the TUI
ex_docmd: Fix terminal mode check condition for ex_normal
tui: Fix queueing of large chunks of input
rbuffer: Enhance rbuffer_reset to work with filled RBuffers
os/input: Don't advance past incomplete sequences in input_enqueue
tui: Don't use 'pastetoggle' for automatic pasting
shell: Ensure silent bang mappings won't cut output
Merge pull request #3410 from oni-link/fix.spell_suggest
Merge pull request #3407 from oni-link/fix.ga_concat
Merge pull request #3409 from jszakmeister/disable-broken-test
Disable a broken functional test.
spell.c: Fix memory leak
Merge pull request #3408 from fwalch/cmake/filter-ldflags
CMake: Remove --sort-common from linker flags.
garray.c: Prevent ga_concat() using memcpy(NULL,...)
Merge pull request #3365 from ZyX-I/refactor-string
eval/string(): Share code between msgpackdump() and string()+:echo
functests: Do not use user viminfo file
eval/msgpackdump(): Use copyID for protecting against recursive input
Merge pull request #3321 from cHoco/fix-append-api-implementation-2
Merge pull request #3398 from fmoralesc/update-vim-tutor
tutor-mode: update plugin
Merge #3316 'Travis: Install Python 3 Neovim module'.
Travis: Install Python 3 to run Python 3 tests.
test: Check for installed Python module with Vimscript function.
Merge pull request #3395 from fmoralesc/revert-wildmode
defaults: revert wildmode to 'full'
Merge pull request #3394 from justinmk/man.vim
man.vim: Prevent sourcing in startup.
man.vim: avoid creating extra blank buffers.
ex_menu: use `bool`. #3389
Merge pull request #3384 from equalsraf/tb-vla
Enable compiler flag -Wvla
Remove VLA from path_get_absolute_path
Enable -Wconversion: if_cscope.c #3068
Merge pull request #1878 from justinmk/man.vim
man.vim: accept [count] for section number.
test: K, 'keywordprg'
nv_ident: sprintf => snprintf
man.vim: window-local options
man.vim: man#get_page(): parse page and section.
man.vim: convert ftplugin to actual plugin.
'keywordprg': support ex commands
build: remove USEMAN_S
Merge pull request #3289 from fmoralesc/update-jemalloc
third-party: update jemalloc to 4.0.2
Fix append() without line argument
Merge pull request #3359 from ZyX-I/fix-msgpack
eval/msgpackparse(): Fix crash by adding return at error
functests: Test how msgpack\* functions behave with invalid input
functests: Split msgpack\* function tests into three groups:
functests/helpers: Add exc_exec function that checks the exception
Merge PR #3309 'Fixes for 0.1'
terminal: Don't store a buf_T reference in the terminal struct
terminal: Run screen refresh timer in a deferred queue
ugrid: Increase cell size to allow unicode composition
terminal: Don't enter terminal mode from `:normal`
eval: Fix `ex_delfunction` to use the `uf_refcount` field properly
regexp: Fix invalid multibyte reads at end of strings
os/path: Fix path_get_absolute_path for top-level paths
ui_bridge: Fix passing NULL pointer to memcpy
Merge pull request #3353 from yagebu/docs-misc
options: unify undolevels default
doc: mark 'toolbar' and 'toolbariconsize' as removed.
doc: feature-refs cleanup
Merge pull request #3351 from fwalch/provider/pythonx-error-message
provider/pythonx: Improve detection code and error messages.
Merge pull request #3106 from bfredl/nowaitreturn
api: vim_err_write: add tests for multiline handling
api: vim_err_write: don't wait for return in the middle of a message
loop: Free the parent queue last when destroying the loop
host.vim: expand $MYVIMRC. #3342
Merge pull request #3331 from yagebu/python-no-cwd-import
python: remove current working directory from path
remove HAVE_DUP #1072
term: Do not highlight bold text by default. #3333
Merge pull request #3322 from oni-link/fix.memory.leak.2
test: update lua client to 0.0.1-14
test: update lua client to 0.0.1-13 #3281
Windows: Only link against libm, libutil on Unix. #3324
runtime: remove dvorak macro #3325
Merge #3297 'move.c refactor'
Windows: Link against libraries libuv needs on Windows.
Merge #3307 'Travis: Rebuild third-party deps when updated'.
path.c: Fix memory leak in expand_wildcards().
deps: Update unibilium to 1.2.0.
Travis: Cache third-party build directory.
CMake: Don't use existing third-party sources by default.
Merge pull request #3298 from oni-link/vim-7.4.609
Merge pull request #3308 from oni-link/fix.clang.report
Merge pull request #3317 from fwalch/cmake/git-lookup
api: buffer_insert: fix bounds. #3315
doc: 'encoding'
CMake: Use project directory to look for Git revision.
Merge #2929 'Disallow "set encoding" after startup'
Fix warning: stream.c: stream_init(): Dead store: HI.
Scope variables in move.c
encoding: test that `&encoding` cannot be changed
encoding: Update handling of encoding in tests
encoding: update docs for encoding
encoding: simplify handling of encoding in TUI
encoding: don't allow changing encoding after startup scripts
Windows: disable libuv argument escaping for uv_spawn #3305
Replace TRUE/FALSE with true/false in move.c
hasFolding return bool now
hasFoldingWin now return bool
MSVC: Fix declaration generation. #3301
win_T.w_cline_folded from int to bool
vim-patch:7.4.609
Merge PR #3246 'Run builtin TUI in a another thread'
tui: Refactor for running in another thread
ui: Implement module for thread-safe communication with U
loop: Improvements for thread-safety
queue: Allow direct appending to parent queues
log: Make logging thread-safe
build: Disable gcov on TSAN builds
travis: Enable TSAN for sanity checking the terminal UI
contrib: Implement gdb pretty printer for UGrid
tui: Move screen state tracking to new "ugrid" module
tui: move term_input.inl into the input.c module
Merge pull request #3288 from oni-link/vim-7.4.602
vim-patch:7.4.602
MSVC: Include limits.h for INT_MAX. #3290
do_path_expand: Avoid non-readable directories. #3273
Merge "Remove instances of TRUE/FALSE" #3272
fixup: appease clint
Remove instances of TRUE/FALSE macro
Update to libuv 1.7.3 #3274
doc: fix some typos in nvim docs #3280
MSCV: FindLibUV: fix libname. #3261
Windows: FindLuaJit: fix libname. #3262
Windows: Move file_info_old declaration out of UNIX block #3260
runtime: `::` token is valid in C#. #3144
runtime: fix for python highlighting #3154
MSVC: Don't use GCC -O/-g flags. #3267
clipboard: avoid clipboard during :global. #2809
doc: termopen(): remove 'name' feature.
termopen(): remove `name` feature. #3181
Windows: Define USE_CRNL on Windows. #3249
Windows: restore 'shell', 'shellcmdflags' defaults. #3256
vim-patch.sh: best-effort for older git.
vim-patch.sh: get all untagged patches #3250
Windows: Crank to MSVC 2015 on AppVeyor. #3254
cmake: Enable -fdiagnostics-color=auto gcc flag. #3137
MSVC: use MSVC instead of GCC-like compiler flags.
Windows: avoid "uv_" naming conflicts. #3225
version.c: mark patches NA #3252
os/os_defs.h cleanup: Remaining signal stuff
os/os_defs.h cleanup: SIGHASARG
os/os_defs.h cleanup: SIGHAS3ARGS
os/os-defs.h cleanup: Don't include <time.h>
cmake: Build with -fstack-protector-strong if available #2597
vim-patch:7.4.836 #3244
Merge branch 'test59rb'
test59: Store all text as utf-8 and convert when needed
test59: Delete oldtests 58 and 59
test59: Make "syntax off" explicit, as default may change with #2675
test59: Fixup incorrectly encoded utf-8
test59: Split tests into 1-1, etc
test59: Turn the VimL test function into a lua function.
test59: Write spell files from lua and use cp to get the right files in place
test59: Save source file in utf8, this will mess up a lot of characters.
test59: Turn function definition into source() call.
test59: Inital clean up.
tests: Migrate legacy test 59.
vim-patch.sh: update for git
vim-patch.sh: update for Vim's hg => git migration
nvim.1: Misc. improvements (2)
MSVC: include os/os_defs.h for `inline`. #3239
Small cleanup after #3227
Move MAX and MIN macros to macros.h
MSVC: Define `inline` and `restrict`. #3237
fix strict-overflow cases #3236
Mingw: Use POSIX compatible stdio #3232
screen.c: remove `screen_char_attr` #3235
vim-patch:7.4.799
Windows: Define ssize_t and SSIZE_MAX. #3228
Windows: Accept CRLF in msgpack-gen.lua grammar #3226
defaults: set 'laststatus' to 2. #2876
remove references to <sys/time.h>
Windows: is_executable(): do not check exec bit.
Windows: Add has('win32'). #3223
defaults: set 'listchars' to "tab:> ,trail:-,nbsp:+". #2872
terminal: Fix use after free
tests: fix the glob tests when building under a long path #3214
Merge PR #3210 'Bugfixes'
terminal: Only wipe buffer terminal_close wasn't called
main: Initialize event loop before command_line_scan
eval: Protect job callbacks from being redefined
tui/remote_ui: Fix some regressions
Notify attached UIs whenever menus change
terminal.c: Events in terminal_enter() should not free the terminal
provider/pythonx.vim: Use shell-agnostic construction. #3190
ci: Use error suppression in place of ignored files list. #3185
Fix lint errors #3204
Merge pull request #3203 from jamessan/vim-7.4.813
7.4.813
Merge pull request #2159 from ZyX-I/auto-unicode
Update patches list, 7.4.791 - 7.4.826
runtime: When generating helptags run NeoVim in headless mode
Merge pull request #3184 from justinmk/remove_is_readonly
Merge pull request #2910 from blueyed/python-fix-path_hook
os/fs.c: remove os_file_is_readonly()
test: more cases for os_file_is_readonly()
Merge pull request #3166 from justinmk/file_is_readable
os_file_is_*: libuv impl
win_defs.h: define R_OK, W_OK for MSVC.
test: cover os_file_is_readable()
fs.c: implement os_file_is_readable()
tutor: avoid 'wildignore' pain
Merge pull request #3179 from ZyX-I/clint-find-new-errors
rstream.c: Prevent stream closing if a read event is still queued. #3172
Remove unused assignement #3173
install tutorial files #3180
vim.h: Fix error which is not suppressed by clint
Add introductory text to intro screen. #1885
Merge pull request #2700 from fmoralesc/vim-tutor-mode
runtime: Include vim-tutor-mode
tui: restore got_winch in sigwinch_cb #3171
clint: Add support for errors suppression
Merge PR #3029 'Refactor event processing architecture'
eval: Fix jobwait() to process multiple jobs concurrently
pty_process: Make termios structure a static variable
rstream: Pass read count to read events
process: Remove indeterminism that causes reordering of pty events
event: Refactor async event processing
queue: Implement a more flexible event queue
lib: Include libuv circularly linked list
test: Make sure ENTER prompt is exited in clipboard_provider_spec
terminal: Ensure terminal buffers are flushed on exit
process: Pass loop reference during initialization
loop: Simplify loop.c and move some code to input.c
msgpack: Replace FUNC_ATTR_DEFERRED by FUNC_ATTR_ASYNC
pty_process: Simplify cleanup after error during spawn
eval: Fixes to job control
events: Add missing function attributes to some APIs
doc: Fix typo in nvim-python. #3162
runtime: Do install generated syntax file, also test this. #3160
test: cover :grep
shell.c: A full RBuffer with no NL can freeze shell output. #3156
tui: avoid double-resize on SIGWINCH. #3145
Merge #3149 'Fix pending() invocations'.
test: fix pending() invocations
test: move runtime/autoload/* to provider/
test: python: report pending() if python{2,3} is missing
vim-patch:7.4.781 #3065
vim-patch:7.4.773 #3066
vim-patch:7.4.776 #3062
Merge #3141 'handle clipboard=unnamedplus,unnamed correctly'.
clipboard: remove documentation for unsupported options
clipboard: support clipboard=unnamedplus,unnamed
clipboard: fixup inconsequential yet embarrassing mixup
test: cover msgpackparse() regression
Merge #3135 'Use proper refcount of msgpack type lists'.
documentation: Replace undefined help tag
documentation: Fix special dictionary value key name
eval: Use proper refcount of msgpack type lists
channel.c: Only free a channel after close callbacks are executed #3132
os_get_user_name() for non UNIX system #2729
doc: Fix nit in previous commit
doc: Add transition instructions to nvim_from_vim.txt
tui: Fix terminal detection for cursor shape #3129
vim-patch.sh: Add --review option to compare PR and original diffs. #3083
Merge pull request #3034 from ZyX-I/msgpack-eval
functests: Use eval subdirectory in place of viml
eval: Call list_append_allocated_string from list_append_string
documentation: Add {Nvim} tag to new functions
vim_to_msgpack: Silence -Werror=unitialized compiler error
ex_cmds*: Silence -Wstrict-prototypes warnings
eval: Remove most of msgpack* functions limitations
eval: Add msgpackparse and msgpackdump functions
vim-patch:5d89d9b #2922
test: call scandir_next_with_dots() more than once
Merge #3099 glob() should return '.' and '..'
Add the . and .. entries to glob()
Remove spurious warning when reading directories
vim-patch:7.4.600 #3081
Merge #2660 'generalize mode-change API and support replace-mode cursor'
tui: Use underline cursor in Replace mode
api: Simplify UI API on mode change
runtime: Remove duplicates and garbage from installation
documentation: Document table meanings in comment to genunicodetables
Update unicode files
Create script that downloads and commits UNIDATA files
Generate unicode tables with script when building
Merge pull request #2288 from ZyX-I/autovimsyn
syntax: Exclude deprecated options
syntax: List NeoVim-specific autocmd events
syntax: Restore vim-specific highlight groups
cmake: Run nvim that generates helptags with proper WORKING_DIRECTORY
cmake: Generate tags and some vim syntax elements
Merge pull request #3041 from ZyX-I/better-mkdir
scripts: Add script which is able to generate part of vim.vim file
options: Move option definitions to options.lua
fileio: Move event definitions to the generator script
documentation: Document changes
os/fs: Move mkdir_recurse from eval.c to os/fs.c
ex_docmd: Make E739 message contain strerror() output
os/fs: Define os_strerror as an alias to uv_strerror
Add ui test for default title (with/without filename) #3091
Use NVIM instead of VIM in default title.
Delete test86 and 87 #3074
CMake: Allow configuring all DEPS_* variables in third-party. #3080
menu: Fix :emenu mode detection #2992
Merge #3048 'tui: resize terminal'
options,tui: don't hardcode default terminal size
tui: respect the 'co' and 'lines' options on startup
tui: send resize sequences to the terminal
tests: Migrate legacy test 80. #2989
tui: Unconditionally enable bracketed paste mode #3060
eval.c: Only inline float_op_wrapper on non-i386 #3072
Uncomment merged patches in version.c
rstream: Fix read_cb invocation
Doc: add bracketed-paste-mode #3028
Remove ':Print' command #3049
Merge #3014 'clipboard: handle middle-click paste correctly.'.
clipboard: add tests for error fallback and middleclick paste
clipboard: handle middle-click paste correctly.
Merge #3056 'Test: fix functional/ex_cmds/recover_spec.lua'.
Test: fix functional/ex_cmds/recover_spec.lua
Test: add new helper function: rmdir()
Source provider at start if &cb is set #3025
defaults: set 'history' to 10000 by default. #2868
Merge pull request #2943 from Pyrohh/rm-posix
Remove POSIX 'cpoptions': cleanup
Remove POSIX 'cpoptions': '\'
Remove POSIX 'cpoptions': '.'
Remove POSIX 'cpoptions': '/'
Remove POSIX 'cpoptions': '&'
Remove POSIX 'cpoptions': '|'
Remove POSIX 'cpoptions': '{'
Remove POSIX 'cpoptions': '#'
Implement API function to call functions #2979
runtime/syntax/vim.vim: Update to version 7.4-33
runtime/syntax/vim.vim: Update
Merge pull request #2719 from lucc/test57
tests: Split migrated test 57.
tests: Migrate legacy test 57.
tests: Remove migrated legacy tests from makefile. #3009
python3: remove decoding logic, as this is now done in plugin host #3026
vim-patch:7.4.667 #3043
Merge #2964 'deps: update busted: 2.0 rc8 -> rc10'.
deps: Don't pin dependencies
deps: Update busted: 2.0 rc8 -> 2.0 rc10
Merge #3005 'synIDattr(): true color awareness'
Test: synIDattr(): true color awareness
synIDattr(): true color awareness
eval: Fix duplicate code in trig/math functions #3035
Merge #2609 'Macro cleanup'
Macro cleanup: FEAT_SHORTCUT, replace with WIN32
Macro cleanup: FEAT_BEVAL_TIP
Macro cleanup: FEAT_GUI_MSWIN
Macro cleanup: FEAT_GUI_MAC
Macro cleanup: FEAT_GUI_X11
Macro cleanup: FEAT_GUI_GTK
Macro cleanup: FEAT_TOOLBAR
Macro cleanup: FEAT_BEVAL
Macro cleanup: USE_FILE_CHOOSER
Macro cleanup: FEAT_GUI_MOTIF
Macro cleanup: FEAT_GUI_W32
Macro cleanup: FEAT_GUI and ALWAYS_USE_GUI
Cleanup after #3007 #3020
spell: Defer &spell prompt until VimEnter. #3027
Merge PR #2980 'Refactor event loop layer'
job: Replace by a better process abstraction layer
server: Extract most logic into the new socket abstraction
rstream/wstream: Unify structures and simplify API
event loop: New abstraction layer with refactored time/signal API
test: lower sleep value in job test
test: Increase determinism in screen_basic_spec tests
tests: Style improvements and Makefile fix for migrated test 60. #2975
Remove :tearoff #3007
vim-patch:7.4.688 #2941
terminal.c: Fix memory leak #2982
Remove dead WIFSTOPPED and WIFCONTINUED checks
vim-patch:7.4.736 #2998
Merge #2846 'out-of-bounds slicing'
test: buffer_spec: fix set_line invocation
test: api: exercise out-of-bounds line slicing
api: return error when starting a slice out of bounds.
api: return empty array when slicing out of bounds.
Merge pull request #2718 from lucc/test62
tests: Modernize migrated legacy test 62.
tests: Migrate legacy test 62.
rplugin: Don't error if plugin is registered before host #2961
python: VimPathFinder: remove unused load_module method
python: path_hook: properly implement PEP302
python: VimModuleLoader: check sys.modules[fullname]
python: VimPathFinder: use find_spec for Python 3.4
Merge PR #2938 'Travis: Refactor CI files, use container infrastructure'
Travis: Check some configuration variables in before_script.
Travis: Use gcov that matches the used compiler.
Travis: Refactor CI files, use container infrastructure.
CMake: Allow overriding third-party install prefix.
rbuffer: Fix for problems with escape input sequences.
os/*defs: restore some comments and formatting.
refactor: remove SYS_MENU_FILE (unused)
Split os_unix_defs.h into os/
vim-patch:7.4.646 #2926
Merge pull request #2932 from lucc/helpers/write_file
Merge pull request #2916 from Pyrohh/doc-cleanup-5
README.md: Various
doc: Remove refs to xsmp, xterm_(clipboard|save)
doc: Remove refs to dos(16|32), win16, and win95
Merge #2807 'Travis: Add Clang MSan/TSan builds'.
Travis: Temporarily disable TSan build.
MSan: Initialize buffer in spell_delete_wordlist.
Travis: Disable functional tests and allow failures for MSan.
Travis: Use Clang 3.6.
CMake: Enable EXITFREE for all *San.
CMake: Add option for Clang TSan, rename option ASAN -> ASAN_UBSAN.
CMake: Add option for Clang MSan.
Merge pull request #2914 from Pyrohh/doc-cleanup-4
Remove VisualNOS highlight group remnants
Remove 'guipty' references
doc: Remove gui_x11.txt, merge remnants into nvim_clipboard.txt
clipboard: don't overwrite before pasting in visual mode. #2945
rplugin: pass additional info to host factory function #2920
doc: Mention that Python module might be provided by package manager #2935
Merge PR #2650 'Data structure improvements'
rbuffer: Reimplement as a ring buffer and decouple from rstream
rstream: Fix bug triggered when libuv doesn't use the allocated buffer
klib: Improve klist.h
os/fs: Use module-local uv_loop_t instance
test: Don't run legacy test 87
test: Ensure proper initialization in unit/helpers.lua
tests: Use new write_file() function in tests.
tests: Use write_file() in source().
tests: Add helpers.write_file() to write short files.
ASan: Fix "null pointer passed for argument declared to never be null". #2925
Merge pull request #2928 from fmoralesc/update-example-nvimrc
Remove gvimrc_example
Update vimrc_example file
doc: Fix undefined reference warning
Fix warnings: shell.c: do_os_system(): Nonnull passed null: FP. #2923
plugin/matchit: create stub for matchit.vim #2921
doc: Remove usr_90.txt
Merge pull request #2904 from Pyrohh/clint
cmake: Make `make lint` less verbose
clint.py: don't print `--help` output to stderr and exit 1
man: Bump nvim.1 date, add Makefile for authoring
event_teardown(): retry uv_loop_close() instead of abort. #2903
Merge #2703 'Clipboard: do not use &shell to invoke provider + cache owned clipboard'.
clipboard: avoid redundant error message on `clipboard_get` failure .
clipboard: keep track of ownership and cache clipboard data locally
clipboard: don't use &shell in clipboard provider
Remove outdated and unused manuals #2891
rplugin: allow users to register hosts #2896
Enable -Wconversion: menu.c #2885
api: vim_set_var() should return the old value #2899
doc: Various #2898
doc: Revise for flow and consistency #2831
doc: vim_diff: clarify key-chord support. #2886
tests: 061_undo_tree_spec: minor edits
Merge #2851 'tests: Migrate legacy test 61.'.
tests: Repeat a flaky part of the migrated test 61.
tests: Split test 61 into several it() blocks.
tests: Fix an further simplify migrated test 61.
tests: Don't set ul in migrated test 61.
tests: Migrate legacy test 61.
spell.c: fix "[s" search. #2813
defaults: remove "options" in 'sessionoptions'. #2871
defaults: prefix "!" to 'viminfo' by default #2870
defaults: set 'tabpagemax' to 50 by default. #2869
defaults: set 'display' to "lastline" by default.
doc: Fix some typos and trailing whitespace. #2875
defaults: enable 'hlsearch' by default. #2859
defaults: enable 'incsearch' by default. #2858
defaults: remove "i" from the default 'complete' #2854
default: enable 'langnoremap'. #2853
defaults: set 'mouse' to 'a' by default. #2860
defaults: enable 'autoindent' #2857
defaults: enable 'autoread' by default #2856
defaults: enable 'smarttab' by default. #2855
completion: Initialize v:completed_item #2839
vim-patch:7.4.575 #2835
Merge #2820 'tests: migrate legacy test argument_count.'.
tests: Modernize migrated argument_count test.
tests: Migrate legacy test argument_count.
Merge #2819 'tests: Migrate legacy test argument_0count.'.
tests: Modernize migrated legacy test argument_0count.
tests: Migrate legacy test argument_0count.
ex_docmd.c: :edit is a no-op in terminal buffers #2822
vim-patch:7.4.719 #2817
vim-patch:7.4.593 #2657
tui: make termkey use utf-8 mode when &encoding=utf-8 #2469
Merge #2832 'Mark NA patches; vim-patch:7.4.713'
vim-patch:7.4.713
version.c: mark NA: 664, 703
version.c: Update patches list
Fix legacy tests makefile after 4873171f. #2826
Merge #2585 'Migrate legacy test 74.'
tests: wviminfo_spec.lua: rework
tests: Add tests for the :wv command.
tests: Migrate legacy test 74.
memline: Don't call memmove() with a NULL argument in ml_add_stack(). #2802
Add complete() noinsert/noselect support #2792
Merge #2735 'provider: Only call system() once, don't use Python 3 interpreter for +python, improve messages'.
provider/pythonx: Show absolute path to executable in error message.
provider/pythonx: Merge s:check_version() and s:check_interpreter().
provider/pythonx: Don't use Python 3 interpreter for +python.
provider/pythonx: return error from Detect
remote#host#RequirePythonHost: fix reference to log
provider/python: Call: fix usage of 'finish' in function
provider/python: define Prog and Error functions always
provider/pythonx: Detect: only return valid versions
provider/pythonx: test python3/2 first, do not test python3.2
provider/pythonx: add reference to ":help nvim-python" for error
provider/pythonx: fix grammar with error
provider/pythonx: only call system("python") once
Travis: Disable Valgrind in GCC build. #2806
CMake: Fix helptags generation when prefix is not /usr. #2741
CMake: Workaround for hanging helptags generation. #2801
plugin: enable the matchit plugin by default #2723
Add noinsert and noselect features in completeopt #2564
CMake: Fix _FORTIFY_SOURCE detection when using hardening-wrapper. #2788
Merge pull request #2766 from Pyrohh/misc-cleanup
doc: Misc. X11-related cleanups
doc: starting.txt cleanup
rplugin: Improve remote plugins detection messages #2769
Merge #2762 'terminal: don't set vterm size to 0'
fix for #2732 : win_new_width checks height before terminal_resize
terminal : don't set vterm size to 0 (workaround #2732)
Merge pull request #2767 from Pyrohh/mainerr-simplify
Passing by: Remove X_LOCALE refs
main.c:mainerr(): Namespace messages
main.c: Simplify error string management
nvim.1: Misc. improvements #2758
tests: Use pending() instead of silently skipping test. #2737
getenv: return NULL if empty #2574
Remove 'octal' from default value for '&nrformats' #2668
tests: Migrate legacy test 65.
tests: Migrate legacy test 82.
tests: Migrate legacy test 3 #2399
tests: Migrate legacy test 76. #2711
tests: Migrate legacy test 60. #2721
build: depend on bleeding-edge luarocks #2739
tui: don't pass NULL to termkey #2747
Merge #2598 'set stdin as "blocking" on exit'
input: rename input_{start,stop}_stdin()
input: stream_set_blocking(): libuv impl
input: set input stream to blocking on exit
vim-patch:7.4.582 #2653
vim-patch:7.4.579 #2652
Merge #2555 Remove "j" flag from 'cpoptions'
tests: Convert legacy test29
'cpoptions': Remove "j" flag
tui: defer resize event #2738
tests: Migrate legacy test 31 #2736
completion: Add v:completed_item feature #2563
cmake: Use cmake -E touch instead of touch #2730
Rename var eof as input_eof #2728
Merge pull request #2715 from equalsraf/tb-platform-thingies
cmake: Remove unneeded platform checks
Dont require setenv() in non Unix systems
Add guard for sys/wait.h header in job.c #2686
Add header guards for sys/time.h and unistd.h in log.c
'cpoptions': Remove "-" flag #2655
options: Include "j" in default 'formatoptions' #2669
sha256.c: Remove unused headers and comments #2714
vim-patch:f654ad9 #2659
CONTRIBUTING.md: Fix broken links #2702
options: Search upwards for tags file #2670
vim-patch:c5d53d4 #2695
msgpack-rpc: handle failure to convert method arguments #2664
vim-patch:4abac79 #2694
deps: Update unibilium 1.12 -> 1.14 #2665
Merge pull request #2532 from Pyrohh/doc-cleanup-3
Remove `-T` command-line option
Cleanup 'ttyscroll' remnants
Cleanup 'weirdinvert' remnants
Cleanup 'ttym[ouse]', FEAT_MOUSE, mouse_(dec|gpm|etc.)
Cleanup misc.
README: Add AppVeyor badge. #2691
build: Limit --coverage flag to files under "src"
deps: Update LuaJIT to 2.0.4. #2688
Manual pages: Fix incorrect environment variable references
options: Enable &wildmenu, use "list:longest,full" for &wildmode by default #2677
vim-patch:7.4.597 #2658
vim-patch: Mark some patches as NA #2672
Build: Use GNUInstallDirs, install man pages #2649
options: mark nonfunctional &termencoding option as hidden. #2631
Merge #2620 'repurpose legacy v:servername'
passing-by: get_vim_var_str: mark non-null return
doc: v:servername, serverstart()
test: v:servername, serverstart(), serverstop()
server: repurpose legacy v:servername
vim-patch:7.4.562 #2593
vim-patch:7.4.594 #2654
vim-patch:7.4.{629,695,696,701} Mark as included #2666
Change 'backspace' default to "indent,eol,start" #2639
Merge #2495 'third-party dependencies for Windows'.
AppVeyor: MSVC builds for third-party/
Travis: Add Mingw third-party builds
CMake: Build third-party deps in Windows
CMake: Dont search for Make in Windows
Merge pull request #2643 from glts/mark-na-patches
vim-patch:7.4.{592,596,632}: Mark as NA
vim-patch: Mark patches as NA
Merge pull request #2605 from Pyrohh/manpages
minor cleanup. #2610
`nvim --help` text: Unify with manpages
English man pages: Convert to mdoc and rewrite for Nvim
Man pages: Move to nvim namespace and out of `runtime/`
main.c: Make '-v' synonymous with '--version'
Merge pull request #2634 from Pyrohh/localmk-update
ci: Remove USE_JEMALLOC reference
contrib: Update local.mk
Merge pull request #2619 from Pyrohh/char_u-to-char
Remove char_u: Review
Remove char_u: message:smsg_attr()
Remove char_u: message:smsg()
Remove char_u: ex_docmd:get_view_file()
Remove char_u: main:use_vimrc
Remove char_u: main:process_env()
Remove char_u: ex_docmd:do_cmdline_cmd()
vim-patch:7.4.587 #2622
Merge #2623 'vim-patch:7.4.577'
Passing by: regexp_nfa.c: Convert add_here variable to bool
vim-patch:7.4.577
vim-patch:7.4.581: Mark as NA #2624
Merge pull request #2616 from jszakmeister/update-busted-dependencies
third-party: use the official jemalloc tarball
test/terminal: fix indeterminism in colorcolumn screen test
test/ui: Add concealing tests. #2055
vim-patch:7.4.606 #2594
vim-patch:7.4.576 #2595
vim-patch:7.4.524 #2559
third-party: update a couple busted dependencies to newer versions
third-party: update dependencies for busted
Fix a wrong expectation for vim_FullName() and FullName_save().
build: create prereq targets for test dependencies
os/input.c: Eliminate conversion warning from gcc 5 #2617
'cpoptions': Remove "*" flag #2554
Require pkg-config to build bundled libtermkey #2606
Merge pull request #2608 from yagebu/docs-cleanup
doc: remove GUI-related comments/bugs from todo.txt
doc: mark `macatsui` option as removed, update vim_diff.txt
Update to libuv 1.5.0 #2604
Merge pull request #2587 from mkfifo/master
coverity/62618: fixing "Wrong sizeof argument"
coverity/109019: fixing "Sizeof not portable"
refactor: remove USR_VIMRC_FILE4 #2580
Merge #2470: Remove char_u (5)
vim-patch:7.4.707 #2541
vim-patch:7.4.526 #2562
Update vim_FullName() to define fname as const
Make fname const in path_get_absolute_path()
Refactor modname() to use add_pathsep
Passing by: wrap mb_ptr_adv(), mb_cptr_adv(), mb_ptr_back() macros in parenthesis.
Merge 'p' declaration with init in vim_version_dir()
Remove char_u: vim_settempdir()
Remove char_u: concat_fnames()
Remove char_u: make_percent_swname()
Remove char_u: fix_fname()
Remove char_u: FullName_save()
Remove char_u: vim_FullName()
Remove char_u: path_with_url()
Remove char_u: path_is_url()
Remove char_u: modname()
Remove char_u: add_pathsep()
vim-patch:7.4.590 #2592
vim-patch:7.4.564 #2591
deps: Update lua-client. #2590
third-party: Update lua-xml to release 1.1.2 #2586
runtime/syntax/vim.vim: remove 'has("python")' checks #2589
tests: Migrate legacy test 96 #2220
Fix compiling with gcc 5. #2566
'cpoptions': Remove "H" flag #2556
vim-patch:7.4.574 #2539
Merge pull request #2542 from Pyrohh/docs-not-in-vi
doc/eval: Fixed broken links
doc/if_pyth: Cleanup
doc: Remove Vi annotations
scripts/legacy2luatest.pl: remove modeline #2536
Merge pull request #2424 from splinterofchaos/term-no-sh
unify jobstart, termopen, and system interfaces
term: use an argument vector for termopen().
Merge pull request #2493 from Pyrohh/cleanup-patches-misc
src: Misc. cleanup
vim-patch:7.4.659 + test
vim-patch:7.4.389
Remove obsolete vi options #2553
Merge #2545: Fix clang analysis warnings. (12)
Merge #2490: Add support for '%zu' in vim_snprintf().
Fix warnings: Support '%zu' in vim_snprintf(): Add support.
Support '%zu' in vim_snprintf(): Cleanup.
Fix warnings: ex_docmd.c: ex_tabonly(): Np dereference: FP.
Fix warnings: ex_cmds2.c: ex_listdo(): Np dereference: FP.
Fix warnings: ex_cmds2.c: ex_listdo(): Np dereference: FP.
vim-patch:7.4.706 #2546
Mark some patches re: command-ranges as included #2546
vim-patch:7.4.653 #2527
Merge pull request #2465 from fwalch/fix-jemalloc
jemalloc: Force use of prefixed functions.
CMake: Don't request static linking for dependencies.
deps: Remove shared libraries.
CMake: Remove duplicate PkgConfig lookups.
CMake: Refer to Unibilium instead of LibUnibilium.
Merge pull request #2041 from fmoralesc/command-ranges
vim-patch:7.4.595
vim-patch:7.4.588
vim-patch:7.4.585
vim-patch:7.4.580
vim-patch:7.4.572
vim-patch:7.4.568
vim-patch:7.4.566
vim-patch:7.4.565
vim-patch:7.4.561
vim-patch:7.4.546
vim-patch:7.4.542
vim-patch:7.4.539
vim-patch:7.4.535
vim-patch:7.4.530-531
vim-patch:7.4.633 #2526
vim-patch:7.4.630 #2524
Merge #2529: Fix coverity issues. (8)
coverity/109843: Nesting indent mismatch: RI.
vim-patch.sh: Fix indentation, use GH URL for tagged versions. #2525
Merge pull request #2383 from mhinz/fix-left-click
UI test: visual selection after left click in tabline
UI test: left click in tabline
Fix visual selection after left click on tabline
Merge #2516: Fix clang analysis warnings. (11)
Merge #2518: Enable -Wconversion. (3)
Fix warnings: ex_getln.c: getexmodeline(): HI.
Enable -Wconversion: normal.c.
Fix warnings: ex_getln.c: init_history(): Nonnull attr passed null: HI.
Merge #2492 'vim-patch:7.4.710-712'
vim-patch:7.4.712
vim-patch:7.4.711
vim-patch:7.4.710
version.c: Add new patch numbers
vim-patch:7.4.537 #2509
vim-patch:7.4.532 #2504
Merge #2349 'vim-patch:7.4.519'
vim-patch:7.4.554
vim-patch:7.4.519
'cpoptions': Remove "w" flag #2507
Merge #2319 'ex_getln: Fixes for getexmodeline()'
vim-patch: mark 7.4.690 as included
ex_getln: Fixes for some problems with getexmodeline()
Travis: install g++-multilib #2515
Update README.md
test: don't process vimrc #2511
spell.c: give priority to rare words. #2456
vim-patch:7.4.699 #2508
Merge pull request #2496 from justinmk/doc-fixdel
doc/helphelp.txt: mention backticks for technical identifiers
doc: remove :fixdel
doc/vim_diff.txt: formatting
vim-patch:7.4.553 #2513
vim-patch:7.4.550 #2510
options: Remove "g" flag from 'cpoptions' #2505
Merge #2486: Replacements for vim_iswhite, VIM_ISDIGIT, vim_isdigit, vim_isxdigit, and vim_isspace
Improve comments and fix ascii_* attributes
Replace vim_isspace() with ascii_isspace() defined in ascii.h
Replace vim_isxdigit() with to ascii_isxdigit() defined in ascii.h
Replace VIM_ISDIGIT() and vim_isdigit() with ascii_isdigit() defined in ascii.h
Replace vim_iswhite with ascii_iswhite() defined in ascii.h
rpcstart: check argvars, /then/ alloc argv #2462
Merge #2491: Fix xfree of static value from vim_getenv() refactor.
TAB0 might not be defined in termios.h #2483
Merge pull request #2447 from equalsraf/tb-luarocks-refactor
Fix xfree of static value in expand_shellcmd()
Merge #2473: Fix clang analysis warnings. (10)
Fix warnings: ex_getln.c: init_history(): NP dereference: FP.
Fix warnings: ops.c: op_yank_reg(): Dead assignment: HI.
Merge PR #2208 'if_python3 support'
Merge pull request #2479 from Pyrohh/contributing-md
Update busted version to 2.0.rc8-0
Refactor luarocks third-party recipe
Add option USE_BUNDLED_BUSTED to third-party
CONTRIBUTING: Mention the wiki's troubleshooting & FAQ articles
Improve travis ci script
Add if_python3 support
Change neovim.org references to neovim.io
Merge #2418: Remove char_u (4)
Refactor after_pathsep() to use const qualified args
Refactor get_env() to respect const qualifier
Merge pull request #2443 from jszakmeister/fix-more-release-warnings
Fix an uninitialized variable warning for call_start.
Fix a couple uninitialized variable warnings in the release build.
Remove char_u: get_mess_lang()
Remove char_u: set_helplang_default()
Remove char_u: vim_setenv()
Merge pull request #2411 from bfredl/yankregs
Merge pull request #2406 from Pyrohh/make-use-wildcard
Remove char_u: vim_getenv()
Remove char_u: after_pathstep()
clipboard: cleanup `valid_yank_reg` and use it for `:redir`
clipboard: simplify handling of of put in visual mode.
ops.c: eliminate unneccesary static variable `y_append`
ops.c: eliminate static variable `y_current`
Revert "third-party: temporarily drop back to an old version of the busted spec"
contrib/local.mk.example: Misc. improvements
CMakeLists.txt: Remove unneeded globs
runtime/doc/Makefile: Use `wildcard`
Eval: do not join a list if it's empty anyway #2441
Travis: Remove unused dependencies #2431
Merge pull request #2353 from jszakmeister/fix-unused-var-warnings-in-release
Fix several unused variable warnings in the release build.
Remove runtime/tools/ #2426
Merge pull request #2331 from splinterofchaos/serverlisten
server: add unit tests
eval: learn serverstart, list, and close().
msgpack_rpc/server.c: Use a garray over a kmap.
Implement os_unsetenv()
third-party: temporarily drop back to an old version of the busted spec
third-party: remove stray argument
runtime: Handle failures while loading individual remote plugins
travis: Don't use jemalloc for the gcc build
build: Improve GenerateHelptags.cmake failure message
Merge pull request #1446 from splinterofchaos/obj
docs: update for rpcstart('nvim', ['--embed'])
channel: recognized nvim-style errors
msgpack: Allow notifications to execute commands.
msgpack: coerce Ints to Windows/Buffers/Tabpages
object_to_vim: Recognize buffers, windows, tabpages.
Merge PR #2415 'Use jemalloc instead of libc allocator'
clint: Add rules to check for memory functions calls
deps: Add jemalloc as an optional dependency
memory: Add `free` wrapper and refactor project to use it
memory: Replace klib memory pools by malloc/free
eval: Fix memory deallocation of JobEvent
remove char_u: vim_version_dir #2414
refactor remove_tail() function to no longer use char_u #2413
tests: Fix test setup/teardown in path_spec.lua #2402
Remove obsolete CENT macro #2397
Refactor default_vim{,runtime}_dir to use char type. #2375
Merge pull request #2117 from justinmk/fix1836
fix: segfault in ml_recover() if swap file not found
fix: segfault in recover_names(): must not concat full path
test regression: recover_spec.lua
test: helpers.lua: add temporary set_session() function
test: migrate legacy test 78
passing-by: mark non-null return; remove invalid OOM check.
Expand :profile's filename #2390
Merge pull request #2404 from Pyrohh/coverity-108870
Merge #2410: Fix coverity issues. (7)
coverity/{13738,13739,68853,13717,13720,13716,68854,13718,13721}: FP.
Merge pull request #2398 from mhinz/docs-remove-jobactivity
Remove all references to JobActivity
Merge PR #2405 'Job control fixes'
build: Remove busted output handler utfTerminalDetailed
test: Remove indeterminism in job_spec.lua pty tests
eval: Fix `jobwait()`
eval: Fix segfault caused by passing invalid callback to jobstart
Merge pull request #2381 from bfredl/unnamed
ops.c: cleanup of `get_yank_register`
clipboard: fix "" register not updated when clipboard=unnamed
clipboard: adjust v:register when clipboard=unnamed
coverity/108870: Missing break in switch
doc: Remove |shell-window|
Remove unused 'if_[language].txt': Review
Remove unused 'if_[language].txt': Clean up
doc: Remove unused 'if_[language].txt' and related
Bring E319 (cmd not available) in line with E519 (opt not available)
Clarify that nvim has no built-in GUI
coverity/{108271,108272,108273}: add fallthrough annotation #2362
README.md: Link to neovim.org/Community #2167
scripts: Fix "test input line" logic in legacy2luatest.pl #2369
mark.c: Remove JUMPLIST_ROTATE #2376
Merge pull request #2374 from mhinz/hl-group-termcursor
Add new highlight groups TermCursor/TermCursorNC
Merge pull request #2307 from splinterofchaos/system-null
event: Only process if event_init has been run.
eval: do not assume a vval.v_string is nonnull.
system(): Return an empty string if no output.
messages: Update common instances of Vim to Nvim #2031
Merge pull request #2378 from fwalch/travis-disable-nightly
Merge pull request #1805 from fwalch/vim-7.4.399
Travis: Disable building 'nightly' tag.
Merge pull request #2346 from splinterofchaos/fix-terminal
vim-patch: Port parts of Vim 7.4.399.
event.c: Simplify timer use in event_poll()
Merge #2303 'Fix clang analysis warnings. (9)'
Fix warnings: window.c: close_last_window_tabpage(): Np deref: RI.
Fix warnings: terminal.c: get_config_int(): Dead init: RI.
Fix warnings: terminal.c: get_config_string(): Dead init: RI.
Fix warnings: terminal.c: redraw(): Np dereference: RI.
Fix warnings: eval.c: f_termopen(): Use-after-free: MI.
Fix warnings: eval.c: f_jobstart(): Np dereference: FP.
legacy tests: migrate test38 #2367
tests: Migrate legacy tests 44 and 99 #2366
term: ensure term->buf is valid
Merge #2228: Enable -Wconversion. (2)
Enable -Wconversion: move.c.
Enable -Wconversion: fold.c.
Enable -Wconversion: popupmnu.c. Helped-by: oni-link <knil.ino@gmail.com>
Enable -Wconversion: farsi.c: Cleanup.
Enable -Wconversion: farsi.c: Solve issues.
Merge pull request #2348 from mhinz/job-control-mouse
Remove duplicates in BACKERS.md #2363
Job control: reset mouse support after foregrounding
Remove redundant NULL checks
legacy tests: Remove legacy tests for Lua (test85) #2357
legacy tests: Remove legacy tests for MzScheme (test70)
tests: Migrate legacy tests 92 and 93 #2261
vim-patch:7.4.636 #2267
Merge #2240 'Fix problem with coverity/105568 fix'
Fix problem with coverity/105568 fix.
Update comments for expand_wildcards functions.
vim-patch:7.4.497 #2295
term: use window col offset to calculate width
term: after <C-\>, resume normal input loop
terminal: Handle loss of focus in event loop.
Remove swap file accidentally committed in 34dba3d7.
Merge pull request #2341 from jalvesaq/r-runtime-update
clipboard: missing `return NULL` when provider not available
Merge pull request #2244 from bfredl/registers
clipboard: handle clipboard reading directly in `get_yank_register`
test/clipboard: more clipboard test cleanups
clipboard: improve the handling of newlines in `get_clipboard`
clipboard: reallow `:put`
clipboard: show "* and "+ in :registers
test/clipboard: split unrelated subtests
doc/vim_diff.txt: Remove redundant `:terminal` ref
Merge pull request #2320 from richchurcher/fix_path_test
Update R runtime files indent/r.vim      : change shiftwidth to 2 and minor bug fixes. indent/rhelp.vim  : move the position of the test if the script was already sourced indent/rmd.vim    : minor bug fix indent/rnoweb.vim : minor bug fix syntax/r.vim      : minor bug fixes and improvement (distinguish = from ==)
Merge PR #2221 'tests/ui: Fix indeterminism in Screen:wait'
test/ui: Fix indeterminism in screen_basic_spec
tests/ui: warn when the correct state was seen temporarily.
test/ui: add redraw debug util
Merge PR #1978 'Prevent too early sending of delayed notifications.'
Fix a memory leak for WBuffers used in channel_write().
Prevent too early sending of delayed notifications.
Merge pull request #2318 from yshui/master
README.md: Avoid redirect in wiki link
Merge PR #2314 'Add vimexpect library and example gdb plugin'
runtime: Add vimexpect library and example gdb plugin
test: Remove indeterminism from `jobwait` tests
eval: Ensure all job callbacks are invoked by `jobwait()`
eval: Add internal_refcount field to dict_T
vim-patch:7.4.336 #2299
Merge pull request #2124 from Pyrohh/improve-contrib
CONTRIBUTING.md: Review
Merge pull request #2284 from glts/vim-7.4.515
vim-patch:7.4.515
Merge pull request #2279 from Pyrohh/modeline
Modeline cleanup
Remove potential NULL dereference. #2316
Use lfs.currentdir() to fix symlink test fail.
Merge pull request #2296 from glts/vim-7.4.324
CMakeLists: fix build when there're multiple arguments in C_FLAGS
Merge PR #1212 'os_scandir/scandir_next/closedir()'
CMakeLists: enable USE_FNAME_CASE on Mac
path_fix_case: unit test
os_scandir: fname_case -> path_fix_case
os_scandir: mch/unix_expandpath() -> path_expand()
Un-mch mch_has_(exp_)wildcard().
os_scandir(), scandir_next(), and os_closedir()
vim-patch:7.4.324
Merge PR #2247 'Refactor/enhance job api'
doc: Begin terminal emulator documentation
eval: Improve validation of ids passed to job functions
eval: Implement `jobclose()` vimscript function
eval: Implement `jobwait()` vimscript function
eval: Refactor vimscript job control API
eval: Refactor `call_func` and `func_unref`
vim-patch:7.4.502 #2282
test: Add missing `before_each` call to sign_spec.lua
CONTRIBUTING.md: Misc improvements
vim-patch:7.4.529 #2270
Vim patch: Add missing patch version 422 in version.c #2268
Create new mode() value for terminal-mode ('t') #2287
tui: Fix reading when stdin is not a tty
doc: Introduce vim-differences #2141
doc: Document g:python_host_prog. #2205
Merge PR #2076 'Builtin terminal emulation'
test: Add terminal tests
job: Close the process in a queued event handler
job: Fix memory errors
terminal: New module that implements a terminal emulator
event: Ensure the loop is stopped when a event is pushed.
buffer: Move b_p_ma(modifiable) checks into the MODIFIABLE macro
buffer: Add WITH_BUFFER macro to simplify global buffer modification
vim.h: remove #ifndef EINTR
api: Move switch_to_win_for_buf/restore_win_for_buf to api helpers
ui: Schedule screen refreshs to run in the event loop
map: Add Map(int, int)
map: Add map_clear method
syntax: Fix possible invalid read in hl_combine_attr
tests: Migrate legacy test 94 #2218
Merge #2236 'docs cleanup'
doc: Remove refs to 'compatible' and friends
doc: Misc. cleanup
doc: Add one-liner job control example
doc: Cleanup for #2099
Remove `--nofork` / `-f` remnants
Merge #2148 'misc1.c: split some environment functions'
refactor: add tests for env_expand_esc
refactor: split some more functions from misc1.c
Merge PR #2146 'Improve functional test debuggability and efficiency'
test: Improve functional test debuggability and efficiency
test: Extract code to spawn nvim into the "spawn" helper function
deps: Update busted and dependencies
Merge PR #2237 'Job fixes to core and tests'
test: Fix tty-test program
job: Fix memory error
job: Fix process cleanup using SIGCHLD/waitpid
Merge pull request #2213 from jszakmeister/add-junit-support
Merge pull request #2214 from Pyrohh/version-cleanup
version.c: Clean up --version / :version output
Merge pull request #2212 from bfredl/concealfix
Remove *_BUILTIN_TCAPS & 'ttybuiltin'
Merge #2184: Fix coverity issues. (6)
Passing-by: Add function attributes.
coverity/105985: Resource leak: RI.
coverity/105982: Unckecked return value: RI.
coverity/105568: Free of array-typed value: FP.
coverity/13777: String not null terminated: RI.
vim-patch: mark 7.4.673 as included
build: add support for running the tests in junit format
syntax: let first syntax item seqnr be 1 instead of 0
Update to libuv 1.4.2
legacy test script: minor string handling fix #2181
vim-patch:7.4.503 #2178
README: Do not call translator transpiler
tui: Add support for true color terminals
deps: Use released versions for unibilium, msgpack-c.
Merge pull request #2144 from jszakmeister/fix-warning-in-release
Remove BINARY_FILE_IO option #2179
misc2.c: Move emsg* functions to message.c #2152
Merge #1930 'hlsearch/incsearch screen tests + convert test 63'
tests/ui: cleanup ignores in screen_basic_spec
tests/legacy: convert test 63 (`:match` and `matchadd()` )
tests/ui: test hlsearch and incsearch
tests: update legacy Makefile #2186
Merge PR #2182 'Improve ui/busy handling and early input reading'
main: Simplify code that deals with early user input
ui: Refactor so that busy state won't be the default
tui.c: Send fewer cursor-hide commands to the terminal.
Remove platform dependent HAVE_OPENDIR #2010
contrib: fix YCM completion for header files #2151
travis: Configure to notify gitter chat room
main: Start stdin before sourcing startup scripts
Merge pull request #2166 from Pyrohh/build-improvements
contrib: Added local.mk.example
Merge #2157 'Minor cleanups'
Reuse f_browse function from f_browsedir
Remove unnecessary 'free'
Clarify an out-of-memory cleanup, remove a function-wide loop counter
Remove redundant parentheses
Merge consecutive identical 'if' statements
Remove always-true expressions
scripts/vim-patch.sh: Misc. improvements #2108
Merge #2074 'Migrate legacy test 19 and 89'
legacy tests: migrate test19
legacy tests: migrate test89
Merge PR #2164 'Small changes to ui_busy functions and testing'
ui: Only call ui_flush when the busy state changes
test: Only display cursor marker in screen tests if nvim is not busy
Put gitter badge near other badges
Added Gitter badge
deps: Replace `cp` by `${CMAKE_COMMAND} -E copy` for portability
ui: Replace cursor_{on,off} by busy_{stop,start}
deps: Add utfTerminalDetailed busted output handler
Merge pull request #2154 from lyuts/build_custom_libtermkey
Fixed compilation when using custom libtermkey (not installed in base system).
Fix unused variable in wstream.c for a release build.
Merge #2138 'syntax.c: Prevent use after free for variable g:colors_name'
vim-patch: mark 7.4.660 as included
syntax.c: Prevent use after free for variable g:colors_name.
vim-patch:7.4.637 #2126
build: fix a missing reference to libunibilium missed in #2125
Merge pull request #2125 from jszakmeister/fix-whitespace-third-party
Avoid an unused variable warning in the release build.
Merge pull request #2118 from rev112/fix_redundant_cast
Merge #2008 'Special interfaces cleanup'
gitignore: add /src/nvim/testdir/del
Interface cleanup: Man pages
Interface cleanup: Symlink handling & docs
vim-patch: mark 7.4.615 as included #2109
Merge pull request #2114 from oni-link/remove.assert
os_unix_defs && os/unix_defs: Consistently use '~' over '$HOME' #2009
Merge pull request #2129 from justinmk/fixlegacytest005
tests: fix 005_bufleave_delete_buffer_spec.lua
tests: add missing "_spec" suffix
Merge #2029 'migrate legacy tests'
legacy tests: migrate test84
legacy tests: migrate test91
legacy tests: migrate test90
legacy tests: migrate test95
legacy tests: migrate test15
legacy tests: migrate test_listlbr_utf8
legacy tests: migrate test98
legacy tests: migrate test103
legacy tests: migrate test_qf_title
legacy tests: migrate test100
third-party: change all references to libunibilium to just unibilium
third-party: fix some whitespace issues from the recent splitting
Merge pull request #2061 from equalsraf/tb-split-recipes
Split third-party recipes into multiple files
tests/ui: Also test character at cursor
Merge pull request #2082 from jszakmeister/fixes-for-busted-and-luajit
Merge pull request #2116 from medvid/disable-static
test: migrate legacy test 77 #2046
Merge #2081 'avoid spurious rebuilds from git operations'
version: don't use NVIM_VERSION_* directly outside version.c
config: split out versiondef.h from config.h
Remove redundant casts
deps: Update libvterm
deps: Provide options to disable static linkage
docs: Clean up python, provider, remote_plugin #2056
Compiler warns about uninitialized object in vim_eval().
Remove unnecessary assert() in os_dirname().
tui: fall back to underline for undercurl. #2099
set_init_1: mb_init() on fallback encoding (utf8) #2106
Merge pull request #2110 from xu-cheng/sha256
Switch to SHA256 for third-party bundles downloading
Merge #2011 'Macro cleanup'
Macro cleanup: USE_UNIXFILENAME
Macro cleanup: USE_ON_FLY_SCROLL
Macro cleanup: USER_HIGHLIGHT
Macro cleanup: USE_EXE_NAME
Macro cleanup: ONE_CLIPBOARD
Macro cleanup: UNICODE16
Macro cleanup: SPACE_IN_FILENAME
Macro cleanup: HAVE_SANDBOX
vim-patch:7.4.578
remote_ui: Fix error messages #2045
jobsend: Don't append extra newline after last item
Merge pull request #2083 from fwalch/fix-deps-32
deps: Fix building 32-bit Lua rocks.
tests: prevent busted from reloading the ffi module and others
Merge pull request #2075 from jszakmeister/dont-hardcode-tty-test-path
Merge pull request #2079 from jszakmeister/test-fixes-for-busted
tests: require luassert in the helpers
tests: don't hardcode the path to tty-test
deps: Small fix for PR #2072
Merge PR #2072 'Add custom target for pinning busted dependencies'
deps: Add libvterm to the project dependencies
deps: Add custom target for pinning busted dependencies
test: mark job/pty test as pending #2058
illumos requires the use of limits.h for things like INT_MAX #2049
Fix warnings: message.c: copy_hotkeys_and_msg: Garbage value: FP. #2062
Merge pull request #2053 from jszakmeister/fix-libuv-libraries
build: filter off libuv from PC_LIBUV_LIBRARIES
build: make sure our deps area is picked up for pkg-config files
Merge PR #2037 'Job control fixes and pseudo terminal support'
job: Allow spawning jobs connected to pseudo terminals
job: Refactor process spawning and startup arguments
job: Send SIGTERM before calling job_stop in job_teardown
eval: Fix buffering of data in job autocommands
Simpler handling for "always-on"/"always-off" options. #2002
Merge PR #2039 'Update unibilium for OSX'
tui: Also use xterm-256color when TERM=screen and COLORTERM != NULL
deps: Update unibilium version to add OSX support
Merge #2027: Fix clang analysis warnings. (7)
Fix warnings: window.c: close_last_window_tabpage(): Use after free: RI.
Fix warnings: screen.c: screen_puts_len(): Various (4): FP/MI.
Merge PR #1997 'Remove term modules'
tui: Use unibi_format instead of unibi_run
tui: Remove option cache
tui: Set setaf/setab capabilities for TERM=xterm
refactor: Remove term modules and termcap options
Merge PR #2032 'Some test fixes'
test: Add extra screen expectation to prevent race condition
test: Remove temporary files created by 072_undo_file_spec.lua
test: Remove -g flag from pynvim call in Screen.debug
Merge #1983: Fix coverity issues. (5)
coverity/13746: Negative array index write: FP.
coverity/13683: Out-of-bounds access: RI.
coverity/72768: Negative array index read: FP.
Merge PR #1993 'legacy test: migrate test 72'
legacy test: migrate test 72
Merge PR #2025 'More fixes to the new TUI'
tui: Don't use 'timeout' for determining esc timeout
tui: Set default color attributes when scrolling
tui: Fix terminfo extension indexes
tui: Replace uv_tty_t by uv_pipe_t
tui: Only send the pastetoggle key if necessary
Merge pull request #2022 from jszakmeister/update-msgpack-for-freebsd-fix
vim-patch:7.4.525 #1988
Merge pull request #1964 from jszakmeister/fix-bashism-in-fs-spec-test
Update message pack to include the FreeBSD and OpenBSD byteswap fix.
Merge #1979 'Enable -Wconversion'
Enable -Wconversion: os_unix.c.
Enable -Wconversion: keymap.c.
Enable -Wconversion: indent.c.
Enable -Wconversion: mark.c.
Enable -Wconversion: Passing-by: Remove dead code (MACOS_CONVERT).
Enable -Wconversion: ui.c.
Merge PR #2007 'Fixes for the new TUI'
input: Escape utf8 sequences that contain CSI/K_SPECIAL
tui: Remove support for overriding escape sequences with nvim options
tui: Fix use after free(reported by clang static analyzer)
tui: Add support bracketed paste
tui: Fix to_status_line terminfo sequence for xterm
tui: Fix background clear for some terminals
fix rebase hiccup #1911
Merge #1717 'TabNew, TabNewEntered, TabClosed'
Add TabClosed event
Add TabNewEntered
Add TabNew event
Merge PR #1820 'Reimplement builtin terminal UI with termkey/unibilium'
test: Fix 051_highlight_spec.lua
cleanup: Remove unused functions and builtin termcaps
syntax: Refactor to store all term and gui attributes independently
ui: Rewrite the builtin terminal UI
ui: Remove/adapt some old code for a big UI refactor
ui: Remove redundant cursor_goto calls
input: Remove input_buffer_{save,restore}
input: Fix handle_mouse_event function
input: Prefer keycodes in input_enqueue key translation
macro: Add MAX macro and rename min to MIN
test: Increase default_screen_timeout when running on travis
test: Remove unnecessary tests from viml_system_spec.lua
test: Fix race condition in window_spec.lua
test: Add synchronization helper for functional tests
Remove 'edcompatible' #1911
Merge #1981 'treat NULL initialized vimscript string as api type String'
api: always return empty string as api type String
test: NULL-initialized vimscript strings should eval to empty strings
runtime: make the spellfile creation use .nvim folder #1990
FEAT_SIGNS: restore :signs wildmenu, and add test.
shadow previously set signs #1893
vim-patch:7.4.601 #1950
api/vim.c: use FOR_ALL_* sugar #1963
Merge pull request #1977 from jakerr/api-exception
Discard exceptions once they are converted to API errors
Merge pull request #1965 from jszakmeister/fix-fs-spec-test-for-freebsd
Merge #1947: Fix coverity issues. (4)
coverity/102149: Out-of-bounds access: FP.
coverity/{68484,68485}: Read from pointer after free: RI.
coverity/13773: Resource leak: RI.
coverity/13764: Out-of-bounds read: RI.
coverity/13762: Out-of-bounds read: RI.
Merge PR #1966 'Remove libtickit as a project dependency'
deps: Remove libtickit as a project dependency
Merge pull request #1958 from jszakmeister/fix-unittest-header-parsing-on-freebsd
Merge PR #1973 'Add Luajit compilation flags to improve debugging'
deps: Update lua-client
deps: Add Luajit compilation flags to improve debugging
Merge pull request #1922 from jszakmeister/fix-build-under-opensuse-x64
build: upgrade msgpack-c #1900
doc: man pages: restore removed line. #1968
Get rid of a bashism in the fs_spec test. #1964
Merge pull request #1951 from jszakmeister/split-hash-checking
Fix an fs_spec test under FreeBSD and a symlinked home directory.
build: allow SKIP or skip to be used as the SHA1
build: split hash checking from the download step
Get rid of a bashism in the fs_spec test.
unittests: define _Thread_local to be nothing
doc/options.txt: remove 'compatible' #1925
Remove 'ttyfast'
Merge pull request #1957 from elmart/clint-pep8
Make clint.py pep8-compliant.
Merge PR #1948 'Remove nondeterminism in systemlist interrupt tests'
test: Remove nondeterminism in systemlist interrupt tests
CMake: Hide stderr output for successful test runs.
doc: diff-mode: minor adjustments
Remove vimdiff: Review suggestions
Remove vimdiff
main.c: usage() improvement
Enable -Wconversion for version.c #1923
deps: Fix libuv md5sum
Merge PR #1883 'More work on highlight tests + update documentation'
api/vim: allow guis and tests to retrieve the entire color table
test/ui: update documentation for screen tests
test/ui: enable strict mode by default (and in existing tests)
test/ui: more informative "unexpected highlight" errors
Travis: Fail fast, disable JIT for functional tests.
Merge #1896 'Fix coverity issues. (3)'
coverity/13810: Unitialized scalar variable: HI.
coverity/13745: Argument cannot be negative: RI.
coverity/15019: String not null terminated: FP.
coverity/68610: Out-of-bounds access: FP.
coverity/13750: Negative array index read: FP.
Add EndOfBuffer hl group for ~ lines after the last line in buffers
scripts/vim-patch: Allow equivalent shorthand args
Fix #1920: Unable to build on openSUSE 13.2 x64
Fall back to libuv 1.2.0 and fix #1914.
Merge pull request #1572 from fwalch/fix-osx
Merge PR #1799 'Update to libuv 1.3.0'
Update to libuv 1.3.0
Travis: Run unit tests for Clang build.
Travis: Fix OS X builds.
Merge PR #1907 'Fix functional test problems'
test: Mark unreliable test as pending in job_spec.lua
travis: Install neovim module for testing the python provider.
Merge pull request #1834 from Pyrohh/misc-float-double
Fix the ctrl + left click test.
Merge #1814 'clipboard: don't clobber "0 when deleting to unnamed'
clipboard: more register tests for delete
clipboard: don't clobber "0 when deleting to unnamed
Remove spurious file 'del' left after old tests.
Merge pull request #1867 from elmart/nonnull-deadcode
api/*.c: Comment cleanup
Remove nonnullret deadcode: xmalloc & xrealloc.
Remove nonnullret deadcode: xmalloc.
Remove nonnullret deadcode: xcalloc.
Remove nonnullret deadcode: viminfo_readstring.
Remove nonnullret deadcode: vim_strsave.
Remove nonnullret deadcode: transstr.
Remove nonnullret deadcode: str_foldcase & vim_strnsave.
Remove nonnullret deadcode: home_replace_save.
Remove nonnullret deadcode: getroom.
Remove nonnullret deadcode: enc_canonize.
Remove nonnullret deadcode: addstar.
Remove nonnullret deadcode: Mark new nonnullret functions.
tools: add .clang-format
Merge 'vim-patch: Small patches' #1873
vim-patch: Mark 7.4.522, 7.4.591 as NA.
vim-patch:7.4.517
vim-patch:7.4.514
vim-patch:31f7581
fix #1839: decrement mouse row and col
Remove '+float' references
hardcopy.c: Factor out float usage
Merge pull request #1865 from Pyrohh/main-improvements
main.c: Misc. improvements
main.c: Enable -Wconversion
Merge PR #1879 'Migrate legacy test 107'
test: Migrate legacy test 107
Merge PR #1877 'Fix functional test suite hang when a test fails'
test: Make default screen timeout depend on the VALGRIND env var
test: Fix hanging test suite after failures
deps: Update lua client
Merge PR #1835 'snapshot_util (Screen Tests for the Lazy) and enable stricter highlight tests'
tests/ui: strict mode
tests/ui: snapshot util
Merge pull request #1850 from JackDanger/halfway-a-line
"halfway a line" is a very confusing phrase
Merge pull request #1864 from Hinidu/vim-7.4.500
Merge pull request #1847 from JackDanger/safely-freeing-channels
Merge pull request #1861 from fwalch/na-patches
Merge PR #1863 'Fix tests for plain lua'
test: Set some options to reduce nondeterminism in functional tests
test: Make it possible to run functional tests with plain lua
test: Fix screen.lua eol_clear method.
Fix CID #102150
Replace erroneous ft=unix by ff=unix from 7.4.406
vim-patch:7.4.500
vim-patch: Mark patches as NA.
Merge pull request #1853 from fwalch/vim-bd18da9
vim-patch:bd18da9
Merge pull request #1656 from fmoralesc/remove-easy-mode
Merge pull request #1856 from Hinidu/vim-7.4.462
Merge pull request #1855 from Hinidu/vim-7.4.446
vim-patch:7.4.462
vim-patch:7.4.446
Merge pull request #1852 from fwalch/vim-47b1887
vim-patch:47b1887
Merge pull request #1843 from JackDanger/initialize-our_paren_pos-CID-102151
Merge pull request #1848 from Hinidu/vim-7.4.492
vim-patch:7.4.492
Merge pull request #1812 from elmart/remove-long_u-5
Remove long_u: Remove type.
Remove long_u: regexp: Refactor long_u.
Remove long_u: ops.c: Refactor long_u.
Remove long_u: ex_docmd.c: Refactor long_u.
Remove long_u: buffer_defs.h: Refactor long_u.
Remove long_u: option.c: Refactor long_u.
Remove long_u: option.c: Enable -Wconversion.
Remove long_u: (various): Refactor long_u.
Remove long_u: ex_cmds_defs.h: Refactor long_u.
Merge pull request #1729 from fwalch/vim-7.4.490
Merge pull request #1781 from fwalch/missing-vim-patches
coverity/102151: initialize `our_paren_pos`
Merge pull request #1798 from oni-link/fix.job.wait
Tests for system()/systemlist() when interrupted with CTRL-C.
Merge pull request #1833 from aktau/formatc-fix-gcc-on-osx
test: fix formatc.lua oddity on OSX/gcc
test/os/fs: fix call to lfs.attributes
Merge pull request #1803 from elmart/small-fixes
coverity/100248: Operands don't affect result: HI.
Remove easy mode
Merge pull request #1816 from Pyrohh/macro_cleanup
Merge PR #1810 'abstract_ui fixes and improvements(continuation)'
deps: Update libtickit URL
test: Add more functional test to cover new code
screen: Fix screen_resize to consider minimum screen size
input: Fix check for mouse coordinates
Macro cleanup: Miscellaneous
Macro cleanup: HAS_SWAP_EXISTS_ACTION
Macro cleanup: PROTO
input: Read row/col position when processing mouse wheel
ui: Implement set_{title,icon}
Fix bad assert.
vim-patch.sh: Add option to list missing Vim changesets.
test: Add Screen.debug for inspecting screens of hanging tests
term: Fix shell_resized for abstract_ui
screen: Fix highlight reset for abstract_ui
main: Fix color schemes for abstract_ui
syntax: Refresh UI when the color scheme changes
ui: Fix redraw bug caused by race conditions with remote clients
shell: When executing command, use screen functions to display output
ui: Use ui_linefeed to handle line breaks correctly
ui: Fix out_flush/ui_write behavior to always flush for abstract_ui
channel: Make pending_requests a field of the Channel type
ui: Fix `:suspend` command for remote UIs
ui: Don't parse abstract_ui codes if there are no attached UIs
channel: Free channels created from libuv streams
ui: Add 'rgb' parameter to ui_attach
syntax: Take rgb fg/bg when allocating cterm attr number
ui: Merge standout and reverse into one attribute
input: Ignore invalid "<" key sequences
test: Remove unnecessary command from highlight_spec
ui: Fix ui resizing and change some method names
remote_ui: Move handler registration to remote_ui.c
ui: Add mising T_CSV code to abstract_ui termcap
ui: Increase cursor row when text being rendered would cross its limit
ui: Add update_fg/update_bg methods
test: Fix clear/eol_clear in screen.lua
Merge pull request #1782 from fwalch/small-patches
Merge pull request #1801 from Pyrohh/qnx_cleanup
Merge pull request #1792 from fwalch/clint_remove-rand_r
Merge pull request #1804 from neovim/revert-1657-abstract-ui-fixes
Revert "[WIP] "abstract_ui" fixes and improvements"
Merge pull request #1657 from tarruda/abstract-ui-fixes
syntax: Refresh UI when the color scheme changes
ui: Fix redraw bug caused by race conditions with remote clients
shell: When executing command, use screen functions to display output
ui: Use ui_linefeed to handle line breaks correctly
ui: Fix out_flush/ui_write behavior to always flush for abstract_ui
channel: Make pending_requests a field of the Channel type
ui: Reimplement `:suspend` command for remote UIs.
ui: Don't parse abstract_ui codes if there are no attached UIs
channel: Free channels created from libuv streams
ui: Add 'rgb' parameter to ui_attach
ui: Dont resize screen if no UIs are attached
screen: Fix bug that causes separator to always be redraw for utf8
screen: Remove abstract_ui test in reset_cterm_colors
runtime: Fix plugin/matchparen.vim for abstract_ui
syntax: Take rgb fg/bg when allocating cterm attr number
ui: Merge standout and reverse into one attribute
input: Ignore invalid "<" key sequences
test: Remove unnecessary command from highlight_spec
ui: Fix ui resizing and change some method names
Remove QNX/pterm remnants
job.c: Prevent early return from job_wait().
Merge pull request #1710 from Pyrohh/improve-docs-job-control
docs: Misc. improvements to job_control/msgpack
docs: More consistent descriptions of rpc*() funcs
Merge pull request #1794 from elmart/remove-long_u-cleanup
Cleanup: Rename getdigits() family functions.
Linting: Recommend os_* instead of POSIX functions.
Cleanup: Refactor variables: long --> int.
Cleanup: Refactor getdigits().
Cleanup: Refactor option_table_T.number: long --> int.
Cleanup: Refactor prt_{fg,bg,new_bg}col: int --> uint32_t.
Cleanup: Remove local var bg_color@prt_get_attr().
Cleanup: Fix bad assert.
remote_ui: Move handler registration to remote_ui.c
ui: Test for abstract_ui whenever a minimal t_colors value is required
ui: Add mising T_CSV code to abstract_ui termcap
ui: Increase cursor row when text being rendered would cross its limit
ui: Add update_fg/update_bg methods
test: Fix eol_clear in screen.lua
Merge pull request #1761 from oni-link/speed.up.gc
Merge pull request #1788 from elmart/remove-long_u-4
Remove long_u: term: Remove dead code using long_u.
Remove long_u: term: Enable -Wconversion.
Remove long_u: hardcopy: Refactor long_u.
Remove long_u: hardcopy: Enable -Wconversion.
Merge PR #1787 'Use versioned URLs for libtickit and dependencies'
deps: Use versioned URLs for libtickit and dependencies
Merge pull request #1784 from elmart/coverity-issues-2
coverity/13763: Out-of-bounds read: FP.
coverity/13761: Out-of-bounds-write: FP.
coverity/13758: Out-of-bounds read: FP.
vim-patch:7.4.563
vim-patch:7.4.567
version.c: Add patch numbers until 7.4.567.
vim-patch:7.4.466
Merge pull request #1779 from bfredl/itemlist
eval: fix incorrect refcount in list_append_list
Merge pull request #1763 from epaulson10/vim-7.4.551
Merge pull request #1772 from fwalch/vim-6921742
Change 'history' default to 50.
vim-patch:7.4.551
vim-patch:37c2403
vim-patch:6921742
vim-patch:7.4.490
Merge pull request #1762 from steveno/patch-1
Merge pull request #1768 from fwalch/vim-7.4.559
vim-patch:7.4.559
globals.h: Remove unused global variable
Merge pull request #925 from splinterofchaos/sha256
sha: define SHA256_BUFFER_SIZE and SUM_SIZE.
sha256.c: Enable -Wconvert and clint.
Speed up garbage collection.
Merge pull request #1759 from fwalch/vim-babc6a1
Merge pull request #1744 from fwalch/vim-1e8ebf8
vim-patch:babc6a1
vim-patch:1e8ebf8
Merge pull request #1742 from fwalch/vim-7.4.552
Merge pull request #1738 from fwalch/vim-7.4.549
Merge pull request #1754 from justinmk/vim-7.4.487
vim-patch:7.4.487
vim-patch:6a598be test for 7.4.487
Merge pull request #1737 from fwalch/vim-7.4.541
Merge pull request #1757 from oni-link/vim-7.4.533
vim-patch:7.4.533
Merge pull request #1752 from oni-link/vim-7.4.402
vim-patch: Mark patches as NA
Merge pull request #521 from oni-link/vim-patch-7-4-211
vim-patch:7.4.211
Merge pull request #1747 from justinmk/ex_ni
restore 'Not Implemented' for legacy script commands (:lua :ruby ...)
Merge pull request #1746 from fwalch/improve-legacy2luatest
Improve legacy2luatest script.
Merge pull request #1743 from oni-link/vim.patch.7.4.560
Merge pull request #1736 from fwalch/vim-7.4.528
vim-patch:750a698
vim-patch:7.4.549
vim-patch:7.4.528
vim-patch: Mark patch 7.4.560 as NA
Merge pull request #1735 from fwalch/vim-7.4.527
Merge pull request #1734 from fwalch/small-patches
vim-patch:7.4.552
Merge pull request #1684 from justinmk/coverity74717
Merge pull request #1730 from fwalch/vim-7.4.486
Merge pull request #1725 from fwalch/vim-7.4.450
Merge pull request #1718 from jonaias/master
Merge pull request #1741 from oni-link/fix_cid_90712
coverity/90712: Remove unnecessary check for NULL.
Transform global variable really_exiting into static.
Merge pull request #1740 from fwalch/improve-vimpatch
Improvements to vim-patch script.
vim-patch:7.4.486
Merge pull request #1722 from fwalch/vim-7.4.488
vim-patch:7.4.541
vim-patch:7.4.547
vim-patch:7.4.545
vim-patch:7.4.538
vim-patch:7.4.536
vim-patch:7.4.521
Merge pull request #1715 from elmart/remove-long_u-3
Remove long_u: Passing-by: put_time(): Refactor implementation.
Remove long_u: Passing-by: undo.c: Add to -Wconversion.
Remove long_u: put_bytes(): Refactor.
vim-patch:7.4.527
Merge pull request #1732 from fwalch/small-patches
Merge #1493: enable linting by default
Linting: Suppress warnings in os/users.c.
Linting: Fix strcpy warning.
Linting: Fix header guards, add whitespace.
Linting: Integrate into CMake, enable by default.
vim-patch:7.4.518
vim-patch:7.4.516
vim-patch:7.4.513
vim-patch:7.4.520
vim-patch:7.4.508
vim-patch:7.4.488
vim-patch:7.4.485
vim-patch:7.4.483
Merge pull request #1728 from fwalch/small-patches2
vim-patch:7.4.474
vim-patch:7.4.477
vim-patch:7.4.489
vim-patch:7.4.491
vim-patch:7.4.493
vim-patch:7.4.494
vim-patch:7.4.499
vim-patch:7.4.450
Merge pull request #1727 from fwalch/small-patches
Merge pull request #1724 from fwalch/vim-7.4.452
Merge pull request #1726 from fwalch/vim-7.4.447
Merge pull request #1721 from fwalch/vim-7.4.395
Merge pull request #1720 from fwalch/vim-7.4.311
vim-patch:7.4.447
vim-patch:7.4.452
vim-patch:7.4.449
vim-patch:7.4.438
vim-patch:7.4.441
vim-patch:7.4.458
vim-patch:7.4.468
Merge pull request #1723 from fwalch/offline-vimpatch
Ignore update errors in vim-patch script.
vim-patch:7.4.395
vim-patch:7.4.311
vim-patch:7.4.457 #1713
Merge pull request #1712 from fwalch/vim-7.4.456
coverity/74717: FP: NULL Pointer Dereference
Merge pull request #1685 from justinmk/coverity74718
coverity/74718: invalid FUNC_ATTR_NONNULL_ARG
vim-patch:7.4.456
Merge pull request #1711 from fwalch/vim-7.4.455
vim-patch:7.4.455
Merge pull request #1247 from splinterofchaos/350
vim-patch:7.4.390
vim-patch:7.4.355
vim-patch:7.4.350
Doxygen find_match_paren().
Merge pull request #1648 from Pyrohh/amiga-vms-cleanup
Remove Amiga remnants
Remove dec-mcs remnants
Remove VMS remnants
Merge pull request #1707 from fwalch/na-patches
vim-patch: Mark patches as NA.
Merge pull request #1663 from philix/array_size
Merge pull request #1704 from fwalch/vim-7.4.434
Merge pull request #1638 from Grimy/ex-drop
Merge pull request #1699 from three-comrades/fix-viminfo
vim-patch:7.4.442
vim-patch:7.4.434
Change the signature of utf_convert() (mbyte.c) to use ARRAY_SIZE
Change the signature of intable() (mbyte.c) to use ARRAY_SIZE
Use ARRAY_SIZE where Coccinelle wasn't able to do it
Define and use the ARRAY_SIZE macro
Merge pull request #1701 from fwalch/vim-7.4.423
Merge pull request #1702 from fwalch/update-busted
Update busted to 2.0.rc4.
vim-patch:7.4.423
Merge pull request #1588 from equalsraf/tb-no-central-deps
Merge pull request #1686 from jszakmeister/include-opts-in-fortify-check
Merge pull request #1654 from gaurdro/rpm-fortify_source
Detect and propagate _FORTIFY_SOURCE prefix
Reimplement :drop (vim-patch:0)
Remove superfluous settings from legacy tests.
Merge pull request #1698 from elmart/clang-analysis-fixes-6
Use a local viminfo file when running the old tests.
Fix warnings: window.c: win_close_othertab(): Np dereference: FP.
Fix warnings: syntax.c: get_id_list(): Double free: FP.
Fix warnings: option.c: makeset()/put_setnum(): Various (3): FP.
Merge pull request #1688 from elmart/coverity-issues-1
coverity/75594: Explicit null dereferenced: RI.
Passing-by: Fix FALSE/FAIL confusion.
coverity/13696: Unchecked return value: RI.
coverity/13695: Unchecked return value: RI.
build: include the flags for the build type in the _FORTIFY_SOURCE check
Allow cmake caller to override DEPS_PREFIX
Dont force ../.deps in third-party/CMakeLists.txt
Merge pull request #1679 from oni-link/fix.clang.warning
Fix warning: ops.c: read_viminfo_register():  Dereference of null pointer: RI.
Merge pull request #1677 from philix/dpelle-constify
Little by little add 'const' were possible: mbyte.c
Merge pull request #1676 from fwalch/na-patches
vim-patch: Mark patches as NA.
Merge pull request #1666 from elmart/vim-patch-7.4.543
vim-patch:7.4.543.
Merge pull request #1570 from fwalch/travis-improvements
Travis: Remove setting core file size.
Travis: Simplify clint script.
Travis: Change search pattern for core dumps.
Travis: Add flag to force building of dependencies.
Travis: Perform installation test on 32-bit build.
Merge pull request #1668 from three-comrades/patches
Merge pull request #1661 from philix/early_exit
vim-patch: Update patches to 552
vim-patch: Mark patches as NA
vim-patch:7.4.470
vim-patch:7.4.463
Simple refatorings that didn't fit the pattern of the last commit
Reduce indentation level by early returning or continuing loop
vim-patch: Mark patches as NA. #1637
main.c: remove NO_VIM_MAIN
Merge pull request #1622 from klusark/test29
vim-patch:? Fix memory leak in readviminfo
Ignore compatible mode
Make test29 work with nocompatible.
Merge pull request #1586 from oakes/master
Build libnvim on CI server
Allow building as a static -fPIC library
Merge pull request #1642 from fwalch/msgpack-glob
strcnt: remove unused parameter
Merge pull request #1635 from danthedeckie/master
Merge pull request #1604 from equalsraf/tb-env-configs
strings.c: replace copy_spaces, copy_chars with equivalent memset.
Merge pull request #1134 from splinterofchaos/getreg-nl
Attribute/constify get_tv_string(_buf(_chk)).
vim-patch:7.4.249
Refactor str_to_reg().
vim-patch:7.4.243
Return void * from get_reg_contents.
vim-patch:7.4.242
Merge pull request #1643 from philix/ga_deep_clear
Use GA_DEEP_CLEAR where appropriate
GA_DEEP_FREE_PTR: deep free macro for garrays that store simple pointers
GA_DEEP_CLEAR macro for garray memory deallocation
memory: memcnt and strcnt.
CMake: Remove msgpack shared library in subdirectories.
Merge PR #1632 'Recognize mouse events for abstract_ui'
input: Recognize mouse events for abstract_ui
Merge pull request #1628 from Pyrohh/misc-cleanup
docs: Fix incorrect Mac path references
docs: Remove Photon remnants
docs: Remove OS/390 remnants
docs: Remove RISC OS remnants
docs: Remove 'osfiletype' remnants
docs: Remove EBCDIC remnants
docs: Remove VAX remnants
docs: Remove BeOS/Haiku remnants
Merge PR #1605 'Abstract UI termcap'
test: Add screen test facility
msgpack-rpc: Add remote_ui module
syntax: Use RGB/GUI attribute information for "abstract_ui"
ui: Add abstract_ui termcap and split UI layer
msgpack-rpc: Allow registration of handlers by other modules
Merge pull request #1182 from bfredl/clipboard
docs: remove unnamedclip option
Merge pull request #1599 from jszakmeister/gitrev-fixes
eval_has_provider: search autoload scripts same order as call_func
clipboard: fix `let @+ = ...` and add test
clipboard: add functional test
clipboard: better error messages when provider not available
options: change "unnamedclip" back to "clipboard=unnamed/unnamedplus"
clipboard: clean up unnamedclip logic
clipboard: handle linewise/charwise selections correctly
clipboard: support separate '+' and '*' clipboards
deps: Update lua client
Merge pull request #1624 from Pyrohh/doc-fixes
doc: Misc. improvements to nvim-related docs
Merge pull request #1623 from Pyrohh/cleanup-shortname
runtime: Cleanup refs to removed options
docs: Remove shortname references.
Merge pull request #1589 from splinterofchaos/fix-const-atter
Merge pull request #1341 from splinterofchaos/api-nul
api: Add tests for when not to handle NULs.
api: Handle NULs and newlines in buffer_*_line.
strings: Remove NONNUL_ALL from NULL-taking functions.
Merge pull request #1618 from elmart/clang-analysis-fixes-5
Merge pull request #1510 from three-comrades/testnocp
Fix warnings: message.c: msg_attr_keep(): Np dereference: FP.
Fix warnings: edit.c: ins_compl_next_buf(): Np dereference: MI.
Make migrated test33 more similar to old legacy test.
Allow the rest of the old tests to pass with nocp.
Allow most old tests to pass with nocp.
Merge PR #1620 'Fix 32bit unibilium build'
deps: Fix unibilium/libtickit URLs
Revert "deps: Fix 32-bit build of lib{unibilium,termkey,tickit}"
Merge PR #1613 'Fix shell command output'
deps: Fix 32-bit build of lib{unibilium,termkey,tickit}
shell: Fix shell command output
Merge PR #1616 'Update lua client'
deps: Update lua client
Only use SANITIZE for nvim target
Merge pull request #1609 from jszakmeister/use-plain-terminal-for-tests
build: use plainTerminal for tests on Travis CI
Merge pull request #1563 from Pyrohh/cleanup-docs-encryption
Remove remaining crypto references
Merge pull request #1534 from oni-link/fix.leak.detected.in.1510
Don't use env vars for configuration time options
Merge PR #1603 'Small refactoring and dependencies update'
deps: Update unibilium and lua client
shell: Remove kShellOptCooked from ShellOpts
time: Inline microdelay into os_microdelay
channel.c: Fix for heap-use-after-free
Fix memory leak detected in PR 1510.
Revert "Merge pull request #1587 from equalsraf/tb-env-configs"
Merge pull request #1587 from equalsraf/tb-env-configs
Merge pull request #877 from equalsraf/tb-gendeclarations-windows
Merge pull request #1542 from jszakmeister/upgrade-libuv
build: only manipulate out if getting the timestamp was successful
build: no need to quote the paths in CMake, it will do it automatically
build: fix a typo in a comment of FindLuaJit.cmake
Merge pull request #1596 from elmart/fix-newline-subst
Fix newline substitution: Adapt to upstream patch.
Merge pull request #1567 from bfredl/systemlist
When SANITIZE=ON headers need -DEXITFREE
systemlist: test empty lines in beginning and middle of output
systemlist: add `keepempty` option to preserve final newline
Only use SANITIZE for nvim target
Don't use env vars for configuration time options
deps: Use unibilium URL with Makefile fixed for OS X
Merge PR #1591 'Prepare to rewrite the terminal UI'
mouse: Remove CHECK_DOUBLE_CLICK conditionals
term: Move more mouse functions to mouse.c
term: Remove most calls to settmode
term: Move "set_shellsize" to screen.c as "screen_resize"
deps: Add libtickit/libtermkey as dependency
Merge pull request #1582 from LBEaston/FixSegFault
Fix SegFault when getting full path for files
Merge pull request #1497 from splinterofchaos/const-attr
Refactor declaration generation
Merge pull request #1538 from fwalch/multi-os
Travis: Prepare for OS X builds.
Merge pull request #1491 from Pyrohh/os2-and-misc-cleanup
Merge pull request #1533 from elmart/fix-sub-newline-abort
Merge pull request #1186 from splinterofchaos/write
mch_early_init() -> early_init().
update mch_suspend
mch_init -> term_init
mch_write -> term_write
Fix newline substitution.
Wconversion: fix #1578
Update to libuv 1.0.1.
Remove OS/2 references
Remove Atari MiNT references
Remove NeXTSTEP references
Merge pull request #1492 from fwalch/fix-wconversion
Merge pull request #1566 from splinterofchaos/fix-save-tv-as-string
Merge pull request #1516 from fmoralesc/new-patches
Merge PR #1568 'Remove code defined under USE_IM_CONTROL #ifdefs'
ui: Move check_col/check_row functions to mbyte.c
Remove code defined under USE_IM_CONTROL #ifdefs
vim-patch:7.4.478: Use character lenght for 'showbreak'
vim-patch:7.4.473
vim-patch:7.4.472: Only draw "precedes" entry in 'listchar' when 'list' is on
vim-patch:7.4.467: Avoid a problem with unwanted linebreaks in block mode
vim-patch:7.4.435: Disable linebreak temporarily when formatting lines.
vim-patch:7.4.425: Adjust virtcol when showbreak is set
eval: Fix coverity false positive.
Wconversion: Change long to int64_t in cursor_shape.c, digraph.c.
Wconversion: Remove regexp_nfa.c from list.
Wconversion: Fix warnings in indent_c.c.
Wconversion: Fix warnings in file_search.c.
Wconversion: Fix warnings in ex_eval.c.
Merge pull request #1562 from Happy-Dude/fix-1560-libuv-refs
strings: Enable -Wconvert.
strings/memory: constify and func_attr.
Merge PR #1565 'Cleanup ui module'
ui: Remove redundant ui.h includes
ui: Extract mouse.c/mouse.h
ui: Remove ui_delay, ui_breakcheck and ui_set_shellsize
ui: Remove ui_inchar/ui_char_avail
Change refs for joyent/libuv repo to libuv/libuv
Merge PR #1270 'Add Boolean argument escape_csi to vim_feedkeys'
Functional tests for feedkeys CSI escaping
Add Boolean argument escape_csi to vim_feedkeys
Merge pull request #1555 from jszakmeister/silent-xclip-find-executable
Merge pull request #1556 from elmart/fix-msgpack-rpc-docs
Merge pull request #1554 from jszakmeister/allow-skipping-of-sum
Avoid printing an error response when detecting xclip.
Merge pull request #1559 from fwalch/python-messages
Improve Python host messages.
Merge pull request #1514 from jszakmeister/better-fortify-detection
Fix outdated msgpack-rpc doc.
build: probe the compiler to see if we need to turn down _FORTIFY_SOURCE
Merge pull request #1544 from jszakmeister/run-tests-error-code
build: add failure message along with number in GenerateHelptags.cmake
Merge pull request #1543 from jszakmeister/fix-broken-functional-tests
build: allow skipping of the hash check in the download step
Merge pull request #1552 from equalsraf/tb-fix-1530
Add missing refcount increment for systemlist()
Merge PR #1547 'Update bundled lua client version'
deps: Update bundled lua client version
build: print the error result when the tests fail
Fix broken functional test.
Merge pull request #1539 from Floobits/master
Print an error and exit when there are no plugins.
Merge pull request #1526 from elmart/mem-func-impr
Fix substitute newline: Memory functions: Improve style.
Merge pull request #1525 from justinmk/clipboardX
clipboard: check for X on every invocation
Merge PR #1527 'Add gdbserver support on helpers.lua'
test: Add gdbserver support on helpers.lua
Merge pull request #1520 from elmart/fix-func-tests
Merge pull request #1521 from three-comrades/valgrind
Fix Makefile for running valgrind with old tests.
Merge pull request #1513 from fwalch/vimpatch-script
Fix functional-test-105 failure in OSX.
Merge PR #1518 'Improve functional tests and perform explicit K_EVENT handling'
event: No longer process K_EVENT automatically
test: Fix problems in job_spec.lua
test: Refactor functional helpers to use vim_input
input: Refactor to ensure user input has higher priority
Add helper script for porting vim patches.
Merge PR #1515 'Refer to plugins running outside Nvim as "remote plugins"'
runtime: Refer to plugins running outside Nvim as "remote plugins"
Merge pull request #1373 from elmart/fix-outofdate-doc
Fix warnings: Fix outdated doc: Connecting to nvim through python REPL.
Merge PR #1420 'Migrate legacy tests (2nd batch)'
legacy tests: migrate test105
legacy tests: migrate test26
legacy tests: migrate test101
legacy tests: migrate test75
legacy tests: migrate test51
legacy tests: migrate test43
legacy tests: migrate test33
legacy tests: migrate test67
legacy tests: migrate test66
legacy tests: migrate test25
legacy tests: migrate test104
legacy tests: implement :source helper method.
legacy tests: remove test21 files
legacy tests: migrate test5
Merge PR #1504 'Change external plugin dir, manifest and improve docs'
doc: Add nvim_provider/external_plugin to doc Makefile
doc: Update external plugin documentation
runtime: Prepend the vimrc filename to the external plugin manifest
runtime: Change external plugin directory to "external-plugin"
Merge pull request #1488 from fwalch/invert-wconversion
Wconversion: Fix warnings in digraph.c.
Wconversion: Fix warnings in cursor_shape.c.
CMake: Set -Wconversion by default.
Merge pull request #1478 from elmart/clang-analysis-fixes-4
Fix warnings: eval.c: f_rpcrequest(): Garbage value: MI.
Fix warnings: screen.c: screenalloc(): Np arg (2): MI.
Fix warnings: eval.c: do_return(): Np dereference: FP.
Fix warnings: eval.c: add_nr_var(): Out of bounds: FP.
Fix warnings: eval.c: call_user_func(): Out of bounds: FP.
Fix warnings: eval.c: get_user_func_name(): Np dereference: FP.
Fix warnings: eval.c: clear_tv(): Bad free: RI.
Fix warnings: eval.c: item_compare(): Garbage value: MI.
Fix warnings: eval.c: dictitem_alloc(): Out-of-bounds access: FP.
Fix warnings: eval.c: set_var_lval(): Np dereference: FP.
Fix warnings: window.c: tabline_height(): Np dereference: FP.
Fix warnings: window.c: win_drag_vsep_line(): Np dereference: FP.
Fix warnings: window.c: winframe_remove(): Np dereference: FP.
Fix warnings: window.c: win_rotate(): Np dereference: FP.
Fix warnings: tag.c: get_tags(): Uninitialized arg: RI.
Fix warnings: tag.c: jumpto_tag(): Np dereference: MI.
Fix warnings: tag.c: test_for_static()/get_tags(): Various (2): FP.
Merge PR #1454 'Refactor plugin system'
docs: Update to the latest changes in the plugin infrastructure
test: Add tests for the python provider
test: Add tests for the rpc#define#* functions
runtime: Remove 'python_setup.vim'
runtime: Reimplement python/clipboard providers in vimscript
runtime: Add vimscript support for external plugins
channel: Improve error reporting for invalid responses
channel: Remove invalid free_channel call
Remove os/provider.{c,h} and all of its references
eval/ex_cmds2/ops: Implement providers with eval_call_provider
eval: Add eval_call_provider/eval_has_provider functions
Merge pull request #1487 from jszakmeister/search-gettext-subdir
Fix #1484: search gettext subdir for header
doc: Remove MS-DOS specific options bioskey and conskey #1353
doc: update msgpack_rpc documentation to use nvim as variable name #1470
Merge pull request #1485 from equalsraf/tb-no-make-prg
Merge pull request #1157 from fwalch/remove-coverity
Merge pull request #1483 from oni-link/fix.mch_print_begin.memory.leak.stackversion
Merge pull request #1479 from Pyrohh/fix_comments_and_use_stdbool
Travis: Remove Coverity build.
coverity/13765,13766,13767,13768: Fix memory leaks in hardcopy.c
arabic.c: Comment fixes
farsi.c: Misc. fixes
Merge pull request #1471 from splinterofchaos/fix-jobstart
Merge pull request #1460 from elmart/clang-analysis-fixes-3
Fix warnings: charset.c: win_lbr_chartabsize(): Dead assignment: HI.
Fix warnings: undo.c: u_blockfree(): Use after free: FP.
Fix warnings: syntax.c: get_id_list(): Double free: FP.
Fix warnings: syntax.c: syn_regexec(): Uninitialized arg: MI.
Fix warnings: spell.c: spell_edit_score(): Garbage value: MI.
Fix warnings: spell.c: getroom(): Np dereference: FP/RI.
Fix warnings: spell.c: store_aff_word(): Garbage value: RI.
Fix warnings: spell.c: spell_read_aff(): Uninitialized arg: RI.
Fix warnings: spell.c: spell_move_to(): Garbage value: RI.
Fix warnings: spell.c: spell_move_to(): Null arg: FP.
Fix warnings: spell.c: find_word(): Dead assignment: HI.
Fix warnings: search.c: find_pattern_in_path(): Np dereference: MI.
Fix warnings: regexp_nfa.c: nfa_regatom(): Dead assignment: HI.
Fix warnings: quickfix.c: qf_add_entry(): Np dereference: FP.
Fix warnings: option.c: do_set(): Dead assignment: HI.
Update README.md
Update README.md
vim-patch:7.4.378 #1217
Merge pull request #1473 from alexgenco/patch-1
Use cmake --build instead of Make
Fix api metadata function name in docs
jobstart: Check prg arguments for NULL.
Merge #1322 'vim-patch:7.4.421 + vim-patch:7.4.437'
vim-patch:7.4.437
vim-patch:7.4.421
Merge pull request #1283 from splinterofchaos/breakindent-tab
vim-patch:7.4.417
Merge pull request #1345 from war1025/dev/wininfo_bools
Convert some values from buffer_defs.h to bools
Merge pull request #1320 from splinterofchaos/ll-lock
vim-patch:7.4.416
Merge pull request #1282 from splinterofchaos/cmd-undef
Merge pull request #923 from splinterofchaos/normal-bool
vim-patch:7.4.419
vim-patch:7.4.415
vim-patch:7.4.414
Fix fileio.c's diagram.
normal.c: Replace last TRUE/FALSE/OK/FAIL's w/bool.
Use bool in signatures of functions in normal.h.
Use bool or int for local flag variables.
Use bool in do_mouse().
Use bool in normal_cmd().
Use bool for flags in oparg_T.
Merge pull request #1439 from jszakmeister/shuffle-some-includes
Merge pull request #1449 from jszakmeister/fix-cmake-module-path-usage
Merge pull request #1431 from elmart/clang-analysis-fixes-2
Fix warnings: message.c: vim_vsnprintf(): Dead assignment (2): HI.
Fix warnings: message.c: delete_first_msg(): Np dereference: FP.
Fix warnings: memory.c: xcalloc(): 0 size calloc: CW.
Fix warnings: hardcopy.c: mch_print_text_out(): Bad free: FP + RI.
Fix warnings: fileio.c: aucmd_prepbuf(): Np dereference: FP.
Fix warnings: fileio.c: readfile(): Dead assignment: HI.
Fix warnings: fold.c: get_foldtext(): Np dereference: FP.
Fix warnings: ex_getln.c: init_history(): Double free: FP.
Fix warnings: ex_eval.c: report_pending(): Np dereference: FP.
Fix warnings: ex_docmd.c: eval_vars(): Unitialized arg: FP.
Fix warnings: ex_cmds2.c: do_source(): Unitialized arg (2): MI.
Fix warnings: ex_cmds2.c: do_source(): Np dereference: FP.
Fix warnings: ex_cmds.c: do_ecmd(): Np dereference: FP.
Fix warnings: ex_cmds.c: do_ascii(): Garbage value (2): MI.
build: fix CMAKE_MODULE_PATH usage
Merge pull request #1448 from tarruda/shell-systemlist-test-fixes
shell: Use job_write_cb for closing stdin
eval: Return an empty list from systemlist() when there's no output
test: Fix nondeterminism in tests with notifications
Merge pull request #1416 from jondkinney/master
Merge pull request #1442 from fwalch/improve-legacy2luatest
Merge pull request #1443 from jszakmeister/allow-root-dir-installs
Merge pull request #1429 from oni-link/fix.job_start.leak
build: allow installing into the root directory (/)
Merge pull request #1441 from jszakmeister/remove-redundant-define
Merge pull request #1403 from fwalch/version-flags
Merge pull request #1389 from elmart/clang-analysis-fixes
version: Add compilation info.
Improve legacy2luatest script.
Remove redundant USE_ICONV define from config.h.in.
Merge pull request #1437 from jszakmeister/build-search-fixes
Merge pull request #1440 from jszakmeister/fix-og-flag-usage
Merge pull request #1428 from xu-cheng/relocate-formula
Homebrew: move formula to neovim/homebrew-neovim
build: only attempt to use -Og if it's supported
Move many includes down to the EXITFREE block.
Merge pull request #1400 from jszakmeister/install-helpers-destdir
Try to fix problem found in the Travis Ci build.
Mark some function arguments as [consumed] in the docs.
job: Fix memory leak in job_start().
Merge pull request #1383 from fwalch/nvim-buildtype
build: fix the usage of DESTDIR in InstallHelpers.cmake
build: pull iconv detection into its own FindIconv.cmake file
build: give priority to /sw and /opt/local on Mac OS X
build: use the proper libintl include variable
CMake: Set custom RelWithDebInfo compile flags.
Merge pull request #1426 from jszakmeister/change-release-opt-default
Merge pull request #1434 from xu-cheng/fix-1433
build: don't download and extract tarball if source is already present
Revert "build: don't download and extract tarball if source is already present"
Merge PR #1399 'Better handling for invalid msgpack-rpc'
msgpack-rpc: Close channel on invalid msgpack RPC
msgpack-rpc: Don't try to write into a closed channel
msgpack-rpc: Fix typo in validation message
msgpack-rpc: Return from msgpack_rpc_validate on error
Merge PR #1255 '[RDY] Set `v:job_data[2]` line-wise and `jobsend(,[list]). (#1243)'
job_spec: Fix bad test.
job: Let vimL jobsend() accept a list.
job: Make v:job_data[2] a list.
job: Read job data line-wise.
rstream: Expose rstream_read_ptr and _available.
memory: implement xmemrchr()
Merge pull request #1411 from xu-cheng/homebrew-formula
Merge PR #1424 'Only force-close stdout/stderr when the job exits'
build: don't download and extract tarball if source is already present
Homebrew: let Homebrew handle external resources download
job: Only force-close stdout/stderr when the job exits
build: default to using -O2 for release builds
Merge pull request #1414 from xu-cheng/sha1_md5
Prefer to SHA1 other than MD5 in third-party downloads
Merge PR #1422 'Pass --show-possibly-lost=no to valgrind'
test: Pass --show-possibly-lost=no to valgrind in helpers.lua
Merge PR #1421 'Improve test error handling and reporting'
test: Improve test environment setup and error handling/reporting
deps: Upgrade to latest version of lua-client
Merge pull request #1340 from elmart/remove-long_u
Review: Remove long_u: memfile: Add to clint.
Review: Remove long_u: memfile: Refactor: blocknr_T: long -> int64_t.
Review: Remove long_u: memfile: Refactor: int -> bool.
Review: Remove long_u: memfile: Refactor: bhdr_T.bh_data: char_u* -> void*.
Review: Remove long_u: memfile: Refactor: mf_hashtab_T.mht_fixed: Remove.
Review: Remove long_u: memfile: Refactor: long_u -> size_t.
Review: Remove long_u: memfile: Enable -Wconversion.
Review: Remove long_u: memfile: Cleanup: Fix naming inconsistencies.
Review: Remove long_u: memfile: Cleanup: Others.
Review: Remove long_u: memfile: Cleanup: Comments.
Remove long_u: eval: Replace with size_t.
Fix the nvim-clipboard help instructions
Merge pull request #1412 from fwalch/startup-help
version: Refer to nvim help on startup screen.
Merge pull request #1370 from aktau/enable-iconv
Fix warnings: edit.c: ins_bs(): Garbage result: MI.
Fix warnings: edit.c: replace_do_bs(): Garbage value: MI.
Fix warnings: edit.c: mb_replace_pop_ins(): Unitilialized arg: FP.
Fix warnings: edit.c: ins_compl_get_exp(): Np dereference (2): FP.
Fix warnings: edit.c: ins_compl_next_buf(): Np dereference: FP.
Fix warnings: regexp.c: match_with_backref(): Nonnull violation: FP.
Fix warnings: regexp.c: br_regcomp(): Np dereference: MI.
Fix warnings: regexp.c: skip_regexp: Np dereference: FP.
Fix warnings: ops.c: cursor_pos_info(): Various (2): MI.
Fix warnings: ops.c: do_join(): Nonnull violation: FP.
Fix warnings: screen.c: draw_tabline(): Dead assignment: HI.
Fix warnings: screen.c: showmode(): Dead assignment: HI.
Fix warnings: screen.c: win_line(): Dead assigment: HI.
Fix warnings: screen.c: win_line(): Dead initialization: HI.
Fix warnings: screen.c: redraw_asap(): Various (6): MI.
Fix warnings: cursor_shape.c: parse_shape_opt(): Garbage value: FP.
Merge PR #1398 'Tests and msgpack rpc improvements'
channel: Delay notifications to avoid client race conditions
test: Add more valgrind "possibly lost" suppressions
test: Simplify/fix options_spec.lua
iconv: re-enable
test: Set VIMRUNTIME before running tests
Merge pull request #1397 from fwalch/fix-test_file
CMake: Fix running individual (functional/unit) test.
Merge pull request #1395 from jszakmeister/fix-run-functional-tests
build: fix running of functional tests directly with CMake
Merge pull request #1392 from fwalch/fix-build-warnings
CMake: Rename target "test" to "functionaltest".
CMake: Modify _FORTIFY_SOURCE only for release builds.
CMake: Pass build type CFLAGS to header generator.
Merge pull request #1390 from jszakmeister/turn-down-fortify-source
build: turn down the _FORTIFY_SOURCE level on gcc >= 4.0
Merge PR #1328 'Migrate legacy tests'
legacy tests: migrate test21
legacy tests: migrate test7
legacy tests: migrate test6
legacy tests: migrate test28
legacy tests: migrate test20
legacy tests: migrate test97
legacy tests: migrate test46
legacy tests: migrate test27
legacy tests: migrate test54
legacy tests: migrate test41
legacy tests: migrate test23
legacy tests: migrate test56
legacy tests: migrate test_autoformat_join
legacy tests: migrate test_changelist
legacy tests: migrate test81
legacy tests: migrate test_utf8
legacy tests: migrate test_insertcount
legacy tests: migrate test_options
legacy tests: migrate test18
legacy tests: migrate test106
legacy tests: migrate test22
legacy tests: migrate test9
legacy tests: migrate test102
legacy tests: migrate test4
legacy tests: improvements to functional helpers.lua
Merge pull request #1287 '[RFC] Add legacy test conversion script.'
Add legacy test conversion script.
Merge pull request #1376 '[RDY] Passing current range to provider calls'
Passing current range to provider calls
Merge PR #1384 'Add core dump reporting to travis'
test: Add valgrind suppression for libuv memory leak
event: Assert that all libuv handles are closed on exit.
channel: Move mch_exit(0) call to a non-deferred event handler
event: Do an early return from event_teardown when not initialized
travis: Test `nvim --version` in gcc build
travis: Force travis build to fail when core files are dumped
Merge pull request #1377 from Pyrohh/msgpack_rpc-doc-fixes
runtime/docs/msgpack-rpc: Misc. fixes
Merge pull request #1387 from fwalch/fix-installation
CMake: Fix helptags generation.
Revert "Merge pull request #1381 from xzfc/master"
Merge pull request #1381 from xzfc/master
GenerateHelptags: Use ${PREFIX} variable
CMake: Fix checking of DESTDIR
Merge pull request #1366 from fwalch/homebrew-release
Merge pull request #1379 from xu-cheng/GenerateHelptags_fix
GenerateHelptags: check whether DESTDIR exists
Merge PR #1369 'Assert libuv event loop is properly cleaned up'
event: Ensure the event loop has been cleaned up in event_teardown
event: Reintroduce the immediate event queue
event: Rename pending_events to deferred_events
server: Refactor to ensure server handles are always properly closed
wstream: Memory allocation improvements
job: Simplify job_teardown function
Homebrew: Compile as release build.
Merge pull request #951 from bfredl/curfix
Merge pull request #1371 from GokuITA/coverity74362
coverity/74362: Initialized Array using ARRAY_DICT_INIT
test/api: add test for set_cursor always updating the screen
api/window_set_cursor: make sure cursor line is visible.
Merge PR #1365 'Refactor os_call_shell to use os_system'
job: Fix job_wait to properly cleanup the job when it exits.
job: Refactor how job kill timeouts are handled
job/shell: Refactor os_call_shell/os_system to share code
rstream: Add rstream_buffer method to get a reference to RBuffer
shell: Rename dyn_buffer_t to DynamicBuffer
job: Let job_start callers to selectively ignore stdio
job: Close libuv handles when uv_spawn fails
Merge pull request #1367 from elmart/python-setup-fix
Fix python setup: Fix issue for users not using python.
Merge pull request #1364 from fwalch/cla
Merge PR #1358 'Fix python setup'
Fix python setup: Make sure python version on user's path is picked.
Fix python setup: Report errors.
CONTRIBUTING.md: Add link to CLA.
Merge pull request #1349 from stefan991/fix-cimport-pragma-pack
unittest: increase number of retries in cimport
unittest: fix handling of pragma pack in `cimport`
Merge pull request #1361 from splinterofchaos/silent-system
Mark patch 427 as included. (#1357)
Merge pull request #1312 from GokuITA/coverity1289
CONTRIBUTING.md: more guidance on cosmetic changes #1346
fs.c: add FUNC_ATTR_NONNULL_ALL to all functions
Merge PR #1357 'Fixes to input/job modules'
travis: Make sure valgrind report is shown on test failures
api: Add vim_input function and mark vim_feedkeys as deferred
input: Fix sizes of input/read buffers
input/job: process ctrl+c and do conversion in the read callback
fix #1027: :wundo segfault in new, non-empty buffer
Merge pull request #1347 from splinterofchaos/433
Merge #1342 "signs bugfix"
fix 'sign unplace id'
api: Implement vim_command_output function
Merge PR #1350 'valgrind/jobs: Fix invalid reads.'
test/job: Implement some basic jobs tests.
test/shell: Add failure tests for `system()`.
job_start: Do not close in/out/err on error.
job/valgrind: Fix invalid reads/missing free.
Merge PR #1354 'Fixes to channel.c, input.c and helpers.lua'
input: Fix conversion error in `convert_input()`
test: Small fixes and improvements to functional helpers.lua
msgpack-rpc: Terminate server->client calls when the channel closes
channel: fix `REQ` definition for msgpack-rpc logging
version: Mark patch 430 NA.
vim-patch:7.4.433
Merge PR #1331 'Fixes to job and channel modules'
test: verify that msgpacks-rpc exceptions are working
msgpack-rpc: Improve logging of msgpack-rpc messages
job: Only decrease refcount after `settmode` in `job_wait`
travis: Setup xvfb for running xclip tests
job: Refactor to ensure that all callbacks will be invoked
msgpack-rpc: Fix error handling and leak in call_request_handler
msgpack-rpc: Ensure stdio channels are properly closed
runtime: Fix rpcstop call in python_setup.vim
Merge pull request #1332 from splinterofchaos/listbr
vim-patch:7.4.422
Merge pull request #1330 from splinterofchaos/na-patches
version: update patches to 488
version: More NA patches.
vim-patch:7.4.406
legacy tests: migrate test35. #1318
Merge PR #1326 'Add verification of log macros'
debug: Improve debugging of msgpack-rpc requests
debug: Fix broken DLOG macro calls
travis: Force verification of DLOG macros
input: Fix ctrl+c handling in convert_input
Merge PR #1316 'Refactor event deferral'
test: verify that v:shell_error is set by `system()`/`systemlist()`
input: Don't remove Ctrl+C from the input_buffer
event: Remove direct calls to `uv_run` from job.c/shell.c
travis: Remove `install_functional_test_deps` function
compilation: Add -Wconversion to more files and validate CONV_SOURCES
api: Add FUNC_ATTR_DEFERRED attribute to a number of functions
msgpack-rpc: Allow selective deferral API calls
eval: Defer execution of JobActivity autocommands
event: Extract event_poll loops to `event_poll_until` macro
event: Remove automatic event deferall
event: Remove EventType enum and pass a callback to `event_push`
channel: Simplify resource management
msgpack-rpc: Create subdirectory for msgpack-rpc modules
Merge pull request #1319 '[RFC] A few fixes for YCM contrib docs and code'
A few fixes for YCM contrib docs and code
Merge pull request #1313 from fwalch/runtime-programs
Merge pull request #1311 from GokuITA/issue1295
Fix sign column redraw
version: remove "Running in Vi compatible mode" message #1309
CMake: Set execute permissions during installation.
coverity/71507: Unchecked return value (CHECKED_RETURN)
Merge PR #1310 'Improve YCM contrib.'
Improve YCM contrib: Improve documentation.
Improve YCM contrib: Fix 'no newline at end of file' issue.
Merge PR #1306 'RBuffer fixes'
rstream: Add rbuffer_read_ptr/rbuffer_write_ptr functions
rstream: Initialize 'rstream' field in RBuffer class
Merge PR #1300 'Refactor input buffer'
ui: Refactor input buffer handling
rstream: Extract some RStream functionality to RBuffer
Merge pull request #1297 from splinterofchaos/server-errors
server: Improve error reporting.
Merge pull request #1299 from jszakmeister/add-missing-luajit-flags
Add missing linker flags required for LuaJIT on 64-bit Mac OS X.
Merge pull request #1298 from splinterofchaos/418
vim-patch:7.4.418
Merge PR #1296 'Use the lua client to run functional tests'
test: Use lua to perform sanity API checks
test: Remove run-functional-tests.py
deps: Add lua nvim-client as a dependency
vim-patch:7.4.440 #1244
vim-patch:7.4.439 #1245
vim-patch:7.4.436 #1246
Merge pull request #1293 from justinmk/homebrew
cmake: handle missing git or .git/
homebrew: look for .git/ outside of build workspace #1274
Merge pull request #1265 from dkns/vp-7.4.444
Merge pull request #1280 from splinterofchaos/visual-mb
vim-patch:7.4.408
Merge pull request #1279 from splinterofchaos/matchparen
vim-patch:7.4.397
Merge pull request #1273 from fwalch/fix-homebrew
homebrew: fix install prefix
Merge pull request #1267 from justinmk/version
version: remove "Compilation" and "Linking" messages.
version: generate "build number" from commit timestamp
version: report commit hash as "build number" in long version string
version: remove non-functional Vim version identifiers
version: remove "Included patches" message
version: update user-facing version indicators
homebrew: use Makefile-defined defaults. #1259
Merge pull request #1254 from splinterofchaos/na-patches
vim-patch:7.4.375
Mark patches 363 and 366 NA.
Merge pull request #1268 from stefan991/cleanup-docs-2
doc: remove links to non existent files
doc: cleanup
doc: remove documentation for `:shell`
doc: remove netbeans.txt
doc: remove workshop.txt
doc: remove if_ole.txt
doc: remove if_sniff.txt
doc: remove gui_w16.txt
doc: remove legacy os_*.txt
Removes shelltype option and all revelant doc. #1249
vim-patch:7.4.444
Merge pull request #1208 from war1025/dev/remove_for_all_windows
Merge pull request #1260 from tarruda/system-specs
wstream/shell: Fix memory errors caused by os_system
eval: Fix `save_tv_as_string` to handle non-string types
travis: Fix clang-asan to always display memory errors
test: Add some specs for the viml function `system()`
test: Add 'eval' functional helper
test: Move 'test/legacy' to 'test/functional'
Merge PR #1257 'Use line-specific method names where possible'
Use line-specific method names where possible to remove ambiguity and possibility of future clashes
Merge pull request #1141 from splinterofchaos/system-nl
Implement save_tv_as_string to assist in #1176.
Fix system() output truncation bug.
Old-style test for system(list).
vim-patch:7.4.256
Return list from rettv_list_alloc.
vim-patch:7.4.248
vim-patch:7.4.247
memory: memchrsub and strchrsub
memory: xstrchrnul and xmemscan.
Merge PR #1258 'Replace vroom by lua/busted for functional tests'
travis: Refactor {valgrind,asan}_check functions
test: Replace vroom by lua/busted for functional tests
Merge pull request #1225 from mhinz/p7.4.454
Merge pull request #1209 from atwupack/vp-7.4.320
Merge pull request #1220 from atwupack/vp-7.4.411
Merge pull request #1219 from atwupack/vp-7.4.386
Merge pull request #1236 from atwupack/vp-7.4.391
Merge pull request #1238 from joshhartigan/zero-division-patch
clang: Division by zero
Remove W_NEXT use `->w_next`
Replace FOR_ALL_WINDOWS with FOR_ALL_WINDOWS_IN_TAB(curtab)
vim-patch:7.4.391
Merge #1229 'Only use CMAKE_C_COMPILER_ARG1 if it is set'
Only use CMAKE_C_COMPILER_ARG1 if it is set
Update version.c to 7.4.454
vim-patch:7.4.454
Merge pull request #1224 from mhinz/p7.4.405
vim-patch:7.4.405
Merge pull request #1207 from atwupack/vp-7.4.407
Merge pull request #1210 from atwupack/vp-7.4.360
vim-patch:7.4.411
vim-patch:7.4.386
Merge pull request #1108 from war1025/dev/for_all_tabs
Expand FOR_ALL_WINDOWS to FOR_ALL_WINDOWS_IN_TAB(curtab)
FOR_ALL_WINDOWS_IN_TAB and local variables in FOR_ALL_TAB_WINDOWS
FOR_ALL_TABS helper
Merge #1213 'Fix install permissions'
build: install with the correct permissions
runtime: fix executable bit on some files
Merge pull request #1011 from stefan991/cleanup-docs
doc: fix links to index.html and vimindex.html
vim-patch:7.4.320
vim-patch:7.4.360
Merge pull request #1197 from Shougo/vim-patch-7.4.392
Merge pull request #1204 from Shougo/version-7.4.444
Update version.c to Vim 7.4.444
doc: add new doc files to Makefile
doc: use `cat` instead of `more` to display errors
doc: update gitignore
doc: remove links that point nowhere
doc: move manpages into their own folder
doc: remove uganda.nsis.txt target
doc: rename `*.UTF-8.1` files
doc: remove encoding conversion targets
doc: remove some unnecessary targets
doc: remove generated manpages
doc: remove reference to config.mk, hangulin.txt
Merge pull request #1150 from splinterofchaos/vim-patch-7.4.305
vim-patch:7.4.359
vim-patch:7.4.305
Merge pull request #1194 from Shougo/vim-patch-7.4.410
Merge pull request #1189 from Shougo/vim-patch-7.4.374
Merge pull request #1188 from Shougo/vim-patch-7.4.364
Merge pull request #1187 from Shougo/vim-patch-7.4.361
vim-patch:7.4.407
Merge pull request #1192 from Shougo/vim-patch-7.4.382
vim-patch:7.4.382
vim-patch:7.4.410
vim-patch:7.4.374
vim-patch:7.4.364
vim-patch:7.4.361
Merge PR #1199 'Improvements to API error handling'
api/msgpack-rpc: Improve error infrastructure
Merge pull request #1193 from Shougo/vim-patch-7.4.383
Merge pull request #1196 from Shougo/vim-patch-7.4.381
Merge pull request #1195 from Shougo/vim-patch-7.4.379
Merge pull request #1168 from atwupack/vp-7.4.365
vim-patch:7.4.377
vim-patch:7.4.373
vim-patch:7.4.372
vim-patch:7.4.365
vim-patch:7.4.392
vim-patch:7.4.383
vim-patch: 7.4.381
vim-patch:7.4.379
Merge pull request #953 from splinterofchaos/patch235-exepath
update os_can_exe unit test
vim-patch:7.4.235
path: learn save_absolute_path().
Merge pull request #919 from munshkr/p7.4.310
vim-patch:7.4.313
vim-patch:7.4.310
Merge pull request #1129 from justinmk/clang
Merge pull request #1184 from Shougo/vim-patch-7.4.369
vim-patch:7.4.369
Merge pull request #1183 from Shougo/vim-patch-7.4.368
Merge PR #1185 'Some fixes and missing changes'
channel: Fix unpacker loop condition
deps: Switch lua msgpack library to one that supports 2.0
msgpack-gen: Fix msgpack_rpc_init_function_metadata
runtime: Fix one of python sanity checks
deps: Update msgpack
vim-patch:7.4.368
Merge pull request #1140 from atwupack/vp-7.4.341
Merge pull request #1177 from NOLFXceptMe/vp-7.4.387
Merge PR #1175 'Some fixes to nvim initial documentation'
runtime: Make python_setup.vim compatible with python 2.6
runtime: Some nvim documentation fixes pointed by @oni-link
eval.c: Rename has('neovim') feature to has('nvim')
vim-patch:7.4.387
Merge pull request #1169 from splinterofchaos/arglistid
Merge pull request #1173 from jszakmeister/build-portability-fix
third-party: avoid using `rm` in the install command
Merge pull request #1165 from splinterofchaos/fix-patch-371
7.4.371
Merge PR #1163 'Initial documentation of nvim features'
runtime: Document python interface, clipboard and add intro doc
runtime: Document 'unnamedclip'
runtime: Update python_setup.vim to the new rpc function names
runtime: Add highlighting for new functions/events
runtime: Initial job control documentation
runtime: Initial msgpack-rpc documentation
runtime: Enhance help.vim to highlight Nvim/NVIM
eval.c: Rename msgpack-rpc functions for consistency
eval.c: Rename jobwrite to jobsend
server: Rename address environment variable
vim-patch:7.4.312
Merge pull request #1167 from atwupack/fix-issue-1164
vim-patch:7.4.358
vim-patch:7.4.351
vim-patch:7.4.347
vim-patch:7.4.341
ex_cmds2.c:fix for issue #1164
Merge pull request #1162 from atwupack/vp-7.4.357
vim-patch:7.4.376
Merge PR #1130 'Update to the experimental msgpack v5 branch'
build/test: install vroom/python-client from the master branch
api metadata: Allow typed container information in api functions
api/msgpack-rpc: Refactor metadata object construction
api: Implement `vim_report_error` function
api: initialize capacity in the array_dict_macro
runtime: Add script for bootstrapping the python host
provider: Major refactor
api/msgpack-rpc: Implement `channel_close` and expose to vimscript
wstream: Fix close/free
job: Fix crash when passing a non-executable path to job_start
api/msgpack-rpc: Expose channel_from_job to vimscript as api_spawn
main: Rename --embedded-mode and --api-msgpack-metadata options
api/msgpack-rpc: Refactor msgpack_rpc_helpers.{c,h}
api/msgpack-rpc: Remove Position type, using arrays instead.
api/msgpack-rpc: Use EXT type to serialize Buffer/Window/Tabpage
api/msgpack-rpc: Parse type information from api/private/defs.h
api/msgpack-rpc: Remove specialized array types
msgpack-rpc: Remove the `msgpack_rpc_unpack` function
memory: Use i18n messages for memory-related errors
msgpack-rpc: Remove support for integer ids in methods
msgpack-rpc: Refactor API metadata discovery method
msgpack-rpc: Move handle_missing_method to msgpack_rpc.c
msgpack-rpc: Refactor initializer and dispatcher
map/msgpack-rpc: Declare/define maps rpc method handlers
deps: Update to the experimental msgpack v5 branch
Merge pull request #1098 from fwalch/update-busted
Merge pull request #1037 from fwalch/automatic-deps-paths
Merge pull request #1161 from atwupack/vp-7.4.349
vim-patch:7.4.349
Merge pull request #1160 from atwupack/vp-7.4.348
vim-patch:7.4.348
Update busted to 2.0.rc3.
Travis: Add subdirectories to dependency paths.
Merge #1033 'Automatic dependency rebuilding: Pass CMAKE_C_COMPILER_ARG1 to deps building.'
CMake: Use CMAKE_C_COMPILER_ARG1 when building dependencies.
Merge pull request #1144 from justinmk/fixtests
unit tests: initialize everything
unit tests: avoid global scope; add missing cimports
unit tests: helpers.lua: hack to avoid empty popen() result
Merge pull request #1143 from mkwork/readme
Merge pull request #1159 from atwupack/vp-7.4.345
Merge pull request #1158 from atwupack/vp-7.4.337
vim-patch:7.4.345
vim-patch:7.4.337
Merge pull request #1154 from Shougo/fix-NAs
Fix version numbers
Merge pull request #1149 from splinterofchaos/vim-patch-7.4.278
vim-patch:7.4.278
Merge pull request #1096 from war1025/dev/local_for_all_windows
Additional FOR_ALL_WINDOWS usage
Convert FOR_ALL_WINDOWS to use a locally declared pointer
README.md: link to libuv Reference to libuv was made a link
Merge pull request #1107 from fmoralesc/matchaddpos
Merge pull request #1054 from stefan991/fileinfo-getter
vim-patch: 7.4.344
vim-patch: 7.4.343
vim-patch: 7.4.362
vim-patch: 7.4.334
vim-patch: 7.4.330
fileinfo: change returntype of os_fileinfo_size
fileid: rename os_file_id_equal_file_info
fileid: rename os_file_id_equal
fileid: rename os_get_file_id
fileinfo: rename os_file_info_get_inode
fileinfo: rename os_file_info_get_id
fileinfo: rename os_file_info_id_equal
fileinfo: rename os_get_file_info{,_link,_fd}
fileinfo: implement os_fileinfo_blocksize
fileinfo: implement os_fileinfo_hardlinks
fileinfo: implement os_fileinfo_size
Merge #1128 'Drop moonscript'
unittest: Move FileInfo tests one level up
build: Remove moonscript as a third-party build dependency
unittest: Remove remaining moonscript references
unittest: convert set.moon to lua
unittest: convert preprocess.moon to lua
unittest: convert users_spec.moon to lua
unittest: convert path_spec.moon to lua
unittest: convert fs_spec.moon to lua
unittest: convert env_spec.moon to lua
unittest: convert helpers.moon to lua
unittest: convert garray_spec.moon to lua
Merge PR #1127 'Fix segfault when calling methods in a client that already exited'
channel: Remove code for automatically closing in channel_send_call
clang: Null pointer passed as an argument to a 'nonnull' parameter
Merge PR #1121 'Full compliance with msgpack-RPC'
Fix environment variable for triggering embedded tests
msgpack-rpc: Always use arrays when sending events or calls
msgpack-rpc: Accept method names in requests
Merge pull request #1124 from fwalch/luarocks-version-number
Update luarocks: Use commit with correct version number.
Merge #1123 "Add 'bit' to the list of lua dependencies"
Add 'bit' to the list of lua dependencies
clang: Null pointer passed as an argument to a 'nonnull' parameter #1090
Merge PR #1060 'Implement --embedded-mode command-line option'
test: Run tests in embedded mode on travis
api: Implement '--embedded-mode' command-line option
channel: Implement channel_from_stdio function
channel: fix channel buffer size
channel: Fix channel not being closed when the RStream reaches EOF
wstream: Implement wstream_set_file
test: Remove cleanup function definition from run-api-tests.exp
Merge pull request #1088 from justinmk/upgradeluarocks
Merge pull request #1116 from fornwall/remove-versions-txt
Update CONTRIBUTING.md and README.md #740
Remove version{4,5,6,7}.txt
Merge pull request #1087 from fwalch/archlinux-filetypes
Merge pull request #1082 from fornwall/remove-os-msdos-txt
Merge pull request #1104 from Hinidu/vim-patch-7.4.220
Merge pull request #1111 from epmatsw/spellcheck2
Merge pull request #1093 from paulburlumi/coverity-62620
Spelling fixes
coverity/62620: fix uninitialized scalar variable
Merge #1110 'CMake: Use DESTDIR for helptags generation.'
CMake: Use DESTDIR for helptags generation.
Merge #1106 'CMake: Generate helptags during install step.'
CMake: Generate helptags during install step.
Merge #954 'Fix the policy warning CMP0026 in CMake 3.0.'
Set the policy to 'OLD' to avoid warning CMP0026 in CMake 3.0.
Merge pull request #1103 from Hinidu/na-patches
vim-patch:7.4.220
Mark patches 176, 185 and 189 as NA
Merge pull request #1101 from atwupack/vp-7.4.339
Merge pull request #1100 from atwupack/vp-7.4.296
upgrade luarocks
Runtime: Support Arch Linux/Pacman file types.
vim-patch:7.4.339
vim-patch:7.4.296
Merge pull request #840 from ZyX-I/generate-ex_cmds
Merge pull request #1095 from fwalch/fix-clang-badge-url
Readme: Fix clang badge URL.
Merge pull request #691 from fmoralesc/master
Extend documentation
Fix problem with test47: addition is not bitwise OR
Add const qualifier and explicit length
Use lua generator in place of ex_cmds_defs header trick
update src/nvim/testdir/Makefile
vim-patch: 7.4.352
vim-patch:7.4.388
vim-patch:7.4.370
vim-patch:7.4.371
vim-patch: 7.4.353
vim-patch: 7.4.346
Port vim's patch 7.4.338 ('breakindent')
Merge pull request #1062 from atwupack/vp-7.4.230+231
vim-patch:7.4.317 #1076
Merge pull request #1024 from war1025/dev/for_all_buffers
Merge pull request #1085 from paulburlumi/master
coverity/13749: fix negative array index read in unset_global_local_option
vim-patch:7.4.231
vim-patch:7.4.329 #1079
vim-patch:7.4.325 #1078
Remove os_msdos.txt due to dropped MS-DOS support
Merge pull request #1019 from splinterofchaos/globpath
Make ttyfast default to true on all terminals #1051
Merge pull request #977 from splinterofchaos/fish
vim-patch:7.4.276
Doxygen/comment style for make_filter_cmd().
path.c: Learn invocation_path_tail().
Use sizeof over magic numbers.
vim-patch:7.4.318 #968
version.c: mark irrelevant patches with "NA" #1074
FOR_ALL_BUFFERS use locally declared buffer pointer
Merge pull request #950 from Hinidu/os_fchown
os_fchown: remove cast of parameter -1 to uid_t
Merge pull request #1068 from atwupack/vp-7.4.201
vim-patch:7.4.201
Merge pull request #971 from munshkr/p7.4.314
Merge pull request #972 from munshkr/p7.4.293
vim-patch:7.4.314
vim-patch:7.4.294
vim-patch:7.4.293
Merge pull request #970 from atwupack/vp-7.4.328
vim-patch:7.4.328
Merge pull request #1064 from mraghavan/coverity-22-07
vim-patch:7.4.335 #1061
coverity/71508: Fix potential null dereference.
vim-patch:7.4.327 #1010
vim-patch:7.4.331 #1017
Travis-CI: fix "Could not find compiler" in clang-asan
os_fchown: enable 'change group' unittest on Travis-CI
os_fchown: add unit tests
os_fchown: impl and remove HAVE_FCHOWN
Merge pull request #1050 'Setup testing infrastructure with vroom'
build/test: setup vroom installation on travis
build/test: setup functional tests using vroom
Merge pull request #1034 'Implement `os_mkdtemp` on top of `uv_fs_mkdtemp`'
documentation: Update tempfile and tempname()
Implement `os_mkdtemp` on top of `uv_fs_mkdtemp`
Merge pull request #985 from fwalch/clang-analyzer-dead-assignments
Merge #1046 'Refactor travis script'
Travis CI: Refactor travis script
vim-patch:7.4.323 #967
Merge pull request #920 'Add `feedkeys` API function part 2'
Add API vim_replace_termcodes
Refactor vim_feedkeys and f_feedkeys
Add helper cstr_as_string()
Merge PR #1047 'Update libuv to 0.11.28'
dependencies: Update to libuv 0.11.28
clang-analyzer: Fix dead stores in garray.c.
clang-analyzer: Reduce scope in syntax.c.
clang-analyzer: Reduce scope in arabic.c.
clang-analyzer: Reduce scope in search.c.
clang-analyzer: Reduce scope in screen.c.
clang-analyzer: Reduce scope in spell.c.
clang-analyzer: Fix dead stores in window.c.
Merge #814 'Remove dead #ifdefed code'
Use color_terminal output in place of TAP #995
Remove unused USE_TERM_CONSOLE ifdefs #1015
documentation: update documentation for :mode  #1009
Drop SGI IRIS support. #1006
Return bool from find_win_for_buf #1023
Merge PR #1040 'Fix segfault caused by default value of ipy/icpb options'
bugfix: set empty string as default for ipy/icpb to avoid segfault
Merge pull request #1038 '[RDY] Update APT package sources in travis.sh.'
travis.sh: Update sources before installing packages.
Update README.md
vim-patch:7.4.279
vim-patch:7.4.315 #1021
Add FOR_ALL_BUFFERS helper
Remove fix for select(). select() is not used anymore.
Remove SMALL_MALLOC. Used on MSDOS and WIN16.
Remove __MVS__ and MOTIF390_MNEMONIC_FIXED
Remove HAVE_LIBC_H
Remove HAVE_TOTAL_MEM
Remove FEAT_TAG_ANYWHITE
Remove FEAT_OSFILETYPE
Remove EBCDIC: Remove IF_EB macros
Remove EBCDIC: remove last #ifdef EBCDIC
Remove EBCDIC: Clean up comments
Remove DONT_ADD_PATHSEP_TO_DIR used only in legacy Mac
Show +cursorshape in :version
Remove BEOS_PR_OR_BETTER
Remove BeOS DR8 specific hack
Partial C99 cleanup of term.c #1020
Update luarocks. #1018
vim-patch:7.4.309 #843
Merge pull request #1005 '[RFC] Change vimdir path from vim to nvim'
Add install target for runtime dir
Change vimdir path from vim to neovim
doc: Remove "h" flag of 'highlight' option
runtime: Remove 'textauto'
doc: Remove 'textmode'
eval: re-add has('mac') and has('macunix') #976
Units: Move NULL, OK, and FAIL to helpers.moon. #982
eval: re-remove USE_CR #1002
Merge pull request #998 from war1025/dev/buffer_cleanup
Merge pull request #934 from fornwall/remove-FEAT_MOUSE_JSB
Remove FEAT_MOUSE_JSB
Remove unused arg 'defer' in 'job_start' #1000
re-integrate runtime/  vim-patch:0  #938
Merge pull request #978 '[RDY] implement system() with pipes'
test/shell: add tests
test/helpers: allow interning Pascal strings
test/formatc: improve standalone usage
test/formatc: improve 'inline' function handling
rstream: remove 'reading' struct member
job: increase JOB_BUFFER_SIZE to 0xFFFF
eval: reimplement f_system() on top of os_system()
os/shell: implement os_system
job: add in-pipe notification and closing support
wstream: allow empty release wbuffer cb
wstream: write completion callback
job: implement job_wait()
os/shell: constify arguments
Minor buffer.c style cleanups
Merge pull request #975 from aktau/remove-gettimeofday
build: Compile static luajit lib with -fPIC #996
message: add missing stdarg.h include #993
Merge pull request #986 from aktau/func-attr-enable-more-clang
Merge pull request #987 from oni-link/fix_some_memory_leaks
Fix memory leaks for jobs.
Fix memory leak in provider_call.
func_attr: clang/icc support NONNULL_* attr
Merge pull request #904 from war1025/dev/buffer_tests
Add tests for buffer.c and fileio.c
Change buffer.h #defines to enums so they can be used in tests
Statically allocate NameBuff
cmake: remove check for gettimeofday
term: replace gettimeofday()
sha256: replace gettimeofday()
viml: re-add sha256() function
Merge #965 'Make os_get_localtime() portable + fix bug on win'
os/time: fix os_localtime_r on win + add func_attr
os/time: make os_get_localtime more portable
os/time: include time.h in os/time.h
Merge #962 'Implement startuptime functions on top of profiling functions'
startuptime: print vim -> nvim
startuptime: always enable startuptime
globals.h: decouple vim.h and globals.h
garray: add necessary includes
startuptime: implement on top of profiling fns
startuptime: move code to profile.{c,h} + doc
coverity/62610: Remove dead code from setfname()
types: typedef long_u as uintptr_t #961
Merge PR #895 'Core service providers...'
api tests: set 'initpython' in BeforeEachTest
events: Refactor how event deferral is handled
api/events/msgpack: Insert log statements to improve debugging
getchar: fix infinite loop due to pending events
api: make buffer_{get,set}_slice automatically assume `include_end`
provider: Add support for clipboard registers.
provider: Add support for python commands/functions
provider: Add support functions for calling external interpreters
provider: New module used to expose extension points for core services
channel: Bugfixes and refactor
job: No longer free the job data. It's now done by the exit callback
channel: Implement channel_exists function
channel: Refactor channel_from_job to return the channel id
api: Refactor write_msg to use separate out/err buffers
wstream: Pass WBuffer refcount as a constructor parameter
wstream: document default value for 'maxmem'
Merge pull request #964 '[RFC] Fix #963'
Fix #963.
Merge #928 'Move po gen to cmake'
Fix some newline issues in the sv translation.
Move po generation from Make to CMake.
Customize the log file for the check targets based on the input file.
Revert "Merge #928 'Move po gen to cmake'"
Merge #928 'Move po gen to cmake'
Customize the log file for the check targets based on the input file.
Move po generation from Make to CMake.
Merge #956 'travis.sh: move symbolizer definition into common area'
travis.sh: move symbolizer definition into common area
Merge pull request #941 from aktau/improve-luajit-ffi-preproc
vim: include used definitions in headers
test/fs: move tests of path_full_dir_name to path
test/helpers: add 'vim_init' helper
memory.h: don't include vim.h in header files
vim: move vim_acl_T to types.h
test/preprocess: always declare EXTERN
vim: move disptick_T from vim.h to syntax_defs.h
vim: move linenr_T and colnr_T to pos.h
vim: move long_u from vim.h to types.h
hashtab.h: don't include vim.h
doc: add clang analysis badge to README.md
Merge pull request #839 from aktau/platform-abstract-time-fn
profiling: add tests
profiling: move static to function scope
profiling: implement on top of os_hrtime()
os: implement os_hrtime
assert: add STATIC_ASSERT macro
Merge #947 'Remove Clang 3.4 installation in travis.sh.'
travis.sh: Simplify clang/asan build.
travis.sh: Use dependencies from neovim/deps.
travis.sh: Fix mixed tabs/whitespace formatting.
Merge #813 'Add platform checks to replace config.h.in hardcoded values'
Clean up DEBUG check in config.h.in
Add cmake platform checks
Add more commented patch numbers to version.c (3) #940
Merge #850 'impl mkdtemp for windows, refactor vim_tempname'
Create os/os_defs.h for os specific definitions
tempfile.c: refactor vim_settempdir
tempfile.c: fix style issues and comments
tempfile.c: enable -Wconversion
tempfile.c: add to clint-files and fix warnings
tempfile.c: add tests
Extract `tempfile` module from fileio
Add vim_gettempdir(), remove global vim_tempdir
Refactor vim_tempname
Remove #ifdefs TEMPDIRNAMES and add TEMPDIRNAMES for Windows
Remove USE_TMPNAM
Remove HAVE_MKDTEMP
Temporary os_mkdtemp implementation. Use it instead of mkdtemp.
Use strict function prototypes #945
Use default busted pattern for unittests #943
Merge #846 'impl mch_open with libuv'
os_open: add unit tests
os_open: impl mch_open with libuv. ref #133
Merge #874 'fix TCP connection (issue #870)'
os/server: Fix possible port overflow
os/server: Fix TCP connection
os/server: Fix indentation
Merge #837 'Move defines from vim.h - phase2'
move defines from vim.h
Merge #932 'Check lua dependencies for all lua interpreters'
Check dependencies for each lua interpreter.
Refactor the lua dependency checking.
Merge #927 'Fix stdbool.h usage'
Include stdbool.h in headers which have functions with bool in signature
Remove stdbool.h from files which don't need it
Include stdbool.h in some files which use it
Merge #913 'Update Swedish (sv) translation'
Update Swedish (sv) translation: improve translations.
Update Swedish (sv) translation: Sync to 11653ce2d7789ad1ccf31b37c12589cf1cb7787f
Enable and fix misc2.c -Wconversion warnings #907
vim-patch:7.4.308 #832
vim-patch:7.4.306 #842
vim-patch:7.4.295 #833
vim-patch:7.4.291 #879
c99: remove vim_round #909
Default 'encoding'-option from latin to utf-8 #935
Merge #933 'Avoid linking with libform(w).so'
Avoid linking with libform(w).so
Fix two android compile errors in fs.c #924
Merge #921 'Remove includes vim.h'
move errno.h include out of vim.h
move stdarg.h include out of vim.h
move assert.h include out of vim.h
move wctype.h include out of vim.h
move <inttypes.h> include out of vim.h
move locale.h include out of vim.h
move ascii.h include out of vim.h
move memory.h include to version.c
remove stdbool.h include from vim.h and globals.h
remove proto.h include from vim.h
Replaced most TRUE/FALSE macros in arabic, mbyte and spell. #645
Replace int with bool in some files. #654
Merge pull request #922 'Improve neovim.rb'
neovim.rb: improve dependency
neovim.rb: modernize the style
Merge #910 'Remove unnecessary PATHS from cmake modules'
Removed unnecessary PATHS from cmake modules
Merge pull request #916 'Add `feedkeys` API function'
dispatch function generator: Fix bug in validation/initialization
Add vim_feedkeys API function
cmake: upgrade libuv 0.11.23 -> 0.11.26 #911
MsgPack-RPC dispatch based on function array lookup #864
Remove include for sys/select.h in vim.h #890
Merge #780 'Update German translation'
Update German translation: Improve translations.
Update German translation: Sync to 9f1b9726fb28f78fba7c50efa5316c4bf2413cf8.
Merge #892 'Update pt_BR translation'
Update pt_BR translation: Improve translations.
Update pt_BR translation: Sync to a3214803429e05635cbfbe8b3050a73406da6bc6
LICENSE: add LuaJIT notice. #899
README: Add Bountysource badge. #854
Remove pthread fatal check from CMakeLists.txt #891
README: fix links
clarify LICENSE and README #899
Merge #830 'GA_APPEND() and GA_APPEND_VIA_PTR()'
Introduce ga_append_via_ptr() and GA_APPEND_VIA_PTR()
Introduce GA_APPEND()
ga_growsize should be >= 1
keep statusline within window width. @oni-link fix #858
Merge #802 'implement VimL libcall with os_libcall'
libcall: remove libcall ifdefs
os: remove legacy mch_libcall
os: implement VimL libcall with {mch,os}_libcall
Merge #775 'Implement `FileID` struct'
FileID: remove `CHECK_INODE` macro
FileID: remove last use of `st_ino` in memline.c
FileID: make `os_stat()` static
FileID: refactor os_unix.c to use `FileID`
FileID: refactor path.c to use `FileID`
FileID: refactor if_cscope.c to use `FileID`
FileID: refactor file_search.c to use `FileID`
FileID: refactor ex_cmds2.c to use `FileID`
FileID: refactor buffer.c to use `FileID`
FileID: remove `INVALID_DEVICE_ID` macro
FileID: implement `FileID` struct
Merge #887 'Fix #867: cmake doesn't issue `-isystem` for versioned gcc'
Fix #867: cmake doesn't issue `-isystem` for versioned gcc
Merge pull request #844:
Fix #838: build with "USE_BUNDLED=OFF" fails to find dependencies
Add LICENSE. fix #878. PR #883
Merge pull request #872 'Add support for client-side RPC'
channel/msgpack_rpc: Refactor API dispatching
channel/msgpack_rpc: Refactor to better split functions across modules
channel: Implement the  'channel_send_call' function
channel/msgpack_rpc: Refactor msgpack_rpc_notification/serialize_event
channel: Extract function for sending errors that are not responses
channel: Extract 'channel_write' function
job: Add a `maxmem` parameter to job_start
wstream: Make wstream_write consider the return value from uv_write
wstream: Use a default value of 10mb for `maxmem` when 0 is passed
wstream: Refactor buffer memory management
job: Fix vimscript wrapper by returning when an invalid id is passed
event: Decouple user input checks from `event_poll`
event: Bail out of event_poll when any event is processed
update style guide URL
Use generated declarations in cursor.h  #849
coverity/15010: Remove dead code.  #829
vim-patch:7.4.303  #818
vim-patch:7.4.302  #817
vim-patch:7.4.301  #816
vim-patch:7.4.298  #815
Merge #824 'Doxygen neovim.org theme'
update customdoxygen.css for doxygen 1.8.7
update theme to match neovim.org
add default doxygen 1.8.6 theme files
move documentation output to build/doxygen
coverity/68215: removed failed variable + dead code from f_readfile #860
spatch to drop check after alloc/lalloc/xmalloc #690
Merge pull request #845 'Testdir and top-level Makefile improvements'
Make indentation consistent: use 2-space indent always
Use MAKEOVERRIDES to pass SCRIPTS/TESTNUM arguments for `make test`
test1.in is not a test and it must be run always
Avoid ever creating .deps directory
Merge PR #853
api: Add helper macros for dealing with API type casts
api: Enable usage of Arrays and Dictionaries as [k]vectors
api: Change type of event data to `Object` from `typval_T`
api: Rename find_{buffer,window,tabpage}
build: increase timeout for run-api-tests.exp
build: Fix error in dispatch generator for functions with channel_id
events: Refactor how events are queued for processing
events: Refactor event_poll to use stack-allocated timer handles
channel: Make channel_{un}subscribe abort the program for invalid ids
job: Refactor job_write to receive WBuffer instances.
job: Add defer flag and setter method
job: Refactor to use pointers instead of ids
rstream: Implement the rstream_set_defer function
rstream: Rename RStream `async` flag to `defer`
wstream: Refactor wstream_new_buffer/wstream_write
wstream: Change wstream_write failure behavior
msgpack_rpc: Deal with deserialization failures
Merge #787 'removal of redundant OOM error handling'
Remove unnecessary comments and unnecessary return
Refator return logic in ses_put_fname()
No OOM for list_alloc()
Fix some "out of memory" comments and few cosmetics
No OOM in ExpandOldSetting()
No OOM in reverse_text()
No OOM in concat_str() (few remaining cases)
No OOM in vim_strsave_escape_csi()
No OOM in home_replace_save()
No OOM in vim_strsave_fnameescape()
No OOM in enc_canonize()
No OOM in vim_strsave_escaped[_ext]()
No OOM in vim_strnsave_up()
No OOM in popup_mode_name()
au_get_grouparg() can't fail, remove error handling
No OOM in msg_show_console_dialog()
do_map() won't return 4 (OOM) anymore
No OOM in ExpandGeneric()
No OOM in expand_shellcmd()
No OOM in autoload_name()
No OOM in save_cmdline_alloc()
No OOM in list_insert_tv() and list_extend()
No OOM in listitem_alloc()
No OOM in dictitem_copy
No OOM in hash_may_resize() and hash_add_item()
No OOM in dictitem_alloc()
No OOM in dict_alloc() and rettv_dict_alloc()
Merge #743 'Replace vim_strncpy with strlcpy'
Replace vim_strncpy calls: message.c
Replace vim_strncpy calls: eval.c
Replace vim_strncpy calls: screen.c
Replace vim_strncpy calls: ex_docmd.c
Replace vim_strncpy calls: version.c
Replace vim_strncpy calls: spell.c
Replace vim_strncpy calls: syntax.c
Replace vim_strncpy calls: tag.c
Replace vim_strncpy calls: buffer.c
Replace vim_strncpy calls: misc1.c
Replace vim_strncpy calls: hardcopy.c
Replace vim_strncpy calls: quickfix.c
Replace vim_strncpy calls: if_cscope.c
Replace vim_strncpy calls: regexp.c
Replace vim_strncpy calls: fold.c
Replace vim_strncpy calls: ex_getln.c
Replace vim_strncpy calls: menu.c
Replace vim_strncpy calls: option.c
Replace vim_strncpy calls: path.c
Replace vim_strncpy calls: memline.c
Replace vim_strncpy calls: os/fs.c
Replace vim_strncpy calls: os/users.c
Replace vim_strncpy calls: mark.c
Replace vim_strncpy calls: ops.c
Replace vim_strncpy calls: misc2.c
Replace vim_strncpy calls: os_unix.c
Replace vim_strncpy calls: file_search.c
Replace vim_strncpy calls: getchar.c
Replace vim_strncpy calls: add STRLCPY
spelling fixes #827
Merge #774 'Move defines from vim.h to other header files'
removed whitespace from  ROOT_UID define.
Remove unnecessary (int) casts and fix style
move/remove W_* macros
move SST_* defines to syntax_defs
move FINDFILE_* defines to file_search.h
move EW_* defines to path.h
move WILD_* defines to ex_getln.h
move VALID_* defines to buffer_defs.h
move HL_* variables to syntax.h
move values for find_pattern_in_path() to search.h
move update_screen() flags to screen.h
SVG coverage badge #821
Merge #804 'Coverity fix resource leaks 1b'
coverity/13685: silence NUL-termnation fp
coverity/13770: add_keyword(), mark as false pos.
coverity/62615: fix leak in write_reg_contents_ex
coverity/62617: fix leak in set_string_default
Declare garray iterators in the for() scope where possible #819
Add function attributes to functions in memory.h  #811
Prevent null-pointer deference during vim_eval  #785
deleted unused defines in vim.h  #772
Merge #783 'Nul terminate pascal strings'
api: unify string conversions, simplify interop
api: also NUL-terminate Strings made from cstrs
api: remove some redundant string copies
msgpack: NULL terminate incoming strings
Merge #777 'Constify text enc args fix mb_string2cells'
text: remove useless arg from mb_string2cells
text/encoding: constify arguments
vim-patch:7.4.290  #753
vim-patch:7.4.292  #754
Remove USE_CR and tag_fgets. #808
Add more commented patch numbers to version.c (2)  #763
vim-patch:7.4.289  #752
vim-patch:7.4.288  #751
vim-patch:7.4.286  #750
vim-patch:7.4.284  #748
vim-patch:7.4.282  #747
vim-patch:7.4.281  #746
vim-patch:7.4.280  #745
Merge #738 'vim-patch:7.4.275'
vim-patch:7.4.275
Merge #744 'vim-patch:7.4.277'
vim-patch:7.4.277
Fix diagrams in ex_cmds.c #798
Merge branch 'make-gendeclarations-friendly-to-incremental-builds'
Make gendeclarations.lua more friendly to incremental builds
Merge pull request #710 'Automatically generate declarations'
Use generated static declarations in cursor.c
Use generated headers in os.h
Add REAL_FATTR_ macros to func_attr.h, use them in lib/k*
Move memory.h include above func_attr.h include
Remove unneeded klist include in channel.c
Remove a number of unneeded func_attr includes
Add missing include to mbyte.c
Fix some styles
Add include guard to ex_cmds_defs
Make nvim/lib/k*.h headers be the last one in the list
Surround nvim/func_attr.h includes with define/undef DEFINE_FUNC_ATTRIBUTES
Remove remaining declarations with new script: finddeclarations.pl
Add automatic generation of headers
Move documentation from function declarations to definitions
Merge pull request #779 'Add --api-msgpack-metadata command line option'
Rename --api-metadata to --api-msgpack-metadata
Add --api-metadata command line option
Merge #714 'Fix unused variable when NDEBUG is defined'
Fix unused variable when NDEBUG is defined.
Make it easier to turn the bundled dependencies off.
travis/coverity: hotfix #2, unbreak build
travis/coverity: hotfix, alwasy return success
readme: add coverity scan badge
travis/coverity: add coverity support
Merge #782 'Initialize Object, Position'
Initialize Object, Position
Make it easier to change CMAKE_BUILD_TYPE in your local.mk.
Merge branch 'generic-key-value-map'
Refactor: Redefine `Map(T)` as a more generic `Map(T, U)` macro
Turn off -Werror by default.
Add a few more sources to CONV_SRCS.
Merge #500 'Remove/simplify #ifdefs on default features'
Remove unused FEAT_*
Remove FEAT_TITLE
Remove FEAT_GETTEXT
Remove FEAT_POSTSCRIPT
Remove FEAT_FLOAT
Remove FEAT_STL_OPT
Remove FEAT_SESSION
Remove FEAT_SEARCHPATH
Remove FEAT_MENU
Remove FEAT_LISTCMDS
Remove FEAT_EX_EXTRA
Remove FEAT_EVAL
Remove FEAT_CURSORBIND
Remove FEAT_CON_DIALOG
Remove FEAT_COMPL_FUNC
Remove FEAT_COMMENTS
Remove FEAT_CMDWIN
Remove FEAT_CMDL_INFO
Remove FEAT_CMDL_COMPL
Remove FEAT_BYTEOFF
Remove FEAT_CINDENT
Remove FEAT_AUTOCMD
Remove FEAT_QUICKFIX
Remove FEAT_MBYTE
Remove FEAT_DIFF
Removed FEAT_WINDOWS
Merge #674 'Extract cursor.h from misc{1,2}.h and memline.h'
Remove code duplication in get_cursor_rel_lnum
Add cursor.{c,h} to clint-files.txt
Remove ml_ prefix from cursor.h functions
Enable -Wconversion on cursor.c
Extract cursor.h from misc{1,2}.h and memline.h
Merge 'Refactor WStream to enable writing the same buffer to multiple targets'
Channel: Refactor: Extract register_channel function
Channel: Refactor: Extract serialize_event function
Build: Fix autocmd removal from cleanup function
API: Events: Add functions for {un}subscribing to broadcasted events
API: Events: Automatically pass channel ids to API functions
API: Events: Add support for broadcasting events
API: Bugfix: Remove possible double-free in buffer_get_line
Add kvec.h macro library
WStream: Refactor: Use reference count for memory management
Refactor: Use size_t for {w,r}streams.c
Merge #713 'Fix localization'
Fix localization: Update po files.
Fix localization: Fix po files.
Fix localization: Fix build: Improve checking.
Fix localization: Fix build: Fix sjis-fixing executable.
Fix localization: Fix build: Fix sed issue on OSX.
Fix localization: Fix build: Fix included source files.
Fix localization: Fix build: Fix dangling references.
Merge #756 'vim-patch:7.4.267'
vim-patch:7.4.267
Merge branch 'remove-multiple-protocol-support'
Refactor: Remove support for multiple protocols
Merge pull request #749 from oni-link/vim-patch-7-4-285
Merge branch 'api-events'
API: Bugfix: Remove memory leak from buffer_get_line
API: Bugfix: Remove memory leak from buffer_set_name
API: Bugfix: Remove memory leak from buffer_set_slice
API: Bugfix: Remove memory leak from set_option_to
Build: Enable valgrind's --leak-check when testing the API
Build: Add more files to clint-files.txt and fix errors
Build: Add api/{helpers,handle}.c to CONV_SRCS
Build: Add 'nonnull' attributes to msgpack_rpc functions
API: Events: Implement channel_send_event and vimscript wrapper
API: Events: Return channel id from the API discover request
API: Refactor: Close/free channels when their streams reach EOF
API: Refactor: Duplicate/free string arguments coming from msgpack
Dead code: Remove unused vimscript functions(from FEAT_CLIENTSERVER)
Merge pull request #761 'fix a few strncpy calls by using xstrlcpy'
coverity: fix BUFFER_SIZE_WARNING with str{n,l}cpy
memory: add xstrlcpy
Merge #733 'Simplify edit.c functions replace_{push,pop}.'
Simplify edit.c functions replace_{push,pop}.
Add Reddit link to README. ref #704
Merge pull request #757 from elmart/remove-long_u
Remove long_u: hashtab: Enable clint: Add to clint.
Remove long_u: hashtab: Enable clint: Sort clint file.
Remove long_u: hashtab: Refactor other types.
Remove long_u: hashtab: Refactor long_u type.
Remove long_u: hashtab: Enable -Wconversion.
Remove long_u: hashtab: Cleanup: Others.
Remove long_u: hashtab: Cleanup: Comments.
Remove long_u: do_outofmem_msg().
Merge branch 'use-uids-for-api-remote-objects'
API: Test: Setup basic test infrastructure
API: Refactor: Fix buffer_get_mark
API: Refactor: Use macro for initializing all arrays
API: Refactor: Implement buffer_get_number
API: Refactor: Return handles instead of indexes
API: Refactor: Change the integer type of remote objects to uint64_t
API: Refactor: Add macro infrastructure for typed arrays
API: Refactor: Generalize buffer, window and tabpage types/functions
API: Refactor: Register/unregister created/destroyed tabpages
API: Refactor: Register/unregister created/destroyed windows
API: Refactor: Register/unregister created/destroyed buffers
API: Refactor: Implement api/handle module
API: Refactor: Move non-public files to private subdirectory
API: Bugfix: Terminate directory string in vim_change_directory
API: Bugfix: Use 0-terminated string in vim_strwidth
API: Bugfix: Fix loop condition in vim_list_runtime_paths
API: Bugfix: Remove wrong increment statement from buffer_set_slice
API: Bugfix: Check that error isn't set in buffer_get_line
API: Cleanup: Remove unnecessary NULL checks
Merge #739 'Remove OOM error handling in khash.h'
Merge #708 'Remove NULL/non-NULL tests after vim_str(n)save'
vim-patch:7.4.285
Remove OOM error handling in khash.h
Merge pull request #699 'Remove cryptography'
Remove cryptography
Remove OOM checks: suggested changes in review
Remove OOM checks: viminfo_filename()
Remove OOM checks: do_string_sub()
Remove OOM checks: expand_tag_fname() and tag_full_name()
Remove OOM checks: u_save_line()
Remove OOM checks: ff_create_stack_element()
Remove OOM checks: mark_line()
truncate_line() cant't FAIL: change its return type to void
Remove OOM checks: backslash_halve_save()
Remove OOM checks: save_typebuf()
Remove OOM checks: alloc_typebuf()
Remove OOM checks: realloc_cmdbuff()
Remove OOM checks: alloc_cmdbuff()
Remove OOM checks: ml_new_data()
Remove OOM checks: ml_new()
Remove OOM checks: mf_alloc_bhdr()
Remove OOM checks: reverse_text()
Replace alloc() with xmalloc() and remove immediate OOM checks
Remove NULL/non-NULL tests after calls to vim_str(n)save()
Implement vim_str(n)save using xstrdup and strncpy/xmalloc
Merge #735 'nvim namespace fixes regarding YouCompleteMe'
Introduce vim namespace: Contrib YCM: Fix style issues.
Introduce vim namespace: Contrib YCM: Fix build dir calculation.
Merge pull request #732 from tarruda/map-improvements
Improve map module: Refactor vim_to_object_rec
Improve map module: Refactor into a macro library
Improve map module: Change scopes
Improve map module: Fix implementation of map_has
Improve map module: Add to clint and CONV_SRCS
Merge klib upstream.
Fix comment typo.
api/helpers: implement C string to String helper
clint: disregard compound literal return
Fixed outdated comment in option.c
Removed `lalloc` prototype(again)
Fix `xmemdup` function signature
Replace unnecessary `xcalloc` call by `xmalloc`
Enable -Wconversion for API files and fix errors
Use more descriptive names for API primitive types
Refactor API to use one integer type: int64_t
Use `uintptr_t` as the hashtable type in helpers.c
Remove hardcoded type names from msgpack-gen.lua
Replace if (ga->ga_len) with if (!GA_EMPTY(ga))
Replace ga->ga_len == 0 checks with GA_EMPTY(ga)
Replace ga->ga_len > 0 checks with !GA_EMPTY(ga)
s/GA_EMPTY/GA_EMPTY_INIT_VALUE/
Introduce nvim namespace: Fix define guards.
Introduce nvim namespace: Fix contrib youcompleteme.
Introduce nvim namespace: Fix localization.
Introduce nvim namespace: Fix clint.
Introduce nvim namespace: Fix functional tests.
Introduce nvim namespace: Fix unit tests.
Introduce nvim namespace: Fix unmasked strings.h issue.
Introduce nvim namespace: Fix project-local includes.
Introduce nvim namespace: Fix relative includes.
Introduce nvim namespace: Fix build process.
Introduce nvim namespace: Move files.
Tell cmake to use `-isystem` third-party includes
Don't allow undefined references under Linux.
Add ${API_SOURCES} to `nvim-test` cmake target.
Use platform check for correct selection of khash type in helpers.c
API: Implement vim_get_vvar
API: Refactor vim_{get,set}_var
API: Implement tabpage_get_window_count
API: Implement tabpage_is_valid
API: Implement tabpage_get_window
API: Implement tabpage_{get,set}_var
API: Implement window_is_valid
API: Implement window_get_position
API: Implement window_{get,set}_option
API: Implement window_{get,set}_var
API: Implement window_{get,set}_{height,width}
API: Implement window_{get,set}_cursor
API: Implement `window_get_buffer`
Add new files to clint and fix reported errors
API: Implement `buffer_get_mark`
API: Implement `buffer_is_valid`
API: Implement `buffer_insert`
API: Implement buffer_{get,set}_name
API: Implement buffer_{get,set}_option
API: Implement buffer_{get,set}_var
API: Implement functions for deleting lines
API: Refactor buffer_{get,set}_line
API: Implement buffer_{get,set}_slice
API: Implement buffer_get_length
API: Implement window/tabpage switching functions
API: Implement buffer switching functions
API: Implement vim_get_buffer_count
API: Implement vim_{out,err}_write
API: Implement vim_{get,set}_option
API: Implement vim_{get,set}_var
API: Move vim_to_object to helpers.c
API: Implement vim_set_current_line
API: Extract error boilerplate into a macro
API: Implement buffer_{get,set}_line
API: Move helper functions to another module
API: Implement vim_change_directory
API: Implement vim_list_runtime_paths
API: Implement vim_strwidth
API: Implement vim_eval
API: Implement vim_command
Fix jumps depending on unitialized values
Add server module for accepting API connections
Add channel module
Refactor API types and prototypes
Fix update of pending_reqs in `write_cb`
Add teardown function for the event.c module
Refactor modules to use handle data accessors
Add helpers for accessing data in libuv handles
Implement generic map on top of khash
Add --with-pic flag to msgpack configuration
Merge #688 'Refactoring of two-iteration anti-pattern in msg_show_console_dialog()'
Style corrections in the two new functions
Add new functions for memory alloction & data copy
Simple Split 2-iter loop: msg_show_console_dialog
remove unused parameter from `buf_store_file_info`
Merge pull request #619 from stefan991/mch_stat-cleanup
removed mch_lstat() and mch_stat() macros
replaced last mch_stat() and mch_lstat()
replaced mch_stat() in buffer.c
replaced some mch_lstat()
replaced some mch_stat() with os_get_file_info()
replaced mch_fstat() with os_file_get_info_fd()
implemented FileInfo struct
implemented os_file_get_size()
use os_getperm() in f_getfperm()
replaced some mch_stat() with os_file_exists()
Update CONTRIBUTING.md with current info
update CONTRIBUTING.md
Delete the lalloc() function
No OOM error in make_filter_cmd()
Replace lalloc() with xmalloc()
coveralls upload should not fail the CI build
Merge pull request #644 from philix/log
Prevent preserve_exit() from executing more than once.
Introduce os_localtime_r() and os_get_local_time()
Macro-based log utility for Neovim
Use REGEXP_DEBUG to enable log-based regexp debugging
removed `vim_free()` function
replaced `vim_free()` calls with `free()` calls
Replace vim_free() implementation
vim-patch:7.4.274
Use portable format specifiers: Case %lu - localized - EMSGU.
Use portable format specifiers: Adapt/fix EMSGU/emsgu to use (uint64_t).
Fix unit test cleanup of path_shorten_fname_if_possible.
Remove unused function vcol2col.
Remove unused function cmdline_at_end.
Remove unused function cmdline_overstrike.
Remove undefined function clip_yank_selection.
Remove unused function get_fpos_of_mouse.
Remove unused function is_autocmd_blocked.
Remove undefined function adjust_clip_reg.
Remove unused function free_register.
Remove undefined function server_to_input_buf.
Remove unused function unset_global_local_option.
Remove undefined function gui_show_popupmenu + its unused return defines.
Remove undefined function gui_show_popupmenu + call.
Remove unused function yank_cut_buffer0.
Remove unused function push_raw_key.
Remove unused function vim_free_in_input_buf.
Remove undefined function suspend_shell.
Remove unused function ui_inchar_undo.
Remove unused function highlight_gui_color_rgb.
Remove unused function re_lookbehind.
Remove unused function get_shape_idx.
Remove unused function handle_drop.
Remove unused function add_long_to_buf.
Remove undefined functions.
Generate a lua module to help pass build-related settings.
Remove project int types: Case long_i: Replace with plain long.
Remove project int types: Case int_u: Replace with uint32_t.
Remove project int types: Case short_u: Replace with uint16_t.
Do not detect macros like VIM_TRUE as boolean values
Improve test_eval.in
Update README: progress section
Rename buf_modname to modname as they've become the same
Remove the always-FALSE shortname argument from buf_modname()
Remove the code related to the shortname option
Don't retry to make the tempname in write_viminfo() with shortname=1
Remove checks for SHORT_FNAME and USE_LONG_FNAME.
Remove two-iteration loop from check_keyword_id
Remove two-iteration loop from expand_filename
Remove two-iteration loop from ExpandGeneric
Move `concat_strings` from path.c
Extract strings.c from misc2.c
Added missing #define guards in headers
Replace 'alloc' with 'xmalloc' in some files.
revert #652
Remove incorrect trailing backslash
vim-patch:7.4.272
build: remove unnecessary flag from CMAKE_FLAGS
Remove NUL macro
vim-patch:7.4.268
Refactor test_eval
vim-patch:7.4.269
vim-patch:7.4.266
Changed variable types to fixed-size.
Added crypt.h doxygen comments.
Cleanup crypt.h/.c to follow the style guide.
Cleanup
Call to rettv_list_alloc cannot fail.
Call to list_append_tv cannot fail.
Call to list_append_number cannot fail.
Updated comments in spell.h/.c to follow the style guide.
vim-patch:7.4.262
garray: comment and refactor a bit more
garray: refactor and optimize ga_concat
garray: make parameter of ga_concat_strings const
garray: add unit tests for ga_concat_strings_sep
garray: implement ga_concat_strings_sep
garray: reimplement ga_concat_strings with stpcpy
memory: implement xstp(n)cpy
garray: refactor ga_grow
garray: add unit tests
Test and refactor `shorten_fname` and `shorten_fname1`
Remove `shorten_filenames` (dead code)
Merge pull request #620 from watk/remove-dead-feats
Remove references to FEAT_{X11,CLIPBOARD} and USE_XSMP.
test: no longer define ad-hoc C headers
test: fix the cimport method
path: add 'garray.h' to headers
vim-patch:7.4.241
vim-patch:7.4.265
README: Use SVG badge for Travis
Hold java packages to speed up build
vim-patch:7.4.264
Use portable format specifiers: Improve arguments formatting.
Use portable format specifiers: Clarify some casted expressions.
Fix garray.* according to -Wconversion
Use portable format specifiers: Case %ld - plain - sscanf.
Remove useless modelines (pt2)
Call to list_append_string cannot fail.
Call to list_append_dict cannot fail.
Remove code and checks for unsupported systems.
Remove `alloc_clear`
Remove deprecated "--use-mirrors"
vim-patch:7.4.260
Tests: prettify Makefile
vim-patch:7.4.261
Broken build on 32 bit: Pending TODO: Reenable assertion.
Add the neovim style guide to the contributing guide.
Remove O_EXTRA which was only for EMX and cygwin.
Remove mch_screenmode, inline EMSG into ex_mode()
Add cast to unsigned to improve div by 2 in find_internal_func()
Use /2 and 2* instead of >>1 and <<1 which are tricky with signed types
Remove OOM test in set_context_in_menu_cmd()
No OOM error condition in some ml_* functions
No OOM error condition in get_register() and yank_copy_line()
Add FUNC_ATTR_NONNULL_RET to some functions
No OOM error conditions in quickfix.c and regex_nfa.c
No OOM error in call_shell() and read_string()
No OOM error conditions in some functions of window.c
No OOM errors in mb_str2wide, slang_alloc, open_spellbuf
No OOM error condition in cs_make_vim_style_matches()
No OOM error condition in save_patterns()
No OOM error condition in prt_build_cid_fontname()
No OOM error condition in ga_concat_strings(), concat_fnames(), concat_str()
No OOM error condition in prep_exarg()
(verbose_)?try_malloc() to use on buf_write()
Use xmalloc() and xmemdupz() in file_pat_to_reg_pat()
vim-patch:7.4.237
Install the libncurses5-dev:i386 package to get the correct symlinks.
Allow a single unittest file to be run.
Make it easy to get a verbose build of Neovim.
Use portable format specifiers: Clint advice & other.
Use portable format specifiers: Case %l[uoxX] - *.po files.
Use portable format specifiers: Remove dead code.
Use portable format specifiers: Case %lu - localized - EMSGN.
Use portable format specifiers: Case %l[uoxX] - plain - sprintf.
Use portable format specifiers: Support 'll' in vim_snprintf.
Use portable format specifiers: Case %ld - *.po files.
Use portable format specifiers: Case %ld - localized - N_.
Use portable format specifiers: Case %ld - localized - EMSGN.
Use portable format specifiers: Case %ld - plain - EMSGN.
Use portable format specifiers: Adapt EMSGN/emsgn to use (int64_t).
Use portable format specifiers: Case %ld - localized - vim_snprintf_add.
Use portable format specifiers: Case %ld - localized - vim_snprintf.
Use portable format specifiers: Case %ld - plain - vim_snprintf.
Use portable format specifiers: Case %ld - localized - smsg.
Use portable format specifiers: Case %ld - plain - smsg.
Use portable format specifiers: Case %ld - plain - fprintf.
Use portable format specifiers: Case %ld - localized - sprintf.
Use portable format specifiers: Case %ld - plain - sprintf.
Use portable format specifiers: Remove branching with LONG_LONG_OFF_T.
Use portable format specifiers: Case %lld - localized - sprintf.
Use portable format specifiers: Case %lld - plain - sprintf.
Fix clint.sh wrapper script and broken files
Configure travis to perform a 32-bit build
Use libtinfo as a fallback for curses
Broken build on 32 bit: Fix -Wtautological-constant-out-of-range-compare.
Broken build on 32 bit: Fix -Wshorten-64-to-32.
inline the rest of os_unixx.h into os_unix.c
cleanup os_unixx.h
Remove sizeof(int) < 4 related code
Remove proto as an include directory.
Allow USERNAME to be specified on the command line.
Remove dead code in clint.py
fix -Wconversion warnings for rstream
Add the -Wconversion flag for some files.
Remove "h" flag of 'highlight' option
Remove 'textauto' option
Replace explicit uv_guest_handle(fd) == UV_TTY by os_isatty
Removed mch_input_isatty
Removed mch_check_win
Added os_isatty
I donated > 50 $, should be with URL
use fixed-width types to define u8char_T
vim-patch:7.4.236
Remove `lalloc_clear`
Add missing names to BACKERS.md
Fix bug of `job_stop` not emitting `JobExit`
Remove unnecessary cleanup label from `job_start`
Free job data on close_cb
Stop job prepare watcher when there are no jobs
Refactor job.c module to use WStream
Extract writing boilerplate into wstream.c module
Correctly free libuv handles
Refactor job control to use RStream events
Create EventType for RStream reading
Deal with backpressure on RStream instances
update backers.md with bountysource survey responses
Correct 'RichiH' name in BACKERS.md
vim-patch:7.4.226
vim-patch:7.4.245
Remove 'textmode' option
Handle special KE_EVENT case where maxlen < 3
Configure travis to use prebuilt dependencies
Remove modelines
Refactor input module to use RStream class
Refactor job control module to use RStream class
Extract reading boilerplate into rstream.c module
Initialize a variable.
vim-patch:7.4.253
vim-patch:7.4.251
vim-patch:7.4.240
vim-patch:7.4.239
vim-patch:7.4.234
vim-patch:7.4.233
vim-patch:7.4.232
vim-patch:7.4.229
vim-patch:7.4.221
vim-patch:7.4.218
vim-patch:7.4.215
vim-patch:7.4.219
vim-patch:7.4.213
vim-patch:7.4.210
vim-patch:7.4.209
Bump LuaJIT to version 2.0.3
Add more commented patch numbers to version.c
vim-patch:7.4.207
Fix unit tests
Bring neovim up to date with recent libuv changes
vim-patch:7.4.191
vim-patch:7.4.205
vim-patch:7.4.204
Add lpeg as explicit third-party dependency
Add checks for lpeg/cmsgpack lua packages
Use cmake to find a lua executable
vim-patch:7.4.203
Rename os_total_mem to os_get_total_mem_kib.
vim-patch:7.4.167
vim-patch:7.4.193
vim-patch 7.4.199
updated readme header
Add `msgpack_rpc_dispatch`/metadata generator
Implement msgpack-rpc helper module
Add empty implementations of the remote API
Configure cmake option to download/install msgpack
Add cmake module for finding msgpack
vim-patch:7.4.192
removed vim_mkdir macro
removed mch_rmdir macro
removed mch_remove macro
port vim_mkdir, mch_rmdir and mch_remove to libuv
No error condition in push_current_state()
No error condition in store_loop_line()
No error condition in get_arg_list()
alist_add_list() doesn't return -1 anymore
No error condition in foldInsert()
Remove OOM error handling code after ga_grow() calls
Remove OOM error handling code after calls to mf_hash_grow()
Remove OOM error handling code after calls to transstr()
Remove OOM error handling code after calls to diff_alloc_new()
Remove more OOM error handling code
Replace `alloc_check` by `xmalloc`
vim-patch:7.4.187
Fix broken build due to unit test include order
vim-patch:7.4.186
Move exe functions back to os/fs.c
Change prefix from `os_*` to `path_*`
Move and adapt `os_get_absolute_path` unit tests to `vim_FullName`
Move functions from os/fs.c into path.c
Add some missing backers and remove duplicates
Sort backers.md
Remove donation value from backers.md
Remove old comment from job.c
Define special key for asynchronous events
Fix/add more files with to clint-files.txt
Run clint.py in some files
vim-patch:7.4.184
Remove #ifdef FEAT_WINDOWS from vim-patch:7.4.181
vim-patch:7.4.181
Format backers list
Add BACKERS.md
Implement job control
Added clint check for TRUE/FALSE
Use stdbool in os module
Turn Event into a tagged union
Reimplement the event queue in event.c using klist.h
Implement xcalloc and use it in klist.h (use xrealloc as well)
Add klib.h to src/lib
Remove simpler cases of OOM error handling (after *alloc calls)
Simplify tricky preprocessor tests in ff_check_visited()
Remove unneeded variable `in_os_delay`
Add comments and fix `os_microdelay` call
Remove `RealWaitForChar` and `mch_new_shellsize`
Implement os_microdelay and os_delay on top of it
Replace `strdup` calls by `xstrdup`
Implement `xstrdup` and `xstrndup`
vim-patch:7.4.178
Use early return for rejecting_deadly in signal_cb
vim-patch:7.4.173
Moved mch_get_host_name and renamed it to os_get_hostanme
Moved mch_get_pid and renamed it to os_get_pid
vim-patch:7.4.171
Remove the old `mch_call_shell` implementation
Rewrite `mch_call_shell` on top of libuv
Stop queueing events when signals are rejected
Add helpers for debugging with valgrind
vim-patch:7.4.172
Remove mblen() check
Remove xterm_save
Remove xpm
Remove tcl
Remove ole
Remove mzscheme
Remove python, perl, lua, ruby
Remove Xim
Remove clientserver
Remove BalloonEval
Remove HPUX and Vim 5.x compatible digraphs
Remove SniFF
Remove Amiga stuff
Remove netbeans and sun workshop
remove reference to BROKEN_TOUPPER
remove pchar from macros.h
remove MB_{IS,TO}{UPPER,LOWER}
remove DO_AUTOCHDIR
Remove unused define
Removed not defined prototypes in os_unix.h
vim-patch:7.4.170
Possible string literals that have to be replaced
Try to find all other instances of vimrc and gvimrc and prefix them  with n
Extract memory.c from misc2.c
vim-patch:7.4.169
Restore vim_rename
Replace mch_rename and vim_rename with libuv
Changed testdir/Makefile to use Makefile wildcards instead of SUFFIXES
Fix #451: Build broken on OSX.
Remove `mch_call_shell` GUI printing code
Remove `:shell` and `suspend_shell`
Remove support for running interactive programs
Rename FPC_* constants.
Initialize on declaration; use postincrements.
Fix seperator->separator, path_tail_with_separator->path_tail_with_sep.
Test and refactor getnextcomp -> path_next_component.
Test and refactor gettail_sep -> path_tail_with_seperator.
Test and refactor gettail -> path_tail.
Refactor fullpathcmp -> path_full_compare.
Add os_stat to os/fs module.
Move gettail_dir more closely to its usage.
Make FPC_* defines an enum type in path.h.
added doxygen documentation for os_file_is_{readonly, writable}
cleaned up the readonly check in readfile()
remove mch_access macro as it is only used in fs.c
move filewritable() into /src/os/fs.c and rename it
move check_file_readonly() into /src/os/fs.c and rename it
check readonly by trying to open the file for writing...
Force travis build failure when some test fails
Use check_symbol_exists() instead of check_function_exists().
vim-patch:7.4.166
Replace use of mch_rename with rename.
remove HAVE_FCHDIR
remove HAVE_DL{OPEN, SYM}
remove HAVE_WCTYPE_H
remove HAVE_WCHAR_H
remove HAVE_USLEEP
remove HAVE_SYS_{POLL_H, RESOURCE_H, SYSCTL_H, TYPES_H}
remove HAVE_SYSINFO and HAVE_SYSINFO_MEM_UNIT
remove HAVE_SVR4_PTYS
remove HAVE_STRTOL
remove HAVE_STRPBRK
remove HAVE_STRING_H
remove HAVE_STRFTIME
remove HAVE_STRERROR
remove HAVE_STDLIB_H
remove HAVE_SIGCONTEXT
remove HAVE_RENAME
remove HAVE_FLOAT_FUNCS
remove HAVE_DATE_TIME
Delete os_delay unit test.
Move signal handling to libuv event loop
Move shorten_filenames back to fileio.c
Move match_suffix from misc1.c
Move expand_wildcards{,_eval} from misc1.c
Move shorten_fname{,1,s} and shorten_filenames from fileio.c
Move mch_expandpath from os_unix.c
Move pathcmp from misc2.c
Move same_directory from misc2.c
Move after_pathsep from misc2.c
Move fix_fname from buffer.c
Move functions from window.c
Move simplify_filename from tag.c
enable coveralls support
remove HAVE_{ISWUPPER,ISWLOWER,TOWUPPER,TOWLOWER}
remove HAVE_STDARG_H
remove HAVE_STDINT
remove HAVE_INTTYPES
remove HAVE_MATH_H
remove HAVE_MEMSET
remove HAVE_MEMCMP
remove HAVE_BCMP
remove HAVE_ERRNO
remove HAVE_SETJMP_H
Remove feature HAVE_QSORT
alloc: xmalloc and xrealloc can't return null
func-attr: add some extra handy function attrs
func-attr: clang 3.5 doesn't support alloc_size
Rename ga_init2() to ga_init()
Inline ga_init()
Fix shell.{c,h} comments to match the style guide
Add doxygen comments to the functions in shell.c
Rewrite `show_shell_mess` as a `ShellOpts` flag
Update `call_shell` signature to use `ShellOpts`
Refactor SHELL_* defines into enum typedef
Refactor/cleanup argument parsing functions
Extract `shell_build_argv` from `mch_call_shell`
Make `extra_shell_arg` a `mch_call_shell` parameter
Extract `shell_count_argc` from `mch_call_shell`
Extract `shell_skip_word` from `mch_call_shell`
Split code for counting and parsing arguments
Add doxygen-style comments to functions from os/fs.c.
Add basic Doxyfile.
xrealloc(): similar to xmalloc()
Document xmalloc() and deprecate lalloc()
Avoid a seg fault when exiting after OOM error
xmalloc() that succeeds or gracefully aborts
update readme: "progress" section; formatting
Force the `cmake` target to re-run the CMake configuration.
Use the clang 3.4 release tarball instead of apt for clang 3.4.
Re-integrate FEAT_SIGNS code, close #383
use function attributes on allocation functions
add func_attr.h to be able to use func attribs
Move remove_duplicates to garray.c
Extract path.c from misc1.c
Drop the deb-src for clang.
Append to CMAKE_PREFIX_PATH instead setting it outright.
Address clint warnings and other style issues.
Rename mch_* functions to os_* in os module.
Fix prepare watcher teardown in the event loop
Re-integrate FEAT_FILTERPIPE code
Make `EventType` enum private to input.c
Don't use alias in travis.sh.
More cleanup
remove leftover c++ headers
remove some leftover function calls
remove cpp headers
remove cpp file extensions
remove CleanseRawStrings
remove C++ only _NestingState parts
clean up CheckForNonStandardConstruct
remove C++ stuff from CheckSpacingForFunctionCall
remove C++ stuff from CheckSpacing
remove CheckSectionSpacing
remove unused function
remove some unused variables
remove C++ only stuff from CheckLanguage
remove "stream check" from CheckIncludeLine
remove CheckForNonConstReference
remove CheckCStyleCast
remove CheckForIncludeWhatYouUse
remove CheckMakePairUsesDeduction
Cleanup of indent.c to make it comply with style guide.
Reimplement input functions on top of libuv
Use realloc instead of vim_realloc
HAVE_AVAIL_MEM is always undefined. Remove tests and dead code
Remove MEM_PROFILE related code
Use memcmp instead of vim_memcmp
Use memmove instead of mch_memmove
Prefer enums over incremental defines
Use memset instead of vim_memset
Do not include farsi.c in main.c
Move some #defines from farsi.h to farsi.c
Fail RunUnittests if we get a non-zero exit code from busted.
fix mch_delay() unittest
Implement `mch_delay` on top of libuv
inline arabic_char()
Reformat new function in arabic.c to comply with style guide
Move arabic.h #defines from arabic.h to arabic.c
Turn ARABIC_CHAR into a function
Don't require busted.
Update to the newest libuv version
Workaround the broken progress feedback in some versions of CMake.
Deal with the missing dependencies for libuv.
Revamp the build system.
printer_opts was left unitilized after #378
No longer try to use standalone termcap
Homebrew formula builds dependencies through make
adapt to the style guildelines
Delete structs.h by spliting it and moving code to other headers
Removed testing for Homebrew installs
Issue #311 - Clean up blowfish.c/h, charset.c/h, diff.c/h, digraph.c/h, garray.c/h, hashtab.c/h, popupmnu.c/h, sha256.c/h, version.c/h. Update uncrustify to move logical operators to the beginning of the line when splitting. Also, clean up arabic.c/h and farsi.c/h
minimize readme
Revive vim_fname (-> os_file_exists); fix misuse of mch_getperm.
Move and refactor mch_[gs]etperm to os/fs module.
Add unit tests for mch_[gs]etperm.
Moved more functions from misc1.c to indent.c
Use include paths relative to src/
Adapt include guards to the style guide
Extract indent_c.c from misc1.c
Remove useless sizeof(uint32_t) == 4 test
Replace UINT32_T by uint32_t
Include <stdint.h> in types.h
add .vimrc and src/.ycm_extra_conf.py
Remove remaining hangul-related code
Fix: Use an assert to make sure, an error message can be copied into buffer buf in mch_dirname().
refactored part of expand_env_esc() into mch_get_user_directory()
removed get_user_name() and replaced calls with mch_get_user_name()
moved mch_get_user_name() and mch_get_uname() into os/users.c
refactored logic from init_users() into mch_get_usernames()
Refactor travis build to use clang's sanitizers
Remove CURSOR_SHAPE #ifdef tests
Extract cursor_shape.c from misc2.c and types/consts from structs.h
Move exarg_T and cmdarg_T from structs.h to normal.h
Extract pos.h from structs.h
Change neo* configurations to n* configurations
use more verbose output type for unittests on travis
Fix bugs, clean code, add tests.
Remove unused return values.
Move definition of helper function below their usage.
Simplify mch_can_exe extracting is_executable_in_path.
Declare is_executable as static and remove its unit tests.
Move mch_can_exe, executable_file to os/fs.c.
Add another unit test to mch_can_exe.
Make script portable across Python versions
Added MODIFIED_BY and updated version information.
Fix memory leak in `eval7`
Fix `free_all_mem` and EXITFREE definition
Issue #311 - Clean up arabic.c, arabic.h, farsi.c, farsi.h. Tweaks to uncrustify.cfg.
Remove hangul input support
Use check_function_exists() to check for _NSGetEnviron().
Move some types and consts from structs.h to other headers
Move garray_T from structs.h to garray.h
Fix memory leak and enable valgrind on travis
Luarocks appears to be down, so let's use the mirror for now.
cleanup environment variable handling + unit tests
Fix style issues.
Extract keymap.c from misc2.c
Extract crypt.c from misc2.c
Issue #66 - Add lint tool and uncrustify config. Update contributing documentation on coding style.
Remove USE_SYSTEM and code only run under USE_SYSTEM
Implement pending test.
Port mch_isdir to libuv.
Add unit tests for executable_file and mch_can_exe.
Remove static declaration of executable_file.
Add unit tests for mch_isdir.
Assert that vim_strsize and vim_strnsize gets a non-null parameter.
Apply small refactor to unit tests
Correct a few parentheses.
Rename and refactor mch_FullName.
Anchor gitignore paths
README.md: Fixed brew install instructions
Move some of misc1.c to indent.c.
Remove traces of old custom undo memory manager.
Remove dead stack-checking code.
Add unit tests for ported filesystem functions.
Make Travis compile on GCC and Clang.
Use -Werror.
Remove __ARGS macro. Close #205
homebrew: deparallelize build
Fixed nvim homebrew formula
README.md: remove lingering references to sha1sum in OSX instructions
Adding darwin platform to common.sh build script
Be more explicit about OS X deps installation
Clean-up main.c: follow STRNICMP replacement.
Use $(MAKE) instead of ${MAKE}, and fixup two more make invocations.
CONTRIBUTING.md: mention coding style
Extract file_search.c from misc2.c
Added a types.h with vim.h unsigned int typedefs.
MAKE: ask gnulikes to warn and be pedantic + fixes
Fix a 'garbage value' warning found by Clang's static analyzer
Setup better warning flags for Clang.
Only include libintl's include dir if libintl was found.
Use _NSGetEnviron on Mac OS X to gain access to environ.
Include "garray.h" in ex_cmds2.c
Extract garray.c from misc2.c
Use cmake module instead of shared for nvim-test
Add unit test running to travis again
Compile libuv with -fPIC.
Disable unit tests until fixed for travis
Add more example unit tests and run with travis
Add basic infrastructure for unit testing
CMakeLists: Improve handling of libintl
CMakeLists: Use nvim target name
Improve libintl detection and linking.
Use GNU gettext from homebrew on Mac if available
Merge pull request #187 from rjw57/issue-179
Import luajit 2.0.2 source tree
README.md: fix anchor tags for CentOS/RHEL section
README: add note on RHEL/CentOS 6
Use CMAKE_C_FLAGS variable to set compiler flags.
Merge pull request #183 from rjw57/issue-178
Merge pull request #184 from equalsraf/tb-curses
README.md: fix anchor tags for CentOS/RHEL section
README: add note on RHEL/CentOS 6
Merge pull request #180 from pmandera/readme-links
Anchors and reorder in dependency lists of README.md
Use FindCurses to find curses libraries
Fixed header levels in markdown
Enable stderr for test in travis
Modify travis configuration to install valgrind
Remove -e option from travis shell script
Fix travis script
Add test reporting to travis script
Enable valgrind when testing on travis
Markdown fix + MacPorts URL
README: Add support for custom brew installations
Merge branch 'pr36'
Merge branch 'master' into pr36
Add valgrind suppression file
Temporarily remove valgrind check in travis build
Add configuration to help debug memory leaks
Merge pull request #172 from rjw57/issue-171
Makefile: use static linkage with bundled libuv
CMake: add LibUV_USE_STATIC configuration variable
Merge pull request #134 from HungMingWu/master
Merge pull request #123 from jbranchaud/adding-contributing-doc
Merge pull request #157 from Hywan/readme
Merge pull request #166 from rkmathi/issue-165
#165 fix README.md for Building OS X
Merge pull request #163 from rjw57/issue-162
Makefile: use "make -C build" idiom
link to rt if it provides clock_gettime
prefer linking to static libuv
CMakeLists: remove hardcoded .deps directory
make use of libuv when found by CMake
Makefile: fetch deps before running CMake
automatically discover libuv in CMake
Makefile: add .deps/ to CMake prefix path
add LibFindMacros CMake macro library
add custom CMake module path
Remove final build warning
Remove implicit declaration of vim_strrchr and vim_strncpy
Fix Markdown syntax.
Merge branch 'bundle-libuv' of github.com:rjw57/neovim into rjw57-bundle-libuv
Removes 'proto' dir
Delete local function strerror and USE_GETCWD define.
os_unix: Port mch_FullName and mch_isFullName to libuv.
Rebased the following three commits onto one another:
Modify travis script to remove testing noise
os_unix: Use libuv uv_cwd instead of getcwd/getwd.
add installation as a travis test
Makefile: allow configuration of CMake flags
Makefile: add install target
CMakeLists: add install target for nvim
add required dependency on Debian/Ubuntu system
Add local.mk include in makefile
Arch linux link in TOC had the wrong indentation
silence tar when getting libuv
Silenced wget's progress bar
Added curl support and one test
Add missing include guard to os module
Create new OS module
move libuv functions to os.c and io.c module
os_unix: use libuv total memory function
os_unix: switch to libuv chdir() function
os_unix: add #include for libuv
README.md: cosmetic fixes
Changed name of binary (vim -> nvim).
Add link to mailing list
Merge pull request #85 from jszakmeister/remove-bashisms
Merge pull request #79 from jdiez17/has_neovim
Fix space in link
Add table of contents to README.md
use CMake's built in pthread detection
Merge branch 'master' of github.com:cweagans/neovim into cweagans-master
Changed binary output directory from src/ to bin/
Put waffle and travis badge together
Use neovim versions of ~/.vim and ~/.vimrc
Merge pull request #105 from waffleio/master
add waffle.io badge
Convert function declarations from K&R to ANSI style.
Fix previous commit
Fix anchors
third-party: add note on role of directory
Makefile: refer to renamed compile-libuv.sh
get-libuv.sh: compile bundled libuv
Merge commit 'a302c65dc65896776d6cb9e2c89a6ccc77ada530' as 'third-party/libuv'
Squashed 'third-party/libuv/' content from commit 3c40224
Merge pull request #98 from davidzchen/doc-ca-bundle
Issue #97 - Add documentation on installing root SSL certificates on OS X, which is required for retrieving the libuv archive before building.
Updating README file to use Homebrew for local builds
Adding `make` step
Adding neovim formula for Homebrew
scripts/common.sh: remove a couple bashisms
Added 'neovim' to the feature list, following discussion on #44
Merge pull request #54 from mitchellwrosen/master
README.md: fix ubuntu/debian deps
Merge pull request #57 from mrshu/patch-1
Fixed travis image
Clean up main.c:parse_command_name
First pass on getting build working on FreeBSD.
Merge pull request #22 from cmrosenberg/osx-automake
Add travis-ci configuration
Merge pull request #47 from Coornail/ignore-test-vimrcs
Added automake as a dependency when building on OS X. Otherwise build complaints of missing aclocal.
Remove trailing spaces from gitignore
README.md: link to the Contributing wiki page
Cleanup refactoring in main
Add modeline with tw per @ashleyh's suggestion
Merge pull request #35 from thiderman/master
include a copy of the Vim License
Change Ubuntu 12.04 to Ubuntu/Debian in README.md
Add Arch instructions (merged from GH-35).
Remove trailing whitespace in README.md
Clean up README.md
Add Arch dependency instructions to README.md
Merge pull request #32 from cweagans/patch-1
Adding note about IRC channel in README.
Merge pull request #20 from andyfischer/master
Add libtool to OSX installs
Merge pull request #14 from sbeckeriv/patch-2
Update README.md
Merge pull request #11 from sbeckeriv/patch-1
Update README.md
Merge pull request #8 from mmcdole/patch-1
Merge pull request #9 from yesmeck/patch-1
Fix cmake link in README
Fix spelling mistakes in README.md
Merge pull request #6 from davertron/master
Merge pull request #7 from Coornail/osx-build-instructions
Add dependency install instructions for OsX
Fix misspellings/grammar in README
Merge pull request #5 from jsjohns/patch-1
Fix spelling
Add fundraiser link
Update documentation
Set language of first json-rpc block
Quote GUI diagram
Fix some typos in README
Document plans for the project
Merge pull request #2 from ashleyh/master
fix build on OSX
Wrap calls to 'get_mess_env' into LIBINTL #ifdefs
Set vim binary as default make target
Automate libuv download and build
Remove more #ifdef dead code
Fix build on OSX/Archlinux and add README
Import vim from changeset v5628:c9cad40b4181
